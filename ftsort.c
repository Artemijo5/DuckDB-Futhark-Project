// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182725, struct memblock ks_mem_181052, int64_t n_110657);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182726, struct memblock ks_mem_181052, int64_t n_110488);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182727, struct memblock ks_mem_181052, int64_t n_110153);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182728, struct memblock ks_mem_181052, int64_t n_110319);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182729, struct memblock ks_mem_181052, int64_t n_109987);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182730, struct memblock *mem_out_p_182731, struct memblock xs_mem_181052, int64_t n_108150, int64_t incr_108151);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182742, struct memblock *mem_out_p_182743, struct memblock xs_mem_181052, int64_t n_105806, int64_t incr_105807);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182754, struct memblock *mem_out_p_182755, struct memblock xs_mem_181052, int64_t n_101119, int64_t incr_101120);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182766, struct memblock *mem_out_p_182767, struct memblock xs_mem_181052, int64_t n_103462, int64_t incr_103463);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182778, struct memblock *mem_out_p_182779, struct memblock xs_mem_181052, int64_t n_98775, int64_t incr_98776);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182790, struct memblock *mem_out_p_182791, struct memblock *mem_out_p_182792, int64_t *out_prim_out_182793, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_163296, int64_t nb_163297, int64_t window_sizze_163298, int64_t threads_163299, bool inParallel_163302);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182844, struct memblock *mem_out_p_182845, struct memblock *mem_out_p_182846, int64_t *out_prim_out_182847, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_152773, int64_t nb_152774, int64_t window_sizze_152775, int64_t threads_152776, bool inParallel_152779);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182898, struct memblock *mem_out_p_182899, struct memblock *mem_out_p_182900, int64_t *out_prim_out_182901, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_131727, int64_t nb_131728, int64_t window_sizze_131729, int64_t threads_131730, bool inParallel_131733);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182952, struct memblock *mem_out_p_182953, struct memblock *mem_out_p_182954, int64_t *out_prim_out_182955, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_142250, int64_t nb_142251, int64_t window_sizze_142252, int64_t threads_142253, bool inParallel_142256);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_183006, struct memblock *mem_out_p_183007, struct memblock *mem_out_p_183008, int64_t *out_prim_out_183009, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_121204, int64_t nb_121205, int64_t window_sizze_121206, int64_t threads_121207, bool inParallel_121210);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183060, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109818, int64_t incr_109819, int64_t block_sizze_109820);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183061, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109484, int64_t incr_109485, int64_t block_sizze_109486);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183062, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_108820, int64_t incr_108821, int64_t block_sizze_108822);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183063, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109150, int64_t incr_109151, int64_t block_sizze_109152);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183064, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_108486, int64_t incr_108487, int64_t block_sizze_108488);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183065, struct memblock *mem_out_p_183066, struct memblock xs_mem_181052, int64_t n_96319, int64_t incr_96320, int16_t block_sizze_96321);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183092, struct memblock *mem_out_p_183093, struct memblock xs_mem_181052, int64_t n_93564, int64_t incr_93565, int16_t block_sizze_93566);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183119, struct memblock *mem_out_p_183120, struct memblock xs_mem_181052, int64_t n_88213, int64_t incr_88214, int16_t block_sizze_88215);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183146, struct memblock *mem_out_p_183147, struct memblock xs_mem_181052, int64_t n_90813, int64_t incr_90814, int16_t block_sizze_90815);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183173, struct memblock *mem_out_p_183174, struct memblock xs_mem_181052, int64_t n_85596, int64_t incr_85597, int16_t block_sizze_85598);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183200, int32_t bit_83444, int16_t x_83445);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183201, int32_t bit_88661, int64_t x_88662);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183202, int64_t upper_bound_96343, int64_t n_96344);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9144(struct futhark_context *ctx, struct memblock *mem_out_p_183203, struct memblock xs_mem_181052, int64_t n_82741, int64_t incr_82742);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9299(struct futhark_context *ctx, struct memblock *mem_out_p_183204, struct memblock xs_mem_181052, int64_t n_85621, int64_t incr_85622);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9409(struct futhark_context *ctx, struct memblock *mem_out_p_183205, struct memblock xs_mem_181052, int64_t n_88238, int64_t incr_88239);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9509(struct futhark_context *ctx, struct memblock *mem_out_p_183206, struct memblock xs_mem_181052, int64_t n_90838, int64_t incr_90839);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9618(struct futhark_context *ctx, struct memblock *mem_out_p_183207, struct memblock xs_mem_181052, int64_t n_93589, int64_t incr_93590);
FUTHARK_FUN_ATTR int futrts_lifted_f_9106(struct futhark_context *ctx, int64_t *out_prim_out_183208, int16_t na_82968, int16_t nb_82969, int16_t nc_82970, int16_t bin_82971, int16_t a_82972, int16_t b_82973, int16_t c_82974, int16_t d_82975);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9105(struct futhark_context *ctx, int16_t *out_prim_out_183209, int16_t *out_prim_out_183210, int16_t *out_prim_out_183211, int16_t *out_prim_out_183212, int16_t x_82911);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9082(struct futhark_context *ctx, int64_t *out_prim_out_183213, int64_t *out_prim_out_183214, int64_t *out_prim_out_183215, int64_t *out_prim_out_183216, int64_t *out_prim_out_183217, int64_t slo_96562, int64_t shi_96563, int64_t tlo_96564, int64_t thi_96565, int64_t count_96566);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182725, struct memblock ks_mem_181052, int64_t n_110657)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t defunc_0_reduce_comm_res_178564;
    double defunc_0_reduce_comm_res_178565;
    int64_t redout_180712;
    double redout_180713;
    
    redout_180712 = n_110657;
    redout_180713 = INFINITY;
    for (int64_t i_180714 = 0; i_180714 < n_110657; i_180714++) {
        double x_164559 = ((double *) ks_mem_181052.mem)[i_180714];
        bool defunc_0_lt_res_164564 = redout_180713 < x_164559;
        bool defunc_0_eq_res_164566 = redout_180713 == x_164559;
        bool cond_f_res_t_res_164567 = slt64(redout_180712, i_180714);
        bool x_164568 = defunc_0_eq_res_164566 && cond_f_res_t_res_164567;
        bool x_178297 = !defunc_0_lt_res_164564;
        bool y_178298 = x_164568 && x_178297;
        bool cond_164565 = defunc_0_lt_res_164564 || y_178298;
        int64_t defunc_0_op_res_164569;
        
        if (cond_164565) {
            defunc_0_op_res_164569 = redout_180712;
        } else {
            defunc_0_op_res_164569 = i_180714;
        }
        
        double defunc_0_op_res_164570;
        
        if (cond_164565) {
            defunc_0_op_res_164570 = redout_180713;
        } else {
            defunc_0_op_res_164570 = x_164559;
        }
        
        int64_t redout_tmp_182467 = defunc_0_op_res_164569;
        double redout_tmp_182468 = defunc_0_op_res_164570;
        
        redout_180712 = redout_tmp_182467;
        redout_180713 = redout_tmp_182468;
    }
    defunc_0_reduce_comm_res_178564 = redout_180712;
    defunc_0_reduce_comm_res_178565 = redout_180713;
    prim_out_182466 = defunc_0_reduce_comm_res_178564;
    *out_prim_out_182725 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182726, struct memblock ks_mem_181052, int64_t n_110488)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t defunc_0_reduce_comm_res_178564;
    float defunc_0_reduce_comm_res_178565;
    int64_t redout_180712;
    float redout_180713;
    
    redout_180712 = n_110488;
    redout_180713 = INFINITY;
    for (int64_t i_180714 = 0; i_180714 < n_110488; i_180714++) {
        float x_164559 = ((float *) ks_mem_181052.mem)[i_180714];
        bool defunc_0_lt_res_164564 = redout_180713 < x_164559;
        bool defunc_0_eq_res_164566 = redout_180713 == x_164559;
        bool cond_f_res_t_res_164567 = slt64(redout_180712, i_180714);
        bool x_164568 = defunc_0_eq_res_164566 && cond_f_res_t_res_164567;
        bool x_178297 = !defunc_0_lt_res_164564;
        bool y_178298 = x_164568 && x_178297;
        bool cond_164565 = defunc_0_lt_res_164564 || y_178298;
        int64_t defunc_0_op_res_164569;
        
        if (cond_164565) {
            defunc_0_op_res_164569 = redout_180712;
        } else {
            defunc_0_op_res_164569 = i_180714;
        }
        
        float defunc_0_op_res_164570;
        
        if (cond_164565) {
            defunc_0_op_res_164570 = redout_180713;
        } else {
            defunc_0_op_res_164570 = x_164559;
        }
        
        int64_t redout_tmp_182467 = defunc_0_op_res_164569;
        float redout_tmp_182468 = defunc_0_op_res_164570;
        
        redout_180712 = redout_tmp_182467;
        redout_180713 = redout_tmp_182468;
    }
    defunc_0_reduce_comm_res_178564 = redout_180712;
    defunc_0_reduce_comm_res_178565 = redout_180713;
    prim_out_182466 = defunc_0_reduce_comm_res_178564;
    *out_prim_out_182726 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182727, struct memblock ks_mem_181052, int64_t n_110153)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t defunc_0_reduce_comm_res_178564;
    int32_t defunc_0_reduce_comm_res_178565;
    int64_t redout_180712;
    int32_t redout_180713;
    
    redout_180712 = n_110153;
    redout_180713 = 2147483647;
    for (int64_t i_180714 = 0; i_180714 < n_110153; i_180714++) {
        int32_t x_164559 = ((int32_t *) ks_mem_181052.mem)[i_180714];
        bool defunc_0_lt_res_164564 = slt32(redout_180713, x_164559);
        bool defunc_0_eq_res_164566 = redout_180713 == x_164559;
        bool cond_f_res_t_res_164567 = slt64(redout_180712, i_180714);
        bool x_164568 = defunc_0_eq_res_164566 && cond_f_res_t_res_164567;
        bool x_178297 = !defunc_0_lt_res_164564;
        bool y_178298 = x_164568 && x_178297;
        bool cond_164565 = defunc_0_lt_res_164564 || y_178298;
        int64_t defunc_0_op_res_164569;
        
        if (cond_164565) {
            defunc_0_op_res_164569 = redout_180712;
        } else {
            defunc_0_op_res_164569 = i_180714;
        }
        
        int32_t defunc_0_op_res_164570;
        
        if (cond_164565) {
            defunc_0_op_res_164570 = redout_180713;
        } else {
            defunc_0_op_res_164570 = x_164559;
        }
        
        int64_t redout_tmp_182467 = defunc_0_op_res_164569;
        int32_t redout_tmp_182468 = defunc_0_op_res_164570;
        
        redout_180712 = redout_tmp_182467;
        redout_180713 = redout_tmp_182468;
    }
    defunc_0_reduce_comm_res_178564 = redout_180712;
    defunc_0_reduce_comm_res_178565 = redout_180713;
    prim_out_182466 = defunc_0_reduce_comm_res_178564;
    *out_prim_out_182727 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182728, struct memblock ks_mem_181052, int64_t n_110319)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t defunc_0_reduce_comm_res_178564;
    int64_t defunc_0_reduce_comm_res_178565;
    int64_t redout_180712;
    int64_t redout_180713;
    
    redout_180712 = n_110319;
    redout_180713 = (int64_t) 9223372036854775807;
    for (int64_t i_180714 = 0; i_180714 < n_110319; i_180714++) {
        int64_t x_164559 = ((int64_t *) ks_mem_181052.mem)[i_180714];
        bool defunc_0_lt_res_164564 = slt64(redout_180713, x_164559);
        bool defunc_0_eq_res_164566 = redout_180713 == x_164559;
        bool cond_f_res_t_res_164567 = slt64(redout_180712, i_180714);
        bool x_164568 = defunc_0_eq_res_164566 && cond_f_res_t_res_164567;
        bool x_178297 = !defunc_0_lt_res_164564;
        bool y_178298 = x_164568 && x_178297;
        bool cond_164565 = defunc_0_lt_res_164564 || y_178298;
        int64_t defunc_0_op_res_164569;
        
        if (cond_164565) {
            defunc_0_op_res_164569 = redout_180712;
        } else {
            defunc_0_op_res_164569 = i_180714;
        }
        
        int64_t defunc_0_op_res_164570;
        
        if (cond_164565) {
            defunc_0_op_res_164570 = redout_180713;
        } else {
            defunc_0_op_res_164570 = x_164559;
        }
        
        int64_t redout_tmp_182467 = defunc_0_op_res_164569;
        int64_t redout_tmp_182468 = defunc_0_op_res_164570;
        
        redout_180712 = redout_tmp_182467;
        redout_180713 = redout_tmp_182468;
    }
    defunc_0_reduce_comm_res_178564 = redout_180712;
    defunc_0_reduce_comm_res_178565 = redout_180713;
    prim_out_182466 = defunc_0_reduce_comm_res_178564;
    *out_prim_out_182728 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182729, struct memblock ks_mem_181052, int64_t n_109987)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t defunc_0_reduce_comm_res_178564;
    int16_t defunc_0_reduce_comm_res_178565;
    int64_t redout_180712;
    int16_t redout_180713;
    
    redout_180712 = n_109987;
    redout_180713 = (int16_t) 32767;
    for (int64_t i_180714 = 0; i_180714 < n_109987; i_180714++) {
        int16_t x_164559 = ((int16_t *) ks_mem_181052.mem)[i_180714];
        bool defunc_0_lt_res_164564 = slt16(redout_180713, x_164559);
        bool defunc_0_eq_res_164566 = redout_180713 == x_164559;
        bool cond_f_res_t_res_164567 = slt64(redout_180712, i_180714);
        bool x_164568 = defunc_0_eq_res_164566 && cond_f_res_t_res_164567;
        bool x_178297 = !defunc_0_lt_res_164564;
        bool y_178298 = x_164568 && x_178297;
        bool cond_164565 = defunc_0_lt_res_164564 || y_178298;
        int64_t defunc_0_op_res_164569;
        
        if (cond_164565) {
            defunc_0_op_res_164569 = redout_180712;
        } else {
            defunc_0_op_res_164569 = i_180714;
        }
        
        int16_t defunc_0_op_res_164570;
        
        if (cond_164565) {
            defunc_0_op_res_164570 = redout_180713;
        } else {
            defunc_0_op_res_164570 = x_164559;
        }
        
        int64_t redout_tmp_182467 = defunc_0_op_res_164569;
        int16_t redout_tmp_182468 = defunc_0_op_res_164570;
        
        redout_180712 = redout_tmp_182467;
        redout_180713 = redout_tmp_182468;
    }
    defunc_0_reduce_comm_res_178564 = redout_180712;
    defunc_0_reduce_comm_res_178565 = redout_180713;
    prim_out_182466 = defunc_0_reduce_comm_res_178564;
    *out_prim_out_182729 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182730, struct memblock *mem_out_p_182731, struct memblock xs_mem_181052, int64_t n_108150, int64_t incr_108151)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181058_cached_sizze_182732 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181061_cached_sizze_182733 = 0;
    unsigned char *mem_181061 = NULL;
    int64_t mem_181071_cached_sizze_182734 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_182735 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181140_cached_sizze_182736 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181143_cached_sizze_182737 = 0;
    unsigned char *mem_181143 = NULL;
    int64_t mem_181153_cached_sizze_182738 = 0;
    unsigned char *mem_181153 = NULL;
    int64_t mem_181155_cached_sizze_182739 = 0;
    unsigned char *mem_181155 = NULL;
    int64_t mem_181170_cached_sizze_182740 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181173_cached_sizze_182741 = 0;
    unsigned char *mem_181173 = NULL;
    struct memblock mem_181264;
    
    mem_181264.references = NULL;
    
    struct memblock mem_181262;
    
    mem_181262.references = NULL;
    
    struct memblock mem_param_tmp_182485;
    
    mem_param_tmp_182485.references = NULL;
    
    struct memblock mem_param_tmp_182484;
    
    mem_param_tmp_182484.references = NULL;
    
    struct memblock mem_181250;
    
    mem_181250.references = NULL;
    
    struct memblock mem_181246;
    
    mem_181246.references = NULL;
    
    struct memblock mem_181212;
    
    mem_181212.references = NULL;
    
    struct memblock mem_181208;
    
    mem_181208.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock mem_181215;
    
    mem_181215.references = NULL;
    
    struct memblock ext_mem_181232;
    
    ext_mem_181232.references = NULL;
    
    struct memblock ext_mem_181235;
    
    ext_mem_181235.references = NULL;
    
    struct memblock mem_param_181137;
    
    mem_param_181137.references = NULL;
    
    struct memblock mem_param_181134;
    
    mem_param_181134.references = NULL;
    
    struct memblock ext_mem_181256;
    
    ext_mem_181256.references = NULL;
    
    struct memblock ext_mem_181257;
    
    ext_mem_181257.references = NULL;
    
    struct memblock mem_181130;
    
    mem_181130.references = NULL;
    
    struct memblock mem_181126;
    
    mem_181126.references = NULL;
    
    struct memblock ext_mem_181260;
    
    ext_mem_181260.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_108150;
    bool cond_171786 = sle64(n_108150, (int64_t) 1);
    int64_t zs_lhs_171787 = sub64(n_108150, (int64_t) 1);
    int64_t zp_rhs_171788 = sdiv_safe64(zs_lhs_171787, (int64_t) 20);
    int64_t min_num_blocks_171789 = add64((int64_t) 1, zp_rhs_171788);
    bool loop_cond_171790 = slt64((int64_t) 1, min_num_blocks_171789);
    bool smallest_pow_2_geq_than_res_171791;
    int64_t smallest_pow_2_geq_than_res_171792;
    bool loop_while_171793;
    int64_t x_171794;
    
    loop_while_171793 = loop_cond_171790;
    x_171794 = (int64_t) 1;
    while (loop_while_171793) {
        int64_t loopres_171795 = mul64((int64_t) 2, x_171794);
        bool loop_cond_171796 = slt64(loopres_171795, min_num_blocks_171789);
        bool loop_while_tmp_182468 = loop_cond_171796;
        int64_t x_tmp_182469 = loopres_171795;
        
        loop_while_171793 = loop_while_tmp_182468;
        x_171794 = x_tmp_182469;
    }
    smallest_pow_2_geq_than_res_171791 = loop_while_171793;
    smallest_pow_2_geq_than_res_171792 = x_171794;
    
    bool zzero_171797 = smallest_pow_2_geq_than_res_171792 == (int64_t) 0;
    bool nonzzero_171798 = !zzero_171797;
    bool protect_assert_disj_171799 = cond_171786 || nonzzero_171798;
    bool nonzzero_cert_171800;
    
    if (!protect_assert_disj_171799) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171801 = sdiv_safe64(zs_lhs_171787, smallest_pow_2_geq_than_res_171792);
    int64_t block_sizze_171802 = add64((int64_t) 1, zp_rhs_171801);
    bool y_171807 = slt64((int64_t) 0, n_108150);
    bool protect_assert_disj_182165 = cond_171786 || y_171807;
    bool index_certs_171808;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_108150, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171821 = slt64(smallest_pow_2_geq_than_res_171792, (int64_t) 0);
    bool valid_171822 = !bounds_invalid_upwards_171821;
    bool protect_assert_disj_182173 = cond_171786 || valid_171822;
    bool range_valid_c_171823;
    
    if (!protect_assert_disj_182173) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:211:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171825 = slt64(block_sizze_171802, (int64_t) 0);
    bool valid_171826 = !bounds_invalid_upwards_171825;
    bool protect_assert_disj_182175 = cond_171786 || valid_171826;
    bool range_valid_c_171827;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171802, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171829 = sle64(block_sizze_171802, (int64_t) 1);
    int64_t tmp_171830 = sub64(block_sizze_171802, (int64_t) 2);
    bool bounds_invalid_upwards_171831 = slt64(tmp_171830, (int64_t) 0);
    bool valid_171833 = !bounds_invalid_upwards_171831;
    bool protect_assert_disj_171834 = cond_171829 || valid_171833;
    bool protect_assert_disj_182177 = cond_171786 || protect_assert_disj_171834;
    bool range_valid_c_171835;
    
    if (!protect_assert_disj_182177) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171830, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9618(ctx, &ext_mem_181053, xs_mem_181052, n_108150, incr_108151) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182470 = 0; i_182470 < n_108150; i_182470++) {
        int64_t x_182471 = (int64_t) 0 + i_182470 * (int64_t) 1;
        
        ((int64_t *) mem_181055.mem)[i_182470] = x_182471;
    }
    
    int64_t flat_dim_171803 = smallest_pow_2_geq_than_res_171792 * block_sizze_171802;
    bool x_182160 = !cond_171786;
    int64_t greatest_divisor_leq_than_arg1_171805 = mul64((int64_t) 2, block_sizze_171802);
    int64_t merge_block_sizze_171806;
    
    if (x_182160) {
        int64_t x_182162;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182162, (int64_t) 8, greatest_divisor_leq_than_arg1_171805) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171806 = x_182162;
    } else {
        merge_block_sizze_171806 = (int64_t) 0;
    }
    
    double reduce_arg1_171809;
    
    if (x_182160) {
        double x_182166 = ((double *) xs_mem_181052.mem)[(int64_t) 0];
        
        reduce_arg1_171809 = x_182166;
    } else {
        reduce_arg1_171809 = 0.0;
    }
    
    double defunc_0_reduce_res_178711;
    int64_t defunc_0_reduce_res_178712;
    
    if (x_182160) {
        double x_182168;
        int64_t x_182169;
        double redout_180712;
        int64_t redout_180713;
        
        redout_180712 = reduce_arg1_171809;
        redout_180713 = (int64_t) 0;
        for (int64_t i_180714 = 0; i_180714 < n_108150; i_180714++) {
            double x_171812 = ((double *) xs_mem_181052.mem)[i_180714];
            bool zlze_res_171818 = redout_180712 <= x_171812;
            double defunc_0_op_res_171819;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171819 = x_171812;
            } else {
                defunc_0_op_res_171819 = redout_180712;
            }
            
            int64_t defunc_0_op_res_171820;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171820 = i_180714;
            } else {
                defunc_0_op_res_171820 = redout_180713;
            }
            
            double redout_tmp_182472 = defunc_0_op_res_171819;
            int64_t redout_tmp_182473 = defunc_0_op_res_171820;
            
            redout_180712 = redout_tmp_182472;
            redout_180713 = redout_tmp_182473;
        }
        x_182168 = redout_180712;
        x_182169 = redout_180713;
        defunc_0_reduce_res_178711 = x_182168;
        defunc_0_reduce_res_178712 = x_182169;
    } else {
        defunc_0_reduce_res_178711 = 0.0;
        defunc_0_reduce_res_178712 = (int64_t) 0;
    }
    
    int64_t distance_171832 = add64((int64_t) 1, tmp_171830);
    int64_t binop_x_181056 = (int64_t) 8 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181057 = block_sizze_171802 * binop_x_181056;
    int64_t bytes_181070 = (int64_t) 8 * block_sizze_171802;
    bool loop_cond_171906 = slt64(block_sizze_171802, flat_dim_171803);
    bool zzero_171907 = merge_block_sizze_171806 == (int64_t) 0;
    bool nonzzero_171908 = !zzero_171907;
    
    if (cond_171786) {
        if (memblock_set(ctx, &ext_mem_181260, &mem_181055, "mem_181055") != 0)
            return 1;
    } else {
        if (mem_181058_cached_sizze_182732 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182732, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181061_cached_sizze_182733 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181061, &mem_181061_cached_sizze_182733, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181071_cached_sizze_182734 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182734, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181073_cached_sizze_182735 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_182735, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180726 = 0; i_180726 < smallest_pow_2_geq_than_res_171792; i_180726++) {
            int64_t zp_lhs_171839 = mul64(block_sizze_171802, i_180726);
            
            for (int64_t i_180719 = 0; i_180719 < block_sizze_171802; i_180719++) {
                int64_t k_171843 = add64(zp_lhs_171839, i_180719);
                bool cond_171844 = slt64(k_171843, n_108150);
                double lifted_lambda_res_171845;
                int64_t lifted_lambda_res_171846;
                
                if (cond_171844) {
                    bool x_178564 = sle64((int64_t) 0, k_171843);
                    bool bounds_check_178565 = cond_171844 && x_178564;
                    bool index_certs_178566;
                    
                    if (!bounds_check_178565) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171843, "] out of bounds for array of shape [", (long long) n_108150, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_178567 = ((double *) xs_mem_181052.mem)[k_171843];
                    
                    lifted_lambda_res_171845 = lifted_lambda_res_t_res_178567;
                    lifted_lambda_res_171846 = k_171843;
                } else {
                    lifted_lambda_res_171845 = defunc_0_reduce_res_178711;
                    lifted_lambda_res_171846 = defunc_0_reduce_res_178712;
                }
                ((double *) mem_181071)[i_180719] = lifted_lambda_res_171845;
                ((int64_t *) mem_181073)[i_180719] = lifted_lambda_res_171846;
            }
            if (!cond_171829) {
                for (int64_t i_171855 = 0; i_171855 < distance_171832; i_171855++) {
                    int64_t gt_arg1_171858 = add64((int64_t) 1, i_171855);
                    bool x_171859 = sle64((int64_t) 0, gt_arg1_171858);
                    bool y_171860 = slt64(gt_arg1_171858, block_sizze_171802);
                    bool bounds_check_171861 = x_171859 && y_171860;
                    bool index_certs_171862;
                    
                    if (!bounds_check_171861) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171858, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171864 = slt64(i_171855, block_sizze_171802);
                    bool index_certs_171865;
                    
                    if (!y_171864) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171855, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_171863 = ((double *) mem_181071)[gt_arg1_171858];
                    double gt_arg0_171866 = ((double *) mem_181071)[i_171855];
                    bool zlze_res_171867 = gt_arg0_171866 <= gt_arg1_171863;
                    bool defunc_0_lifted_gt_res_171868 = !zlze_res_171867;
                    bool s_171869;
                    int64_t s_171872;
                    bool loop_while_171873;
                    int64_t j_171876;
                    
                    loop_while_171873 = defunc_0_lifted_gt_res_171868;
                    j_171876 = i_171855;
                    while (loop_while_171873) {
                        bool x_171877 = sle64((int64_t) 0, j_171876);
                        bool y_171878 = slt64(j_171876, block_sizze_171802);
                        bool bounds_check_171879 = x_171877 && y_171878;
                        bool index_certs_171880;
                        
                        if (!bounds_check_171879) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171876, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171883 = add64((int64_t) 1, j_171876);
                        bool x_171884 = sle64((int64_t) 0, copy_arg0_171883);
                        bool y_171885 = slt64(copy_arg0_171883, block_sizze_171802);
                        bool bounds_check_171886 = x_171884 && y_171885;
                        bool index_certs_171887;
                        
                        if (!bounds_check_171886) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171883, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_171881 = ((double *) mem_181071)[j_171876];
                        int64_t copy_arg0_171882 = ((int64_t *) mem_181073)[j_171876];
                        double copy_arg0_171888 = ((double *) mem_181071)[copy_arg0_171883];
                        int64_t copy_arg0_171889 = ((int64_t *) mem_181073)[copy_arg0_171883];
                        
                        ((double *) mem_181071)[j_171876] = copy_arg0_171888;
                        ((int64_t *) mem_181073)[j_171876] = copy_arg0_171889;
                        ((double *) mem_181071)[copy_arg0_171883] = copy_arg0_171881;
                        ((int64_t *) mem_181073)[copy_arg0_171883] = copy_arg0_171882;
                        
                        int64_t tmp_171894 = sub64(j_171876, (int64_t) 1);
                        bool cond_171895 = sle64((int64_t) 0, tmp_171894);
                        bool loop_cond_171896;
                        
                        if (cond_171895) {
                            bool y_178569 = slt64(tmp_171894, block_sizze_171802);
                            bool bounds_check_178570 = cond_171895 && y_178569;
                            bool index_certs_178571;
                            
                            if (!bounds_check_178570) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171894, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_178568 = ((double *) mem_181071)[j_171876];
                            double gt_arg0_178572 = ((double *) mem_181071)[tmp_171894];
                            bool zlze_res_178573 = gt_arg0_178572 <= gt_arg1_178568;
                            bool defunc_0_lifted_gt_res_178574 = !zlze_res_178573;
                            
                            loop_cond_171896 = defunc_0_lifted_gt_res_178574;
                        } else {
                            loop_cond_171896 = 0;
                        }
                        
                        bool loop_while_tmp_182480 = loop_cond_171896;
                        int64_t j_tmp_182483 = tmp_171894;
                        
                        loop_while_171873 = loop_while_tmp_182480;
                        j_171876 = j_tmp_182483;
                    }
                    s_171869 = loop_while_171873;
                    s_171872 = j_171876;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181071, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181061, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181073, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
        }
        if (memblock_alloc(ctx, &mem_181126, bytes_181057, "mem_181126")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181126.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181058, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        if (memblock_alloc(ctx, &mem_181130, bytes_181057, "mem_181130")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181130.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181061, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        
        int64_t data_171909;
        bool data_171910;
        int64_t data_171913;
        int64_t loop_dz2084Uz2082U_171914;
        bool loop_while_171915;
        int64_t stride_171918;
        
        if (memblock_set(ctx, &mem_param_181134, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181137, &mem_181130, "mem_181130") != 0)
            return 1;
        loop_dz2084Uz2082U_171914 = flat_dim_171803;
        loop_while_171915 = loop_cond_171906;
        stride_171918 = block_sizze_171802;
        while (loop_while_171915) {
            int64_t next_stride_171919 = mul64((int64_t) 2, stride_171918);
            bool zzero_171920 = next_stride_171919 == (int64_t) 0;
            bool nonzzero_171921 = !zzero_171920;
            bool nonzzero_cert_171922;
            
            if (!nonzzero_171921) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171923 = sdiv64(flat_dim_171803, next_stride_171919);
            bool bounds_invalid_upwards_171924 = slt64(num_merges_171923, (int64_t) 0);
            bool valid_171925 = !bounds_invalid_upwards_171924;
            bool range_valid_c_171926;
            
            if (!valid_171925) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171923, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:211:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171928 = sub64(next_stride_171919, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171929 = sle64((int64_t) 0, m_171928);
            bool cond_171931 = slt64(next_stride_171919, (int64_t) 10);
            bool protect_assert_disj_171932 = nonzzero_171908 || cond_171931;
            bool nonzzero_cert_171933;
            
            if (!protect_assert_disj_171932) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171934 = smod_safe64(next_stride_171919, merge_block_sizze_171806);
            bool num_blocks_171935 = zeze_lhs_171934 == (int64_t) 0;
            bool protect_assert_disj_171936 = cond_171931 || num_blocks_171935;
            bool assert_c_171937;
            
            if (!protect_assert_disj_171936) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171939 = sdiv_safe64(next_stride_171919, merge_block_sizze_171806);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940 = add64((int64_t) 1, num_blocks_171939);
            int64_t j_m_i_171941 = sub64(next_stride_171919, stride_171918);
            int64_t flat_dim_171942 = merge_block_sizze_171806 * num_blocks_171939;
            bool bounds_invalid_upwards_171943 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, (int64_t) 0);
            bool zzero_lte_i_171944 = sle64((int64_t) 0, stride_171918);
            bool i_lte_j_171945 = sle64(stride_171918, next_stride_171919);
            bool empty_slice_171946 = stride_171918 == (int64_t) 0;
            int64_t m_171947 = sub64(stride_171918, (int64_t) 1);
            bool bounds_invalid_upwards_171948 = slt64(num_blocks_171939, (int64_t) 0);
            bool empty_slice_171949 = j_m_i_171941 == (int64_t) 0;
            int64_t m_171950 = sub64(j_m_i_171941, (int64_t) 1);
            bool cond_171951 = slt64((int64_t) 0, stride_171918);
            bool valid_171952 = !bounds_invalid_upwards_171943;
            bool zzero_leq_i_p_m_t_s_171953 = sle64((int64_t) 0, m_171947);
            bool i_p_m_t_s_leq_w_171954 = slt64(m_171947, next_stride_171919);
            bool valid_171955 = !bounds_invalid_upwards_171948;
            bool i_p_m_t_s_leq_w_171956 = slt64(m_171928, flat_dim_171942);
            int64_t i_p_m_t_s_171957 = add64(stride_171918, m_171950);
            bool y_171958 = slt64((int64_t) 0, j_m_i_171941);
            bool protect_assert_disj_171959 = cond_171931 || valid_171952;
            bool range_valid_c_171960;
            
            if (!protect_assert_disj_171959) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171961 = zzero_leq_i_p_m_t_s_171953 && i_p_m_t_s_leq_w_171954;
            bool protect_assert_disj_171962 = cond_171931 || valid_171955;
            bool range_valid_c_171963;
            
            if (!protect_assert_disj_171962) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171939, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171964 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_171956;
            bool zzero_leq_i_p_m_t_s_171965 = sle64((int64_t) 0, i_p_m_t_s_171957);
            bool i_p_m_t_s_leq_w_171966 = slt64(i_p_m_t_s_171957, next_stride_171919);
            bool forwards_ok_171967 = zzero_lte_i_171944 && y_171961;
            bool ok_or_empty_171968 = zzero_171920 || y_171964;
            bool y_171969 = zzero_lte_i_171944 && i_p_m_t_s_leq_w_171966;
            bool protect_assert_disj_171970 = cond_171951 || y_171958;
            bool ok_or_empty_171971 = empty_slice_171946 || forwards_ok_171967;
            bool protect_assert_disj_171972 = cond_171931 || ok_or_empty_171968;
            bool index_certs_171973;
            
            if (!protect_assert_disj_171972) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) flat_dim_171942, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171974 = zzero_leq_i_p_m_t_s_171965 && y_171969;
            bool loop_not_taken_171975 = !cond_171931;
            bool protect_assert_disj_171976 = protect_assert_disj_171970 || loop_not_taken_171975;
            bool index_certs_171977;
            
            if (!protect_assert_disj_171976) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171978 = cond_171931 || ok_or_empty_171971;
            bool index_certs_171979;
            
            if (!protect_assert_disj_171978) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171980 = i_lte_j_171945 && y_171974;
            bool protect_assert_disj_171981 = ok_or_empty_171971 || loop_not_taken_171975;
            bool index_certs_171982;
            
            if (!protect_assert_disj_171981) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171983 = empty_slice_171949 || forwards_ok_171980;
            bool protect_assert_disj_171984 = loop_not_taken_171975 || ok_or_empty_171983;
            bool index_certs_171985;
            
            if (!protect_assert_disj_171984) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171986 = cond_171931 || ok_or_empty_171983;
            bool index_certs_171987;
            
            if (!protect_assert_disj_171986) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181138 = (int64_t) 8 * num_merges_171923;
            int64_t bytes_181139 = next_stride_171919 * binop_x_181138;
            bool i_lte_j_171930 = sle64((int64_t) 0, next_stride_171919);
            
            if (mem_181140_cached_sizze_182736 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182736, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181143_cached_sizze_182737 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181143, &mem_181143_cached_sizze_182737, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181152 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940;
            int64_t binop_x_181168 = (int64_t) 8 * num_blocks_171939;
            int64_t bytes_181169 = merge_block_sizze_171806 * binop_x_181168;
            int64_t bytes_181214 = (int64_t) 16 * stride_171918;
            
            for (int64_t i_180747 = 0; i_180747 < num_merges_171923; i_180747++) {
                int64_t start_171991 = mul64(next_stride_171919, i_180747);
                int64_t j_m_i_171992 = sub64(loop_dz2084Uz2082U_171914, start_171991);
                bool empty_slice_171993 = j_m_i_171992 == (int64_t) 0;
                int64_t m_171994 = sub64(j_m_i_171992, (int64_t) 1);
                int64_t i_p_m_t_s_171995 = add64(start_171991, m_171994);
                bool zzero_leq_i_p_m_t_s_171996 = sle64((int64_t) 0, i_p_m_t_s_171995);
                bool i_p_m_t_s_leq_w_171997 = slt64(i_p_m_t_s_171995, loop_dz2084Uz2082U_171914);
                bool zzero_lte_i_171998 = sle64((int64_t) 0, start_171991);
                bool i_lte_j_171999 = sle64(start_171991, loop_dz2084Uz2082U_171914);
                bool y_172000 = i_p_m_t_s_leq_w_171997 && zzero_lte_i_171998;
                bool y_172001 = zzero_leq_i_p_m_t_s_171996 && y_172000;
                bool forwards_ok_172002 = i_lte_j_171999 && y_172001;
                bool ok_or_empty_172003 = empty_slice_171993 || forwards_ok_172002;
                bool index_certs_172004;
                
                if (!ok_or_empty_172003) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171991, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171914, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172005 = slt64(m_171928, j_m_i_171992);
                bool y_172006 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_172005;
                bool forwards_ok_172007 = i_lte_j_171930 && y_172006;
                bool ok_or_empty_172008 = zzero_171920 || forwards_ok_172007;
                bool index_certs_172009;
                
                if (!ok_or_empty_172008) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) j_m_i_171992, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171931) {
                    double dummy_178600;
                    int64_t dummy_178601;
                    
                    if (cond_171951) {
                        double head_res_178602 = ((double *) mem_param_181134.mem)[start_171991];
                        int64_t head_res_178603 = ((int64_t *) mem_param_181137.mem)[start_171991];
                        
                        dummy_178600 = head_res_178602;
                        dummy_178601 = head_res_178603;
                    } else {
                        int64_t slice_178604 = stride_171918 + start_171991;
                        double head_res_178605 = ((double *) mem_param_181134.mem)[slice_178604];
                        int64_t head_res_178606 = ((int64_t *) mem_param_181137.mem)[slice_178604];
                        
                        dummy_178600 = head_res_178605;
                        dummy_178601 = head_res_178606;
                    }
                    if (memblock_alloc(ctx, &mem_181215, bytes_181214, "mem_181215")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182493 = 0; nest_i_182493 < next_stride_171919; nest_i_182493++) {
                        ((double *) mem_181215.mem)[nest_i_182493] = dummy_178600;
                    }
                    if (memblock_alloc(ctx, &mem_181217, bytes_181214, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182494 = 0; nest_i_182494 < next_stride_171919; nest_i_182494++) {
                        ((int64_t *) mem_181217.mem)[nest_i_182494] = dummy_178601;
                    }
                    
                    int64_t data_178609;
                    int64_t i_178613 = (int64_t) 0;
                    
                    for (int64_t k_178612 = 0; k_178612 < next_stride_171919; k_178612++) {
                        int64_t j_178616 = sub64(k_178612, i_178613);
                        bool cond_178617 = j_178616 == j_m_i_171941;
                        bool cond_178618;
                        
                        if (cond_178617) {
                            cond_178618 = 1;
                        } else {
                            bool cond_178619 = slt64(i_178613, stride_171918);
                            bool cond_f_res_178620;
                            
                            if (cond_178619) {
                                bool x_178621 = sle64((int64_t) 0, j_178616);
                                bool y_178622 = slt64(j_178616, j_m_i_171941);
                                bool bounds_check_178623 = x_178621 && y_178622;
                                bool index_certs_178624;
                                
                                if (!bounds_check_178623) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178628 = sle64((int64_t) 0, i_178613);
                                bool bounds_check_178629 = cond_178619 && x_178628;
                                bool index_certs_178630;
                                
                                if (!bounds_check_178629) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178625 = stride_171918 + j_178616;
                                int64_t slice_178626 = start_171991 + slice_178625;
                                double leq_arg1_178627 = ((double *) mem_param_181134.mem)[slice_178626];
                                int64_t slice_178631 = start_171991 + i_178613;
                                double leq_arg0_178632 = ((double *) mem_param_181134.mem)[slice_178631];
                                bool zlze_res_178633 = leq_arg0_178632 <= leq_arg1_178627;
                                
                                cond_f_res_178620 = zlze_res_178633;
                            } else {
                                cond_f_res_178620 = 0;
                            }
                            cond_178618 = cond_f_res_178620;
                        }
                        
                        int64_t loopres_178634;
                        double loopres_178635;
                        int64_t loopres_178636;
                        
                        if (cond_178618) {
                            bool x_178638 = sle64((int64_t) 0, i_178613);
                            bool y_178639 = slt64(i_178613, stride_171918);
                            bool bounds_check_178640 = x_178638 && y_178639;
                            bool index_certs_178641;
                            
                            if (!bounds_check_178640) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178637 = add64((int64_t) 1, i_178613);
                            int64_t slice_178642 = start_171991 + i_178613;
                            double tmp_178643 = ((double *) mem_param_181134.mem)[slice_178642];
                            int64_t tmp_178644 = ((int64_t *) mem_param_181137.mem)[slice_178642];
                            
                            loopres_178634 = tmp_178637;
                            loopres_178635 = tmp_178643;
                            loopres_178636 = tmp_178644;
                        } else {
                            bool x_178645 = sle64((int64_t) 0, j_178616);
                            bool y_178646 = slt64(j_178616, j_m_i_171941);
                            bool bounds_check_178647 = x_178645 && y_178646;
                            bool index_certs_178648;
                            
                            if (!bounds_check_178647) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178649 = stride_171918 + j_178616;
                            int64_t slice_178650 = start_171991 + slice_178649;
                            double tmp_178651 = ((double *) mem_param_181134.mem)[slice_178650];
                            int64_t tmp_178652 = ((int64_t *) mem_param_181137.mem)[slice_178650];
                            
                            loopres_178634 = i_178613;
                            loopres_178635 = tmp_178651;
                            loopres_178636 = tmp_178652;
                        }
                        ((double *) mem_181215.mem)[k_178612] = loopres_178635;
                        ((int64_t *) mem_181217.mem)[k_178612] = loopres_178636;
                        
                        int64_t i_tmp_182495 = loopres_178634;
                        
                        i_178613 = i_tmp_182495;
                    }
                    data_178609 = i_178613;
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181215, "mem_181215") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181217, "mem_181217") != 0)
                        return 1;
                } else {
                    if (mem_181153_cached_sizze_182738 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182738, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181155_cached_sizze_182739 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181155, &mem_181155_cached_sizze_182739, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180733 = 0; i_180733 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940; i_180733++) {
                        int64_t split_count_arg3_172071 = mul64(merge_block_sizze_171806, i_180733);
                        int64_t defunc_0_split_count_res_172072;
                        int64_t defunc_0_split_count_res_172073;
                        int64_t defunc_0_split_count_res_172074;
                        int64_t defunc_0_split_count_res_172075;
                        int64_t defunc_0_split_count_res_172076;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_172072, &defunc_0_split_count_res_172073, &defunc_0_split_count_res_172074, &defunc_0_split_count_res_172075, &defunc_0_split_count_res_172076, (int64_t) 0, stride_171918, (int64_t) 0, j_m_i_171941, split_count_arg3_172071) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172077 = slt64((int64_t) 0, defunc_0_split_count_res_172076);
                        bool defunc_0_split_count_res_172078;
                        int64_t defunc_0_split_count_res_172079;
                        int64_t defunc_0_split_count_res_172080;
                        int64_t defunc_0_split_count_res_172081;
                        int64_t defunc_0_split_count_res_172082;
                        int64_t defunc_0_split_count_res_172083;
                        bool loop_while_172084;
                        int64_t ss_172085;
                        int64_t ss_172086;
                        int64_t tt_172087;
                        int64_t tt_172088;
                        int64_t count_172089;
                        
                        loop_while_172084 = loop_cond_172077;
                        ss_172085 = defunc_0_split_count_res_172072;
                        ss_172086 = defunc_0_split_count_res_172073;
                        tt_172087 = defunc_0_split_count_res_172074;
                        tt_172088 = defunc_0_split_count_res_172075;
                        count_172089 = defunc_0_split_count_res_172076;
                        while (loop_while_172084) {
                            int64_t zlze_lhs_172090 = sub64(ss_172086, ss_172085);
                            bool cond_172091 = sle64(zlze_lhs_172090, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172092;
                            int64_t defunc_0_lifted_step_res_172093;
                            int64_t defunc_0_lifted_step_res_172094;
                            int64_t defunc_0_lifted_step_res_172095;
                            
                            if (cond_172091) {
                                int64_t tmp_178655 = add64(tt_172087, count_172089);
                                
                                defunc_0_lifted_step_res_172092 = ss_172085;
                                defunc_0_lifted_step_res_172093 = tmp_178655;
                                defunc_0_lifted_step_res_172094 = tt_172088;
                                defunc_0_lifted_step_res_172095 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172097 = sub64(tt_172088, tt_172087);
                                bool cond_172098 = sle64(zlze_lhs_172097, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172099;
                                int64_t defunc_0_lifted_step_res_f_res_172100;
                                int64_t defunc_0_lifted_step_res_f_res_172101;
                                int64_t defunc_0_lifted_step_res_f_res_172102;
                                
                                if (cond_172098) {
                                    int64_t tmp_178656 = add64(ss_172085, count_172089);
                                    
                                    defunc_0_lifted_step_res_f_res_172099 = tmp_178656;
                                    defunc_0_lifted_step_res_f_res_172100 = tt_172087;
                                    defunc_0_lifted_step_res_f_res_172101 = tt_172088;
                                    defunc_0_lifted_step_res_f_res_172102 = (int64_t) 0;
                                } else {
                                    bool cond_172104 = count_172089 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172107;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172108;
                                    
                                    if (cond_172104) {
                                        bool x_178658 = sle64((int64_t) 0, ss_172085);
                                        bool y_178659 = slt64(ss_172085, stride_171918);
                                        bool bounds_check_178660 = x_178658 && y_178659;
                                        bool index_certs_178661;
                                        
                                        if (!bounds_check_178660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172085, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178664 = sle64((int64_t) 0, tt_172087);
                                        bool y_178665 = slt64(tt_172087, j_m_i_171941);
                                        bool bounds_check_178666 = x_178664 && y_178665;
                                        bool index_certs_178667;
                                        
                                        if (!bounds_check_178666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172087, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178662 = start_171991 + ss_172085;
                                        double leq_arg1_178663 = ((double *) mem_param_181134.mem)[slice_178662];
                                        int64_t slice_178668 = stride_171918 + tt_172087;
                                        int64_t slice_178669 = start_171991 + slice_178668;
                                        double leq_arg0_178670 = ((double *) mem_param_181134.mem)[slice_178669];
                                        bool zlze_res_178671 = leq_arg0_178670 <= leq_arg1_178663;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        
                                        if (zlze_res_178671) {
                                            int64_t tmp_178674 = add64((int64_t) 1, tt_172087);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = ss_172085;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tmp_178674;
                                        } else {
                                            int64_t tmp_178675 = add64((int64_t) 1, ss_172085);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = tmp_178675;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tt_172087;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = tt_172088;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = (int64_t) 0;
                                    } else {
                                        int64_t m_172127 = sdiv64(count_172089, (int64_t) 2);
                                        int64_t n_172128 = sub64(count_172089, m_172127);
                                        bool cond_172129 = n_172128 == (int64_t) 0;
                                        int64_t zgze_lhs_172130 = add64(ss_172085, m_172127);
                                        bool cond_f_res_172131 = sle64(ss_172086, zgze_lhs_172130);
                                        bool x_172132 = !cond_172129;
                                        bool y_172133 = cond_f_res_172131 && x_172132;
                                        bool cond_172134 = cond_172129 || y_172133;
                                        bool leq_y_x_172135;
                                        
                                        if (cond_172134) {
                                            leq_y_x_172135 = 1;
                                        } else {
                                            bool x_172136 = sle64((int64_t) 0, zgze_lhs_172130);
                                            bool y_172137 = slt64(zgze_lhs_172130, stride_171918);
                                            bool bounds_check_172138 = x_172136 && y_172137;
                                            bool index_certs_172139;
                                            
                                            if (!bounds_check_172138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172130, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172142 = add64(tt_172087, n_172128);
                                            int64_t leq_arg0_172143 = sub64(zm_lhs_172142, (int64_t) 1);
                                            bool x_172144 = sle64((int64_t) 0, leq_arg0_172143);
                                            bool y_172145 = slt64(leq_arg0_172143, j_m_i_171941);
                                            bool bounds_check_172146 = x_172144 && y_172145;
                                            bool index_certs_172147;
                                            
                                            if (!bounds_check_172146) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172143, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172140 = start_171991 + zgze_lhs_172130;
                                            double leq_arg1_172141 = ((double *) mem_param_181134.mem)[slice_172140];
                                            int64_t slice_172148 = stride_171918 + leq_arg0_172143;
                                            int64_t slice_172149 = start_171991 + slice_172148;
                                            double leq_arg0_172150 = ((double *) mem_param_181134.mem)[slice_172149];
                                            bool zlze_res_172151 = leq_arg0_172150 <= leq_arg1_172141;
                                            
                                            leq_y_x_172135 = zlze_res_172151;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                        
                                        if (leq_y_x_172135) {
                                            int64_t tmp_178676 = add64(tt_172087, n_172128);
                                            int64_t tmp_178677 = sub64(count_172089, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tmp_178676;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tt_172088;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = tmp_178677;
                                        } else {
                                            int64_t tmp_172157 = add64(tt_172087, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tt_172087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tmp_172157;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = count_172089;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = ss_172085;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                    }
                                    defunc_0_lifted_step_res_f_res_172099 = defunc_0_lifted_step_res_f_res_f_res_172105;
                                    defunc_0_lifted_step_res_f_res_172100 = defunc_0_lifted_step_res_f_res_f_res_172106;
                                    defunc_0_lifted_step_res_f_res_172101 = defunc_0_lifted_step_res_f_res_f_res_172107;
                                    defunc_0_lifted_step_res_f_res_172102 = defunc_0_lifted_step_res_f_res_f_res_172108;
                                }
                                defunc_0_lifted_step_res_172092 = defunc_0_lifted_step_res_f_res_172099;
                                defunc_0_lifted_step_res_172093 = defunc_0_lifted_step_res_f_res_172100;
                                defunc_0_lifted_step_res_172094 = defunc_0_lifted_step_res_f_res_172101;
                                defunc_0_lifted_step_res_172095 = defunc_0_lifted_step_res_f_res_172102;
                            }
                            
                            int64_t loopres_172158;
                            int64_t loopres_172159;
                            int64_t loopres_172160;
                            int64_t loopres_172161;
                            int64_t loopres_172162;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_172158, &loopres_172159, &loopres_172160, &loopres_172161, &loopres_172162, defunc_0_lifted_step_res_172092, ss_172086, defunc_0_lifted_step_res_172093, defunc_0_lifted_step_res_172094, defunc_0_lifted_step_res_172095) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172163 = slt64((int64_t) 0, loopres_172162);
                            bool loop_while_tmp_182500 = loop_cond_172163;
                            int64_t ss_tmp_182501 = loopres_172158;
                            int64_t ss_tmp_182502 = loopres_172159;
                            int64_t tt_tmp_182503 = loopres_172160;
                            int64_t tt_tmp_182504 = loopres_172161;
                            int64_t count_tmp_182505 = loopres_172162;
                            
                            loop_while_172084 = loop_while_tmp_182500;
                            ss_172085 = ss_tmp_182501;
                            ss_172086 = ss_tmp_182502;
                            tt_172087 = tt_tmp_182503;
                            tt_172088 = tt_tmp_182504;
                            count_172089 = count_tmp_182505;
                        }
                        defunc_0_split_count_res_172078 = loop_while_172084;
                        defunc_0_split_count_res_172079 = ss_172085;
                        defunc_0_split_count_res_172080 = ss_172086;
                        defunc_0_split_count_res_172081 = tt_172087;
                        defunc_0_split_count_res_172082 = tt_172088;
                        defunc_0_split_count_res_172083 = count_172089;
                        ((int64_t *) mem_181153)[i_180733] = defunc_0_split_count_res_172079;
                        ((int64_t *) mem_181155)[i_180733] = defunc_0_split_count_res_172081;
                    }
                    if (mem_181170_cached_sizze_182740 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_182740, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181173_cached_sizze_182741 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181173, &mem_181173_cached_sizze_182741, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180740 = 0; i_180740 < num_blocks_171939; i_180740++) {
                        bool y_172169 = slt64(i_180740, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool index_certs_172171;
                        
                        if (!y_172169) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180740, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172172 = ((int64_t *) mem_181153)[i_180740];
                        int64_t defunc_0_f_res_172173 = ((int64_t *) mem_181155)[i_180740];
                        int64_t tmp_172174 = add64((int64_t) 1, i_180740);
                        bool x_172175 = sle64((int64_t) 0, tmp_172174);
                        bool y_172176 = slt64(tmp_172174, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool bounds_check_172177 = x_172175 && y_172176;
                        bool index_certs_172178;
                        
                        if (!bounds_check_172177) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172174, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172179 = ((int64_t *) mem_181153)[tmp_172174];
                        int64_t defunc_0_f_res_172180 = ((int64_t *) mem_181155)[tmp_172174];
                        int64_t merge_sequential_arg2_172181 = add64(stride_171918, defunc_0_f_res_172173);
                        int64_t merge_sequential_arg2_172182 = add64(stride_171918, defunc_0_f_res_172180);
                        int64_t j_m_i_172183 = sub64(merge_sequential_arg2_172182, merge_sequential_arg2_172181);
                        bool empty_slice_172184 = j_m_i_172183 == (int64_t) 0;
                        int64_t m_172185 = sub64(j_m_i_172183, (int64_t) 1);
                        int64_t i_p_m_t_s_172186 = add64(merge_sequential_arg2_172181, m_172185);
                        bool zzero_leq_i_p_m_t_s_172187 = sle64((int64_t) 0, i_p_m_t_s_172186);
                        bool i_p_m_t_s_leq_w_172188 = slt64(i_p_m_t_s_172186, next_stride_171919);
                        bool zzero_lte_i_172189 = sle64((int64_t) 0, merge_sequential_arg2_172181);
                        bool i_lte_j_172190 = sle64(merge_sequential_arg2_172181, merge_sequential_arg2_172182);
                        bool y_172191 = i_p_m_t_s_leq_w_172188 && zzero_lte_i_172189;
                        bool y_172192 = zzero_leq_i_p_m_t_s_172187 && y_172191;
                        bool forwards_ok_172193 = i_lte_j_172190 && y_172192;
                        bool ok_or_empty_172194 = empty_slice_172184 || forwards_ok_172193;
                        bool index_certs_172195;
                        
                        if (!ok_or_empty_172194) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172181, ":", (long long) merge_sequential_arg2_172182, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172196 = sub64(defunc_0_f_res_172179, defunc_0_f_res_172172);
                        bool empty_slice_172197 = j_m_i_172196 == (int64_t) 0;
                        int64_t m_172198 = sub64(j_m_i_172196, (int64_t) 1);
                        int64_t i_p_m_t_s_172199 = add64(defunc_0_f_res_172172, m_172198);
                        bool zzero_leq_i_p_m_t_s_172200 = sle64((int64_t) 0, i_p_m_t_s_172199);
                        bool i_p_m_t_s_leq_w_172201 = slt64(i_p_m_t_s_172199, next_stride_171919);
                        bool zzero_lte_i_172202 = sle64((int64_t) 0, defunc_0_f_res_172172);
                        bool i_lte_j_172203 = sle64(defunc_0_f_res_172172, defunc_0_f_res_172179);
                        bool y_172204 = i_p_m_t_s_leq_w_172201 && zzero_lte_i_172202;
                        bool y_172205 = zzero_leq_i_p_m_t_s_172200 && y_172204;
                        bool forwards_ok_172206 = i_lte_j_172203 && y_172205;
                        bool ok_or_empty_172207 = empty_slice_172197 || forwards_ok_172206;
                        bool index_certs_172208;
                        
                        if (!ok_or_empty_172207) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172172, ":", (long long) defunc_0_f_res_172179, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172209 = slt64((int64_t) 0, j_m_i_172196);
                        double dummy_172210;
                        int64_t dummy_172211;
                        
                        if (cond_172209) {
                            bool index_certs_178678;
                            
                            if (!cond_172209) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:211:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178679 = start_171991 + defunc_0_f_res_172172;
                            double head_res_178680 = ((double *) mem_param_181134.mem)[slice_178679];
                            int64_t head_res_178681 = ((int64_t *) mem_param_181137.mem)[slice_178679];
                            
                            dummy_172210 = head_res_178680;
                            dummy_172211 = head_res_178681;
                        } else {
                            bool y_172216 = slt64((int64_t) 0, j_m_i_172183);
                            bool index_certs_172217;
                            
                            if (!y_172216) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:211:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172218 = start_171991 + merge_sequential_arg2_172181;
                            double head_res_172219 = ((double *) mem_param_181134.mem)[slice_172218];
                            int64_t head_res_172220 = ((int64_t *) mem_param_181137.mem)[slice_172218];
                            
                            dummy_172210 = head_res_172219;
                            dummy_172211 = head_res_172220;
                        }
                        for (int64_t nest_i_182508 = 0; nest_i_182508 < merge_block_sizze_171806; nest_i_182508++) {
                            ((double *) mem_181170)[i_180740 * merge_block_sizze_171806 + nest_i_182508] = dummy_172210;
                        }
                        for (int64_t nest_i_182509 = 0; nest_i_182509 < merge_block_sizze_171806; nest_i_182509++) {
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + nest_i_182509] = dummy_172211;
                        }
                        
                        int64_t data_172223;
                        int64_t i_172227 = (int64_t) 0;
                        
                        for (int64_t k_172226 = 0; k_172226 < merge_block_sizze_171806; k_172226++) {
                            int64_t j_172230 = sub64(k_172226, i_172227);
                            bool cond_172231 = j_172230 == j_m_i_172183;
                            bool cond_172232;
                            
                            if (cond_172231) {
                                cond_172232 = 1;
                            } else {
                                bool cond_172233 = slt64(i_172227, j_m_i_172196);
                                bool cond_f_res_172234;
                                
                                if (cond_172233) {
                                    bool x_178682 = sle64((int64_t) 0, j_172230);
                                    bool y_178683 = slt64(j_172230, j_m_i_172183);
                                    bool bounds_check_178684 = x_178682 && y_178683;
                                    bool index_certs_178685;
                                    
                                    if (!bounds_check_178684) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178689 = sle64((int64_t) 0, i_172227);
                                    bool bounds_check_178690 = cond_172233 && x_178689;
                                    bool index_certs_178691;
                                    
                                    if (!bounds_check_178690) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178686 = merge_sequential_arg2_172181 + j_172230;
                                    int64_t slice_178687 = start_171991 + slice_178686;
                                    double leq_arg1_178688 = ((double *) mem_param_181134.mem)[slice_178687];
                                    int64_t slice_178692 = defunc_0_f_res_172172 + i_172227;
                                    int64_t slice_178693 = start_171991 + slice_178692;
                                    double leq_arg0_178694 = ((double *) mem_param_181134.mem)[slice_178693];
                                    bool zlze_res_178695 = leq_arg0_178694 <= leq_arg1_178688;
                                    
                                    cond_f_res_172234 = zlze_res_178695;
                                } else {
                                    cond_f_res_172234 = 0;
                                }
                                cond_172232 = cond_f_res_172234;
                            }
                            
                            int64_t loopres_172249;
                            double loopres_172250;
                            int64_t loopres_172251;
                            
                            if (cond_172232) {
                                bool x_178697 = sle64((int64_t) 0, i_172227);
                                bool y_178698 = slt64(i_172227, j_m_i_172196);
                                bool bounds_check_178699 = x_178697 && y_178698;
                                bool index_certs_178700;
                                
                                if (!bounds_check_178699) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178696 = add64((int64_t) 1, i_172227);
                                int64_t slice_178701 = defunc_0_f_res_172172 + i_172227;
                                int64_t slice_178702 = start_171991 + slice_178701;
                                double tmp_178703 = ((double *) mem_param_181134.mem)[slice_178702];
                                int64_t tmp_178704 = ((int64_t *) mem_param_181137.mem)[slice_178702];
                                
                                loopres_172249 = tmp_178696;
                                loopres_172250 = tmp_178703;
                                loopres_172251 = tmp_178704;
                            } else {
                                bool x_172261 = sle64((int64_t) 0, j_172230);
                                bool y_172262 = slt64(j_172230, j_m_i_172183);
                                bool bounds_check_172263 = x_172261 && y_172262;
                                bool index_certs_172264;
                                
                                if (!bounds_check_172263) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172265 = merge_sequential_arg2_172181 + j_172230;
                                int64_t slice_172266 = start_171991 + slice_172265;
                                double tmp_172267 = ((double *) mem_param_181134.mem)[slice_172266];
                                int64_t tmp_172268 = ((int64_t *) mem_param_181137.mem)[slice_172266];
                                
                                loopres_172249 = i_172227;
                                loopres_172250 = tmp_172267;
                                loopres_172251 = tmp_172268;
                            }
                            ((double *) mem_181170)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172250;
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172251;
                            
                            int64_t i_tmp_182510 = loopres_172249;
                            
                            i_172227 = i_tmp_182510;
                        }
                        data_172223 = i_172227;
                    }
                    if (memblock_alloc(ctx, &mem_181208, bytes_181169, "mem_181208")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181208.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181170, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_alloc(ctx, &mem_181212, bytes_181169, "mem_181212")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181212.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181173, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181208, "mem_181208") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181212, "mem_181212") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181140, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181235.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181143, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181232.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172275 = next_stride_171919 * num_merges_171923;
            
            if (memblock_alloc(ctx, &mem_181246, bytes_181139, "mem_181246")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181246.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181140, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            if (memblock_alloc(ctx, &mem_181250, bytes_181139, "mem_181250")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181250.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181143, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            
            bool loop_cond_172278 = slt64(next_stride_171919, flat_dim_171803);
            
            if (memblock_set(ctx, &mem_param_tmp_182484, &mem_181246, "mem_181246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182485, &mem_181250, "mem_181250") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182486 = flat_dim_172275;
            bool loop_while_tmp_182487 = loop_cond_172278;
            int64_t stride_tmp_182490 = next_stride_171919;
            
            if (memblock_set(ctx, &mem_param_181134, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181137, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
                return 1;
            loop_dz2084Uz2082U_171914 = loop_dz2084Uz2082U_tmp_182486;
            loop_while_171915 = loop_while_tmp_182487;
            stride_171918 = stride_tmp_182490;
        }
        if (memblock_set(ctx, &ext_mem_181257, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181256, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        data_171909 = loop_dz2084Uz2082U_171914;
        data_171910 = loop_while_171915;
        data_171913 = stride_171918;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        
        bool empty_slice_172279 = n_108150 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172280 = sle64((int64_t) 0, zs_lhs_171787);
        bool i_p_m_t_s_leq_w_172281 = slt64(zs_lhs_171787, data_171909);
        bool y_172282 = zzero_leq_i_p_m_t_s_172280 && i_p_m_t_s_leq_w_172281;
        bool ok_or_empty_172283 = empty_slice_172279 || y_172282;
        bool index_certs_172284;
        
        if (!ok_or_empty_172283) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_108150, "] out of bounds for array of shape [", (long long) data_171909, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:211:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181260, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181262, bytes_181054, "mem_181262")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181264, bytes_181054, "mem_181264")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180754 = 0; i_180754 < n_108150; i_180754++) {
        int64_t eta_p_172288 = ((int64_t *) ext_mem_181260.mem)[i_180754];
        bool x_172289 = sle64((int64_t) 0, eta_p_172288);
        bool y_172290 = slt64(eta_p_172288, n_108150);
        bool bounds_check_172291 = x_172289 && y_172290;
        bool index_certs_172292;
        
        if (!bounds_check_172291) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172288, "] out of bounds for array of shape [", (long long) n_108150, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172293 = ((int64_t *) ext_mem_181053.mem)[eta_p_172288];
        double lifted_lambda_res_172294 = ((double *) xs_mem_181052.mem)[eta_p_172288];
        
        ((int64_t *) mem_181262.mem)[i_180754] = lifted_lambda_res_172293;
        ((double *) mem_181264.mem)[i_180754] = lifted_lambda_res_172294;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181262, "mem_181262") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181264, "mem_181264") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182730, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182731, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181058);
        free(mem_181061);
        free(mem_181071);
        free(mem_181073);
        free(mem_181140);
        free(mem_181143);
        free(mem_181153);
        free(mem_181155);
        free(mem_181170);
        free(mem_181173);
        if (memblock_unref(ctx, &mem_181264, "mem_181264") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181262, "mem_181262") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181250, "mem_181250") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181246, "mem_181246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181212, "mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181208, "mem_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181215, "mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181257, "ext_mem_181257") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182742, struct memblock *mem_out_p_182743, struct memblock xs_mem_181052, int64_t n_105806, int64_t incr_105807)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181058_cached_sizze_182744 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181061_cached_sizze_182745 = 0;
    unsigned char *mem_181061 = NULL;
    int64_t mem_181071_cached_sizze_182746 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_182747 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181140_cached_sizze_182748 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181143_cached_sizze_182749 = 0;
    unsigned char *mem_181143 = NULL;
    int64_t mem_181153_cached_sizze_182750 = 0;
    unsigned char *mem_181153 = NULL;
    int64_t mem_181155_cached_sizze_182751 = 0;
    unsigned char *mem_181155 = NULL;
    int64_t mem_181170_cached_sizze_182752 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181173_cached_sizze_182753 = 0;
    unsigned char *mem_181173 = NULL;
    struct memblock mem_181264;
    
    mem_181264.references = NULL;
    
    struct memblock mem_181262;
    
    mem_181262.references = NULL;
    
    struct memblock mem_param_tmp_182485;
    
    mem_param_tmp_182485.references = NULL;
    
    struct memblock mem_param_tmp_182484;
    
    mem_param_tmp_182484.references = NULL;
    
    struct memblock mem_181250;
    
    mem_181250.references = NULL;
    
    struct memblock mem_181246;
    
    mem_181246.references = NULL;
    
    struct memblock mem_181212;
    
    mem_181212.references = NULL;
    
    struct memblock mem_181208;
    
    mem_181208.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock mem_181215;
    
    mem_181215.references = NULL;
    
    struct memblock ext_mem_181232;
    
    ext_mem_181232.references = NULL;
    
    struct memblock ext_mem_181235;
    
    ext_mem_181235.references = NULL;
    
    struct memblock mem_param_181137;
    
    mem_param_181137.references = NULL;
    
    struct memblock mem_param_181134;
    
    mem_param_181134.references = NULL;
    
    struct memblock ext_mem_181256;
    
    ext_mem_181256.references = NULL;
    
    struct memblock ext_mem_181257;
    
    ext_mem_181257.references = NULL;
    
    struct memblock mem_181130;
    
    mem_181130.references = NULL;
    
    struct memblock mem_181126;
    
    mem_181126.references = NULL;
    
    struct memblock ext_mem_181260;
    
    ext_mem_181260.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_105806;
    bool cond_171786 = sle64(n_105806, (int64_t) 1);
    int64_t zs_lhs_171787 = sub64(n_105806, (int64_t) 1);
    int64_t zp_rhs_171788 = sdiv_safe64(zs_lhs_171787, (int64_t) 20);
    int64_t min_num_blocks_171789 = add64((int64_t) 1, zp_rhs_171788);
    bool loop_cond_171790 = slt64((int64_t) 1, min_num_blocks_171789);
    bool smallest_pow_2_geq_than_res_171791;
    int64_t smallest_pow_2_geq_than_res_171792;
    bool loop_while_171793;
    int64_t x_171794;
    
    loop_while_171793 = loop_cond_171790;
    x_171794 = (int64_t) 1;
    while (loop_while_171793) {
        int64_t loopres_171795 = mul64((int64_t) 2, x_171794);
        bool loop_cond_171796 = slt64(loopres_171795, min_num_blocks_171789);
        bool loop_while_tmp_182468 = loop_cond_171796;
        int64_t x_tmp_182469 = loopres_171795;
        
        loop_while_171793 = loop_while_tmp_182468;
        x_171794 = x_tmp_182469;
    }
    smallest_pow_2_geq_than_res_171791 = loop_while_171793;
    smallest_pow_2_geq_than_res_171792 = x_171794;
    
    bool zzero_171797 = smallest_pow_2_geq_than_res_171792 == (int64_t) 0;
    bool nonzzero_171798 = !zzero_171797;
    bool protect_assert_disj_171799 = cond_171786 || nonzzero_171798;
    bool nonzzero_cert_171800;
    
    if (!protect_assert_disj_171799) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171801 = sdiv_safe64(zs_lhs_171787, smallest_pow_2_geq_than_res_171792);
    int64_t block_sizze_171802 = add64((int64_t) 1, zp_rhs_171801);
    bool y_171807 = slt64((int64_t) 0, n_105806);
    bool protect_assert_disj_182165 = cond_171786 || y_171807;
    bool index_certs_171808;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105806, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171821 = slt64(smallest_pow_2_geq_than_res_171792, (int64_t) 0);
    bool valid_171822 = !bounds_invalid_upwards_171821;
    bool protect_assert_disj_182173 = cond_171786 || valid_171822;
    bool range_valid_c_171823;
    
    if (!protect_assert_disj_182173) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:211:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171825 = slt64(block_sizze_171802, (int64_t) 0);
    bool valid_171826 = !bounds_invalid_upwards_171825;
    bool protect_assert_disj_182175 = cond_171786 || valid_171826;
    bool range_valid_c_171827;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171802, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171829 = sle64(block_sizze_171802, (int64_t) 1);
    int64_t tmp_171830 = sub64(block_sizze_171802, (int64_t) 2);
    bool bounds_invalid_upwards_171831 = slt64(tmp_171830, (int64_t) 0);
    bool valid_171833 = !bounds_invalid_upwards_171831;
    bool protect_assert_disj_171834 = cond_171829 || valid_171833;
    bool protect_assert_disj_182177 = cond_171786 || protect_assert_disj_171834;
    bool range_valid_c_171835;
    
    if (!protect_assert_disj_182177) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171830, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181263 = (int64_t) 4 * n_105806;
    
    if (futrts_indicesWithIncrement_9509(ctx, &ext_mem_181053, xs_mem_181052, n_105806, incr_105807) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182470 = 0; i_182470 < n_105806; i_182470++) {
        int64_t x_182471 = (int64_t) 0 + i_182470 * (int64_t) 1;
        
        ((int64_t *) mem_181055.mem)[i_182470] = x_182471;
    }
    
    int64_t flat_dim_171803 = smallest_pow_2_geq_than_res_171792 * block_sizze_171802;
    bool x_182160 = !cond_171786;
    int64_t greatest_divisor_leq_than_arg1_171805 = mul64((int64_t) 2, block_sizze_171802);
    int64_t merge_block_sizze_171806;
    
    if (x_182160) {
        int64_t x_182162;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182162, (int64_t) 8, greatest_divisor_leq_than_arg1_171805) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171806 = x_182162;
    } else {
        merge_block_sizze_171806 = (int64_t) 0;
    }
    
    float reduce_arg1_171809;
    
    if (x_182160) {
        float x_182166 = ((float *) xs_mem_181052.mem)[(int64_t) 0];
        
        reduce_arg1_171809 = x_182166;
    } else {
        reduce_arg1_171809 = 0.0F;
    }
    
    float defunc_0_reduce_res_178711;
    int64_t defunc_0_reduce_res_178712;
    
    if (x_182160) {
        float x_182168;
        int64_t x_182169;
        float redout_180712;
        int64_t redout_180713;
        
        redout_180712 = reduce_arg1_171809;
        redout_180713 = (int64_t) 0;
        for (int64_t i_180714 = 0; i_180714 < n_105806; i_180714++) {
            float x_171812 = ((float *) xs_mem_181052.mem)[i_180714];
            bool zlze_res_171818 = redout_180712 <= x_171812;
            float defunc_0_op_res_171819;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171819 = x_171812;
            } else {
                defunc_0_op_res_171819 = redout_180712;
            }
            
            int64_t defunc_0_op_res_171820;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171820 = i_180714;
            } else {
                defunc_0_op_res_171820 = redout_180713;
            }
            
            float redout_tmp_182472 = defunc_0_op_res_171819;
            int64_t redout_tmp_182473 = defunc_0_op_res_171820;
            
            redout_180712 = redout_tmp_182472;
            redout_180713 = redout_tmp_182473;
        }
        x_182168 = redout_180712;
        x_182169 = redout_180713;
        defunc_0_reduce_res_178711 = x_182168;
        defunc_0_reduce_res_178712 = x_182169;
    } else {
        defunc_0_reduce_res_178711 = 0.0F;
        defunc_0_reduce_res_178712 = (int64_t) 0;
    }
    
    int64_t distance_171832 = add64((int64_t) 1, tmp_171830);
    int64_t binop_x_181056 = (int64_t) 4 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181057 = block_sizze_171802 * binop_x_181056;
    int64_t binop_x_181059 = (int64_t) 8 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181060 = block_sizze_171802 * binop_x_181059;
    int64_t bytes_181070 = (int64_t) 4 * block_sizze_171802;
    int64_t bytes_181072 = (int64_t) 8 * block_sizze_171802;
    bool loop_cond_171906 = slt64(block_sizze_171802, flat_dim_171803);
    bool zzero_171907 = merge_block_sizze_171806 == (int64_t) 0;
    bool nonzzero_171908 = !zzero_171907;
    
    if (cond_171786) {
        if (memblock_set(ctx, &ext_mem_181260, &mem_181055, "mem_181055") != 0)
            return 1;
    } else {
        if (mem_181058_cached_sizze_182744 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182744, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181061_cached_sizze_182745 < bytes_181060) {
            err = lexical_realloc(ctx, &mem_181061, &mem_181061_cached_sizze_182745, bytes_181060);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181071_cached_sizze_182746 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182746, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181073_cached_sizze_182747 < bytes_181072) {
            err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_182747, bytes_181072);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180726 = 0; i_180726 < smallest_pow_2_geq_than_res_171792; i_180726++) {
            int64_t zp_lhs_171839 = mul64(block_sizze_171802, i_180726);
            
            for (int64_t i_180719 = 0; i_180719 < block_sizze_171802; i_180719++) {
                int64_t k_171843 = add64(zp_lhs_171839, i_180719);
                bool cond_171844 = slt64(k_171843, n_105806);
                float lifted_lambda_res_171845;
                int64_t lifted_lambda_res_171846;
                
                if (cond_171844) {
                    bool x_178564 = sle64((int64_t) 0, k_171843);
                    bool bounds_check_178565 = cond_171844 && x_178564;
                    bool index_certs_178566;
                    
                    if (!bounds_check_178565) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171843, "] out of bounds for array of shape [", (long long) n_105806, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_178567 = ((float *) xs_mem_181052.mem)[k_171843];
                    
                    lifted_lambda_res_171845 = lifted_lambda_res_t_res_178567;
                    lifted_lambda_res_171846 = k_171843;
                } else {
                    lifted_lambda_res_171845 = defunc_0_reduce_res_178711;
                    lifted_lambda_res_171846 = defunc_0_reduce_res_178712;
                }
                ((float *) mem_181071)[i_180719] = lifted_lambda_res_171845;
                ((int64_t *) mem_181073)[i_180719] = lifted_lambda_res_171846;
            }
            if (!cond_171829) {
                for (int64_t i_171855 = 0; i_171855 < distance_171832; i_171855++) {
                    int64_t gt_arg1_171858 = add64((int64_t) 1, i_171855);
                    bool x_171859 = sle64((int64_t) 0, gt_arg1_171858);
                    bool y_171860 = slt64(gt_arg1_171858, block_sizze_171802);
                    bool bounds_check_171861 = x_171859 && y_171860;
                    bool index_certs_171862;
                    
                    if (!bounds_check_171861) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171858, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171864 = slt64(i_171855, block_sizze_171802);
                    bool index_certs_171865;
                    
                    if (!y_171864) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171855, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_171863 = ((float *) mem_181071)[gt_arg1_171858];
                    float gt_arg0_171866 = ((float *) mem_181071)[i_171855];
                    bool zlze_res_171867 = gt_arg0_171866 <= gt_arg1_171863;
                    bool defunc_0_lifted_gt_res_171868 = !zlze_res_171867;
                    bool s_171869;
                    int64_t s_171872;
                    bool loop_while_171873;
                    int64_t j_171876;
                    
                    loop_while_171873 = defunc_0_lifted_gt_res_171868;
                    j_171876 = i_171855;
                    while (loop_while_171873) {
                        bool x_171877 = sle64((int64_t) 0, j_171876);
                        bool y_171878 = slt64(j_171876, block_sizze_171802);
                        bool bounds_check_171879 = x_171877 && y_171878;
                        bool index_certs_171880;
                        
                        if (!bounds_check_171879) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171876, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171883 = add64((int64_t) 1, j_171876);
                        bool x_171884 = sle64((int64_t) 0, copy_arg0_171883);
                        bool y_171885 = slt64(copy_arg0_171883, block_sizze_171802);
                        bool bounds_check_171886 = x_171884 && y_171885;
                        bool index_certs_171887;
                        
                        if (!bounds_check_171886) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171883, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_171881 = ((float *) mem_181071)[j_171876];
                        int64_t copy_arg0_171882 = ((int64_t *) mem_181073)[j_171876];
                        float copy_arg0_171888 = ((float *) mem_181071)[copy_arg0_171883];
                        int64_t copy_arg0_171889 = ((int64_t *) mem_181073)[copy_arg0_171883];
                        
                        ((float *) mem_181071)[j_171876] = copy_arg0_171888;
                        ((int64_t *) mem_181073)[j_171876] = copy_arg0_171889;
                        ((float *) mem_181071)[copy_arg0_171883] = copy_arg0_171881;
                        ((int64_t *) mem_181073)[copy_arg0_171883] = copy_arg0_171882;
                        
                        int64_t tmp_171894 = sub64(j_171876, (int64_t) 1);
                        bool cond_171895 = sle64((int64_t) 0, tmp_171894);
                        bool loop_cond_171896;
                        
                        if (cond_171895) {
                            bool y_178569 = slt64(tmp_171894, block_sizze_171802);
                            bool bounds_check_178570 = cond_171895 && y_178569;
                            bool index_certs_178571;
                            
                            if (!bounds_check_178570) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171894, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_178568 = ((float *) mem_181071)[j_171876];
                            float gt_arg0_178572 = ((float *) mem_181071)[tmp_171894];
                            bool zlze_res_178573 = gt_arg0_178572 <= gt_arg1_178568;
                            bool defunc_0_lifted_gt_res_178574 = !zlze_res_178573;
                            
                            loop_cond_171896 = defunc_0_lifted_gt_res_178574;
                        } else {
                            loop_cond_171896 = 0;
                        }
                        
                        bool loop_while_tmp_182480 = loop_cond_171896;
                        int64_t j_tmp_182483 = tmp_171894;
                        
                        loop_while_171873 = loop_while_tmp_182480;
                        j_171876 = j_tmp_182483;
                    }
                    s_171869 = loop_while_171873;
                    s_171872 = j_171876;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181071, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181061, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181073, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
        }
        if (memblock_alloc(ctx, &mem_181126, bytes_181057, "mem_181126")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181126.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint32_t *) mem_181058, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        if (memblock_alloc(ctx, &mem_181130, bytes_181060, "mem_181130")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181130.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181061, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        
        int64_t data_171909;
        bool data_171910;
        int64_t data_171913;
        int64_t loop_dz2084Uz2082U_171914;
        bool loop_while_171915;
        int64_t stride_171918;
        
        if (memblock_set(ctx, &mem_param_181134, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181137, &mem_181130, "mem_181130") != 0)
            return 1;
        loop_dz2084Uz2082U_171914 = flat_dim_171803;
        loop_while_171915 = loop_cond_171906;
        stride_171918 = block_sizze_171802;
        while (loop_while_171915) {
            int64_t next_stride_171919 = mul64((int64_t) 2, stride_171918);
            bool zzero_171920 = next_stride_171919 == (int64_t) 0;
            bool nonzzero_171921 = !zzero_171920;
            bool nonzzero_cert_171922;
            
            if (!nonzzero_171921) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171923 = sdiv64(flat_dim_171803, next_stride_171919);
            bool bounds_invalid_upwards_171924 = slt64(num_merges_171923, (int64_t) 0);
            bool valid_171925 = !bounds_invalid_upwards_171924;
            bool range_valid_c_171926;
            
            if (!valid_171925) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171923, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:211:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171928 = sub64(next_stride_171919, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171929 = sle64((int64_t) 0, m_171928);
            bool cond_171931 = slt64(next_stride_171919, (int64_t) 10);
            bool protect_assert_disj_171932 = nonzzero_171908 || cond_171931;
            bool nonzzero_cert_171933;
            
            if (!protect_assert_disj_171932) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171934 = smod_safe64(next_stride_171919, merge_block_sizze_171806);
            bool num_blocks_171935 = zeze_lhs_171934 == (int64_t) 0;
            bool protect_assert_disj_171936 = cond_171931 || num_blocks_171935;
            bool assert_c_171937;
            
            if (!protect_assert_disj_171936) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171939 = sdiv_safe64(next_stride_171919, merge_block_sizze_171806);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940 = add64((int64_t) 1, num_blocks_171939);
            int64_t j_m_i_171941 = sub64(next_stride_171919, stride_171918);
            int64_t flat_dim_171942 = merge_block_sizze_171806 * num_blocks_171939;
            bool bounds_invalid_upwards_171943 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, (int64_t) 0);
            bool zzero_lte_i_171944 = sle64((int64_t) 0, stride_171918);
            bool i_lte_j_171945 = sle64(stride_171918, next_stride_171919);
            bool empty_slice_171946 = stride_171918 == (int64_t) 0;
            int64_t m_171947 = sub64(stride_171918, (int64_t) 1);
            bool bounds_invalid_upwards_171948 = slt64(num_blocks_171939, (int64_t) 0);
            bool empty_slice_171949 = j_m_i_171941 == (int64_t) 0;
            int64_t m_171950 = sub64(j_m_i_171941, (int64_t) 1);
            bool cond_171951 = slt64((int64_t) 0, stride_171918);
            bool valid_171952 = !bounds_invalid_upwards_171943;
            bool zzero_leq_i_p_m_t_s_171953 = sle64((int64_t) 0, m_171947);
            bool i_p_m_t_s_leq_w_171954 = slt64(m_171947, next_stride_171919);
            bool valid_171955 = !bounds_invalid_upwards_171948;
            bool i_p_m_t_s_leq_w_171956 = slt64(m_171928, flat_dim_171942);
            int64_t i_p_m_t_s_171957 = add64(stride_171918, m_171950);
            bool y_171958 = slt64((int64_t) 0, j_m_i_171941);
            bool protect_assert_disj_171959 = cond_171931 || valid_171952;
            bool range_valid_c_171960;
            
            if (!protect_assert_disj_171959) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171961 = zzero_leq_i_p_m_t_s_171953 && i_p_m_t_s_leq_w_171954;
            bool protect_assert_disj_171962 = cond_171931 || valid_171955;
            bool range_valid_c_171963;
            
            if (!protect_assert_disj_171962) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171939, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171964 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_171956;
            bool zzero_leq_i_p_m_t_s_171965 = sle64((int64_t) 0, i_p_m_t_s_171957);
            bool i_p_m_t_s_leq_w_171966 = slt64(i_p_m_t_s_171957, next_stride_171919);
            bool forwards_ok_171967 = zzero_lte_i_171944 && y_171961;
            bool ok_or_empty_171968 = zzero_171920 || y_171964;
            bool y_171969 = zzero_lte_i_171944 && i_p_m_t_s_leq_w_171966;
            bool protect_assert_disj_171970 = cond_171951 || y_171958;
            bool ok_or_empty_171971 = empty_slice_171946 || forwards_ok_171967;
            bool protect_assert_disj_171972 = cond_171931 || ok_or_empty_171968;
            bool index_certs_171973;
            
            if (!protect_assert_disj_171972) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) flat_dim_171942, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171974 = zzero_leq_i_p_m_t_s_171965 && y_171969;
            bool loop_not_taken_171975 = !cond_171931;
            bool protect_assert_disj_171976 = protect_assert_disj_171970 || loop_not_taken_171975;
            bool index_certs_171977;
            
            if (!protect_assert_disj_171976) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171978 = cond_171931 || ok_or_empty_171971;
            bool index_certs_171979;
            
            if (!protect_assert_disj_171978) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171980 = i_lte_j_171945 && y_171974;
            bool protect_assert_disj_171981 = ok_or_empty_171971 || loop_not_taken_171975;
            bool index_certs_171982;
            
            if (!protect_assert_disj_171981) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171983 = empty_slice_171949 || forwards_ok_171980;
            bool protect_assert_disj_171984 = loop_not_taken_171975 || ok_or_empty_171983;
            bool index_certs_171985;
            
            if (!protect_assert_disj_171984) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171986 = cond_171931 || ok_or_empty_171983;
            bool index_certs_171987;
            
            if (!protect_assert_disj_171986) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181138 = (int64_t) 4 * num_merges_171923;
            int64_t bytes_181139 = next_stride_171919 * binop_x_181138;
            int64_t binop_x_181141 = (int64_t) 8 * num_merges_171923;
            int64_t bytes_181142 = next_stride_171919 * binop_x_181141;
            bool i_lte_j_171930 = sle64((int64_t) 0, next_stride_171919);
            
            if (mem_181140_cached_sizze_182748 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182748, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181143_cached_sizze_182749 < bytes_181142) {
                err = lexical_realloc(ctx, &mem_181143, &mem_181143_cached_sizze_182749, bytes_181142);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181152 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940;
            int64_t binop_x_181168 = (int64_t) 4 * num_blocks_171939;
            int64_t bytes_181169 = merge_block_sizze_171806 * binop_x_181168;
            int64_t binop_x_181171 = (int64_t) 8 * num_blocks_171939;
            int64_t bytes_181172 = merge_block_sizze_171806 * binop_x_181171;
            int64_t bytes_181214 = (int64_t) 8 * stride_171918;
            int64_t bytes_181216 = (int64_t) 16 * stride_171918;
            
            for (int64_t i_180747 = 0; i_180747 < num_merges_171923; i_180747++) {
                int64_t start_171991 = mul64(next_stride_171919, i_180747);
                int64_t j_m_i_171992 = sub64(loop_dz2084Uz2082U_171914, start_171991);
                bool empty_slice_171993 = j_m_i_171992 == (int64_t) 0;
                int64_t m_171994 = sub64(j_m_i_171992, (int64_t) 1);
                int64_t i_p_m_t_s_171995 = add64(start_171991, m_171994);
                bool zzero_leq_i_p_m_t_s_171996 = sle64((int64_t) 0, i_p_m_t_s_171995);
                bool i_p_m_t_s_leq_w_171997 = slt64(i_p_m_t_s_171995, loop_dz2084Uz2082U_171914);
                bool zzero_lte_i_171998 = sle64((int64_t) 0, start_171991);
                bool i_lte_j_171999 = sle64(start_171991, loop_dz2084Uz2082U_171914);
                bool y_172000 = i_p_m_t_s_leq_w_171997 && zzero_lte_i_171998;
                bool y_172001 = zzero_leq_i_p_m_t_s_171996 && y_172000;
                bool forwards_ok_172002 = i_lte_j_171999 && y_172001;
                bool ok_or_empty_172003 = empty_slice_171993 || forwards_ok_172002;
                bool index_certs_172004;
                
                if (!ok_or_empty_172003) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171991, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171914, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172005 = slt64(m_171928, j_m_i_171992);
                bool y_172006 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_172005;
                bool forwards_ok_172007 = i_lte_j_171930 && y_172006;
                bool ok_or_empty_172008 = zzero_171920 || forwards_ok_172007;
                bool index_certs_172009;
                
                if (!ok_or_empty_172008) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) j_m_i_171992, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:211:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171931) {
                    float dummy_178600;
                    int64_t dummy_178601;
                    
                    if (cond_171951) {
                        float head_res_178602 = ((float *) mem_param_181134.mem)[start_171991];
                        int64_t head_res_178603 = ((int64_t *) mem_param_181137.mem)[start_171991];
                        
                        dummy_178600 = head_res_178602;
                        dummy_178601 = head_res_178603;
                    } else {
                        int64_t slice_178604 = stride_171918 + start_171991;
                        float head_res_178605 = ((float *) mem_param_181134.mem)[slice_178604];
                        int64_t head_res_178606 = ((int64_t *) mem_param_181137.mem)[slice_178604];
                        
                        dummy_178600 = head_res_178605;
                        dummy_178601 = head_res_178606;
                    }
                    if (memblock_alloc(ctx, &mem_181215, bytes_181214, "mem_181215")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182493 = 0; nest_i_182493 < next_stride_171919; nest_i_182493++) {
                        ((float *) mem_181215.mem)[nest_i_182493] = dummy_178600;
                    }
                    if (memblock_alloc(ctx, &mem_181217, bytes_181216, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182494 = 0; nest_i_182494 < next_stride_171919; nest_i_182494++) {
                        ((int64_t *) mem_181217.mem)[nest_i_182494] = dummy_178601;
                    }
                    
                    int64_t data_178609;
                    int64_t i_178613 = (int64_t) 0;
                    
                    for (int64_t k_178612 = 0; k_178612 < next_stride_171919; k_178612++) {
                        int64_t j_178616 = sub64(k_178612, i_178613);
                        bool cond_178617 = j_178616 == j_m_i_171941;
                        bool cond_178618;
                        
                        if (cond_178617) {
                            cond_178618 = 1;
                        } else {
                            bool cond_178619 = slt64(i_178613, stride_171918);
                            bool cond_f_res_178620;
                            
                            if (cond_178619) {
                                bool x_178621 = sle64((int64_t) 0, j_178616);
                                bool y_178622 = slt64(j_178616, j_m_i_171941);
                                bool bounds_check_178623 = x_178621 && y_178622;
                                bool index_certs_178624;
                                
                                if (!bounds_check_178623) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178628 = sle64((int64_t) 0, i_178613);
                                bool bounds_check_178629 = cond_178619 && x_178628;
                                bool index_certs_178630;
                                
                                if (!bounds_check_178629) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178625 = stride_171918 + j_178616;
                                int64_t slice_178626 = start_171991 + slice_178625;
                                float leq_arg1_178627 = ((float *) mem_param_181134.mem)[slice_178626];
                                int64_t slice_178631 = start_171991 + i_178613;
                                float leq_arg0_178632 = ((float *) mem_param_181134.mem)[slice_178631];
                                bool zlze_res_178633 = leq_arg0_178632 <= leq_arg1_178627;
                                
                                cond_f_res_178620 = zlze_res_178633;
                            } else {
                                cond_f_res_178620 = 0;
                            }
                            cond_178618 = cond_f_res_178620;
                        }
                        
                        int64_t loopres_178634;
                        float loopres_178635;
                        int64_t loopres_178636;
                        
                        if (cond_178618) {
                            bool x_178638 = sle64((int64_t) 0, i_178613);
                            bool y_178639 = slt64(i_178613, stride_171918);
                            bool bounds_check_178640 = x_178638 && y_178639;
                            bool index_certs_178641;
                            
                            if (!bounds_check_178640) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178637 = add64((int64_t) 1, i_178613);
                            int64_t slice_178642 = start_171991 + i_178613;
                            float tmp_178643 = ((float *) mem_param_181134.mem)[slice_178642];
                            int64_t tmp_178644 = ((int64_t *) mem_param_181137.mem)[slice_178642];
                            
                            loopres_178634 = tmp_178637;
                            loopres_178635 = tmp_178643;
                            loopres_178636 = tmp_178644;
                        } else {
                            bool x_178645 = sle64((int64_t) 0, j_178616);
                            bool y_178646 = slt64(j_178616, j_m_i_171941);
                            bool bounds_check_178647 = x_178645 && y_178646;
                            bool index_certs_178648;
                            
                            if (!bounds_check_178647) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:211:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178649 = stride_171918 + j_178616;
                            int64_t slice_178650 = start_171991 + slice_178649;
                            float tmp_178651 = ((float *) mem_param_181134.mem)[slice_178650];
                            int64_t tmp_178652 = ((int64_t *) mem_param_181137.mem)[slice_178650];
                            
                            loopres_178634 = i_178613;
                            loopres_178635 = tmp_178651;
                            loopres_178636 = tmp_178652;
                        }
                        ((float *) mem_181215.mem)[k_178612] = loopres_178635;
                        ((int64_t *) mem_181217.mem)[k_178612] = loopres_178636;
                        
                        int64_t i_tmp_182495 = loopres_178634;
                        
                        i_178613 = i_tmp_182495;
                    }
                    data_178609 = i_178613;
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181215, "mem_181215") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181217, "mem_181217") != 0)
                        return 1;
                } else {
                    if (mem_181153_cached_sizze_182750 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182750, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181155_cached_sizze_182751 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181155, &mem_181155_cached_sizze_182751, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180733 = 0; i_180733 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940; i_180733++) {
                        int64_t split_count_arg3_172071 = mul64(merge_block_sizze_171806, i_180733);
                        int64_t defunc_0_split_count_res_172072;
                        int64_t defunc_0_split_count_res_172073;
                        int64_t defunc_0_split_count_res_172074;
                        int64_t defunc_0_split_count_res_172075;
                        int64_t defunc_0_split_count_res_172076;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_172072, &defunc_0_split_count_res_172073, &defunc_0_split_count_res_172074, &defunc_0_split_count_res_172075, &defunc_0_split_count_res_172076, (int64_t) 0, stride_171918, (int64_t) 0, j_m_i_171941, split_count_arg3_172071) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172077 = slt64((int64_t) 0, defunc_0_split_count_res_172076);
                        bool defunc_0_split_count_res_172078;
                        int64_t defunc_0_split_count_res_172079;
                        int64_t defunc_0_split_count_res_172080;
                        int64_t defunc_0_split_count_res_172081;
                        int64_t defunc_0_split_count_res_172082;
                        int64_t defunc_0_split_count_res_172083;
                        bool loop_while_172084;
                        int64_t ss_172085;
                        int64_t ss_172086;
                        int64_t tt_172087;
                        int64_t tt_172088;
                        int64_t count_172089;
                        
                        loop_while_172084 = loop_cond_172077;
                        ss_172085 = defunc_0_split_count_res_172072;
                        ss_172086 = defunc_0_split_count_res_172073;
                        tt_172087 = defunc_0_split_count_res_172074;
                        tt_172088 = defunc_0_split_count_res_172075;
                        count_172089 = defunc_0_split_count_res_172076;
                        while (loop_while_172084) {
                            int64_t zlze_lhs_172090 = sub64(ss_172086, ss_172085);
                            bool cond_172091 = sle64(zlze_lhs_172090, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172092;
                            int64_t defunc_0_lifted_step_res_172093;
                            int64_t defunc_0_lifted_step_res_172094;
                            int64_t defunc_0_lifted_step_res_172095;
                            
                            if (cond_172091) {
                                int64_t tmp_178655 = add64(tt_172087, count_172089);
                                
                                defunc_0_lifted_step_res_172092 = ss_172085;
                                defunc_0_lifted_step_res_172093 = tmp_178655;
                                defunc_0_lifted_step_res_172094 = tt_172088;
                                defunc_0_lifted_step_res_172095 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172097 = sub64(tt_172088, tt_172087);
                                bool cond_172098 = sle64(zlze_lhs_172097, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172099;
                                int64_t defunc_0_lifted_step_res_f_res_172100;
                                int64_t defunc_0_lifted_step_res_f_res_172101;
                                int64_t defunc_0_lifted_step_res_f_res_172102;
                                
                                if (cond_172098) {
                                    int64_t tmp_178656 = add64(ss_172085, count_172089);
                                    
                                    defunc_0_lifted_step_res_f_res_172099 = tmp_178656;
                                    defunc_0_lifted_step_res_f_res_172100 = tt_172087;
                                    defunc_0_lifted_step_res_f_res_172101 = tt_172088;
                                    defunc_0_lifted_step_res_f_res_172102 = (int64_t) 0;
                                } else {
                                    bool cond_172104 = count_172089 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172107;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172108;
                                    
                                    if (cond_172104) {
                                        bool x_178658 = sle64((int64_t) 0, ss_172085);
                                        bool y_178659 = slt64(ss_172085, stride_171918);
                                        bool bounds_check_178660 = x_178658 && y_178659;
                                        bool index_certs_178661;
                                        
                                        if (!bounds_check_178660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172085, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178664 = sle64((int64_t) 0, tt_172087);
                                        bool y_178665 = slt64(tt_172087, j_m_i_171941);
                                        bool bounds_check_178666 = x_178664 && y_178665;
                                        bool index_certs_178667;
                                        
                                        if (!bounds_check_178666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172087, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178662 = start_171991 + ss_172085;
                                        float leq_arg1_178663 = ((float *) mem_param_181134.mem)[slice_178662];
                                        int64_t slice_178668 = stride_171918 + tt_172087;
                                        int64_t slice_178669 = start_171991 + slice_178668;
                                        float leq_arg0_178670 = ((float *) mem_param_181134.mem)[slice_178669];
                                        bool zlze_res_178671 = leq_arg0_178670 <= leq_arg1_178663;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        
                                        if (zlze_res_178671) {
                                            int64_t tmp_178674 = add64((int64_t) 1, tt_172087);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = ss_172085;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tmp_178674;
                                        } else {
                                            int64_t tmp_178675 = add64((int64_t) 1, ss_172085);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = tmp_178675;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tt_172087;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = tt_172088;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = (int64_t) 0;
                                    } else {
                                        int64_t m_172127 = sdiv64(count_172089, (int64_t) 2);
                                        int64_t n_172128 = sub64(count_172089, m_172127);
                                        bool cond_172129 = n_172128 == (int64_t) 0;
                                        int64_t zgze_lhs_172130 = add64(ss_172085, m_172127);
                                        bool cond_f_res_172131 = sle64(ss_172086, zgze_lhs_172130);
                                        bool x_172132 = !cond_172129;
                                        bool y_172133 = cond_f_res_172131 && x_172132;
                                        bool cond_172134 = cond_172129 || y_172133;
                                        bool leq_y_x_172135;
                                        
                                        if (cond_172134) {
                                            leq_y_x_172135 = 1;
                                        } else {
                                            bool x_172136 = sle64((int64_t) 0, zgze_lhs_172130);
                                            bool y_172137 = slt64(zgze_lhs_172130, stride_171918);
                                            bool bounds_check_172138 = x_172136 && y_172137;
                                            bool index_certs_172139;
                                            
                                            if (!bounds_check_172138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172130, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172142 = add64(tt_172087, n_172128);
                                            int64_t leq_arg0_172143 = sub64(zm_lhs_172142, (int64_t) 1);
                                            bool x_172144 = sle64((int64_t) 0, leq_arg0_172143);
                                            bool y_172145 = slt64(leq_arg0_172143, j_m_i_171941);
                                            bool bounds_check_172146 = x_172144 && y_172145;
                                            bool index_certs_172147;
                                            
                                            if (!bounds_check_172146) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172143, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:211:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172140 = start_171991 + zgze_lhs_172130;
                                            float leq_arg1_172141 = ((float *) mem_param_181134.mem)[slice_172140];
                                            int64_t slice_172148 = stride_171918 + leq_arg0_172143;
                                            int64_t slice_172149 = start_171991 + slice_172148;
                                            float leq_arg0_172150 = ((float *) mem_param_181134.mem)[slice_172149];
                                            bool zlze_res_172151 = leq_arg0_172150 <= leq_arg1_172141;
                                            
                                            leq_y_x_172135 = zlze_res_172151;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                        
                                        if (leq_y_x_172135) {
                                            int64_t tmp_178676 = add64(tt_172087, n_172128);
                                            int64_t tmp_178677 = sub64(count_172089, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tmp_178676;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tt_172088;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = tmp_178677;
                                        } else {
                                            int64_t tmp_172157 = add64(tt_172087, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tt_172087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tmp_172157;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = count_172089;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = ss_172085;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                    }
                                    defunc_0_lifted_step_res_f_res_172099 = defunc_0_lifted_step_res_f_res_f_res_172105;
                                    defunc_0_lifted_step_res_f_res_172100 = defunc_0_lifted_step_res_f_res_f_res_172106;
                                    defunc_0_lifted_step_res_f_res_172101 = defunc_0_lifted_step_res_f_res_f_res_172107;
                                    defunc_0_lifted_step_res_f_res_172102 = defunc_0_lifted_step_res_f_res_f_res_172108;
                                }
                                defunc_0_lifted_step_res_172092 = defunc_0_lifted_step_res_f_res_172099;
                                defunc_0_lifted_step_res_172093 = defunc_0_lifted_step_res_f_res_172100;
                                defunc_0_lifted_step_res_172094 = defunc_0_lifted_step_res_f_res_172101;
                                defunc_0_lifted_step_res_172095 = defunc_0_lifted_step_res_f_res_172102;
                            }
                            
                            int64_t loopres_172158;
                            int64_t loopres_172159;
                            int64_t loopres_172160;
                            int64_t loopres_172161;
                            int64_t loopres_172162;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_172158, &loopres_172159, &loopres_172160, &loopres_172161, &loopres_172162, defunc_0_lifted_step_res_172092, ss_172086, defunc_0_lifted_step_res_172093, defunc_0_lifted_step_res_172094, defunc_0_lifted_step_res_172095) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172163 = slt64((int64_t) 0, loopres_172162);
                            bool loop_while_tmp_182500 = loop_cond_172163;
                            int64_t ss_tmp_182501 = loopres_172158;
                            int64_t ss_tmp_182502 = loopres_172159;
                            int64_t tt_tmp_182503 = loopres_172160;
                            int64_t tt_tmp_182504 = loopres_172161;
                            int64_t count_tmp_182505 = loopres_172162;
                            
                            loop_while_172084 = loop_while_tmp_182500;
                            ss_172085 = ss_tmp_182501;
                            ss_172086 = ss_tmp_182502;
                            tt_172087 = tt_tmp_182503;
                            tt_172088 = tt_tmp_182504;
                            count_172089 = count_tmp_182505;
                        }
                        defunc_0_split_count_res_172078 = loop_while_172084;
                        defunc_0_split_count_res_172079 = ss_172085;
                        defunc_0_split_count_res_172080 = ss_172086;
                        defunc_0_split_count_res_172081 = tt_172087;
                        defunc_0_split_count_res_172082 = tt_172088;
                        defunc_0_split_count_res_172083 = count_172089;
                        ((int64_t *) mem_181153)[i_180733] = defunc_0_split_count_res_172079;
                        ((int64_t *) mem_181155)[i_180733] = defunc_0_split_count_res_172081;
                    }
                    if (mem_181170_cached_sizze_182752 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_182752, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181173_cached_sizze_182753 < bytes_181172) {
                        err = lexical_realloc(ctx, &mem_181173, &mem_181173_cached_sizze_182753, bytes_181172);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180740 = 0; i_180740 < num_blocks_171939; i_180740++) {
                        bool y_172169 = slt64(i_180740, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool index_certs_172171;
                        
                        if (!y_172169) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180740, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172172 = ((int64_t *) mem_181153)[i_180740];
                        int64_t defunc_0_f_res_172173 = ((int64_t *) mem_181155)[i_180740];
                        int64_t tmp_172174 = add64((int64_t) 1, i_180740);
                        bool x_172175 = sle64((int64_t) 0, tmp_172174);
                        bool y_172176 = slt64(tmp_172174, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool bounds_check_172177 = x_172175 && y_172176;
                        bool index_certs_172178;
                        
                        if (!bounds_check_172177) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172174, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172179 = ((int64_t *) mem_181153)[tmp_172174];
                        int64_t defunc_0_f_res_172180 = ((int64_t *) mem_181155)[tmp_172174];
                        int64_t merge_sequential_arg2_172181 = add64(stride_171918, defunc_0_f_res_172173);
                        int64_t merge_sequential_arg2_172182 = add64(stride_171918, defunc_0_f_res_172180);
                        int64_t j_m_i_172183 = sub64(merge_sequential_arg2_172182, merge_sequential_arg2_172181);
                        bool empty_slice_172184 = j_m_i_172183 == (int64_t) 0;
                        int64_t m_172185 = sub64(j_m_i_172183, (int64_t) 1);
                        int64_t i_p_m_t_s_172186 = add64(merge_sequential_arg2_172181, m_172185);
                        bool zzero_leq_i_p_m_t_s_172187 = sle64((int64_t) 0, i_p_m_t_s_172186);
                        bool i_p_m_t_s_leq_w_172188 = slt64(i_p_m_t_s_172186, next_stride_171919);
                        bool zzero_lte_i_172189 = sle64((int64_t) 0, merge_sequential_arg2_172181);
                        bool i_lte_j_172190 = sle64(merge_sequential_arg2_172181, merge_sequential_arg2_172182);
                        bool y_172191 = i_p_m_t_s_leq_w_172188 && zzero_lte_i_172189;
                        bool y_172192 = zzero_leq_i_p_m_t_s_172187 && y_172191;
                        bool forwards_ok_172193 = i_lte_j_172190 && y_172192;
                        bool ok_or_empty_172194 = empty_slice_172184 || forwards_ok_172193;
                        bool index_certs_172195;
                        
                        if (!ok_or_empty_172194) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172181, ":", (long long) merge_sequential_arg2_172182, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172196 = sub64(defunc_0_f_res_172179, defunc_0_f_res_172172);
                        bool empty_slice_172197 = j_m_i_172196 == (int64_t) 0;
                        int64_t m_172198 = sub64(j_m_i_172196, (int64_t) 1);
                        int64_t i_p_m_t_s_172199 = add64(defunc_0_f_res_172172, m_172198);
                        bool zzero_leq_i_p_m_t_s_172200 = sle64((int64_t) 0, i_p_m_t_s_172199);
                        bool i_p_m_t_s_leq_w_172201 = slt64(i_p_m_t_s_172199, next_stride_171919);
                        bool zzero_lte_i_172202 = sle64((int64_t) 0, defunc_0_f_res_172172);
                        bool i_lte_j_172203 = sle64(defunc_0_f_res_172172, defunc_0_f_res_172179);
                        bool y_172204 = i_p_m_t_s_leq_w_172201 && zzero_lte_i_172202;
                        bool y_172205 = zzero_leq_i_p_m_t_s_172200 && y_172204;
                        bool forwards_ok_172206 = i_lte_j_172203 && y_172205;
                        bool ok_or_empty_172207 = empty_slice_172197 || forwards_ok_172206;
                        bool index_certs_172208;
                        
                        if (!ok_or_empty_172207) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172172, ":", (long long) defunc_0_f_res_172179, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:211:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172209 = slt64((int64_t) 0, j_m_i_172196);
                        float dummy_172210;
                        int64_t dummy_172211;
                        
                        if (cond_172209) {
                            bool index_certs_178678;
                            
                            if (!cond_172209) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:211:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178679 = start_171991 + defunc_0_f_res_172172;
                            float head_res_178680 = ((float *) mem_param_181134.mem)[slice_178679];
                            int64_t head_res_178681 = ((int64_t *) mem_param_181137.mem)[slice_178679];
                            
                            dummy_172210 = head_res_178680;
                            dummy_172211 = head_res_178681;
                        } else {
                            bool y_172216 = slt64((int64_t) 0, j_m_i_172183);
                            bool index_certs_172217;
                            
                            if (!y_172216) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:211:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172218 = start_171991 + merge_sequential_arg2_172181;
                            float head_res_172219 = ((float *) mem_param_181134.mem)[slice_172218];
                            int64_t head_res_172220 = ((int64_t *) mem_param_181137.mem)[slice_172218];
                            
                            dummy_172210 = head_res_172219;
                            dummy_172211 = head_res_172220;
                        }
                        for (int64_t nest_i_182508 = 0; nest_i_182508 < merge_block_sizze_171806; nest_i_182508++) {
                            ((float *) mem_181170)[i_180740 * merge_block_sizze_171806 + nest_i_182508] = dummy_172210;
                        }
                        for (int64_t nest_i_182509 = 0; nest_i_182509 < merge_block_sizze_171806; nest_i_182509++) {
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + nest_i_182509] = dummy_172211;
                        }
                        
                        int64_t data_172223;
                        int64_t i_172227 = (int64_t) 0;
                        
                        for (int64_t k_172226 = 0; k_172226 < merge_block_sizze_171806; k_172226++) {
                            int64_t j_172230 = sub64(k_172226, i_172227);
                            bool cond_172231 = j_172230 == j_m_i_172183;
                            bool cond_172232;
                            
                            if (cond_172231) {
                                cond_172232 = 1;
                            } else {
                                bool cond_172233 = slt64(i_172227, j_m_i_172196);
                                bool cond_f_res_172234;
                                
                                if (cond_172233) {
                                    bool x_178682 = sle64((int64_t) 0, j_172230);
                                    bool y_178683 = slt64(j_172230, j_m_i_172183);
                                    bool bounds_check_178684 = x_178682 && y_178683;
                                    bool index_certs_178685;
                                    
                                    if (!bounds_check_178684) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178689 = sle64((int64_t) 0, i_172227);
                                    bool bounds_check_178690 = cond_172233 && x_178689;
                                    bool index_certs_178691;
                                    
                                    if (!bounds_check_178690) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178686 = merge_sequential_arg2_172181 + j_172230;
                                    int64_t slice_178687 = start_171991 + slice_178686;
                                    float leq_arg1_178688 = ((float *) mem_param_181134.mem)[slice_178687];
                                    int64_t slice_178692 = defunc_0_f_res_172172 + i_172227;
                                    int64_t slice_178693 = start_171991 + slice_178692;
                                    float leq_arg0_178694 = ((float *) mem_param_181134.mem)[slice_178693];
                                    bool zlze_res_178695 = leq_arg0_178694 <= leq_arg1_178688;
                                    
                                    cond_f_res_172234 = zlze_res_178695;
                                } else {
                                    cond_f_res_172234 = 0;
                                }
                                cond_172232 = cond_f_res_172234;
                            }
                            
                            int64_t loopres_172249;
                            float loopres_172250;
                            int64_t loopres_172251;
                            
                            if (cond_172232) {
                                bool x_178697 = sle64((int64_t) 0, i_172227);
                                bool y_178698 = slt64(i_172227, j_m_i_172196);
                                bool bounds_check_178699 = x_178697 && y_178698;
                                bool index_certs_178700;
                                
                                if (!bounds_check_178699) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178696 = add64((int64_t) 1, i_172227);
                                int64_t slice_178701 = defunc_0_f_res_172172 + i_172227;
                                int64_t slice_178702 = start_171991 + slice_178701;
                                float tmp_178703 = ((float *) mem_param_181134.mem)[slice_178702];
                                int64_t tmp_178704 = ((int64_t *) mem_param_181137.mem)[slice_178702];
                                
                                loopres_172249 = tmp_178696;
                                loopres_172250 = tmp_178703;
                                loopres_172251 = tmp_178704;
                            } else {
                                bool x_172261 = sle64((int64_t) 0, j_172230);
                                bool y_172262 = slt64(j_172230, j_m_i_172183);
                                bool bounds_check_172263 = x_172261 && y_172262;
                                bool index_certs_172264;
                                
                                if (!bounds_check_172263) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:211:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172265 = merge_sequential_arg2_172181 + j_172230;
                                int64_t slice_172266 = start_171991 + slice_172265;
                                float tmp_172267 = ((float *) mem_param_181134.mem)[slice_172266];
                                int64_t tmp_172268 = ((int64_t *) mem_param_181137.mem)[slice_172266];
                                
                                loopres_172249 = i_172227;
                                loopres_172250 = tmp_172267;
                                loopres_172251 = tmp_172268;
                            }
                            ((float *) mem_181170)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172250;
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172251;
                            
                            int64_t i_tmp_182510 = loopres_172249;
                            
                            i_172227 = i_tmp_182510;
                        }
                        data_172223 = i_172227;
                    }
                    if (memblock_alloc(ctx, &mem_181208, bytes_181169, "mem_181208")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181208.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint32_t *) mem_181170, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_alloc(ctx, &mem_181212, bytes_181172, "mem_181212")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181212.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181173, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181208, "mem_181208") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181212, "mem_181212") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181140, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181235.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181143, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181232.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172275 = next_stride_171919 * num_merges_171923;
            
            if (memblock_alloc(ctx, &mem_181246, bytes_181139, "mem_181246")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181246.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint32_t *) mem_181140, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            if (memblock_alloc(ctx, &mem_181250, bytes_181142, "mem_181250")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181250.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181143, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            
            bool loop_cond_172278 = slt64(next_stride_171919, flat_dim_171803);
            
            if (memblock_set(ctx, &mem_param_tmp_182484, &mem_181246, "mem_181246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182485, &mem_181250, "mem_181250") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182486 = flat_dim_172275;
            bool loop_while_tmp_182487 = loop_cond_172278;
            int64_t stride_tmp_182490 = next_stride_171919;
            
            if (memblock_set(ctx, &mem_param_181134, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181137, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
                return 1;
            loop_dz2084Uz2082U_171914 = loop_dz2084Uz2082U_tmp_182486;
            loop_while_171915 = loop_while_tmp_182487;
            stride_171918 = stride_tmp_182490;
        }
        if (memblock_set(ctx, &ext_mem_181257, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181256, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        data_171909 = loop_dz2084Uz2082U_171914;
        data_171910 = loop_while_171915;
        data_171913 = stride_171918;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        
        bool empty_slice_172279 = n_105806 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172280 = sle64((int64_t) 0, zs_lhs_171787);
        bool i_p_m_t_s_leq_w_172281 = slt64(zs_lhs_171787, data_171909);
        bool y_172282 = zzero_leq_i_p_m_t_s_172280 && i_p_m_t_s_leq_w_172281;
        bool ok_or_empty_172283 = empty_slice_172279 || y_172282;
        bool index_certs_172284;
        
        if (!ok_or_empty_172283) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105806, "] out of bounds for array of shape [", (long long) data_171909, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:211:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181260, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181262, bytes_181054, "mem_181262")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181264, bytes_181263, "mem_181264")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180754 = 0; i_180754 < n_105806; i_180754++) {
        int64_t eta_p_172288 = ((int64_t *) ext_mem_181260.mem)[i_180754];
        bool x_172289 = sle64((int64_t) 0, eta_p_172288);
        bool y_172290 = slt64(eta_p_172288, n_105806);
        bool bounds_check_172291 = x_172289 && y_172290;
        bool index_certs_172292;
        
        if (!bounds_check_172291) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172288, "] out of bounds for array of shape [", (long long) n_105806, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:211:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172293 = ((int64_t *) ext_mem_181053.mem)[eta_p_172288];
        float lifted_lambda_res_172294 = ((float *) xs_mem_181052.mem)[eta_p_172288];
        
        ((int64_t *) mem_181262.mem)[i_180754] = lifted_lambda_res_172293;
        ((float *) mem_181264.mem)[i_180754] = lifted_lambda_res_172294;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181262, "mem_181262") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181264, "mem_181264") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182742, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182743, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181058);
        free(mem_181061);
        free(mem_181071);
        free(mem_181073);
        free(mem_181140);
        free(mem_181143);
        free(mem_181153);
        free(mem_181155);
        free(mem_181170);
        free(mem_181173);
        if (memblock_unref(ctx, &mem_181264, "mem_181264") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181262, "mem_181262") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181250, "mem_181250") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181246, "mem_181246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181212, "mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181208, "mem_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181215, "mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181257, "ext_mem_181257") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182754, struct memblock *mem_out_p_182755, struct memblock xs_mem_181052, int64_t n_101119, int64_t incr_101120)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181058_cached_sizze_182756 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181061_cached_sizze_182757 = 0;
    unsigned char *mem_181061 = NULL;
    int64_t mem_181071_cached_sizze_182758 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_182759 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181140_cached_sizze_182760 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181143_cached_sizze_182761 = 0;
    unsigned char *mem_181143 = NULL;
    int64_t mem_181153_cached_sizze_182762 = 0;
    unsigned char *mem_181153 = NULL;
    int64_t mem_181155_cached_sizze_182763 = 0;
    unsigned char *mem_181155 = NULL;
    int64_t mem_181170_cached_sizze_182764 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181173_cached_sizze_182765 = 0;
    unsigned char *mem_181173 = NULL;
    struct memblock mem_181264;
    
    mem_181264.references = NULL;
    
    struct memblock mem_181262;
    
    mem_181262.references = NULL;
    
    struct memblock mem_param_tmp_182485;
    
    mem_param_tmp_182485.references = NULL;
    
    struct memblock mem_param_tmp_182484;
    
    mem_param_tmp_182484.references = NULL;
    
    struct memblock mem_181250;
    
    mem_181250.references = NULL;
    
    struct memblock mem_181246;
    
    mem_181246.references = NULL;
    
    struct memblock mem_181212;
    
    mem_181212.references = NULL;
    
    struct memblock mem_181208;
    
    mem_181208.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock mem_181215;
    
    mem_181215.references = NULL;
    
    struct memblock ext_mem_181232;
    
    ext_mem_181232.references = NULL;
    
    struct memblock ext_mem_181235;
    
    ext_mem_181235.references = NULL;
    
    struct memblock mem_param_181137;
    
    mem_param_181137.references = NULL;
    
    struct memblock mem_param_181134;
    
    mem_param_181134.references = NULL;
    
    struct memblock ext_mem_181256;
    
    ext_mem_181256.references = NULL;
    
    struct memblock ext_mem_181257;
    
    ext_mem_181257.references = NULL;
    
    struct memblock mem_181130;
    
    mem_181130.references = NULL;
    
    struct memblock mem_181126;
    
    mem_181126.references = NULL;
    
    struct memblock ext_mem_181260;
    
    ext_mem_181260.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_101119;
    bool cond_171786 = sle64(n_101119, (int64_t) 1);
    int64_t zs_lhs_171787 = sub64(n_101119, (int64_t) 1);
    int64_t zp_rhs_171788 = sdiv_safe64(zs_lhs_171787, (int64_t) 20);
    int64_t min_num_blocks_171789 = add64((int64_t) 1, zp_rhs_171788);
    bool loop_cond_171790 = slt64((int64_t) 1, min_num_blocks_171789);
    bool smallest_pow_2_geq_than_res_171791;
    int64_t smallest_pow_2_geq_than_res_171792;
    bool loop_while_171793;
    int64_t x_171794;
    
    loop_while_171793 = loop_cond_171790;
    x_171794 = (int64_t) 1;
    while (loop_while_171793) {
        int64_t loopres_171795 = mul64((int64_t) 2, x_171794);
        bool loop_cond_171796 = slt64(loopres_171795, min_num_blocks_171789);
        bool loop_while_tmp_182468 = loop_cond_171796;
        int64_t x_tmp_182469 = loopres_171795;
        
        loop_while_171793 = loop_while_tmp_182468;
        x_171794 = x_tmp_182469;
    }
    smallest_pow_2_geq_than_res_171791 = loop_while_171793;
    smallest_pow_2_geq_than_res_171792 = x_171794;
    
    bool zzero_171797 = smallest_pow_2_geq_than_res_171792 == (int64_t) 0;
    bool nonzzero_171798 = !zzero_171797;
    bool protect_assert_disj_171799 = cond_171786 || nonzzero_171798;
    bool nonzzero_cert_171800;
    
    if (!protect_assert_disj_171799) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171801 = sdiv_safe64(zs_lhs_171787, smallest_pow_2_geq_than_res_171792);
    int64_t block_sizze_171802 = add64((int64_t) 1, zp_rhs_171801);
    bool y_171807 = slt64((int64_t) 0, n_101119);
    bool protect_assert_disj_182165 = cond_171786 || y_171807;
    bool index_certs_171808;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_101119, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171821 = slt64(smallest_pow_2_geq_than_res_171792, (int64_t) 0);
    bool valid_171822 = !bounds_invalid_upwards_171821;
    bool protect_assert_disj_182173 = cond_171786 || valid_171822;
    bool range_valid_c_171823;
    
    if (!protect_assert_disj_182173) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171825 = slt64(block_sizze_171802, (int64_t) 0);
    bool valid_171826 = !bounds_invalid_upwards_171825;
    bool protect_assert_disj_182175 = cond_171786 || valid_171826;
    bool range_valid_c_171827;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171802, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171829 = sle64(block_sizze_171802, (int64_t) 1);
    int64_t tmp_171830 = sub64(block_sizze_171802, (int64_t) 2);
    bool bounds_invalid_upwards_171831 = slt64(tmp_171830, (int64_t) 0);
    bool valid_171833 = !bounds_invalid_upwards_171831;
    bool protect_assert_disj_171834 = cond_171829 || valid_171833;
    bool protect_assert_disj_182177 = cond_171786 || protect_assert_disj_171834;
    bool range_valid_c_171835;
    
    if (!protect_assert_disj_182177) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171830, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181263 = (int64_t) 4 * n_101119;
    
    if (futrts_indicesWithIncrement_9299(ctx, &ext_mem_181053, xs_mem_181052, n_101119, incr_101120) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182470 = 0; i_182470 < n_101119; i_182470++) {
        int64_t x_182471 = (int64_t) 0 + i_182470 * (int64_t) 1;
        
        ((int64_t *) mem_181055.mem)[i_182470] = x_182471;
    }
    
    int64_t flat_dim_171803 = smallest_pow_2_geq_than_res_171792 * block_sizze_171802;
    bool x_182160 = !cond_171786;
    int64_t greatest_divisor_leq_than_arg1_171805 = mul64((int64_t) 2, block_sizze_171802);
    int64_t merge_block_sizze_171806;
    
    if (x_182160) {
        int64_t x_182162;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182162, (int64_t) 8, greatest_divisor_leq_than_arg1_171805) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171806 = x_182162;
    } else {
        merge_block_sizze_171806 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_171809;
    
    if (x_182160) {
        int32_t x_182166 = ((int32_t *) xs_mem_181052.mem)[(int64_t) 0];
        
        reduce_arg1_171809 = x_182166;
    } else {
        reduce_arg1_171809 = 0;
    }
    
    int32_t defunc_0_reduce_res_178711;
    int64_t defunc_0_reduce_res_178712;
    
    if (x_182160) {
        int32_t x_182168;
        int64_t x_182169;
        int32_t redout_180712;
        int64_t redout_180713;
        
        redout_180712 = reduce_arg1_171809;
        redout_180713 = (int64_t) 0;
        for (int64_t i_180714 = 0; i_180714 < n_101119; i_180714++) {
            int32_t x_171812 = ((int32_t *) xs_mem_181052.mem)[i_180714];
            bool zlze_res_171818 = sle32(redout_180712, x_171812);
            int32_t defunc_0_op_res_171819;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171819 = x_171812;
            } else {
                defunc_0_op_res_171819 = redout_180712;
            }
            
            int64_t defunc_0_op_res_171820;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171820 = i_180714;
            } else {
                defunc_0_op_res_171820 = redout_180713;
            }
            
            int32_t redout_tmp_182472 = defunc_0_op_res_171819;
            int64_t redout_tmp_182473 = defunc_0_op_res_171820;
            
            redout_180712 = redout_tmp_182472;
            redout_180713 = redout_tmp_182473;
        }
        x_182168 = redout_180712;
        x_182169 = redout_180713;
        defunc_0_reduce_res_178711 = x_182168;
        defunc_0_reduce_res_178712 = x_182169;
    } else {
        defunc_0_reduce_res_178711 = 0;
        defunc_0_reduce_res_178712 = (int64_t) 0;
    }
    
    int64_t distance_171832 = add64((int64_t) 1, tmp_171830);
    int64_t binop_x_181056 = (int64_t) 4 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181057 = block_sizze_171802 * binop_x_181056;
    int64_t binop_x_181059 = (int64_t) 8 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181060 = block_sizze_171802 * binop_x_181059;
    int64_t bytes_181070 = (int64_t) 4 * block_sizze_171802;
    int64_t bytes_181072 = (int64_t) 8 * block_sizze_171802;
    bool loop_cond_171906 = slt64(block_sizze_171802, flat_dim_171803);
    bool zzero_171907 = merge_block_sizze_171806 == (int64_t) 0;
    bool nonzzero_171908 = !zzero_171907;
    
    if (cond_171786) {
        if (memblock_set(ctx, &ext_mem_181260, &mem_181055, "mem_181055") != 0)
            return 1;
    } else {
        if (mem_181058_cached_sizze_182756 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182756, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181061_cached_sizze_182757 < bytes_181060) {
            err = lexical_realloc(ctx, &mem_181061, &mem_181061_cached_sizze_182757, bytes_181060);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181071_cached_sizze_182758 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182758, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181073_cached_sizze_182759 < bytes_181072) {
            err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_182759, bytes_181072);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180726 = 0; i_180726 < smallest_pow_2_geq_than_res_171792; i_180726++) {
            int64_t zp_lhs_171839 = mul64(block_sizze_171802, i_180726);
            
            for (int64_t i_180719 = 0; i_180719 < block_sizze_171802; i_180719++) {
                int64_t k_171843 = add64(zp_lhs_171839, i_180719);
                bool cond_171844 = slt64(k_171843, n_101119);
                int32_t lifted_lambda_res_171845;
                int64_t lifted_lambda_res_171846;
                
                if (cond_171844) {
                    bool x_178564 = sle64((int64_t) 0, k_171843);
                    bool bounds_check_178565 = cond_171844 && x_178564;
                    bool index_certs_178566;
                    
                    if (!bounds_check_178565) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171843, "] out of bounds for array of shape [", (long long) n_101119, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_178567 = ((int32_t *) xs_mem_181052.mem)[k_171843];
                    
                    lifted_lambda_res_171845 = lifted_lambda_res_t_res_178567;
                    lifted_lambda_res_171846 = k_171843;
                } else {
                    lifted_lambda_res_171845 = defunc_0_reduce_res_178711;
                    lifted_lambda_res_171846 = defunc_0_reduce_res_178712;
                }
                ((int32_t *) mem_181071)[i_180719] = lifted_lambda_res_171845;
                ((int64_t *) mem_181073)[i_180719] = lifted_lambda_res_171846;
            }
            if (!cond_171829) {
                for (int64_t i_171855 = 0; i_171855 < distance_171832; i_171855++) {
                    int64_t gt_arg1_171858 = add64((int64_t) 1, i_171855);
                    bool x_171859 = sle64((int64_t) 0, gt_arg1_171858);
                    bool y_171860 = slt64(gt_arg1_171858, block_sizze_171802);
                    bool bounds_check_171861 = x_171859 && y_171860;
                    bool index_certs_171862;
                    
                    if (!bounds_check_171861) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171858, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171864 = slt64(i_171855, block_sizze_171802);
                    bool index_certs_171865;
                    
                    if (!y_171864) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171855, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_171863 = ((int32_t *) mem_181071)[gt_arg1_171858];
                    int32_t gt_arg0_171866 = ((int32_t *) mem_181071)[i_171855];
                    bool zlze_res_171867 = sle32(gt_arg0_171866, gt_arg1_171863);
                    bool defunc_0_lifted_gt_res_171868 = !zlze_res_171867;
                    bool s_171869;
                    int64_t s_171872;
                    bool loop_while_171873;
                    int64_t j_171876;
                    
                    loop_while_171873 = defunc_0_lifted_gt_res_171868;
                    j_171876 = i_171855;
                    while (loop_while_171873) {
                        bool x_171877 = sle64((int64_t) 0, j_171876);
                        bool y_171878 = slt64(j_171876, block_sizze_171802);
                        bool bounds_check_171879 = x_171877 && y_171878;
                        bool index_certs_171880;
                        
                        if (!bounds_check_171879) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171876, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171883 = add64((int64_t) 1, j_171876);
                        bool x_171884 = sle64((int64_t) 0, copy_arg0_171883);
                        bool y_171885 = slt64(copy_arg0_171883, block_sizze_171802);
                        bool bounds_check_171886 = x_171884 && y_171885;
                        bool index_certs_171887;
                        
                        if (!bounds_check_171886) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171883, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_171881 = ((int32_t *) mem_181071)[j_171876];
                        int64_t copy_arg0_171882 = ((int64_t *) mem_181073)[j_171876];
                        int32_t copy_arg0_171888 = ((int32_t *) mem_181071)[copy_arg0_171883];
                        int64_t copy_arg0_171889 = ((int64_t *) mem_181073)[copy_arg0_171883];
                        
                        ((int32_t *) mem_181071)[j_171876] = copy_arg0_171888;
                        ((int64_t *) mem_181073)[j_171876] = copy_arg0_171889;
                        ((int32_t *) mem_181071)[copy_arg0_171883] = copy_arg0_171881;
                        ((int64_t *) mem_181073)[copy_arg0_171883] = copy_arg0_171882;
                        
                        int64_t tmp_171894 = sub64(j_171876, (int64_t) 1);
                        bool cond_171895 = sle64((int64_t) 0, tmp_171894);
                        bool loop_cond_171896;
                        
                        if (cond_171895) {
                            bool y_178569 = slt64(tmp_171894, block_sizze_171802);
                            bool bounds_check_178570 = cond_171895 && y_178569;
                            bool index_certs_178571;
                            
                            if (!bounds_check_178570) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171894, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_178568 = ((int32_t *) mem_181071)[j_171876];
                            int32_t gt_arg0_178572 = ((int32_t *) mem_181071)[tmp_171894];
                            bool zlze_res_178573 = sle32(gt_arg0_178572, gt_arg1_178568);
                            bool defunc_0_lifted_gt_res_178574 = !zlze_res_178573;
                            
                            loop_cond_171896 = defunc_0_lifted_gt_res_178574;
                        } else {
                            loop_cond_171896 = 0;
                        }
                        
                        bool loop_while_tmp_182480 = loop_cond_171896;
                        int64_t j_tmp_182483 = tmp_171894;
                        
                        loop_while_171873 = loop_while_tmp_182480;
                        j_171876 = j_tmp_182483;
                    }
                    s_171869 = loop_while_171873;
                    s_171872 = j_171876;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181071, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181061, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181073, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
        }
        if (memblock_alloc(ctx, &mem_181126, bytes_181057, "mem_181126")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181126.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint32_t *) mem_181058, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        if (memblock_alloc(ctx, &mem_181130, bytes_181060, "mem_181130")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181130.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181061, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        
        int64_t data_171909;
        bool data_171910;
        int64_t data_171913;
        int64_t loop_dz2084Uz2082U_171914;
        bool loop_while_171915;
        int64_t stride_171918;
        
        if (memblock_set(ctx, &mem_param_181134, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181137, &mem_181130, "mem_181130") != 0)
            return 1;
        loop_dz2084Uz2082U_171914 = flat_dim_171803;
        loop_while_171915 = loop_cond_171906;
        stride_171918 = block_sizze_171802;
        while (loop_while_171915) {
            int64_t next_stride_171919 = mul64((int64_t) 2, stride_171918);
            bool zzero_171920 = next_stride_171919 == (int64_t) 0;
            bool nonzzero_171921 = !zzero_171920;
            bool nonzzero_cert_171922;
            
            if (!nonzzero_171921) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171923 = sdiv64(flat_dim_171803, next_stride_171919);
            bool bounds_invalid_upwards_171924 = slt64(num_merges_171923, (int64_t) 0);
            bool valid_171925 = !bounds_invalid_upwards_171924;
            bool range_valid_c_171926;
            
            if (!valid_171925) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171923, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171928 = sub64(next_stride_171919, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171929 = sle64((int64_t) 0, m_171928);
            bool cond_171931 = slt64(next_stride_171919, (int64_t) 10);
            bool protect_assert_disj_171932 = nonzzero_171908 || cond_171931;
            bool nonzzero_cert_171933;
            
            if (!protect_assert_disj_171932) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171934 = smod_safe64(next_stride_171919, merge_block_sizze_171806);
            bool num_blocks_171935 = zeze_lhs_171934 == (int64_t) 0;
            bool protect_assert_disj_171936 = cond_171931 || num_blocks_171935;
            bool assert_c_171937;
            
            if (!protect_assert_disj_171936) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171939 = sdiv_safe64(next_stride_171919, merge_block_sizze_171806);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940 = add64((int64_t) 1, num_blocks_171939);
            int64_t j_m_i_171941 = sub64(next_stride_171919, stride_171918);
            int64_t flat_dim_171942 = merge_block_sizze_171806 * num_blocks_171939;
            bool bounds_invalid_upwards_171943 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, (int64_t) 0);
            bool zzero_lte_i_171944 = sle64((int64_t) 0, stride_171918);
            bool i_lte_j_171945 = sle64(stride_171918, next_stride_171919);
            bool empty_slice_171946 = stride_171918 == (int64_t) 0;
            int64_t m_171947 = sub64(stride_171918, (int64_t) 1);
            bool bounds_invalid_upwards_171948 = slt64(num_blocks_171939, (int64_t) 0);
            bool empty_slice_171949 = j_m_i_171941 == (int64_t) 0;
            int64_t m_171950 = sub64(j_m_i_171941, (int64_t) 1);
            bool cond_171951 = slt64((int64_t) 0, stride_171918);
            bool valid_171952 = !bounds_invalid_upwards_171943;
            bool zzero_leq_i_p_m_t_s_171953 = sle64((int64_t) 0, m_171947);
            bool i_p_m_t_s_leq_w_171954 = slt64(m_171947, next_stride_171919);
            bool valid_171955 = !bounds_invalid_upwards_171948;
            bool i_p_m_t_s_leq_w_171956 = slt64(m_171928, flat_dim_171942);
            int64_t i_p_m_t_s_171957 = add64(stride_171918, m_171950);
            bool y_171958 = slt64((int64_t) 0, j_m_i_171941);
            bool protect_assert_disj_171959 = cond_171931 || valid_171952;
            bool range_valid_c_171960;
            
            if (!protect_assert_disj_171959) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171961 = zzero_leq_i_p_m_t_s_171953 && i_p_m_t_s_leq_w_171954;
            bool protect_assert_disj_171962 = cond_171931 || valid_171955;
            bool range_valid_c_171963;
            
            if (!protect_assert_disj_171962) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171939, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171964 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_171956;
            bool zzero_leq_i_p_m_t_s_171965 = sle64((int64_t) 0, i_p_m_t_s_171957);
            bool i_p_m_t_s_leq_w_171966 = slt64(i_p_m_t_s_171957, next_stride_171919);
            bool forwards_ok_171967 = zzero_lte_i_171944 && y_171961;
            bool ok_or_empty_171968 = zzero_171920 || y_171964;
            bool y_171969 = zzero_lte_i_171944 && i_p_m_t_s_leq_w_171966;
            bool protect_assert_disj_171970 = cond_171951 || y_171958;
            bool ok_or_empty_171971 = empty_slice_171946 || forwards_ok_171967;
            bool protect_assert_disj_171972 = cond_171931 || ok_or_empty_171968;
            bool index_certs_171973;
            
            if (!protect_assert_disj_171972) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) flat_dim_171942, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171974 = zzero_leq_i_p_m_t_s_171965 && y_171969;
            bool loop_not_taken_171975 = !cond_171931;
            bool protect_assert_disj_171976 = protect_assert_disj_171970 || loop_not_taken_171975;
            bool index_certs_171977;
            
            if (!protect_assert_disj_171976) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171978 = cond_171931 || ok_or_empty_171971;
            bool index_certs_171979;
            
            if (!protect_assert_disj_171978) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171980 = i_lte_j_171945 && y_171974;
            bool protect_assert_disj_171981 = ok_or_empty_171971 || loop_not_taken_171975;
            bool index_certs_171982;
            
            if (!protect_assert_disj_171981) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171983 = empty_slice_171949 || forwards_ok_171980;
            bool protect_assert_disj_171984 = loop_not_taken_171975 || ok_or_empty_171983;
            bool index_certs_171985;
            
            if (!protect_assert_disj_171984) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171986 = cond_171931 || ok_or_empty_171983;
            bool index_certs_171987;
            
            if (!protect_assert_disj_171986) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181138 = (int64_t) 4 * num_merges_171923;
            int64_t bytes_181139 = next_stride_171919 * binop_x_181138;
            int64_t binop_x_181141 = (int64_t) 8 * num_merges_171923;
            int64_t bytes_181142 = next_stride_171919 * binop_x_181141;
            bool i_lte_j_171930 = sle64((int64_t) 0, next_stride_171919);
            
            if (mem_181140_cached_sizze_182760 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182760, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181143_cached_sizze_182761 < bytes_181142) {
                err = lexical_realloc(ctx, &mem_181143, &mem_181143_cached_sizze_182761, bytes_181142);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181152 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940;
            int64_t binop_x_181168 = (int64_t) 4 * num_blocks_171939;
            int64_t bytes_181169 = merge_block_sizze_171806 * binop_x_181168;
            int64_t binop_x_181171 = (int64_t) 8 * num_blocks_171939;
            int64_t bytes_181172 = merge_block_sizze_171806 * binop_x_181171;
            int64_t bytes_181214 = (int64_t) 8 * stride_171918;
            int64_t bytes_181216 = (int64_t) 16 * stride_171918;
            
            for (int64_t i_180747 = 0; i_180747 < num_merges_171923; i_180747++) {
                int64_t start_171991 = mul64(next_stride_171919, i_180747);
                int64_t j_m_i_171992 = sub64(loop_dz2084Uz2082U_171914, start_171991);
                bool empty_slice_171993 = j_m_i_171992 == (int64_t) 0;
                int64_t m_171994 = sub64(j_m_i_171992, (int64_t) 1);
                int64_t i_p_m_t_s_171995 = add64(start_171991, m_171994);
                bool zzero_leq_i_p_m_t_s_171996 = sle64((int64_t) 0, i_p_m_t_s_171995);
                bool i_p_m_t_s_leq_w_171997 = slt64(i_p_m_t_s_171995, loop_dz2084Uz2082U_171914);
                bool zzero_lte_i_171998 = sle64((int64_t) 0, start_171991);
                bool i_lte_j_171999 = sle64(start_171991, loop_dz2084Uz2082U_171914);
                bool y_172000 = i_p_m_t_s_leq_w_171997 && zzero_lte_i_171998;
                bool y_172001 = zzero_leq_i_p_m_t_s_171996 && y_172000;
                bool forwards_ok_172002 = i_lte_j_171999 && y_172001;
                bool ok_or_empty_172003 = empty_slice_171993 || forwards_ok_172002;
                bool index_certs_172004;
                
                if (!ok_or_empty_172003) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171991, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171914, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172005 = slt64(m_171928, j_m_i_171992);
                bool y_172006 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_172005;
                bool forwards_ok_172007 = i_lte_j_171930 && y_172006;
                bool ok_or_empty_172008 = zzero_171920 || forwards_ok_172007;
                bool index_certs_172009;
                
                if (!ok_or_empty_172008) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) j_m_i_171992, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171931) {
                    int32_t dummy_178600;
                    int64_t dummy_178601;
                    
                    if (cond_171951) {
                        int32_t head_res_178602 = ((int32_t *) mem_param_181134.mem)[start_171991];
                        int64_t head_res_178603 = ((int64_t *) mem_param_181137.mem)[start_171991];
                        
                        dummy_178600 = head_res_178602;
                        dummy_178601 = head_res_178603;
                    } else {
                        int64_t slice_178604 = stride_171918 + start_171991;
                        int32_t head_res_178605 = ((int32_t *) mem_param_181134.mem)[slice_178604];
                        int64_t head_res_178606 = ((int64_t *) mem_param_181137.mem)[slice_178604];
                        
                        dummy_178600 = head_res_178605;
                        dummy_178601 = head_res_178606;
                    }
                    if (memblock_alloc(ctx, &mem_181215, bytes_181214, "mem_181215")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182493 = 0; nest_i_182493 < next_stride_171919; nest_i_182493++) {
                        ((int32_t *) mem_181215.mem)[nest_i_182493] = dummy_178600;
                    }
                    if (memblock_alloc(ctx, &mem_181217, bytes_181216, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182494 = 0; nest_i_182494 < next_stride_171919; nest_i_182494++) {
                        ((int64_t *) mem_181217.mem)[nest_i_182494] = dummy_178601;
                    }
                    
                    int64_t data_178609;
                    int64_t i_178613 = (int64_t) 0;
                    
                    for (int64_t k_178612 = 0; k_178612 < next_stride_171919; k_178612++) {
                        int64_t j_178616 = sub64(k_178612, i_178613);
                        bool cond_178617 = j_178616 == j_m_i_171941;
                        bool cond_178618;
                        
                        if (cond_178617) {
                            cond_178618 = 1;
                        } else {
                            bool cond_178619 = slt64(i_178613, stride_171918);
                            bool cond_f_res_178620;
                            
                            if (cond_178619) {
                                bool x_178621 = sle64((int64_t) 0, j_178616);
                                bool y_178622 = slt64(j_178616, j_m_i_171941);
                                bool bounds_check_178623 = x_178621 && y_178622;
                                bool index_certs_178624;
                                
                                if (!bounds_check_178623) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178628 = sle64((int64_t) 0, i_178613);
                                bool bounds_check_178629 = cond_178619 && x_178628;
                                bool index_certs_178630;
                                
                                if (!bounds_check_178629) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178625 = stride_171918 + j_178616;
                                int64_t slice_178626 = start_171991 + slice_178625;
                                int32_t leq_arg1_178627 = ((int32_t *) mem_param_181134.mem)[slice_178626];
                                int64_t slice_178631 = start_171991 + i_178613;
                                int32_t leq_arg0_178632 = ((int32_t *) mem_param_181134.mem)[slice_178631];
                                bool zlze_res_178633 = sle32(leq_arg0_178632, leq_arg1_178627);
                                
                                cond_f_res_178620 = zlze_res_178633;
                            } else {
                                cond_f_res_178620 = 0;
                            }
                            cond_178618 = cond_f_res_178620;
                        }
                        
                        int64_t loopres_178634;
                        int32_t loopres_178635;
                        int64_t loopres_178636;
                        
                        if (cond_178618) {
                            bool x_178638 = sle64((int64_t) 0, i_178613);
                            bool y_178639 = slt64(i_178613, stride_171918);
                            bool bounds_check_178640 = x_178638 && y_178639;
                            bool index_certs_178641;
                            
                            if (!bounds_check_178640) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178637 = add64((int64_t) 1, i_178613);
                            int64_t slice_178642 = start_171991 + i_178613;
                            int32_t tmp_178643 = ((int32_t *) mem_param_181134.mem)[slice_178642];
                            int64_t tmp_178644 = ((int64_t *) mem_param_181137.mem)[slice_178642];
                            
                            loopres_178634 = tmp_178637;
                            loopres_178635 = tmp_178643;
                            loopres_178636 = tmp_178644;
                        } else {
                            bool x_178645 = sle64((int64_t) 0, j_178616);
                            bool y_178646 = slt64(j_178616, j_m_i_171941);
                            bool bounds_check_178647 = x_178645 && y_178646;
                            bool index_certs_178648;
                            
                            if (!bounds_check_178647) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178649 = stride_171918 + j_178616;
                            int64_t slice_178650 = start_171991 + slice_178649;
                            int32_t tmp_178651 = ((int32_t *) mem_param_181134.mem)[slice_178650];
                            int64_t tmp_178652 = ((int64_t *) mem_param_181137.mem)[slice_178650];
                            
                            loopres_178634 = i_178613;
                            loopres_178635 = tmp_178651;
                            loopres_178636 = tmp_178652;
                        }
                        ((int32_t *) mem_181215.mem)[k_178612] = loopres_178635;
                        ((int64_t *) mem_181217.mem)[k_178612] = loopres_178636;
                        
                        int64_t i_tmp_182495 = loopres_178634;
                        
                        i_178613 = i_tmp_182495;
                    }
                    data_178609 = i_178613;
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181215, "mem_181215") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181217, "mem_181217") != 0)
                        return 1;
                } else {
                    if (mem_181153_cached_sizze_182762 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182762, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181155_cached_sizze_182763 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181155, &mem_181155_cached_sizze_182763, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180733 = 0; i_180733 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940; i_180733++) {
                        int64_t split_count_arg3_172071 = mul64(merge_block_sizze_171806, i_180733);
                        int64_t defunc_0_split_count_res_172072;
                        int64_t defunc_0_split_count_res_172073;
                        int64_t defunc_0_split_count_res_172074;
                        int64_t defunc_0_split_count_res_172075;
                        int64_t defunc_0_split_count_res_172076;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_172072, &defunc_0_split_count_res_172073, &defunc_0_split_count_res_172074, &defunc_0_split_count_res_172075, &defunc_0_split_count_res_172076, (int64_t) 0, stride_171918, (int64_t) 0, j_m_i_171941, split_count_arg3_172071) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172077 = slt64((int64_t) 0, defunc_0_split_count_res_172076);
                        bool defunc_0_split_count_res_172078;
                        int64_t defunc_0_split_count_res_172079;
                        int64_t defunc_0_split_count_res_172080;
                        int64_t defunc_0_split_count_res_172081;
                        int64_t defunc_0_split_count_res_172082;
                        int64_t defunc_0_split_count_res_172083;
                        bool loop_while_172084;
                        int64_t ss_172085;
                        int64_t ss_172086;
                        int64_t tt_172087;
                        int64_t tt_172088;
                        int64_t count_172089;
                        
                        loop_while_172084 = loop_cond_172077;
                        ss_172085 = defunc_0_split_count_res_172072;
                        ss_172086 = defunc_0_split_count_res_172073;
                        tt_172087 = defunc_0_split_count_res_172074;
                        tt_172088 = defunc_0_split_count_res_172075;
                        count_172089 = defunc_0_split_count_res_172076;
                        while (loop_while_172084) {
                            int64_t zlze_lhs_172090 = sub64(ss_172086, ss_172085);
                            bool cond_172091 = sle64(zlze_lhs_172090, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172092;
                            int64_t defunc_0_lifted_step_res_172093;
                            int64_t defunc_0_lifted_step_res_172094;
                            int64_t defunc_0_lifted_step_res_172095;
                            
                            if (cond_172091) {
                                int64_t tmp_178655 = add64(tt_172087, count_172089);
                                
                                defunc_0_lifted_step_res_172092 = ss_172085;
                                defunc_0_lifted_step_res_172093 = tmp_178655;
                                defunc_0_lifted_step_res_172094 = tt_172088;
                                defunc_0_lifted_step_res_172095 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172097 = sub64(tt_172088, tt_172087);
                                bool cond_172098 = sle64(zlze_lhs_172097, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172099;
                                int64_t defunc_0_lifted_step_res_f_res_172100;
                                int64_t defunc_0_lifted_step_res_f_res_172101;
                                int64_t defunc_0_lifted_step_res_f_res_172102;
                                
                                if (cond_172098) {
                                    int64_t tmp_178656 = add64(ss_172085, count_172089);
                                    
                                    defunc_0_lifted_step_res_f_res_172099 = tmp_178656;
                                    defunc_0_lifted_step_res_f_res_172100 = tt_172087;
                                    defunc_0_lifted_step_res_f_res_172101 = tt_172088;
                                    defunc_0_lifted_step_res_f_res_172102 = (int64_t) 0;
                                } else {
                                    bool cond_172104 = count_172089 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172107;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172108;
                                    
                                    if (cond_172104) {
                                        bool x_178658 = sle64((int64_t) 0, ss_172085);
                                        bool y_178659 = slt64(ss_172085, stride_171918);
                                        bool bounds_check_178660 = x_178658 && y_178659;
                                        bool index_certs_178661;
                                        
                                        if (!bounds_check_178660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172085, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178664 = sle64((int64_t) 0, tt_172087);
                                        bool y_178665 = slt64(tt_172087, j_m_i_171941);
                                        bool bounds_check_178666 = x_178664 && y_178665;
                                        bool index_certs_178667;
                                        
                                        if (!bounds_check_178666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172087, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178662 = start_171991 + ss_172085;
                                        int32_t leq_arg1_178663 = ((int32_t *) mem_param_181134.mem)[slice_178662];
                                        int64_t slice_178668 = stride_171918 + tt_172087;
                                        int64_t slice_178669 = start_171991 + slice_178668;
                                        int32_t leq_arg0_178670 = ((int32_t *) mem_param_181134.mem)[slice_178669];
                                        bool zlze_res_178671 = sle32(leq_arg0_178670, leq_arg1_178663);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        
                                        if (zlze_res_178671) {
                                            int64_t tmp_178674 = add64((int64_t) 1, tt_172087);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = ss_172085;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tmp_178674;
                                        } else {
                                            int64_t tmp_178675 = add64((int64_t) 1, ss_172085);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = tmp_178675;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tt_172087;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = tt_172088;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = (int64_t) 0;
                                    } else {
                                        int64_t m_172127 = sdiv64(count_172089, (int64_t) 2);
                                        int64_t n_172128 = sub64(count_172089, m_172127);
                                        bool cond_172129 = n_172128 == (int64_t) 0;
                                        int64_t zgze_lhs_172130 = add64(ss_172085, m_172127);
                                        bool cond_f_res_172131 = sle64(ss_172086, zgze_lhs_172130);
                                        bool x_172132 = !cond_172129;
                                        bool y_172133 = cond_f_res_172131 && x_172132;
                                        bool cond_172134 = cond_172129 || y_172133;
                                        bool leq_y_x_172135;
                                        
                                        if (cond_172134) {
                                            leq_y_x_172135 = 1;
                                        } else {
                                            bool x_172136 = sle64((int64_t) 0, zgze_lhs_172130);
                                            bool y_172137 = slt64(zgze_lhs_172130, stride_171918);
                                            bool bounds_check_172138 = x_172136 && y_172137;
                                            bool index_certs_172139;
                                            
                                            if (!bounds_check_172138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172130, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172142 = add64(tt_172087, n_172128);
                                            int64_t leq_arg0_172143 = sub64(zm_lhs_172142, (int64_t) 1);
                                            bool x_172144 = sle64((int64_t) 0, leq_arg0_172143);
                                            bool y_172145 = slt64(leq_arg0_172143, j_m_i_171941);
                                            bool bounds_check_172146 = x_172144 && y_172145;
                                            bool index_certs_172147;
                                            
                                            if (!bounds_check_172146) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172143, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172140 = start_171991 + zgze_lhs_172130;
                                            int32_t leq_arg1_172141 = ((int32_t *) mem_param_181134.mem)[slice_172140];
                                            int64_t slice_172148 = stride_171918 + leq_arg0_172143;
                                            int64_t slice_172149 = start_171991 + slice_172148;
                                            int32_t leq_arg0_172150 = ((int32_t *) mem_param_181134.mem)[slice_172149];
                                            bool zlze_res_172151 = sle32(leq_arg0_172150, leq_arg1_172141);
                                            
                                            leq_y_x_172135 = zlze_res_172151;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                        
                                        if (leq_y_x_172135) {
                                            int64_t tmp_178676 = add64(tt_172087, n_172128);
                                            int64_t tmp_178677 = sub64(count_172089, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tmp_178676;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tt_172088;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = tmp_178677;
                                        } else {
                                            int64_t tmp_172157 = add64(tt_172087, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tt_172087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tmp_172157;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = count_172089;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = ss_172085;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                    }
                                    defunc_0_lifted_step_res_f_res_172099 = defunc_0_lifted_step_res_f_res_f_res_172105;
                                    defunc_0_lifted_step_res_f_res_172100 = defunc_0_lifted_step_res_f_res_f_res_172106;
                                    defunc_0_lifted_step_res_f_res_172101 = defunc_0_lifted_step_res_f_res_f_res_172107;
                                    defunc_0_lifted_step_res_f_res_172102 = defunc_0_lifted_step_res_f_res_f_res_172108;
                                }
                                defunc_0_lifted_step_res_172092 = defunc_0_lifted_step_res_f_res_172099;
                                defunc_0_lifted_step_res_172093 = defunc_0_lifted_step_res_f_res_172100;
                                defunc_0_lifted_step_res_172094 = defunc_0_lifted_step_res_f_res_172101;
                                defunc_0_lifted_step_res_172095 = defunc_0_lifted_step_res_f_res_172102;
                            }
                            
                            int64_t loopres_172158;
                            int64_t loopres_172159;
                            int64_t loopres_172160;
                            int64_t loopres_172161;
                            int64_t loopres_172162;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_172158, &loopres_172159, &loopres_172160, &loopres_172161, &loopres_172162, defunc_0_lifted_step_res_172092, ss_172086, defunc_0_lifted_step_res_172093, defunc_0_lifted_step_res_172094, defunc_0_lifted_step_res_172095) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172163 = slt64((int64_t) 0, loopres_172162);
                            bool loop_while_tmp_182500 = loop_cond_172163;
                            int64_t ss_tmp_182501 = loopres_172158;
                            int64_t ss_tmp_182502 = loopres_172159;
                            int64_t tt_tmp_182503 = loopres_172160;
                            int64_t tt_tmp_182504 = loopres_172161;
                            int64_t count_tmp_182505 = loopres_172162;
                            
                            loop_while_172084 = loop_while_tmp_182500;
                            ss_172085 = ss_tmp_182501;
                            ss_172086 = ss_tmp_182502;
                            tt_172087 = tt_tmp_182503;
                            tt_172088 = tt_tmp_182504;
                            count_172089 = count_tmp_182505;
                        }
                        defunc_0_split_count_res_172078 = loop_while_172084;
                        defunc_0_split_count_res_172079 = ss_172085;
                        defunc_0_split_count_res_172080 = ss_172086;
                        defunc_0_split_count_res_172081 = tt_172087;
                        defunc_0_split_count_res_172082 = tt_172088;
                        defunc_0_split_count_res_172083 = count_172089;
                        ((int64_t *) mem_181153)[i_180733] = defunc_0_split_count_res_172079;
                        ((int64_t *) mem_181155)[i_180733] = defunc_0_split_count_res_172081;
                    }
                    if (mem_181170_cached_sizze_182764 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_182764, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181173_cached_sizze_182765 < bytes_181172) {
                        err = lexical_realloc(ctx, &mem_181173, &mem_181173_cached_sizze_182765, bytes_181172);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180740 = 0; i_180740 < num_blocks_171939; i_180740++) {
                        bool y_172169 = slt64(i_180740, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool index_certs_172171;
                        
                        if (!y_172169) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180740, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172172 = ((int64_t *) mem_181153)[i_180740];
                        int64_t defunc_0_f_res_172173 = ((int64_t *) mem_181155)[i_180740];
                        int64_t tmp_172174 = add64((int64_t) 1, i_180740);
                        bool x_172175 = sle64((int64_t) 0, tmp_172174);
                        bool y_172176 = slt64(tmp_172174, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool bounds_check_172177 = x_172175 && y_172176;
                        bool index_certs_172178;
                        
                        if (!bounds_check_172177) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172174, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172179 = ((int64_t *) mem_181153)[tmp_172174];
                        int64_t defunc_0_f_res_172180 = ((int64_t *) mem_181155)[tmp_172174];
                        int64_t merge_sequential_arg2_172181 = add64(stride_171918, defunc_0_f_res_172173);
                        int64_t merge_sequential_arg2_172182 = add64(stride_171918, defunc_0_f_res_172180);
                        int64_t j_m_i_172183 = sub64(merge_sequential_arg2_172182, merge_sequential_arg2_172181);
                        bool empty_slice_172184 = j_m_i_172183 == (int64_t) 0;
                        int64_t m_172185 = sub64(j_m_i_172183, (int64_t) 1);
                        int64_t i_p_m_t_s_172186 = add64(merge_sequential_arg2_172181, m_172185);
                        bool zzero_leq_i_p_m_t_s_172187 = sle64((int64_t) 0, i_p_m_t_s_172186);
                        bool i_p_m_t_s_leq_w_172188 = slt64(i_p_m_t_s_172186, next_stride_171919);
                        bool zzero_lte_i_172189 = sle64((int64_t) 0, merge_sequential_arg2_172181);
                        bool i_lte_j_172190 = sle64(merge_sequential_arg2_172181, merge_sequential_arg2_172182);
                        bool y_172191 = i_p_m_t_s_leq_w_172188 && zzero_lte_i_172189;
                        bool y_172192 = zzero_leq_i_p_m_t_s_172187 && y_172191;
                        bool forwards_ok_172193 = i_lte_j_172190 && y_172192;
                        bool ok_or_empty_172194 = empty_slice_172184 || forwards_ok_172193;
                        bool index_certs_172195;
                        
                        if (!ok_or_empty_172194) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172181, ":", (long long) merge_sequential_arg2_172182, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172196 = sub64(defunc_0_f_res_172179, defunc_0_f_res_172172);
                        bool empty_slice_172197 = j_m_i_172196 == (int64_t) 0;
                        int64_t m_172198 = sub64(j_m_i_172196, (int64_t) 1);
                        int64_t i_p_m_t_s_172199 = add64(defunc_0_f_res_172172, m_172198);
                        bool zzero_leq_i_p_m_t_s_172200 = sle64((int64_t) 0, i_p_m_t_s_172199);
                        bool i_p_m_t_s_leq_w_172201 = slt64(i_p_m_t_s_172199, next_stride_171919);
                        bool zzero_lte_i_172202 = sle64((int64_t) 0, defunc_0_f_res_172172);
                        bool i_lte_j_172203 = sle64(defunc_0_f_res_172172, defunc_0_f_res_172179);
                        bool y_172204 = i_p_m_t_s_leq_w_172201 && zzero_lte_i_172202;
                        bool y_172205 = zzero_leq_i_p_m_t_s_172200 && y_172204;
                        bool forwards_ok_172206 = i_lte_j_172203 && y_172205;
                        bool ok_or_empty_172207 = empty_slice_172197 || forwards_ok_172206;
                        bool index_certs_172208;
                        
                        if (!ok_or_empty_172207) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172172, ":", (long long) defunc_0_f_res_172179, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172209 = slt64((int64_t) 0, j_m_i_172196);
                        int32_t dummy_172210;
                        int64_t dummy_172211;
                        
                        if (cond_172209) {
                            bool index_certs_178678;
                            
                            if (!cond_172209) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178679 = start_171991 + defunc_0_f_res_172172;
                            int32_t head_res_178680 = ((int32_t *) mem_param_181134.mem)[slice_178679];
                            int64_t head_res_178681 = ((int64_t *) mem_param_181137.mem)[slice_178679];
                            
                            dummy_172210 = head_res_178680;
                            dummy_172211 = head_res_178681;
                        } else {
                            bool y_172216 = slt64((int64_t) 0, j_m_i_172183);
                            bool index_certs_172217;
                            
                            if (!y_172216) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172218 = start_171991 + merge_sequential_arg2_172181;
                            int32_t head_res_172219 = ((int32_t *) mem_param_181134.mem)[slice_172218];
                            int64_t head_res_172220 = ((int64_t *) mem_param_181137.mem)[slice_172218];
                            
                            dummy_172210 = head_res_172219;
                            dummy_172211 = head_res_172220;
                        }
                        for (int64_t nest_i_182508 = 0; nest_i_182508 < merge_block_sizze_171806; nest_i_182508++) {
                            ((int32_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + nest_i_182508] = dummy_172210;
                        }
                        for (int64_t nest_i_182509 = 0; nest_i_182509 < merge_block_sizze_171806; nest_i_182509++) {
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + nest_i_182509] = dummy_172211;
                        }
                        
                        int64_t data_172223;
                        int64_t i_172227 = (int64_t) 0;
                        
                        for (int64_t k_172226 = 0; k_172226 < merge_block_sizze_171806; k_172226++) {
                            int64_t j_172230 = sub64(k_172226, i_172227);
                            bool cond_172231 = j_172230 == j_m_i_172183;
                            bool cond_172232;
                            
                            if (cond_172231) {
                                cond_172232 = 1;
                            } else {
                                bool cond_172233 = slt64(i_172227, j_m_i_172196);
                                bool cond_f_res_172234;
                                
                                if (cond_172233) {
                                    bool x_178682 = sle64((int64_t) 0, j_172230);
                                    bool y_178683 = slt64(j_172230, j_m_i_172183);
                                    bool bounds_check_178684 = x_178682 && y_178683;
                                    bool index_certs_178685;
                                    
                                    if (!bounds_check_178684) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178689 = sle64((int64_t) 0, i_172227);
                                    bool bounds_check_178690 = cond_172233 && x_178689;
                                    bool index_certs_178691;
                                    
                                    if (!bounds_check_178690) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178686 = merge_sequential_arg2_172181 + j_172230;
                                    int64_t slice_178687 = start_171991 + slice_178686;
                                    int32_t leq_arg1_178688 = ((int32_t *) mem_param_181134.mem)[slice_178687];
                                    int64_t slice_178692 = defunc_0_f_res_172172 + i_172227;
                                    int64_t slice_178693 = start_171991 + slice_178692;
                                    int32_t leq_arg0_178694 = ((int32_t *) mem_param_181134.mem)[slice_178693];
                                    bool zlze_res_178695 = sle32(leq_arg0_178694, leq_arg1_178688);
                                    
                                    cond_f_res_172234 = zlze_res_178695;
                                } else {
                                    cond_f_res_172234 = 0;
                                }
                                cond_172232 = cond_f_res_172234;
                            }
                            
                            int64_t loopres_172249;
                            int32_t loopres_172250;
                            int64_t loopres_172251;
                            
                            if (cond_172232) {
                                bool x_178697 = sle64((int64_t) 0, i_172227);
                                bool y_178698 = slt64(i_172227, j_m_i_172196);
                                bool bounds_check_178699 = x_178697 && y_178698;
                                bool index_certs_178700;
                                
                                if (!bounds_check_178699) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178696 = add64((int64_t) 1, i_172227);
                                int64_t slice_178701 = defunc_0_f_res_172172 + i_172227;
                                int64_t slice_178702 = start_171991 + slice_178701;
                                int32_t tmp_178703 = ((int32_t *) mem_param_181134.mem)[slice_178702];
                                int64_t tmp_178704 = ((int64_t *) mem_param_181137.mem)[slice_178702];
                                
                                loopres_172249 = tmp_178696;
                                loopres_172250 = tmp_178703;
                                loopres_172251 = tmp_178704;
                            } else {
                                bool x_172261 = sle64((int64_t) 0, j_172230);
                                bool y_172262 = slt64(j_172230, j_m_i_172183);
                                bool bounds_check_172263 = x_172261 && y_172262;
                                bool index_certs_172264;
                                
                                if (!bounds_check_172263) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172265 = merge_sequential_arg2_172181 + j_172230;
                                int64_t slice_172266 = start_171991 + slice_172265;
                                int32_t tmp_172267 = ((int32_t *) mem_param_181134.mem)[slice_172266];
                                int64_t tmp_172268 = ((int64_t *) mem_param_181137.mem)[slice_172266];
                                
                                loopres_172249 = i_172227;
                                loopres_172250 = tmp_172267;
                                loopres_172251 = tmp_172268;
                            }
                            ((int32_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172250;
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172251;
                            
                            int64_t i_tmp_182510 = loopres_172249;
                            
                            i_172227 = i_tmp_182510;
                        }
                        data_172223 = i_172227;
                    }
                    if (memblock_alloc(ctx, &mem_181208, bytes_181169, "mem_181208")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181208.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint32_t *) mem_181170, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_alloc(ctx, &mem_181212, bytes_181172, "mem_181212")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181212.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181173, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181208, "mem_181208") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181212, "mem_181212") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181140, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181235.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181143, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181232.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172275 = next_stride_171919 * num_merges_171923;
            
            if (memblock_alloc(ctx, &mem_181246, bytes_181139, "mem_181246")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181246.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint32_t *) mem_181140, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            if (memblock_alloc(ctx, &mem_181250, bytes_181142, "mem_181250")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181250.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181143, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            
            bool loop_cond_172278 = slt64(next_stride_171919, flat_dim_171803);
            
            if (memblock_set(ctx, &mem_param_tmp_182484, &mem_181246, "mem_181246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182485, &mem_181250, "mem_181250") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182486 = flat_dim_172275;
            bool loop_while_tmp_182487 = loop_cond_172278;
            int64_t stride_tmp_182490 = next_stride_171919;
            
            if (memblock_set(ctx, &mem_param_181134, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181137, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
                return 1;
            loop_dz2084Uz2082U_171914 = loop_dz2084Uz2082U_tmp_182486;
            loop_while_171915 = loop_while_tmp_182487;
            stride_171918 = stride_tmp_182490;
        }
        if (memblock_set(ctx, &ext_mem_181257, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181256, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        data_171909 = loop_dz2084Uz2082U_171914;
        data_171910 = loop_while_171915;
        data_171913 = stride_171918;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        
        bool empty_slice_172279 = n_101119 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172280 = sle64((int64_t) 0, zs_lhs_171787);
        bool i_p_m_t_s_leq_w_172281 = slt64(zs_lhs_171787, data_171909);
        bool y_172282 = zzero_leq_i_p_m_t_s_172280 && i_p_m_t_s_leq_w_172281;
        bool ok_or_empty_172283 = empty_slice_172279 || y_172282;
        bool index_certs_172284;
        
        if (!ok_or_empty_172283) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_101119, "] out of bounds for array of shape [", (long long) data_171909, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:158:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181260, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181262, bytes_181054, "mem_181262")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181264, bytes_181263, "mem_181264")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180754 = 0; i_180754 < n_101119; i_180754++) {
        int64_t eta_p_172288 = ((int64_t *) ext_mem_181260.mem)[i_180754];
        bool x_172289 = sle64((int64_t) 0, eta_p_172288);
        bool y_172290 = slt64(eta_p_172288, n_101119);
        bool bounds_check_172291 = x_172289 && y_172290;
        bool index_certs_172292;
        
        if (!bounds_check_172291) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172288, "] out of bounds for array of shape [", (long long) n_101119, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172293 = ((int64_t *) ext_mem_181053.mem)[eta_p_172288];
        int32_t lifted_lambda_res_172294 = ((int32_t *) xs_mem_181052.mem)[eta_p_172288];
        
        ((int64_t *) mem_181262.mem)[i_180754] = lifted_lambda_res_172293;
        ((int32_t *) mem_181264.mem)[i_180754] = lifted_lambda_res_172294;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181262, "mem_181262") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181264, "mem_181264") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182754, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182755, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181058);
        free(mem_181061);
        free(mem_181071);
        free(mem_181073);
        free(mem_181140);
        free(mem_181143);
        free(mem_181153);
        free(mem_181155);
        free(mem_181170);
        free(mem_181173);
        if (memblock_unref(ctx, &mem_181264, "mem_181264") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181262, "mem_181262") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181250, "mem_181250") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181246, "mem_181246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181212, "mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181208, "mem_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181215, "mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181257, "ext_mem_181257") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182766, struct memblock *mem_out_p_182767, struct memblock xs_mem_181052, int64_t n_103462, int64_t incr_103463)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181058_cached_sizze_182768 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181061_cached_sizze_182769 = 0;
    unsigned char *mem_181061 = NULL;
    int64_t mem_181071_cached_sizze_182770 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_182771 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181140_cached_sizze_182772 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181143_cached_sizze_182773 = 0;
    unsigned char *mem_181143 = NULL;
    int64_t mem_181153_cached_sizze_182774 = 0;
    unsigned char *mem_181153 = NULL;
    int64_t mem_181155_cached_sizze_182775 = 0;
    unsigned char *mem_181155 = NULL;
    int64_t mem_181170_cached_sizze_182776 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181173_cached_sizze_182777 = 0;
    unsigned char *mem_181173 = NULL;
    struct memblock mem_181264;
    
    mem_181264.references = NULL;
    
    struct memblock mem_181262;
    
    mem_181262.references = NULL;
    
    struct memblock mem_param_tmp_182485;
    
    mem_param_tmp_182485.references = NULL;
    
    struct memblock mem_param_tmp_182484;
    
    mem_param_tmp_182484.references = NULL;
    
    struct memblock mem_181250;
    
    mem_181250.references = NULL;
    
    struct memblock mem_181246;
    
    mem_181246.references = NULL;
    
    struct memblock mem_181212;
    
    mem_181212.references = NULL;
    
    struct memblock mem_181208;
    
    mem_181208.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock mem_181215;
    
    mem_181215.references = NULL;
    
    struct memblock ext_mem_181232;
    
    ext_mem_181232.references = NULL;
    
    struct memblock ext_mem_181235;
    
    ext_mem_181235.references = NULL;
    
    struct memblock mem_param_181137;
    
    mem_param_181137.references = NULL;
    
    struct memblock mem_param_181134;
    
    mem_param_181134.references = NULL;
    
    struct memblock ext_mem_181256;
    
    ext_mem_181256.references = NULL;
    
    struct memblock ext_mem_181257;
    
    ext_mem_181257.references = NULL;
    
    struct memblock mem_181130;
    
    mem_181130.references = NULL;
    
    struct memblock mem_181126;
    
    mem_181126.references = NULL;
    
    struct memblock ext_mem_181260;
    
    ext_mem_181260.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_103462;
    bool cond_171786 = sle64(n_103462, (int64_t) 1);
    int64_t zs_lhs_171787 = sub64(n_103462, (int64_t) 1);
    int64_t zp_rhs_171788 = sdiv_safe64(zs_lhs_171787, (int64_t) 20);
    int64_t min_num_blocks_171789 = add64((int64_t) 1, zp_rhs_171788);
    bool loop_cond_171790 = slt64((int64_t) 1, min_num_blocks_171789);
    bool smallest_pow_2_geq_than_res_171791;
    int64_t smallest_pow_2_geq_than_res_171792;
    bool loop_while_171793;
    int64_t x_171794;
    
    loop_while_171793 = loop_cond_171790;
    x_171794 = (int64_t) 1;
    while (loop_while_171793) {
        int64_t loopres_171795 = mul64((int64_t) 2, x_171794);
        bool loop_cond_171796 = slt64(loopres_171795, min_num_blocks_171789);
        bool loop_while_tmp_182468 = loop_cond_171796;
        int64_t x_tmp_182469 = loopres_171795;
        
        loop_while_171793 = loop_while_tmp_182468;
        x_171794 = x_tmp_182469;
    }
    smallest_pow_2_geq_than_res_171791 = loop_while_171793;
    smallest_pow_2_geq_than_res_171792 = x_171794;
    
    bool zzero_171797 = smallest_pow_2_geq_than_res_171792 == (int64_t) 0;
    bool nonzzero_171798 = !zzero_171797;
    bool protect_assert_disj_171799 = cond_171786 || nonzzero_171798;
    bool nonzzero_cert_171800;
    
    if (!protect_assert_disj_171799) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171801 = sdiv_safe64(zs_lhs_171787, smallest_pow_2_geq_than_res_171792);
    int64_t block_sizze_171802 = add64((int64_t) 1, zp_rhs_171801);
    bool y_171807 = slt64((int64_t) 0, n_103462);
    bool protect_assert_disj_182165 = cond_171786 || y_171807;
    bool index_certs_171808;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_103462, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171821 = slt64(smallest_pow_2_geq_than_res_171792, (int64_t) 0);
    bool valid_171822 = !bounds_invalid_upwards_171821;
    bool protect_assert_disj_182173 = cond_171786 || valid_171822;
    bool range_valid_c_171823;
    
    if (!protect_assert_disj_182173) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171825 = slt64(block_sizze_171802, (int64_t) 0);
    bool valid_171826 = !bounds_invalid_upwards_171825;
    bool protect_assert_disj_182175 = cond_171786 || valid_171826;
    bool range_valid_c_171827;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171802, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171829 = sle64(block_sizze_171802, (int64_t) 1);
    int64_t tmp_171830 = sub64(block_sizze_171802, (int64_t) 2);
    bool bounds_invalid_upwards_171831 = slt64(tmp_171830, (int64_t) 0);
    bool valid_171833 = !bounds_invalid_upwards_171831;
    bool protect_assert_disj_171834 = cond_171829 || valid_171833;
    bool protect_assert_disj_182177 = cond_171786 || protect_assert_disj_171834;
    bool range_valid_c_171835;
    
    if (!protect_assert_disj_182177) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171830, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9409(ctx, &ext_mem_181053, xs_mem_181052, n_103462, incr_103463) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182470 = 0; i_182470 < n_103462; i_182470++) {
        int64_t x_182471 = (int64_t) 0 + i_182470 * (int64_t) 1;
        
        ((int64_t *) mem_181055.mem)[i_182470] = x_182471;
    }
    
    int64_t flat_dim_171803 = smallest_pow_2_geq_than_res_171792 * block_sizze_171802;
    bool x_182160 = !cond_171786;
    int64_t greatest_divisor_leq_than_arg1_171805 = mul64((int64_t) 2, block_sizze_171802);
    int64_t merge_block_sizze_171806;
    
    if (x_182160) {
        int64_t x_182162;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182162, (int64_t) 8, greatest_divisor_leq_than_arg1_171805) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171806 = x_182162;
    } else {
        merge_block_sizze_171806 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_171809;
    
    if (x_182160) {
        int64_t x_182166 = ((int64_t *) xs_mem_181052.mem)[(int64_t) 0];
        
        reduce_arg1_171809 = x_182166;
    } else {
        reduce_arg1_171809 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_178711;
    int64_t defunc_0_reduce_res_178712;
    
    if (x_182160) {
        int64_t x_182168;
        int64_t x_182169;
        int64_t redout_180712;
        int64_t redout_180713;
        
        redout_180712 = reduce_arg1_171809;
        redout_180713 = (int64_t) 0;
        for (int64_t i_180714 = 0; i_180714 < n_103462; i_180714++) {
            int64_t x_171812 = ((int64_t *) xs_mem_181052.mem)[i_180714];
            bool zlze_res_171818 = sle64(redout_180712, x_171812);
            int64_t defunc_0_op_res_171819;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171819 = x_171812;
            } else {
                defunc_0_op_res_171819 = redout_180712;
            }
            
            int64_t defunc_0_op_res_171820;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171820 = i_180714;
            } else {
                defunc_0_op_res_171820 = redout_180713;
            }
            
            int64_t redout_tmp_182472 = defunc_0_op_res_171819;
            int64_t redout_tmp_182473 = defunc_0_op_res_171820;
            
            redout_180712 = redout_tmp_182472;
            redout_180713 = redout_tmp_182473;
        }
        x_182168 = redout_180712;
        x_182169 = redout_180713;
        defunc_0_reduce_res_178711 = x_182168;
        defunc_0_reduce_res_178712 = x_182169;
    } else {
        defunc_0_reduce_res_178711 = (int64_t) 0;
        defunc_0_reduce_res_178712 = (int64_t) 0;
    }
    
    int64_t distance_171832 = add64((int64_t) 1, tmp_171830);
    int64_t binop_x_181056 = (int64_t) 8 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181057 = block_sizze_171802 * binop_x_181056;
    int64_t bytes_181070 = (int64_t) 8 * block_sizze_171802;
    bool loop_cond_171906 = slt64(block_sizze_171802, flat_dim_171803);
    bool zzero_171907 = merge_block_sizze_171806 == (int64_t) 0;
    bool nonzzero_171908 = !zzero_171907;
    
    if (cond_171786) {
        if (memblock_set(ctx, &ext_mem_181260, &mem_181055, "mem_181055") != 0)
            return 1;
    } else {
        if (mem_181058_cached_sizze_182768 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182768, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181061_cached_sizze_182769 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181061, &mem_181061_cached_sizze_182769, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181071_cached_sizze_182770 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182770, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181073_cached_sizze_182771 < bytes_181070) {
            err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_182771, bytes_181070);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180726 = 0; i_180726 < smallest_pow_2_geq_than_res_171792; i_180726++) {
            int64_t zp_lhs_171839 = mul64(block_sizze_171802, i_180726);
            
            for (int64_t i_180719 = 0; i_180719 < block_sizze_171802; i_180719++) {
                int64_t k_171843 = add64(zp_lhs_171839, i_180719);
                bool cond_171844 = slt64(k_171843, n_103462);
                int64_t lifted_lambda_res_171845;
                int64_t lifted_lambda_res_171846;
                
                if (cond_171844) {
                    bool x_178564 = sle64((int64_t) 0, k_171843);
                    bool bounds_check_178565 = cond_171844 && x_178564;
                    bool index_certs_178566;
                    
                    if (!bounds_check_178565) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171843, "] out of bounds for array of shape [", (long long) n_103462, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_178567 = ((int64_t *) xs_mem_181052.mem)[k_171843];
                    
                    lifted_lambda_res_171845 = lifted_lambda_res_t_res_178567;
                    lifted_lambda_res_171846 = k_171843;
                } else {
                    lifted_lambda_res_171845 = defunc_0_reduce_res_178711;
                    lifted_lambda_res_171846 = defunc_0_reduce_res_178712;
                }
                ((int64_t *) mem_181071)[i_180719] = lifted_lambda_res_171845;
                ((int64_t *) mem_181073)[i_180719] = lifted_lambda_res_171846;
            }
            if (!cond_171829) {
                for (int64_t i_171855 = 0; i_171855 < distance_171832; i_171855++) {
                    int64_t gt_arg1_171858 = add64((int64_t) 1, i_171855);
                    bool x_171859 = sle64((int64_t) 0, gt_arg1_171858);
                    bool y_171860 = slt64(gt_arg1_171858, block_sizze_171802);
                    bool bounds_check_171861 = x_171859 && y_171860;
                    bool index_certs_171862;
                    
                    if (!bounds_check_171861) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171858, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171864 = slt64(i_171855, block_sizze_171802);
                    bool index_certs_171865;
                    
                    if (!y_171864) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171855, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_171863 = ((int64_t *) mem_181071)[gt_arg1_171858];
                    int64_t gt_arg0_171866 = ((int64_t *) mem_181071)[i_171855];
                    bool zlze_res_171867 = sle64(gt_arg0_171866, gt_arg1_171863);
                    bool defunc_0_lifted_gt_res_171868 = !zlze_res_171867;
                    bool s_171869;
                    int64_t s_171872;
                    bool loop_while_171873;
                    int64_t j_171876;
                    
                    loop_while_171873 = defunc_0_lifted_gt_res_171868;
                    j_171876 = i_171855;
                    while (loop_while_171873) {
                        bool x_171877 = sle64((int64_t) 0, j_171876);
                        bool y_171878 = slt64(j_171876, block_sizze_171802);
                        bool bounds_check_171879 = x_171877 && y_171878;
                        bool index_certs_171880;
                        
                        if (!bounds_check_171879) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171876, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171883 = add64((int64_t) 1, j_171876);
                        bool x_171884 = sle64((int64_t) 0, copy_arg0_171883);
                        bool y_171885 = slt64(copy_arg0_171883, block_sizze_171802);
                        bool bounds_check_171886 = x_171884 && y_171885;
                        bool index_certs_171887;
                        
                        if (!bounds_check_171886) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171883, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171881 = ((int64_t *) mem_181071)[j_171876];
                        int64_t copy_arg0_171882 = ((int64_t *) mem_181073)[j_171876];
                        int64_t copy_arg0_171888 = ((int64_t *) mem_181071)[copy_arg0_171883];
                        int64_t copy_arg0_171889 = ((int64_t *) mem_181073)[copy_arg0_171883];
                        
                        ((int64_t *) mem_181071)[j_171876] = copy_arg0_171888;
                        ((int64_t *) mem_181073)[j_171876] = copy_arg0_171889;
                        ((int64_t *) mem_181071)[copy_arg0_171883] = copy_arg0_171881;
                        ((int64_t *) mem_181073)[copy_arg0_171883] = copy_arg0_171882;
                        
                        int64_t tmp_171894 = sub64(j_171876, (int64_t) 1);
                        bool cond_171895 = sle64((int64_t) 0, tmp_171894);
                        bool loop_cond_171896;
                        
                        if (cond_171895) {
                            bool y_178569 = slt64(tmp_171894, block_sizze_171802);
                            bool bounds_check_178570 = cond_171895 && y_178569;
                            bool index_certs_178571;
                            
                            if (!bounds_check_178570) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171894, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_178568 = ((int64_t *) mem_181071)[j_171876];
                            int64_t gt_arg0_178572 = ((int64_t *) mem_181071)[tmp_171894];
                            bool zlze_res_178573 = sle64(gt_arg0_178572, gt_arg1_178568);
                            bool defunc_0_lifted_gt_res_178574 = !zlze_res_178573;
                            
                            loop_cond_171896 = defunc_0_lifted_gt_res_178574;
                        } else {
                            loop_cond_171896 = 0;
                        }
                        
                        bool loop_while_tmp_182480 = loop_cond_171896;
                        int64_t j_tmp_182483 = tmp_171894;
                        
                        loop_while_171873 = loop_while_tmp_182480;
                        j_171876 = j_tmp_182483;
                    }
                    s_171869 = loop_while_171873;
                    s_171872 = j_171876;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181071, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181061, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181073, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
        }
        if (memblock_alloc(ctx, &mem_181126, bytes_181057, "mem_181126")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181126.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181058, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        if (memblock_alloc(ctx, &mem_181130, bytes_181057, "mem_181130")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181130.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181061, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        
        int64_t data_171909;
        bool data_171910;
        int64_t data_171913;
        int64_t loop_dz2084Uz2082U_171914;
        bool loop_while_171915;
        int64_t stride_171918;
        
        if (memblock_set(ctx, &mem_param_181134, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181137, &mem_181130, "mem_181130") != 0)
            return 1;
        loop_dz2084Uz2082U_171914 = flat_dim_171803;
        loop_while_171915 = loop_cond_171906;
        stride_171918 = block_sizze_171802;
        while (loop_while_171915) {
            int64_t next_stride_171919 = mul64((int64_t) 2, stride_171918);
            bool zzero_171920 = next_stride_171919 == (int64_t) 0;
            bool nonzzero_171921 = !zzero_171920;
            bool nonzzero_cert_171922;
            
            if (!nonzzero_171921) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171923 = sdiv64(flat_dim_171803, next_stride_171919);
            bool bounds_invalid_upwards_171924 = slt64(num_merges_171923, (int64_t) 0);
            bool valid_171925 = !bounds_invalid_upwards_171924;
            bool range_valid_c_171926;
            
            if (!valid_171925) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171923, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171928 = sub64(next_stride_171919, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171929 = sle64((int64_t) 0, m_171928);
            bool cond_171931 = slt64(next_stride_171919, (int64_t) 10);
            bool protect_assert_disj_171932 = nonzzero_171908 || cond_171931;
            bool nonzzero_cert_171933;
            
            if (!protect_assert_disj_171932) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171934 = smod_safe64(next_stride_171919, merge_block_sizze_171806);
            bool num_blocks_171935 = zeze_lhs_171934 == (int64_t) 0;
            bool protect_assert_disj_171936 = cond_171931 || num_blocks_171935;
            bool assert_c_171937;
            
            if (!protect_assert_disj_171936) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171939 = sdiv_safe64(next_stride_171919, merge_block_sizze_171806);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940 = add64((int64_t) 1, num_blocks_171939);
            int64_t j_m_i_171941 = sub64(next_stride_171919, stride_171918);
            int64_t flat_dim_171942 = merge_block_sizze_171806 * num_blocks_171939;
            bool bounds_invalid_upwards_171943 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, (int64_t) 0);
            bool zzero_lte_i_171944 = sle64((int64_t) 0, stride_171918);
            bool i_lte_j_171945 = sle64(stride_171918, next_stride_171919);
            bool empty_slice_171946 = stride_171918 == (int64_t) 0;
            int64_t m_171947 = sub64(stride_171918, (int64_t) 1);
            bool bounds_invalid_upwards_171948 = slt64(num_blocks_171939, (int64_t) 0);
            bool empty_slice_171949 = j_m_i_171941 == (int64_t) 0;
            int64_t m_171950 = sub64(j_m_i_171941, (int64_t) 1);
            bool cond_171951 = slt64((int64_t) 0, stride_171918);
            bool valid_171952 = !bounds_invalid_upwards_171943;
            bool zzero_leq_i_p_m_t_s_171953 = sle64((int64_t) 0, m_171947);
            bool i_p_m_t_s_leq_w_171954 = slt64(m_171947, next_stride_171919);
            bool valid_171955 = !bounds_invalid_upwards_171948;
            bool i_p_m_t_s_leq_w_171956 = slt64(m_171928, flat_dim_171942);
            int64_t i_p_m_t_s_171957 = add64(stride_171918, m_171950);
            bool y_171958 = slt64((int64_t) 0, j_m_i_171941);
            bool protect_assert_disj_171959 = cond_171931 || valid_171952;
            bool range_valid_c_171960;
            
            if (!protect_assert_disj_171959) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171961 = zzero_leq_i_p_m_t_s_171953 && i_p_m_t_s_leq_w_171954;
            bool protect_assert_disj_171962 = cond_171931 || valid_171955;
            bool range_valid_c_171963;
            
            if (!protect_assert_disj_171962) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171939, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171964 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_171956;
            bool zzero_leq_i_p_m_t_s_171965 = sle64((int64_t) 0, i_p_m_t_s_171957);
            bool i_p_m_t_s_leq_w_171966 = slt64(i_p_m_t_s_171957, next_stride_171919);
            bool forwards_ok_171967 = zzero_lte_i_171944 && y_171961;
            bool ok_or_empty_171968 = zzero_171920 || y_171964;
            bool y_171969 = zzero_lte_i_171944 && i_p_m_t_s_leq_w_171966;
            bool protect_assert_disj_171970 = cond_171951 || y_171958;
            bool ok_or_empty_171971 = empty_slice_171946 || forwards_ok_171967;
            bool protect_assert_disj_171972 = cond_171931 || ok_or_empty_171968;
            bool index_certs_171973;
            
            if (!protect_assert_disj_171972) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) flat_dim_171942, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171974 = zzero_leq_i_p_m_t_s_171965 && y_171969;
            bool loop_not_taken_171975 = !cond_171931;
            bool protect_assert_disj_171976 = protect_assert_disj_171970 || loop_not_taken_171975;
            bool index_certs_171977;
            
            if (!protect_assert_disj_171976) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171978 = cond_171931 || ok_or_empty_171971;
            bool index_certs_171979;
            
            if (!protect_assert_disj_171978) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171980 = i_lte_j_171945 && y_171974;
            bool protect_assert_disj_171981 = ok_or_empty_171971 || loop_not_taken_171975;
            bool index_certs_171982;
            
            if (!protect_assert_disj_171981) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171983 = empty_slice_171949 || forwards_ok_171980;
            bool protect_assert_disj_171984 = loop_not_taken_171975 || ok_or_empty_171983;
            bool index_certs_171985;
            
            if (!protect_assert_disj_171984) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171986 = cond_171931 || ok_or_empty_171983;
            bool index_certs_171987;
            
            if (!protect_assert_disj_171986) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181138 = (int64_t) 8 * num_merges_171923;
            int64_t bytes_181139 = next_stride_171919 * binop_x_181138;
            bool i_lte_j_171930 = sle64((int64_t) 0, next_stride_171919);
            
            if (mem_181140_cached_sizze_182772 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182772, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181143_cached_sizze_182773 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181143, &mem_181143_cached_sizze_182773, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181152 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940;
            int64_t binop_x_181168 = (int64_t) 8 * num_blocks_171939;
            int64_t bytes_181169 = merge_block_sizze_171806 * binop_x_181168;
            int64_t bytes_181214 = (int64_t) 16 * stride_171918;
            
            for (int64_t i_180747 = 0; i_180747 < num_merges_171923; i_180747++) {
                int64_t start_171991 = mul64(next_stride_171919, i_180747);
                int64_t j_m_i_171992 = sub64(loop_dz2084Uz2082U_171914, start_171991);
                bool empty_slice_171993 = j_m_i_171992 == (int64_t) 0;
                int64_t m_171994 = sub64(j_m_i_171992, (int64_t) 1);
                int64_t i_p_m_t_s_171995 = add64(start_171991, m_171994);
                bool zzero_leq_i_p_m_t_s_171996 = sle64((int64_t) 0, i_p_m_t_s_171995);
                bool i_p_m_t_s_leq_w_171997 = slt64(i_p_m_t_s_171995, loop_dz2084Uz2082U_171914);
                bool zzero_lte_i_171998 = sle64((int64_t) 0, start_171991);
                bool i_lte_j_171999 = sle64(start_171991, loop_dz2084Uz2082U_171914);
                bool y_172000 = i_p_m_t_s_leq_w_171997 && zzero_lte_i_171998;
                bool y_172001 = zzero_leq_i_p_m_t_s_171996 && y_172000;
                bool forwards_ok_172002 = i_lte_j_171999 && y_172001;
                bool ok_or_empty_172003 = empty_slice_171993 || forwards_ok_172002;
                bool index_certs_172004;
                
                if (!ok_or_empty_172003) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171991, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171914, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172005 = slt64(m_171928, j_m_i_171992);
                bool y_172006 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_172005;
                bool forwards_ok_172007 = i_lte_j_171930 && y_172006;
                bool ok_or_empty_172008 = zzero_171920 || forwards_ok_172007;
                bool index_certs_172009;
                
                if (!ok_or_empty_172008) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) j_m_i_171992, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171931) {
                    int64_t dummy_178600;
                    int64_t dummy_178601;
                    
                    if (cond_171951) {
                        int64_t head_res_178602 = ((int64_t *) mem_param_181134.mem)[start_171991];
                        int64_t head_res_178603 = ((int64_t *) mem_param_181137.mem)[start_171991];
                        
                        dummy_178600 = head_res_178602;
                        dummy_178601 = head_res_178603;
                    } else {
                        int64_t slice_178604 = stride_171918 + start_171991;
                        int64_t head_res_178605 = ((int64_t *) mem_param_181134.mem)[slice_178604];
                        int64_t head_res_178606 = ((int64_t *) mem_param_181137.mem)[slice_178604];
                        
                        dummy_178600 = head_res_178605;
                        dummy_178601 = head_res_178606;
                    }
                    if (memblock_alloc(ctx, &mem_181215, bytes_181214, "mem_181215")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182493 = 0; nest_i_182493 < next_stride_171919; nest_i_182493++) {
                        ((int64_t *) mem_181215.mem)[nest_i_182493] = dummy_178600;
                    }
                    if (memblock_alloc(ctx, &mem_181217, bytes_181214, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182494 = 0; nest_i_182494 < next_stride_171919; nest_i_182494++) {
                        ((int64_t *) mem_181217.mem)[nest_i_182494] = dummy_178601;
                    }
                    
                    int64_t data_178609;
                    int64_t i_178613 = (int64_t) 0;
                    
                    for (int64_t k_178612 = 0; k_178612 < next_stride_171919; k_178612++) {
                        int64_t j_178616 = sub64(k_178612, i_178613);
                        bool cond_178617 = j_178616 == j_m_i_171941;
                        bool cond_178618;
                        
                        if (cond_178617) {
                            cond_178618 = 1;
                        } else {
                            bool cond_178619 = slt64(i_178613, stride_171918);
                            bool cond_f_res_178620;
                            
                            if (cond_178619) {
                                bool x_178621 = sle64((int64_t) 0, j_178616);
                                bool y_178622 = slt64(j_178616, j_m_i_171941);
                                bool bounds_check_178623 = x_178621 && y_178622;
                                bool index_certs_178624;
                                
                                if (!bounds_check_178623) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178628 = sle64((int64_t) 0, i_178613);
                                bool bounds_check_178629 = cond_178619 && x_178628;
                                bool index_certs_178630;
                                
                                if (!bounds_check_178629) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178625 = stride_171918 + j_178616;
                                int64_t slice_178626 = start_171991 + slice_178625;
                                int64_t leq_arg1_178627 = ((int64_t *) mem_param_181134.mem)[slice_178626];
                                int64_t slice_178631 = start_171991 + i_178613;
                                int64_t leq_arg0_178632 = ((int64_t *) mem_param_181134.mem)[slice_178631];
                                bool zlze_res_178633 = sle64(leq_arg0_178632, leq_arg1_178627);
                                
                                cond_f_res_178620 = zlze_res_178633;
                            } else {
                                cond_f_res_178620 = 0;
                            }
                            cond_178618 = cond_f_res_178620;
                        }
                        
                        int64_t loopres_178634;
                        int64_t loopres_178635;
                        int64_t loopres_178636;
                        
                        if (cond_178618) {
                            bool x_178638 = sle64((int64_t) 0, i_178613);
                            bool y_178639 = slt64(i_178613, stride_171918);
                            bool bounds_check_178640 = x_178638 && y_178639;
                            bool index_certs_178641;
                            
                            if (!bounds_check_178640) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178637 = add64((int64_t) 1, i_178613);
                            int64_t slice_178642 = start_171991 + i_178613;
                            int64_t tmp_178643 = ((int64_t *) mem_param_181134.mem)[slice_178642];
                            int64_t tmp_178644 = ((int64_t *) mem_param_181137.mem)[slice_178642];
                            
                            loopres_178634 = tmp_178637;
                            loopres_178635 = tmp_178643;
                            loopres_178636 = tmp_178644;
                        } else {
                            bool x_178645 = sle64((int64_t) 0, j_178616);
                            bool y_178646 = slt64(j_178616, j_m_i_171941);
                            bool bounds_check_178647 = x_178645 && y_178646;
                            bool index_certs_178648;
                            
                            if (!bounds_check_178647) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178649 = stride_171918 + j_178616;
                            int64_t slice_178650 = start_171991 + slice_178649;
                            int64_t tmp_178651 = ((int64_t *) mem_param_181134.mem)[slice_178650];
                            int64_t tmp_178652 = ((int64_t *) mem_param_181137.mem)[slice_178650];
                            
                            loopres_178634 = i_178613;
                            loopres_178635 = tmp_178651;
                            loopres_178636 = tmp_178652;
                        }
                        ((int64_t *) mem_181215.mem)[k_178612] = loopres_178635;
                        ((int64_t *) mem_181217.mem)[k_178612] = loopres_178636;
                        
                        int64_t i_tmp_182495 = loopres_178634;
                        
                        i_178613 = i_tmp_182495;
                    }
                    data_178609 = i_178613;
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181215, "mem_181215") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181217, "mem_181217") != 0)
                        return 1;
                } else {
                    if (mem_181153_cached_sizze_182774 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182774, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181155_cached_sizze_182775 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181155, &mem_181155_cached_sizze_182775, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180733 = 0; i_180733 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940; i_180733++) {
                        int64_t split_count_arg3_172071 = mul64(merge_block_sizze_171806, i_180733);
                        int64_t defunc_0_split_count_res_172072;
                        int64_t defunc_0_split_count_res_172073;
                        int64_t defunc_0_split_count_res_172074;
                        int64_t defunc_0_split_count_res_172075;
                        int64_t defunc_0_split_count_res_172076;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_172072, &defunc_0_split_count_res_172073, &defunc_0_split_count_res_172074, &defunc_0_split_count_res_172075, &defunc_0_split_count_res_172076, (int64_t) 0, stride_171918, (int64_t) 0, j_m_i_171941, split_count_arg3_172071) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172077 = slt64((int64_t) 0, defunc_0_split_count_res_172076);
                        bool defunc_0_split_count_res_172078;
                        int64_t defunc_0_split_count_res_172079;
                        int64_t defunc_0_split_count_res_172080;
                        int64_t defunc_0_split_count_res_172081;
                        int64_t defunc_0_split_count_res_172082;
                        int64_t defunc_0_split_count_res_172083;
                        bool loop_while_172084;
                        int64_t ss_172085;
                        int64_t ss_172086;
                        int64_t tt_172087;
                        int64_t tt_172088;
                        int64_t count_172089;
                        
                        loop_while_172084 = loop_cond_172077;
                        ss_172085 = defunc_0_split_count_res_172072;
                        ss_172086 = defunc_0_split_count_res_172073;
                        tt_172087 = defunc_0_split_count_res_172074;
                        tt_172088 = defunc_0_split_count_res_172075;
                        count_172089 = defunc_0_split_count_res_172076;
                        while (loop_while_172084) {
                            int64_t zlze_lhs_172090 = sub64(ss_172086, ss_172085);
                            bool cond_172091 = sle64(zlze_lhs_172090, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172092;
                            int64_t defunc_0_lifted_step_res_172093;
                            int64_t defunc_0_lifted_step_res_172094;
                            int64_t defunc_0_lifted_step_res_172095;
                            
                            if (cond_172091) {
                                int64_t tmp_178655 = add64(tt_172087, count_172089);
                                
                                defunc_0_lifted_step_res_172092 = ss_172085;
                                defunc_0_lifted_step_res_172093 = tmp_178655;
                                defunc_0_lifted_step_res_172094 = tt_172088;
                                defunc_0_lifted_step_res_172095 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172097 = sub64(tt_172088, tt_172087);
                                bool cond_172098 = sle64(zlze_lhs_172097, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172099;
                                int64_t defunc_0_lifted_step_res_f_res_172100;
                                int64_t defunc_0_lifted_step_res_f_res_172101;
                                int64_t defunc_0_lifted_step_res_f_res_172102;
                                
                                if (cond_172098) {
                                    int64_t tmp_178656 = add64(ss_172085, count_172089);
                                    
                                    defunc_0_lifted_step_res_f_res_172099 = tmp_178656;
                                    defunc_0_lifted_step_res_f_res_172100 = tt_172087;
                                    defunc_0_lifted_step_res_f_res_172101 = tt_172088;
                                    defunc_0_lifted_step_res_f_res_172102 = (int64_t) 0;
                                } else {
                                    bool cond_172104 = count_172089 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172107;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172108;
                                    
                                    if (cond_172104) {
                                        bool x_178658 = sle64((int64_t) 0, ss_172085);
                                        bool y_178659 = slt64(ss_172085, stride_171918);
                                        bool bounds_check_178660 = x_178658 && y_178659;
                                        bool index_certs_178661;
                                        
                                        if (!bounds_check_178660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172085, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178664 = sle64((int64_t) 0, tt_172087);
                                        bool y_178665 = slt64(tt_172087, j_m_i_171941);
                                        bool bounds_check_178666 = x_178664 && y_178665;
                                        bool index_certs_178667;
                                        
                                        if (!bounds_check_178666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172087, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178662 = start_171991 + ss_172085;
                                        int64_t leq_arg1_178663 = ((int64_t *) mem_param_181134.mem)[slice_178662];
                                        int64_t slice_178668 = stride_171918 + tt_172087;
                                        int64_t slice_178669 = start_171991 + slice_178668;
                                        int64_t leq_arg0_178670 = ((int64_t *) mem_param_181134.mem)[slice_178669];
                                        bool zlze_res_178671 = sle64(leq_arg0_178670, leq_arg1_178663);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        
                                        if (zlze_res_178671) {
                                            int64_t tmp_178674 = add64((int64_t) 1, tt_172087);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = ss_172085;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tmp_178674;
                                        } else {
                                            int64_t tmp_178675 = add64((int64_t) 1, ss_172085);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = tmp_178675;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tt_172087;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = tt_172088;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = (int64_t) 0;
                                    } else {
                                        int64_t m_172127 = sdiv64(count_172089, (int64_t) 2);
                                        int64_t n_172128 = sub64(count_172089, m_172127);
                                        bool cond_172129 = n_172128 == (int64_t) 0;
                                        int64_t zgze_lhs_172130 = add64(ss_172085, m_172127);
                                        bool cond_f_res_172131 = sle64(ss_172086, zgze_lhs_172130);
                                        bool x_172132 = !cond_172129;
                                        bool y_172133 = cond_f_res_172131 && x_172132;
                                        bool cond_172134 = cond_172129 || y_172133;
                                        bool leq_y_x_172135;
                                        
                                        if (cond_172134) {
                                            leq_y_x_172135 = 1;
                                        } else {
                                            bool x_172136 = sle64((int64_t) 0, zgze_lhs_172130);
                                            bool y_172137 = slt64(zgze_lhs_172130, stride_171918);
                                            bool bounds_check_172138 = x_172136 && y_172137;
                                            bool index_certs_172139;
                                            
                                            if (!bounds_check_172138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172130, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172142 = add64(tt_172087, n_172128);
                                            int64_t leq_arg0_172143 = sub64(zm_lhs_172142, (int64_t) 1);
                                            bool x_172144 = sle64((int64_t) 0, leq_arg0_172143);
                                            bool y_172145 = slt64(leq_arg0_172143, j_m_i_171941);
                                            bool bounds_check_172146 = x_172144 && y_172145;
                                            bool index_certs_172147;
                                            
                                            if (!bounds_check_172146) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172143, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172140 = start_171991 + zgze_lhs_172130;
                                            int64_t leq_arg1_172141 = ((int64_t *) mem_param_181134.mem)[slice_172140];
                                            int64_t slice_172148 = stride_171918 + leq_arg0_172143;
                                            int64_t slice_172149 = start_171991 + slice_172148;
                                            int64_t leq_arg0_172150 = ((int64_t *) mem_param_181134.mem)[slice_172149];
                                            bool zlze_res_172151 = sle64(leq_arg0_172150, leq_arg1_172141);
                                            
                                            leq_y_x_172135 = zlze_res_172151;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                        
                                        if (leq_y_x_172135) {
                                            int64_t tmp_178676 = add64(tt_172087, n_172128);
                                            int64_t tmp_178677 = sub64(count_172089, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tmp_178676;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tt_172088;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = tmp_178677;
                                        } else {
                                            int64_t tmp_172157 = add64(tt_172087, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tt_172087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tmp_172157;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = count_172089;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = ss_172085;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                    }
                                    defunc_0_lifted_step_res_f_res_172099 = defunc_0_lifted_step_res_f_res_f_res_172105;
                                    defunc_0_lifted_step_res_f_res_172100 = defunc_0_lifted_step_res_f_res_f_res_172106;
                                    defunc_0_lifted_step_res_f_res_172101 = defunc_0_lifted_step_res_f_res_f_res_172107;
                                    defunc_0_lifted_step_res_f_res_172102 = defunc_0_lifted_step_res_f_res_f_res_172108;
                                }
                                defunc_0_lifted_step_res_172092 = defunc_0_lifted_step_res_f_res_172099;
                                defunc_0_lifted_step_res_172093 = defunc_0_lifted_step_res_f_res_172100;
                                defunc_0_lifted_step_res_172094 = defunc_0_lifted_step_res_f_res_172101;
                                defunc_0_lifted_step_res_172095 = defunc_0_lifted_step_res_f_res_172102;
                            }
                            
                            int64_t loopres_172158;
                            int64_t loopres_172159;
                            int64_t loopres_172160;
                            int64_t loopres_172161;
                            int64_t loopres_172162;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_172158, &loopres_172159, &loopres_172160, &loopres_172161, &loopres_172162, defunc_0_lifted_step_res_172092, ss_172086, defunc_0_lifted_step_res_172093, defunc_0_lifted_step_res_172094, defunc_0_lifted_step_res_172095) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172163 = slt64((int64_t) 0, loopres_172162);
                            bool loop_while_tmp_182500 = loop_cond_172163;
                            int64_t ss_tmp_182501 = loopres_172158;
                            int64_t ss_tmp_182502 = loopres_172159;
                            int64_t tt_tmp_182503 = loopres_172160;
                            int64_t tt_tmp_182504 = loopres_172161;
                            int64_t count_tmp_182505 = loopres_172162;
                            
                            loop_while_172084 = loop_while_tmp_182500;
                            ss_172085 = ss_tmp_182501;
                            ss_172086 = ss_tmp_182502;
                            tt_172087 = tt_tmp_182503;
                            tt_172088 = tt_tmp_182504;
                            count_172089 = count_tmp_182505;
                        }
                        defunc_0_split_count_res_172078 = loop_while_172084;
                        defunc_0_split_count_res_172079 = ss_172085;
                        defunc_0_split_count_res_172080 = ss_172086;
                        defunc_0_split_count_res_172081 = tt_172087;
                        defunc_0_split_count_res_172082 = tt_172088;
                        defunc_0_split_count_res_172083 = count_172089;
                        ((int64_t *) mem_181153)[i_180733] = defunc_0_split_count_res_172079;
                        ((int64_t *) mem_181155)[i_180733] = defunc_0_split_count_res_172081;
                    }
                    if (mem_181170_cached_sizze_182776 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_182776, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181173_cached_sizze_182777 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181173, &mem_181173_cached_sizze_182777, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180740 = 0; i_180740 < num_blocks_171939; i_180740++) {
                        bool y_172169 = slt64(i_180740, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool index_certs_172171;
                        
                        if (!y_172169) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180740, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172172 = ((int64_t *) mem_181153)[i_180740];
                        int64_t defunc_0_f_res_172173 = ((int64_t *) mem_181155)[i_180740];
                        int64_t tmp_172174 = add64((int64_t) 1, i_180740);
                        bool x_172175 = sle64((int64_t) 0, tmp_172174);
                        bool y_172176 = slt64(tmp_172174, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool bounds_check_172177 = x_172175 && y_172176;
                        bool index_certs_172178;
                        
                        if (!bounds_check_172177) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172174, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172179 = ((int64_t *) mem_181153)[tmp_172174];
                        int64_t defunc_0_f_res_172180 = ((int64_t *) mem_181155)[tmp_172174];
                        int64_t merge_sequential_arg2_172181 = add64(stride_171918, defunc_0_f_res_172173);
                        int64_t merge_sequential_arg2_172182 = add64(stride_171918, defunc_0_f_res_172180);
                        int64_t j_m_i_172183 = sub64(merge_sequential_arg2_172182, merge_sequential_arg2_172181);
                        bool empty_slice_172184 = j_m_i_172183 == (int64_t) 0;
                        int64_t m_172185 = sub64(j_m_i_172183, (int64_t) 1);
                        int64_t i_p_m_t_s_172186 = add64(merge_sequential_arg2_172181, m_172185);
                        bool zzero_leq_i_p_m_t_s_172187 = sle64((int64_t) 0, i_p_m_t_s_172186);
                        bool i_p_m_t_s_leq_w_172188 = slt64(i_p_m_t_s_172186, next_stride_171919);
                        bool zzero_lte_i_172189 = sle64((int64_t) 0, merge_sequential_arg2_172181);
                        bool i_lte_j_172190 = sle64(merge_sequential_arg2_172181, merge_sequential_arg2_172182);
                        bool y_172191 = i_p_m_t_s_leq_w_172188 && zzero_lte_i_172189;
                        bool y_172192 = zzero_leq_i_p_m_t_s_172187 && y_172191;
                        bool forwards_ok_172193 = i_lte_j_172190 && y_172192;
                        bool ok_or_empty_172194 = empty_slice_172184 || forwards_ok_172193;
                        bool index_certs_172195;
                        
                        if (!ok_or_empty_172194) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172181, ":", (long long) merge_sequential_arg2_172182, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172196 = sub64(defunc_0_f_res_172179, defunc_0_f_res_172172);
                        bool empty_slice_172197 = j_m_i_172196 == (int64_t) 0;
                        int64_t m_172198 = sub64(j_m_i_172196, (int64_t) 1);
                        int64_t i_p_m_t_s_172199 = add64(defunc_0_f_res_172172, m_172198);
                        bool zzero_leq_i_p_m_t_s_172200 = sle64((int64_t) 0, i_p_m_t_s_172199);
                        bool i_p_m_t_s_leq_w_172201 = slt64(i_p_m_t_s_172199, next_stride_171919);
                        bool zzero_lte_i_172202 = sle64((int64_t) 0, defunc_0_f_res_172172);
                        bool i_lte_j_172203 = sle64(defunc_0_f_res_172172, defunc_0_f_res_172179);
                        bool y_172204 = i_p_m_t_s_leq_w_172201 && zzero_lte_i_172202;
                        bool y_172205 = zzero_leq_i_p_m_t_s_172200 && y_172204;
                        bool forwards_ok_172206 = i_lte_j_172203 && y_172205;
                        bool ok_or_empty_172207 = empty_slice_172197 || forwards_ok_172206;
                        bool index_certs_172208;
                        
                        if (!ok_or_empty_172207) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172172, ":", (long long) defunc_0_f_res_172179, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172209 = slt64((int64_t) 0, j_m_i_172196);
                        int64_t dummy_172210;
                        int64_t dummy_172211;
                        
                        if (cond_172209) {
                            bool index_certs_178678;
                            
                            if (!cond_172209) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178679 = start_171991 + defunc_0_f_res_172172;
                            int64_t head_res_178680 = ((int64_t *) mem_param_181134.mem)[slice_178679];
                            int64_t head_res_178681 = ((int64_t *) mem_param_181137.mem)[slice_178679];
                            
                            dummy_172210 = head_res_178680;
                            dummy_172211 = head_res_178681;
                        } else {
                            bool y_172216 = slt64((int64_t) 0, j_m_i_172183);
                            bool index_certs_172217;
                            
                            if (!y_172216) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172218 = start_171991 + merge_sequential_arg2_172181;
                            int64_t head_res_172219 = ((int64_t *) mem_param_181134.mem)[slice_172218];
                            int64_t head_res_172220 = ((int64_t *) mem_param_181137.mem)[slice_172218];
                            
                            dummy_172210 = head_res_172219;
                            dummy_172211 = head_res_172220;
                        }
                        for (int64_t nest_i_182508 = 0; nest_i_182508 < merge_block_sizze_171806; nest_i_182508++) {
                            ((int64_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + nest_i_182508] = dummy_172210;
                        }
                        for (int64_t nest_i_182509 = 0; nest_i_182509 < merge_block_sizze_171806; nest_i_182509++) {
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + nest_i_182509] = dummy_172211;
                        }
                        
                        int64_t data_172223;
                        int64_t i_172227 = (int64_t) 0;
                        
                        for (int64_t k_172226 = 0; k_172226 < merge_block_sizze_171806; k_172226++) {
                            int64_t j_172230 = sub64(k_172226, i_172227);
                            bool cond_172231 = j_172230 == j_m_i_172183;
                            bool cond_172232;
                            
                            if (cond_172231) {
                                cond_172232 = 1;
                            } else {
                                bool cond_172233 = slt64(i_172227, j_m_i_172196);
                                bool cond_f_res_172234;
                                
                                if (cond_172233) {
                                    bool x_178682 = sle64((int64_t) 0, j_172230);
                                    bool y_178683 = slt64(j_172230, j_m_i_172183);
                                    bool bounds_check_178684 = x_178682 && y_178683;
                                    bool index_certs_178685;
                                    
                                    if (!bounds_check_178684) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178689 = sle64((int64_t) 0, i_172227);
                                    bool bounds_check_178690 = cond_172233 && x_178689;
                                    bool index_certs_178691;
                                    
                                    if (!bounds_check_178690) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178686 = merge_sequential_arg2_172181 + j_172230;
                                    int64_t slice_178687 = start_171991 + slice_178686;
                                    int64_t leq_arg1_178688 = ((int64_t *) mem_param_181134.mem)[slice_178687];
                                    int64_t slice_178692 = defunc_0_f_res_172172 + i_172227;
                                    int64_t slice_178693 = start_171991 + slice_178692;
                                    int64_t leq_arg0_178694 = ((int64_t *) mem_param_181134.mem)[slice_178693];
                                    bool zlze_res_178695 = sle64(leq_arg0_178694, leq_arg1_178688);
                                    
                                    cond_f_res_172234 = zlze_res_178695;
                                } else {
                                    cond_f_res_172234 = 0;
                                }
                                cond_172232 = cond_f_res_172234;
                            }
                            
                            int64_t loopres_172249;
                            int64_t loopres_172250;
                            int64_t loopres_172251;
                            
                            if (cond_172232) {
                                bool x_178697 = sle64((int64_t) 0, i_172227);
                                bool y_178698 = slt64(i_172227, j_m_i_172196);
                                bool bounds_check_178699 = x_178697 && y_178698;
                                bool index_certs_178700;
                                
                                if (!bounds_check_178699) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178696 = add64((int64_t) 1, i_172227);
                                int64_t slice_178701 = defunc_0_f_res_172172 + i_172227;
                                int64_t slice_178702 = start_171991 + slice_178701;
                                int64_t tmp_178703 = ((int64_t *) mem_param_181134.mem)[slice_178702];
                                int64_t tmp_178704 = ((int64_t *) mem_param_181137.mem)[slice_178702];
                                
                                loopres_172249 = tmp_178696;
                                loopres_172250 = tmp_178703;
                                loopres_172251 = tmp_178704;
                            } else {
                                bool x_172261 = sle64((int64_t) 0, j_172230);
                                bool y_172262 = slt64(j_172230, j_m_i_172183);
                                bool bounds_check_172263 = x_172261 && y_172262;
                                bool index_certs_172264;
                                
                                if (!bounds_check_172263) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172265 = merge_sequential_arg2_172181 + j_172230;
                                int64_t slice_172266 = start_171991 + slice_172265;
                                int64_t tmp_172267 = ((int64_t *) mem_param_181134.mem)[slice_172266];
                                int64_t tmp_172268 = ((int64_t *) mem_param_181137.mem)[slice_172266];
                                
                                loopres_172249 = i_172227;
                                loopres_172250 = tmp_172267;
                                loopres_172251 = tmp_172268;
                            }
                            ((int64_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172250;
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172251;
                            
                            int64_t i_tmp_182510 = loopres_172249;
                            
                            i_172227 = i_tmp_182510;
                        }
                        data_172223 = i_172227;
                    }
                    if (memblock_alloc(ctx, &mem_181208, bytes_181169, "mem_181208")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181208.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181170, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_alloc(ctx, &mem_181212, bytes_181169, "mem_181212")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181212.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181173, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181208, "mem_181208") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181212, "mem_181212") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181140, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181235.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181143, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181232.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172275 = next_stride_171919 * num_merges_171923;
            
            if (memblock_alloc(ctx, &mem_181246, bytes_181139, "mem_181246")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181246.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181140, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            if (memblock_alloc(ctx, &mem_181250, bytes_181139, "mem_181250")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181250.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181143, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            
            bool loop_cond_172278 = slt64(next_stride_171919, flat_dim_171803);
            
            if (memblock_set(ctx, &mem_param_tmp_182484, &mem_181246, "mem_181246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182485, &mem_181250, "mem_181250") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182486 = flat_dim_172275;
            bool loop_while_tmp_182487 = loop_cond_172278;
            int64_t stride_tmp_182490 = next_stride_171919;
            
            if (memblock_set(ctx, &mem_param_181134, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181137, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
                return 1;
            loop_dz2084Uz2082U_171914 = loop_dz2084Uz2082U_tmp_182486;
            loop_while_171915 = loop_while_tmp_182487;
            stride_171918 = stride_tmp_182490;
        }
        if (memblock_set(ctx, &ext_mem_181257, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181256, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        data_171909 = loop_dz2084Uz2082U_171914;
        data_171910 = loop_while_171915;
        data_171913 = stride_171918;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        
        bool empty_slice_172279 = n_103462 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172280 = sle64((int64_t) 0, zs_lhs_171787);
        bool i_p_m_t_s_leq_w_172281 = slt64(zs_lhs_171787, data_171909);
        bool y_172282 = zzero_leq_i_p_m_t_s_172280 && i_p_m_t_s_leq_w_172281;
        bool ok_or_empty_172283 = empty_slice_172279 || y_172282;
        bool index_certs_172284;
        
        if (!ok_or_empty_172283) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_103462, "] out of bounds for array of shape [", (long long) data_171909, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:158:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181260, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181262, bytes_181054, "mem_181262")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181264, bytes_181054, "mem_181264")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180754 = 0; i_180754 < n_103462; i_180754++) {
        int64_t eta_p_172288 = ((int64_t *) ext_mem_181260.mem)[i_180754];
        bool x_172289 = sle64((int64_t) 0, eta_p_172288);
        bool y_172290 = slt64(eta_p_172288, n_103462);
        bool bounds_check_172291 = x_172289 && y_172290;
        bool index_certs_172292;
        
        if (!bounds_check_172291) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172288, "] out of bounds for array of shape [", (long long) n_103462, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172293 = ((int64_t *) ext_mem_181053.mem)[eta_p_172288];
        int64_t lifted_lambda_res_172294 = ((int64_t *) xs_mem_181052.mem)[eta_p_172288];
        
        ((int64_t *) mem_181262.mem)[i_180754] = lifted_lambda_res_172293;
        ((int64_t *) mem_181264.mem)[i_180754] = lifted_lambda_res_172294;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181262, "mem_181262") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181264, "mem_181264") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182766, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182767, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181058);
        free(mem_181061);
        free(mem_181071);
        free(mem_181073);
        free(mem_181140);
        free(mem_181143);
        free(mem_181153);
        free(mem_181155);
        free(mem_181170);
        free(mem_181173);
        if (memblock_unref(ctx, &mem_181264, "mem_181264") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181262, "mem_181262") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181250, "mem_181250") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181246, "mem_181246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181212, "mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181208, "mem_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181215, "mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181257, "ext_mem_181257") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182778, struct memblock *mem_out_p_182779, struct memblock xs_mem_181052, int64_t n_98775, int64_t incr_98776)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181058_cached_sizze_182780 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181061_cached_sizze_182781 = 0;
    unsigned char *mem_181061 = NULL;
    int64_t mem_181071_cached_sizze_182782 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_182783 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181140_cached_sizze_182784 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181143_cached_sizze_182785 = 0;
    unsigned char *mem_181143 = NULL;
    int64_t mem_181153_cached_sizze_182786 = 0;
    unsigned char *mem_181153 = NULL;
    int64_t mem_181155_cached_sizze_182787 = 0;
    unsigned char *mem_181155 = NULL;
    int64_t mem_181170_cached_sizze_182788 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181173_cached_sizze_182789 = 0;
    unsigned char *mem_181173 = NULL;
    struct memblock mem_181264;
    
    mem_181264.references = NULL;
    
    struct memblock mem_181262;
    
    mem_181262.references = NULL;
    
    struct memblock mem_param_tmp_182485;
    
    mem_param_tmp_182485.references = NULL;
    
    struct memblock mem_param_tmp_182484;
    
    mem_param_tmp_182484.references = NULL;
    
    struct memblock mem_181250;
    
    mem_181250.references = NULL;
    
    struct memblock mem_181246;
    
    mem_181246.references = NULL;
    
    struct memblock mem_181212;
    
    mem_181212.references = NULL;
    
    struct memblock mem_181208;
    
    mem_181208.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock mem_181215;
    
    mem_181215.references = NULL;
    
    struct memblock ext_mem_181232;
    
    ext_mem_181232.references = NULL;
    
    struct memblock ext_mem_181235;
    
    ext_mem_181235.references = NULL;
    
    struct memblock mem_param_181137;
    
    mem_param_181137.references = NULL;
    
    struct memblock mem_param_181134;
    
    mem_param_181134.references = NULL;
    
    struct memblock ext_mem_181256;
    
    ext_mem_181256.references = NULL;
    
    struct memblock ext_mem_181257;
    
    ext_mem_181257.references = NULL;
    
    struct memblock mem_181130;
    
    mem_181130.references = NULL;
    
    struct memblock mem_181126;
    
    mem_181126.references = NULL;
    
    struct memblock ext_mem_181260;
    
    ext_mem_181260.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_98775;
    bool cond_171786 = sle64(n_98775, (int64_t) 1);
    int64_t zs_lhs_171787 = sub64(n_98775, (int64_t) 1);
    int64_t zp_rhs_171788 = sdiv_safe64(zs_lhs_171787, (int64_t) 20);
    int64_t min_num_blocks_171789 = add64((int64_t) 1, zp_rhs_171788);
    bool loop_cond_171790 = slt64((int64_t) 1, min_num_blocks_171789);
    bool smallest_pow_2_geq_than_res_171791;
    int64_t smallest_pow_2_geq_than_res_171792;
    bool loop_while_171793;
    int64_t x_171794;
    
    loop_while_171793 = loop_cond_171790;
    x_171794 = (int64_t) 1;
    while (loop_while_171793) {
        int64_t loopres_171795 = mul64((int64_t) 2, x_171794);
        bool loop_cond_171796 = slt64(loopres_171795, min_num_blocks_171789);
        bool loop_while_tmp_182468 = loop_cond_171796;
        int64_t x_tmp_182469 = loopres_171795;
        
        loop_while_171793 = loop_while_tmp_182468;
        x_171794 = x_tmp_182469;
    }
    smallest_pow_2_geq_than_res_171791 = loop_while_171793;
    smallest_pow_2_geq_than_res_171792 = x_171794;
    
    bool zzero_171797 = smallest_pow_2_geq_than_res_171792 == (int64_t) 0;
    bool nonzzero_171798 = !zzero_171797;
    bool protect_assert_disj_171799 = cond_171786 || nonzzero_171798;
    bool nonzzero_cert_171800;
    
    if (!protect_assert_disj_171799) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171801 = sdiv_safe64(zs_lhs_171787, smallest_pow_2_geq_than_res_171792);
    int64_t block_sizze_171802 = add64((int64_t) 1, zp_rhs_171801);
    bool y_171807 = slt64((int64_t) 0, n_98775);
    bool protect_assert_disj_182165 = cond_171786 || y_171807;
    bool index_certs_171808;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98775, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171821 = slt64(smallest_pow_2_geq_than_res_171792, (int64_t) 0);
    bool valid_171822 = !bounds_invalid_upwards_171821;
    bool protect_assert_disj_182173 = cond_171786 || valid_171822;
    bool range_valid_c_171823;
    
    if (!protect_assert_disj_182173) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171792, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171825 = slt64(block_sizze_171802, (int64_t) 0);
    bool valid_171826 = !bounds_invalid_upwards_171825;
    bool protect_assert_disj_182175 = cond_171786 || valid_171826;
    bool range_valid_c_171827;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171802, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171829 = sle64(block_sizze_171802, (int64_t) 1);
    int64_t tmp_171830 = sub64(block_sizze_171802, (int64_t) 2);
    bool bounds_invalid_upwards_171831 = slt64(tmp_171830, (int64_t) 0);
    bool valid_171833 = !bounds_invalid_upwards_171831;
    bool protect_assert_disj_171834 = cond_171829 || valid_171833;
    bool protect_assert_disj_182177 = cond_171786 || protect_assert_disj_171834;
    bool range_valid_c_171835;
    
    if (!protect_assert_disj_182177) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171830, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181263 = (int64_t) 2 * n_98775;
    
    if (futrts_indicesWithIncrement_9144(ctx, &ext_mem_181053, xs_mem_181052, n_98775, incr_98776) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182470 = 0; i_182470 < n_98775; i_182470++) {
        int64_t x_182471 = (int64_t) 0 + i_182470 * (int64_t) 1;
        
        ((int64_t *) mem_181055.mem)[i_182470] = x_182471;
    }
    
    int64_t flat_dim_171803 = smallest_pow_2_geq_than_res_171792 * block_sizze_171802;
    bool x_182160 = !cond_171786;
    int64_t greatest_divisor_leq_than_arg1_171805 = mul64((int64_t) 2, block_sizze_171802);
    int64_t merge_block_sizze_171806;
    
    if (x_182160) {
        int64_t x_182162;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182162, (int64_t) 8, greatest_divisor_leq_than_arg1_171805) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171806 = x_182162;
    } else {
        merge_block_sizze_171806 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_171809;
    
    if (x_182160) {
        int16_t x_182166 = ((int16_t *) xs_mem_181052.mem)[(int64_t) 0];
        
        reduce_arg1_171809 = x_182166;
    } else {
        reduce_arg1_171809 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_178711;
    int64_t defunc_0_reduce_res_178712;
    
    if (x_182160) {
        int16_t x_182168;
        int64_t x_182169;
        int16_t redout_180712;
        int64_t redout_180713;
        
        redout_180712 = reduce_arg1_171809;
        redout_180713 = (int64_t) 0;
        for (int64_t i_180714 = 0; i_180714 < n_98775; i_180714++) {
            int16_t x_171812 = ((int16_t *) xs_mem_181052.mem)[i_180714];
            bool zlze_res_171818 = sle16(redout_180712, x_171812);
            int16_t defunc_0_op_res_171819;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171819 = x_171812;
            } else {
                defunc_0_op_res_171819 = redout_180712;
            }
            
            int64_t defunc_0_op_res_171820;
            
            if (zlze_res_171818) {
                defunc_0_op_res_171820 = i_180714;
            } else {
                defunc_0_op_res_171820 = redout_180713;
            }
            
            int16_t redout_tmp_182472 = defunc_0_op_res_171819;
            int64_t redout_tmp_182473 = defunc_0_op_res_171820;
            
            redout_180712 = redout_tmp_182472;
            redout_180713 = redout_tmp_182473;
        }
        x_182168 = redout_180712;
        x_182169 = redout_180713;
        defunc_0_reduce_res_178711 = x_182168;
        defunc_0_reduce_res_178712 = x_182169;
    } else {
        defunc_0_reduce_res_178711 = (int16_t) 0;
        defunc_0_reduce_res_178712 = (int64_t) 0;
    }
    
    int64_t distance_171832 = add64((int64_t) 1, tmp_171830);
    int64_t binop_x_181056 = (int64_t) 2 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181057 = block_sizze_171802 * binop_x_181056;
    int64_t binop_x_181059 = (int64_t) 8 * smallest_pow_2_geq_than_res_171792;
    int64_t bytes_181060 = block_sizze_171802 * binop_x_181059;
    int64_t bytes_181072 = (int64_t) 8 * block_sizze_171802;
    bool loop_cond_171906 = slt64(block_sizze_171802, flat_dim_171803);
    bool zzero_171907 = merge_block_sizze_171806 == (int64_t) 0;
    bool nonzzero_171908 = !zzero_171907;
    
    if (cond_171786) {
        if (memblock_set(ctx, &ext_mem_181260, &mem_181055, "mem_181055") != 0)
            return 1;
    } else {
        if (mem_181058_cached_sizze_182780 < bytes_181057) {
            err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182780, bytes_181057);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181061_cached_sizze_182781 < bytes_181060) {
            err = lexical_realloc(ctx, &mem_181061, &mem_181061_cached_sizze_182781, bytes_181060);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181071_cached_sizze_182782 < greatest_divisor_leq_than_arg1_171805) {
            err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182782, greatest_divisor_leq_than_arg1_171805);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181073_cached_sizze_182783 < bytes_181072) {
            err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_182783, bytes_181072);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180726 = 0; i_180726 < smallest_pow_2_geq_than_res_171792; i_180726++) {
            int64_t zp_lhs_171839 = mul64(block_sizze_171802, i_180726);
            
            for (int64_t i_180719 = 0; i_180719 < block_sizze_171802; i_180719++) {
                int64_t k_171843 = add64(zp_lhs_171839, i_180719);
                bool cond_171844 = slt64(k_171843, n_98775);
                int16_t lifted_lambda_res_171845;
                int64_t lifted_lambda_res_171846;
                
                if (cond_171844) {
                    bool x_178564 = sle64((int64_t) 0, k_171843);
                    bool bounds_check_178565 = cond_171844 && x_178564;
                    bool index_certs_178566;
                    
                    if (!bounds_check_178565) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171843, "] out of bounds for array of shape [", (long long) n_98775, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_178567 = ((int16_t *) xs_mem_181052.mem)[k_171843];
                    
                    lifted_lambda_res_171845 = lifted_lambda_res_t_res_178567;
                    lifted_lambda_res_171846 = k_171843;
                } else {
                    lifted_lambda_res_171845 = defunc_0_reduce_res_178711;
                    lifted_lambda_res_171846 = defunc_0_reduce_res_178712;
                }
                ((int16_t *) mem_181071)[i_180719] = lifted_lambda_res_171845;
                ((int64_t *) mem_181073)[i_180719] = lifted_lambda_res_171846;
            }
            if (!cond_171829) {
                for (int64_t i_171855 = 0; i_171855 < distance_171832; i_171855++) {
                    int64_t gt_arg1_171858 = add64((int64_t) 1, i_171855);
                    bool x_171859 = sle64((int64_t) 0, gt_arg1_171858);
                    bool y_171860 = slt64(gt_arg1_171858, block_sizze_171802);
                    bool bounds_check_171861 = x_171859 && y_171860;
                    bool index_certs_171862;
                    
                    if (!bounds_check_171861) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171858, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171864 = slt64(i_171855, block_sizze_171802);
                    bool index_certs_171865;
                    
                    if (!y_171864) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171855, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_171863 = ((int16_t *) mem_181071)[gt_arg1_171858];
                    int16_t gt_arg0_171866 = ((int16_t *) mem_181071)[i_171855];
                    bool zlze_res_171867 = sle16(gt_arg0_171866, gt_arg1_171863);
                    bool defunc_0_lifted_gt_res_171868 = !zlze_res_171867;
                    bool s_171869;
                    int64_t s_171872;
                    bool loop_while_171873;
                    int64_t j_171876;
                    
                    loop_while_171873 = defunc_0_lifted_gt_res_171868;
                    j_171876 = i_171855;
                    while (loop_while_171873) {
                        bool x_171877 = sle64((int64_t) 0, j_171876);
                        bool y_171878 = slt64(j_171876, block_sizze_171802);
                        bool bounds_check_171879 = x_171877 && y_171878;
                        bool index_certs_171880;
                        
                        if (!bounds_check_171879) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171876, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171883 = add64((int64_t) 1, j_171876);
                        bool x_171884 = sle64((int64_t) 0, copy_arg0_171883);
                        bool y_171885 = slt64(copy_arg0_171883, block_sizze_171802);
                        bool bounds_check_171886 = x_171884 && y_171885;
                        bool index_certs_171887;
                        
                        if (!bounds_check_171886) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171883, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_171881 = ((int16_t *) mem_181071)[j_171876];
                        int64_t copy_arg0_171882 = ((int64_t *) mem_181073)[j_171876];
                        int16_t copy_arg0_171888 = ((int16_t *) mem_181071)[copy_arg0_171883];
                        int64_t copy_arg0_171889 = ((int64_t *) mem_181073)[copy_arg0_171883];
                        
                        ((int16_t *) mem_181071)[j_171876] = copy_arg0_171888;
                        ((int64_t *) mem_181073)[j_171876] = copy_arg0_171889;
                        ((int16_t *) mem_181071)[copy_arg0_171883] = copy_arg0_171881;
                        ((int64_t *) mem_181073)[copy_arg0_171883] = copy_arg0_171882;
                        
                        int64_t tmp_171894 = sub64(j_171876, (int64_t) 1);
                        bool cond_171895 = sle64((int64_t) 0, tmp_171894);
                        bool loop_cond_171896;
                        
                        if (cond_171895) {
                            bool y_178569 = slt64(tmp_171894, block_sizze_171802);
                            bool bounds_check_178570 = cond_171895 && y_178569;
                            bool index_certs_178571;
                            
                            if (!bounds_check_178570) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171894, "] out of bounds for array of shape [", (long long) block_sizze_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_178568 = ((int16_t *) mem_181071)[j_171876];
                            int16_t gt_arg0_178572 = ((int16_t *) mem_181071)[tmp_171894];
                            bool zlze_res_178573 = sle16(gt_arg0_178572, gt_arg1_178568);
                            bool defunc_0_lifted_gt_res_178574 = !zlze_res_178573;
                            
                            loop_cond_171896 = defunc_0_lifted_gt_res_178574;
                        } else {
                            loop_cond_171896 = 0;
                        }
                        
                        bool loop_while_tmp_182480 = loop_cond_171896;
                        int64_t j_tmp_182483 = tmp_171894;
                        
                        loop_while_171873 = loop_while_tmp_182480;
                        j_171876 = j_tmp_182483;
                    }
                    s_171869 = loop_while_171873;
                    s_171872 = j_171876;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181058, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181071, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181061, i_180726 * block_sizze_171802, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181073, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171802});
        }
        if (memblock_alloc(ctx, &mem_181126, bytes_181057, "mem_181126")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181126.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint16_t *) mem_181058, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        if (memblock_alloc(ctx, &mem_181130, bytes_181060, "mem_181130")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181130.mem, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (uint64_t *) mem_181061, (int64_t) 0, (int64_t []) {block_sizze_171802, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171792, block_sizze_171802});
        
        int64_t data_171909;
        bool data_171910;
        int64_t data_171913;
        int64_t loop_dz2084Uz2082U_171914;
        bool loop_while_171915;
        int64_t stride_171918;
        
        if (memblock_set(ctx, &mem_param_181134, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181137, &mem_181130, "mem_181130") != 0)
            return 1;
        loop_dz2084Uz2082U_171914 = flat_dim_171803;
        loop_while_171915 = loop_cond_171906;
        stride_171918 = block_sizze_171802;
        while (loop_while_171915) {
            int64_t next_stride_171919 = mul64((int64_t) 2, stride_171918);
            bool zzero_171920 = next_stride_171919 == (int64_t) 0;
            bool nonzzero_171921 = !zzero_171920;
            bool nonzzero_cert_171922;
            
            if (!nonzzero_171921) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171923 = sdiv64(flat_dim_171803, next_stride_171919);
            bool bounds_invalid_upwards_171924 = slt64(num_merges_171923, (int64_t) 0);
            bool valid_171925 = !bounds_invalid_upwards_171924;
            bool range_valid_c_171926;
            
            if (!valid_171925) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171923, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:158:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171928 = sub64(next_stride_171919, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171929 = sle64((int64_t) 0, m_171928);
            bool cond_171931 = slt64(next_stride_171919, (int64_t) 10);
            bool protect_assert_disj_171932 = nonzzero_171908 || cond_171931;
            bool nonzzero_cert_171933;
            
            if (!protect_assert_disj_171932) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171934 = smod_safe64(next_stride_171919, merge_block_sizze_171806);
            bool num_blocks_171935 = zeze_lhs_171934 == (int64_t) 0;
            bool protect_assert_disj_171936 = cond_171931 || num_blocks_171935;
            bool assert_c_171937;
            
            if (!protect_assert_disj_171936) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171939 = sdiv_safe64(next_stride_171919, merge_block_sizze_171806);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940 = add64((int64_t) 1, num_blocks_171939);
            int64_t j_m_i_171941 = sub64(next_stride_171919, stride_171918);
            int64_t flat_dim_171942 = merge_block_sizze_171806 * num_blocks_171939;
            bool bounds_invalid_upwards_171943 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, (int64_t) 0);
            bool zzero_lte_i_171944 = sle64((int64_t) 0, stride_171918);
            bool i_lte_j_171945 = sle64(stride_171918, next_stride_171919);
            bool empty_slice_171946 = stride_171918 == (int64_t) 0;
            int64_t m_171947 = sub64(stride_171918, (int64_t) 1);
            bool bounds_invalid_upwards_171948 = slt64(num_blocks_171939, (int64_t) 0);
            bool empty_slice_171949 = j_m_i_171941 == (int64_t) 0;
            int64_t m_171950 = sub64(j_m_i_171941, (int64_t) 1);
            bool cond_171951 = slt64((int64_t) 0, stride_171918);
            bool valid_171952 = !bounds_invalid_upwards_171943;
            bool zzero_leq_i_p_m_t_s_171953 = sle64((int64_t) 0, m_171947);
            bool i_p_m_t_s_leq_w_171954 = slt64(m_171947, next_stride_171919);
            bool valid_171955 = !bounds_invalid_upwards_171948;
            bool i_p_m_t_s_leq_w_171956 = slt64(m_171928, flat_dim_171942);
            int64_t i_p_m_t_s_171957 = add64(stride_171918, m_171950);
            bool y_171958 = slt64((int64_t) 0, j_m_i_171941);
            bool protect_assert_disj_171959 = cond_171931 || valid_171952;
            bool range_valid_c_171960;
            
            if (!protect_assert_disj_171959) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171961 = zzero_leq_i_p_m_t_s_171953 && i_p_m_t_s_leq_w_171954;
            bool protect_assert_disj_171962 = cond_171931 || valid_171955;
            bool range_valid_c_171963;
            
            if (!protect_assert_disj_171962) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171939, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171964 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_171956;
            bool zzero_leq_i_p_m_t_s_171965 = sle64((int64_t) 0, i_p_m_t_s_171957);
            bool i_p_m_t_s_leq_w_171966 = slt64(i_p_m_t_s_171957, next_stride_171919);
            bool forwards_ok_171967 = zzero_lte_i_171944 && y_171961;
            bool ok_or_empty_171968 = zzero_171920 || y_171964;
            bool y_171969 = zzero_lte_i_171944 && i_p_m_t_s_leq_w_171966;
            bool protect_assert_disj_171970 = cond_171951 || y_171958;
            bool ok_or_empty_171971 = empty_slice_171946 || forwards_ok_171967;
            bool protect_assert_disj_171972 = cond_171931 || ok_or_empty_171968;
            bool index_certs_171973;
            
            if (!protect_assert_disj_171972) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) flat_dim_171942, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171974 = zzero_leq_i_p_m_t_s_171965 && y_171969;
            bool loop_not_taken_171975 = !cond_171931;
            bool protect_assert_disj_171976 = protect_assert_disj_171970 || loop_not_taken_171975;
            bool index_certs_171977;
            
            if (!protect_assert_disj_171976) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171978 = cond_171931 || ok_or_empty_171971;
            bool index_certs_171979;
            
            if (!protect_assert_disj_171978) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171980 = i_lte_j_171945 && y_171974;
            bool protect_assert_disj_171981 = ok_or_empty_171971 || loop_not_taken_171975;
            bool index_certs_171982;
            
            if (!protect_assert_disj_171981) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171918, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171983 = empty_slice_171949 || forwards_ok_171980;
            bool protect_assert_disj_171984 = loop_not_taken_171975 || ok_or_empty_171983;
            bool index_certs_171985;
            
            if (!protect_assert_disj_171984) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171986 = cond_171931 || ok_or_empty_171983;
            bool index_certs_171987;
            
            if (!protect_assert_disj_171986) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171918, ":] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181138 = (int64_t) 2 * num_merges_171923;
            int64_t bytes_181139 = next_stride_171919 * binop_x_181138;
            int64_t binop_x_181141 = (int64_t) 8 * num_merges_171923;
            int64_t bytes_181142 = next_stride_171919 * binop_x_181141;
            bool i_lte_j_171930 = sle64((int64_t) 0, next_stride_171919);
            
            if (mem_181140_cached_sizze_182784 < bytes_181139) {
                err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182784, bytes_181139);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181143_cached_sizze_182785 < bytes_181142) {
                err = lexical_realloc(ctx, &mem_181143, &mem_181143_cached_sizze_182785, bytes_181142);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181152 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940;
            int64_t binop_x_181168 = (int64_t) 2 * num_blocks_171939;
            int64_t bytes_181169 = merge_block_sizze_171806 * binop_x_181168;
            int64_t binop_x_181171 = (int64_t) 8 * num_blocks_171939;
            int64_t bytes_181172 = merge_block_sizze_171806 * binop_x_181171;
            int64_t bytes_181214 = (int64_t) 4 * stride_171918;
            int64_t bytes_181216 = (int64_t) 16 * stride_171918;
            
            for (int64_t i_180747 = 0; i_180747 < num_merges_171923; i_180747++) {
                int64_t start_171991 = mul64(next_stride_171919, i_180747);
                int64_t j_m_i_171992 = sub64(loop_dz2084Uz2082U_171914, start_171991);
                bool empty_slice_171993 = j_m_i_171992 == (int64_t) 0;
                int64_t m_171994 = sub64(j_m_i_171992, (int64_t) 1);
                int64_t i_p_m_t_s_171995 = add64(start_171991, m_171994);
                bool zzero_leq_i_p_m_t_s_171996 = sle64((int64_t) 0, i_p_m_t_s_171995);
                bool i_p_m_t_s_leq_w_171997 = slt64(i_p_m_t_s_171995, loop_dz2084Uz2082U_171914);
                bool zzero_lte_i_171998 = sle64((int64_t) 0, start_171991);
                bool i_lte_j_171999 = sle64(start_171991, loop_dz2084Uz2082U_171914);
                bool y_172000 = i_p_m_t_s_leq_w_171997 && zzero_lte_i_171998;
                bool y_172001 = zzero_leq_i_p_m_t_s_171996 && y_172000;
                bool forwards_ok_172002 = i_lte_j_171999 && y_172001;
                bool ok_or_empty_172003 = empty_slice_171993 || forwards_ok_172002;
                bool index_certs_172004;
                
                if (!ok_or_empty_172003) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171991, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171914, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172005 = slt64(m_171928, j_m_i_171992);
                bool y_172006 = zzero_leq_i_p_m_t_s_171929 && i_p_m_t_s_leq_w_172005;
                bool forwards_ok_172007 = i_lte_j_171930 && y_172006;
                bool ok_or_empty_172008 = zzero_171920 || forwards_ok_172007;
                bool index_certs_172009;
                
                if (!ok_or_empty_172008) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171919, "] out of bounds for array of shape [", (long long) j_m_i_171992, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:158:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171931) {
                    int16_t dummy_178600;
                    int64_t dummy_178601;
                    
                    if (cond_171951) {
                        int16_t head_res_178602 = ((int16_t *) mem_param_181134.mem)[start_171991];
                        int64_t head_res_178603 = ((int64_t *) mem_param_181137.mem)[start_171991];
                        
                        dummy_178600 = head_res_178602;
                        dummy_178601 = head_res_178603;
                    } else {
                        int64_t slice_178604 = stride_171918 + start_171991;
                        int16_t head_res_178605 = ((int16_t *) mem_param_181134.mem)[slice_178604];
                        int64_t head_res_178606 = ((int64_t *) mem_param_181137.mem)[slice_178604];
                        
                        dummy_178600 = head_res_178605;
                        dummy_178601 = head_res_178606;
                    }
                    if (memblock_alloc(ctx, &mem_181215, bytes_181214, "mem_181215")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182493 = 0; nest_i_182493 < next_stride_171919; nest_i_182493++) {
                        ((int16_t *) mem_181215.mem)[nest_i_182493] = dummy_178600;
                    }
                    if (memblock_alloc(ctx, &mem_181217, bytes_181216, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182494 = 0; nest_i_182494 < next_stride_171919; nest_i_182494++) {
                        ((int64_t *) mem_181217.mem)[nest_i_182494] = dummy_178601;
                    }
                    
                    int64_t data_178609;
                    int64_t i_178613 = (int64_t) 0;
                    
                    for (int64_t k_178612 = 0; k_178612 < next_stride_171919; k_178612++) {
                        int64_t j_178616 = sub64(k_178612, i_178613);
                        bool cond_178617 = j_178616 == j_m_i_171941;
                        bool cond_178618;
                        
                        if (cond_178617) {
                            cond_178618 = 1;
                        } else {
                            bool cond_178619 = slt64(i_178613, stride_171918);
                            bool cond_f_res_178620;
                            
                            if (cond_178619) {
                                bool x_178621 = sle64((int64_t) 0, j_178616);
                                bool y_178622 = slt64(j_178616, j_m_i_171941);
                                bool bounds_check_178623 = x_178621 && y_178622;
                                bool index_certs_178624;
                                
                                if (!bounds_check_178623) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178628 = sle64((int64_t) 0, i_178613);
                                bool bounds_check_178629 = cond_178619 && x_178628;
                                bool index_certs_178630;
                                
                                if (!bounds_check_178629) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178625 = stride_171918 + j_178616;
                                int64_t slice_178626 = start_171991 + slice_178625;
                                int16_t leq_arg1_178627 = ((int16_t *) mem_param_181134.mem)[slice_178626];
                                int64_t slice_178631 = start_171991 + i_178613;
                                int16_t leq_arg0_178632 = ((int16_t *) mem_param_181134.mem)[slice_178631];
                                bool zlze_res_178633 = sle16(leq_arg0_178632, leq_arg1_178627);
                                
                                cond_f_res_178620 = zlze_res_178633;
                            } else {
                                cond_f_res_178620 = 0;
                            }
                            cond_178618 = cond_f_res_178620;
                        }
                        
                        int64_t loopres_178634;
                        int16_t loopres_178635;
                        int64_t loopres_178636;
                        
                        if (cond_178618) {
                            bool x_178638 = sle64((int64_t) 0, i_178613);
                            bool y_178639 = slt64(i_178613, stride_171918);
                            bool bounds_check_178640 = x_178638 && y_178639;
                            bool index_certs_178641;
                            
                            if (!bounds_check_178640) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178613, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178637 = add64((int64_t) 1, i_178613);
                            int64_t slice_178642 = start_171991 + i_178613;
                            int16_t tmp_178643 = ((int16_t *) mem_param_181134.mem)[slice_178642];
                            int64_t tmp_178644 = ((int64_t *) mem_param_181137.mem)[slice_178642];
                            
                            loopres_178634 = tmp_178637;
                            loopres_178635 = tmp_178643;
                            loopres_178636 = tmp_178644;
                        } else {
                            bool x_178645 = sle64((int64_t) 0, j_178616);
                            bool y_178646 = slt64(j_178616, j_m_i_171941);
                            bool bounds_check_178647 = x_178645 && y_178646;
                            bool index_certs_178648;
                            
                            if (!bounds_check_178647) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178616, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:158:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178649 = stride_171918 + j_178616;
                            int64_t slice_178650 = start_171991 + slice_178649;
                            int16_t tmp_178651 = ((int16_t *) mem_param_181134.mem)[slice_178650];
                            int64_t tmp_178652 = ((int64_t *) mem_param_181137.mem)[slice_178650];
                            
                            loopres_178634 = i_178613;
                            loopres_178635 = tmp_178651;
                            loopres_178636 = tmp_178652;
                        }
                        ((int16_t *) mem_181215.mem)[k_178612] = loopres_178635;
                        ((int64_t *) mem_181217.mem)[k_178612] = loopres_178636;
                        
                        int64_t i_tmp_182495 = loopres_178634;
                        
                        i_178613 = i_tmp_182495;
                    }
                    data_178609 = i_178613;
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181215, "mem_181215") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181217, "mem_181217") != 0)
                        return 1;
                } else {
                    if (mem_181153_cached_sizze_182786 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182786, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181155_cached_sizze_182787 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181155, &mem_181155_cached_sizze_182787, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180733 = 0; i_180733 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940; i_180733++) {
                        int64_t split_count_arg3_172071 = mul64(merge_block_sizze_171806, i_180733);
                        int64_t defunc_0_split_count_res_172072;
                        int64_t defunc_0_split_count_res_172073;
                        int64_t defunc_0_split_count_res_172074;
                        int64_t defunc_0_split_count_res_172075;
                        int64_t defunc_0_split_count_res_172076;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_172072, &defunc_0_split_count_res_172073, &defunc_0_split_count_res_172074, &defunc_0_split_count_res_172075, &defunc_0_split_count_res_172076, (int64_t) 0, stride_171918, (int64_t) 0, j_m_i_171941, split_count_arg3_172071) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172077 = slt64((int64_t) 0, defunc_0_split_count_res_172076);
                        bool defunc_0_split_count_res_172078;
                        int64_t defunc_0_split_count_res_172079;
                        int64_t defunc_0_split_count_res_172080;
                        int64_t defunc_0_split_count_res_172081;
                        int64_t defunc_0_split_count_res_172082;
                        int64_t defunc_0_split_count_res_172083;
                        bool loop_while_172084;
                        int64_t ss_172085;
                        int64_t ss_172086;
                        int64_t tt_172087;
                        int64_t tt_172088;
                        int64_t count_172089;
                        
                        loop_while_172084 = loop_cond_172077;
                        ss_172085 = defunc_0_split_count_res_172072;
                        ss_172086 = defunc_0_split_count_res_172073;
                        tt_172087 = defunc_0_split_count_res_172074;
                        tt_172088 = defunc_0_split_count_res_172075;
                        count_172089 = defunc_0_split_count_res_172076;
                        while (loop_while_172084) {
                            int64_t zlze_lhs_172090 = sub64(ss_172086, ss_172085);
                            bool cond_172091 = sle64(zlze_lhs_172090, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172092;
                            int64_t defunc_0_lifted_step_res_172093;
                            int64_t defunc_0_lifted_step_res_172094;
                            int64_t defunc_0_lifted_step_res_172095;
                            
                            if (cond_172091) {
                                int64_t tmp_178655 = add64(tt_172087, count_172089);
                                
                                defunc_0_lifted_step_res_172092 = ss_172085;
                                defunc_0_lifted_step_res_172093 = tmp_178655;
                                defunc_0_lifted_step_res_172094 = tt_172088;
                                defunc_0_lifted_step_res_172095 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172097 = sub64(tt_172088, tt_172087);
                                bool cond_172098 = sle64(zlze_lhs_172097, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172099;
                                int64_t defunc_0_lifted_step_res_f_res_172100;
                                int64_t defunc_0_lifted_step_res_f_res_172101;
                                int64_t defunc_0_lifted_step_res_f_res_172102;
                                
                                if (cond_172098) {
                                    int64_t tmp_178656 = add64(ss_172085, count_172089);
                                    
                                    defunc_0_lifted_step_res_f_res_172099 = tmp_178656;
                                    defunc_0_lifted_step_res_f_res_172100 = tt_172087;
                                    defunc_0_lifted_step_res_f_res_172101 = tt_172088;
                                    defunc_0_lifted_step_res_f_res_172102 = (int64_t) 0;
                                } else {
                                    bool cond_172104 = count_172089 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172107;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172108;
                                    
                                    if (cond_172104) {
                                        bool x_178658 = sle64((int64_t) 0, ss_172085);
                                        bool y_178659 = slt64(ss_172085, stride_171918);
                                        bool bounds_check_178660 = x_178658 && y_178659;
                                        bool index_certs_178661;
                                        
                                        if (!bounds_check_178660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172085, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178664 = sle64((int64_t) 0, tt_172087);
                                        bool y_178665 = slt64(tt_172087, j_m_i_171941);
                                        bool bounds_check_178666 = x_178664 && y_178665;
                                        bool index_certs_178667;
                                        
                                        if (!bounds_check_178666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172087, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178662 = start_171991 + ss_172085;
                                        int16_t leq_arg1_178663 = ((int16_t *) mem_param_181134.mem)[slice_178662];
                                        int64_t slice_178668 = stride_171918 + tt_172087;
                                        int64_t slice_178669 = start_171991 + slice_178668;
                                        int16_t leq_arg0_178670 = ((int16_t *) mem_param_181134.mem)[slice_178669];
                                        bool zlze_res_178671 = sle16(leq_arg0_178670, leq_arg1_178663);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        
                                        if (zlze_res_178671) {
                                            int64_t tmp_178674 = add64((int64_t) 1, tt_172087);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = ss_172085;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tmp_178674;
                                        } else {
                                            int64_t tmp_178675 = add64((int64_t) 1, ss_172085);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178672 = tmp_178675;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178673 = tt_172087;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = defunc_0_lifted_step_res_f_res_f_res_t_res_178672;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_t_res_178673;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = tt_172088;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = (int64_t) 0;
                                    } else {
                                        int64_t m_172127 = sdiv64(count_172089, (int64_t) 2);
                                        int64_t n_172128 = sub64(count_172089, m_172127);
                                        bool cond_172129 = n_172128 == (int64_t) 0;
                                        int64_t zgze_lhs_172130 = add64(ss_172085, m_172127);
                                        bool cond_f_res_172131 = sle64(ss_172086, zgze_lhs_172130);
                                        bool x_172132 = !cond_172129;
                                        bool y_172133 = cond_f_res_172131 && x_172132;
                                        bool cond_172134 = cond_172129 || y_172133;
                                        bool leq_y_x_172135;
                                        
                                        if (cond_172134) {
                                            leq_y_x_172135 = 1;
                                        } else {
                                            bool x_172136 = sle64((int64_t) 0, zgze_lhs_172130);
                                            bool y_172137 = slt64(zgze_lhs_172130, stride_171918);
                                            bool bounds_check_172138 = x_172136 && y_172137;
                                            bool index_certs_172139;
                                            
                                            if (!bounds_check_172138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172130, "] out of bounds for array of shape [", (long long) stride_171918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172142 = add64(tt_172087, n_172128);
                                            int64_t leq_arg0_172143 = sub64(zm_lhs_172142, (int64_t) 1);
                                            bool x_172144 = sle64((int64_t) 0, leq_arg0_172143);
                                            bool y_172145 = slt64(leq_arg0_172143, j_m_i_171941);
                                            bool bounds_check_172146 = x_172144 && y_172145;
                                            bool index_certs_172147;
                                            
                                            if (!bounds_check_172146) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172143, "] out of bounds for array of shape [", (long long) j_m_i_171941, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:158:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172140 = start_171991 + zgze_lhs_172130;
                                            int16_t leq_arg1_172141 = ((int16_t *) mem_param_181134.mem)[slice_172140];
                                            int64_t slice_172148 = stride_171918 + leq_arg0_172143;
                                            int64_t slice_172149 = start_171991 + slice_172148;
                                            int16_t leq_arg0_172150 = ((int16_t *) mem_param_181134.mem)[slice_172149];
                                            bool zlze_res_172151 = sle16(leq_arg0_172150, leq_arg1_172141);
                                            
                                            leq_y_x_172135 = zlze_res_172151;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                        
                                        if (leq_y_x_172135) {
                                            int64_t tmp_178676 = add64(tt_172087, n_172128);
                                            int64_t tmp_178677 = sub64(count_172089, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tmp_178676;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tt_172088;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = tmp_178677;
                                        } else {
                                            int64_t tmp_172157 = add64(tt_172087, n_172128);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172152 = tt_172087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172153 = tmp_172157;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172154 = count_172089;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172105 = ss_172085;
                                        defunc_0_lifted_step_res_f_res_f_res_172106 = defunc_0_lifted_step_res_f_res_f_res_f_res_172152;
                                        defunc_0_lifted_step_res_f_res_f_res_172107 = defunc_0_lifted_step_res_f_res_f_res_f_res_172153;
                                        defunc_0_lifted_step_res_f_res_f_res_172108 = defunc_0_lifted_step_res_f_res_f_res_f_res_172154;
                                    }
                                    defunc_0_lifted_step_res_f_res_172099 = defunc_0_lifted_step_res_f_res_f_res_172105;
                                    defunc_0_lifted_step_res_f_res_172100 = defunc_0_lifted_step_res_f_res_f_res_172106;
                                    defunc_0_lifted_step_res_f_res_172101 = defunc_0_lifted_step_res_f_res_f_res_172107;
                                    defunc_0_lifted_step_res_f_res_172102 = defunc_0_lifted_step_res_f_res_f_res_172108;
                                }
                                defunc_0_lifted_step_res_172092 = defunc_0_lifted_step_res_f_res_172099;
                                defunc_0_lifted_step_res_172093 = defunc_0_lifted_step_res_f_res_172100;
                                defunc_0_lifted_step_res_172094 = defunc_0_lifted_step_res_f_res_172101;
                                defunc_0_lifted_step_res_172095 = defunc_0_lifted_step_res_f_res_172102;
                            }
                            
                            int64_t loopres_172158;
                            int64_t loopres_172159;
                            int64_t loopres_172160;
                            int64_t loopres_172161;
                            int64_t loopres_172162;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_172158, &loopres_172159, &loopres_172160, &loopres_172161, &loopres_172162, defunc_0_lifted_step_res_172092, ss_172086, defunc_0_lifted_step_res_172093, defunc_0_lifted_step_res_172094, defunc_0_lifted_step_res_172095) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172163 = slt64((int64_t) 0, loopres_172162);
                            bool loop_while_tmp_182500 = loop_cond_172163;
                            int64_t ss_tmp_182501 = loopres_172158;
                            int64_t ss_tmp_182502 = loopres_172159;
                            int64_t tt_tmp_182503 = loopres_172160;
                            int64_t tt_tmp_182504 = loopres_172161;
                            int64_t count_tmp_182505 = loopres_172162;
                            
                            loop_while_172084 = loop_while_tmp_182500;
                            ss_172085 = ss_tmp_182501;
                            ss_172086 = ss_tmp_182502;
                            tt_172087 = tt_tmp_182503;
                            tt_172088 = tt_tmp_182504;
                            count_172089 = count_tmp_182505;
                        }
                        defunc_0_split_count_res_172078 = loop_while_172084;
                        defunc_0_split_count_res_172079 = ss_172085;
                        defunc_0_split_count_res_172080 = ss_172086;
                        defunc_0_split_count_res_172081 = tt_172087;
                        defunc_0_split_count_res_172082 = tt_172088;
                        defunc_0_split_count_res_172083 = count_172089;
                        ((int64_t *) mem_181153)[i_180733] = defunc_0_split_count_res_172079;
                        ((int64_t *) mem_181155)[i_180733] = defunc_0_split_count_res_172081;
                    }
                    if (mem_181170_cached_sizze_182788 < bytes_181169) {
                        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_182788, bytes_181169);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181173_cached_sizze_182789 < bytes_181172) {
                        err = lexical_realloc(ctx, &mem_181173, &mem_181173_cached_sizze_182789, bytes_181172);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180740 = 0; i_180740 < num_blocks_171939; i_180740++) {
                        bool y_172169 = slt64(i_180740, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool index_certs_172171;
                        
                        if (!y_172169) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180740, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172172 = ((int64_t *) mem_181153)[i_180740];
                        int64_t defunc_0_f_res_172173 = ((int64_t *) mem_181155)[i_180740];
                        int64_t tmp_172174 = add64((int64_t) 1, i_180740);
                        bool x_172175 = sle64((int64_t) 0, tmp_172174);
                        bool y_172176 = slt64(tmp_172174, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940);
                        bool bounds_check_172177 = x_172175 && y_172176;
                        bool index_certs_172178;
                        
                        if (!bounds_check_172177) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172174, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171940, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172179 = ((int64_t *) mem_181153)[tmp_172174];
                        int64_t defunc_0_f_res_172180 = ((int64_t *) mem_181155)[tmp_172174];
                        int64_t merge_sequential_arg2_172181 = add64(stride_171918, defunc_0_f_res_172173);
                        int64_t merge_sequential_arg2_172182 = add64(stride_171918, defunc_0_f_res_172180);
                        int64_t j_m_i_172183 = sub64(merge_sequential_arg2_172182, merge_sequential_arg2_172181);
                        bool empty_slice_172184 = j_m_i_172183 == (int64_t) 0;
                        int64_t m_172185 = sub64(j_m_i_172183, (int64_t) 1);
                        int64_t i_p_m_t_s_172186 = add64(merge_sequential_arg2_172181, m_172185);
                        bool zzero_leq_i_p_m_t_s_172187 = sle64((int64_t) 0, i_p_m_t_s_172186);
                        bool i_p_m_t_s_leq_w_172188 = slt64(i_p_m_t_s_172186, next_stride_171919);
                        bool zzero_lte_i_172189 = sle64((int64_t) 0, merge_sequential_arg2_172181);
                        bool i_lte_j_172190 = sle64(merge_sequential_arg2_172181, merge_sequential_arg2_172182);
                        bool y_172191 = i_p_m_t_s_leq_w_172188 && zzero_lte_i_172189;
                        bool y_172192 = zzero_leq_i_p_m_t_s_172187 && y_172191;
                        bool forwards_ok_172193 = i_lte_j_172190 && y_172192;
                        bool ok_or_empty_172194 = empty_slice_172184 || forwards_ok_172193;
                        bool index_certs_172195;
                        
                        if (!ok_or_empty_172194) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172181, ":", (long long) merge_sequential_arg2_172182, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172196 = sub64(defunc_0_f_res_172179, defunc_0_f_res_172172);
                        bool empty_slice_172197 = j_m_i_172196 == (int64_t) 0;
                        int64_t m_172198 = sub64(j_m_i_172196, (int64_t) 1);
                        int64_t i_p_m_t_s_172199 = add64(defunc_0_f_res_172172, m_172198);
                        bool zzero_leq_i_p_m_t_s_172200 = sle64((int64_t) 0, i_p_m_t_s_172199);
                        bool i_p_m_t_s_leq_w_172201 = slt64(i_p_m_t_s_172199, next_stride_171919);
                        bool zzero_lte_i_172202 = sle64((int64_t) 0, defunc_0_f_res_172172);
                        bool i_lte_j_172203 = sle64(defunc_0_f_res_172172, defunc_0_f_res_172179);
                        bool y_172204 = i_p_m_t_s_leq_w_172201 && zzero_lte_i_172202;
                        bool y_172205 = zzero_leq_i_p_m_t_s_172200 && y_172204;
                        bool forwards_ok_172206 = i_lte_j_172203 && y_172205;
                        bool ok_or_empty_172207 = empty_slice_172197 || forwards_ok_172206;
                        bool index_certs_172208;
                        
                        if (!ok_or_empty_172207) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172172, ":", (long long) defunc_0_f_res_172179, "] out of bounds for array of shape [", (long long) next_stride_171919, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:158:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172209 = slt64((int64_t) 0, j_m_i_172196);
                        int16_t dummy_172210;
                        int64_t dummy_172211;
                        
                        if (cond_172209) {
                            bool index_certs_178678;
                            
                            if (!cond_172209) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178679 = start_171991 + defunc_0_f_res_172172;
                            int16_t head_res_178680 = ((int16_t *) mem_param_181134.mem)[slice_178679];
                            int64_t head_res_178681 = ((int64_t *) mem_param_181137.mem)[slice_178679];
                            
                            dummy_172210 = head_res_178680;
                            dummy_172211 = head_res_178681;
                        } else {
                            bool y_172216 = slt64((int64_t) 0, j_m_i_172183);
                            bool index_certs_172217;
                            
                            if (!y_172216) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:158:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172218 = start_171991 + merge_sequential_arg2_172181;
                            int16_t head_res_172219 = ((int16_t *) mem_param_181134.mem)[slice_172218];
                            int64_t head_res_172220 = ((int64_t *) mem_param_181137.mem)[slice_172218];
                            
                            dummy_172210 = head_res_172219;
                            dummy_172211 = head_res_172220;
                        }
                        for (int64_t nest_i_182508 = 0; nest_i_182508 < merge_block_sizze_171806; nest_i_182508++) {
                            ((int16_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + nest_i_182508] = dummy_172210;
                        }
                        for (int64_t nest_i_182509 = 0; nest_i_182509 < merge_block_sizze_171806; nest_i_182509++) {
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + nest_i_182509] = dummy_172211;
                        }
                        
                        int64_t data_172223;
                        int64_t i_172227 = (int64_t) 0;
                        
                        for (int64_t k_172226 = 0; k_172226 < merge_block_sizze_171806; k_172226++) {
                            int64_t j_172230 = sub64(k_172226, i_172227);
                            bool cond_172231 = j_172230 == j_m_i_172183;
                            bool cond_172232;
                            
                            if (cond_172231) {
                                cond_172232 = 1;
                            } else {
                                bool cond_172233 = slt64(i_172227, j_m_i_172196);
                                bool cond_f_res_172234;
                                
                                if (cond_172233) {
                                    bool x_178682 = sle64((int64_t) 0, j_172230);
                                    bool y_178683 = slt64(j_172230, j_m_i_172183);
                                    bool bounds_check_178684 = x_178682 && y_178683;
                                    bool index_certs_178685;
                                    
                                    if (!bounds_check_178684) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178689 = sle64((int64_t) 0, i_172227);
                                    bool bounds_check_178690 = cond_172233 && x_178689;
                                    bool index_certs_178691;
                                    
                                    if (!bounds_check_178690) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178686 = merge_sequential_arg2_172181 + j_172230;
                                    int64_t slice_178687 = start_171991 + slice_178686;
                                    int16_t leq_arg1_178688 = ((int16_t *) mem_param_181134.mem)[slice_178687];
                                    int64_t slice_178692 = defunc_0_f_res_172172 + i_172227;
                                    int64_t slice_178693 = start_171991 + slice_178692;
                                    int16_t leq_arg0_178694 = ((int16_t *) mem_param_181134.mem)[slice_178693];
                                    bool zlze_res_178695 = sle16(leq_arg0_178694, leq_arg1_178688);
                                    
                                    cond_f_res_172234 = zlze_res_178695;
                                } else {
                                    cond_f_res_172234 = 0;
                                }
                                cond_172232 = cond_f_res_172234;
                            }
                            
                            int64_t loopres_172249;
                            int16_t loopres_172250;
                            int64_t loopres_172251;
                            
                            if (cond_172232) {
                                bool x_178697 = sle64((int64_t) 0, i_172227);
                                bool y_178698 = slt64(i_172227, j_m_i_172196);
                                bool bounds_check_178699 = x_178697 && y_178698;
                                bool index_certs_178700;
                                
                                if (!bounds_check_178699) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172227, "] out of bounds for array of shape [", (long long) j_m_i_172196, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178696 = add64((int64_t) 1, i_172227);
                                int64_t slice_178701 = defunc_0_f_res_172172 + i_172227;
                                int64_t slice_178702 = start_171991 + slice_178701;
                                int16_t tmp_178703 = ((int16_t *) mem_param_181134.mem)[slice_178702];
                                int64_t tmp_178704 = ((int64_t *) mem_param_181137.mem)[slice_178702];
                                
                                loopres_172249 = tmp_178696;
                                loopres_172250 = tmp_178703;
                                loopres_172251 = tmp_178704;
                            } else {
                                bool x_172261 = sle64((int64_t) 0, j_172230);
                                bool y_172262 = slt64(j_172230, j_m_i_172183);
                                bool bounds_check_172263 = x_172261 && y_172262;
                                bool index_certs_172264;
                                
                                if (!bounds_check_172263) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172230, "] out of bounds for array of shape [", (long long) j_m_i_172183, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:158:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172265 = merge_sequential_arg2_172181 + j_172230;
                                int64_t slice_172266 = start_171991 + slice_172265;
                                int16_t tmp_172267 = ((int16_t *) mem_param_181134.mem)[slice_172266];
                                int64_t tmp_172268 = ((int64_t *) mem_param_181137.mem)[slice_172266];
                                
                                loopres_172249 = i_172227;
                                loopres_172250 = tmp_172267;
                                loopres_172251 = tmp_172268;
                            }
                            ((int16_t *) mem_181170)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172250;
                            ((int64_t *) mem_181173)[i_180740 * merge_block_sizze_171806 + k_172226] = loopres_172251;
                            
                            int64_t i_tmp_182510 = loopres_172249;
                            
                            i_172227 = i_tmp_182510;
                        }
                        data_172223 = i_172227;
                    }
                    if (memblock_alloc(ctx, &mem_181208, bytes_181169, "mem_181208")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181208.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint16_t *) mem_181170, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_alloc(ctx, &mem_181212, bytes_181172, "mem_181212")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181212.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (uint64_t *) mem_181173, (int64_t) 0, (int64_t []) {merge_block_sizze_171806, (int64_t) 1}, (int64_t []) {num_blocks_171939, merge_block_sizze_171806});
                    if (memblock_set(ctx, &ext_mem_181235, &mem_181208, "mem_181208") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181232, &mem_181212, "mem_181212") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181140, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181235.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181143, i_180747 * next_stride_171919, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181232.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171919});
                if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172275 = next_stride_171919 * num_merges_171923;
            
            if (memblock_alloc(ctx, &mem_181246, bytes_181139, "mem_181246")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181246.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint16_t *) mem_181140, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            if (memblock_alloc(ctx, &mem_181250, bytes_181142, "mem_181250")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181250.mem, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (uint64_t *) mem_181143, (int64_t) 0, (int64_t []) {next_stride_171919, (int64_t) 1}, (int64_t []) {num_merges_171923, next_stride_171919});
            
            bool loop_cond_172278 = slt64(next_stride_171919, flat_dim_171803);
            
            if (memblock_set(ctx, &mem_param_tmp_182484, &mem_181246, "mem_181246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182485, &mem_181250, "mem_181250") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182486 = flat_dim_172275;
            bool loop_while_tmp_182487 = loop_cond_172278;
            int64_t stride_tmp_182490 = next_stride_171919;
            
            if (memblock_set(ctx, &mem_param_181134, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181137, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
                return 1;
            loop_dz2084Uz2082U_171914 = loop_dz2084Uz2082U_tmp_182486;
            loop_while_171915 = loop_while_tmp_182487;
            stride_171918 = stride_tmp_182490;
        }
        if (memblock_set(ctx, &ext_mem_181257, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181256, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        data_171909 = loop_dz2084Uz2082U_171914;
        data_171910 = loop_while_171915;
        data_171913 = stride_171918;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        
        bool empty_slice_172279 = n_98775 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172280 = sle64((int64_t) 0, zs_lhs_171787);
        bool i_p_m_t_s_leq_w_172281 = slt64(zs_lhs_171787, data_171909);
        bool y_172282 = zzero_leq_i_p_m_t_s_172280 && i_p_m_t_s_leq_w_172281;
        bool ok_or_empty_172283 = empty_slice_172279 || y_172282;
        bool index_certs_172284;
        
        if (!ok_or_empty_172283) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98775, "] out of bounds for array of shape [", (long long) data_171909, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:158:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181260, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181262, bytes_181054, "mem_181262")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181264, bytes_181263, "mem_181264")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180754 = 0; i_180754 < n_98775; i_180754++) {
        int64_t eta_p_172288 = ((int64_t *) ext_mem_181260.mem)[i_180754];
        bool x_172289 = sle64((int64_t) 0, eta_p_172288);
        bool y_172290 = slt64(eta_p_172288, n_98775);
        bool bounds_check_172291 = x_172289 && y_172290;
        bool index_certs_172292;
        
        if (!bounds_check_172291) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172288, "] out of bounds for array of shape [", (long long) n_98775, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:158:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172293 = ((int64_t *) ext_mem_181053.mem)[eta_p_172288];
        int16_t lifted_lambda_res_172294 = ((int16_t *) xs_mem_181052.mem)[eta_p_172288];
        
        ((int64_t *) mem_181262.mem)[i_180754] = lifted_lambda_res_172293;
        ((int16_t *) mem_181264.mem)[i_180754] = lifted_lambda_res_172294;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181262, "mem_181262") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181264, "mem_181264") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182778, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182779, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181058);
        free(mem_181061);
        free(mem_181071);
        free(mem_181073);
        free(mem_181140);
        free(mem_181143);
        free(mem_181153);
        free(mem_181155);
        free(mem_181170);
        free(mem_181173);
        if (memblock_unref(ctx, &mem_181264, "mem_181264") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181262, "mem_181262") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182485, "mem_param_tmp_182485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182484, "mem_param_tmp_182484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181250, "mem_181250") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181246, "mem_181246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181212, "mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181208, "mem_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181215, "mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181232, "ext_mem_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181235, "ext_mem_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181137, "mem_param_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181134, "mem_param_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181256, "ext_mem_181256") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181257, "ext_mem_181257") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181130, "mem_181130") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181126, "mem_181126") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181260, "ext_mem_181260") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182790, struct memblock *mem_out_p_182791, struct memblock *mem_out_p_182792, int64_t *out_prim_out_182793, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_163296, int64_t nb_163297, int64_t window_sizze_163298, int64_t threads_163299, bool inParallel_163302)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181069_cached_sizze_182794 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_182795 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181110_cached_sizze_182796 = 0;
    unsigned char *mem_181110 = NULL;
    int64_t mem_181113_cached_sizze_182797 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181116_cached_sizze_182798 = 0;
    unsigned char *mem_181116 = NULL;
    int64_t mem_181129_cached_sizze_182799 = 0;
    unsigned char *mem_181129 = NULL;
    int64_t mem_181131_cached_sizze_182800 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181133_cached_sizze_182801 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181230_cached_sizze_182802 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181233_cached_sizze_182803 = 0;
    unsigned char *mem_181233 = NULL;
    int64_t mem_181236_cached_sizze_182804 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181250_cached_sizze_182805 = 0;
    unsigned char *mem_181250 = NULL;
    int64_t mem_181252_cached_sizze_182806 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181266_cached_sizze_182807 = 0;
    unsigned char *mem_181266 = NULL;
    int64_t mem_181269_cached_sizze_182808 = 0;
    unsigned char *mem_181269 = NULL;
    int64_t mem_181272_cached_sizze_182809 = 0;
    unsigned char *mem_181272 = NULL;
    int64_t mem_181414_cached_sizze_182810 = 0;
    unsigned char *mem_181414 = NULL;
    int64_t mem_181416_cached_sizze_182811 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181431_cached_sizze_182812 = 0;
    unsigned char *mem_181431 = NULL;
    int64_t mem_181433_cached_sizze_182813 = 0;
    unsigned char *mem_181433 = NULL;
    int64_t mem_181436_cached_sizze_182814 = 0;
    unsigned char *mem_181436 = NULL;
    int64_t mem_181439_cached_sizze_182815 = 0;
    unsigned char *mem_181439 = NULL;
    int64_t mem_181473_cached_sizze_182816 = 0;
    unsigned char *mem_181473 = NULL;
    int64_t mem_181476_cached_sizze_182817 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181479_cached_sizze_182818 = 0;
    unsigned char *mem_181479 = NULL;
    int64_t mem_181492_cached_sizze_182819 = 0;
    unsigned char *mem_181492 = NULL;
    int64_t mem_181494_cached_sizze_182820 = 0;
    unsigned char *mem_181494 = NULL;
    int64_t mem_181496_cached_sizze_182821 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181593_cached_sizze_182822 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181596_cached_sizze_182823 = 0;
    unsigned char *mem_181596 = NULL;
    int64_t mem_181599_cached_sizze_182824 = 0;
    unsigned char *mem_181599 = NULL;
    int64_t mem_181613_cached_sizze_182825 = 0;
    unsigned char *mem_181613 = NULL;
    int64_t mem_181615_cached_sizze_182826 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181629_cached_sizze_182827 = 0;
    unsigned char *mem_181629 = NULL;
    int64_t mem_181632_cached_sizze_182828 = 0;
    unsigned char *mem_181632 = NULL;
    int64_t mem_181635_cached_sizze_182829 = 0;
    unsigned char *mem_181635 = NULL;
    int64_t mem_181852_cached_sizze_182830 = 0;
    unsigned char *mem_181852 = NULL;
    int64_t mem_181855_cached_sizze_182831 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181858_cached_sizze_182832 = 0;
    unsigned char *mem_181858 = NULL;
    int64_t mem_181871_cached_sizze_182833 = 0;
    unsigned char *mem_181871 = NULL;
    int64_t mem_181873_cached_sizze_182834 = 0;
    unsigned char *mem_181873 = NULL;
    int64_t mem_181875_cached_sizze_182835 = 0;
    unsigned char *mem_181875 = NULL;
    int64_t mem_181972_cached_sizze_182836 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181975_cached_sizze_182837 = 0;
    unsigned char *mem_181975 = NULL;
    int64_t mem_181978_cached_sizze_182838 = 0;
    unsigned char *mem_181978 = NULL;
    int64_t mem_181992_cached_sizze_182839 = 0;
    unsigned char *mem_181992 = NULL;
    int64_t mem_181994_cached_sizze_182840 = 0;
    unsigned char *mem_181994 = NULL;
    int64_t mem_182008_cached_sizze_182841 = 0;
    unsigned char *mem_182008 = NULL;
    int64_t mem_182011_cached_sizze_182842 = 0;
    unsigned char *mem_182011 = NULL;
    int64_t mem_182014_cached_sizze_182843 = 0;
    unsigned char *mem_182014 = NULL;
    struct memblock mem_param_tmp_182690;
    
    mem_param_tmp_182690.references = NULL;
    
    struct memblock mem_param_tmp_182689;
    
    mem_param_tmp_182689.references = NULL;
    
    struct memblock mem_param_tmp_182688;
    
    mem_param_tmp_182688.references = NULL;
    
    struct memblock mem_182126;
    
    mem_182126.references = NULL;
    
    struct memblock mem_182122;
    
    mem_182122.references = NULL;
    
    struct memblock mem_182118;
    
    mem_182118.references = NULL;
    
    struct memblock mem_182071;
    
    mem_182071.references = NULL;
    
    struct memblock mem_182067;
    
    mem_182067.references = NULL;
    
    struct memblock mem_182063;
    
    mem_182063.references = NULL;
    
    struct memblock mem_182077;
    
    mem_182077.references = NULL;
    
    struct memblock mem_182075;
    
    mem_182075.references = NULL;
    
    struct memblock mem_182073;
    
    mem_182073.references = NULL;
    
    struct memblock ext_mem_182098;
    
    ext_mem_182098.references = NULL;
    
    struct memblock ext_mem_182101;
    
    ext_mem_182101.references = NULL;
    
    struct memblock ext_mem_182104;
    
    ext_mem_182104.references = NULL;
    
    struct memblock mem_param_181970;
    
    mem_param_181970.references = NULL;
    
    struct memblock mem_param_181967;
    
    mem_param_181967.references = NULL;
    
    struct memblock mem_param_181964;
    
    mem_param_181964.references = NULL;
    
    struct memblock ext_mem_182134;
    
    ext_mem_182134.references = NULL;
    
    struct memblock ext_mem_182135;
    
    ext_mem_182135.references = NULL;
    
    struct memblock ext_mem_182136;
    
    ext_mem_182136.references = NULL;
    
    struct memblock mem_181960;
    
    mem_181960.references = NULL;
    
    struct memblock mem_181956;
    
    mem_181956.references = NULL;
    
    struct memblock mem_181952;
    
    mem_181952.references = NULL;
    
    struct memblock ext_mem_182139;
    
    ext_mem_182139.references = NULL;
    
    struct memblock ext_mem_182142;
    
    ext_mem_182142.references = NULL;
    
    struct memblock ext_mem_182145;
    
    ext_mem_182145.references = NULL;
    
    struct memblock mem_181850;
    
    mem_181850.references = NULL;
    
    struct memblock mem_181848;
    
    mem_181848.references = NULL;
    
    struct memblock mem_181846;
    
    mem_181846.references = NULL;
    
    struct memblock mem_param_tmp_182624;
    
    mem_param_tmp_182624.references = NULL;
    
    struct memblock mem_param_tmp_182623;
    
    mem_param_tmp_182623.references = NULL;
    
    struct memblock mem_param_tmp_182622;
    
    mem_param_tmp_182622.references = NULL;
    
    struct memblock mem_181384;
    
    mem_181384.references = NULL;
    
    struct memblock mem_181380;
    
    mem_181380.references = NULL;
    
    struct memblock mem_181376;
    
    mem_181376.references = NULL;
    
    struct memblock mem_181329;
    
    mem_181329.references = NULL;
    
    struct memblock mem_181325;
    
    mem_181325.references = NULL;
    
    struct memblock mem_181321;
    
    mem_181321.references = NULL;
    
    struct memblock mem_181335;
    
    mem_181335.references = NULL;
    
    struct memblock mem_181333;
    
    mem_181333.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock ext_mem_181356;
    
    ext_mem_181356.references = NULL;
    
    struct memblock ext_mem_181359;
    
    ext_mem_181359.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock mem_param_181228;
    
    mem_param_181228.references = NULL;
    
    struct memblock mem_param_181225;
    
    mem_param_181225.references = NULL;
    
    struct memblock mem_param_181222;
    
    mem_param_181222.references = NULL;
    
    struct memblock ext_mem_181392;
    
    ext_mem_181392.references = NULL;
    
    struct memblock ext_mem_181393;
    
    ext_mem_181393.references = NULL;
    
    struct memblock ext_mem_181394;
    
    ext_mem_181394.references = NULL;
    
    struct memblock mem_181218;
    
    mem_181218.references = NULL;
    
    struct memblock mem_181214;
    
    mem_181214.references = NULL;
    
    struct memblock mem_181210;
    
    mem_181210.references = NULL;
    
    struct memblock ext_mem_181397;
    
    ext_mem_181397.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181403;
    
    ext_mem_181403.references = NULL;
    
    struct memblock mem_181108;
    
    mem_181108.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock mem_181104;
    
    mem_181104.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181795;
    
    mem_181795.references = NULL;
    
    struct memblock mem_181794;
    
    mem_181794.references = NULL;
    
    struct memblock mem_181792;
    
    mem_181792.references = NULL;
    
    struct memblock mem_param_tmp_182530;
    
    mem_param_tmp_182530.references = NULL;
    
    struct memblock mem_param_tmp_182529;
    
    mem_param_tmp_182529.references = NULL;
    
    struct memblock mem_param_tmp_182528;
    
    mem_param_tmp_182528.references = NULL;
    
    struct memblock mem_181747;
    
    mem_181747.references = NULL;
    
    struct memblock mem_181743;
    
    mem_181743.references = NULL;
    
    struct memblock mem_181739;
    
    mem_181739.references = NULL;
    
    struct memblock mem_181692;
    
    mem_181692.references = NULL;
    
    struct memblock mem_181688;
    
    mem_181688.references = NULL;
    
    struct memblock mem_181684;
    
    mem_181684.references = NULL;
    
    struct memblock mem_181698;
    
    mem_181698.references = NULL;
    
    struct memblock mem_181696;
    
    mem_181696.references = NULL;
    
    struct memblock mem_181694;
    
    mem_181694.references = NULL;
    
    struct memblock ext_mem_181719;
    
    ext_mem_181719.references = NULL;
    
    struct memblock ext_mem_181722;
    
    ext_mem_181722.references = NULL;
    
    struct memblock ext_mem_181725;
    
    ext_mem_181725.references = NULL;
    
    struct memblock mem_param_181591;
    
    mem_param_181591.references = NULL;
    
    struct memblock mem_param_181588;
    
    mem_param_181588.references = NULL;
    
    struct memblock mem_param_181585;
    
    mem_param_181585.references = NULL;
    
    struct memblock ext_mem_181755;
    
    ext_mem_181755.references = NULL;
    
    struct memblock ext_mem_181756;
    
    ext_mem_181756.references = NULL;
    
    struct memblock ext_mem_181757;
    
    ext_mem_181757.references = NULL;
    
    struct memblock mem_181581;
    
    mem_181581.references = NULL;
    
    struct memblock mem_181577;
    
    mem_181577.references = NULL;
    
    struct memblock mem_181573;
    
    mem_181573.references = NULL;
    
    struct memblock ext_mem_181760;
    
    ext_mem_181760.references = NULL;
    
    struct memblock ext_mem_181763;
    
    ext_mem_181763.references = NULL;
    
    struct memblock ext_mem_181766;
    
    ext_mem_181766.references = NULL;
    
    struct memblock mem_181471;
    
    mem_181471.references = NULL;
    
    struct memblock mem_181469;
    
    mem_181469.references = NULL;
    
    struct memblock mem_181467;
    
    mem_181467.references = NULL;
    
    struct memblock ext_mem_181816;
    
    ext_mem_181816.references = NULL;
    
    struct memblock ext_mem_181819;
    
    ext_mem_181819.references = NULL;
    
    struct memblock ext_mem_181822;
    
    ext_mem_181822.references = NULL;
    
    struct memblock mem_181058;
    
    mem_181058.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t prim_out_182469;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541 = add64(na_163296, nb_163297);
    
    if (memblock_alloc(ctx, &mem_181054, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182470 = 0; nest_i_182470 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182470++) {
        ((int8_t *) mem_181054.mem)[nest_i_182470] = (int8_t) -1;
    }
    
    int64_t bytes_181055 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181056, bytes_181055, "mem_181056")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182471 = 0; nest_i_182471 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182471++) {
        ((int64_t *) mem_181056.mem)[nest_i_182471] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181058, bytes_181055, "mem_181058")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182472 = 0; nest_i_182472 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182472++) {
        ((double *) mem_181058.mem)[nest_i_182472] = 0.0;
    }
    
    int64_t zl_rhs_175545 = sub64(na_163296, window_sizze_163298);
    bool cond_175546 = slt64((int64_t) 0, zl_rhs_175545);
    int64_t zl_rhs_175547 = sub64(nb_163297, window_sizze_163298);
    bool loop_cond_t_res_175548 = slt64((int64_t) 0, zl_rhs_175547);
    bool x_175549 = cond_175546 && loop_cond_t_res_175548;
    bool empty_slice_175550 = window_sizze_163298 == (int64_t) 0;
    int64_t m_175551 = sub64(window_sizze_163298, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576 = add64((int64_t) 1, threads_163299);
    int64_t partitionFunc_arg0_176577 = mul64((int64_t) 2, threads_163299);
    bool y_176579 = slt64((int64_t) 0, window_sizze_163298);
    bool loop_cond_176825 = slt64((int64_t) 0, threads_163299);
    bool zzero_175596 = threads_163299 == (int64_t) 0;
    bool nonzzero_175597 = !zzero_175596;
    bool loop_not_taken_178354 = !inParallel_163302;
    bool protect_assert_disj_178355 = nonzzero_175597 || loop_not_taken_178354;
    bool loop_not_taken_178444 = !x_175549;
    bool protect_assert_disj_178445 = protect_assert_disj_178355 || loop_not_taken_178444;
    bool nonzzero_cert_175598;
    
    if (!protect_assert_disj_178445) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175599 = sdiv_safe64(window_sizze_163298, threads_163299);
    int64_t perThread_175600 = add64((int64_t) 1, zp_rhs_175599);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601 = mul64(threads_163299, perThread_175600);
    bool protect_assert_disj_178491 = inParallel_163302 || y_176579;
    bool protect_assert_disj_178495 = loop_not_taken_178444 || protect_assert_disj_178491;
    bool index_certs_176580;
    
    if (!protect_assert_disj_178495) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176595 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, (int64_t) 1);
    bool y_177552 = slt64(threads_163299, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
    bool protect_assert_disj_178460 = y_176579 || loop_not_taken_178354;
    bool protect_assert_disj_178499 = loop_not_taken_178444 || protect_assert_disj_178460;
    bool index_certs_175604;
    
    if (!protect_assert_disj_178499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176597 = !bounds_invalid_upwards_176595;
    bool protect_assert_disj_178507 = inParallel_163302 || y_177552;
    bool protect_assert_disj_178509 = loop_not_taken_178444 || protect_assert_disj_178507;
    bool index_certs_177554;
    
    if (!protect_assert_disj_178509) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163299, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178503 = y_177552 || loop_not_taken_178354;
    bool protect_assert_disj_178511 = loop_not_taken_178444 || protect_assert_disj_178503;
    bool index_certs_176558;
    
    if (!protect_assert_disj_178511) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163299, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178519 = inParallel_163302 || valid_176597;
    bool protect_assert_disj_178521 = loop_not_taken_178444 || protect_assert_disj_178519;
    bool range_valid_c_176598;
    
    if (!protect_assert_disj_178521) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178363 = sle64((int64_t) 1, threads_163299);
    bool protect_assert_disj_178515 = valid_176597 || loop_not_taken_178354;
    bool protect_assert_disj_178523 = loop_not_taken_178444 || protect_assert_disj_178515;
    bool range_valid_c_175611;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176600 = add64(window_sizze_163298, window_sizze_163298);
    bool zzero_176601 = partitionFunc_arg0_176577 == (int64_t) 0;
    int64_t index_concat_i_178364 = sub64(threads_163299, (int64_t) 1);
    bool nonzzero_176602 = !zzero_176601;
    bool protect_assert_disj_178531 = inParallel_163302 || nonzzero_176602;
    bool protect_assert_disj_178537 = loop_not_taken_178444 || protect_assert_disj_178531;
    bool nonzzero_cert_176603;
    
    if (!protect_assert_disj_178537) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178527 = nonzzero_176602 || loop_not_taken_178354;
    bool protect_assert_disj_178543 = loop_not_taken_178444 || protect_assert_disj_178527;
    bool nonzzero_cert_175616;
    
    if (!protect_assert_disj_178543) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181068 = (int64_t) 8 * threads_163299;
    int64_t bytes_181085 = (int64_t) 8 * window_sizze_163298;
    int64_t bytes_181430 = perThread_175600 * bytes_181068;
    bool defunc_0_merge_pipeline_res_175552;
    int64_t defunc_0_merge_pipeline_res_175556;
    int64_t defunc_0_merge_pipeline_res_175557;
    bool loop_while_175558;
    int64_t p_175562;
    int64_t p_175563;
    
    loop_while_175558 = x_175549;
    p_175562 = (int64_t) 0;
    p_175563 = (int64_t) 0;
    while (loop_while_175558) {
        int64_t ubs_175564 = add64(window_sizze_163298, p_175562);
        int64_t ubs_175565 = add64(window_sizze_163298, p_175563);
        int64_t ind_bottom_175566 = add64(p_175562, p_175563);
        int64_t ind_top_175567 = add64(window_sizze_163298, ind_bottom_175566);
        int64_t i_p_m_t_s_175568 = add64(m_175551, p_175562);
        bool zzero_leq_i_p_m_t_s_175569 = sle64((int64_t) 0, i_p_m_t_s_175568);
        bool i_p_m_t_s_leq_w_175570 = slt64(i_p_m_t_s_175568, na_163296);
        bool zzero_lte_i_175571 = sle64((int64_t) 0, p_175562);
        bool i_lte_j_175572 = sle64(p_175562, ubs_175564);
        bool y_175573 = i_p_m_t_s_leq_w_175570 && zzero_lte_i_175571;
        bool y_175574 = zzero_leq_i_p_m_t_s_175569 && y_175573;
        bool forwards_ok_175575 = i_lte_j_175572 && y_175574;
        bool ok_or_empty_175576 = empty_slice_175550 || forwards_ok_175575;
        bool index_certs_175577;
        
        if (!ok_or_empty_175576) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175562, ":", (long long) ubs_175564, "] out of bounds for array of shape [", (long long) na_163296, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175579 = add64(m_175551, p_175563);
        bool zzero_leq_i_p_m_t_s_175580 = sle64((int64_t) 0, i_p_m_t_s_175579);
        bool i_p_m_t_s_leq_w_175581 = slt64(i_p_m_t_s_175579, nb_163297);
        bool zzero_lte_i_175582 = sle64((int64_t) 0, p_175563);
        bool i_lte_j_175583 = sle64(p_175563, ubs_175565);
        bool y_175584 = i_p_m_t_s_leq_w_175581 && zzero_lte_i_175582;
        bool y_175585 = zzero_leq_i_p_m_t_s_175580 && y_175584;
        bool forwards_ok_175586 = i_lte_j_175583 && y_175585;
        bool ok_or_empty_175587 = empty_slice_175550 || forwards_ok_175586;
        bool index_certs_175588;
        
        if (!ok_or_empty_175587) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175563, ":", (long long) ubs_175565, "] out of bounds for array of shape [", (long long) nb_163297, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177566 = add64(m_175551, ind_bottom_175566);
        bool zzero_leq_i_p_m_t_s_177567 = sle64((int64_t) 0, i_p_m_t_s_177566);
        bool i_p_m_t_s_leq_w_177568 = slt64(i_p_m_t_s_177566, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
        bool zzero_lte_i_177569 = sle64((int64_t) 0, ind_bottom_175566);
        bool i_lte_j_177570 = sle64(ind_bottom_175566, ind_top_175567);
        bool y_177571 = i_p_m_t_s_leq_w_177568 && zzero_lte_i_177569;
        bool y_177572 = zzero_leq_i_p_m_t_s_177567 && y_177571;
        bool forwards_ok_177573 = i_lte_j_177570 && y_177572;
        bool ok_or_empty_177574 = empty_slice_175550 || forwards_ok_177573;
        bool index_certs_177575;
        
        if (!ok_or_empty_177574) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175566, ":", (long long) ind_top_175567, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175590;
        int64_t loopres_175591;
        
        if (inParallel_163302) {
            double leq_lhs_179024 = ((double *) a_list_mem_181052.mem)[p_175562];
            double leq_rhs_179025 = ((double *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_179026 = leq_lhs_179024 <= leq_rhs_179025;
            double lowest_179027;
            
            if (defunc_0_leq_res_179026) {
                lowest_179027 = leq_lhs_179024;
            } else {
                lowest_179027 = leq_rhs_179025;
            }
            if (mem_181414_cached_sizze_182810 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181414, &mem_181414_cached_sizze_182810, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182811 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182811, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180716 = 0; i_180716 < threads_163299; i_180716++) {
                int64_t index_primexp_180988 = add64((int64_t) 1, i_180716);
                int64_t zs_lhs_179032 = mul64(zt_rhs_176600, index_primexp_180988);
                int64_t index_179033 = sdiv64(zs_lhs_179032, partitionFunc_arg0_176577);
                bool cond_179034 = slt64(window_sizze_163298, index_179033);
                int64_t loop_over_179035;
                
                if (cond_179034) {
                    loop_over_179035 = window_sizze_163298;
                } else {
                    loop_over_179035 = index_179033;
                }
                
                int64_t loop_over_179036;
                
                if (cond_179034) {
                    int64_t loop_over_t_res_179037 = sub64(index_179033, window_sizze_163298);
                    
                    loop_over_179036 = loop_over_t_res_179037;
                } else {
                    loop_over_179036 = (int64_t) 0;
                }
                
                int64_t loop_over_179038;
                
                if (cond_179034) {
                    int64_t zm_lhs_179039 = sub64(index_179033, window_sizze_163298);
                    int64_t loop_over_t_res_179040 = sub64(zm_lhs_179039, (int64_t) 1);
                    
                    loop_over_179038 = loop_over_t_res_179040;
                } else {
                    loop_over_179038 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179041;
                int64_t defunc_0_f_res_179042;
                int64_t defunc_0_f_res_179043;
                int64_t defunc_0_f_res_179044;
                bool loop_while_179045;
                int64_t p_179046;
                int64_t p_179047;
                int64_t p_179048;
                
                loop_while_179045 = 1;
                p_179046 = loop_over_179038;
                p_179047 = loop_over_179035;
                p_179048 = loop_over_179036;
                while (loop_while_179045) {
                    int64_t zs_lhs_179049 = sub64(p_179047, p_179046);
                    int64_t offset_179050 = sdiv64(zs_lhs_179049, (int64_t) 2);
                    int64_t ai_179051 = sub64(p_179047, offset_179050);
                    int64_t max_arg1_179052 = add64(p_179048, offset_179050);
                    int64_t max_res_179053 = smax64((int64_t) 0, max_arg1_179052);
                    bool cond_179054 = slt64((int64_t) 0, max_res_179053);
                    double b_prev_179055;
                    
                    if (cond_179054) {
                        int64_t tmp_179056 = sub64(max_res_179053, (int64_t) 1);
                        bool x_179057 = sle64((int64_t) 0, tmp_179056);
                        bool y_179058 = slt64(tmp_179056, window_sizze_163298);
                        bool bounds_check_179059 = x_179057 && y_179058;
                        bool index_certs_179060;
                        
                        if (!bounds_check_179059) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179056, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179061 = p_175563 + tmp_179056;
                        double b_prev_t_res_179062 = ((double *) b_list_mem_181053.mem)[slice_179061];
                        
                        b_prev_179055 = b_prev_t_res_179062;
                    } else {
                        b_prev_179055 = lowest_179027;
                    }
                    
                    bool cond_179063 = sle64(ai_179051, (int64_t) 0);
                    int64_t loopres_179064;
                    int64_t loopres_179065;
                    int64_t loopres_179066;
                    bool loopres_179067;
                    
                    if (cond_179063) {
                        loopres_179064 = p_179046;
                        loopres_179065 = (int64_t) 0;
                        loopres_179066 = max_res_179053;
                        loopres_179067 = 0;
                    } else {
                        bool cond_179068 = sle64(window_sizze_163298, max_res_179053);
                        int64_t loopres_f_res_179069;
                        int64_t loopres_f_res_179070;
                        int64_t loopres_f_res_179071;
                        bool loopres_f_res_179072;
                        
                        if (cond_179068) {
                            int64_t min_res_179074 = smin64(m_175551, ai_179051);
                            bool x_179075 = sle64((int64_t) 0, m_175551);
                            bool y_179076 = slt64(m_175551, window_sizze_163298);
                            bool bounds_check_179077 = x_179075 && y_179076;
                            bool index_certs_179078;
                            
                            if (!bounds_check_179077) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179081 = sle64((int64_t) 0, min_res_179074);
                            bool y_179082 = slt64(min_res_179074, window_sizze_163298);
                            bool bounds_check_179083 = x_179081 && y_179082;
                            bool index_certs_179084;
                            
                            if (!bounds_check_179083) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179074, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_179080 = ((double *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_179085 = p_175562 + min_res_179074;
                            double leq_rhs_179086 = ((double *) a_list_mem_181052.mem)[slice_179085];
                            bool defunc_0_leq_res_179087 = leq_lhs_179080 <= leq_rhs_179086;
                            int64_t loopres_f_res_t_res_179088;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179088 = ai_179051;
                            } else {
                                loopres_f_res_t_res_179088 = p_179047;
                            }
                            
                            bool x_179089 = !defunc_0_leq_res_179087;
                            int64_t loopres_f_res_t_res_179090;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179090 = window_sizze_163298;
                            } else {
                                int64_t tmp_179091 = sub64(m_175551, offset_179050);
                                
                                loopres_f_res_t_res_179090 = tmp_179091;
                            }
                            loopres_f_res_179069 = p_179046;
                            loopres_f_res_179070 = loopres_f_res_t_res_179088;
                            loopres_f_res_179071 = loopres_f_res_t_res_179090;
                            loopres_f_res_179072 = x_179089;
                        } else {
                            bool cond_179092 = sle64(window_sizze_163298, ai_179051);
                            int64_t loopres_f_res_f_res_179093;
                            int64_t loopres_f_res_f_res_179094;
                            int64_t loopres_f_res_f_res_179095;
                            bool loopres_f_res_f_res_179096;
                            
                            if (cond_179092) {
                                int64_t min_res_179098 = smin64(m_175551, max_res_179053);
                                bool x_179099 = sle64((int64_t) 0, m_175551);
                                bool y_179100 = slt64(m_175551, window_sizze_163298);
                                bool bounds_check_179101 = x_179099 && y_179100;
                                bool index_certs_179102;
                                
                                if (!bounds_check_179101) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179105 = sle64((int64_t) 0, min_res_179098);
                                bool y_179106 = slt64(min_res_179098, window_sizze_163298);
                                bool bounds_check_179107 = x_179105 && y_179106;
                                bool index_certs_179108;
                                
                                if (!bounds_check_179107) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179098, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_179104 = ((double *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_179109 = p_175563 + min_res_179098;
                                double leq_rhs_179110 = ((double *) b_list_mem_181053.mem)[slice_179109];
                                bool defunc_0_leq_res_179111 = leq_lhs_179104 <= leq_rhs_179110;
                                int64_t loopres_f_res_f_res_t_res_179112;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179112 = max_res_179053;
                                } else {
                                    loopres_f_res_f_res_t_res_179112 = p_179048;
                                }
                                
                                bool x_179113 = !defunc_0_leq_res_179111;
                                int64_t loopres_f_res_f_res_t_res_179114;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179114 = window_sizze_163298;
                                } else {
                                    loopres_f_res_f_res_t_res_179114 = m_175551;
                                }
                                loopres_f_res_f_res_179093 = p_179046;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_t_res_179114;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_t_res_179112;
                                loopres_f_res_f_res_179096 = x_179113;
                            } else {
                                bool cond_179115 = sle64(p_179047, p_179046);
                                int64_t loopres_f_res_f_res_f_res_179116;
                                int64_t loopres_f_res_f_res_f_res_179117;
                                int64_t loopres_f_res_f_res_f_res_179118;
                                bool loopres_f_res_f_res_f_res_179119;
                                
                                if (cond_179115) {
                                    bool cond_179120 = slt64(ai_179051, window_sizze_163298);
                                    int64_t ai_179121;
                                    
                                    if (cond_179120) {
                                        ai_179121 = ai_179051;
                                    } else {
                                        ai_179121 = m_175551;
                                    }
                                    
                                    bool x_179134 = sle64((int64_t) 0, ai_179121);
                                    bool y_179135 = slt64(ai_179121, window_sizze_163298);
                                    bool bounds_check_179136 = x_179134 && y_179135;
                                    bool index_certs_179137;
                                    
                                    if (!bounds_check_179136) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179121, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179123;
                                    
                                    if (cond_179054) {
                                        int64_t tmp_179124 = sub64(max_res_179053, (int64_t) 1);
                                        bool x_179125 = sle64((int64_t) 0, tmp_179124);
                                        bool y_179126 = slt64(tmp_179124, window_sizze_163298);
                                        bool bounds_check_179127 = x_179125 && y_179126;
                                        bool index_certs_179128;
                                        
                                        if (!bounds_check_179127) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179124, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179129 = p_175563 + tmp_179124;
                                        double b_prev_t_res_179130 = ((double *) b_list_mem_181053.mem)[slice_179129];
                                        
                                        b_prev_179123 = b_prev_t_res_179130;
                                    } else {
                                        bool index_certs_179132;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179123 = leq_rhs_179025;
                                    }
                                    
                                    int64_t slice_179138 = p_175562 + ai_179121;
                                    double gt_lhs_179139 = ((double *) a_list_mem_181052.mem)[slice_179138];
                                    bool defunc_0_gt_res_179140 = b_prev_179123 < gt_lhs_179139;
                                    int64_t defunc_0_partFunc_sequential_search_res_179141;
                                    int64_t defunc_0_partFunc_sequential_search_res_179142;
                                    
                                    if (defunc_0_gt_res_179140) {
                                        int64_t zl_rhs_179143 = sub64(window_sizze_163298, max_res_179053);
                                        bool loop_cond_179144 = slt64((int64_t) 0, zl_rhs_179143);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179145;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179147;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179148;
                                        bool loop_while_179149;
                                        int64_t p_179150;
                                        int64_t p_179151;
                                        int64_t p_179152;
                                        
                                        loop_while_179149 = loop_cond_179144;
                                        p_179150 = ai_179121;
                                        p_179151 = max_res_179053;
                                        p_179152 = (int64_t) 0;
                                        while (loop_while_179149) {
                                            int64_t i_a_179153 = sub64(ai_179121, p_179152);
                                            int64_t i_b_179154 = add64(max_res_179053, p_179152);
                                            int64_t leq_lhs_179155 = sub64(i_a_179153, (int64_t) 1);
                                            bool x_179156 = sle64((int64_t) 0, leq_lhs_179155);
                                            bool y_179157 = slt64(leq_lhs_179155, window_sizze_163298);
                                            bool bounds_check_179158 = x_179156 && y_179157;
                                            bool index_certs_179159;
                                            
                                            if (!bounds_check_179158) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179155, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179162 = sle64((int64_t) 0, i_b_179154);
                                            bool y_179163 = slt64(i_b_179154, window_sizze_163298);
                                            bool bounds_check_179164 = x_179162 && y_179163;
                                            bool index_certs_179165;
                                            
                                            if (!bounds_check_179164) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179154, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179160 = p_175562 + leq_lhs_179155;
                                            double leq_lhs_179161 = ((double *) a_list_mem_181052.mem)[slice_179160];
                                            int64_t slice_179166 = p_175563 + i_b_179154;
                                            double leq_rhs_179167 = ((double *) b_list_mem_181053.mem)[slice_179166];
                                            bool defunc_0_leq_res_179168 = leq_lhs_179161 <= leq_rhs_179167;
                                            int64_t loopres_179169;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179169 = i_a_179153;
                                            } else {
                                                loopres_179169 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179170;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179170 = i_b_179154;
                                            } else {
                                                loopres_179170 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179171;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179171 = zl_rhs_179143;
                                            } else {
                                                int64_t tmp_179172 = add64((int64_t) 1, p_179152);
                                                
                                                loopres_179171 = tmp_179172;
                                            }
                                            
                                            bool loop_cond_179173 = slt64(loopres_179171, zl_rhs_179143);
                                            bool loop_while_tmp_182485 = loop_cond_179173;
                                            int64_t p_tmp_182486 = loopres_179169;
                                            int64_t p_tmp_182487 = loopres_179170;
                                            int64_t p_tmp_182488 = loopres_179171;
                                            
                                            loop_while_179149 = loop_while_tmp_182485;
                                            p_179150 = p_tmp_182486;
                                            p_179151 = p_tmp_182487;
                                            p_179152 = p_tmp_182488;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179145 = loop_while_179149;
                                        defunc_0_partFunc_sequential_search_res_t_res_179146 = p_179150;
                                        defunc_0_partFunc_sequential_search_res_t_res_179147 = p_179151;
                                        defunc_0_partFunc_sequential_search_res_t_res_179148 = p_179152;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_t_res_179147;
                                    } else {
                                        int64_t zl_rhs_179174 = sub64(max_res_179053, (int64_t) 1);
                                        bool loop_cond_179175 = slt64((int64_t) 0, zl_rhs_179174);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179176;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179178;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179179;
                                        bool loop_while_179180;
                                        int64_t p_179181;
                                        int64_t p_179182;
                                        int64_t p_179183;
                                        
                                        loop_while_179180 = loop_cond_179175;
                                        p_179181 = ai_179121;
                                        p_179182 = max_res_179053;
                                        p_179183 = (int64_t) 0;
                                        while (loop_while_179180) {
                                            int64_t zp_lhs_179184 = add64(ai_179121, p_179183);
                                            int64_t hi_a_179185 = add64((int64_t) 1, zp_lhs_179184);
                                            bool cond_179186 = slt64(hi_a_179185, window_sizze_163298);
                                            int64_t i_a_179187;
                                            
                                            if (cond_179186) {
                                                i_a_179187 = hi_a_179185;
                                            } else {
                                                i_a_179187 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_179189 = sub64(max_res_179053, p_179183);
                                            int64_t i_b_179190 = sub64(zm_lhs_179189, (int64_t) 1);
                                            bool x_179191 = sle64((int64_t) 0, i_a_179187);
                                            bool y_179192 = slt64(i_a_179187, window_sizze_163298);
                                            bool bounds_check_179193 = x_179191 && y_179192;
                                            bool index_certs_179194;
                                            
                                            if (!bounds_check_179193) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179187, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179197 = sle64((int64_t) 0, i_b_179190);
                                            bool y_179198 = slt64(i_b_179190, window_sizze_163298);
                                            bool bounds_check_179199 = x_179197 && y_179198;
                                            bool index_certs_179200;
                                            
                                            if (!bounds_check_179199) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179190, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179195 = p_175562 + i_a_179187;
                                            double gt_lhs_179196 = ((double *) a_list_mem_181052.mem)[slice_179195];
                                            int64_t slice_179201 = p_175563 + i_b_179190;
                                            double gt_rhs_179202 = ((double *) b_list_mem_181053.mem)[slice_179201];
                                            bool defunc_0_gt_res_179203 = gt_rhs_179202 < gt_lhs_179196;
                                            int64_t loopres_179204;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179204 = i_a_179187;
                                            } else {
                                                loopres_179204 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179205;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179205 = zm_lhs_179189;
                                            } else {
                                                loopres_179205 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179206;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179206 = zl_rhs_179174;
                                            } else {
                                                int64_t tmp_179207 = add64((int64_t) 1, p_179183);
                                                
                                                loopres_179206 = tmp_179207;
                                            }
                                            
                                            bool loop_cond_179208 = slt64(loopres_179206, zl_rhs_179174);
                                            bool loop_while_tmp_182489 = loop_cond_179208;
                                            int64_t p_tmp_182490 = loopres_179204;
                                            int64_t p_tmp_182491 = loopres_179205;
                                            int64_t p_tmp_182492 = loopres_179206;
                                            
                                            loop_while_179180 = loop_while_tmp_182489;
                                            p_179181 = p_tmp_182490;
                                            p_179182 = p_tmp_182491;
                                            p_179183 = p_tmp_182492;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179176 = loop_while_179180;
                                        defunc_0_partFunc_sequential_search_res_f_res_179177 = p_179181;
                                        defunc_0_partFunc_sequential_search_res_f_res_179178 = p_179182;
                                        defunc_0_partFunc_sequential_search_res_f_res_179179 = p_179183;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_f_res_179178;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = p_179046;
                                    loopres_f_res_f_res_f_res_179117 = defunc_0_partFunc_sequential_search_res_179141;
                                    loopres_f_res_f_res_f_res_179118 = defunc_0_partFunc_sequential_search_res_179142;
                                    loopres_f_res_f_res_f_res_179119 = 0;
                                } else {
                                    bool x_179209 = sle64((int64_t) 0, ai_179051);
                                    bool y_179210 = slt64(ai_179051, window_sizze_163298);
                                    bool bounds_check_179211 = x_179209 && y_179210;
                                    bool index_certs_179212;
                                    
                                    if (!bounds_check_179211) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179051, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179213 = p_175562 + ai_179051;
                                    double gt_lhs_179214 = ((double *) a_list_mem_181052.mem)[slice_179213];
                                    bool defunc_0_gt_res_179215 = b_prev_179055 < gt_lhs_179214;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179216;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179217;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179218;
                                    bool loopres_f_res_f_res_f_res_f_res_179219;
                                    
                                    if (defunc_0_gt_res_179215) {
                                        int64_t leq_lhs_179220 = sub64(ai_179051, (int64_t) 1);
                                        bool x_179221 = sle64((int64_t) 0, leq_lhs_179220);
                                        bool y_179222 = slt64(leq_lhs_179220, window_sizze_163298);
                                        bool bounds_check_179223 = x_179221 && y_179222;
                                        bool index_certs_179224;
                                        
                                        if (!bounds_check_179223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179220, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179227 = sle64((int64_t) 0, max_res_179053);
                                        bool y_179228 = slt64(max_res_179053, window_sizze_163298);
                                        bool bounds_check_179229 = x_179227 && y_179228;
                                        bool index_certs_179230;
                                        
                                        if (!bounds_check_179229) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179053, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179225 = p_175562 + leq_lhs_179220;
                                        double leq_lhs_179226 = ((double *) a_list_mem_181052.mem)[slice_179225];
                                        int64_t slice_179231 = p_175563 + max_res_179053;
                                        double leq_rhs_179232 = ((double *) b_list_mem_181053.mem)[slice_179231];
                                        bool defunc_0_leq_res_179233 = leq_lhs_179226 <= leq_rhs_179232;
                                        bool x_179234 = !defunc_0_leq_res_179233;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = ai_179051;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = leq_lhs_179220;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = max_res_179053;
                                        } else {
                                            int64_t tmp_179237 = add64((int64_t) 1, max_res_179053);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = tmp_179237;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179216 = p_179046;
                                        loopres_f_res_f_res_f_res_f_res_179217 = loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        loopres_f_res_f_res_f_res_f_res_179218 = loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        loopres_f_res_f_res_f_res_f_res_179219 = x_179234;
                                    } else {
                                        int64_t tmp_179238 = add64((int64_t) 1, ai_179051);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179216 = tmp_179238;
                                        loopres_f_res_f_res_f_res_f_res_179217 = p_179047;
                                        loopres_f_res_f_res_f_res_f_res_179218 = p_179048;
                                        loopres_f_res_f_res_f_res_f_res_179219 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = loopres_f_res_f_res_f_res_f_res_179216;
                                    loopres_f_res_f_res_f_res_179117 = loopres_f_res_f_res_f_res_f_res_179217;
                                    loopres_f_res_f_res_f_res_179118 = loopres_f_res_f_res_f_res_f_res_179218;
                                    loopres_f_res_f_res_f_res_179119 = loopres_f_res_f_res_f_res_f_res_179219;
                                }
                                loopres_f_res_f_res_179093 = loopres_f_res_f_res_f_res_179116;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_f_res_179117;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_f_res_179118;
                                loopres_f_res_f_res_179096 = loopres_f_res_f_res_f_res_179119;
                            }
                            loopres_f_res_179069 = loopres_f_res_f_res_179093;
                            loopres_f_res_179070 = loopres_f_res_f_res_179094;
                            loopres_f_res_179071 = loopres_f_res_f_res_179095;
                            loopres_f_res_179072 = loopres_f_res_f_res_179096;
                        }
                        loopres_179064 = loopres_f_res_179069;
                        loopres_179065 = loopres_f_res_179070;
                        loopres_179066 = loopres_f_res_179071;
                        loopres_179067 = loopres_f_res_179072;
                    }
                    
                    bool loop_while_tmp_182481 = loopres_179067;
                    int64_t p_tmp_182482 = loopres_179064;
                    int64_t p_tmp_182483 = loopres_179065;
                    int64_t p_tmp_182484 = loopres_179066;
                    
                    loop_while_179045 = loop_while_tmp_182481;
                    p_179046 = p_tmp_182482;
                    p_179047 = p_tmp_182483;
                    p_179048 = p_tmp_182484;
                }
                defunc_0_f_res_179041 = loop_while_179045;
                defunc_0_f_res_179042 = p_179046;
                defunc_0_f_res_179043 = p_179047;
                defunc_0_f_res_179044 = p_179048;
                ((int64_t *) mem_181414)[i_180716] = defunc_0_f_res_179043;
                ((int64_t *) mem_181416)[i_180716] = defunc_0_f_res_179044;
            }
            if (mem_181431_cached_sizze_182812 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181431, &mem_181431_cached_sizze_182812, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181433_cached_sizze_182813 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601) {
                err = lexical_realloc(ctx, &mem_181433, &mem_181433_cached_sizze_182813, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181436_cached_sizze_182814 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181436, &mem_181436_cached_sizze_182814, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181439_cached_sizze_182815 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181439, &mem_181439_cached_sizze_182815, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_163299; i_180782++) {
                bool y_179252 = slt64(i_180782, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool index_certs_179254;
                
                if (!y_179252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180782, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179255 = sle64((int64_t) 1, i_180782);
                int64_t index_concat_i_179256 = sub64(i_180782, (int64_t) 1);
                int64_t index_concat_179257;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179258 = ((int64_t *) mem_181414)[index_concat_i_179256];
                    
                    index_concat_179257 = x_179258;
                } else {
                    index_concat_179257 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179259;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179259 = index_concat_179257;
                } else {
                    index_concat_branch_179259 = (int64_t) 0;
                }
                
                int64_t index_concat_179260;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179261 = ((int64_t *) mem_181416)[index_concat_i_179256];
                    
                    index_concat_179260 = x_179261;
                } else {
                    index_concat_179260 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179262;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179262 = index_concat_179260;
                } else {
                    index_concat_branch_179262 = (int64_t) 0;
                }
                
                int64_t ubs_179263 = add64((int64_t) 1, i_180782);
                bool x_179264 = sle64((int64_t) 0, ubs_179263);
                bool y_179265 = slt64(ubs_179263, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_179266 = x_179264 && y_179265;
                bool index_certs_179267;
                
                if (!bounds_check_179266) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179263, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179268 = sle64((int64_t) 1, ubs_179263);
                int64_t index_concat_179269;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179270 = ((int64_t *) mem_181414)[i_180782];
                    
                    index_concat_179269 = x_179270;
                } else {
                    index_concat_179269 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179271;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179271 = index_concat_179269;
                } else {
                    index_concat_branch_179271 = (int64_t) 0;
                }
                
                int64_t index_concat_179272;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179273 = ((int64_t *) mem_181416)[i_180782];
                    
                    index_concat_179272 = x_179273;
                } else {
                    index_concat_179272 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179274;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179274 = index_concat_179272;
                } else {
                    index_concat_branch_179274 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 = sub64(index_concat_branch_179274, index_concat_branch_179262);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 = sub64(index_concat_branch_179271, index_concat_branch_179259);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t zm_lhs_179278 = add64(index_concat_branch_179271, index_concat_branch_179274);
                int64_t zm_rhs_179279 = add64(index_concat_branch_179259, index_concat_branch_179262);
                int64_t card_179280 = sub64(zm_lhs_179278, zm_rhs_179279);
                bool empty_slice_179281 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 == (int64_t) 0;
                int64_t m_179282 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 1);
                int64_t i_p_m_t_s_179283 = add64(index_concat_branch_179259, m_179282);
                bool zzero_leq_i_p_m_t_s_179284 = sle64((int64_t) 0, i_p_m_t_s_179283);
                bool i_p_m_t_s_leq_w_179285 = slt64(i_p_m_t_s_179283, window_sizze_163298);
                bool zzero_lte_i_179286 = sle64((int64_t) 0, index_concat_branch_179259);
                bool i_lte_j_179287 = sle64(index_concat_branch_179259, index_concat_branch_179271);
                bool y_179288 = i_p_m_t_s_leq_w_179285 && zzero_lte_i_179286;
                bool y_179289 = zzero_leq_i_p_m_t_s_179284 && y_179288;
                bool forwards_ok_179290 = i_lte_j_179287 && y_179289;
                bool ok_or_empty_179291 = empty_slice_179281 || forwards_ok_179290;
                bool index_certs_179292;
                
                if (!ok_or_empty_179291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179259, ":", (long long) index_concat_branch_179271, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179293 = slt64(index_concat_branch_179271, index_concat_branch_179259);
                bool valid_179294 = !bounds_invalid_upwards_179293;
                bool range_valid_c_179295;
                
                if (!valid_179294) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179259, "..<", (long long) index_concat_branch_179271, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179300 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 == (int64_t) 0;
                int64_t m_179301 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, (int64_t) 1);
                int64_t i_p_m_t_s_179302 = add64(index_concat_branch_179262, m_179301);
                bool zzero_leq_i_p_m_t_s_179303 = sle64((int64_t) 0, i_p_m_t_s_179302);
                bool i_p_m_t_s_leq_w_179304 = slt64(i_p_m_t_s_179302, window_sizze_163298);
                bool zzero_lte_i_179305 = sle64((int64_t) 0, index_concat_branch_179262);
                bool i_lte_j_179306 = sle64(index_concat_branch_179262, index_concat_branch_179274);
                bool y_179307 = i_p_m_t_s_leq_w_179304 && zzero_lte_i_179305;
                bool y_179308 = zzero_leq_i_p_m_t_s_179303 && y_179307;
                bool forwards_ok_179309 = i_lte_j_179306 && y_179308;
                bool ok_or_empty_179310 = empty_slice_179300 || forwards_ok_179309;
                bool index_certs_179311;
                
                if (!ok_or_empty_179310) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179262, ":", (long long) index_concat_branch_179274, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179312 = slt64(index_concat_branch_179274, index_concat_branch_179262);
                bool valid_179313 = !bounds_invalid_upwards_179312;
                bool range_valid_c_179314;
                
                if (!valid_179313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179262, "..<", (long long) index_concat_branch_179274, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181468 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool cond_179322 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zs_lhs_179323 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zp_rhs_179324 = sdiv_safe64(zs_lhs_179323, (int64_t) 20);
                int64_t min_num_blocks_179325 = add64((int64_t) 1, zp_rhs_179324);
                bool loop_cond_179326 = slt64((int64_t) 1, min_num_blocks_179325);
                bool smallest_pow_2_geq_than_res_179327;
                int64_t smallest_pow_2_geq_than_res_179328;
                bool loop_while_179329;
                int64_t x_179330;
                
                loop_while_179329 = loop_cond_179326;
                x_179330 = (int64_t) 1;
                while (loop_while_179329) {
                    int64_t loopres_179331 = mul64((int64_t) 2, x_179330);
                    bool loop_cond_179332 = slt64(loopres_179331, min_num_blocks_179325);
                    bool loop_while_tmp_182497 = loop_cond_179332;
                    int64_t x_tmp_182498 = loopres_179331;
                    
                    loop_while_179329 = loop_while_tmp_182497;
                    x_179330 = x_tmp_182498;
                }
                smallest_pow_2_geq_than_res_179327 = loop_while_179329;
                smallest_pow_2_geq_than_res_179328 = x_179330;
                
                bool zzero_179333 = smallest_pow_2_geq_than_res_179328 == (int64_t) 0;
                bool nonzzero_179334 = !zzero_179333;
                bool protect_assert_disj_179335 = cond_179322 || nonzzero_179334;
                bool nonzzero_cert_179336;
                
                if (!protect_assert_disj_179335) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179337 = sdiv_safe64(zs_lhs_179323, smallest_pow_2_geq_than_res_179328);
                int64_t block_sizze_179338 = add64((int64_t) 1, zp_rhs_179337);
                bool y_179345 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                bool protect_assert_disj_182214 = cond_179322 || y_179345;
                bool index_certs_179346;
                
                if (!protect_assert_disj_182214) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179383 = slt64(smallest_pow_2_geq_than_res_179328, (int64_t) 0);
                bool valid_179384 = !bounds_invalid_upwards_179383;
                bool protect_assert_disj_182224 = cond_179322 || valid_179384;
                bool range_valid_c_179385;
                
                if (!protect_assert_disj_182224) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179328, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179387 = slt64(block_sizze_179338, (int64_t) 0);
                bool valid_179388 = !bounds_invalid_upwards_179387;
                bool protect_assert_disj_182226 = cond_179322 || valid_179388;
                bool range_valid_c_179389;
                
                if (!protect_assert_disj_182226) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179338, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179391 = sle64(block_sizze_179338, (int64_t) 1);
                int64_t tmp_179392 = sub64(block_sizze_179338, (int64_t) 2);
                bool bounds_invalid_upwards_179393 = slt64(tmp_179392, (int64_t) 0);
                bool valid_179395 = !bounds_invalid_upwards_179393;
                bool protect_assert_disj_179396 = cond_179391 || valid_179395;
                bool protect_assert_disj_182228 = cond_179322 || protect_assert_disj_179396;
                bool range_valid_c_179397;
                
                if (!protect_assert_disj_182228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179392, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179977 = card_179280 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool empty_or_match_cert_179978;
                
                if (!dim_match_179977) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] cannot match shape of type `[", (long long) card_179280, "](i8, i64, f64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179979 = card_179280 == (int64_t) 0;
                int64_t m_179980 = sub64(card_179280, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179981 = sle64((int64_t) 0, m_179980);
                bool i_p_m_t_s_leq_w_179982 = slt64(m_179980, card_179280);
                bool y_179983 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179982;
                bool ok_or_empty_179984 = empty_slice_179979 || y_179983;
                bool index_certs_179985;
                
                if (!ok_or_empty_179984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) card_179280, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179986 = slt64(m_179980, perThread_175600);
                bool y_179987 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179986;
                bool ok_or_empty_179988 = empty_slice_179979 || y_179987;
                bool index_certs_179989;
                
                if (!ok_or_empty_179988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182499 = 0; nest_i_182499 < perThread_175600; nest_i_182499++) {
                    ((int8_t *) mem_181433)[i_180782 * perThread_175600 + nest_i_182499] = (int8_t) -1;
                }
                for (int64_t nest_i_182500 = 0; nest_i_182500 < perThread_175600; nest_i_182500++) {
                    ((int64_t *) mem_181436)[i_180782 * perThread_175600 + nest_i_182500] = (int64_t) -1;
                }
                for (int64_t nest_i_182501 = 0; nest_i_182501 < perThread_175600; nest_i_182501++) {
                    ((double *) mem_181439)[i_180782 * perThread_175600 + nest_i_182501] = 0.0;
                }
                
                int64_t slice_179296 = p_175562 + index_concat_branch_179259;
                
                if (memblock_alloc(ctx, &mem_181467, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "mem_181467")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182502 = 0; nest_i_182502 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; nest_i_182502++) {
                    ((int8_t *) mem_181467.mem)[nest_i_182502] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181469, bytes_181468, "mem_181469")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182503 = 0; i_182503 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; i_182503++) {
                    int64_t x_182504 = index_concat_branch_179259 + i_182503 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[i_182503] = x_182504;
                }
                
                int64_t slice_179315 = p_175563 + index_concat_branch_179262;
                
                for (int64_t nest_i_182505 = 0; nest_i_182505 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; nest_i_182505++) {
                    ((int8_t *) mem_181467.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + nest_i_182505] = (int8_t) 1;
                }
                for (int64_t i_182506 = 0; i_182506 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; i_182506++) {
                    int64_t x_182507 = index_concat_branch_179262 + i_182506 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + i_182506] = x_182507;
                }
                
                int64_t tmp_offs_182508 = (int64_t) 0;
                
                if (!(tmp_offs_182508 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182508 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t tmp_offs_182509 = (int64_t) 0;
                
                if (!(tmp_offs_182509 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182509 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                if (memblock_alloc(ctx, &mem_181471, bytes_181468, "mem_181471")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182510 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, slice_179296, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, slice_179315, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t flat_dim_179339 = smallest_pow_2_geq_than_res_179328 * block_sizze_179338;
                bool x_182209 = !cond_179322;
                int64_t greatest_divisor_leq_than_arg1_179343 = mul64((int64_t) 2, block_sizze_179338);
                int64_t merge_block_sizze_179344;
                
                if (x_182209) {
                    int64_t x_182211;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182211, (int64_t) 8, greatest_divisor_leq_than_arg1_179343) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179344 = x_182211;
                } else {
                    merge_block_sizze_179344 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179347 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 0);
                int8_t index_concat_branch_179348 = btoi_bool_i8(index_concat_cmp_179347);
                int64_t index_concat_i_179350 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t index_primexp_179351 = add64(index_concat_branch_179262, index_concat_i_179350);
                int64_t index_concat_branch_179349;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179349 = index_primexp_179351;
                } else {
                    index_concat_branch_179349 = index_concat_branch_179259;
                }
                
                bool x_182205 = !index_concat_cmp_179347;
                bool protect_cond_conj_182215 = x_182205 && x_182209;
                double index_concat_179357;
                
                if (protect_cond_conj_182215) {
                    double x_182207 = ((double *) a_list_mem_181052.mem)[slice_179296];
                    
                    index_concat_179357 = x_182207;
                } else {
                    index_concat_179357 = 0.0;
                }
                
                int64_t slice_179355 = p_175563 + index_primexp_179351;
                bool protect_cond_conj_182216 = index_concat_cmp_179347 && x_182209;
                double index_concat_179356;
                
                if (protect_cond_conj_182216) {
                    double x_182203 = ((double *) b_list_mem_181053.mem)[slice_179355];
                    
                    index_concat_179356 = x_182203;
                } else {
                    index_concat_179356 = 0.0;
                }
                
                double index_concat_branch_179352;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179352 = index_concat_179356;
                } else {
                    index_concat_branch_179352 = index_concat_179357;
                }
                
                int8_t defunc_0_reduce_res_179358;
                int64_t defunc_0_reduce_res_179359;
                double defunc_0_reduce_res_179360;
                
                if (x_182209) {
                    int8_t x_182217;
                    int64_t x_182218;
                    double x_182219;
                    int8_t redout_180719;
                    int64_t redout_180720;
                    double redout_180721;
                    
                    redout_180719 = index_concat_branch_179348;
                    redout_180720 = index_concat_branch_179349;
                    redout_180721 = index_concat_branch_179352;
                    for (int64_t i_180722 = 0; i_180722 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277; i_180722++) {
                        bool index_concat_cmp_180980 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, i_180722);
                        int8_t index_concat_branch_180984 = btoi_bool_i8(index_concat_cmp_180980);
                        int64_t index_concat_branch_180978;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180975 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t index_primexp_181028 = add64(index_concat_branch_179262, index_concat_i_180975);
                            
                            index_concat_branch_180978 = index_primexp_181028;
                        } else {
                            int64_t index_primexp_181030 = add64(index_concat_branch_179259, i_180722);
                            
                            index_concat_branch_180978 = index_primexp_181030;
                        }
                        
                        double index_concat_branch_180972;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180969 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t slice_181025 = slice_179315 + index_concat_i_180969;
                            double index_concat_180970 = ((double *) b_list_mem_181053.mem)[slice_181025];
                            
                            index_concat_branch_180972 = index_concat_180970;
                        } else {
                            int64_t slice_181026 = slice_179296 + i_180722;
                            double index_concat_180971 = ((double *) a_list_mem_181052.mem)[slice_181026];
                            
                            index_concat_branch_180972 = index_concat_180971;
                        }
                        
                        bool eq_x_y_181042 = redout_180719 == (int8_t) 1;
                        bool eq_x_zz_181043 = redout_180719 == (int8_t) 0;
                        bool p_and_eq_x_y_181044 = index_concat_cmp_180980 && eq_x_y_181042;
                        bool not_p_181045 = !index_concat_cmp_180980;
                        bool p_and_eq_x_y_181046 = eq_x_zz_181043 && not_p_181045;
                        bool cond_179370 = p_and_eq_x_y_181044 || p_and_eq_x_y_181046;
                        bool defunc_0_leq_res_t_res_179371 = sle64(redout_180720, index_concat_branch_180978);
                        bool defunc_0_leq_res_179372 = redout_180721 <= index_concat_branch_180972;
                        bool x_179373 = cond_179370 && defunc_0_leq_res_t_res_179371;
                        bool x_179374 = !cond_179370;
                        bool y_179375 = defunc_0_leq_res_179372 && x_179374;
                        bool defunc_0_leq_res_179376 = x_179373 || y_179375;
                        int8_t defunc_0_op_res_179377;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179377 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_179377 = redout_180719;
                        }
                        
                        int64_t defunc_0_op_res_179378;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179378 = index_concat_branch_180978;
                        } else {
                            defunc_0_op_res_179378 = redout_180720;
                        }
                        
                        double defunc_0_op_res_179379;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179379 = index_concat_branch_180972;
                        } else {
                            defunc_0_op_res_179379 = redout_180721;
                        }
                        
                        int8_t redout_tmp_182511 = defunc_0_op_res_179377;
                        int64_t redout_tmp_182512 = defunc_0_op_res_179378;
                        double redout_tmp_182513 = defunc_0_op_res_179379;
                        
                        redout_180719 = redout_tmp_182511;
                        redout_180720 = redout_tmp_182512;
                        redout_180721 = redout_tmp_182513;
                    }
                    x_182217 = redout_180719;
                    x_182218 = redout_180720;
                    x_182219 = redout_180721;
                    defunc_0_reduce_res_179358 = x_182217;
                    defunc_0_reduce_res_179359 = x_182218;
                    defunc_0_reduce_res_179360 = x_182219;
                } else {
                    defunc_0_reduce_res_179358 = (int8_t) 0;
                    defunc_0_reduce_res_179359 = (int64_t) 0;
                    defunc_0_reduce_res_179360 = 0.0;
                }
                
                int64_t distance_179394 = add64((int64_t) 1, tmp_179392);
                int64_t binop_x_181474 = (int64_t) 8 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181475 = block_sizze_179338 * binop_x_181474;
                int64_t bytes_181493 = (int64_t) 8 * block_sizze_179338;
                bool loop_cond_179520 = slt64(block_sizze_179338, flat_dim_179339);
                bool zzero_179521 = merge_block_sizze_179344 == (int64_t) 0;
                bool nonzzero_179522 = !zzero_179521;
                
                if (cond_179322) {
                    if (memblock_set(ctx, &ext_mem_181766, &mem_181467, "mem_181467") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &mem_181469, "mem_181469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &mem_181471, "mem_181471") != 0)
                        return 1;
                } else {
                    if (mem_181473_cached_sizze_182816 < flat_dim_179339) {
                        err = lexical_realloc(ctx, &mem_181473, &mem_181473_cached_sizze_182816, flat_dim_179339);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182817 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182817, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181479_cached_sizze_182818 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181479, &mem_181479_cached_sizze_182818, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181492_cached_sizze_182819 < block_sizze_179338) {
                        err = lexical_realloc(ctx, &mem_181492, &mem_181492_cached_sizze_182819, block_sizze_179338);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181494_cached_sizze_182820 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181494, &mem_181494_cached_sizze_182820, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181496_cached_sizze_182821 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182821, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180739 = 0; i_180739 < smallest_pow_2_geq_than_res_179328; i_180739++) {
                        int64_t zp_lhs_179402 = mul64(block_sizze_179338, i_180739);
                        
                        for (int64_t i_180729 = 0; i_180729 < block_sizze_179338; i_180729++) {
                            int64_t k_179407 = add64(zp_lhs_179402, i_180729);
                            bool cond_179408 = slt64(k_179407, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                            int8_t lifted_lambda_res_179409;
                            int64_t lifted_lambda_res_179410;
                            double lifted_lambda_res_179411;
                            
                            if (cond_179408) {
                                bool x_179412 = sle64((int64_t) 0, k_179407);
                                bool bounds_check_179413 = cond_179408 && x_179412;
                                bool index_certs_179414;
                                
                                if (!bounds_check_179413) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179415 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, k_179407);
                                int8_t index_concat_branch_179416 = btoi_bool_i8(index_concat_cmp_179415);
                                int64_t index_concat_branch_179417;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179418 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t index_primexp_179419 = add64(index_concat_branch_179262, index_concat_i_179418);
                                    
                                    index_concat_branch_179417 = index_primexp_179419;
                                } else {
                                    int64_t index_primexp_179420 = add64(index_concat_branch_179259, k_179407);
                                    
                                    index_concat_branch_179417 = index_primexp_179420;
                                }
                                
                                double index_concat_branch_179421;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179422 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t slice_179423 = index_concat_branch_179262 + index_concat_i_179422;
                                    int64_t slice_179424 = p_175563 + slice_179423;
                                    double index_concat_179425 = ((double *) b_list_mem_181053.mem)[slice_179424];
                                    
                                    index_concat_branch_179421 = index_concat_179425;
                                } else {
                                    int64_t slice_179426 = index_concat_branch_179259 + k_179407;
                                    int64_t slice_179427 = p_175562 + slice_179426;
                                    double index_concat_179428 = ((double *) a_list_mem_181052.mem)[slice_179427];
                                    
                                    index_concat_branch_179421 = index_concat_179428;
                                }
                                lifted_lambda_res_179409 = index_concat_branch_179416;
                                lifted_lambda_res_179410 = index_concat_branch_179417;
                                lifted_lambda_res_179411 = index_concat_branch_179421;
                            } else {
                                lifted_lambda_res_179409 = defunc_0_reduce_res_179358;
                                lifted_lambda_res_179410 = defunc_0_reduce_res_179359;
                                lifted_lambda_res_179411 = defunc_0_reduce_res_179360;
                            }
                            ((int8_t *) mem_181492)[i_180729] = lifted_lambda_res_179409;
                            ((int64_t *) mem_181494)[i_180729] = lifted_lambda_res_179410;
                            ((double *) mem_181496)[i_180729] = lifted_lambda_res_179411;
                        }
                        if (!cond_179391) {
                            for (int64_t i_179438 = 0; i_179438 < distance_179394; i_179438++) {
                                int64_t gt_arg1_179442 = add64((int64_t) 1, i_179438);
                                bool x_179443 = sle64((int64_t) 0, gt_arg1_179442);
                                bool y_179444 = slt64(gt_arg1_179442, block_sizze_179338);
                                bool bounds_check_179445 = x_179443 && y_179444;
                                bool index_certs_179446;
                                
                                if (!bounds_check_179445) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179442, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179450 = slt64(i_179438, block_sizze_179338);
                                bool index_certs_179451;
                                
                                if (!y_179450) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179438, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179447 = ((int8_t *) mem_181492)[gt_arg1_179442];
                                int64_t gt_arg1_179448 = ((int64_t *) mem_181494)[gt_arg1_179442];
                                double gt_arg1_179449 = ((double *) mem_181496)[gt_arg1_179442];
                                int8_t gt_arg0_179452 = ((int8_t *) mem_181492)[i_179438];
                                int64_t gt_arg0_179453 = ((int64_t *) mem_181494)[i_179438];
                                double gt_arg0_179454 = ((double *) mem_181496)[i_179438];
                                bool cond_179455 = gt_arg0_179452 == gt_arg1_179447;
                                bool defunc_0_leq_res_t_res_179456 = sle64(gt_arg0_179453, gt_arg1_179448);
                                bool defunc_0_leq_res_179457 = gt_arg0_179454 <= gt_arg1_179449;
                                bool x_179458 = cond_179455 && defunc_0_leq_res_t_res_179456;
                                bool x_179459 = !cond_179455;
                                bool y_179460 = defunc_0_leq_res_179457 && x_179459;
                                bool defunc_0_leq_res_179461 = x_179458 || y_179460;
                                bool defunc_0_lifted_gt_res_179462 = !defunc_0_leq_res_179461;
                                bool s_179463;
                                int64_t s_179467;
                                bool loop_while_179468;
                                int64_t j_179472;
                                
                                loop_while_179468 = defunc_0_lifted_gt_res_179462;
                                j_179472 = i_179438;
                                while (loop_while_179468) {
                                    bool x_179473 = sle64((int64_t) 0, j_179472);
                                    bool y_179474 = slt64(j_179472, block_sizze_179338);
                                    bool bounds_check_179475 = x_179473 && y_179474;
                                    bool index_certs_179476;
                                    
                                    if (!bounds_check_179475) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179472, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179480 = add64((int64_t) 1, j_179472);
                                    bool x_179481 = sle64((int64_t) 0, copy_arg0_179480);
                                    bool y_179482 = slt64(copy_arg0_179480, block_sizze_179338);
                                    bool bounds_check_179483 = x_179481 && y_179482;
                                    bool index_certs_179484;
                                    
                                    if (!bounds_check_179483) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179480, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179477 = ((int8_t *) mem_181492)[j_179472];
                                    int64_t copy_arg0_179478 = ((int64_t *) mem_181494)[j_179472];
                                    double copy_arg0_179479 = ((double *) mem_181496)[j_179472];
                                    int8_t copy_arg0_179485 = ((int8_t *) mem_181492)[copy_arg0_179480];
                                    int64_t copy_arg0_179486 = ((int64_t *) mem_181494)[copy_arg0_179480];
                                    double copy_arg0_179487 = ((double *) mem_181496)[copy_arg0_179480];
                                    
                                    ((int8_t *) mem_181492)[j_179472] = copy_arg0_179485;
                                    ((int64_t *) mem_181494)[j_179472] = copy_arg0_179486;
                                    ((double *) mem_181496)[j_179472] = copy_arg0_179487;
                                    ((int8_t *) mem_181492)[copy_arg0_179480] = copy_arg0_179477;
                                    ((int64_t *) mem_181494)[copy_arg0_179480] = copy_arg0_179478;
                                    ((double *) mem_181496)[copy_arg0_179480] = copy_arg0_179479;
                                    
                                    int64_t tmp_179494 = sub64(j_179472, (int64_t) 1);
                                    bool cond_179495 = sle64((int64_t) 0, tmp_179494);
                                    bool loop_cond_179496;
                                    
                                    if (cond_179495) {
                                        bool y_179500 = slt64(tmp_179494, block_sizze_179338);
                                        bool bounds_check_179501 = cond_179495 && y_179500;
                                        bool index_certs_179502;
                                        
                                        if (!bounds_check_179501) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179494, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179497 = ((int8_t *) mem_181492)[j_179472];
                                        int64_t gt_arg1_179498 = ((int64_t *) mem_181494)[j_179472];
                                        double gt_arg1_179499 = ((double *) mem_181496)[j_179472];
                                        int8_t gt_arg0_179503 = ((int8_t *) mem_181492)[tmp_179494];
                                        int64_t gt_arg0_179504 = ((int64_t *) mem_181494)[tmp_179494];
                                        double gt_arg0_179505 = ((double *) mem_181496)[tmp_179494];
                                        bool cond_179506 = gt_arg0_179503 == gt_arg1_179497;
                                        bool defunc_0_leq_res_t_res_179507 = sle64(gt_arg0_179504, gt_arg1_179498);
                                        bool defunc_0_leq_res_179508 = gt_arg0_179505 <= gt_arg1_179499;
                                        bool x_179509 = cond_179506 && defunc_0_leq_res_t_res_179507;
                                        bool x_179510 = !cond_179506;
                                        bool y_179511 = defunc_0_leq_res_179508 && x_179510;
                                        bool defunc_0_leq_res_179512 = x_179509 || y_179511;
                                        bool defunc_0_lifted_gt_res_179513 = !defunc_0_leq_res_179512;
                                        
                                        loop_cond_179496 = defunc_0_lifted_gt_res_179513;
                                    } else {
                                        loop_cond_179496 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182523 = loop_cond_179496;
                                    int64_t j_tmp_182527 = tmp_179494;
                                    
                                    loop_while_179468 = loop_while_tmp_182523;
                                    j_179472 = j_tmp_182527;
                                }
                                s_179463 = loop_while_179468;
                                s_179467 = j_179472;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181473, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181492, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181476, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181494, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181479, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181496, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                    }
                    if (memblock_alloc(ctx, &mem_181573, flat_dim_179339, "mem_181573")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181573.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint8_t *) mem_181473, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181577, bytes_181475, "mem_181577")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181577.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181581, bytes_181475, "mem_181581")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181581.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181479, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    
                    int64_t data_179523;
                    bool data_179524;
                    int64_t data_179528;
                    int64_t loop_dz2084Uz2082U_179529;
                    bool loop_while_179530;
                    int64_t stride_179534;
                    
                    if (memblock_set(ctx, &mem_param_181585, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181588, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181591, &mem_181581, "mem_181581") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179529 = flat_dim_179339;
                    loop_while_179530 = loop_cond_179520;
                    stride_179534 = block_sizze_179338;
                    while (loop_while_179530) {
                        int64_t next_stride_179535 = mul64((int64_t) 2, stride_179534);
                        bool zzero_179536 = next_stride_179535 == (int64_t) 0;
                        bool nonzzero_179537 = !zzero_179536;
                        bool nonzzero_cert_179538;
                        
                        if (!nonzzero_179537) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179539 = sdiv64(flat_dim_179339, next_stride_179535);
                        bool bounds_invalid_upwards_179540 = slt64(num_merges_179539, (int64_t) 0);
                        bool valid_179541 = !bounds_invalid_upwards_179540;
                        bool range_valid_c_179542;
                        
                        if (!valid_179541) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179539, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179544 = sub64(next_stride_179535, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179545 = sle64((int64_t) 0, m_179544);
                        bool cond_179547 = slt64(next_stride_179535, (int64_t) 10);
                        bool protect_assert_disj_179548 = nonzzero_179522 || cond_179547;
                        bool nonzzero_cert_179549;
                        
                        if (!protect_assert_disj_179548) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179550 = smod_safe64(next_stride_179535, merge_block_sizze_179344);
                        bool num_blocks_179551 = zeze_lhs_179550 == (int64_t) 0;
                        bool protect_assert_disj_179552 = cond_179547 || num_blocks_179551;
                        bool assert_c_179553;
                        
                        if (!protect_assert_disj_179552) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179554 = sdiv_safe64(next_stride_179535, merge_block_sizze_179344);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555 = add64((int64_t) 1, num_blocks_179554);
                        int64_t j_m_i_179556 = sub64(next_stride_179535, stride_179534);
                        int64_t flat_dim_179557 = merge_block_sizze_179344 * num_blocks_179554;
                        bool bounds_invalid_upwards_179558 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, (int64_t) 0);
                        bool empty_slice_179559 = j_m_i_179556 == (int64_t) 0;
                        int64_t m_179560 = sub64(j_m_i_179556, (int64_t) 1);
                        bool zzero_lte_i_179561 = sle64((int64_t) 0, stride_179534);
                        bool i_lte_j_179562 = sle64(stride_179534, next_stride_179535);
                        bool empty_slice_179563 = stride_179534 == (int64_t) 0;
                        int64_t m_179564 = sub64(stride_179534, (int64_t) 1);
                        bool bounds_invalid_upwards_179565 = slt64(num_blocks_179554, (int64_t) 0);
                        bool cond_179566 = slt64((int64_t) 0, stride_179534);
                        bool valid_179567 = !bounds_invalid_upwards_179558;
                        int64_t i_p_m_t_s_179568 = add64(stride_179534, m_179560);
                        bool zzero_leq_i_p_m_t_s_179569 = sle64((int64_t) 0, m_179564);
                        bool i_p_m_t_s_leq_w_179570 = slt64(m_179564, next_stride_179535);
                        bool valid_179571 = !bounds_invalid_upwards_179565;
                        bool i_p_m_t_s_leq_w_179572 = slt64(m_179544, flat_dim_179557);
                        bool y_179573 = slt64((int64_t) 0, j_m_i_179556);
                        bool protect_assert_disj_179574 = cond_179547 || valid_179567;
                        bool range_valid_c_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179576 = sle64((int64_t) 0, i_p_m_t_s_179568);
                        bool i_p_m_t_s_leq_w_179577 = slt64(i_p_m_t_s_179568, next_stride_179535);
                        bool y_179578 = zzero_leq_i_p_m_t_s_179569 && i_p_m_t_s_leq_w_179570;
                        bool protect_assert_disj_179579 = cond_179547 || valid_179571;
                        bool range_valid_c_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179554, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179581 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179572;
                        bool y_179582 = zzero_lte_i_179561 && i_p_m_t_s_leq_w_179577;
                        bool forwards_ok_179583 = zzero_lte_i_179561 && y_179578;
                        bool ok_or_empty_179584 = zzero_179536 || y_179581;
                        bool protect_assert_disj_179585 = cond_179566 || y_179573;
                        bool y_179586 = zzero_leq_i_p_m_t_s_179576 && y_179582;
                        bool ok_or_empty_179587 = empty_slice_179563 || forwards_ok_179583;
                        bool protect_assert_disj_179588 = cond_179547 || ok_or_empty_179584;
                        bool index_certs_179589;
                        
                        if (!protect_assert_disj_179588) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) flat_dim_179557, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179590 = !cond_179547;
                        bool protect_assert_disj_179591 = protect_assert_disj_179585 || loop_not_taken_179590;
                        bool index_certs_179592;
                        
                        if (!protect_assert_disj_179591) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179593 = i_lte_j_179562 && y_179586;
                        bool protect_assert_disj_179594 = cond_179547 || ok_or_empty_179587;
                        bool index_certs_179595;
                        
                        if (!protect_assert_disj_179594) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179596 = ok_or_empty_179587 || loop_not_taken_179590;
                        bool index_certs_179597;
                        
                        if (!protect_assert_disj_179596) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179598 = empty_slice_179559 || forwards_ok_179593;
                        bool protect_assert_disj_179599 = cond_179547 || ok_or_empty_179598;
                        bool index_certs_179600;
                        
                        if (!protect_assert_disj_179599) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179601 = loop_not_taken_179590 || ok_or_empty_179598;
                        bool index_certs_179602;
                        
                        if (!protect_assert_disj_179601) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181592 = next_stride_179535 * num_merges_179539;
                        int64_t binop_x_181594 = (int64_t) 8 * num_merges_179539;
                        int64_t bytes_181595 = next_stride_179535 * binop_x_181594;
                        bool i_lte_j_179546 = sle64((int64_t) 0, next_stride_179535);
                        
                        if (mem_181593_cached_sizze_182822 < bytes_181592) {
                            err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182822, bytes_181592);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181596_cached_sizze_182823 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181596, &mem_181596_cached_sizze_182823, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181599_cached_sizze_182824 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181599, &mem_181599_cached_sizze_182824, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181612 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555;
                        int64_t binop_x_181630 = (int64_t) 8 * num_blocks_179554;
                        int64_t bytes_181631 = merge_block_sizze_179344 * binop_x_181630;
                        int64_t bytes_181695 = (int64_t) 16 * stride_179534;
                        
                        for (int64_t i_180766 = 0; i_180766 < num_merges_179539; i_180766++) {
                            int64_t start_179607 = mul64(next_stride_179535, i_180766);
                            int64_t j_m_i_179608 = sub64(loop_dz2084Uz2082U_179529, start_179607);
                            bool empty_slice_179609 = j_m_i_179608 == (int64_t) 0;
                            int64_t m_179610 = sub64(j_m_i_179608, (int64_t) 1);
                            int64_t i_p_m_t_s_179611 = add64(start_179607, m_179610);
                            bool zzero_leq_i_p_m_t_s_179612 = sle64((int64_t) 0, i_p_m_t_s_179611);
                            bool i_p_m_t_s_leq_w_179613 = slt64(i_p_m_t_s_179611, loop_dz2084Uz2082U_179529);
                            bool zzero_lte_i_179614 = sle64((int64_t) 0, start_179607);
                            bool i_lte_j_179615 = sle64(start_179607, loop_dz2084Uz2082U_179529);
                            bool y_179616 = i_p_m_t_s_leq_w_179613 && zzero_lte_i_179614;
                            bool y_179617 = zzero_leq_i_p_m_t_s_179612 && y_179616;
                            bool forwards_ok_179618 = i_lte_j_179615 && y_179617;
                            bool ok_or_empty_179619 = empty_slice_179609 || forwards_ok_179618;
                            bool index_certs_179620;
                            
                            if (!ok_or_empty_179619) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179607, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179529, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179621 = slt64(m_179544, j_m_i_179608);
                            bool y_179622 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179621;
                            bool forwards_ok_179623 = i_lte_j_179546 && y_179622;
                            bool ok_or_empty_179624 = zzero_179536 || forwards_ok_179623;
                            bool index_certs_179625;
                            
                            if (!ok_or_empty_179624) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) j_m_i_179608, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179547) {
                                int8_t dummy_179629;
                                int64_t dummy_179630;
                                double dummy_179631;
                                
                                if (cond_179566) {
                                    int8_t head_res_179632 = ((int8_t *) mem_param_181585.mem)[start_179607];
                                    int64_t head_res_179633 = ((int64_t *) mem_param_181588.mem)[start_179607];
                                    double head_res_179634 = ((double *) mem_param_181591.mem)[start_179607];
                                    
                                    dummy_179629 = head_res_179632;
                                    dummy_179630 = head_res_179633;
                                    dummy_179631 = head_res_179634;
                                } else {
                                    int64_t slice_179635 = stride_179534 + start_179607;
                                    int8_t head_res_179636 = ((int8_t *) mem_param_181585.mem)[slice_179635];
                                    int64_t head_res_179637 = ((int64_t *) mem_param_181588.mem)[slice_179635];
                                    double head_res_179638 = ((double *) mem_param_181591.mem)[slice_179635];
                                    
                                    dummy_179629 = head_res_179636;
                                    dummy_179630 = head_res_179637;
                                    dummy_179631 = head_res_179638;
                                }
                                if (memblock_alloc(ctx, &mem_181694, next_stride_179535, "mem_181694")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182540 = 0; nest_i_182540 < next_stride_179535; nest_i_182540++) {
                                    ((int8_t *) mem_181694.mem)[nest_i_182540] = dummy_179629;
                                }
                                if (memblock_alloc(ctx, &mem_181696, bytes_181695, "mem_181696")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182541 = 0; nest_i_182541 < next_stride_179535; nest_i_182541++) {
                                    ((int64_t *) mem_181696.mem)[nest_i_182541] = dummy_179630;
                                }
                                if (memblock_alloc(ctx, &mem_181698, bytes_181695, "mem_181698")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182542 = 0; nest_i_182542 < next_stride_179535; nest_i_182542++) {
                                    ((double *) mem_181698.mem)[nest_i_182542] = dummy_179631;
                                }
                                
                                int64_t data_179642;
                                int64_t i_179647 = (int64_t) 0;
                                
                                for (int64_t k_179646 = 0; k_179646 < next_stride_179535; k_179646++) {
                                    int64_t j_179651 = sub64(k_179646, i_179647);
                                    bool cond_179652 = j_179651 == j_m_i_179556;
                                    bool cond_179653;
                                    
                                    if (cond_179652) {
                                        cond_179653 = 1;
                                    } else {
                                        bool cond_179654 = slt64(i_179647, stride_179534);
                                        bool cond_f_res_179655;
                                        
                                        if (cond_179654) {
                                            bool x_179656 = sle64((int64_t) 0, j_179651);
                                            bool y_179657 = slt64(j_179651, j_m_i_179556);
                                            bool bounds_check_179658 = x_179656 && y_179657;
                                            bool index_certs_179659;
                                            
                                            if (!bounds_check_179658) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179665 = sle64((int64_t) 0, i_179647);
                                            bool bounds_check_179666 = cond_179654 && x_179665;
                                            bool index_certs_179667;
                                            
                                            if (!bounds_check_179666) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179660 = stride_179534 + j_179651;
                                            int64_t slice_179661 = start_179607 + slice_179660;
                                            int8_t leq_arg1_179662 = ((int8_t *) mem_param_181585.mem)[slice_179661];
                                            int64_t leq_arg1_179663 = ((int64_t *) mem_param_181588.mem)[slice_179661];
                                            double leq_arg1_179664 = ((double *) mem_param_181591.mem)[slice_179661];
                                            int64_t slice_179668 = start_179607 + i_179647;
                                            int8_t leq_arg0_179669 = ((int8_t *) mem_param_181585.mem)[slice_179668];
                                            int64_t leq_arg0_179670 = ((int64_t *) mem_param_181588.mem)[slice_179668];
                                            double leq_arg0_179671 = ((double *) mem_param_181591.mem)[slice_179668];
                                            bool cond_179672 = leq_arg0_179669 == leq_arg1_179662;
                                            bool defunc_0_leq_res_t_res_179673 = sle64(leq_arg0_179670, leq_arg1_179663);
                                            bool defunc_0_leq_res_179674 = leq_arg0_179671 <= leq_arg1_179664;
                                            bool x_179675 = cond_179672 && defunc_0_leq_res_t_res_179673;
                                            bool x_179676 = !cond_179672;
                                            bool y_179677 = defunc_0_leq_res_179674 && x_179676;
                                            bool defunc_0_leq_res_179678 = x_179675 || y_179677;
                                            
                                            cond_f_res_179655 = defunc_0_leq_res_179678;
                                        } else {
                                            cond_f_res_179655 = 0;
                                        }
                                        cond_179653 = cond_f_res_179655;
                                    }
                                    
                                    int64_t loopres_179679;
                                    int8_t loopres_179680;
                                    int64_t loopres_179681;
                                    double loopres_179682;
                                    
                                    if (cond_179653) {
                                        bool x_179684 = sle64((int64_t) 0, i_179647);
                                        bool y_179685 = slt64(i_179647, stride_179534);
                                        bool bounds_check_179686 = x_179684 && y_179685;
                                        bool index_certs_179687;
                                        
                                        if (!bounds_check_179686) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179683 = add64((int64_t) 1, i_179647);
                                        int64_t slice_179688 = start_179607 + i_179647;
                                        int8_t tmp_179689 = ((int8_t *) mem_param_181585.mem)[slice_179688];
                                        int64_t tmp_179690 = ((int64_t *) mem_param_181588.mem)[slice_179688];
                                        double tmp_179691 = ((double *) mem_param_181591.mem)[slice_179688];
                                        
                                        loopres_179679 = tmp_179683;
                                        loopres_179680 = tmp_179689;
                                        loopres_179681 = tmp_179690;
                                        loopres_179682 = tmp_179691;
                                    } else {
                                        bool x_179692 = sle64((int64_t) 0, j_179651);
                                        bool y_179693 = slt64(j_179651, j_m_i_179556);
                                        bool bounds_check_179694 = x_179692 && y_179693;
                                        bool index_certs_179695;
                                        
                                        if (!bounds_check_179694) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179696 = stride_179534 + j_179651;
                                        int64_t slice_179697 = start_179607 + slice_179696;
                                        int8_t tmp_179698 = ((int8_t *) mem_param_181585.mem)[slice_179697];
                                        int64_t tmp_179699 = ((int64_t *) mem_param_181588.mem)[slice_179697];
                                        double tmp_179700 = ((double *) mem_param_181591.mem)[slice_179697];
                                        
                                        loopres_179679 = i_179647;
                                        loopres_179680 = tmp_179698;
                                        loopres_179681 = tmp_179699;
                                        loopres_179682 = tmp_179700;
                                    }
                                    ((int8_t *) mem_181694.mem)[k_179646] = loopres_179680;
                                    ((int64_t *) mem_181696.mem)[k_179646] = loopres_179681;
                                    ((double *) mem_181698.mem)[k_179646] = loopres_179682;
                                    
                                    int64_t i_tmp_182543 = loopres_179679;
                                    
                                    i_179647 = i_tmp_182543;
                                }
                                data_179642 = i_179647;
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181694, "mem_181694") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181696, "mem_181696") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181698, "mem_181698") != 0)
                                    return 1;
                            } else {
                                if (mem_181613_cached_sizze_182825 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181613, &mem_181613_cached_sizze_182825, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182826 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182826, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180747 = 0; i_180747 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555; i_180747++) {
                                    int64_t split_count_arg3_179708 = mul64(merge_block_sizze_179344, i_180747);
                                    int64_t defunc_0_split_count_res_179709;
                                    int64_t defunc_0_split_count_res_179710;
                                    int64_t defunc_0_split_count_res_179711;
                                    int64_t defunc_0_split_count_res_179712;
                                    int64_t defunc_0_split_count_res_179713;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_179709, &defunc_0_split_count_res_179710, &defunc_0_split_count_res_179711, &defunc_0_split_count_res_179712, &defunc_0_split_count_res_179713, (int64_t) 0, stride_179534, (int64_t) 0, j_m_i_179556, split_count_arg3_179708) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179714 = slt64((int64_t) 0, defunc_0_split_count_res_179713);
                                    bool defunc_0_split_count_res_179715;
                                    int64_t defunc_0_split_count_res_179716;
                                    int64_t defunc_0_split_count_res_179717;
                                    int64_t defunc_0_split_count_res_179718;
                                    int64_t defunc_0_split_count_res_179719;
                                    int64_t defunc_0_split_count_res_179720;
                                    bool loop_while_179721;
                                    int64_t ss_179722;
                                    int64_t ss_179723;
                                    int64_t tt_179724;
                                    int64_t tt_179725;
                                    int64_t count_179726;
                                    
                                    loop_while_179721 = loop_cond_179714;
                                    ss_179722 = defunc_0_split_count_res_179709;
                                    ss_179723 = defunc_0_split_count_res_179710;
                                    tt_179724 = defunc_0_split_count_res_179711;
                                    tt_179725 = defunc_0_split_count_res_179712;
                                    count_179726 = defunc_0_split_count_res_179713;
                                    while (loop_while_179721) {
                                        int64_t zlze_lhs_179727 = sub64(ss_179723, ss_179722);
                                        bool cond_179728 = sle64(zlze_lhs_179727, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179729;
                                        int64_t defunc_0_lifted_step_res_179730;
                                        int64_t defunc_0_lifted_step_res_179731;
                                        int64_t defunc_0_lifted_step_res_179732;
                                        
                                        if (cond_179728) {
                                            int64_t tmp_179733 = add64(tt_179724, count_179726);
                                            
                                            defunc_0_lifted_step_res_179729 = ss_179722;
                                            defunc_0_lifted_step_res_179730 = tmp_179733;
                                            defunc_0_lifted_step_res_179731 = tt_179725;
                                            defunc_0_lifted_step_res_179732 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179734 = sub64(tt_179725, tt_179724);
                                            bool cond_179735 = sle64(zlze_lhs_179734, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179736;
                                            int64_t defunc_0_lifted_step_res_f_res_179737;
                                            int64_t defunc_0_lifted_step_res_f_res_179738;
                                            int64_t defunc_0_lifted_step_res_f_res_179739;
                                            
                                            if (cond_179735) {
                                                int64_t tmp_179740 = add64(ss_179722, count_179726);
                                                
                                                defunc_0_lifted_step_res_f_res_179736 = tmp_179740;
                                                defunc_0_lifted_step_res_f_res_179737 = tt_179724;
                                                defunc_0_lifted_step_res_f_res_179738 = tt_179725;
                                                defunc_0_lifted_step_res_f_res_179739 = (int64_t) 0;
                                            } else {
                                                bool cond_179741 = count_179726 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179742;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179743;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179744;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179745;
                                                
                                                if (cond_179741) {
                                                    bool x_179746 = sle64((int64_t) 0, ss_179722);
                                                    bool y_179747 = slt64(ss_179722, stride_179534);
                                                    bool bounds_check_179748 = x_179746 && y_179747;
                                                    bool index_certs_179749;
                                                    
                                                    if (!bounds_check_179748) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179722, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179754 = sle64((int64_t) 0, tt_179724);
                                                    bool y_179755 = slt64(tt_179724, j_m_i_179556);
                                                    bool bounds_check_179756 = x_179754 && y_179755;
                                                    bool index_certs_179757;
                                                    
                                                    if (!bounds_check_179756) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179724, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179750 = start_179607 + ss_179722;
                                                    int8_t leq_arg1_179751 = ((int8_t *) mem_param_181585.mem)[slice_179750];
                                                    int64_t leq_arg1_179752 = ((int64_t *) mem_param_181588.mem)[slice_179750];
                                                    double leq_arg1_179753 = ((double *) mem_param_181591.mem)[slice_179750];
                                                    int64_t slice_179758 = stride_179534 + tt_179724;
                                                    int64_t slice_179759 = start_179607 + slice_179758;
                                                    int8_t leq_arg0_179760 = ((int8_t *) mem_param_181585.mem)[slice_179759];
                                                    int64_t leq_arg0_179761 = ((int64_t *) mem_param_181588.mem)[slice_179759];
                                                    double leq_arg0_179762 = ((double *) mem_param_181591.mem)[slice_179759];
                                                    bool cond_179763 = leq_arg0_179760 == leq_arg1_179751;
                                                    bool defunc_0_leq_res_t_res_179764 = sle64(leq_arg0_179761, leq_arg1_179752);
                                                    bool defunc_0_leq_res_179765 = leq_arg0_179762 <= leq_arg1_179753;
                                                    bool x_179766 = cond_179763 && defunc_0_leq_res_t_res_179764;
                                                    bool x_179767 = !cond_179763;
                                                    bool y_179768 = defunc_0_leq_res_179765 && x_179767;
                                                    bool defunc_0_leq_res_179769 = x_179766 || y_179768;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    
                                                    if (defunc_0_leq_res_179769) {
                                                        int64_t tmp_179772 = add64((int64_t) 1, tt_179724);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = ss_179722;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tmp_179772;
                                                    } else {
                                                        int64_t tmp_179773 = add64((int64_t) 1, ss_179722);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = tmp_179773;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tt_179724;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = tt_179725;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179774 = sdiv64(count_179726, (int64_t) 2);
                                                    int64_t n_179775 = sub64(count_179726, m_179774);
                                                    bool cond_179776 = n_179775 == (int64_t) 0;
                                                    int64_t zgze_lhs_179777 = add64(ss_179722, m_179774);
                                                    bool cond_f_res_179778 = sle64(ss_179723, zgze_lhs_179777);
                                                    bool x_179779 = !cond_179776;
                                                    bool y_179780 = cond_f_res_179778 && x_179779;
                                                    bool cond_179781 = cond_179776 || y_179780;
                                                    bool leq_y_x_179782;
                                                    
                                                    if (cond_179781) {
                                                        leq_y_x_179782 = 1;
                                                    } else {
                                                        bool x_179783 = sle64((int64_t) 0, zgze_lhs_179777);
                                                        bool y_179784 = slt64(zgze_lhs_179777, stride_179534);
                                                        bool bounds_check_179785 = x_179783 && y_179784;
                                                        bool index_certs_179786;
                                                        
                                                        if (!bounds_check_179785) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179777, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179791 = add64(tt_179724, n_179775);
                                                        int64_t leq_arg0_179792 = sub64(zm_lhs_179791, (int64_t) 1);
                                                        bool x_179793 = sle64((int64_t) 0, leq_arg0_179792);
                                                        bool y_179794 = slt64(leq_arg0_179792, j_m_i_179556);
                                                        bool bounds_check_179795 = x_179793 && y_179794;
                                                        bool index_certs_179796;
                                                        
                                                        if (!bounds_check_179795) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179792, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179787 = start_179607 + zgze_lhs_179777;
                                                        int8_t leq_arg1_179788 = ((int8_t *) mem_param_181585.mem)[slice_179787];
                                                        int64_t leq_arg1_179789 = ((int64_t *) mem_param_181588.mem)[slice_179787];
                                                        double leq_arg1_179790 = ((double *) mem_param_181591.mem)[slice_179787];
                                                        int64_t slice_179797 = stride_179534 + leq_arg0_179792;
                                                        int64_t slice_179798 = start_179607 + slice_179797;
                                                        int8_t leq_arg0_179799 = ((int8_t *) mem_param_181585.mem)[slice_179798];
                                                        int64_t leq_arg0_179800 = ((int64_t *) mem_param_181588.mem)[slice_179798];
                                                        double leq_arg0_179801 = ((double *) mem_param_181591.mem)[slice_179798];
                                                        bool cond_179802 = leq_arg0_179799 == leq_arg1_179788;
                                                        bool defunc_0_leq_res_t_res_179803 = sle64(leq_arg0_179800, leq_arg1_179789);
                                                        bool defunc_0_leq_res_179804 = leq_arg0_179801 <= leq_arg1_179790;
                                                        bool x_179805 = cond_179802 && defunc_0_leq_res_t_res_179803;
                                                        bool x_179806 = !cond_179802;
                                                        bool y_179807 = defunc_0_leq_res_179804 && x_179806;
                                                        bool defunc_0_leq_res_179808 = x_179805 || y_179807;
                                                        
                                                        leq_y_x_179782 = defunc_0_leq_res_179808;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                    
                                                    if (leq_y_x_179782) {
                                                        int64_t tmp_179812 = add64(tt_179724, n_179775);
                                                        int64_t tmp_179813 = sub64(count_179726, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tmp_179812;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tt_179725;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = tmp_179813;
                                                    } else {
                                                        int64_t tmp_179814 = add64(tt_179724, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tt_179724;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tmp_179814;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = count_179726;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = ss_179722;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                }
                                                defunc_0_lifted_step_res_f_res_179736 = defunc_0_lifted_step_res_f_res_f_res_179742;
                                                defunc_0_lifted_step_res_f_res_179737 = defunc_0_lifted_step_res_f_res_f_res_179743;
                                                defunc_0_lifted_step_res_f_res_179738 = defunc_0_lifted_step_res_f_res_f_res_179744;
                                                defunc_0_lifted_step_res_f_res_179739 = defunc_0_lifted_step_res_f_res_f_res_179745;
                                            }
                                            defunc_0_lifted_step_res_179729 = defunc_0_lifted_step_res_f_res_179736;
                                            defunc_0_lifted_step_res_179730 = defunc_0_lifted_step_res_f_res_179737;
                                            defunc_0_lifted_step_res_179731 = defunc_0_lifted_step_res_f_res_179738;
                                            defunc_0_lifted_step_res_179732 = defunc_0_lifted_step_res_f_res_179739;
                                        }
                                        
                                        int64_t loopres_179815;
                                        int64_t loopres_179816;
                                        int64_t loopres_179817;
                                        int64_t loopres_179818;
                                        int64_t loopres_179819;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_179815, &loopres_179816, &loopres_179817, &loopres_179818, &loopres_179819, defunc_0_lifted_step_res_179729, ss_179723, defunc_0_lifted_step_res_179730, defunc_0_lifted_step_res_179731, defunc_0_lifted_step_res_179732) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179820 = slt64((int64_t) 0, loopres_179819);
                                        bool loop_while_tmp_182549 = loop_cond_179820;
                                        int64_t ss_tmp_182550 = loopres_179815;
                                        int64_t ss_tmp_182551 = loopres_179816;
                                        int64_t tt_tmp_182552 = loopres_179817;
                                        int64_t tt_tmp_182553 = loopres_179818;
                                        int64_t count_tmp_182554 = loopres_179819;
                                        
                                        loop_while_179721 = loop_while_tmp_182549;
                                        ss_179722 = ss_tmp_182550;
                                        ss_179723 = ss_tmp_182551;
                                        tt_179724 = tt_tmp_182552;
                                        tt_179725 = tt_tmp_182553;
                                        count_179726 = count_tmp_182554;
                                    }
                                    defunc_0_split_count_res_179715 = loop_while_179721;
                                    defunc_0_split_count_res_179716 = ss_179722;
                                    defunc_0_split_count_res_179717 = ss_179723;
                                    defunc_0_split_count_res_179718 = tt_179724;
                                    defunc_0_split_count_res_179719 = tt_179725;
                                    defunc_0_split_count_res_179720 = count_179726;
                                    ((int64_t *) mem_181613)[i_180747] = defunc_0_split_count_res_179716;
                                    ((int64_t *) mem_181615)[i_180747] = defunc_0_split_count_res_179718;
                                }
                                if (mem_181629_cached_sizze_182827 < flat_dim_179557) {
                                    err = lexical_realloc(ctx, &mem_181629, &mem_181629_cached_sizze_182827, flat_dim_179557);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181632_cached_sizze_182828 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181632, &mem_181632_cached_sizze_182828, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181635_cached_sizze_182829 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181635, &mem_181635_cached_sizze_182829, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180756 = 0; i_180756 < num_blocks_179554; i_180756++) {
                                    bool y_179829 = slt64(i_180756, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool index_certs_179831;
                                    
                                    if (!y_179829) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179832 = ((int64_t *) mem_181613)[i_180756];
                                    int64_t defunc_0_f_res_179833 = ((int64_t *) mem_181615)[i_180756];
                                    int64_t tmp_179834 = add64((int64_t) 1, i_180756);
                                    bool x_179835 = sle64((int64_t) 0, tmp_179834);
                                    bool y_179836 = slt64(tmp_179834, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool bounds_check_179837 = x_179835 && y_179836;
                                    bool index_certs_179838;
                                    
                                    if (!bounds_check_179837) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179839 = ((int64_t *) mem_181613)[tmp_179834];
                                    int64_t defunc_0_f_res_179840 = ((int64_t *) mem_181615)[tmp_179834];
                                    int64_t merge_sequential_arg2_179841 = add64(stride_179534, defunc_0_f_res_179833);
                                    int64_t merge_sequential_arg2_179842 = add64(stride_179534, defunc_0_f_res_179840);
                                    int64_t j_m_i_179843 = sub64(merge_sequential_arg2_179842, merge_sequential_arg2_179841);
                                    bool empty_slice_179844 = j_m_i_179843 == (int64_t) 0;
                                    int64_t m_179845 = sub64(j_m_i_179843, (int64_t) 1);
                                    int64_t i_p_m_t_s_179846 = add64(merge_sequential_arg2_179841, m_179845);
                                    bool zzero_leq_i_p_m_t_s_179847 = sle64((int64_t) 0, i_p_m_t_s_179846);
                                    bool i_p_m_t_s_leq_w_179848 = slt64(i_p_m_t_s_179846, next_stride_179535);
                                    bool zzero_lte_i_179849 = sle64((int64_t) 0, merge_sequential_arg2_179841);
                                    bool i_lte_j_179850 = sle64(merge_sequential_arg2_179841, merge_sequential_arg2_179842);
                                    bool y_179851 = i_p_m_t_s_leq_w_179848 && zzero_lte_i_179849;
                                    bool y_179852 = zzero_leq_i_p_m_t_s_179847 && y_179851;
                                    bool forwards_ok_179853 = i_lte_j_179850 && y_179852;
                                    bool ok_or_empty_179854 = empty_slice_179844 || forwards_ok_179853;
                                    bool index_certs_179855;
                                    
                                    if (!ok_or_empty_179854) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179841, ":", (long long) merge_sequential_arg2_179842, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179856 = sub64(defunc_0_f_res_179839, defunc_0_f_res_179832);
                                    bool empty_slice_179857 = j_m_i_179856 == (int64_t) 0;
                                    int64_t m_179858 = sub64(j_m_i_179856, (int64_t) 1);
                                    int64_t i_p_m_t_s_179859 = add64(defunc_0_f_res_179832, m_179858);
                                    bool zzero_leq_i_p_m_t_s_179860 = sle64((int64_t) 0, i_p_m_t_s_179859);
                                    bool i_p_m_t_s_leq_w_179861 = slt64(i_p_m_t_s_179859, next_stride_179535);
                                    bool zzero_lte_i_179862 = sle64((int64_t) 0, defunc_0_f_res_179832);
                                    bool i_lte_j_179863 = sle64(defunc_0_f_res_179832, defunc_0_f_res_179839);
                                    bool y_179864 = i_p_m_t_s_leq_w_179861 && zzero_lte_i_179862;
                                    bool y_179865 = zzero_leq_i_p_m_t_s_179860 && y_179864;
                                    bool forwards_ok_179866 = i_lte_j_179863 && y_179865;
                                    bool ok_or_empty_179867 = empty_slice_179857 || forwards_ok_179866;
                                    bool index_certs_179868;
                                    
                                    if (!ok_or_empty_179867) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179832, ":", (long long) defunc_0_f_res_179839, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179869 = slt64((int64_t) 0, j_m_i_179856);
                                    int8_t dummy_179870;
                                    int64_t dummy_179871;
                                    double dummy_179872;
                                    
                                    if (cond_179869) {
                                        bool index_certs_179873;
                                        
                                        if (!cond_179869) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179874 = start_179607 + defunc_0_f_res_179832;
                                        int8_t head_res_179875 = ((int8_t *) mem_param_181585.mem)[slice_179874];
                                        int64_t head_res_179876 = ((int64_t *) mem_param_181588.mem)[slice_179874];
                                        double head_res_179877 = ((double *) mem_param_181591.mem)[slice_179874];
                                        
                                        dummy_179870 = head_res_179875;
                                        dummy_179871 = head_res_179876;
                                        dummy_179872 = head_res_179877;
                                    } else {
                                        bool y_179878 = slt64((int64_t) 0, j_m_i_179843);
                                        bool index_certs_179879;
                                        
                                        if (!y_179878) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179880 = start_179607 + merge_sequential_arg2_179841;
                                        int8_t head_res_179881 = ((int8_t *) mem_param_181585.mem)[slice_179880];
                                        int64_t head_res_179882 = ((int64_t *) mem_param_181588.mem)[slice_179880];
                                        double head_res_179883 = ((double *) mem_param_181591.mem)[slice_179880];
                                        
                                        dummy_179870 = head_res_179881;
                                        dummy_179871 = head_res_179882;
                                        dummy_179872 = head_res_179883;
                                    }
                                    for (int64_t nest_i_182558 = 0; nest_i_182558 < merge_block_sizze_179344; nest_i_182558++) {
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + nest_i_182558] = dummy_179870;
                                    }
                                    for (int64_t nest_i_182559 = 0; nest_i_182559 < merge_block_sizze_179344; nest_i_182559++) {
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + nest_i_182559] = dummy_179871;
                                    }
                                    for (int64_t nest_i_182560 = 0; nest_i_182560 < merge_block_sizze_179344; nest_i_182560++) {
                                        ((double *) mem_181635)[i_180756 * merge_block_sizze_179344 + nest_i_182560] = dummy_179872;
                                    }
                                    
                                    int64_t data_179887;
                                    int64_t i_179892 = (int64_t) 0;
                                    
                                    for (int64_t k_179891 = 0; k_179891 < merge_block_sizze_179344; k_179891++) {
                                        int64_t j_179896 = sub64(k_179891, i_179892);
                                        bool cond_179897 = j_179896 == j_m_i_179843;
                                        bool cond_179898;
                                        
                                        if (cond_179897) {
                                            cond_179898 = 1;
                                        } else {
                                            bool cond_179899 = slt64(i_179892, j_m_i_179856);
                                            bool cond_f_res_179900;
                                            
                                            if (cond_179899) {
                                                bool x_179901 = sle64((int64_t) 0, j_179896);
                                                bool y_179902 = slt64(j_179896, j_m_i_179843);
                                                bool bounds_check_179903 = x_179901 && y_179902;
                                                bool index_certs_179904;
                                                
                                                if (!bounds_check_179903) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179910 = sle64((int64_t) 0, i_179892);
                                                bool bounds_check_179911 = cond_179899 && x_179910;
                                                bool index_certs_179912;
                                                
                                                if (!bounds_check_179911) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179905 = merge_sequential_arg2_179841 + j_179896;
                                                int64_t slice_179906 = start_179607 + slice_179905;
                                                int8_t leq_arg1_179907 = ((int8_t *) mem_param_181585.mem)[slice_179906];
                                                int64_t leq_arg1_179908 = ((int64_t *) mem_param_181588.mem)[slice_179906];
                                                double leq_arg1_179909 = ((double *) mem_param_181591.mem)[slice_179906];
                                                int64_t slice_179913 = defunc_0_f_res_179832 + i_179892;
                                                int64_t slice_179914 = start_179607 + slice_179913;
                                                int8_t leq_arg0_179915 = ((int8_t *) mem_param_181585.mem)[slice_179914];
                                                int64_t leq_arg0_179916 = ((int64_t *) mem_param_181588.mem)[slice_179914];
                                                double leq_arg0_179917 = ((double *) mem_param_181591.mem)[slice_179914];
                                                bool cond_179918 = leq_arg0_179915 == leq_arg1_179907;
                                                bool defunc_0_leq_res_t_res_179919 = sle64(leq_arg0_179916, leq_arg1_179908);
                                                bool defunc_0_leq_res_179920 = leq_arg0_179917 <= leq_arg1_179909;
                                                bool x_179921 = cond_179918 && defunc_0_leq_res_t_res_179919;
                                                bool x_179922 = !cond_179918;
                                                bool y_179923 = defunc_0_leq_res_179920 && x_179922;
                                                bool defunc_0_leq_res_179924 = x_179921 || y_179923;
                                                
                                                cond_f_res_179900 = defunc_0_leq_res_179924;
                                            } else {
                                                cond_f_res_179900 = 0;
                                            }
                                            cond_179898 = cond_f_res_179900;
                                        }
                                        
                                        int64_t loopres_179925;
                                        int8_t loopres_179926;
                                        int64_t loopres_179927;
                                        double loopres_179928;
                                        
                                        if (cond_179898) {
                                            bool x_179930 = sle64((int64_t) 0, i_179892);
                                            bool y_179931 = slt64(i_179892, j_m_i_179856);
                                            bool bounds_check_179932 = x_179930 && y_179931;
                                            bool index_certs_179933;
                                            
                                            if (!bounds_check_179932) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179929 = add64((int64_t) 1, i_179892);
                                            int64_t slice_179934 = defunc_0_f_res_179832 + i_179892;
                                            int64_t slice_179935 = start_179607 + slice_179934;
                                            int8_t tmp_179936 = ((int8_t *) mem_param_181585.mem)[slice_179935];
                                            int64_t tmp_179937 = ((int64_t *) mem_param_181588.mem)[slice_179935];
                                            double tmp_179938 = ((double *) mem_param_181591.mem)[slice_179935];
                                            
                                            loopres_179925 = tmp_179929;
                                            loopres_179926 = tmp_179936;
                                            loopres_179927 = tmp_179937;
                                            loopres_179928 = tmp_179938;
                                        } else {
                                            bool x_179939 = sle64((int64_t) 0, j_179896);
                                            bool y_179940 = slt64(j_179896, j_m_i_179843);
                                            bool bounds_check_179941 = x_179939 && y_179940;
                                            bool index_certs_179942;
                                            
                                            if (!bounds_check_179941) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179943 = merge_sequential_arg2_179841 + j_179896;
                                            int64_t slice_179944 = start_179607 + slice_179943;
                                            int8_t tmp_179945 = ((int8_t *) mem_param_181585.mem)[slice_179944];
                                            int64_t tmp_179946 = ((int64_t *) mem_param_181588.mem)[slice_179944];
                                            double tmp_179947 = ((double *) mem_param_181591.mem)[slice_179944];
                                            
                                            loopres_179925 = i_179892;
                                            loopres_179926 = tmp_179945;
                                            loopres_179927 = tmp_179946;
                                            loopres_179928 = tmp_179947;
                                        }
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179926;
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179927;
                                        ((double *) mem_181635)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179928;
                                        
                                        int64_t i_tmp_182561 = loopres_179925;
                                        
                                        i_179892 = i_tmp_182561;
                                    }
                                    data_179887 = i_179892;
                                }
                                if (memblock_alloc(ctx, &mem_181684, flat_dim_179557, "mem_181684")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181684.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint8_t *) mem_181629, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181688, bytes_181631, "mem_181688")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181688.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181632, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181692, bytes_181631, "mem_181692")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181692.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181635, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181684, "mem_181684") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181688, "mem_181688") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181692, "mem_181692") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181593, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181596, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181599, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181739, bytes_181592, "mem_181739")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181739.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint8_t *) mem_181593, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181743, bytes_181595, "mem_181743")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181743.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181596, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181747, bytes_181595, "mem_181747")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181747.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181599, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        
                        bool loop_cond_179967 = slt64(next_stride_179535, flat_dim_179339);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182528, &mem_181739, "mem_181739") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182529, &mem_181743, "mem_181743") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182530, &mem_181747, "mem_181747") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182531 = bytes_181592;
                        bool loop_while_tmp_182532 = loop_cond_179967;
                        int64_t stride_tmp_182536 = next_stride_179535;
                        
                        if (memblock_set(ctx, &mem_param_181585, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181588, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181591, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179529 = loop_dz2084Uz2082U_tmp_182531;
                        loop_while_179530 = loop_while_tmp_182532;
                        stride_179534 = stride_tmp_182536;
                    }
                    if (memblock_set(ctx, &ext_mem_181757, &mem_param_181585, "mem_param_181585") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181756, &mem_param_181588, "mem_param_181588") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181755, &mem_param_181591, "mem_param_181591") != 0)
                        return 1;
                    data_179523 = loop_dz2084Uz2082U_179529;
                    data_179524 = loop_while_179530;
                    data_179528 = stride_179534;
                    if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
                        return 1;
                    
                    bool empty_slice_179968 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179969 = sle64((int64_t) 0, zs_lhs_179323);
                    bool i_p_m_t_s_leq_w_179970 = slt64(zs_lhs_179323, data_179523);
                    bool y_179971 = zzero_leq_i_p_m_t_s_179969 && i_p_m_t_s_leq_w_179970;
                    bool ok_or_empty_179972 = empty_slice_179968 || y_179971;
                    bool index_certs_179973;
                    
                    if (!ok_or_empty_179972) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] out of bounds for array of shape [", (long long) data_179523, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181766, &ext_mem_181757, "ext_mem_181757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &ext_mem_181756, "ext_mem_181756") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &ext_mem_181755, "ext_mem_181755") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181433, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181766.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181436, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181439, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
                    return 1;
                for (int64_t i_180772 = 0; i_180772 < perThread_175600; i_180772++) {
                    int64_t lifted_lambda_res_179995 = add64(zm_rhs_179279, i_180772);
                    
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + i_180772] = lifted_lambda_res_179995;
                }
                
                bool cond_179997 = card_179280 == zp_rhs_175599;
                
                if (cond_179997) {
                    bool y_179999 = slt64(card_179280, perThread_175600);
                    bool index_certs_180000;
                    
                    if (!y_179999) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + card_179280] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181792, bytes_181085, "mem_181792")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_163298; nest_i_182566++) {
                ((double *) mem_181792.mem)[nest_i_182566] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_181794, bytes_181085, "mem_181794")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_163298; nest_i_182567++) {
                ((int64_t *) mem_181794.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181795, window_sizze_163298, "mem_181795")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_163298; nest_i_182568++) {
                ((int8_t *) mem_181795.mem)[nest_i_182568] = (int8_t) -1;
            }
            for (int64_t write_iter_180787 = 0; write_iter_180787 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601; write_iter_180787++) {
                int64_t new_index_180939 = squot64(write_iter_180787, perThread_175600);
                int64_t binop_y_180941 = perThread_175600 * new_index_180939;
                int64_t new_index_180942 = write_iter_180787 - binop_y_180941;
                int64_t write_iv_180791 = ((int64_t *) mem_181431)[new_index_180939 * perThread_175600 + new_index_180942];
                int8_t write_iv_180792 = ((int8_t *) mem_181433)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180793 = ((int64_t *) mem_181436)[new_index_180939 * perThread_175600 + new_index_180942];
                double write_iv_180794 = ((double *) mem_181439)[new_index_180939 * perThread_175600 + new_index_180942];
                
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_163298)) {
                    ((int8_t *) mem_181795.mem)[write_iv_180791] = write_iv_180792;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_163298)) {
                    ((int64_t *) mem_181794.mem)[write_iv_180791] = write_iv_180793;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_163298)) {
                    ((double *) mem_181792.mem)[write_iv_180791] = write_iv_180794;
                }
            }
            
            int64_t index_concat_branch_180023;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180024 = ((int64_t *) mem_181414)[index_concat_i_178364];
                
                index_concat_branch_180023 = index_concat_180024;
            } else {
                index_concat_branch_180023 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180025;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180026 = ((int64_t *) mem_181416)[index_concat_i_178364];
                
                index_concat_branch_180025 = index_concat_180026;
            } else {
                index_concat_branch_180025 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181795, "mem_181795") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181794, "mem_181794") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181792, "mem_181792") != 0)
                return 1;
            loopres_175590 = index_concat_branch_180023;
            loopres_175591 = index_concat_branch_180025;
        } else {
            double leq_lhs_176581 = ((double *) a_list_mem_181052.mem)[p_175562];
            double leq_rhs_176584 = ((double *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_176585 = leq_lhs_176581 <= leq_rhs_176584;
            double lowest_176586;
            
            if (defunc_0_leq_res_176585) {
                bool index_certs_180027;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_lhs_176581;
            } else {
                bool index_certs_176591;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_rhs_176584;
            }
            if (mem_181069_cached_sizze_182794 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_182794, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181071_cached_sizze_182795 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182795, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180802 = 0; i_180802 < threads_163299; i_180802++) {
                int64_t index_primexp_181018 = add64((int64_t) 1, i_180802);
                int64_t zs_lhs_176607 = mul64(zt_rhs_176600, index_primexp_181018);
                int64_t index_176608 = sdiv64(zs_lhs_176607, partitionFunc_arg0_176577);
                bool cond_176609 = slt64(window_sizze_163298, index_176608);
                int64_t loop_over_176610;
                
                if (cond_176609) {
                    loop_over_176610 = window_sizze_163298;
                } else {
                    loop_over_176610 = index_176608;
                }
                
                int64_t loop_over_176611;
                
                if (cond_176609) {
                    int64_t loop_over_t_res_180028 = sub64(index_176608, window_sizze_163298);
                    
                    loop_over_176611 = loop_over_t_res_180028;
                } else {
                    loop_over_176611 = (int64_t) 0;
                }
                
                int64_t loop_over_176613;
                
                if (cond_176609) {
                    int64_t zm_lhs_180029 = sub64(index_176608, window_sizze_163298);
                    int64_t loop_over_t_res_180030 = sub64(zm_lhs_180029, (int64_t) 1);
                    
                    loop_over_176613 = loop_over_t_res_180030;
                } else {
                    loop_over_176613 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176616;
                int64_t defunc_0_f_res_176617;
                int64_t defunc_0_f_res_176618;
                int64_t defunc_0_f_res_176619;
                bool loop_while_176620;
                int64_t p_176621;
                int64_t p_176622;
                int64_t p_176623;
                
                loop_while_176620 = 1;
                p_176621 = loop_over_176613;
                p_176622 = loop_over_176610;
                p_176623 = loop_over_176611;
                while (loop_while_176620) {
                    int64_t zs_lhs_176624 = sub64(p_176622, p_176621);
                    int64_t offset_176625 = sdiv64(zs_lhs_176624, (int64_t) 2);
                    int64_t ai_176626 = sub64(p_176622, offset_176625);
                    int64_t max_arg1_176627 = add64(p_176623, offset_176625);
                    int64_t max_res_176628 = smax64((int64_t) 0, max_arg1_176627);
                    bool cond_176629 = slt64((int64_t) 0, max_res_176628);
                    double b_prev_176630;
                    
                    if (cond_176629) {
                        int64_t tmp_180031 = sub64(max_res_176628, (int64_t) 1);
                        bool x_180032 = sle64((int64_t) 0, tmp_180031);
                        bool y_180033 = slt64(tmp_180031, window_sizze_163298);
                        bool bounds_check_180034 = x_180032 && y_180033;
                        bool index_certs_180035;
                        
                        if (!bounds_check_180034) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180031, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180036 = p_175563 + tmp_180031;
                        double b_prev_t_res_180037 = ((double *) b_list_mem_181053.mem)[slice_180036];
                        
                        b_prev_176630 = b_prev_t_res_180037;
                    } else {
                        b_prev_176630 = lowest_176586;
                    }
                    
                    bool cond_176637 = sle64(ai_176626, (int64_t) 0);
                    int64_t loopres_176638;
                    int64_t loopres_176639;
                    int64_t loopres_176640;
                    bool loopres_176641;
                    
                    if (cond_176637) {
                        loopres_176638 = p_176621;
                        loopres_176639 = (int64_t) 0;
                        loopres_176640 = max_res_176628;
                        loopres_176641 = 0;
                    } else {
                        bool cond_176642 = sle64(window_sizze_163298, max_res_176628);
                        int64_t loopres_f_res_176643;
                        int64_t loopres_f_res_176644;
                        int64_t loopres_f_res_176645;
                        bool loopres_f_res_176646;
                        
                        if (cond_176642) {
                            int64_t min_res_180039 = smin64(m_175551, ai_176626);
                            bool x_180040 = sle64((int64_t) 0, m_175551);
                            bool y_180041 = slt64(m_175551, window_sizze_163298);
                            bool bounds_check_180042 = x_180040 && y_180041;
                            bool index_certs_180043;
                            
                            if (!bounds_check_180042) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180046 = sle64((int64_t) 0, min_res_180039);
                            bool y_180047 = slt64(min_res_180039, window_sizze_163298);
                            bool bounds_check_180048 = x_180046 && y_180047;
                            bool index_certs_180049;
                            
                            if (!bounds_check_180048) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180039, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_180045 = ((double *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_180050 = p_175562 + min_res_180039;
                            double leq_rhs_180051 = ((double *) a_list_mem_181052.mem)[slice_180050];
                            bool defunc_0_leq_res_180052 = leq_lhs_180045 <= leq_rhs_180051;
                            int64_t loopres_f_res_t_res_180053;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180053 = ai_176626;
                            } else {
                                loopres_f_res_t_res_180053 = p_176622;
                            }
                            
                            bool x_180054 = !defunc_0_leq_res_180052;
                            int64_t loopres_f_res_t_res_180055;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180055 = window_sizze_163298;
                            } else {
                                int64_t tmp_180056 = sub64(m_175551, offset_176625);
                                
                                loopres_f_res_t_res_180055 = tmp_180056;
                            }
                            loopres_f_res_176643 = p_176621;
                            loopres_f_res_176644 = loopres_f_res_t_res_180053;
                            loopres_f_res_176645 = loopres_f_res_t_res_180055;
                            loopres_f_res_176646 = x_180054;
                        } else {
                            bool cond_176664 = sle64(window_sizze_163298, ai_176626);
                            int64_t loopres_f_res_f_res_176665;
                            int64_t loopres_f_res_f_res_176666;
                            int64_t loopres_f_res_f_res_176667;
                            bool loopres_f_res_f_res_176668;
                            
                            if (cond_176664) {
                                int64_t min_res_180058 = smin64(m_175551, max_res_176628);
                                bool x_180059 = sle64((int64_t) 0, m_175551);
                                bool y_180060 = slt64(m_175551, window_sizze_163298);
                                bool bounds_check_180061 = x_180059 && y_180060;
                                bool index_certs_180062;
                                
                                if (!bounds_check_180061) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180065 = sle64((int64_t) 0, min_res_180058);
                                bool y_180066 = slt64(min_res_180058, window_sizze_163298);
                                bool bounds_check_180067 = x_180065 && y_180066;
                                bool index_certs_180068;
                                
                                if (!bounds_check_180067) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180058, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_180064 = ((double *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_180069 = p_175563 + min_res_180058;
                                double leq_rhs_180070 = ((double *) b_list_mem_181053.mem)[slice_180069];
                                bool defunc_0_leq_res_180071 = leq_lhs_180064 <= leq_rhs_180070;
                                int64_t loopres_f_res_f_res_t_res_180072;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180072 = max_res_176628;
                                } else {
                                    loopres_f_res_f_res_t_res_180072 = p_176623;
                                }
                                
                                bool x_180073 = !defunc_0_leq_res_180071;
                                int64_t loopres_f_res_f_res_t_res_180074;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180074 = window_sizze_163298;
                                } else {
                                    loopres_f_res_f_res_t_res_180074 = m_175551;
                                }
                                loopres_f_res_f_res_176665 = p_176621;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_t_res_180074;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_t_res_180072;
                                loopres_f_res_f_res_176668 = x_180073;
                            } else {
                                bool cond_176685 = sle64(p_176622, p_176621);
                                int64_t loopres_f_res_f_res_f_res_176686;
                                int64_t loopres_f_res_f_res_f_res_176687;
                                int64_t loopres_f_res_f_res_f_res_176688;
                                bool loopres_f_res_f_res_f_res_176689;
                                
                                if (cond_176685) {
                                    bool cond_180113 = slt64(ai_176626, window_sizze_163298);
                                    int64_t ai_180114;
                                    
                                    if (cond_180113) {
                                        ai_180114 = ai_176626;
                                    } else {
                                        ai_180114 = m_175551;
                                    }
                                    
                                    bool x_180127 = sle64((int64_t) 0, ai_180114);
                                    bool y_180128 = slt64(ai_180114, window_sizze_163298);
                                    bool bounds_check_180129 = x_180127 && y_180128;
                                    bool index_certs_180130;
                                    
                                    if (!bounds_check_180129) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180114, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_180116;
                                    
                                    if (cond_176629) {
                                        int64_t tmp_180117 = sub64(max_res_176628, (int64_t) 1);
                                        bool x_180118 = sle64((int64_t) 0, tmp_180117);
                                        bool y_180119 = slt64(tmp_180117, window_sizze_163298);
                                        bool bounds_check_180120 = x_180118 && y_180119;
                                        bool index_certs_180121;
                                        
                                        if (!bounds_check_180120) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180117, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180122 = p_175563 + tmp_180117;
                                        double b_prev_t_res_180123 = ((double *) b_list_mem_181053.mem)[slice_180122];
                                        
                                        b_prev_180116 = b_prev_t_res_180123;
                                    } else {
                                        bool index_certs_180125;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180116 = leq_rhs_176584;
                                    }
                                    
                                    int64_t slice_180131 = p_175562 + ai_180114;
                                    double gt_lhs_180132 = ((double *) a_list_mem_181052.mem)[slice_180131];
                                    bool defunc_0_gt_res_180133 = b_prev_180116 < gt_lhs_180132;
                                    int64_t defunc_0_partFunc_sequential_search_res_180134;
                                    int64_t defunc_0_partFunc_sequential_search_res_180135;
                                    
                                    if (defunc_0_gt_res_180133) {
                                        int64_t zl_rhs_180136 = sub64(window_sizze_163298, max_res_176628);
                                        bool loop_cond_180137 = slt64((int64_t) 0, zl_rhs_180136);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180138;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180140;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180141;
                                        bool loop_while_180142;
                                        int64_t p_180143;
                                        int64_t p_180144;
                                        int64_t p_180145;
                                        
                                        loop_while_180142 = loop_cond_180137;
                                        p_180143 = ai_180114;
                                        p_180144 = max_res_176628;
                                        p_180145 = (int64_t) 0;
                                        while (loop_while_180142) {
                                            int64_t i_a_180146 = sub64(ai_180114, p_180145);
                                            int64_t i_b_180147 = add64(max_res_176628, p_180145);
                                            int64_t leq_lhs_180148 = sub64(i_a_180146, (int64_t) 1);
                                            bool x_180149 = sle64((int64_t) 0, leq_lhs_180148);
                                            bool y_180150 = slt64(leq_lhs_180148, window_sizze_163298);
                                            bool bounds_check_180151 = x_180149 && y_180150;
                                            bool index_certs_180152;
                                            
                                            if (!bounds_check_180151) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180148, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180155 = sle64((int64_t) 0, i_b_180147);
                                            bool y_180156 = slt64(i_b_180147, window_sizze_163298);
                                            bool bounds_check_180157 = x_180155 && y_180156;
                                            bool index_certs_180158;
                                            
                                            if (!bounds_check_180157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180147, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180153 = p_175562 + leq_lhs_180148;
                                            double leq_lhs_180154 = ((double *) a_list_mem_181052.mem)[slice_180153];
                                            int64_t slice_180159 = p_175563 + i_b_180147;
                                            double leq_rhs_180160 = ((double *) b_list_mem_181053.mem)[slice_180159];
                                            bool defunc_0_leq_res_180161 = leq_lhs_180154 <= leq_rhs_180160;
                                            int64_t loopres_180162;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180162 = i_a_180146;
                                            } else {
                                                loopres_180162 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180163;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180163 = i_b_180147;
                                            } else {
                                                loopres_180163 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180164;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180164 = zl_rhs_180136;
                                            } else {
                                                int64_t tmp_180165 = add64((int64_t) 1, p_180145);
                                                
                                                loopres_180164 = tmp_180165;
                                            }
                                            
                                            bool loop_cond_180166 = slt64(loopres_180164, zl_rhs_180136);
                                            bool loop_while_tmp_182578 = loop_cond_180166;
                                            int64_t p_tmp_182579 = loopres_180162;
                                            int64_t p_tmp_182580 = loopres_180163;
                                            int64_t p_tmp_182581 = loopres_180164;
                                            
                                            loop_while_180142 = loop_while_tmp_182578;
                                            p_180143 = p_tmp_182579;
                                            p_180144 = p_tmp_182580;
                                            p_180145 = p_tmp_182581;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180138 = loop_while_180142;
                                        defunc_0_partFunc_sequential_search_res_t_res_180139 = p_180143;
                                        defunc_0_partFunc_sequential_search_res_t_res_180140 = p_180144;
                                        defunc_0_partFunc_sequential_search_res_t_res_180141 = p_180145;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_t_res_180140;
                                    } else {
                                        int64_t zl_rhs_180167 = sub64(max_res_176628, (int64_t) 1);
                                        bool loop_cond_180168 = slt64((int64_t) 0, zl_rhs_180167);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180169;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180171;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180172;
                                        bool loop_while_180173;
                                        int64_t p_180174;
                                        int64_t p_180175;
                                        int64_t p_180176;
                                        
                                        loop_while_180173 = loop_cond_180168;
                                        p_180174 = ai_180114;
                                        p_180175 = max_res_176628;
                                        p_180176 = (int64_t) 0;
                                        while (loop_while_180173) {
                                            int64_t zp_lhs_180177 = add64(ai_180114, p_180176);
                                            int64_t hi_a_180178 = add64((int64_t) 1, zp_lhs_180177);
                                            bool cond_180179 = slt64(hi_a_180178, window_sizze_163298);
                                            int64_t i_a_180180;
                                            
                                            if (cond_180179) {
                                                i_a_180180 = hi_a_180178;
                                            } else {
                                                i_a_180180 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_180182 = sub64(max_res_176628, p_180176);
                                            int64_t i_b_180183 = sub64(zm_lhs_180182, (int64_t) 1);
                                            bool x_180184 = sle64((int64_t) 0, i_a_180180);
                                            bool y_180185 = slt64(i_a_180180, window_sizze_163298);
                                            bool bounds_check_180186 = x_180184 && y_180185;
                                            bool index_certs_180187;
                                            
                                            if (!bounds_check_180186) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180180, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180190 = sle64((int64_t) 0, i_b_180183);
                                            bool y_180191 = slt64(i_b_180183, window_sizze_163298);
                                            bool bounds_check_180192 = x_180190 && y_180191;
                                            bool index_certs_180193;
                                            
                                            if (!bounds_check_180192) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180183, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180188 = p_175562 + i_a_180180;
                                            double gt_lhs_180189 = ((double *) a_list_mem_181052.mem)[slice_180188];
                                            int64_t slice_180194 = p_175563 + i_b_180183;
                                            double gt_rhs_180195 = ((double *) b_list_mem_181053.mem)[slice_180194];
                                            bool defunc_0_gt_res_180196 = gt_rhs_180195 < gt_lhs_180189;
                                            int64_t loopres_180197;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180197 = i_a_180180;
                                            } else {
                                                loopres_180197 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180198;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180198 = zm_lhs_180182;
                                            } else {
                                                loopres_180198 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180199;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180199 = zl_rhs_180167;
                                            } else {
                                                int64_t tmp_180200 = add64((int64_t) 1, p_180176);
                                                
                                                loopres_180199 = tmp_180200;
                                            }
                                            
                                            bool loop_cond_180201 = slt64(loopres_180199, zl_rhs_180167);
                                            bool loop_while_tmp_182582 = loop_cond_180201;
                                            int64_t p_tmp_182583 = loopres_180197;
                                            int64_t p_tmp_182584 = loopres_180198;
                                            int64_t p_tmp_182585 = loopres_180199;
                                            
                                            loop_while_180173 = loop_while_tmp_182582;
                                            p_180174 = p_tmp_182583;
                                            p_180175 = p_tmp_182584;
                                            p_180176 = p_tmp_182585;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180169 = loop_while_180173;
                                        defunc_0_partFunc_sequential_search_res_f_res_180170 = p_180174;
                                        defunc_0_partFunc_sequential_search_res_f_res_180171 = p_180175;
                                        defunc_0_partFunc_sequential_search_res_f_res_180172 = p_180176;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_f_res_180171;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = p_176621;
                                    loopres_f_res_f_res_f_res_176687 = defunc_0_partFunc_sequential_search_res_180134;
                                    loopres_f_res_f_res_f_res_176688 = defunc_0_partFunc_sequential_search_res_180135;
                                    loopres_f_res_f_res_f_res_176689 = 0;
                                } else {
                                    bool x_176773 = sle64((int64_t) 0, ai_176626);
                                    bool y_176774 = slt64(ai_176626, window_sizze_163298);
                                    bool bounds_check_176775 = x_176773 && y_176774;
                                    bool index_certs_176776;
                                    
                                    if (!bounds_check_176775) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176626, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178442 = p_175562 + ai_176626;
                                    double gt_lhs_176777 = ((double *) a_list_mem_181052.mem)[slice_178442];
                                    bool defunc_0_gt_res_176778 = b_prev_176630 < gt_lhs_176777;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176779;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176780;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176781;
                                    bool loopres_f_res_f_res_f_res_f_res_176782;
                                    
                                    if (defunc_0_gt_res_176778) {
                                        int64_t leq_lhs_180202 = sub64(ai_176626, (int64_t) 1);
                                        bool x_180203 = sle64((int64_t) 0, leq_lhs_180202);
                                        bool y_180204 = slt64(leq_lhs_180202, window_sizze_163298);
                                        bool bounds_check_180205 = x_180203 && y_180204;
                                        bool index_certs_180206;
                                        
                                        if (!bounds_check_180205) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180202, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180209 = sle64((int64_t) 0, max_res_176628);
                                        bool y_180210 = slt64(max_res_176628, window_sizze_163298);
                                        bool bounds_check_180211 = x_180209 && y_180210;
                                        bool index_certs_180212;
                                        
                                        if (!bounds_check_180211) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176628, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180207 = p_175562 + leq_lhs_180202;
                                        double leq_lhs_180208 = ((double *) a_list_mem_181052.mem)[slice_180207];
                                        int64_t slice_180213 = p_175563 + max_res_176628;
                                        double leq_rhs_180214 = ((double *) b_list_mem_181053.mem)[slice_180213];
                                        bool defunc_0_leq_res_180215 = leq_lhs_180208 <= leq_rhs_180214;
                                        bool x_180216 = !defunc_0_leq_res_180215;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = ai_176626;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = leq_lhs_180202;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = max_res_176628;
                                        } else {
                                            int64_t tmp_180219 = add64((int64_t) 1, max_res_176628);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = tmp_180219;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176779 = p_176621;
                                        loopres_f_res_f_res_f_res_f_res_176780 = loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        loopres_f_res_f_res_f_res_f_res_176781 = loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        loopres_f_res_f_res_f_res_f_res_176782 = x_180216;
                                    } else {
                                        int64_t tmp_176799 = add64((int64_t) 1, ai_176626);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176779 = tmp_176799;
                                        loopres_f_res_f_res_f_res_f_res_176780 = p_176622;
                                        loopres_f_res_f_res_f_res_f_res_176781 = p_176623;
                                        loopres_f_res_f_res_f_res_f_res_176782 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = loopres_f_res_f_res_f_res_f_res_176779;
                                    loopres_f_res_f_res_f_res_176687 = loopres_f_res_f_res_f_res_f_res_176780;
                                    loopres_f_res_f_res_f_res_176688 = loopres_f_res_f_res_f_res_f_res_176781;
                                    loopres_f_res_f_res_f_res_176689 = loopres_f_res_f_res_f_res_f_res_176782;
                                }
                                loopres_f_res_f_res_176665 = loopres_f_res_f_res_f_res_176686;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_f_res_176687;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_f_res_176688;
                                loopres_f_res_f_res_176668 = loopres_f_res_f_res_f_res_176689;
                            }
                            loopres_f_res_176643 = loopres_f_res_f_res_176665;
                            loopres_f_res_176644 = loopres_f_res_f_res_176666;
                            loopres_f_res_176645 = loopres_f_res_f_res_176667;
                            loopres_f_res_176646 = loopres_f_res_f_res_176668;
                        }
                        loopres_176638 = loopres_f_res_176643;
                        loopres_176639 = loopres_f_res_176644;
                        loopres_176640 = loopres_f_res_176645;
                        loopres_176641 = loopres_f_res_176646;
                    }
                    
                    bool loop_while_tmp_182574 = loopres_176641;
                    int64_t p_tmp_182575 = loopres_176638;
                    int64_t p_tmp_182576 = loopres_176639;
                    int64_t p_tmp_182577 = loopres_176640;
                    
                    loop_while_176620 = loop_while_tmp_182574;
                    p_176621 = p_tmp_182575;
                    p_176622 = p_tmp_182576;
                    p_176623 = p_tmp_182577;
                }
                defunc_0_f_res_176616 = loop_while_176620;
                defunc_0_f_res_176617 = p_176621;
                defunc_0_f_res_176618 = p_176622;
                defunc_0_f_res_176619 = p_176623;
                ((int64_t *) mem_181069)[i_180802] = defunc_0_f_res_176618;
                ((int64_t *) mem_181071)[i_180802] = defunc_0_f_res_176619;
            }
            if (memblock_alloc(ctx, &mem_181084, window_sizze_163298, "mem_181084")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182586 = 0; nest_i_182586 < window_sizze_163298; nest_i_182586++) {
                ((int8_t *) mem_181084.mem)[nest_i_182586] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182587 = 0; nest_i_182587 < window_sizze_163298; nest_i_182587++) {
                ((int64_t *) mem_181086.mem)[nest_i_182587] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181088, bytes_181085, "mem_181088")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182588 = 0; nest_i_182588 < window_sizze_163298; nest_i_182588++) {
                ((double *) mem_181088.mem)[nest_i_182588] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176826;
            int64_t defunc_0_mergeFunc_seq_res_176827;
            bool loop_while_176831;
            int64_t p_176832;
            
            loop_while_176831 = loop_cond_176825;
            p_176832 = (int64_t) 0;
            while (loop_while_176831) {
                bool x_176836 = sle64((int64_t) 0, p_176832);
                bool y_176837 = slt64(p_176832, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176838 = x_176836 && y_176837;
                bool index_certs_176839;
                
                if (!bounds_check_176838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176832, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178425 = sle64((int64_t) 1, p_176832);
                int64_t index_concat_i_178426 = sub64(p_176832, (int64_t) 1);
                int64_t index_concat_178427;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180220 = ((int64_t *) mem_181069)[index_concat_i_178426];
                    
                    index_concat_178427 = x_180220;
                } else {
                    index_concat_178427 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178429;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178429 = index_concat_178427;
                } else {
                    index_concat_branch_178429 = (int64_t) 0;
                }
                
                int64_t index_concat_178421;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180221 = ((int64_t *) mem_181071)[index_concat_i_178426];
                    
                    index_concat_178421 = x_180221;
                } else {
                    index_concat_178421 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178423;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178423 = index_concat_178421;
                } else {
                    index_concat_branch_178423 = (int64_t) 0;
                }
                
                int64_t ubs_176842 = add64((int64_t) 1, p_176832);
                bool x_176843 = sle64((int64_t) 0, ubs_176842);
                bool y_176844 = slt64(ubs_176842, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176845 = x_176843 && y_176844;
                bool index_certs_176846;
                
                if (!bounds_check_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178413 = sle64((int64_t) 1, ubs_176842);
                int64_t index_concat_178415;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180222 = ((int64_t *) mem_181069)[p_176832];
                    
                    index_concat_178415 = x_180222;
                } else {
                    index_concat_178415 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178417;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178417 = index_concat_178415;
                } else {
                    index_concat_branch_178417 = (int64_t) 0;
                }
                
                int64_t index_concat_178409;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180223 = ((int64_t *) mem_181071)[p_176832];
                    
                    index_concat_178409 = x_180223;
                } else {
                    index_concat_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178411;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178411 = index_concat_178409;
                } else {
                    index_concat_branch_178411 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 = sub64(index_concat_branch_178411, index_concat_branch_178423);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 = sub64(index_concat_branch_178417, index_concat_branch_178429);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t ind_bottom_176852 = add64(index_concat_branch_178423, index_concat_branch_178429);
                int64_t ind_top_176853 = add64(index_concat_branch_178411, index_concat_branch_178417);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 = sub64(ind_top_176853, ind_bottom_176852);
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178429);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_163298);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178429);
                bool i_lte_j_176861 = sle64(index_concat_branch_178429, index_concat_branch_178417);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178429, ":", (long long) index_concat_branch_178417, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178417, index_concat_branch_178429);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178429, "..<", (long long) index_concat_branch_178417, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176875 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 == (int64_t) 0;
                int64_t m_176876 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, (int64_t) 1);
                int64_t i_p_m_t_s_176877 = add64(m_176876, index_concat_branch_178423);
                bool zzero_leq_i_p_m_t_s_176878 = sle64((int64_t) 0, i_p_m_t_s_176877);
                bool i_p_m_t_s_leq_w_176879 = slt64(i_p_m_t_s_176877, window_sizze_163298);
                bool zzero_lte_i_176880 = sle64((int64_t) 0, index_concat_branch_178423);
                bool i_lte_j_176881 = sle64(index_concat_branch_178423, index_concat_branch_178411);
                bool y_176882 = i_p_m_t_s_leq_w_176879 && zzero_lte_i_176880;
                bool y_176883 = zzero_leq_i_p_m_t_s_176878 && y_176882;
                bool forwards_ok_176884 = i_lte_j_176881 && y_176883;
                bool ok_or_empty_176885 = empty_slice_176875 || forwards_ok_176884;
                bool index_certs_176886;
                
                if (!ok_or_empty_176885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178423, ":", (long long) index_concat_branch_178411, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176887 = slt64(index_concat_branch_178411, index_concat_branch_178423);
                bool valid_176888 = !bounds_invalid_upwards_176887;
                bool range_valid_c_176889;
                
                if (!valid_176888) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178423, "..<", (long long) index_concat_branch_178411, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181105 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool cond_176898 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zs_lhs_176899 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zp_rhs_176900 = sdiv_safe64(zs_lhs_176899, (int64_t) 20);
                int64_t min_num_blocks_176901 = add64((int64_t) 1, zp_rhs_176900);
                bool loop_cond_176902 = slt64((int64_t) 1, min_num_blocks_176901);
                bool smallest_pow_2_geq_than_res_176903;
                int64_t smallest_pow_2_geq_than_res_176904;
                bool loop_while_176905;
                int64_t x_176906;
                
                loop_while_176905 = loop_cond_176902;
                x_176906 = (int64_t) 1;
                while (loop_while_176905) {
                    int64_t loopres_176907 = mul64((int64_t) 2, x_176906);
                    bool loop_cond_176908 = slt64(loopres_176907, min_num_blocks_176901);
                    bool loop_while_tmp_182594 = loop_cond_176908;
                    int64_t x_tmp_182595 = loopres_176907;
                    
                    loop_while_176905 = loop_while_tmp_182594;
                    x_176906 = x_tmp_182595;
                }
                smallest_pow_2_geq_than_res_176903 = loop_while_176905;
                smallest_pow_2_geq_than_res_176904 = x_176906;
                
                bool zzero_176909 = smallest_pow_2_geq_than_res_176904 == (int64_t) 0;
                bool nonzzero_176910 = !zzero_176909;
                bool protect_assert_disj_176911 = cond_176898 || nonzzero_176910;
                bool nonzzero_cert_176912;
                
                if (!protect_assert_disj_176911) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176913 = sdiv_safe64(zs_lhs_176899, smallest_pow_2_geq_than_res_176904);
                int64_t block_sizze_176914 = add64((int64_t) 1, zp_rhs_176913);
                bool y_176921 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                bool protect_assert_disj_182258 = cond_176898 || y_176921;
                bool index_certs_176922;
                
                if (!protect_assert_disj_182258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(smallest_pow_2_geq_than_res_176904, (int64_t) 0);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool protect_assert_disj_182268 = cond_176898 || valid_176949;
                bool range_valid_c_176950;
                
                if (!protect_assert_disj_182268) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176904, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176952 = slt64(block_sizze_176914, (int64_t) 0);
                bool valid_176953 = !bounds_invalid_upwards_176952;
                bool protect_assert_disj_182270 = cond_176898 || valid_176953;
                bool range_valid_c_176954;
                
                if (!protect_assert_disj_182270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176914, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176956 = sle64(block_sizze_176914, (int64_t) 1);
                int64_t tmp_176957 = sub64(block_sizze_176914, (int64_t) 2);
                bool bounds_invalid_upwards_176958 = slt64(tmp_176957, (int64_t) 0);
                bool valid_176960 = !bounds_invalid_upwards_176958;
                bool protect_assert_disj_176961 = cond_176956 || valid_176960;
                bool protect_assert_disj_182272 = cond_176898 || protect_assert_disj_176961;
                bool range_valid_c_176962;
                
                if (!protect_assert_disj_182272) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176957, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177523 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool empty_or_match_cert_177524;
                
                if (!dim_match_177523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "](i8, i64, f64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177525 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == (int64_t) 0;
                int64_t m_177526 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177527 = sle64((int64_t) 0, m_177526);
                bool i_p_m_t_s_leq_w_177528 = slt64(m_177526, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854);
                bool y_177529 = zzero_leq_i_p_m_t_s_177527 && i_p_m_t_s_leq_w_177528;
                bool ok_or_empty_177530 = empty_slice_177525 || y_177529;
                bool index_certs_177531;
                
                if (!ok_or_empty_177530) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177532 = add64(ind_bottom_176852, m_177526);
                bool zzero_leq_i_p_m_t_s_177533 = sle64((int64_t) 0, i_p_m_t_s_177532);
                bool i_p_m_t_s_leq_w_177534 = slt64(i_p_m_t_s_177532, window_sizze_163298);
                bool zzero_lte_i_177535 = sle64((int64_t) 0, ind_bottom_176852);
                bool i_lte_j_177536 = sle64(ind_bottom_176852, ind_top_176853);
                bool y_177537 = i_p_m_t_s_leq_w_177534 && zzero_lte_i_177535;
                bool y_177538 = zzero_leq_i_p_m_t_s_177533 && y_177537;
                bool forwards_ok_177539 = i_lte_j_177536 && y_177538;
                bool ok_or_empty_177540 = empty_slice_177525 || forwards_ok_177539;
                bool index_certs_177541;
                
                if (!ok_or_empty_177540) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176852, ":", (long long) ind_top_176853, "] out of bounds for array of shape [", (long long) window_sizze_163298, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178405 = p_175562 + index_concat_branch_178429;
                
                if (memblock_alloc(ctx, &mem_181104, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "mem_181104")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182596 = 0; nest_i_182596 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; nest_i_182596++) {
                    ((int8_t *) mem_181104.mem)[nest_i_182596] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181106, bytes_181105, "mem_181106")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182597 = 0; i_182597 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; i_182597++) {
                    int64_t x_182598 = index_concat_branch_178429 + i_182597 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[i_182597] = x_182598;
                }
                
                int64_t slice_178404 = p_175563 + index_concat_branch_178423;
                
                for (int64_t nest_i_182599 = 0; nest_i_182599 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; nest_i_182599++) {
                    ((int8_t *) mem_181104.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + nest_i_182599] = (int8_t) 1;
                }
                for (int64_t i_182600 = 0; i_182600 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; i_182600++) {
                    int64_t x_182601 = index_concat_branch_178423 + i_182600 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + i_182600] = x_182601;
                }
                
                int64_t tmp_offs_182602 = (int64_t) 0;
                
                if (!(tmp_offs_182602 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182602 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t tmp_offs_182603 = (int64_t) 0;
                
                if (!(tmp_offs_182603 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182603 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                if (memblock_alloc(ctx, &mem_181108, bytes_181105, "mem_181108")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182604 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, slice_178405, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, slice_178404, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t flat_dim_176915 = smallest_pow_2_geq_than_res_176904 * block_sizze_176914;
                bool x_182253 = !cond_176898;
                int64_t greatest_divisor_leq_than_arg1_176919 = mul64((int64_t) 2, block_sizze_176914);
                int64_t merge_block_sizze_176920;
                
                if (x_182253) {
                    int64_t x_182255;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182255, (int64_t) 8, greatest_divisor_leq_than_arg1_176919) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176920 = x_182255;
                } else {
                    merge_block_sizze_176920 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178399 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 0);
                int8_t index_concat_branch_178403 = btoi_bool_i8(index_concat_cmp_178399);
                int64_t index_concat_i_180224 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t index_primexp_180225 = add64(index_concat_branch_178423, index_concat_i_180224);
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178397 = index_primexp_180225;
                } else {
                    index_concat_branch_178397 = index_concat_branch_178429;
                }
                
                bool x_182249 = !index_concat_cmp_178399;
                bool protect_cond_conj_182259 = x_182249 && x_182253;
                double index_concat_178390;
                
                if (protect_cond_conj_182259) {
                    double x_182251 = ((double *) a_list_mem_181052.mem)[slice_178405];
                    
                    index_concat_178390 = x_182251;
                } else {
                    index_concat_178390 = 0.0;
                }
                
                int64_t slice_180227 = slice_178404 + index_concat_i_180224;
                bool protect_cond_conj_182260 = index_concat_cmp_178399 && x_182253;
                double index_concat_180228;
                
                if (protect_cond_conj_182260) {
                    double x_182247 = ((double *) b_list_mem_181053.mem)[slice_180227];
                    
                    index_concat_180228 = x_182247;
                } else {
                    index_concat_180228 = 0.0;
                }
                
                double index_concat_branch_178391;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178391 = index_concat_180228;
                } else {
                    index_concat_branch_178391 = index_concat_178390;
                }
                
                int8_t defunc_0_reduce_res_180459;
                int64_t defunc_0_reduce_res_180460;
                double defunc_0_reduce_res_180461;
                
                if (x_182253) {
                    int8_t x_182261;
                    int64_t x_182262;
                    double x_182263;
                    int8_t redout_180805;
                    int64_t redout_180806;
                    double redout_180807;
                    
                    redout_180805 = index_concat_branch_178403;
                    redout_180806 = index_concat_branch_178397;
                    redout_180807 = index_concat_branch_178391;
                    for (int64_t i_180808 = 0; i_180808 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851; i_180808++) {
                        bool index_concat_cmp_181012 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, i_180808);
                        int8_t index_concat_branch_181016 = btoi_bool_i8(index_concat_cmp_181012);
                        int64_t index_concat_branch_181010;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181007 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t index_primexp_181034 = add64(index_concat_branch_178423, index_concat_i_181007);
                            
                            index_concat_branch_181010 = index_primexp_181034;
                        } else {
                            int64_t index_primexp_181036 = add64(index_concat_branch_178429, i_180808);
                            
                            index_concat_branch_181010 = index_primexp_181036;
                        }
                        
                        double index_concat_branch_181004;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181001 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t slice_181031 = slice_178404 + index_concat_i_181001;
                            double index_concat_181002 = ((double *) b_list_mem_181053.mem)[slice_181031];
                            
                            index_concat_branch_181004 = index_concat_181002;
                        } else {
                            int64_t slice_181032 = slice_178405 + i_180808;
                            double index_concat_181003 = ((double *) a_list_mem_181052.mem)[slice_181032];
                            
                            index_concat_branch_181004 = index_concat_181003;
                        }
                        
                        bool eq_x_y_181047 = redout_180805 == (int8_t) 1;
                        bool eq_x_zz_181048 = redout_180805 == (int8_t) 0;
                        bool p_and_eq_x_y_181049 = index_concat_cmp_181012 && eq_x_y_181047;
                        bool not_p_181050 = !index_concat_cmp_181012;
                        bool p_and_eq_x_y_181051 = eq_x_zz_181048 && not_p_181050;
                        bool cond_176938 = p_and_eq_x_y_181049 || p_and_eq_x_y_181051;
                        bool defunc_0_leq_res_t_res_176939 = sle64(redout_180806, index_concat_branch_181010);
                        bool defunc_0_leq_res_176940 = redout_180807 <= index_concat_branch_181004;
                        bool x_176941 = cond_176938 && defunc_0_leq_res_t_res_176939;
                        bool x_176942 = !cond_176938;
                        bool y_176943 = defunc_0_leq_res_176940 && x_176942;
                        bool defunc_0_leq_res_176944 = x_176941 || y_176943;
                        int8_t defunc_0_op_res_176945;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176945 = index_concat_branch_181016;
                        } else {
                            defunc_0_op_res_176945 = redout_180805;
                        }
                        
                        int64_t defunc_0_op_res_176946;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176946 = index_concat_branch_181010;
                        } else {
                            defunc_0_op_res_176946 = redout_180806;
                        }
                        
                        double defunc_0_op_res_176947;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176947 = index_concat_branch_181004;
                        } else {
                            defunc_0_op_res_176947 = redout_180807;
                        }
                        
                        int8_t redout_tmp_182605 = defunc_0_op_res_176945;
                        int64_t redout_tmp_182606 = defunc_0_op_res_176946;
                        double redout_tmp_182607 = defunc_0_op_res_176947;
                        
                        redout_180805 = redout_tmp_182605;
                        redout_180806 = redout_tmp_182606;
                        redout_180807 = redout_tmp_182607;
                    }
                    x_182261 = redout_180805;
                    x_182262 = redout_180806;
                    x_182263 = redout_180807;
                    defunc_0_reduce_res_180459 = x_182261;
                    defunc_0_reduce_res_180460 = x_182262;
                    defunc_0_reduce_res_180461 = x_182263;
                } else {
                    defunc_0_reduce_res_180459 = (int8_t) 0;
                    defunc_0_reduce_res_180460 = (int64_t) 0;
                    defunc_0_reduce_res_180461 = 0.0;
                }
                
                int64_t distance_176959 = add64((int64_t) 1, tmp_176957);
                int64_t binop_x_181111 = (int64_t) 8 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181112 = block_sizze_176914 * binop_x_181111;
                int64_t bytes_181130 = (int64_t) 8 * block_sizze_176914;
                bool loop_cond_177068 = slt64(block_sizze_176914, flat_dim_176915);
                bool zzero_177069 = merge_block_sizze_176920 == (int64_t) 0;
                bool nonzzero_177070 = !zzero_177069;
                
                if (cond_176898) {
                    if (memblock_set(ctx, &ext_mem_181403, &mem_181104, "mem_181104") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_181106, "mem_181106") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &mem_181108, "mem_181108") != 0)
                        return 1;
                } else {
                    if (mem_181110_cached_sizze_182796 < flat_dim_176915) {
                        err = lexical_realloc(ctx, &mem_181110, &mem_181110_cached_sizze_182796, flat_dim_176915);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182797 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182797, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181116_cached_sizze_182798 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181116, &mem_181116_cached_sizze_182798, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181129_cached_sizze_182799 < block_sizze_176914) {
                        err = lexical_realloc(ctx, &mem_181129, &mem_181129_cached_sizze_182799, block_sizze_176914);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181131_cached_sizze_182800 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_182800, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181133_cached_sizze_182801 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182801, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180825 = 0; i_180825 < smallest_pow_2_geq_than_res_176904; i_180825++) {
                        int64_t zp_lhs_176967 = mul64(block_sizze_176914, i_180825);
                        
                        for (int64_t i_180815 = 0; i_180815 < block_sizze_176914; i_180815++) {
                            int64_t k_176972 = add64(zp_lhs_176967, i_180815);
                            bool cond_176973 = slt64(k_176972, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                            int8_t lifted_lambda_res_176974;
                            int64_t lifted_lambda_res_176975;
                            double lifted_lambda_res_176976;
                            
                            if (cond_176973) {
                                bool x_180234 = sle64((int64_t) 0, k_176972);
                                bool bounds_check_180235 = cond_176973 && x_180234;
                                bool index_certs_180236;
                                
                                if (!bounds_check_180235) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176972, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180237 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, k_176972);
                                int8_t index_concat_branch_180238 = btoi_bool_i8(index_concat_cmp_180237);
                                int64_t index_concat_branch_180239;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180240 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t index_primexp_180241 = add64(index_concat_branch_178423, index_concat_i_180240);
                                    
                                    index_concat_branch_180239 = index_primexp_180241;
                                } else {
                                    int64_t index_primexp_180242 = add64(k_176972, index_concat_branch_178429);
                                    
                                    index_concat_branch_180239 = index_primexp_180242;
                                }
                                
                                double index_concat_branch_180243;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180244 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t slice_180245 = slice_178404 + index_concat_i_180244;
                                    double index_concat_180246 = ((double *) b_list_mem_181053.mem)[slice_180245];
                                    
                                    index_concat_branch_180243 = index_concat_180246;
                                } else {
                                    int64_t slice_180247 = k_176972 + slice_178405;
                                    double index_concat_180248 = ((double *) a_list_mem_181052.mem)[slice_180247];
                                    
                                    index_concat_branch_180243 = index_concat_180248;
                                }
                                lifted_lambda_res_176974 = index_concat_branch_180238;
                                lifted_lambda_res_176975 = index_concat_branch_180239;
                                lifted_lambda_res_176976 = index_concat_branch_180243;
                            } else {
                                lifted_lambda_res_176974 = defunc_0_reduce_res_180459;
                                lifted_lambda_res_176975 = defunc_0_reduce_res_180460;
                                lifted_lambda_res_176976 = defunc_0_reduce_res_180461;
                            }
                            ((int8_t *) mem_181129)[i_180815] = lifted_lambda_res_176974;
                            ((int64_t *) mem_181131)[i_180815] = lifted_lambda_res_176975;
                            ((double *) mem_181133)[i_180815] = lifted_lambda_res_176976;
                        }
                        if (!cond_176956) {
                            for (int64_t i_176989 = 0; i_176989 < distance_176959; i_176989++) {
                                int64_t gt_arg1_176993 = add64((int64_t) 1, i_176989);
                                bool x_176994 = sle64((int64_t) 0, gt_arg1_176993);
                                bool y_176995 = slt64(gt_arg1_176993, block_sizze_176914);
                                bool bounds_check_176996 = x_176994 && y_176995;
                                bool index_certs_176997;
                                
                                if (!bounds_check_176996) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176993, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177001 = slt64(i_176989, block_sizze_176914);
                                bool index_certs_177002;
                                
                                if (!y_177001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176989, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176998 = ((int8_t *) mem_181129)[gt_arg1_176993];
                                int64_t gt_arg1_176999 = ((int64_t *) mem_181131)[gt_arg1_176993];
                                double gt_arg1_177000 = ((double *) mem_181133)[gt_arg1_176993];
                                int8_t gt_arg0_177003 = ((int8_t *) mem_181129)[i_176989];
                                int64_t gt_arg0_177004 = ((int64_t *) mem_181131)[i_176989];
                                double gt_arg0_177005 = ((double *) mem_181133)[i_176989];
                                bool cond_177006 = gt_arg0_177003 == gt_arg1_176998;
                                bool defunc_0_leq_res_t_res_177007 = sle64(gt_arg0_177004, gt_arg1_176999);
                                bool defunc_0_leq_res_177008 = gt_arg0_177005 <= gt_arg1_177000;
                                bool x_177009 = cond_177006 && defunc_0_leq_res_t_res_177007;
                                bool x_177010 = !cond_177006;
                                bool y_177011 = defunc_0_leq_res_177008 && x_177010;
                                bool defunc_0_leq_res_177012 = x_177009 || y_177011;
                                bool defunc_0_lifted_gt_res_177013 = !defunc_0_leq_res_177012;
                                bool s_177014;
                                int64_t s_177018;
                                bool loop_while_177019;
                                int64_t j_177023;
                                
                                loop_while_177019 = defunc_0_lifted_gt_res_177013;
                                j_177023 = i_176989;
                                while (loop_while_177019) {
                                    bool x_177024 = sle64((int64_t) 0, j_177023);
                                    bool y_177025 = slt64(j_177023, block_sizze_176914);
                                    bool bounds_check_177026 = x_177024 && y_177025;
                                    bool index_certs_177027;
                                    
                                    if (!bounds_check_177026) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177023, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177031 = add64((int64_t) 1, j_177023);
                                    bool x_177032 = sle64((int64_t) 0, copy_arg0_177031);
                                    bool y_177033 = slt64(copy_arg0_177031, block_sizze_176914);
                                    bool bounds_check_177034 = x_177032 && y_177033;
                                    bool index_certs_177035;
                                    
                                    if (!bounds_check_177034) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177031, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177028 = ((int8_t *) mem_181129)[j_177023];
                                    int64_t copy_arg0_177029 = ((int64_t *) mem_181131)[j_177023];
                                    double copy_arg0_177030 = ((double *) mem_181133)[j_177023];
                                    int8_t copy_arg0_177036 = ((int8_t *) mem_181129)[copy_arg0_177031];
                                    int64_t copy_arg0_177037 = ((int64_t *) mem_181131)[copy_arg0_177031];
                                    double copy_arg0_177038 = ((double *) mem_181133)[copy_arg0_177031];
                                    
                                    ((int8_t *) mem_181129)[j_177023] = copy_arg0_177036;
                                    ((int64_t *) mem_181131)[j_177023] = copy_arg0_177037;
                                    ((double *) mem_181133)[j_177023] = copy_arg0_177038;
                                    ((int8_t *) mem_181129)[copy_arg0_177031] = copy_arg0_177028;
                                    ((int64_t *) mem_181131)[copy_arg0_177031] = copy_arg0_177029;
                                    ((double *) mem_181133)[copy_arg0_177031] = copy_arg0_177030;
                                    
                                    int64_t tmp_177045 = sub64(j_177023, (int64_t) 1);
                                    bool cond_177046 = sle64((int64_t) 0, tmp_177045);
                                    bool loop_cond_177047;
                                    
                                    if (cond_177046) {
                                        bool y_180252 = slt64(tmp_177045, block_sizze_176914);
                                        bool bounds_check_180253 = cond_177046 && y_180252;
                                        bool index_certs_180254;
                                        
                                        if (!bounds_check_180253) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177045, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180249 = ((int8_t *) mem_181129)[j_177023];
                                        int64_t gt_arg1_180250 = ((int64_t *) mem_181131)[j_177023];
                                        double gt_arg1_180251 = ((double *) mem_181133)[j_177023];
                                        int8_t gt_arg0_180255 = ((int8_t *) mem_181129)[tmp_177045];
                                        int64_t gt_arg0_180256 = ((int64_t *) mem_181131)[tmp_177045];
                                        double gt_arg0_180257 = ((double *) mem_181133)[tmp_177045];
                                        bool cond_180258 = gt_arg0_180255 == gt_arg1_180249;
                                        bool defunc_0_leq_res_t_res_180259 = sle64(gt_arg0_180256, gt_arg1_180250);
                                        bool defunc_0_leq_res_180260 = gt_arg0_180257 <= gt_arg1_180251;
                                        bool x_180261 = cond_180258 && defunc_0_leq_res_t_res_180259;
                                        bool x_180262 = !cond_180258;
                                        bool y_180263 = defunc_0_leq_res_180260 && x_180262;
                                        bool defunc_0_leq_res_180264 = x_180261 || y_180263;
                                        bool defunc_0_lifted_gt_res_180265 = !defunc_0_leq_res_180264;
                                        
                                        loop_cond_177047 = defunc_0_lifted_gt_res_180265;
                                    } else {
                                        loop_cond_177047 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182617 = loop_cond_177047;
                                    int64_t j_tmp_182621 = tmp_177045;
                                    
                                    loop_while_177019 = loop_while_tmp_182617;
                                    j_177023 = j_tmp_182621;
                                }
                                s_177014 = loop_while_177019;
                                s_177018 = j_177023;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181110, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181129, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181131, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181116, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181133, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                    }
                    if (memblock_alloc(ctx, &mem_181210, flat_dim_176915, "mem_181210")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181210.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint8_t *) mem_181110, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181214, bytes_181112, "mem_181214")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181214.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181218, bytes_181112, "mem_181218")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181218.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181116, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    
                    int64_t data_177071;
                    bool data_177072;
                    int64_t data_177076;
                    int64_t loop_dz2084Uz2082U_177077;
                    bool loop_while_177078;
                    int64_t stride_177082;
                    
                    if (memblock_set(ctx, &mem_param_181222, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181225, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181228, &mem_181218, "mem_181218") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177077 = flat_dim_176915;
                    loop_while_177078 = loop_cond_177068;
                    stride_177082 = block_sizze_176914;
                    while (loop_while_177078) {
                        int64_t next_stride_177083 = mul64((int64_t) 2, stride_177082);
                        bool zzero_177084 = next_stride_177083 == (int64_t) 0;
                        bool nonzzero_177085 = !zzero_177084;
                        bool nonzzero_cert_177086;
                        
                        if (!nonzzero_177085) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177087 = sdiv64(flat_dim_176915, next_stride_177083);
                        bool bounds_invalid_upwards_177088 = slt64(num_merges_177087, (int64_t) 0);
                        bool valid_177089 = !bounds_invalid_upwards_177088;
                        bool range_valid_c_177090;
                        
                        if (!valid_177089) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177087, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177092 = sub64(next_stride_177083, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177093 = sle64((int64_t) 0, m_177092);
                        bool cond_177095 = slt64(next_stride_177083, (int64_t) 10);
                        bool protect_assert_disj_177096 = nonzzero_177070 || cond_177095;
                        bool nonzzero_cert_177097;
                        
                        if (!protect_assert_disj_177096) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177098 = smod_safe64(next_stride_177083, merge_block_sizze_176920);
                        bool num_blocks_177099 = zeze_lhs_177098 == (int64_t) 0;
                        bool protect_assert_disj_177100 = cond_177095 || num_blocks_177099;
                        bool assert_c_177101;
                        
                        if (!protect_assert_disj_177100) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177103 = sdiv_safe64(next_stride_177083, merge_block_sizze_176920);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104 = add64((int64_t) 1, num_blocks_177103);
                        int64_t j_m_i_177105 = sub64(next_stride_177083, stride_177082);
                        int64_t flat_dim_177106 = merge_block_sizze_176920 * num_blocks_177103;
                        bool bounds_invalid_upwards_177107 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, (int64_t) 0);
                        bool empty_slice_177108 = j_m_i_177105 == (int64_t) 0;
                        int64_t m_177109 = sub64(j_m_i_177105, (int64_t) 1);
                        bool zzero_lte_i_177110 = sle64((int64_t) 0, stride_177082);
                        bool i_lte_j_177111 = sle64(stride_177082, next_stride_177083);
                        bool empty_slice_177112 = stride_177082 == (int64_t) 0;
                        int64_t m_177113 = sub64(stride_177082, (int64_t) 1);
                        bool bounds_invalid_upwards_177114 = slt64(num_blocks_177103, (int64_t) 0);
                        bool cond_177115 = slt64((int64_t) 0, stride_177082);
                        bool valid_177116 = !bounds_invalid_upwards_177107;
                        int64_t i_p_m_t_s_177117 = add64(stride_177082, m_177109);
                        bool zzero_leq_i_p_m_t_s_177118 = sle64((int64_t) 0, m_177113);
                        bool i_p_m_t_s_leq_w_177119 = slt64(m_177113, next_stride_177083);
                        bool valid_177120 = !bounds_invalid_upwards_177114;
                        bool i_p_m_t_s_leq_w_177121 = slt64(m_177092, flat_dim_177106);
                        bool y_177122 = slt64((int64_t) 0, j_m_i_177105);
                        bool protect_assert_disj_177123 = cond_177095 || valid_177116;
                        bool range_valid_c_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177125 = sle64((int64_t) 0, i_p_m_t_s_177117);
                        bool i_p_m_t_s_leq_w_177126 = slt64(i_p_m_t_s_177117, next_stride_177083);
                        bool y_177127 = zzero_leq_i_p_m_t_s_177118 && i_p_m_t_s_leq_w_177119;
                        bool protect_assert_disj_177128 = cond_177095 || valid_177120;
                        bool range_valid_c_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177103, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177130 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177121;
                        bool y_177131 = zzero_lte_i_177110 && i_p_m_t_s_leq_w_177126;
                        bool forwards_ok_177132 = zzero_lte_i_177110 && y_177127;
                        bool ok_or_empty_177133 = zzero_177084 || y_177130;
                        bool protect_assert_disj_177134 = cond_177115 || y_177122;
                        bool y_177135 = zzero_leq_i_p_m_t_s_177125 && y_177131;
                        bool ok_or_empty_177136 = empty_slice_177112 || forwards_ok_177132;
                        bool protect_assert_disj_177137 = cond_177095 || ok_or_empty_177133;
                        bool index_certs_177138;
                        
                        if (!protect_assert_disj_177137) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) flat_dim_177106, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177139 = !cond_177095;
                        bool protect_assert_disj_177140 = protect_assert_disj_177134 || loop_not_taken_177139;
                        bool index_certs_177141;
                        
                        if (!protect_assert_disj_177140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177142 = i_lte_j_177111 && y_177135;
                        bool protect_assert_disj_177143 = cond_177095 || ok_or_empty_177136;
                        bool index_certs_177144;
                        
                        if (!protect_assert_disj_177143) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177145 = ok_or_empty_177136 || loop_not_taken_177139;
                        bool index_certs_177146;
                        
                        if (!protect_assert_disj_177145) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177147 = empty_slice_177108 || forwards_ok_177142;
                        bool protect_assert_disj_177148 = cond_177095 || ok_or_empty_177147;
                        bool index_certs_177149;
                        
                        if (!protect_assert_disj_177148) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177150 = loop_not_taken_177139 || ok_or_empty_177147;
                        bool index_certs_177151;
                        
                        if (!protect_assert_disj_177150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181229 = next_stride_177083 * num_merges_177087;
                        int64_t binop_x_181231 = (int64_t) 8 * num_merges_177087;
                        int64_t bytes_181232 = next_stride_177083 * binop_x_181231;
                        bool i_lte_j_177094 = sle64((int64_t) 0, next_stride_177083);
                        
                        if (mem_181230_cached_sizze_182802 < bytes_181229) {
                            err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182802, bytes_181229);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181233_cached_sizze_182803 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181233, &mem_181233_cached_sizze_182803, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181236_cached_sizze_182804 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182804, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181249 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104;
                        int64_t binop_x_181267 = (int64_t) 8 * num_blocks_177103;
                        int64_t bytes_181268 = merge_block_sizze_176920 * binop_x_181267;
                        int64_t bytes_181332 = (int64_t) 16 * stride_177082;
                        
                        for (int64_t i_180852 = 0; i_180852 < num_merges_177087; i_180852++) {
                            int64_t start_177156 = mul64(next_stride_177083, i_180852);
                            int64_t j_m_i_177157 = sub64(loop_dz2084Uz2082U_177077, start_177156);
                            bool empty_slice_177158 = j_m_i_177157 == (int64_t) 0;
                            int64_t m_177159 = sub64(j_m_i_177157, (int64_t) 1);
                            int64_t i_p_m_t_s_177160 = add64(start_177156, m_177159);
                            bool zzero_leq_i_p_m_t_s_177161 = sle64((int64_t) 0, i_p_m_t_s_177160);
                            bool i_p_m_t_s_leq_w_177162 = slt64(i_p_m_t_s_177160, loop_dz2084Uz2082U_177077);
                            bool zzero_lte_i_177163 = sle64((int64_t) 0, start_177156);
                            bool i_lte_j_177164 = sle64(start_177156, loop_dz2084Uz2082U_177077);
                            bool y_177165 = i_p_m_t_s_leq_w_177162 && zzero_lte_i_177163;
                            bool y_177166 = zzero_leq_i_p_m_t_s_177161 && y_177165;
                            bool forwards_ok_177167 = i_lte_j_177164 && y_177166;
                            bool ok_or_empty_177168 = empty_slice_177158 || forwards_ok_177167;
                            bool index_certs_177169;
                            
                            if (!ok_or_empty_177168) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177156, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177077, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177170 = slt64(m_177092, j_m_i_177157);
                            bool y_177171 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177170;
                            bool forwards_ok_177172 = i_lte_j_177094 && y_177171;
                            bool ok_or_empty_177173 = zzero_177084 || forwards_ok_177172;
                            bool index_certs_177174;
                            
                            if (!ok_or_empty_177173) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) j_m_i_177157, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177095) {
                                int8_t dummy_180304;
                                int64_t dummy_180305;
                                double dummy_180306;
                                
                                if (cond_177115) {
                                    int8_t head_res_180307 = ((int8_t *) mem_param_181222.mem)[start_177156];
                                    int64_t head_res_180308 = ((int64_t *) mem_param_181225.mem)[start_177156];
                                    double head_res_180309 = ((double *) mem_param_181228.mem)[start_177156];
                                    
                                    dummy_180304 = head_res_180307;
                                    dummy_180305 = head_res_180308;
                                    dummy_180306 = head_res_180309;
                                } else {
                                    int64_t slice_180310 = stride_177082 + start_177156;
                                    int8_t head_res_180311 = ((int8_t *) mem_param_181222.mem)[slice_180310];
                                    int64_t head_res_180312 = ((int64_t *) mem_param_181225.mem)[slice_180310];
                                    double head_res_180313 = ((double *) mem_param_181228.mem)[slice_180310];
                                    
                                    dummy_180304 = head_res_180311;
                                    dummy_180305 = head_res_180312;
                                    dummy_180306 = head_res_180313;
                                }
                                if (memblock_alloc(ctx, &mem_181331, next_stride_177083, "mem_181331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182634 = 0; nest_i_182634 < next_stride_177083; nest_i_182634++) {
                                    ((int8_t *) mem_181331.mem)[nest_i_182634] = dummy_180304;
                                }
                                if (memblock_alloc(ctx, &mem_181333, bytes_181332, "mem_181333")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182635 = 0; nest_i_182635 < next_stride_177083; nest_i_182635++) {
                                    ((int64_t *) mem_181333.mem)[nest_i_182635] = dummy_180305;
                                }
                                if (memblock_alloc(ctx, &mem_181335, bytes_181332, "mem_181335")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182636 = 0; nest_i_182636 < next_stride_177083; nest_i_182636++) {
                                    ((double *) mem_181335.mem)[nest_i_182636] = dummy_180306;
                                }
                                
                                int64_t data_180317;
                                int64_t i_180322 = (int64_t) 0;
                                
                                for (int64_t k_180321 = 0; k_180321 < next_stride_177083; k_180321++) {
                                    int64_t j_180326 = sub64(k_180321, i_180322);
                                    bool cond_180327 = j_180326 == j_m_i_177105;
                                    bool cond_180328;
                                    
                                    if (cond_180327) {
                                        cond_180328 = 1;
                                    } else {
                                        bool cond_180329 = slt64(i_180322, stride_177082);
                                        bool cond_f_res_180330;
                                        
                                        if (cond_180329) {
                                            bool x_180331 = sle64((int64_t) 0, j_180326);
                                            bool y_180332 = slt64(j_180326, j_m_i_177105);
                                            bool bounds_check_180333 = x_180331 && y_180332;
                                            bool index_certs_180334;
                                            
                                            if (!bounds_check_180333) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180340 = sle64((int64_t) 0, i_180322);
                                            bool bounds_check_180341 = cond_180329 && x_180340;
                                            bool index_certs_180342;
                                            
                                            if (!bounds_check_180341) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180335 = stride_177082 + j_180326;
                                            int64_t slice_180336 = start_177156 + slice_180335;
                                            int8_t leq_arg1_180337 = ((int8_t *) mem_param_181222.mem)[slice_180336];
                                            int64_t leq_arg1_180338 = ((int64_t *) mem_param_181225.mem)[slice_180336];
                                            double leq_arg1_180339 = ((double *) mem_param_181228.mem)[slice_180336];
                                            int64_t slice_180343 = start_177156 + i_180322;
                                            int8_t leq_arg0_180344 = ((int8_t *) mem_param_181222.mem)[slice_180343];
                                            int64_t leq_arg0_180345 = ((int64_t *) mem_param_181225.mem)[slice_180343];
                                            double leq_arg0_180346 = ((double *) mem_param_181228.mem)[slice_180343];
                                            bool cond_180347 = leq_arg0_180344 == leq_arg1_180337;
                                            bool defunc_0_leq_res_t_res_180348 = sle64(leq_arg0_180345, leq_arg1_180338);
                                            bool defunc_0_leq_res_180349 = leq_arg0_180346 <= leq_arg1_180339;
                                            bool x_180350 = cond_180347 && defunc_0_leq_res_t_res_180348;
                                            bool x_180351 = !cond_180347;
                                            bool y_180352 = defunc_0_leq_res_180349 && x_180351;
                                            bool defunc_0_leq_res_180353 = x_180350 || y_180352;
                                            
                                            cond_f_res_180330 = defunc_0_leq_res_180353;
                                        } else {
                                            cond_f_res_180330 = 0;
                                        }
                                        cond_180328 = cond_f_res_180330;
                                    }
                                    
                                    int64_t loopres_180354;
                                    int8_t loopres_180355;
                                    int64_t loopres_180356;
                                    double loopres_180357;
                                    
                                    if (cond_180328) {
                                        bool x_180359 = sle64((int64_t) 0, i_180322);
                                        bool y_180360 = slt64(i_180322, stride_177082);
                                        bool bounds_check_180361 = x_180359 && y_180360;
                                        bool index_certs_180362;
                                        
                                        if (!bounds_check_180361) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180358 = add64((int64_t) 1, i_180322);
                                        int64_t slice_180363 = start_177156 + i_180322;
                                        int8_t tmp_180364 = ((int8_t *) mem_param_181222.mem)[slice_180363];
                                        int64_t tmp_180365 = ((int64_t *) mem_param_181225.mem)[slice_180363];
                                        double tmp_180366 = ((double *) mem_param_181228.mem)[slice_180363];
                                        
                                        loopres_180354 = tmp_180358;
                                        loopres_180355 = tmp_180364;
                                        loopres_180356 = tmp_180365;
                                        loopres_180357 = tmp_180366;
                                    } else {
                                        bool x_180367 = sle64((int64_t) 0, j_180326);
                                        bool y_180368 = slt64(j_180326, j_m_i_177105);
                                        bool bounds_check_180369 = x_180367 && y_180368;
                                        bool index_certs_180370;
                                        
                                        if (!bounds_check_180369) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180371 = stride_177082 + j_180326;
                                        int64_t slice_180372 = start_177156 + slice_180371;
                                        int8_t tmp_180373 = ((int8_t *) mem_param_181222.mem)[slice_180372];
                                        int64_t tmp_180374 = ((int64_t *) mem_param_181225.mem)[slice_180372];
                                        double tmp_180375 = ((double *) mem_param_181228.mem)[slice_180372];
                                        
                                        loopres_180354 = i_180322;
                                        loopres_180355 = tmp_180373;
                                        loopres_180356 = tmp_180374;
                                        loopres_180357 = tmp_180375;
                                    }
                                    ((int8_t *) mem_181331.mem)[k_180321] = loopres_180355;
                                    ((int64_t *) mem_181333.mem)[k_180321] = loopres_180356;
                                    ((double *) mem_181335.mem)[k_180321] = loopres_180357;
                                    
                                    int64_t i_tmp_182637 = loopres_180354;
                                    
                                    i_180322 = i_tmp_182637;
                                }
                                data_180317 = i_180322;
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181331, "mem_181331") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181333, "mem_181333") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181335, "mem_181335") != 0)
                                    return 1;
                            } else {
                                if (mem_181250_cached_sizze_182805 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181250, &mem_181250_cached_sizze_182805, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182806 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182806, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180833 = 0; i_180833 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104; i_180833++) {
                                    int64_t split_count_arg3_177257 = mul64(merge_block_sizze_176920, i_180833);
                                    int64_t defunc_0_split_count_res_177258;
                                    int64_t defunc_0_split_count_res_177259;
                                    int64_t defunc_0_split_count_res_177260;
                                    int64_t defunc_0_split_count_res_177261;
                                    int64_t defunc_0_split_count_res_177262;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177258, &defunc_0_split_count_res_177259, &defunc_0_split_count_res_177260, &defunc_0_split_count_res_177261, &defunc_0_split_count_res_177262, (int64_t) 0, stride_177082, (int64_t) 0, j_m_i_177105, split_count_arg3_177257) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177263 = slt64((int64_t) 0, defunc_0_split_count_res_177262);
                                    bool defunc_0_split_count_res_177264;
                                    int64_t defunc_0_split_count_res_177265;
                                    int64_t defunc_0_split_count_res_177266;
                                    int64_t defunc_0_split_count_res_177267;
                                    int64_t defunc_0_split_count_res_177268;
                                    int64_t defunc_0_split_count_res_177269;
                                    bool loop_while_177270;
                                    int64_t ss_177271;
                                    int64_t ss_177272;
                                    int64_t tt_177273;
                                    int64_t tt_177274;
                                    int64_t count_177275;
                                    
                                    loop_while_177270 = loop_cond_177263;
                                    ss_177271 = defunc_0_split_count_res_177258;
                                    ss_177272 = defunc_0_split_count_res_177259;
                                    tt_177273 = defunc_0_split_count_res_177260;
                                    tt_177274 = defunc_0_split_count_res_177261;
                                    count_177275 = defunc_0_split_count_res_177262;
                                    while (loop_while_177270) {
                                        int64_t zlze_lhs_177276 = sub64(ss_177272, ss_177271);
                                        bool cond_177277 = sle64(zlze_lhs_177276, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177278;
                                        int64_t defunc_0_lifted_step_res_177279;
                                        int64_t defunc_0_lifted_step_res_177280;
                                        int64_t defunc_0_lifted_step_res_177281;
                                        
                                        if (cond_177277) {
                                            int64_t tmp_180379 = add64(tt_177273, count_177275);
                                            
                                            defunc_0_lifted_step_res_177278 = ss_177271;
                                            defunc_0_lifted_step_res_177279 = tmp_180379;
                                            defunc_0_lifted_step_res_177280 = tt_177274;
                                            defunc_0_lifted_step_res_177281 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177283 = sub64(tt_177274, tt_177273);
                                            bool cond_177284 = sle64(zlze_lhs_177283, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177285;
                                            int64_t defunc_0_lifted_step_res_f_res_177286;
                                            int64_t defunc_0_lifted_step_res_f_res_177287;
                                            int64_t defunc_0_lifted_step_res_f_res_177288;
                                            
                                            if (cond_177284) {
                                                int64_t tmp_180380 = add64(ss_177271, count_177275);
                                                
                                                defunc_0_lifted_step_res_f_res_177285 = tmp_180380;
                                                defunc_0_lifted_step_res_f_res_177286 = tt_177273;
                                                defunc_0_lifted_step_res_f_res_177287 = tt_177274;
                                                defunc_0_lifted_step_res_f_res_177288 = (int64_t) 0;
                                            } else {
                                                bool cond_177290 = count_177275 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177291;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177292;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177293;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177294;
                                                
                                                if (cond_177290) {
                                                    bool x_180382 = sle64((int64_t) 0, ss_177271);
                                                    bool y_180383 = slt64(ss_177271, stride_177082);
                                                    bool bounds_check_180384 = x_180382 && y_180383;
                                                    bool index_certs_180385;
                                                    
                                                    if (!bounds_check_180384) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177271, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180390 = sle64((int64_t) 0, tt_177273);
                                                    bool y_180391 = slt64(tt_177273, j_m_i_177105);
                                                    bool bounds_check_180392 = x_180390 && y_180391;
                                                    bool index_certs_180393;
                                                    
                                                    if (!bounds_check_180392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177273, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180386 = start_177156 + ss_177271;
                                                    int8_t leq_arg1_180387 = ((int8_t *) mem_param_181222.mem)[slice_180386];
                                                    int64_t leq_arg1_180388 = ((int64_t *) mem_param_181225.mem)[slice_180386];
                                                    double leq_arg1_180389 = ((double *) mem_param_181228.mem)[slice_180386];
                                                    int64_t slice_180394 = stride_177082 + tt_177273;
                                                    int64_t slice_180395 = start_177156 + slice_180394;
                                                    int8_t leq_arg0_180396 = ((int8_t *) mem_param_181222.mem)[slice_180395];
                                                    int64_t leq_arg0_180397 = ((int64_t *) mem_param_181225.mem)[slice_180395];
                                                    double leq_arg0_180398 = ((double *) mem_param_181228.mem)[slice_180395];
                                                    bool cond_180399 = leq_arg0_180396 == leq_arg1_180387;
                                                    bool defunc_0_leq_res_t_res_180400 = sle64(leq_arg0_180397, leq_arg1_180388);
                                                    bool defunc_0_leq_res_180401 = leq_arg0_180398 <= leq_arg1_180389;
                                                    bool x_180402 = cond_180399 && defunc_0_leq_res_t_res_180400;
                                                    bool x_180403 = !cond_180399;
                                                    bool y_180404 = defunc_0_leq_res_180401 && x_180403;
                                                    bool defunc_0_leq_res_180405 = x_180402 || y_180404;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    
                                                    if (defunc_0_leq_res_180405) {
                                                        int64_t tmp_180408 = add64((int64_t) 1, tt_177273);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = ss_177271;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tmp_180408;
                                                    } else {
                                                        int64_t tmp_180409 = add64((int64_t) 1, ss_177271);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = tmp_180409;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tt_177273;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = tt_177274;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177323 = sdiv64(count_177275, (int64_t) 2);
                                                    int64_t n_177324 = sub64(count_177275, m_177323);
                                                    bool cond_177325 = n_177324 == (int64_t) 0;
                                                    int64_t zgze_lhs_177326 = add64(ss_177271, m_177323);
                                                    bool cond_f_res_177327 = sle64(ss_177272, zgze_lhs_177326);
                                                    bool x_177328 = !cond_177325;
                                                    bool y_177329 = cond_f_res_177327 && x_177328;
                                                    bool cond_177330 = cond_177325 || y_177329;
                                                    bool leq_y_x_177331;
                                                    
                                                    if (cond_177330) {
                                                        leq_y_x_177331 = 1;
                                                    } else {
                                                        bool x_177332 = sle64((int64_t) 0, zgze_lhs_177326);
                                                        bool y_177333 = slt64(zgze_lhs_177326, stride_177082);
                                                        bool bounds_check_177334 = x_177332 && y_177333;
                                                        bool index_certs_177335;
                                                        
                                                        if (!bounds_check_177334) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177326, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177340 = add64(tt_177273, n_177324);
                                                        int64_t leq_arg0_177341 = sub64(zm_lhs_177340, (int64_t) 1);
                                                        bool x_177342 = sle64((int64_t) 0, leq_arg0_177341);
                                                        bool y_177343 = slt64(leq_arg0_177341, j_m_i_177105);
                                                        bool bounds_check_177344 = x_177342 && y_177343;
                                                        bool index_certs_177345;
                                                        
                                                        if (!bounds_check_177344) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177341, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177336 = start_177156 + zgze_lhs_177326;
                                                        int8_t leq_arg1_177337 = ((int8_t *) mem_param_181222.mem)[slice_177336];
                                                        int64_t leq_arg1_177338 = ((int64_t *) mem_param_181225.mem)[slice_177336];
                                                        double leq_arg1_177339 = ((double *) mem_param_181228.mem)[slice_177336];
                                                        int64_t slice_177346 = stride_177082 + leq_arg0_177341;
                                                        int64_t slice_177347 = start_177156 + slice_177346;
                                                        int8_t leq_arg0_177348 = ((int8_t *) mem_param_181222.mem)[slice_177347];
                                                        int64_t leq_arg0_177349 = ((int64_t *) mem_param_181225.mem)[slice_177347];
                                                        double leq_arg0_177350 = ((double *) mem_param_181228.mem)[slice_177347];
                                                        bool cond_177351 = leq_arg0_177348 == leq_arg1_177337;
                                                        bool defunc_0_leq_res_t_res_177352 = sle64(leq_arg0_177349, leq_arg1_177338);
                                                        bool defunc_0_leq_res_177353 = leq_arg0_177350 <= leq_arg1_177339;
                                                        bool x_177354 = cond_177351 && defunc_0_leq_res_t_res_177352;
                                                        bool x_177355 = !cond_177351;
                                                        bool y_177356 = defunc_0_leq_res_177353 && x_177355;
                                                        bool defunc_0_leq_res_177357 = x_177354 || y_177356;
                                                        
                                                        leq_y_x_177331 = defunc_0_leq_res_177357;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                    
                                                    if (leq_y_x_177331) {
                                                        int64_t tmp_180410 = add64(tt_177273, n_177324);
                                                        int64_t tmp_180411 = sub64(count_177275, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tmp_180410;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tt_177274;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = tmp_180411;
                                                    } else {
                                                        int64_t tmp_177363 = add64(tt_177273, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tt_177273;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tmp_177363;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = count_177275;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = ss_177271;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                }
                                                defunc_0_lifted_step_res_f_res_177285 = defunc_0_lifted_step_res_f_res_f_res_177291;
                                                defunc_0_lifted_step_res_f_res_177286 = defunc_0_lifted_step_res_f_res_f_res_177292;
                                                defunc_0_lifted_step_res_f_res_177287 = defunc_0_lifted_step_res_f_res_f_res_177293;
                                                defunc_0_lifted_step_res_f_res_177288 = defunc_0_lifted_step_res_f_res_f_res_177294;
                                            }
                                            defunc_0_lifted_step_res_177278 = defunc_0_lifted_step_res_f_res_177285;
                                            defunc_0_lifted_step_res_177279 = defunc_0_lifted_step_res_f_res_177286;
                                            defunc_0_lifted_step_res_177280 = defunc_0_lifted_step_res_f_res_177287;
                                            defunc_0_lifted_step_res_177281 = defunc_0_lifted_step_res_f_res_177288;
                                        }
                                        
                                        int64_t loopres_177364;
                                        int64_t loopres_177365;
                                        int64_t loopres_177366;
                                        int64_t loopres_177367;
                                        int64_t loopres_177368;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_177364, &loopres_177365, &loopres_177366, &loopres_177367, &loopres_177368, defunc_0_lifted_step_res_177278, ss_177272, defunc_0_lifted_step_res_177279, defunc_0_lifted_step_res_177280, defunc_0_lifted_step_res_177281) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177369 = slt64((int64_t) 0, loopres_177368);
                                        bool loop_while_tmp_182643 = loop_cond_177369;
                                        int64_t ss_tmp_182644 = loopres_177364;
                                        int64_t ss_tmp_182645 = loopres_177365;
                                        int64_t tt_tmp_182646 = loopres_177366;
                                        int64_t tt_tmp_182647 = loopres_177367;
                                        int64_t count_tmp_182648 = loopres_177368;
                                        
                                        loop_while_177270 = loop_while_tmp_182643;
                                        ss_177271 = ss_tmp_182644;
                                        ss_177272 = ss_tmp_182645;
                                        tt_177273 = tt_tmp_182646;
                                        tt_177274 = tt_tmp_182647;
                                        count_177275 = count_tmp_182648;
                                    }
                                    defunc_0_split_count_res_177264 = loop_while_177270;
                                    defunc_0_split_count_res_177265 = ss_177271;
                                    defunc_0_split_count_res_177266 = ss_177272;
                                    defunc_0_split_count_res_177267 = tt_177273;
                                    defunc_0_split_count_res_177268 = tt_177274;
                                    defunc_0_split_count_res_177269 = count_177275;
                                    ((int64_t *) mem_181250)[i_180833] = defunc_0_split_count_res_177265;
                                    ((int64_t *) mem_181252)[i_180833] = defunc_0_split_count_res_177267;
                                }
                                if (mem_181266_cached_sizze_182807 < flat_dim_177106) {
                                    err = lexical_realloc(ctx, &mem_181266, &mem_181266_cached_sizze_182807, flat_dim_177106);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181269_cached_sizze_182808 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181269, &mem_181269_cached_sizze_182808, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181272_cached_sizze_182809 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181272, &mem_181272_cached_sizze_182809, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180842 = 0; i_180842 < num_blocks_177103; i_180842++) {
                                    bool y_177376 = slt64(i_180842, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool index_certs_177378;
                                    
                                    if (!y_177376) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177379 = ((int64_t *) mem_181250)[i_180842];
                                    int64_t defunc_0_f_res_177380 = ((int64_t *) mem_181252)[i_180842];
                                    int64_t tmp_177381 = add64((int64_t) 1, i_180842);
                                    bool x_177382 = sle64((int64_t) 0, tmp_177381);
                                    bool y_177383 = slt64(tmp_177381, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool bounds_check_177384 = x_177382 && y_177383;
                                    bool index_certs_177385;
                                    
                                    if (!bounds_check_177384) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177381, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177386 = ((int64_t *) mem_181250)[tmp_177381];
                                    int64_t defunc_0_f_res_177387 = ((int64_t *) mem_181252)[tmp_177381];
                                    int64_t merge_sequential_arg2_177388 = add64(stride_177082, defunc_0_f_res_177380);
                                    int64_t merge_sequential_arg2_177389 = add64(stride_177082, defunc_0_f_res_177387);
                                    int64_t j_m_i_177390 = sub64(merge_sequential_arg2_177389, merge_sequential_arg2_177388);
                                    bool empty_slice_177391 = j_m_i_177390 == (int64_t) 0;
                                    int64_t m_177392 = sub64(j_m_i_177390, (int64_t) 1);
                                    int64_t i_p_m_t_s_177393 = add64(merge_sequential_arg2_177388, m_177392);
                                    bool zzero_leq_i_p_m_t_s_177394 = sle64((int64_t) 0, i_p_m_t_s_177393);
                                    bool i_p_m_t_s_leq_w_177395 = slt64(i_p_m_t_s_177393, next_stride_177083);
                                    bool zzero_lte_i_177396 = sle64((int64_t) 0, merge_sequential_arg2_177388);
                                    bool i_lte_j_177397 = sle64(merge_sequential_arg2_177388, merge_sequential_arg2_177389);
                                    bool y_177398 = i_p_m_t_s_leq_w_177395 && zzero_lte_i_177396;
                                    bool y_177399 = zzero_leq_i_p_m_t_s_177394 && y_177398;
                                    bool forwards_ok_177400 = i_lte_j_177397 && y_177399;
                                    bool ok_or_empty_177401 = empty_slice_177391 || forwards_ok_177400;
                                    bool index_certs_177402;
                                    
                                    if (!ok_or_empty_177401) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177388, ":", (long long) merge_sequential_arg2_177389, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177403 = sub64(defunc_0_f_res_177386, defunc_0_f_res_177379);
                                    bool empty_slice_177404 = j_m_i_177403 == (int64_t) 0;
                                    int64_t m_177405 = sub64(j_m_i_177403, (int64_t) 1);
                                    int64_t i_p_m_t_s_177406 = add64(defunc_0_f_res_177379, m_177405);
                                    bool zzero_leq_i_p_m_t_s_177407 = sle64((int64_t) 0, i_p_m_t_s_177406);
                                    bool i_p_m_t_s_leq_w_177408 = slt64(i_p_m_t_s_177406, next_stride_177083);
                                    bool zzero_lte_i_177409 = sle64((int64_t) 0, defunc_0_f_res_177379);
                                    bool i_lte_j_177410 = sle64(defunc_0_f_res_177379, defunc_0_f_res_177386);
                                    bool y_177411 = i_p_m_t_s_leq_w_177408 && zzero_lte_i_177409;
                                    bool y_177412 = zzero_leq_i_p_m_t_s_177407 && y_177411;
                                    bool forwards_ok_177413 = i_lte_j_177410 && y_177412;
                                    bool ok_or_empty_177414 = empty_slice_177404 || forwards_ok_177413;
                                    bool index_certs_177415;
                                    
                                    if (!ok_or_empty_177414) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177379, ":", (long long) defunc_0_f_res_177386, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177416 = slt64((int64_t) 0, j_m_i_177403);
                                    int8_t dummy_177417;
                                    int64_t dummy_177418;
                                    double dummy_177419;
                                    
                                    if (cond_177416) {
                                        bool index_certs_180412;
                                        
                                        if (!cond_177416) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180413 = start_177156 + defunc_0_f_res_177379;
                                        int8_t head_res_180414 = ((int8_t *) mem_param_181222.mem)[slice_180413];
                                        int64_t head_res_180415 = ((int64_t *) mem_param_181225.mem)[slice_180413];
                                        double head_res_180416 = ((double *) mem_param_181228.mem)[slice_180413];
                                        
                                        dummy_177417 = head_res_180414;
                                        dummy_177418 = head_res_180415;
                                        dummy_177419 = head_res_180416;
                                    } else {
                                        bool y_177425 = slt64((int64_t) 0, j_m_i_177390);
                                        bool index_certs_177426;
                                        
                                        if (!y_177425) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177427 = start_177156 + merge_sequential_arg2_177388;
                                        int8_t head_res_177428 = ((int8_t *) mem_param_181222.mem)[slice_177427];
                                        int64_t head_res_177429 = ((int64_t *) mem_param_181225.mem)[slice_177427];
                                        double head_res_177430 = ((double *) mem_param_181228.mem)[slice_177427];
                                        
                                        dummy_177417 = head_res_177428;
                                        dummy_177418 = head_res_177429;
                                        dummy_177419 = head_res_177430;
                                    }
                                    for (int64_t nest_i_182652 = 0; nest_i_182652 < merge_block_sizze_176920; nest_i_182652++) {
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + nest_i_182652] = dummy_177417;
                                    }
                                    for (int64_t nest_i_182653 = 0; nest_i_182653 < merge_block_sizze_176920; nest_i_182653++) {
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + nest_i_182653] = dummy_177418;
                                    }
                                    for (int64_t nest_i_182654 = 0; nest_i_182654 < merge_block_sizze_176920; nest_i_182654++) {
                                        ((double *) mem_181272)[i_180842 * merge_block_sizze_176920 + nest_i_182654] = dummy_177419;
                                    }
                                    
                                    int64_t data_177434;
                                    int64_t i_177439 = (int64_t) 0;
                                    
                                    for (int64_t k_177438 = 0; k_177438 < merge_block_sizze_176920; k_177438++) {
                                        int64_t j_177443 = sub64(k_177438, i_177439);
                                        bool cond_177444 = j_177443 == j_m_i_177390;
                                        bool cond_177445;
                                        
                                        if (cond_177444) {
                                            cond_177445 = 1;
                                        } else {
                                            bool cond_177446 = slt64(i_177439, j_m_i_177403);
                                            bool cond_f_res_177447;
                                            
                                            if (cond_177446) {
                                                bool x_180417 = sle64((int64_t) 0, j_177443);
                                                bool y_180418 = slt64(j_177443, j_m_i_177390);
                                                bool bounds_check_180419 = x_180417 && y_180418;
                                                bool index_certs_180420;
                                                
                                                if (!bounds_check_180419) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180426 = sle64((int64_t) 0, i_177439);
                                                bool bounds_check_180427 = cond_177446 && x_180426;
                                                bool index_certs_180428;
                                                
                                                if (!bounds_check_180427) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180421 = merge_sequential_arg2_177388 + j_177443;
                                                int64_t slice_180422 = start_177156 + slice_180421;
                                                int8_t leq_arg1_180423 = ((int8_t *) mem_param_181222.mem)[slice_180422];
                                                int64_t leq_arg1_180424 = ((int64_t *) mem_param_181225.mem)[slice_180422];
                                                double leq_arg1_180425 = ((double *) mem_param_181228.mem)[slice_180422];
                                                int64_t slice_180429 = defunc_0_f_res_177379 + i_177439;
                                                int64_t slice_180430 = start_177156 + slice_180429;
                                                int8_t leq_arg0_180431 = ((int8_t *) mem_param_181222.mem)[slice_180430];
                                                int64_t leq_arg0_180432 = ((int64_t *) mem_param_181225.mem)[slice_180430];
                                                double leq_arg0_180433 = ((double *) mem_param_181228.mem)[slice_180430];
                                                bool cond_180434 = leq_arg0_180431 == leq_arg1_180423;
                                                bool defunc_0_leq_res_t_res_180435 = sle64(leq_arg0_180432, leq_arg1_180424);
                                                bool defunc_0_leq_res_180436 = leq_arg0_180433 <= leq_arg1_180425;
                                                bool x_180437 = cond_180434 && defunc_0_leq_res_t_res_180435;
                                                bool x_180438 = !cond_180434;
                                                bool y_180439 = defunc_0_leq_res_180436 && x_180438;
                                                bool defunc_0_leq_res_180440 = x_180437 || y_180439;
                                                
                                                cond_f_res_177447 = defunc_0_leq_res_180440;
                                            } else {
                                                cond_f_res_177447 = 0;
                                            }
                                            cond_177445 = cond_f_res_177447;
                                        }
                                        
                                        int64_t loopres_177472;
                                        int8_t loopres_177473;
                                        int64_t loopres_177474;
                                        double loopres_177475;
                                        
                                        if (cond_177445) {
                                            bool x_180442 = sle64((int64_t) 0, i_177439);
                                            bool y_180443 = slt64(i_177439, j_m_i_177403);
                                            bool bounds_check_180444 = x_180442 && y_180443;
                                            bool index_certs_180445;
                                            
                                            if (!bounds_check_180444) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180441 = add64((int64_t) 1, i_177439);
                                            int64_t slice_180446 = defunc_0_f_res_177379 + i_177439;
                                            int64_t slice_180447 = start_177156 + slice_180446;
                                            int8_t tmp_180448 = ((int8_t *) mem_param_181222.mem)[slice_180447];
                                            int64_t tmp_180449 = ((int64_t *) mem_param_181225.mem)[slice_180447];
                                            double tmp_180450 = ((double *) mem_param_181228.mem)[slice_180447];
                                            
                                            loopres_177472 = tmp_180441;
                                            loopres_177473 = tmp_180448;
                                            loopres_177474 = tmp_180449;
                                            loopres_177475 = tmp_180450;
                                        } else {
                                            bool x_177486 = sle64((int64_t) 0, j_177443);
                                            bool y_177487 = slt64(j_177443, j_m_i_177390);
                                            bool bounds_check_177488 = x_177486 && y_177487;
                                            bool index_certs_177489;
                                            
                                            if (!bounds_check_177488) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177490 = merge_sequential_arg2_177388 + j_177443;
                                            int64_t slice_177491 = start_177156 + slice_177490;
                                            int8_t tmp_177492 = ((int8_t *) mem_param_181222.mem)[slice_177491];
                                            int64_t tmp_177493 = ((int64_t *) mem_param_181225.mem)[slice_177491];
                                            double tmp_177494 = ((double *) mem_param_181228.mem)[slice_177491];
                                            
                                            loopres_177472 = i_177439;
                                            loopres_177473 = tmp_177492;
                                            loopres_177474 = tmp_177493;
                                            loopres_177475 = tmp_177494;
                                        }
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177473;
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177474;
                                        ((double *) mem_181272)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177475;
                                        
                                        int64_t i_tmp_182655 = loopres_177472;
                                        
                                        i_177439 = i_tmp_182655;
                                    }
                                    data_177434 = i_177439;
                                }
                                if (memblock_alloc(ctx, &mem_181321, flat_dim_177106, "mem_181321")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181321.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint8_t *) mem_181266, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181325, bytes_181268, "mem_181325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181325.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181269, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181329, bytes_181268, "mem_181329")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181329.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181272, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181321, "mem_181321") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181325, "mem_181325") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181329, "mem_181329") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181230, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181233, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181236, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181356.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181376, bytes_181229, "mem_181376")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181376.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint8_t *) mem_181230, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181380, bytes_181232, "mem_181380")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181380.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181233, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181384, bytes_181232, "mem_181384")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181384.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181236, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        
                        bool loop_cond_177508 = slt64(next_stride_177083, flat_dim_176915);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182622, &mem_181376, "mem_181376") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182623, &mem_181380, "mem_181380") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182624, &mem_181384, "mem_181384") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182625 = bytes_181229;
                        bool loop_while_tmp_182626 = loop_cond_177508;
                        int64_t stride_tmp_182630 = next_stride_177083;
                        
                        if (memblock_set(ctx, &mem_param_181222, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181225, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181228, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177077 = loop_dz2084Uz2082U_tmp_182625;
                        loop_while_177078 = loop_while_tmp_182626;
                        stride_177082 = stride_tmp_182630;
                    }
                    if (memblock_set(ctx, &ext_mem_181394, &mem_param_181222, "mem_param_181222") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181393, &mem_param_181225, "mem_param_181225") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181392, &mem_param_181228, "mem_param_181228") != 0)
                        return 1;
                    data_177071 = loop_dz2084Uz2082U_177077;
                    data_177072 = loop_while_177078;
                    data_177076 = stride_177082;
                    if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
                        return 1;
                    
                    bool empty_slice_177509 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177510 = sle64((int64_t) 0, zs_lhs_176899);
                    bool i_p_m_t_s_leq_w_177511 = slt64(zs_lhs_176899, data_177071);
                    bool y_177512 = zzero_leq_i_p_m_t_s_177510 && i_p_m_t_s_leq_w_177511;
                    bool ok_or_empty_177513 = empty_slice_177509 || y_177512;
                    bool index_certs_177514;
                    
                    if (!ok_or_empty_177513) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] out of bounds for array of shape [", (long long) data_177071, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181403, &ext_mem_181394, "ext_mem_181394") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &ext_mem_181393, "ext_mem_181393") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &ext_mem_181392, "ext_mem_181392") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181400.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181397.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
                    return 1;
                
                bool loop_cond_177550 = slt64(ubs_176842, threads_163299);
                bool loop_while_tmp_182589 = loop_cond_177550;
                int64_t p_tmp_182590 = ubs_176842;
                
                loop_while_176831 = loop_while_tmp_182589;
                p_176832 = p_tmp_182590;
            }
            defunc_0_mergeFunc_seq_res_176826 = loop_while_176831;
            defunc_0_mergeFunc_seq_res_176827 = p_176832;
            
            int64_t index_concat_branch_178367;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180465 = ((int64_t *) mem_181069)[index_concat_i_178364];
                
                index_concat_branch_178367 = index_concat_180465;
            } else {
                index_concat_branch_178367 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178361;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180466 = ((int64_t *) mem_181071)[index_concat_i_178364];
                
                index_concat_branch_178361 = index_concat_180466;
            } else {
                index_concat_branch_178361 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181084, "mem_181084") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181086, "mem_181086") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181088, "mem_181088") != 0)
                return 1;
            loopres_175590 = index_concat_branch_178367;
            loopres_175591 = index_concat_branch_178361;
        }
        for (int64_t i_180858 = 0; i_180858 < window_sizze_163298; i_180858++) {
            int8_t eta_p_177558 = ((int8_t *) ext_mem_181822.mem)[i_180858];
            int64_t eta_p_177559 = ((int64_t *) ext_mem_181819.mem)[i_180858];
            bool cond_177560 = eta_p_177558 == (int8_t) 0;
            int64_t tmp_177561;
            
            if (cond_177560) {
                int64_t tmp_t_res_180469 = add64(p_175562, eta_p_177559);
                
                tmp_177561 = tmp_t_res_180469;
            } else {
                int64_t tmp_f_res_177563 = add64(p_175563, eta_p_177559);
                
                tmp_177561 = tmp_f_res_177563;
            }
            ((int64_t *) mem_181056.mem)[ind_bottom_175566 + i_180858] = tmp_177561;
        }
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        
        int64_t next_lbs_177564 = add64(p_175562, loopres_175590);
        int64_t next_lbs_177565 = add64(p_175563, loopres_175591);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163298});
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181816.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163298});
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        
        bool cond_177579 = slt64(next_lbs_177564, zl_rhs_175545);
        bool loop_cond_t_res_177580 = slt64(next_lbs_177565, zl_rhs_175547);
        bool x_177581 = cond_177579 && loop_cond_t_res_177580;
        bool loop_while_tmp_182473 = x_177581;
        int64_t p_tmp_182477 = next_lbs_177564;
        int64_t p_tmp_182478 = next_lbs_177565;
        
        loop_while_175558 = loop_while_tmp_182473;
        p_175562 = p_tmp_182477;
        p_175563 = p_tmp_182478;
    }
    defunc_0_merge_pipeline_res_175552 = loop_while_175558;
    defunc_0_merge_pipeline_res_175556 = p_175562;
    defunc_0_merge_pipeline_res_175557 = p_175563;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 = sub64(nb_163297, defunc_0_merge_pipeline_res_175557);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 = sub64(na_163296, defunc_0_merge_pipeline_res_175556);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    bool empty_slice_177585 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 == (int64_t) 0;
    int64_t m_177586 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 1);
    int64_t i_p_m_t_s_177587 = add64(defunc_0_merge_pipeline_res_175556, m_177586);
    bool zzero_leq_i_p_m_t_s_177588 = sle64((int64_t) 0, i_p_m_t_s_177587);
    bool i_p_m_t_s_leq_w_177589 = slt64(i_p_m_t_s_177587, na_163296);
    bool zzero_lte_i_177590 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175556);
    bool i_lte_j_177591 = sle64(defunc_0_merge_pipeline_res_175556, na_163296);
    bool y_177592 = i_p_m_t_s_leq_w_177589 && zzero_lte_i_177590;
    bool y_177593 = zzero_leq_i_p_m_t_s_177588 && y_177592;
    bool forwards_ok_177594 = i_lte_j_177591 && y_177593;
    bool ok_or_empty_177595 = empty_slice_177585 || forwards_ok_177594;
    bool index_certs_177596;
    
    if (!ok_or_empty_177595) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175556, ":", (long long) na_163296, "] out of bounds for array of shape [", (long long) na_163296, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177600 = slt64(na_163296, defunc_0_merge_pipeline_res_175556);
    bool valid_177601 = !bounds_invalid_upwards_177600;
    bool range_valid_c_177602;
    
    if (!valid_177601) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175556, "..<", (long long) na_163296, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177606 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 == (int64_t) 0;
    int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, (int64_t) 1);
    int64_t i_p_m_t_s_177608 = add64(defunc_0_merge_pipeline_res_175557, m_177607);
    bool zzero_leq_i_p_m_t_s_177609 = sle64((int64_t) 0, i_p_m_t_s_177608);
    bool i_p_m_t_s_leq_w_177610 = slt64(i_p_m_t_s_177608, nb_163297);
    bool zzero_lte_i_177611 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175557);
    bool i_lte_j_177612 = sle64(defunc_0_merge_pipeline_res_175557, nb_163297);
    bool y_177613 = i_p_m_t_s_leq_w_177610 && zzero_lte_i_177611;
    bool y_177614 = zzero_leq_i_p_m_t_s_177609 && y_177613;
    bool forwards_ok_177615 = i_lte_j_177612 && y_177614;
    bool ok_or_empty_177616 = empty_slice_177606 || forwards_ok_177615;
    bool index_certs_177617;
    
    if (!ok_or_empty_177616) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175557, ":", (long long) nb_163297, "] out of bounds for array of shape [", (long long) nb_163297, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177621 = slt64(nb_163297, defunc_0_merge_pipeline_res_175557);
    bool valid_177622 = !bounds_invalid_upwards_177621;
    bool range_valid_c_177623;
    
    if (!valid_177622) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175557, "..<", (long long) nb_163297, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181847 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool cond_177630 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zs_lhs_177631 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zp_rhs_177632 = sdiv_safe64(zs_lhs_177631, (int64_t) 20);
    int64_t min_num_blocks_177633 = add64((int64_t) 1, zp_rhs_177632);
    bool loop_cond_177634 = slt64((int64_t) 1, min_num_blocks_177633);
    bool smallest_pow_2_geq_than_res_177635;
    int64_t smallest_pow_2_geq_than_res_177636;
    bool loop_while_177637;
    int64_t x_177638;
    
    loop_while_177637 = loop_cond_177634;
    x_177638 = (int64_t) 1;
    while (loop_while_177637) {
        int64_t loopres_177639 = mul64((int64_t) 2, x_177638);
        bool loop_cond_177640 = slt64(loopres_177639, min_num_blocks_177633);
        bool loop_while_tmp_182660 = loop_cond_177640;
        int64_t x_tmp_182661 = loopres_177639;
        
        loop_while_177637 = loop_while_tmp_182660;
        x_177638 = x_tmp_182661;
    }
    smallest_pow_2_geq_than_res_177635 = loop_while_177637;
    smallest_pow_2_geq_than_res_177636 = x_177638;
    
    bool zzero_177641 = smallest_pow_2_geq_than_res_177636 == (int64_t) 0;
    bool nonzzero_177642 = !zzero_177641;
    bool protect_assert_disj_177643 = cond_177630 || nonzzero_177642;
    bool nonzzero_cert_177644;
    
    if (!protect_assert_disj_177643) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177645 = sdiv_safe64(zs_lhs_177631, smallest_pow_2_geq_than_res_177636);
    int64_t block_sizze_177646 = add64((int64_t) 1, zp_rhs_177645);
    bool y_177653 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool protect_assert_disj_182175 = cond_177630 || y_177653;
    bool index_certs_177654;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177680 = slt64(smallest_pow_2_geq_than_res_177636, (int64_t) 0);
    bool valid_177681 = !bounds_invalid_upwards_177680;
    bool protect_assert_disj_182185 = cond_177630 || valid_177681;
    bool range_valid_c_177682;
    
    if (!protect_assert_disj_182185) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177684 = slt64(block_sizze_177646, (int64_t) 0);
    bool valid_177685 = !bounds_invalid_upwards_177684;
    bool protect_assert_disj_182187 = cond_177630 || valid_177685;
    bool range_valid_c_177686;
    
    if (!protect_assert_disj_182187) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177646, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177688 = sle64(block_sizze_177646, (int64_t) 1);
    int64_t tmp_177689 = sub64(block_sizze_177646, (int64_t) 2);
    bool bounds_invalid_upwards_177690 = slt64(tmp_177689, (int64_t) 0);
    bool valid_177692 = !bounds_invalid_upwards_177690;
    bool protect_assert_disj_177693 = cond_177688 || valid_177692;
    bool protect_assert_disj_182189 = cond_177630 || protect_assert_disj_177693;
    bool range_valid_c_177694;
    
    if (!protect_assert_disj_182189) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177689, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178255 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178257 = sle64((int64_t) 0, zs_lhs_177631);
    bool i_p_m_t_s_leq_w_178258 = slt64(zs_lhs_177631, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool y_178259 = zzero_leq_i_p_m_t_s_178257 && i_p_m_t_s_leq_w_178258;
    bool ok_or_empty_178260 = empty_slice_178255 || y_178259;
    bool index_certs_178261;
    
    if (!ok_or_empty_178260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178262 = add64(defunc_0_merge_pipeline_res_175556, defunc_0_merge_pipeline_res_175557);
    int64_t j_m_i_178263 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, final_buffer_178262);
    bool empty_slice_178264 = j_m_i_178263 == (int64_t) 0;
    int64_t m_178265 = sub64(j_m_i_178263, (int64_t) 1);
    int64_t i_p_m_t_s_178266 = add64(final_buffer_178262, m_178265);
    bool zzero_leq_i_p_m_t_s_178267 = sle64((int64_t) 0, i_p_m_t_s_178266);
    bool i_p_m_t_s_leq_w_178268 = slt64(i_p_m_t_s_178266, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool zzero_lte_i_178269 = sle64((int64_t) 0, final_buffer_178262);
    bool i_lte_j_178270 = sle64(final_buffer_178262, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool y_178271 = i_p_m_t_s_leq_w_178268 && zzero_lte_i_178269;
    bool y_178272 = zzero_leq_i_p_m_t_s_178267 && y_178271;
    bool forwards_ok_178273 = i_lte_j_178270 && y_178272;
    bool ok_or_empty_178274 = empty_slice_178264 || forwards_ok_178273;
    bool index_certs_178275;
    
    if (!ok_or_empty_178274) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178262, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178276 = j_m_i_178263 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool empty_or_match_cert_178277;
    
    if (!dim_match_178276) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178263, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181846, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "mem_181846")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182662 = 0; nest_i_182662 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; nest_i_182662++) {
        ((int8_t *) mem_181846.mem)[nest_i_182662] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181848, bytes_181847, "mem_181848")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182663 = 0; i_182663 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; i_182663++) {
        int64_t x_182664 = defunc_0_merge_pipeline_res_175556 + i_182663 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[i_182663] = x_182664;
    }
    for (int64_t nest_i_182665 = 0; nest_i_182665 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; nest_i_182665++) {
        ((int8_t *) mem_181846.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + nest_i_182665] = (int8_t) 1;
    }
    for (int64_t i_182666 = 0; i_182666 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; i_182666++) {
        int64_t x_182667 = defunc_0_merge_pipeline_res_175557 + i_182666 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + i_182666] = x_182667;
    }
    
    int64_t tmp_offs_182668 = (int64_t) 0;
    
    if (!(tmp_offs_182668 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182668 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t tmp_offs_182669 = (int64_t) 0;
    
    if (!(tmp_offs_182669 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182669 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    if (memblock_alloc(ctx, &mem_181850, bytes_181847, "mem_181850")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182670 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, defunc_0_merge_pipeline_res_175556, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, defunc_0_merge_pipeline_res_175557, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t flat_dim_177647 = smallest_pow_2_geq_than_res_177636 * block_sizze_177646;
    bool x_182170 = !cond_177630;
    int64_t greatest_divisor_leq_than_arg1_177651 = mul64((int64_t) 2, block_sizze_177646);
    int64_t merge_block_sizze_177652;
    
    if (x_182170) {
        int64_t x_182172;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182172, (int64_t) 8, greatest_divisor_leq_than_arg1_177651) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177652 = x_182172;
    } else {
        merge_block_sizze_177652 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178327 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 0);
    int8_t index_concat_branch_178331 = btoi_bool_i8(index_concat_cmp_178327);
    int64_t index_concat_i_180471 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    int64_t index_primexp_180472 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180471);
    int64_t index_concat_branch_178325;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178325 = index_primexp_180472;
    } else {
        index_concat_branch_178325 = defunc_0_merge_pipeline_res_175556;
    }
    
    bool x_182166 = !index_concat_cmp_178327;
    bool protect_cond_conj_182176 = x_182166 && x_182170;
    double index_concat_178318;
    
    if (protect_cond_conj_182176) {
        double x_182168 = ((double *) a_list_mem_181052.mem)[defunc_0_merge_pipeline_res_175556];
        
        index_concat_178318 = x_182168;
    } else {
        index_concat_178318 = 0.0;
    }
    
    bool protect_cond_conj_182177 = index_concat_cmp_178327 && x_182170;
    double index_concat_180475;
    
    if (protect_cond_conj_182177) {
        double x_182164 = ((double *) b_list_mem_181053.mem)[index_primexp_180472];
        
        index_concat_180475 = x_182164;
    } else {
        index_concat_180475 = 0.0;
    }
    
    double index_concat_branch_178319;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178319 = index_concat_180475;
    } else {
        index_concat_branch_178319 = index_concat_178318;
    }
    
    int8_t defunc_0_reduce_res_180706;
    int64_t defunc_0_reduce_res_180707;
    double defunc_0_reduce_res_180708;
    
    if (x_182170) {
        int8_t x_182178;
        int64_t x_182179;
        double x_182180;
        int8_t redout_180860;
        int64_t redout_180861;
        double redout_180862;
        
        redout_180860 = index_concat_branch_178331;
        redout_180861 = index_concat_branch_178325;
        redout_180862 = index_concat_branch_178319;
        for (int64_t i_180863 = 0; i_180863 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584; i_180863++) {
            bool index_concat_cmp_180934 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, i_180863);
            int8_t index_concat_branch_180938 = btoi_bool_i8(index_concat_cmp_180934);
            int64_t index_concat_branch_180932;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180929 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t index_primexp_181022 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180929);
                
                index_concat_branch_180932 = index_primexp_181022;
            } else {
                int64_t index_primexp_181024 = add64(defunc_0_merge_pipeline_res_175556, i_180863);
                
                index_concat_branch_180932 = index_primexp_181024;
            }
            
            double index_concat_branch_180926;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180923 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t slice_181019 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180923;
                double index_concat_180924 = ((double *) b_list_mem_181053.mem)[slice_181019];
                
                index_concat_branch_180926 = index_concat_180924;
            } else {
                int64_t slice_181020 = defunc_0_merge_pipeline_res_175556 + i_180863;
                double index_concat_180925 = ((double *) a_list_mem_181052.mem)[slice_181020];
                
                index_concat_branch_180926 = index_concat_180925;
            }
            
            bool eq_x_y_181037 = redout_180860 == (int8_t) 1;
            bool eq_x_zz_181038 = redout_180860 == (int8_t) 0;
            bool p_and_eq_x_y_181039 = index_concat_cmp_180934 && eq_x_y_181037;
            bool not_p_181040 = !index_concat_cmp_180934;
            bool p_and_eq_x_y_181041 = eq_x_zz_181038 && not_p_181040;
            bool cond_177670 = p_and_eq_x_y_181039 || p_and_eq_x_y_181041;
            bool defunc_0_leq_res_t_res_177671 = sle64(redout_180861, index_concat_branch_180932);
            bool defunc_0_leq_res_177672 = redout_180862 <= index_concat_branch_180926;
            bool x_177673 = cond_177670 && defunc_0_leq_res_t_res_177671;
            bool x_177674 = !cond_177670;
            bool y_177675 = defunc_0_leq_res_177672 && x_177674;
            bool defunc_0_leq_res_177676 = x_177673 || y_177675;
            int8_t defunc_0_op_res_177677;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177677 = index_concat_branch_180938;
            } else {
                defunc_0_op_res_177677 = redout_180860;
            }
            
            int64_t defunc_0_op_res_177678;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177678 = index_concat_branch_180932;
            } else {
                defunc_0_op_res_177678 = redout_180861;
            }
            
            double defunc_0_op_res_177679;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177679 = index_concat_branch_180926;
            } else {
                defunc_0_op_res_177679 = redout_180862;
            }
            
            int8_t redout_tmp_182671 = defunc_0_op_res_177677;
            int64_t redout_tmp_182672 = defunc_0_op_res_177678;
            double redout_tmp_182673 = defunc_0_op_res_177679;
            
            redout_180860 = redout_tmp_182671;
            redout_180861 = redout_tmp_182672;
            redout_180862 = redout_tmp_182673;
        }
        x_182178 = redout_180860;
        x_182179 = redout_180861;
        x_182180 = redout_180862;
        defunc_0_reduce_res_180706 = x_182178;
        defunc_0_reduce_res_180707 = x_182179;
        defunc_0_reduce_res_180708 = x_182180;
    } else {
        defunc_0_reduce_res_180706 = (int8_t) 0;
        defunc_0_reduce_res_180707 = (int64_t) 0;
        defunc_0_reduce_res_180708 = 0.0;
    }
    
    int64_t distance_177691 = add64((int64_t) 1, tmp_177689);
    int64_t binop_x_181853 = (int64_t) 8 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181854 = block_sizze_177646 * binop_x_181853;
    int64_t bytes_181872 = (int64_t) 8 * block_sizze_177646;
    bool loop_cond_177800 = slt64(block_sizze_177646, flat_dim_177647);
    bool zzero_177801 = merge_block_sizze_177652 == (int64_t) 0;
    bool nonzzero_177802 = !zzero_177801;
    
    if (cond_177630) {
        if (memblock_set(ctx, &ext_mem_182145, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &mem_181850, "mem_181850") != 0)
            return 1;
    } else {
        if (mem_181852_cached_sizze_182830 < flat_dim_177647) {
            err = lexical_realloc(ctx, &mem_181852, &mem_181852_cached_sizze_182830, flat_dim_177647);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182831 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182831, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181858_cached_sizze_182832 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181858, &mem_181858_cached_sizze_182832, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181871_cached_sizze_182833 < block_sizze_177646) {
            err = lexical_realloc(ctx, &mem_181871, &mem_181871_cached_sizze_182833, block_sizze_177646);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181873_cached_sizze_182834 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181873, &mem_181873_cached_sizze_182834, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181875_cached_sizze_182835 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181875, &mem_181875_cached_sizze_182835, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180880 = 0; i_180880 < smallest_pow_2_geq_than_res_177636; i_180880++) {
            int64_t zp_lhs_177699 = mul64(block_sizze_177646, i_180880);
            
            for (int64_t i_180870 = 0; i_180870 < block_sizze_177646; i_180870++) {
                int64_t k_177704 = add64(zp_lhs_177699, i_180870);
                bool cond_177705 = slt64(k_177704, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
                int8_t lifted_lambda_res_177706;
                int64_t lifted_lambda_res_177707;
                double lifted_lambda_res_177708;
                
                if (cond_177705) {
                    bool x_180481 = sle64((int64_t) 0, k_177704);
                    bool bounds_check_180482 = cond_177705 && x_180481;
                    bool index_certs_180483;
                    
                    if (!bounds_check_180482) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177704, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180484 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, k_177704);
                    int8_t index_concat_branch_180485 = btoi_bool_i8(index_concat_cmp_180484);
                    int64_t index_concat_branch_180486;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180487 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t index_primexp_180488 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180487);
                        
                        index_concat_branch_180486 = index_primexp_180488;
                    } else {
                        int64_t index_primexp_180489 = add64(defunc_0_merge_pipeline_res_175556, k_177704);
                        
                        index_concat_branch_180486 = index_primexp_180489;
                    }
                    
                    double index_concat_branch_180490;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180491 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t slice_180492 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180491;
                        double index_concat_180493 = ((double *) b_list_mem_181053.mem)[slice_180492];
                        
                        index_concat_branch_180490 = index_concat_180493;
                    } else {
                        int64_t slice_180494 = defunc_0_merge_pipeline_res_175556 + k_177704;
                        double index_concat_180495 = ((double *) a_list_mem_181052.mem)[slice_180494];
                        
                        index_concat_branch_180490 = index_concat_180495;
                    }
                    lifted_lambda_res_177706 = index_concat_branch_180485;
                    lifted_lambda_res_177707 = index_concat_branch_180486;
                    lifted_lambda_res_177708 = index_concat_branch_180490;
                } else {
                    lifted_lambda_res_177706 = defunc_0_reduce_res_180706;
                    lifted_lambda_res_177707 = defunc_0_reduce_res_180707;
                    lifted_lambda_res_177708 = defunc_0_reduce_res_180708;
                }
                ((int8_t *) mem_181871)[i_180870] = lifted_lambda_res_177706;
                ((int64_t *) mem_181873)[i_180870] = lifted_lambda_res_177707;
                ((double *) mem_181875)[i_180870] = lifted_lambda_res_177708;
            }
            if (!cond_177688) {
                for (int64_t i_177721 = 0; i_177721 < distance_177691; i_177721++) {
                    int64_t gt_arg1_177725 = add64((int64_t) 1, i_177721);
                    bool x_177726 = sle64((int64_t) 0, gt_arg1_177725);
                    bool y_177727 = slt64(gt_arg1_177725, block_sizze_177646);
                    bool bounds_check_177728 = x_177726 && y_177727;
                    bool index_certs_177729;
                    
                    if (!bounds_check_177728) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177725, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177733 = slt64(i_177721, block_sizze_177646);
                    bool index_certs_177734;
                    
                    if (!y_177733) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177721, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177730 = ((int8_t *) mem_181871)[gt_arg1_177725];
                    int64_t gt_arg1_177731 = ((int64_t *) mem_181873)[gt_arg1_177725];
                    double gt_arg1_177732 = ((double *) mem_181875)[gt_arg1_177725];
                    int8_t gt_arg0_177735 = ((int8_t *) mem_181871)[i_177721];
                    int64_t gt_arg0_177736 = ((int64_t *) mem_181873)[i_177721];
                    double gt_arg0_177737 = ((double *) mem_181875)[i_177721];
                    bool cond_177738 = gt_arg0_177735 == gt_arg1_177730;
                    bool defunc_0_leq_res_t_res_177739 = sle64(gt_arg0_177736, gt_arg1_177731);
                    bool defunc_0_leq_res_177740 = gt_arg0_177737 <= gt_arg1_177732;
                    bool x_177741 = cond_177738 && defunc_0_leq_res_t_res_177739;
                    bool x_177742 = !cond_177738;
                    bool y_177743 = defunc_0_leq_res_177740 && x_177742;
                    bool defunc_0_leq_res_177744 = x_177741 || y_177743;
                    bool defunc_0_lifted_gt_res_177745 = !defunc_0_leq_res_177744;
                    bool s_177746;
                    int64_t s_177750;
                    bool loop_while_177751;
                    int64_t j_177755;
                    
                    loop_while_177751 = defunc_0_lifted_gt_res_177745;
                    j_177755 = i_177721;
                    while (loop_while_177751) {
                        bool x_177756 = sle64((int64_t) 0, j_177755);
                        bool y_177757 = slt64(j_177755, block_sizze_177646);
                        bool bounds_check_177758 = x_177756 && y_177757;
                        bool index_certs_177759;
                        
                        if (!bounds_check_177758) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177755, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177763 = add64((int64_t) 1, j_177755);
                        bool x_177764 = sle64((int64_t) 0, copy_arg0_177763);
                        bool y_177765 = slt64(copy_arg0_177763, block_sizze_177646);
                        bool bounds_check_177766 = x_177764 && y_177765;
                        bool index_certs_177767;
                        
                        if (!bounds_check_177766) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177763, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177760 = ((int8_t *) mem_181871)[j_177755];
                        int64_t copy_arg0_177761 = ((int64_t *) mem_181873)[j_177755];
                        double copy_arg0_177762 = ((double *) mem_181875)[j_177755];
                        int8_t copy_arg0_177768 = ((int8_t *) mem_181871)[copy_arg0_177763];
                        int64_t copy_arg0_177769 = ((int64_t *) mem_181873)[copy_arg0_177763];
                        double copy_arg0_177770 = ((double *) mem_181875)[copy_arg0_177763];
                        
                        ((int8_t *) mem_181871)[j_177755] = copy_arg0_177768;
                        ((int64_t *) mem_181873)[j_177755] = copy_arg0_177769;
                        ((double *) mem_181875)[j_177755] = copy_arg0_177770;
                        ((int8_t *) mem_181871)[copy_arg0_177763] = copy_arg0_177760;
                        ((int64_t *) mem_181873)[copy_arg0_177763] = copy_arg0_177761;
                        ((double *) mem_181875)[copy_arg0_177763] = copy_arg0_177762;
                        
                        int64_t tmp_177777 = sub64(j_177755, (int64_t) 1);
                        bool cond_177778 = sle64((int64_t) 0, tmp_177777);
                        bool loop_cond_177779;
                        
                        if (cond_177778) {
                            bool y_180499 = slt64(tmp_177777, block_sizze_177646);
                            bool bounds_check_180500 = cond_177778 && y_180499;
                            bool index_certs_180501;
                            
                            if (!bounds_check_180500) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177777, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180496 = ((int8_t *) mem_181871)[j_177755];
                            int64_t gt_arg1_180497 = ((int64_t *) mem_181873)[j_177755];
                            double gt_arg1_180498 = ((double *) mem_181875)[j_177755];
                            int8_t gt_arg0_180502 = ((int8_t *) mem_181871)[tmp_177777];
                            int64_t gt_arg0_180503 = ((int64_t *) mem_181873)[tmp_177777];
                            double gt_arg0_180504 = ((double *) mem_181875)[tmp_177777];
                            bool cond_180505 = gt_arg0_180502 == gt_arg1_180496;
                            bool defunc_0_leq_res_t_res_180506 = sle64(gt_arg0_180503, gt_arg1_180497);
                            bool defunc_0_leq_res_180507 = gt_arg0_180504 <= gt_arg1_180498;
                            bool x_180508 = cond_180505 && defunc_0_leq_res_t_res_180506;
                            bool x_180509 = !cond_180505;
                            bool y_180510 = defunc_0_leq_res_180507 && x_180509;
                            bool defunc_0_leq_res_180511 = x_180508 || y_180510;
                            bool defunc_0_lifted_gt_res_180512 = !defunc_0_leq_res_180511;
                            
                            loop_cond_177779 = defunc_0_lifted_gt_res_180512;
                        } else {
                            loop_cond_177779 = 0;
                        }
                        
                        bool loop_while_tmp_182683 = loop_cond_177779;
                        int64_t j_tmp_182687 = tmp_177777;
                        
                        loop_while_177751 = loop_while_tmp_182683;
                        j_177755 = j_tmp_182687;
                    }
                    s_177746 = loop_while_177751;
                    s_177750 = j_177755;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181852, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181871, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181855, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181873, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181858, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181875, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
        }
        if (memblock_alloc(ctx, &mem_181952, flat_dim_177647, "mem_181952")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181952.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint8_t *) mem_181852, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181956, bytes_181854, "mem_181956")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181956.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181960, bytes_181854, "mem_181960")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181960.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181858, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        
        int64_t data_177803;
        bool data_177804;
        int64_t data_177808;
        int64_t loop_dz2084Uz2082U_177809;
        bool loop_while_177810;
        int64_t stride_177814;
        
        if (memblock_set(ctx, &mem_param_181964, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181967, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181970, &mem_181960, "mem_181960") != 0)
            return 1;
        loop_dz2084Uz2082U_177809 = flat_dim_177647;
        loop_while_177810 = loop_cond_177800;
        stride_177814 = block_sizze_177646;
        while (loop_while_177810) {
            int64_t next_stride_177815 = mul64((int64_t) 2, stride_177814);
            bool zzero_177816 = next_stride_177815 == (int64_t) 0;
            bool nonzzero_177817 = !zzero_177816;
            bool nonzzero_cert_177818;
            
            if (!nonzzero_177817) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177819 = sdiv64(flat_dim_177647, next_stride_177815);
            bool bounds_invalid_upwards_177820 = slt64(num_merges_177819, (int64_t) 0);
            bool valid_177821 = !bounds_invalid_upwards_177820;
            bool range_valid_c_177822;
            
            if (!valid_177821) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177819, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177824 = sub64(next_stride_177815, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177825 = sle64((int64_t) 0, m_177824);
            bool cond_177827 = slt64(next_stride_177815, (int64_t) 10);
            bool protect_assert_disj_177828 = nonzzero_177802 || cond_177827;
            bool nonzzero_cert_177829;
            
            if (!protect_assert_disj_177828) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177830 = smod_safe64(next_stride_177815, merge_block_sizze_177652);
            bool num_blocks_177831 = zeze_lhs_177830 == (int64_t) 0;
            bool protect_assert_disj_177832 = cond_177827 || num_blocks_177831;
            bool assert_c_177833;
            
            if (!protect_assert_disj_177832) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177835 = sdiv_safe64(next_stride_177815, merge_block_sizze_177652);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836 = add64((int64_t) 1, num_blocks_177835);
            int64_t j_m_i_177837 = sub64(next_stride_177815, stride_177814);
            int64_t flat_dim_177838 = merge_block_sizze_177652 * num_blocks_177835;
            bool bounds_invalid_upwards_177839 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, (int64_t) 0);
            bool empty_slice_177840 = j_m_i_177837 == (int64_t) 0;
            int64_t m_177841 = sub64(j_m_i_177837, (int64_t) 1);
            bool zzero_lte_i_177842 = sle64((int64_t) 0, stride_177814);
            bool i_lte_j_177843 = sle64(stride_177814, next_stride_177815);
            bool empty_slice_177844 = stride_177814 == (int64_t) 0;
            int64_t m_177845 = sub64(stride_177814, (int64_t) 1);
            bool bounds_invalid_upwards_177846 = slt64(num_blocks_177835, (int64_t) 0);
            bool cond_177847 = slt64((int64_t) 0, stride_177814);
            bool valid_177848 = !bounds_invalid_upwards_177839;
            int64_t i_p_m_t_s_177849 = add64(stride_177814, m_177841);
            bool zzero_leq_i_p_m_t_s_177850 = sle64((int64_t) 0, m_177845);
            bool i_p_m_t_s_leq_w_177851 = slt64(m_177845, next_stride_177815);
            bool valid_177852 = !bounds_invalid_upwards_177846;
            bool i_p_m_t_s_leq_w_177853 = slt64(m_177824, flat_dim_177838);
            bool y_177854 = slt64((int64_t) 0, j_m_i_177837);
            bool protect_assert_disj_177855 = cond_177827 || valid_177848;
            bool range_valid_c_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177857 = sle64((int64_t) 0, i_p_m_t_s_177849);
            bool i_p_m_t_s_leq_w_177858 = slt64(i_p_m_t_s_177849, next_stride_177815);
            bool y_177859 = zzero_leq_i_p_m_t_s_177850 && i_p_m_t_s_leq_w_177851;
            bool protect_assert_disj_177860 = cond_177827 || valid_177852;
            bool range_valid_c_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177835, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177862 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177853;
            bool y_177863 = zzero_lte_i_177842 && i_p_m_t_s_leq_w_177858;
            bool forwards_ok_177864 = zzero_lte_i_177842 && y_177859;
            bool ok_or_empty_177865 = zzero_177816 || y_177862;
            bool protect_assert_disj_177866 = cond_177847 || y_177854;
            bool y_177867 = zzero_leq_i_p_m_t_s_177857 && y_177863;
            bool ok_or_empty_177868 = empty_slice_177844 || forwards_ok_177864;
            bool protect_assert_disj_177869 = cond_177827 || ok_or_empty_177865;
            bool index_certs_177870;
            
            if (!protect_assert_disj_177869) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) flat_dim_177838, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177871 = !cond_177827;
            bool protect_assert_disj_177872 = protect_assert_disj_177866 || loop_not_taken_177871;
            bool index_certs_177873;
            
            if (!protect_assert_disj_177872) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177874 = i_lte_j_177843 && y_177867;
            bool protect_assert_disj_177875 = cond_177827 || ok_or_empty_177868;
            bool index_certs_177876;
            
            if (!protect_assert_disj_177875) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177877 = ok_or_empty_177868 || loop_not_taken_177871;
            bool index_certs_177878;
            
            if (!protect_assert_disj_177877) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177879 = empty_slice_177840 || forwards_ok_177874;
            bool protect_assert_disj_177880 = cond_177827 || ok_or_empty_177879;
            bool index_certs_177881;
            
            if (!protect_assert_disj_177880) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177882 = loop_not_taken_177871 || ok_or_empty_177879;
            bool index_certs_177883;
            
            if (!protect_assert_disj_177882) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181971 = next_stride_177815 * num_merges_177819;
            int64_t binop_x_181973 = (int64_t) 8 * num_merges_177819;
            int64_t bytes_181974 = next_stride_177815 * binop_x_181973;
            bool i_lte_j_177826 = sle64((int64_t) 0, next_stride_177815);
            
            if (mem_181972_cached_sizze_182836 < bytes_181971) {
                err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182836, bytes_181971);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181975_cached_sizze_182837 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181975, &mem_181975_cached_sizze_182837, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181978_cached_sizze_182838 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181978, &mem_181978_cached_sizze_182838, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181991 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836;
            int64_t binop_x_182009 = (int64_t) 8 * num_blocks_177835;
            int64_t bytes_182010 = merge_block_sizze_177652 * binop_x_182009;
            int64_t bytes_182074 = (int64_t) 16 * stride_177814;
            
            for (int64_t i_180907 = 0; i_180907 < num_merges_177819; i_180907++) {
                int64_t start_177888 = mul64(next_stride_177815, i_180907);
                int64_t j_m_i_177889 = sub64(loop_dz2084Uz2082U_177809, start_177888);
                bool empty_slice_177890 = j_m_i_177889 == (int64_t) 0;
                int64_t m_177891 = sub64(j_m_i_177889, (int64_t) 1);
                int64_t i_p_m_t_s_177892 = add64(start_177888, m_177891);
                bool zzero_leq_i_p_m_t_s_177893 = sle64((int64_t) 0, i_p_m_t_s_177892);
                bool i_p_m_t_s_leq_w_177894 = slt64(i_p_m_t_s_177892, loop_dz2084Uz2082U_177809);
                bool zzero_lte_i_177895 = sle64((int64_t) 0, start_177888);
                bool i_lte_j_177896 = sle64(start_177888, loop_dz2084Uz2082U_177809);
                bool y_177897 = i_p_m_t_s_leq_w_177894 && zzero_lte_i_177895;
                bool y_177898 = zzero_leq_i_p_m_t_s_177893 && y_177897;
                bool forwards_ok_177899 = i_lte_j_177896 && y_177898;
                bool ok_or_empty_177900 = empty_slice_177890 || forwards_ok_177899;
                bool index_certs_177901;
                
                if (!ok_or_empty_177900) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177888, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177809, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177902 = slt64(m_177824, j_m_i_177889);
                bool y_177903 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177902;
                bool forwards_ok_177904 = i_lte_j_177826 && y_177903;
                bool ok_or_empty_177905 = zzero_177816 || forwards_ok_177904;
                bool index_certs_177906;
                
                if (!ok_or_empty_177905) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) j_m_i_177889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177827) {
                    int8_t dummy_180551;
                    int64_t dummy_180552;
                    double dummy_180553;
                    
                    if (cond_177847) {
                        int8_t head_res_180554 = ((int8_t *) mem_param_181964.mem)[start_177888];
                        int64_t head_res_180555 = ((int64_t *) mem_param_181967.mem)[start_177888];
                        double head_res_180556 = ((double *) mem_param_181970.mem)[start_177888];
                        
                        dummy_180551 = head_res_180554;
                        dummy_180552 = head_res_180555;
                        dummy_180553 = head_res_180556;
                    } else {
                        int64_t slice_180557 = stride_177814 + start_177888;
                        int8_t head_res_180558 = ((int8_t *) mem_param_181964.mem)[slice_180557];
                        int64_t head_res_180559 = ((int64_t *) mem_param_181967.mem)[slice_180557];
                        double head_res_180560 = ((double *) mem_param_181970.mem)[slice_180557];
                        
                        dummy_180551 = head_res_180558;
                        dummy_180552 = head_res_180559;
                        dummy_180553 = head_res_180560;
                    }
                    if (memblock_alloc(ctx, &mem_182073, next_stride_177815, "mem_182073")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182700 = 0; nest_i_182700 < next_stride_177815; nest_i_182700++) {
                        ((int8_t *) mem_182073.mem)[nest_i_182700] = dummy_180551;
                    }
                    if (memblock_alloc(ctx, &mem_182075, bytes_182074, "mem_182075")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182701 = 0; nest_i_182701 < next_stride_177815; nest_i_182701++) {
                        ((int64_t *) mem_182075.mem)[nest_i_182701] = dummy_180552;
                    }
                    if (memblock_alloc(ctx, &mem_182077, bytes_182074, "mem_182077")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182702 = 0; nest_i_182702 < next_stride_177815; nest_i_182702++) {
                        ((double *) mem_182077.mem)[nest_i_182702] = dummy_180553;
                    }
                    
                    int64_t data_180564;
                    int64_t i_180569 = (int64_t) 0;
                    
                    for (int64_t k_180568 = 0; k_180568 < next_stride_177815; k_180568++) {
                        int64_t j_180573 = sub64(k_180568, i_180569);
                        bool cond_180574 = j_180573 == j_m_i_177837;
                        bool cond_180575;
                        
                        if (cond_180574) {
                            cond_180575 = 1;
                        } else {
                            bool cond_180576 = slt64(i_180569, stride_177814);
                            bool cond_f_res_180577;
                            
                            if (cond_180576) {
                                bool x_180578 = sle64((int64_t) 0, j_180573);
                                bool y_180579 = slt64(j_180573, j_m_i_177837);
                                bool bounds_check_180580 = x_180578 && y_180579;
                                bool index_certs_180581;
                                
                                if (!bounds_check_180580) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180587 = sle64((int64_t) 0, i_180569);
                                bool bounds_check_180588 = cond_180576 && x_180587;
                                bool index_certs_180589;
                                
                                if (!bounds_check_180588) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180582 = stride_177814 + j_180573;
                                int64_t slice_180583 = start_177888 + slice_180582;
                                int8_t leq_arg1_180584 = ((int8_t *) mem_param_181964.mem)[slice_180583];
                                int64_t leq_arg1_180585 = ((int64_t *) mem_param_181967.mem)[slice_180583];
                                double leq_arg1_180586 = ((double *) mem_param_181970.mem)[slice_180583];
                                int64_t slice_180590 = start_177888 + i_180569;
                                int8_t leq_arg0_180591 = ((int8_t *) mem_param_181964.mem)[slice_180590];
                                int64_t leq_arg0_180592 = ((int64_t *) mem_param_181967.mem)[slice_180590];
                                double leq_arg0_180593 = ((double *) mem_param_181970.mem)[slice_180590];
                                bool cond_180594 = leq_arg0_180591 == leq_arg1_180584;
                                bool defunc_0_leq_res_t_res_180595 = sle64(leq_arg0_180592, leq_arg1_180585);
                                bool defunc_0_leq_res_180596 = leq_arg0_180593 <= leq_arg1_180586;
                                bool x_180597 = cond_180594 && defunc_0_leq_res_t_res_180595;
                                bool x_180598 = !cond_180594;
                                bool y_180599 = defunc_0_leq_res_180596 && x_180598;
                                bool defunc_0_leq_res_180600 = x_180597 || y_180599;
                                
                                cond_f_res_180577 = defunc_0_leq_res_180600;
                            } else {
                                cond_f_res_180577 = 0;
                            }
                            cond_180575 = cond_f_res_180577;
                        }
                        
                        int64_t loopres_180601;
                        int8_t loopres_180602;
                        int64_t loopres_180603;
                        double loopres_180604;
                        
                        if (cond_180575) {
                            bool x_180606 = sle64((int64_t) 0, i_180569);
                            bool y_180607 = slt64(i_180569, stride_177814);
                            bool bounds_check_180608 = x_180606 && y_180607;
                            bool index_certs_180609;
                            
                            if (!bounds_check_180608) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180605 = add64((int64_t) 1, i_180569);
                            int64_t slice_180610 = start_177888 + i_180569;
                            int8_t tmp_180611 = ((int8_t *) mem_param_181964.mem)[slice_180610];
                            int64_t tmp_180612 = ((int64_t *) mem_param_181967.mem)[slice_180610];
                            double tmp_180613 = ((double *) mem_param_181970.mem)[slice_180610];
                            
                            loopres_180601 = tmp_180605;
                            loopres_180602 = tmp_180611;
                            loopres_180603 = tmp_180612;
                            loopres_180604 = tmp_180613;
                        } else {
                            bool x_180614 = sle64((int64_t) 0, j_180573);
                            bool y_180615 = slt64(j_180573, j_m_i_177837);
                            bool bounds_check_180616 = x_180614 && y_180615;
                            bool index_certs_180617;
                            
                            if (!bounds_check_180616) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180618 = stride_177814 + j_180573;
                            int64_t slice_180619 = start_177888 + slice_180618;
                            int8_t tmp_180620 = ((int8_t *) mem_param_181964.mem)[slice_180619];
                            int64_t tmp_180621 = ((int64_t *) mem_param_181967.mem)[slice_180619];
                            double tmp_180622 = ((double *) mem_param_181970.mem)[slice_180619];
                            
                            loopres_180601 = i_180569;
                            loopres_180602 = tmp_180620;
                            loopres_180603 = tmp_180621;
                            loopres_180604 = tmp_180622;
                        }
                        ((int8_t *) mem_182073.mem)[k_180568] = loopres_180602;
                        ((int64_t *) mem_182075.mem)[k_180568] = loopres_180603;
                        ((double *) mem_182077.mem)[k_180568] = loopres_180604;
                        
                        int64_t i_tmp_182703 = loopres_180601;
                        
                        i_180569 = i_tmp_182703;
                    }
                    data_180564 = i_180569;
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182073, "mem_182073") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182075, "mem_182075") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182077, "mem_182077") != 0)
                        return 1;
                } else {
                    if (mem_181992_cached_sizze_182839 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181992, &mem_181992_cached_sizze_182839, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182840 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182840, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180888 = 0; i_180888 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836; i_180888++) {
                        int64_t split_count_arg3_177989 = mul64(merge_block_sizze_177652, i_180888);
                        int64_t defunc_0_split_count_res_177990;
                        int64_t defunc_0_split_count_res_177991;
                        int64_t defunc_0_split_count_res_177992;
                        int64_t defunc_0_split_count_res_177993;
                        int64_t defunc_0_split_count_res_177994;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177990, &defunc_0_split_count_res_177991, &defunc_0_split_count_res_177992, &defunc_0_split_count_res_177993, &defunc_0_split_count_res_177994, (int64_t) 0, stride_177814, (int64_t) 0, j_m_i_177837, split_count_arg3_177989) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177995 = slt64((int64_t) 0, defunc_0_split_count_res_177994);
                        bool defunc_0_split_count_res_177996;
                        int64_t defunc_0_split_count_res_177997;
                        int64_t defunc_0_split_count_res_177998;
                        int64_t defunc_0_split_count_res_177999;
                        int64_t defunc_0_split_count_res_178000;
                        int64_t defunc_0_split_count_res_178001;
                        bool loop_while_178002;
                        int64_t ss_178003;
                        int64_t ss_178004;
                        int64_t tt_178005;
                        int64_t tt_178006;
                        int64_t count_178007;
                        
                        loop_while_178002 = loop_cond_177995;
                        ss_178003 = defunc_0_split_count_res_177990;
                        ss_178004 = defunc_0_split_count_res_177991;
                        tt_178005 = defunc_0_split_count_res_177992;
                        tt_178006 = defunc_0_split_count_res_177993;
                        count_178007 = defunc_0_split_count_res_177994;
                        while (loop_while_178002) {
                            int64_t zlze_lhs_178008 = sub64(ss_178004, ss_178003);
                            bool cond_178009 = sle64(zlze_lhs_178008, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178010;
                            int64_t defunc_0_lifted_step_res_178011;
                            int64_t defunc_0_lifted_step_res_178012;
                            int64_t defunc_0_lifted_step_res_178013;
                            
                            if (cond_178009) {
                                int64_t tmp_180626 = add64(tt_178005, count_178007);
                                
                                defunc_0_lifted_step_res_178010 = ss_178003;
                                defunc_0_lifted_step_res_178011 = tmp_180626;
                                defunc_0_lifted_step_res_178012 = tt_178006;
                                defunc_0_lifted_step_res_178013 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178015 = sub64(tt_178006, tt_178005);
                                bool cond_178016 = sle64(zlze_lhs_178015, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178017;
                                int64_t defunc_0_lifted_step_res_f_res_178018;
                                int64_t defunc_0_lifted_step_res_f_res_178019;
                                int64_t defunc_0_lifted_step_res_f_res_178020;
                                
                                if (cond_178016) {
                                    int64_t tmp_180627 = add64(ss_178003, count_178007);
                                    
                                    defunc_0_lifted_step_res_f_res_178017 = tmp_180627;
                                    defunc_0_lifted_step_res_f_res_178018 = tt_178005;
                                    defunc_0_lifted_step_res_f_res_178019 = tt_178006;
                                    defunc_0_lifted_step_res_f_res_178020 = (int64_t) 0;
                                } else {
                                    bool cond_178022 = count_178007 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178023;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178024;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178025;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178026;
                                    
                                    if (cond_178022) {
                                        bool x_180629 = sle64((int64_t) 0, ss_178003);
                                        bool y_180630 = slt64(ss_178003, stride_177814);
                                        bool bounds_check_180631 = x_180629 && y_180630;
                                        bool index_certs_180632;
                                        
                                        if (!bounds_check_180631) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178003, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180637 = sle64((int64_t) 0, tt_178005);
                                        bool y_180638 = slt64(tt_178005, j_m_i_177837);
                                        bool bounds_check_180639 = x_180637 && y_180638;
                                        bool index_certs_180640;
                                        
                                        if (!bounds_check_180639) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178005, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180633 = start_177888 + ss_178003;
                                        int8_t leq_arg1_180634 = ((int8_t *) mem_param_181964.mem)[slice_180633];
                                        int64_t leq_arg1_180635 = ((int64_t *) mem_param_181967.mem)[slice_180633];
                                        double leq_arg1_180636 = ((double *) mem_param_181970.mem)[slice_180633];
                                        int64_t slice_180641 = stride_177814 + tt_178005;
                                        int64_t slice_180642 = start_177888 + slice_180641;
                                        int8_t leq_arg0_180643 = ((int8_t *) mem_param_181964.mem)[slice_180642];
                                        int64_t leq_arg0_180644 = ((int64_t *) mem_param_181967.mem)[slice_180642];
                                        double leq_arg0_180645 = ((double *) mem_param_181970.mem)[slice_180642];
                                        bool cond_180646 = leq_arg0_180643 == leq_arg1_180634;
                                        bool defunc_0_leq_res_t_res_180647 = sle64(leq_arg0_180644, leq_arg1_180635);
                                        bool defunc_0_leq_res_180648 = leq_arg0_180645 <= leq_arg1_180636;
                                        bool x_180649 = cond_180646 && defunc_0_leq_res_t_res_180647;
                                        bool x_180650 = !cond_180646;
                                        bool y_180651 = defunc_0_leq_res_180648 && x_180650;
                                        bool defunc_0_leq_res_180652 = x_180649 || y_180651;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        
                                        if (defunc_0_leq_res_180652) {
                                            int64_t tmp_180655 = add64((int64_t) 1, tt_178005);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = ss_178003;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tmp_180655;
                                        } else {
                                            int64_t tmp_180656 = add64((int64_t) 1, ss_178003);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = tmp_180656;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tt_178005;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = tt_178006;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = (int64_t) 0;
                                    } else {
                                        int64_t m_178055 = sdiv64(count_178007, (int64_t) 2);
                                        int64_t n_178056 = sub64(count_178007, m_178055);
                                        bool cond_178057 = n_178056 == (int64_t) 0;
                                        int64_t zgze_lhs_178058 = add64(ss_178003, m_178055);
                                        bool cond_f_res_178059 = sle64(ss_178004, zgze_lhs_178058);
                                        bool x_178060 = !cond_178057;
                                        bool y_178061 = cond_f_res_178059 && x_178060;
                                        bool cond_178062 = cond_178057 || y_178061;
                                        bool leq_y_x_178063;
                                        
                                        if (cond_178062) {
                                            leq_y_x_178063 = 1;
                                        } else {
                                            bool x_178064 = sle64((int64_t) 0, zgze_lhs_178058);
                                            bool y_178065 = slt64(zgze_lhs_178058, stride_177814);
                                            bool bounds_check_178066 = x_178064 && y_178065;
                                            bool index_certs_178067;
                                            
                                            if (!bounds_check_178066) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178058, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178072 = add64(tt_178005, n_178056);
                                            int64_t leq_arg0_178073 = sub64(zm_lhs_178072, (int64_t) 1);
                                            bool x_178074 = sle64((int64_t) 0, leq_arg0_178073);
                                            bool y_178075 = slt64(leq_arg0_178073, j_m_i_177837);
                                            bool bounds_check_178076 = x_178074 && y_178075;
                                            bool index_certs_178077;
                                            
                                            if (!bounds_check_178076) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178073, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178068 = start_177888 + zgze_lhs_178058;
                                            int8_t leq_arg1_178069 = ((int8_t *) mem_param_181964.mem)[slice_178068];
                                            int64_t leq_arg1_178070 = ((int64_t *) mem_param_181967.mem)[slice_178068];
                                            double leq_arg1_178071 = ((double *) mem_param_181970.mem)[slice_178068];
                                            int64_t slice_178078 = stride_177814 + leq_arg0_178073;
                                            int64_t slice_178079 = start_177888 + slice_178078;
                                            int8_t leq_arg0_178080 = ((int8_t *) mem_param_181964.mem)[slice_178079];
                                            int64_t leq_arg0_178081 = ((int64_t *) mem_param_181967.mem)[slice_178079];
                                            double leq_arg0_178082 = ((double *) mem_param_181970.mem)[slice_178079];
                                            bool cond_178083 = leq_arg0_178080 == leq_arg1_178069;
                                            bool defunc_0_leq_res_t_res_178084 = sle64(leq_arg0_178081, leq_arg1_178070);
                                            bool defunc_0_leq_res_178085 = leq_arg0_178082 <= leq_arg1_178071;
                                            bool x_178086 = cond_178083 && defunc_0_leq_res_t_res_178084;
                                            bool x_178087 = !cond_178083;
                                            bool y_178088 = defunc_0_leq_res_178085 && x_178087;
                                            bool defunc_0_leq_res_178089 = x_178086 || y_178088;
                                            
                                            leq_y_x_178063 = defunc_0_leq_res_178089;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                        
                                        if (leq_y_x_178063) {
                                            int64_t tmp_180657 = add64(tt_178005, n_178056);
                                            int64_t tmp_180658 = sub64(count_178007, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tmp_180657;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tt_178006;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = tmp_180658;
                                        } else {
                                            int64_t tmp_178095 = add64(tt_178005, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tt_178005;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tmp_178095;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = count_178007;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = ss_178003;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                    }
                                    defunc_0_lifted_step_res_f_res_178017 = defunc_0_lifted_step_res_f_res_f_res_178023;
                                    defunc_0_lifted_step_res_f_res_178018 = defunc_0_lifted_step_res_f_res_f_res_178024;
                                    defunc_0_lifted_step_res_f_res_178019 = defunc_0_lifted_step_res_f_res_f_res_178025;
                                    defunc_0_lifted_step_res_f_res_178020 = defunc_0_lifted_step_res_f_res_f_res_178026;
                                }
                                defunc_0_lifted_step_res_178010 = defunc_0_lifted_step_res_f_res_178017;
                                defunc_0_lifted_step_res_178011 = defunc_0_lifted_step_res_f_res_178018;
                                defunc_0_lifted_step_res_178012 = defunc_0_lifted_step_res_f_res_178019;
                                defunc_0_lifted_step_res_178013 = defunc_0_lifted_step_res_f_res_178020;
                            }
                            
                            int64_t loopres_178096;
                            int64_t loopres_178097;
                            int64_t loopres_178098;
                            int64_t loopres_178099;
                            int64_t loopres_178100;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_178096, &loopres_178097, &loopres_178098, &loopres_178099, &loopres_178100, defunc_0_lifted_step_res_178010, ss_178004, defunc_0_lifted_step_res_178011, defunc_0_lifted_step_res_178012, defunc_0_lifted_step_res_178013) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178101 = slt64((int64_t) 0, loopres_178100);
                            bool loop_while_tmp_182709 = loop_cond_178101;
                            int64_t ss_tmp_182710 = loopres_178096;
                            int64_t ss_tmp_182711 = loopres_178097;
                            int64_t tt_tmp_182712 = loopres_178098;
                            int64_t tt_tmp_182713 = loopres_178099;
                            int64_t count_tmp_182714 = loopres_178100;
                            
                            loop_while_178002 = loop_while_tmp_182709;
                            ss_178003 = ss_tmp_182710;
                            ss_178004 = ss_tmp_182711;
                            tt_178005 = tt_tmp_182712;
                            tt_178006 = tt_tmp_182713;
                            count_178007 = count_tmp_182714;
                        }
                        defunc_0_split_count_res_177996 = loop_while_178002;
                        defunc_0_split_count_res_177997 = ss_178003;
                        defunc_0_split_count_res_177998 = ss_178004;
                        defunc_0_split_count_res_177999 = tt_178005;
                        defunc_0_split_count_res_178000 = tt_178006;
                        defunc_0_split_count_res_178001 = count_178007;
                        ((int64_t *) mem_181992)[i_180888] = defunc_0_split_count_res_177997;
                        ((int64_t *) mem_181994)[i_180888] = defunc_0_split_count_res_177999;
                    }
                    if (mem_182008_cached_sizze_182841 < flat_dim_177838) {
                        err = lexical_realloc(ctx, &mem_182008, &mem_182008_cached_sizze_182841, flat_dim_177838);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182011_cached_sizze_182842 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182011, &mem_182011_cached_sizze_182842, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182014_cached_sizze_182843 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182014, &mem_182014_cached_sizze_182843, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180897 = 0; i_180897 < num_blocks_177835; i_180897++) {
                        bool y_178108 = slt64(i_180897, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool index_certs_178110;
                        
                        if (!y_178108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178111 = ((int64_t *) mem_181992)[i_180897];
                        int64_t defunc_0_f_res_178112 = ((int64_t *) mem_181994)[i_180897];
                        int64_t tmp_178113 = add64((int64_t) 1, i_180897);
                        bool x_178114 = sle64((int64_t) 0, tmp_178113);
                        bool y_178115 = slt64(tmp_178113, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool bounds_check_178116 = x_178114 && y_178115;
                        bool index_certs_178117;
                        
                        if (!bounds_check_178116) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178113, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178118 = ((int64_t *) mem_181992)[tmp_178113];
                        int64_t defunc_0_f_res_178119 = ((int64_t *) mem_181994)[tmp_178113];
                        int64_t merge_sequential_arg2_178120 = add64(stride_177814, defunc_0_f_res_178112);
                        int64_t merge_sequential_arg2_178121 = add64(stride_177814, defunc_0_f_res_178119);
                        int64_t j_m_i_178122 = sub64(merge_sequential_arg2_178121, merge_sequential_arg2_178120);
                        bool empty_slice_178123 = j_m_i_178122 == (int64_t) 0;
                        int64_t m_178124 = sub64(j_m_i_178122, (int64_t) 1);
                        int64_t i_p_m_t_s_178125 = add64(merge_sequential_arg2_178120, m_178124);
                        bool zzero_leq_i_p_m_t_s_178126 = sle64((int64_t) 0, i_p_m_t_s_178125);
                        bool i_p_m_t_s_leq_w_178127 = slt64(i_p_m_t_s_178125, next_stride_177815);
                        bool zzero_lte_i_178128 = sle64((int64_t) 0, merge_sequential_arg2_178120);
                        bool i_lte_j_178129 = sle64(merge_sequential_arg2_178120, merge_sequential_arg2_178121);
                        bool y_178130 = i_p_m_t_s_leq_w_178127 && zzero_lte_i_178128;
                        bool y_178131 = zzero_leq_i_p_m_t_s_178126 && y_178130;
                        bool forwards_ok_178132 = i_lte_j_178129 && y_178131;
                        bool ok_or_empty_178133 = empty_slice_178123 || forwards_ok_178132;
                        bool index_certs_178134;
                        
                        if (!ok_or_empty_178133) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178120, ":", (long long) merge_sequential_arg2_178121, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178135 = sub64(defunc_0_f_res_178118, defunc_0_f_res_178111);
                        bool empty_slice_178136 = j_m_i_178135 == (int64_t) 0;
                        int64_t m_178137 = sub64(j_m_i_178135, (int64_t) 1);
                        int64_t i_p_m_t_s_178138 = add64(defunc_0_f_res_178111, m_178137);
                        bool zzero_leq_i_p_m_t_s_178139 = sle64((int64_t) 0, i_p_m_t_s_178138);
                        bool i_p_m_t_s_leq_w_178140 = slt64(i_p_m_t_s_178138, next_stride_177815);
                        bool zzero_lte_i_178141 = sle64((int64_t) 0, defunc_0_f_res_178111);
                        bool i_lte_j_178142 = sle64(defunc_0_f_res_178111, defunc_0_f_res_178118);
                        bool y_178143 = i_p_m_t_s_leq_w_178140 && zzero_lte_i_178141;
                        bool y_178144 = zzero_leq_i_p_m_t_s_178139 && y_178143;
                        bool forwards_ok_178145 = i_lte_j_178142 && y_178144;
                        bool ok_or_empty_178146 = empty_slice_178136 || forwards_ok_178145;
                        bool index_certs_178147;
                        
                        if (!ok_or_empty_178146) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178111, ":", (long long) defunc_0_f_res_178118, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178148 = slt64((int64_t) 0, j_m_i_178135);
                        int8_t dummy_178149;
                        int64_t dummy_178150;
                        double dummy_178151;
                        
                        if (cond_178148) {
                            bool index_certs_180659;
                            
                            if (!cond_178148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180660 = start_177888 + defunc_0_f_res_178111;
                            int8_t head_res_180661 = ((int8_t *) mem_param_181964.mem)[slice_180660];
                            int64_t head_res_180662 = ((int64_t *) mem_param_181967.mem)[slice_180660];
                            double head_res_180663 = ((double *) mem_param_181970.mem)[slice_180660];
                            
                            dummy_178149 = head_res_180661;
                            dummy_178150 = head_res_180662;
                            dummy_178151 = head_res_180663;
                        } else {
                            bool y_178157 = slt64((int64_t) 0, j_m_i_178122);
                            bool index_certs_178158;
                            
                            if (!y_178157) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178159 = start_177888 + merge_sequential_arg2_178120;
                            int8_t head_res_178160 = ((int8_t *) mem_param_181964.mem)[slice_178159];
                            int64_t head_res_178161 = ((int64_t *) mem_param_181967.mem)[slice_178159];
                            double head_res_178162 = ((double *) mem_param_181970.mem)[slice_178159];
                            
                            dummy_178149 = head_res_178160;
                            dummy_178150 = head_res_178161;
                            dummy_178151 = head_res_178162;
                        }
                        for (int64_t nest_i_182718 = 0; nest_i_182718 < merge_block_sizze_177652; nest_i_182718++) {
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + nest_i_182718] = dummy_178149;
                        }
                        for (int64_t nest_i_182719 = 0; nest_i_182719 < merge_block_sizze_177652; nest_i_182719++) {
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + nest_i_182719] = dummy_178150;
                        }
                        for (int64_t nest_i_182720 = 0; nest_i_182720 < merge_block_sizze_177652; nest_i_182720++) {
                            ((double *) mem_182014)[i_180897 * merge_block_sizze_177652 + nest_i_182720] = dummy_178151;
                        }
                        
                        int64_t data_178166;
                        int64_t i_178171 = (int64_t) 0;
                        
                        for (int64_t k_178170 = 0; k_178170 < merge_block_sizze_177652; k_178170++) {
                            int64_t j_178175 = sub64(k_178170, i_178171);
                            bool cond_178176 = j_178175 == j_m_i_178122;
                            bool cond_178177;
                            
                            if (cond_178176) {
                                cond_178177 = 1;
                            } else {
                                bool cond_178178 = slt64(i_178171, j_m_i_178135);
                                bool cond_f_res_178179;
                                
                                if (cond_178178) {
                                    bool x_180664 = sle64((int64_t) 0, j_178175);
                                    bool y_180665 = slt64(j_178175, j_m_i_178122);
                                    bool bounds_check_180666 = x_180664 && y_180665;
                                    bool index_certs_180667;
                                    
                                    if (!bounds_check_180666) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180673 = sle64((int64_t) 0, i_178171);
                                    bool bounds_check_180674 = cond_178178 && x_180673;
                                    bool index_certs_180675;
                                    
                                    if (!bounds_check_180674) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180668 = merge_sequential_arg2_178120 + j_178175;
                                    int64_t slice_180669 = start_177888 + slice_180668;
                                    int8_t leq_arg1_180670 = ((int8_t *) mem_param_181964.mem)[slice_180669];
                                    int64_t leq_arg1_180671 = ((int64_t *) mem_param_181967.mem)[slice_180669];
                                    double leq_arg1_180672 = ((double *) mem_param_181970.mem)[slice_180669];
                                    int64_t slice_180676 = defunc_0_f_res_178111 + i_178171;
                                    int64_t slice_180677 = start_177888 + slice_180676;
                                    int8_t leq_arg0_180678 = ((int8_t *) mem_param_181964.mem)[slice_180677];
                                    int64_t leq_arg0_180679 = ((int64_t *) mem_param_181967.mem)[slice_180677];
                                    double leq_arg0_180680 = ((double *) mem_param_181970.mem)[slice_180677];
                                    bool cond_180681 = leq_arg0_180678 == leq_arg1_180670;
                                    bool defunc_0_leq_res_t_res_180682 = sle64(leq_arg0_180679, leq_arg1_180671);
                                    bool defunc_0_leq_res_180683 = leq_arg0_180680 <= leq_arg1_180672;
                                    bool x_180684 = cond_180681 && defunc_0_leq_res_t_res_180682;
                                    bool x_180685 = !cond_180681;
                                    bool y_180686 = defunc_0_leq_res_180683 && x_180685;
                                    bool defunc_0_leq_res_180687 = x_180684 || y_180686;
                                    
                                    cond_f_res_178179 = defunc_0_leq_res_180687;
                                } else {
                                    cond_f_res_178179 = 0;
                                }
                                cond_178177 = cond_f_res_178179;
                            }
                            
                            int64_t loopres_178204;
                            int8_t loopres_178205;
                            int64_t loopres_178206;
                            double loopres_178207;
                            
                            if (cond_178177) {
                                bool x_180689 = sle64((int64_t) 0, i_178171);
                                bool y_180690 = slt64(i_178171, j_m_i_178135);
                                bool bounds_check_180691 = x_180689 && y_180690;
                                bool index_certs_180692;
                                
                                if (!bounds_check_180691) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180688 = add64((int64_t) 1, i_178171);
                                int64_t slice_180693 = defunc_0_f_res_178111 + i_178171;
                                int64_t slice_180694 = start_177888 + slice_180693;
                                int8_t tmp_180695 = ((int8_t *) mem_param_181964.mem)[slice_180694];
                                int64_t tmp_180696 = ((int64_t *) mem_param_181967.mem)[slice_180694];
                                double tmp_180697 = ((double *) mem_param_181970.mem)[slice_180694];
                                
                                loopres_178204 = tmp_180688;
                                loopres_178205 = tmp_180695;
                                loopres_178206 = tmp_180696;
                                loopres_178207 = tmp_180697;
                            } else {
                                bool x_178218 = sle64((int64_t) 0, j_178175);
                                bool y_178219 = slt64(j_178175, j_m_i_178122);
                                bool bounds_check_178220 = x_178218 && y_178219;
                                bool index_certs_178221;
                                
                                if (!bounds_check_178220) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178222 = merge_sequential_arg2_178120 + j_178175;
                                int64_t slice_178223 = start_177888 + slice_178222;
                                int8_t tmp_178224 = ((int8_t *) mem_param_181964.mem)[slice_178223];
                                int64_t tmp_178225 = ((int64_t *) mem_param_181967.mem)[slice_178223];
                                double tmp_178226 = ((double *) mem_param_181970.mem)[slice_178223];
                                
                                loopres_178204 = i_178171;
                                loopres_178205 = tmp_178224;
                                loopres_178206 = tmp_178225;
                                loopres_178207 = tmp_178226;
                            }
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178205;
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178206;
                            ((double *) mem_182014)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178207;
                            
                            int64_t i_tmp_182721 = loopres_178204;
                            
                            i_178171 = i_tmp_182721;
                        }
                        data_178166 = i_178171;
                    }
                    if (memblock_alloc(ctx, &mem_182063, flat_dim_177838, "mem_182063")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182063.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint8_t *) mem_182008, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182067, bytes_182010, "mem_182067")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182067.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182011, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182071, bytes_182010, "mem_182071")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182071.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182014, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182063, "mem_182063") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182067, "mem_182067") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182071, "mem_182071") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181972, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181975, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181978, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182098.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182118, bytes_181971, "mem_182118")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182118.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint8_t *) mem_181972, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182122, bytes_181974, "mem_182122")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182122.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181975, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182126, bytes_181974, "mem_182126")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182126.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181978, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            
            bool loop_cond_178240 = slt64(next_stride_177815, flat_dim_177647);
            
            if (memblock_set(ctx, &mem_param_tmp_182688, &mem_182118, "mem_182118") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182689, &mem_182122, "mem_182122") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182690, &mem_182126, "mem_182126") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182691 = bytes_181971;
            bool loop_while_tmp_182692 = loop_cond_178240;
            int64_t stride_tmp_182696 = next_stride_177815;
            
            if (memblock_set(ctx, &mem_param_181964, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181967, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181970, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
                return 1;
            loop_dz2084Uz2082U_177809 = loop_dz2084Uz2082U_tmp_182691;
            loop_while_177810 = loop_while_tmp_182692;
            stride_177814 = stride_tmp_182696;
        }
        if (memblock_set(ctx, &ext_mem_182136, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182135, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182134, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        data_177803 = loop_dz2084Uz2082U_177809;
        data_177804 = loop_while_177810;
        data_177808 = stride_177814;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178243 = slt64(zs_lhs_177631, data_177803);
        bool y_178244 = i_p_m_t_s_leq_w_178243 && zzero_leq_i_p_m_t_s_178257;
        bool ok_or_empty_178245 = y_178244 || empty_slice_178255;
        bool index_certs_178246;
        
        if (!ok_or_empty_178245) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) data_177803, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182145, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182145.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181056.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182139.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181056, "mem_181056") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182468, &mem_181058, "mem_181058") != 0)
        return 1;
    prim_out_182469 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    if (memblock_set(ctx, &*mem_out_p_182790, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182791, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182792, &mem_out_182468, "mem_out_182468") != 0)
        return 1;
    *out_prim_out_182793 = prim_out_182469;
    
  cleanup:
    {
        free(mem_181069);
        free(mem_181071);
        free(mem_181110);
        free(mem_181113);
        free(mem_181116);
        free(mem_181129);
        free(mem_181131);
        free(mem_181133);
        free(mem_181230);
        free(mem_181233);
        free(mem_181236);
        free(mem_181250);
        free(mem_181252);
        free(mem_181266);
        free(mem_181269);
        free(mem_181272);
        free(mem_181414);
        free(mem_181416);
        free(mem_181431);
        free(mem_181433);
        free(mem_181436);
        free(mem_181439);
        free(mem_181473);
        free(mem_181476);
        free(mem_181479);
        free(mem_181492);
        free(mem_181494);
        free(mem_181496);
        free(mem_181593);
        free(mem_181596);
        free(mem_181599);
        free(mem_181613);
        free(mem_181615);
        free(mem_181629);
        free(mem_181632);
        free(mem_181635);
        free(mem_181852);
        free(mem_181855);
        free(mem_181858);
        free(mem_181871);
        free(mem_181873);
        free(mem_181875);
        free(mem_181972);
        free(mem_181975);
        free(mem_181978);
        free(mem_181992);
        free(mem_181994);
        free(mem_182008);
        free(mem_182011);
        free(mem_182014);
        if (memblock_unref(ctx, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182126, "mem_182126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182122, "mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182118, "mem_182118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182071, "mem_182071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182067, "mem_182067") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182063, "mem_182063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182077, "mem_182077") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182075, "mem_182075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182073, "mem_182073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181384, "mem_181384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181380, "mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181376, "mem_181376") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181329, "mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181325, "mem_181325") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181321, "mem_181321") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181335, "mem_181335") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181333, "mem_181333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181228, "mem_param_181228") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181225, "mem_param_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181222, "mem_param_181222") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181392, "ext_mem_181392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181393, "ext_mem_181393") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181394, "ext_mem_181394") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181795, "mem_181795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181794, "mem_181794") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181792, "mem_181792") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181747, "mem_181747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181743, "mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181739, "mem_181739") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181692, "mem_181692") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181688, "mem_181688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181684, "mem_181684") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181698, "mem_181698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181696, "mem_181696") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181694, "mem_181694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181591, "mem_param_181591") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181588, "mem_param_181588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181585, "mem_param_181585") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181755, "ext_mem_181755") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181756, "ext_mem_181756") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181757, "ext_mem_181757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181058, "mem_181058") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182468, "mem_out_182468") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182844, struct memblock *mem_out_p_182845, struct memblock *mem_out_p_182846, int64_t *out_prim_out_182847, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_152773, int64_t nb_152774, int64_t window_sizze_152775, int64_t threads_152776, bool inParallel_152779)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181069_cached_sizze_182848 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_182849 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181110_cached_sizze_182850 = 0;
    unsigned char *mem_181110 = NULL;
    int64_t mem_181113_cached_sizze_182851 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181116_cached_sizze_182852 = 0;
    unsigned char *mem_181116 = NULL;
    int64_t mem_181129_cached_sizze_182853 = 0;
    unsigned char *mem_181129 = NULL;
    int64_t mem_181131_cached_sizze_182854 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181133_cached_sizze_182855 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181230_cached_sizze_182856 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181233_cached_sizze_182857 = 0;
    unsigned char *mem_181233 = NULL;
    int64_t mem_181236_cached_sizze_182858 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181250_cached_sizze_182859 = 0;
    unsigned char *mem_181250 = NULL;
    int64_t mem_181252_cached_sizze_182860 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181266_cached_sizze_182861 = 0;
    unsigned char *mem_181266 = NULL;
    int64_t mem_181269_cached_sizze_182862 = 0;
    unsigned char *mem_181269 = NULL;
    int64_t mem_181272_cached_sizze_182863 = 0;
    unsigned char *mem_181272 = NULL;
    int64_t mem_181414_cached_sizze_182864 = 0;
    unsigned char *mem_181414 = NULL;
    int64_t mem_181416_cached_sizze_182865 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181431_cached_sizze_182866 = 0;
    unsigned char *mem_181431 = NULL;
    int64_t mem_181433_cached_sizze_182867 = 0;
    unsigned char *mem_181433 = NULL;
    int64_t mem_181436_cached_sizze_182868 = 0;
    unsigned char *mem_181436 = NULL;
    int64_t mem_181439_cached_sizze_182869 = 0;
    unsigned char *mem_181439 = NULL;
    int64_t mem_181473_cached_sizze_182870 = 0;
    unsigned char *mem_181473 = NULL;
    int64_t mem_181476_cached_sizze_182871 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181479_cached_sizze_182872 = 0;
    unsigned char *mem_181479 = NULL;
    int64_t mem_181492_cached_sizze_182873 = 0;
    unsigned char *mem_181492 = NULL;
    int64_t mem_181494_cached_sizze_182874 = 0;
    unsigned char *mem_181494 = NULL;
    int64_t mem_181496_cached_sizze_182875 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181593_cached_sizze_182876 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181596_cached_sizze_182877 = 0;
    unsigned char *mem_181596 = NULL;
    int64_t mem_181599_cached_sizze_182878 = 0;
    unsigned char *mem_181599 = NULL;
    int64_t mem_181613_cached_sizze_182879 = 0;
    unsigned char *mem_181613 = NULL;
    int64_t mem_181615_cached_sizze_182880 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181629_cached_sizze_182881 = 0;
    unsigned char *mem_181629 = NULL;
    int64_t mem_181632_cached_sizze_182882 = 0;
    unsigned char *mem_181632 = NULL;
    int64_t mem_181635_cached_sizze_182883 = 0;
    unsigned char *mem_181635 = NULL;
    int64_t mem_181852_cached_sizze_182884 = 0;
    unsigned char *mem_181852 = NULL;
    int64_t mem_181855_cached_sizze_182885 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181858_cached_sizze_182886 = 0;
    unsigned char *mem_181858 = NULL;
    int64_t mem_181871_cached_sizze_182887 = 0;
    unsigned char *mem_181871 = NULL;
    int64_t mem_181873_cached_sizze_182888 = 0;
    unsigned char *mem_181873 = NULL;
    int64_t mem_181875_cached_sizze_182889 = 0;
    unsigned char *mem_181875 = NULL;
    int64_t mem_181972_cached_sizze_182890 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181975_cached_sizze_182891 = 0;
    unsigned char *mem_181975 = NULL;
    int64_t mem_181978_cached_sizze_182892 = 0;
    unsigned char *mem_181978 = NULL;
    int64_t mem_181992_cached_sizze_182893 = 0;
    unsigned char *mem_181992 = NULL;
    int64_t mem_181994_cached_sizze_182894 = 0;
    unsigned char *mem_181994 = NULL;
    int64_t mem_182008_cached_sizze_182895 = 0;
    unsigned char *mem_182008 = NULL;
    int64_t mem_182011_cached_sizze_182896 = 0;
    unsigned char *mem_182011 = NULL;
    int64_t mem_182014_cached_sizze_182897 = 0;
    unsigned char *mem_182014 = NULL;
    struct memblock mem_param_tmp_182690;
    
    mem_param_tmp_182690.references = NULL;
    
    struct memblock mem_param_tmp_182689;
    
    mem_param_tmp_182689.references = NULL;
    
    struct memblock mem_param_tmp_182688;
    
    mem_param_tmp_182688.references = NULL;
    
    struct memblock mem_182126;
    
    mem_182126.references = NULL;
    
    struct memblock mem_182122;
    
    mem_182122.references = NULL;
    
    struct memblock mem_182118;
    
    mem_182118.references = NULL;
    
    struct memblock mem_182071;
    
    mem_182071.references = NULL;
    
    struct memblock mem_182067;
    
    mem_182067.references = NULL;
    
    struct memblock mem_182063;
    
    mem_182063.references = NULL;
    
    struct memblock mem_182077;
    
    mem_182077.references = NULL;
    
    struct memblock mem_182075;
    
    mem_182075.references = NULL;
    
    struct memblock mem_182073;
    
    mem_182073.references = NULL;
    
    struct memblock ext_mem_182098;
    
    ext_mem_182098.references = NULL;
    
    struct memblock ext_mem_182101;
    
    ext_mem_182101.references = NULL;
    
    struct memblock ext_mem_182104;
    
    ext_mem_182104.references = NULL;
    
    struct memblock mem_param_181970;
    
    mem_param_181970.references = NULL;
    
    struct memblock mem_param_181967;
    
    mem_param_181967.references = NULL;
    
    struct memblock mem_param_181964;
    
    mem_param_181964.references = NULL;
    
    struct memblock ext_mem_182134;
    
    ext_mem_182134.references = NULL;
    
    struct memblock ext_mem_182135;
    
    ext_mem_182135.references = NULL;
    
    struct memblock ext_mem_182136;
    
    ext_mem_182136.references = NULL;
    
    struct memblock mem_181960;
    
    mem_181960.references = NULL;
    
    struct memblock mem_181956;
    
    mem_181956.references = NULL;
    
    struct memblock mem_181952;
    
    mem_181952.references = NULL;
    
    struct memblock ext_mem_182139;
    
    ext_mem_182139.references = NULL;
    
    struct memblock ext_mem_182142;
    
    ext_mem_182142.references = NULL;
    
    struct memblock ext_mem_182145;
    
    ext_mem_182145.references = NULL;
    
    struct memblock mem_181850;
    
    mem_181850.references = NULL;
    
    struct memblock mem_181848;
    
    mem_181848.references = NULL;
    
    struct memblock mem_181846;
    
    mem_181846.references = NULL;
    
    struct memblock mem_param_tmp_182624;
    
    mem_param_tmp_182624.references = NULL;
    
    struct memblock mem_param_tmp_182623;
    
    mem_param_tmp_182623.references = NULL;
    
    struct memblock mem_param_tmp_182622;
    
    mem_param_tmp_182622.references = NULL;
    
    struct memblock mem_181384;
    
    mem_181384.references = NULL;
    
    struct memblock mem_181380;
    
    mem_181380.references = NULL;
    
    struct memblock mem_181376;
    
    mem_181376.references = NULL;
    
    struct memblock mem_181329;
    
    mem_181329.references = NULL;
    
    struct memblock mem_181325;
    
    mem_181325.references = NULL;
    
    struct memblock mem_181321;
    
    mem_181321.references = NULL;
    
    struct memblock mem_181335;
    
    mem_181335.references = NULL;
    
    struct memblock mem_181333;
    
    mem_181333.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock ext_mem_181356;
    
    ext_mem_181356.references = NULL;
    
    struct memblock ext_mem_181359;
    
    ext_mem_181359.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock mem_param_181228;
    
    mem_param_181228.references = NULL;
    
    struct memblock mem_param_181225;
    
    mem_param_181225.references = NULL;
    
    struct memblock mem_param_181222;
    
    mem_param_181222.references = NULL;
    
    struct memblock ext_mem_181392;
    
    ext_mem_181392.references = NULL;
    
    struct memblock ext_mem_181393;
    
    ext_mem_181393.references = NULL;
    
    struct memblock ext_mem_181394;
    
    ext_mem_181394.references = NULL;
    
    struct memblock mem_181218;
    
    mem_181218.references = NULL;
    
    struct memblock mem_181214;
    
    mem_181214.references = NULL;
    
    struct memblock mem_181210;
    
    mem_181210.references = NULL;
    
    struct memblock ext_mem_181397;
    
    ext_mem_181397.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181403;
    
    ext_mem_181403.references = NULL;
    
    struct memblock mem_181108;
    
    mem_181108.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock mem_181104;
    
    mem_181104.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181795;
    
    mem_181795.references = NULL;
    
    struct memblock mem_181794;
    
    mem_181794.references = NULL;
    
    struct memblock mem_181792;
    
    mem_181792.references = NULL;
    
    struct memblock mem_param_tmp_182530;
    
    mem_param_tmp_182530.references = NULL;
    
    struct memblock mem_param_tmp_182529;
    
    mem_param_tmp_182529.references = NULL;
    
    struct memblock mem_param_tmp_182528;
    
    mem_param_tmp_182528.references = NULL;
    
    struct memblock mem_181747;
    
    mem_181747.references = NULL;
    
    struct memblock mem_181743;
    
    mem_181743.references = NULL;
    
    struct memblock mem_181739;
    
    mem_181739.references = NULL;
    
    struct memblock mem_181692;
    
    mem_181692.references = NULL;
    
    struct memblock mem_181688;
    
    mem_181688.references = NULL;
    
    struct memblock mem_181684;
    
    mem_181684.references = NULL;
    
    struct memblock mem_181698;
    
    mem_181698.references = NULL;
    
    struct memblock mem_181696;
    
    mem_181696.references = NULL;
    
    struct memblock mem_181694;
    
    mem_181694.references = NULL;
    
    struct memblock ext_mem_181719;
    
    ext_mem_181719.references = NULL;
    
    struct memblock ext_mem_181722;
    
    ext_mem_181722.references = NULL;
    
    struct memblock ext_mem_181725;
    
    ext_mem_181725.references = NULL;
    
    struct memblock mem_param_181591;
    
    mem_param_181591.references = NULL;
    
    struct memblock mem_param_181588;
    
    mem_param_181588.references = NULL;
    
    struct memblock mem_param_181585;
    
    mem_param_181585.references = NULL;
    
    struct memblock ext_mem_181755;
    
    ext_mem_181755.references = NULL;
    
    struct memblock ext_mem_181756;
    
    ext_mem_181756.references = NULL;
    
    struct memblock ext_mem_181757;
    
    ext_mem_181757.references = NULL;
    
    struct memblock mem_181581;
    
    mem_181581.references = NULL;
    
    struct memblock mem_181577;
    
    mem_181577.references = NULL;
    
    struct memblock mem_181573;
    
    mem_181573.references = NULL;
    
    struct memblock ext_mem_181760;
    
    ext_mem_181760.references = NULL;
    
    struct memblock ext_mem_181763;
    
    ext_mem_181763.references = NULL;
    
    struct memblock ext_mem_181766;
    
    ext_mem_181766.references = NULL;
    
    struct memblock mem_181471;
    
    mem_181471.references = NULL;
    
    struct memblock mem_181469;
    
    mem_181469.references = NULL;
    
    struct memblock mem_181467;
    
    mem_181467.references = NULL;
    
    struct memblock ext_mem_181816;
    
    ext_mem_181816.references = NULL;
    
    struct memblock ext_mem_181819;
    
    ext_mem_181819.references = NULL;
    
    struct memblock ext_mem_181822;
    
    ext_mem_181822.references = NULL;
    
    struct memblock mem_181058;
    
    mem_181058.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t prim_out_182469;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541 = add64(na_152773, nb_152774);
    
    if (memblock_alloc(ctx, &mem_181054, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182470 = 0; nest_i_182470 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182470++) {
        ((int8_t *) mem_181054.mem)[nest_i_182470] = (int8_t) -1;
    }
    
    int64_t bytes_181055 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181056, bytes_181055, "mem_181056")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182471 = 0; nest_i_182471 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182471++) {
        ((int64_t *) mem_181056.mem)[nest_i_182471] = (int64_t) -1;
    }
    
    int64_t bytes_181057 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181058, bytes_181057, "mem_181058")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182472 = 0; nest_i_182472 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182472++) {
        ((float *) mem_181058.mem)[nest_i_182472] = 0.0F;
    }
    
    int64_t zl_rhs_175545 = sub64(na_152773, window_sizze_152775);
    bool cond_175546 = slt64((int64_t) 0, zl_rhs_175545);
    int64_t zl_rhs_175547 = sub64(nb_152774, window_sizze_152775);
    bool loop_cond_t_res_175548 = slt64((int64_t) 0, zl_rhs_175547);
    bool x_175549 = cond_175546 && loop_cond_t_res_175548;
    bool empty_slice_175550 = window_sizze_152775 == (int64_t) 0;
    int64_t m_175551 = sub64(window_sizze_152775, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576 = add64((int64_t) 1, threads_152776);
    int64_t partitionFunc_arg0_176577 = mul64((int64_t) 2, threads_152776);
    bool y_176579 = slt64((int64_t) 0, window_sizze_152775);
    bool loop_cond_176825 = slt64((int64_t) 0, threads_152776);
    bool zzero_175596 = threads_152776 == (int64_t) 0;
    bool nonzzero_175597 = !zzero_175596;
    bool loop_not_taken_178354 = !inParallel_152779;
    bool protect_assert_disj_178355 = nonzzero_175597 || loop_not_taken_178354;
    bool loop_not_taken_178444 = !x_175549;
    bool protect_assert_disj_178445 = protect_assert_disj_178355 || loop_not_taken_178444;
    bool nonzzero_cert_175598;
    
    if (!protect_assert_disj_178445) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175599 = sdiv_safe64(window_sizze_152775, threads_152776);
    int64_t perThread_175600 = add64((int64_t) 1, zp_rhs_175599);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601 = mul64(threads_152776, perThread_175600);
    bool protect_assert_disj_178491 = inParallel_152779 || y_176579;
    bool protect_assert_disj_178495 = loop_not_taken_178444 || protect_assert_disj_178491;
    bool index_certs_176580;
    
    if (!protect_assert_disj_178495) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176595 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, (int64_t) 1);
    bool y_177552 = slt64(threads_152776, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
    bool protect_assert_disj_178460 = y_176579 || loop_not_taken_178354;
    bool protect_assert_disj_178499 = loop_not_taken_178444 || protect_assert_disj_178460;
    bool index_certs_175604;
    
    if (!protect_assert_disj_178499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176597 = !bounds_invalid_upwards_176595;
    bool protect_assert_disj_178507 = inParallel_152779 || y_177552;
    bool protect_assert_disj_178509 = loop_not_taken_178444 || protect_assert_disj_178507;
    bool index_certs_177554;
    
    if (!protect_assert_disj_178509) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178503 = y_177552 || loop_not_taken_178354;
    bool protect_assert_disj_178511 = loop_not_taken_178444 || protect_assert_disj_178503;
    bool index_certs_176558;
    
    if (!protect_assert_disj_178511) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152776, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178519 = inParallel_152779 || valid_176597;
    bool protect_assert_disj_178521 = loop_not_taken_178444 || protect_assert_disj_178519;
    bool range_valid_c_176598;
    
    if (!protect_assert_disj_178521) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178363 = sle64((int64_t) 1, threads_152776);
    bool protect_assert_disj_178515 = valid_176597 || loop_not_taken_178354;
    bool protect_assert_disj_178523 = loop_not_taken_178444 || protect_assert_disj_178515;
    bool range_valid_c_175611;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176600 = add64(window_sizze_152775, window_sizze_152775);
    bool zzero_176601 = partitionFunc_arg0_176577 == (int64_t) 0;
    int64_t index_concat_i_178364 = sub64(threads_152776, (int64_t) 1);
    bool nonzzero_176602 = !zzero_176601;
    bool protect_assert_disj_178531 = inParallel_152779 || nonzzero_176602;
    bool protect_assert_disj_178537 = loop_not_taken_178444 || protect_assert_disj_178531;
    bool nonzzero_cert_176603;
    
    if (!protect_assert_disj_178537) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178527 = nonzzero_176602 || loop_not_taken_178354;
    bool protect_assert_disj_178543 = loop_not_taken_178444 || protect_assert_disj_178527;
    bool nonzzero_cert_175616;
    
    if (!protect_assert_disj_178543) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181068 = (int64_t) 8 * threads_152776;
    int64_t bytes_181085 = (int64_t) 8 * window_sizze_152775;
    int64_t bytes_181087 = (int64_t) 4 * window_sizze_152775;
    int64_t bytes_181430 = perThread_175600 * bytes_181068;
    int64_t binop_x_181437 = (int64_t) 4 * threads_152776;
    int64_t bytes_181438 = perThread_175600 * binop_x_181437;
    bool defunc_0_merge_pipeline_res_175552;
    int64_t defunc_0_merge_pipeline_res_175556;
    int64_t defunc_0_merge_pipeline_res_175557;
    bool loop_while_175558;
    int64_t p_175562;
    int64_t p_175563;
    
    loop_while_175558 = x_175549;
    p_175562 = (int64_t) 0;
    p_175563 = (int64_t) 0;
    while (loop_while_175558) {
        int64_t ubs_175564 = add64(window_sizze_152775, p_175562);
        int64_t ubs_175565 = add64(window_sizze_152775, p_175563);
        int64_t ind_bottom_175566 = add64(p_175562, p_175563);
        int64_t ind_top_175567 = add64(window_sizze_152775, ind_bottom_175566);
        int64_t i_p_m_t_s_175568 = add64(m_175551, p_175562);
        bool zzero_leq_i_p_m_t_s_175569 = sle64((int64_t) 0, i_p_m_t_s_175568);
        bool i_p_m_t_s_leq_w_175570 = slt64(i_p_m_t_s_175568, na_152773);
        bool zzero_lte_i_175571 = sle64((int64_t) 0, p_175562);
        bool i_lte_j_175572 = sle64(p_175562, ubs_175564);
        bool y_175573 = i_p_m_t_s_leq_w_175570 && zzero_lte_i_175571;
        bool y_175574 = zzero_leq_i_p_m_t_s_175569 && y_175573;
        bool forwards_ok_175575 = i_lte_j_175572 && y_175574;
        bool ok_or_empty_175576 = empty_slice_175550 || forwards_ok_175575;
        bool index_certs_175577;
        
        if (!ok_or_empty_175576) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175562, ":", (long long) ubs_175564, "] out of bounds for array of shape [", (long long) na_152773, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175579 = add64(m_175551, p_175563);
        bool zzero_leq_i_p_m_t_s_175580 = sle64((int64_t) 0, i_p_m_t_s_175579);
        bool i_p_m_t_s_leq_w_175581 = slt64(i_p_m_t_s_175579, nb_152774);
        bool zzero_lte_i_175582 = sle64((int64_t) 0, p_175563);
        bool i_lte_j_175583 = sle64(p_175563, ubs_175565);
        bool y_175584 = i_p_m_t_s_leq_w_175581 && zzero_lte_i_175582;
        bool y_175585 = zzero_leq_i_p_m_t_s_175580 && y_175584;
        bool forwards_ok_175586 = i_lte_j_175583 && y_175585;
        bool ok_or_empty_175587 = empty_slice_175550 || forwards_ok_175586;
        bool index_certs_175588;
        
        if (!ok_or_empty_175587) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175563, ":", (long long) ubs_175565, "] out of bounds for array of shape [", (long long) nb_152774, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177566 = add64(m_175551, ind_bottom_175566);
        bool zzero_leq_i_p_m_t_s_177567 = sle64((int64_t) 0, i_p_m_t_s_177566);
        bool i_p_m_t_s_leq_w_177568 = slt64(i_p_m_t_s_177566, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
        bool zzero_lte_i_177569 = sle64((int64_t) 0, ind_bottom_175566);
        bool i_lte_j_177570 = sle64(ind_bottom_175566, ind_top_175567);
        bool y_177571 = i_p_m_t_s_leq_w_177568 && zzero_lte_i_177569;
        bool y_177572 = zzero_leq_i_p_m_t_s_177567 && y_177571;
        bool forwards_ok_177573 = i_lte_j_177570 && y_177572;
        bool ok_or_empty_177574 = empty_slice_175550 || forwards_ok_177573;
        bool index_certs_177575;
        
        if (!ok_or_empty_177574) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175566, ":", (long long) ind_top_175567, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175590;
        int64_t loopres_175591;
        
        if (inParallel_152779) {
            float leq_lhs_179024 = ((float *) a_list_mem_181052.mem)[p_175562];
            float leq_rhs_179025 = ((float *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_179026 = leq_lhs_179024 <= leq_rhs_179025;
            float lowest_179027;
            
            if (defunc_0_leq_res_179026) {
                lowest_179027 = leq_lhs_179024;
            } else {
                lowest_179027 = leq_rhs_179025;
            }
            if (mem_181414_cached_sizze_182864 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181414, &mem_181414_cached_sizze_182864, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182865 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182865, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180716 = 0; i_180716 < threads_152776; i_180716++) {
                int64_t index_primexp_180988 = add64((int64_t) 1, i_180716);
                int64_t zs_lhs_179032 = mul64(zt_rhs_176600, index_primexp_180988);
                int64_t index_179033 = sdiv64(zs_lhs_179032, partitionFunc_arg0_176577);
                bool cond_179034 = slt64(window_sizze_152775, index_179033);
                int64_t loop_over_179035;
                
                if (cond_179034) {
                    loop_over_179035 = window_sizze_152775;
                } else {
                    loop_over_179035 = index_179033;
                }
                
                int64_t loop_over_179036;
                
                if (cond_179034) {
                    int64_t loop_over_t_res_179037 = sub64(index_179033, window_sizze_152775);
                    
                    loop_over_179036 = loop_over_t_res_179037;
                } else {
                    loop_over_179036 = (int64_t) 0;
                }
                
                int64_t loop_over_179038;
                
                if (cond_179034) {
                    int64_t zm_lhs_179039 = sub64(index_179033, window_sizze_152775);
                    int64_t loop_over_t_res_179040 = sub64(zm_lhs_179039, (int64_t) 1);
                    
                    loop_over_179038 = loop_over_t_res_179040;
                } else {
                    loop_over_179038 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179041;
                int64_t defunc_0_f_res_179042;
                int64_t defunc_0_f_res_179043;
                int64_t defunc_0_f_res_179044;
                bool loop_while_179045;
                int64_t p_179046;
                int64_t p_179047;
                int64_t p_179048;
                
                loop_while_179045 = 1;
                p_179046 = loop_over_179038;
                p_179047 = loop_over_179035;
                p_179048 = loop_over_179036;
                while (loop_while_179045) {
                    int64_t zs_lhs_179049 = sub64(p_179047, p_179046);
                    int64_t offset_179050 = sdiv64(zs_lhs_179049, (int64_t) 2);
                    int64_t ai_179051 = sub64(p_179047, offset_179050);
                    int64_t max_arg1_179052 = add64(p_179048, offset_179050);
                    int64_t max_res_179053 = smax64((int64_t) 0, max_arg1_179052);
                    bool cond_179054 = slt64((int64_t) 0, max_res_179053);
                    float b_prev_179055;
                    
                    if (cond_179054) {
                        int64_t tmp_179056 = sub64(max_res_179053, (int64_t) 1);
                        bool x_179057 = sle64((int64_t) 0, tmp_179056);
                        bool y_179058 = slt64(tmp_179056, window_sizze_152775);
                        bool bounds_check_179059 = x_179057 && y_179058;
                        bool index_certs_179060;
                        
                        if (!bounds_check_179059) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179056, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179061 = p_175563 + tmp_179056;
                        float b_prev_t_res_179062 = ((float *) b_list_mem_181053.mem)[slice_179061];
                        
                        b_prev_179055 = b_prev_t_res_179062;
                    } else {
                        b_prev_179055 = lowest_179027;
                    }
                    
                    bool cond_179063 = sle64(ai_179051, (int64_t) 0);
                    int64_t loopres_179064;
                    int64_t loopres_179065;
                    int64_t loopres_179066;
                    bool loopres_179067;
                    
                    if (cond_179063) {
                        loopres_179064 = p_179046;
                        loopres_179065 = (int64_t) 0;
                        loopres_179066 = max_res_179053;
                        loopres_179067 = 0;
                    } else {
                        bool cond_179068 = sle64(window_sizze_152775, max_res_179053);
                        int64_t loopres_f_res_179069;
                        int64_t loopres_f_res_179070;
                        int64_t loopres_f_res_179071;
                        bool loopres_f_res_179072;
                        
                        if (cond_179068) {
                            int64_t min_res_179074 = smin64(m_175551, ai_179051);
                            bool x_179075 = sle64((int64_t) 0, m_175551);
                            bool y_179076 = slt64(m_175551, window_sizze_152775);
                            bool bounds_check_179077 = x_179075 && y_179076;
                            bool index_certs_179078;
                            
                            if (!bounds_check_179077) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179081 = sle64((int64_t) 0, min_res_179074);
                            bool y_179082 = slt64(min_res_179074, window_sizze_152775);
                            bool bounds_check_179083 = x_179081 && y_179082;
                            bool index_certs_179084;
                            
                            if (!bounds_check_179083) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179074, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_179080 = ((float *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_179085 = p_175562 + min_res_179074;
                            float leq_rhs_179086 = ((float *) a_list_mem_181052.mem)[slice_179085];
                            bool defunc_0_leq_res_179087 = leq_lhs_179080 <= leq_rhs_179086;
                            int64_t loopres_f_res_t_res_179088;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179088 = ai_179051;
                            } else {
                                loopres_f_res_t_res_179088 = p_179047;
                            }
                            
                            bool x_179089 = !defunc_0_leq_res_179087;
                            int64_t loopres_f_res_t_res_179090;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179090 = window_sizze_152775;
                            } else {
                                int64_t tmp_179091 = sub64(m_175551, offset_179050);
                                
                                loopres_f_res_t_res_179090 = tmp_179091;
                            }
                            loopres_f_res_179069 = p_179046;
                            loopres_f_res_179070 = loopres_f_res_t_res_179088;
                            loopres_f_res_179071 = loopres_f_res_t_res_179090;
                            loopres_f_res_179072 = x_179089;
                        } else {
                            bool cond_179092 = sle64(window_sizze_152775, ai_179051);
                            int64_t loopres_f_res_f_res_179093;
                            int64_t loopres_f_res_f_res_179094;
                            int64_t loopres_f_res_f_res_179095;
                            bool loopres_f_res_f_res_179096;
                            
                            if (cond_179092) {
                                int64_t min_res_179098 = smin64(m_175551, max_res_179053);
                                bool x_179099 = sle64((int64_t) 0, m_175551);
                                bool y_179100 = slt64(m_175551, window_sizze_152775);
                                bool bounds_check_179101 = x_179099 && y_179100;
                                bool index_certs_179102;
                                
                                if (!bounds_check_179101) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179105 = sle64((int64_t) 0, min_res_179098);
                                bool y_179106 = slt64(min_res_179098, window_sizze_152775);
                                bool bounds_check_179107 = x_179105 && y_179106;
                                bool index_certs_179108;
                                
                                if (!bounds_check_179107) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179098, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_179104 = ((float *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_179109 = p_175563 + min_res_179098;
                                float leq_rhs_179110 = ((float *) b_list_mem_181053.mem)[slice_179109];
                                bool defunc_0_leq_res_179111 = leq_lhs_179104 <= leq_rhs_179110;
                                int64_t loopres_f_res_f_res_t_res_179112;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179112 = max_res_179053;
                                } else {
                                    loopres_f_res_f_res_t_res_179112 = p_179048;
                                }
                                
                                bool x_179113 = !defunc_0_leq_res_179111;
                                int64_t loopres_f_res_f_res_t_res_179114;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179114 = window_sizze_152775;
                                } else {
                                    loopres_f_res_f_res_t_res_179114 = m_175551;
                                }
                                loopres_f_res_f_res_179093 = p_179046;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_t_res_179114;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_t_res_179112;
                                loopres_f_res_f_res_179096 = x_179113;
                            } else {
                                bool cond_179115 = sle64(p_179047, p_179046);
                                int64_t loopres_f_res_f_res_f_res_179116;
                                int64_t loopres_f_res_f_res_f_res_179117;
                                int64_t loopres_f_res_f_res_f_res_179118;
                                bool loopres_f_res_f_res_f_res_179119;
                                
                                if (cond_179115) {
                                    bool cond_179120 = slt64(ai_179051, window_sizze_152775);
                                    int64_t ai_179121;
                                    
                                    if (cond_179120) {
                                        ai_179121 = ai_179051;
                                    } else {
                                        ai_179121 = m_175551;
                                    }
                                    
                                    bool x_179134 = sle64((int64_t) 0, ai_179121);
                                    bool y_179135 = slt64(ai_179121, window_sizze_152775);
                                    bool bounds_check_179136 = x_179134 && y_179135;
                                    bool index_certs_179137;
                                    
                                    if (!bounds_check_179136) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179121, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179123;
                                    
                                    if (cond_179054) {
                                        int64_t tmp_179124 = sub64(max_res_179053, (int64_t) 1);
                                        bool x_179125 = sle64((int64_t) 0, tmp_179124);
                                        bool y_179126 = slt64(tmp_179124, window_sizze_152775);
                                        bool bounds_check_179127 = x_179125 && y_179126;
                                        bool index_certs_179128;
                                        
                                        if (!bounds_check_179127) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179124, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179129 = p_175563 + tmp_179124;
                                        float b_prev_t_res_179130 = ((float *) b_list_mem_181053.mem)[slice_179129];
                                        
                                        b_prev_179123 = b_prev_t_res_179130;
                                    } else {
                                        bool index_certs_179132;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179123 = leq_rhs_179025;
                                    }
                                    
                                    int64_t slice_179138 = p_175562 + ai_179121;
                                    float gt_lhs_179139 = ((float *) a_list_mem_181052.mem)[slice_179138];
                                    bool defunc_0_gt_res_179140 = b_prev_179123 < gt_lhs_179139;
                                    int64_t defunc_0_partFunc_sequential_search_res_179141;
                                    int64_t defunc_0_partFunc_sequential_search_res_179142;
                                    
                                    if (defunc_0_gt_res_179140) {
                                        int64_t zl_rhs_179143 = sub64(window_sizze_152775, max_res_179053);
                                        bool loop_cond_179144 = slt64((int64_t) 0, zl_rhs_179143);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179145;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179147;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179148;
                                        bool loop_while_179149;
                                        int64_t p_179150;
                                        int64_t p_179151;
                                        int64_t p_179152;
                                        
                                        loop_while_179149 = loop_cond_179144;
                                        p_179150 = ai_179121;
                                        p_179151 = max_res_179053;
                                        p_179152 = (int64_t) 0;
                                        while (loop_while_179149) {
                                            int64_t i_a_179153 = sub64(ai_179121, p_179152);
                                            int64_t i_b_179154 = add64(max_res_179053, p_179152);
                                            int64_t leq_lhs_179155 = sub64(i_a_179153, (int64_t) 1);
                                            bool x_179156 = sle64((int64_t) 0, leq_lhs_179155);
                                            bool y_179157 = slt64(leq_lhs_179155, window_sizze_152775);
                                            bool bounds_check_179158 = x_179156 && y_179157;
                                            bool index_certs_179159;
                                            
                                            if (!bounds_check_179158) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179155, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179162 = sle64((int64_t) 0, i_b_179154);
                                            bool y_179163 = slt64(i_b_179154, window_sizze_152775);
                                            bool bounds_check_179164 = x_179162 && y_179163;
                                            bool index_certs_179165;
                                            
                                            if (!bounds_check_179164) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179154, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179160 = p_175562 + leq_lhs_179155;
                                            float leq_lhs_179161 = ((float *) a_list_mem_181052.mem)[slice_179160];
                                            int64_t slice_179166 = p_175563 + i_b_179154;
                                            float leq_rhs_179167 = ((float *) b_list_mem_181053.mem)[slice_179166];
                                            bool defunc_0_leq_res_179168 = leq_lhs_179161 <= leq_rhs_179167;
                                            int64_t loopres_179169;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179169 = i_a_179153;
                                            } else {
                                                loopres_179169 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179170;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179170 = i_b_179154;
                                            } else {
                                                loopres_179170 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179171;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179171 = zl_rhs_179143;
                                            } else {
                                                int64_t tmp_179172 = add64((int64_t) 1, p_179152);
                                                
                                                loopres_179171 = tmp_179172;
                                            }
                                            
                                            bool loop_cond_179173 = slt64(loopres_179171, zl_rhs_179143);
                                            bool loop_while_tmp_182485 = loop_cond_179173;
                                            int64_t p_tmp_182486 = loopres_179169;
                                            int64_t p_tmp_182487 = loopres_179170;
                                            int64_t p_tmp_182488 = loopres_179171;
                                            
                                            loop_while_179149 = loop_while_tmp_182485;
                                            p_179150 = p_tmp_182486;
                                            p_179151 = p_tmp_182487;
                                            p_179152 = p_tmp_182488;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179145 = loop_while_179149;
                                        defunc_0_partFunc_sequential_search_res_t_res_179146 = p_179150;
                                        defunc_0_partFunc_sequential_search_res_t_res_179147 = p_179151;
                                        defunc_0_partFunc_sequential_search_res_t_res_179148 = p_179152;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_t_res_179147;
                                    } else {
                                        int64_t zl_rhs_179174 = sub64(max_res_179053, (int64_t) 1);
                                        bool loop_cond_179175 = slt64((int64_t) 0, zl_rhs_179174);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179176;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179178;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179179;
                                        bool loop_while_179180;
                                        int64_t p_179181;
                                        int64_t p_179182;
                                        int64_t p_179183;
                                        
                                        loop_while_179180 = loop_cond_179175;
                                        p_179181 = ai_179121;
                                        p_179182 = max_res_179053;
                                        p_179183 = (int64_t) 0;
                                        while (loop_while_179180) {
                                            int64_t zp_lhs_179184 = add64(ai_179121, p_179183);
                                            int64_t hi_a_179185 = add64((int64_t) 1, zp_lhs_179184);
                                            bool cond_179186 = slt64(hi_a_179185, window_sizze_152775);
                                            int64_t i_a_179187;
                                            
                                            if (cond_179186) {
                                                i_a_179187 = hi_a_179185;
                                            } else {
                                                i_a_179187 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_179189 = sub64(max_res_179053, p_179183);
                                            int64_t i_b_179190 = sub64(zm_lhs_179189, (int64_t) 1);
                                            bool x_179191 = sle64((int64_t) 0, i_a_179187);
                                            bool y_179192 = slt64(i_a_179187, window_sizze_152775);
                                            bool bounds_check_179193 = x_179191 && y_179192;
                                            bool index_certs_179194;
                                            
                                            if (!bounds_check_179193) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179187, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179197 = sle64((int64_t) 0, i_b_179190);
                                            bool y_179198 = slt64(i_b_179190, window_sizze_152775);
                                            bool bounds_check_179199 = x_179197 && y_179198;
                                            bool index_certs_179200;
                                            
                                            if (!bounds_check_179199) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179190, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179195 = p_175562 + i_a_179187;
                                            float gt_lhs_179196 = ((float *) a_list_mem_181052.mem)[slice_179195];
                                            int64_t slice_179201 = p_175563 + i_b_179190;
                                            float gt_rhs_179202 = ((float *) b_list_mem_181053.mem)[slice_179201];
                                            bool defunc_0_gt_res_179203 = gt_rhs_179202 < gt_lhs_179196;
                                            int64_t loopres_179204;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179204 = i_a_179187;
                                            } else {
                                                loopres_179204 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179205;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179205 = zm_lhs_179189;
                                            } else {
                                                loopres_179205 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179206;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179206 = zl_rhs_179174;
                                            } else {
                                                int64_t tmp_179207 = add64((int64_t) 1, p_179183);
                                                
                                                loopres_179206 = tmp_179207;
                                            }
                                            
                                            bool loop_cond_179208 = slt64(loopres_179206, zl_rhs_179174);
                                            bool loop_while_tmp_182489 = loop_cond_179208;
                                            int64_t p_tmp_182490 = loopres_179204;
                                            int64_t p_tmp_182491 = loopres_179205;
                                            int64_t p_tmp_182492 = loopres_179206;
                                            
                                            loop_while_179180 = loop_while_tmp_182489;
                                            p_179181 = p_tmp_182490;
                                            p_179182 = p_tmp_182491;
                                            p_179183 = p_tmp_182492;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179176 = loop_while_179180;
                                        defunc_0_partFunc_sequential_search_res_f_res_179177 = p_179181;
                                        defunc_0_partFunc_sequential_search_res_f_res_179178 = p_179182;
                                        defunc_0_partFunc_sequential_search_res_f_res_179179 = p_179183;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_f_res_179178;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = p_179046;
                                    loopres_f_res_f_res_f_res_179117 = defunc_0_partFunc_sequential_search_res_179141;
                                    loopres_f_res_f_res_f_res_179118 = defunc_0_partFunc_sequential_search_res_179142;
                                    loopres_f_res_f_res_f_res_179119 = 0;
                                } else {
                                    bool x_179209 = sle64((int64_t) 0, ai_179051);
                                    bool y_179210 = slt64(ai_179051, window_sizze_152775);
                                    bool bounds_check_179211 = x_179209 && y_179210;
                                    bool index_certs_179212;
                                    
                                    if (!bounds_check_179211) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179051, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179213 = p_175562 + ai_179051;
                                    float gt_lhs_179214 = ((float *) a_list_mem_181052.mem)[slice_179213];
                                    bool defunc_0_gt_res_179215 = b_prev_179055 < gt_lhs_179214;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179216;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179217;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179218;
                                    bool loopres_f_res_f_res_f_res_f_res_179219;
                                    
                                    if (defunc_0_gt_res_179215) {
                                        int64_t leq_lhs_179220 = sub64(ai_179051, (int64_t) 1);
                                        bool x_179221 = sle64((int64_t) 0, leq_lhs_179220);
                                        bool y_179222 = slt64(leq_lhs_179220, window_sizze_152775);
                                        bool bounds_check_179223 = x_179221 && y_179222;
                                        bool index_certs_179224;
                                        
                                        if (!bounds_check_179223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179220, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179227 = sle64((int64_t) 0, max_res_179053);
                                        bool y_179228 = slt64(max_res_179053, window_sizze_152775);
                                        bool bounds_check_179229 = x_179227 && y_179228;
                                        bool index_certs_179230;
                                        
                                        if (!bounds_check_179229) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179053, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179225 = p_175562 + leq_lhs_179220;
                                        float leq_lhs_179226 = ((float *) a_list_mem_181052.mem)[slice_179225];
                                        int64_t slice_179231 = p_175563 + max_res_179053;
                                        float leq_rhs_179232 = ((float *) b_list_mem_181053.mem)[slice_179231];
                                        bool defunc_0_leq_res_179233 = leq_lhs_179226 <= leq_rhs_179232;
                                        bool x_179234 = !defunc_0_leq_res_179233;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = ai_179051;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = leq_lhs_179220;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = max_res_179053;
                                        } else {
                                            int64_t tmp_179237 = add64((int64_t) 1, max_res_179053);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = tmp_179237;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179216 = p_179046;
                                        loopres_f_res_f_res_f_res_f_res_179217 = loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        loopres_f_res_f_res_f_res_f_res_179218 = loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        loopres_f_res_f_res_f_res_f_res_179219 = x_179234;
                                    } else {
                                        int64_t tmp_179238 = add64((int64_t) 1, ai_179051);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179216 = tmp_179238;
                                        loopres_f_res_f_res_f_res_f_res_179217 = p_179047;
                                        loopres_f_res_f_res_f_res_f_res_179218 = p_179048;
                                        loopres_f_res_f_res_f_res_f_res_179219 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = loopres_f_res_f_res_f_res_f_res_179216;
                                    loopres_f_res_f_res_f_res_179117 = loopres_f_res_f_res_f_res_f_res_179217;
                                    loopres_f_res_f_res_f_res_179118 = loopres_f_res_f_res_f_res_f_res_179218;
                                    loopres_f_res_f_res_f_res_179119 = loopres_f_res_f_res_f_res_f_res_179219;
                                }
                                loopres_f_res_f_res_179093 = loopres_f_res_f_res_f_res_179116;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_f_res_179117;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_f_res_179118;
                                loopres_f_res_f_res_179096 = loopres_f_res_f_res_f_res_179119;
                            }
                            loopres_f_res_179069 = loopres_f_res_f_res_179093;
                            loopres_f_res_179070 = loopres_f_res_f_res_179094;
                            loopres_f_res_179071 = loopres_f_res_f_res_179095;
                            loopres_f_res_179072 = loopres_f_res_f_res_179096;
                        }
                        loopres_179064 = loopres_f_res_179069;
                        loopres_179065 = loopres_f_res_179070;
                        loopres_179066 = loopres_f_res_179071;
                        loopres_179067 = loopres_f_res_179072;
                    }
                    
                    bool loop_while_tmp_182481 = loopres_179067;
                    int64_t p_tmp_182482 = loopres_179064;
                    int64_t p_tmp_182483 = loopres_179065;
                    int64_t p_tmp_182484 = loopres_179066;
                    
                    loop_while_179045 = loop_while_tmp_182481;
                    p_179046 = p_tmp_182482;
                    p_179047 = p_tmp_182483;
                    p_179048 = p_tmp_182484;
                }
                defunc_0_f_res_179041 = loop_while_179045;
                defunc_0_f_res_179042 = p_179046;
                defunc_0_f_res_179043 = p_179047;
                defunc_0_f_res_179044 = p_179048;
                ((int64_t *) mem_181414)[i_180716] = defunc_0_f_res_179043;
                ((int64_t *) mem_181416)[i_180716] = defunc_0_f_res_179044;
            }
            if (mem_181431_cached_sizze_182866 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181431, &mem_181431_cached_sizze_182866, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181433_cached_sizze_182867 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601) {
                err = lexical_realloc(ctx, &mem_181433, &mem_181433_cached_sizze_182867, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181436_cached_sizze_182868 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181436, &mem_181436_cached_sizze_182868, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181439_cached_sizze_182869 < bytes_181438) {
                err = lexical_realloc(ctx, &mem_181439, &mem_181439_cached_sizze_182869, bytes_181438);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_152776; i_180782++) {
                bool y_179252 = slt64(i_180782, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool index_certs_179254;
                
                if (!y_179252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180782, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179255 = sle64((int64_t) 1, i_180782);
                int64_t index_concat_i_179256 = sub64(i_180782, (int64_t) 1);
                int64_t index_concat_179257;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179258 = ((int64_t *) mem_181414)[index_concat_i_179256];
                    
                    index_concat_179257 = x_179258;
                } else {
                    index_concat_179257 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179259;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179259 = index_concat_179257;
                } else {
                    index_concat_branch_179259 = (int64_t) 0;
                }
                
                int64_t index_concat_179260;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179261 = ((int64_t *) mem_181416)[index_concat_i_179256];
                    
                    index_concat_179260 = x_179261;
                } else {
                    index_concat_179260 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179262;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179262 = index_concat_179260;
                } else {
                    index_concat_branch_179262 = (int64_t) 0;
                }
                
                int64_t ubs_179263 = add64((int64_t) 1, i_180782);
                bool x_179264 = sle64((int64_t) 0, ubs_179263);
                bool y_179265 = slt64(ubs_179263, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_179266 = x_179264 && y_179265;
                bool index_certs_179267;
                
                if (!bounds_check_179266) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179263, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179268 = sle64((int64_t) 1, ubs_179263);
                int64_t index_concat_179269;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179270 = ((int64_t *) mem_181414)[i_180782];
                    
                    index_concat_179269 = x_179270;
                } else {
                    index_concat_179269 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179271;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179271 = index_concat_179269;
                } else {
                    index_concat_branch_179271 = (int64_t) 0;
                }
                
                int64_t index_concat_179272;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179273 = ((int64_t *) mem_181416)[i_180782];
                    
                    index_concat_179272 = x_179273;
                } else {
                    index_concat_179272 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179274;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179274 = index_concat_179272;
                } else {
                    index_concat_branch_179274 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 = sub64(index_concat_branch_179274, index_concat_branch_179262);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 = sub64(index_concat_branch_179271, index_concat_branch_179259);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t zm_lhs_179278 = add64(index_concat_branch_179271, index_concat_branch_179274);
                int64_t zm_rhs_179279 = add64(index_concat_branch_179259, index_concat_branch_179262);
                int64_t card_179280 = sub64(zm_lhs_179278, zm_rhs_179279);
                bool empty_slice_179281 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 == (int64_t) 0;
                int64_t m_179282 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 1);
                int64_t i_p_m_t_s_179283 = add64(index_concat_branch_179259, m_179282);
                bool zzero_leq_i_p_m_t_s_179284 = sle64((int64_t) 0, i_p_m_t_s_179283);
                bool i_p_m_t_s_leq_w_179285 = slt64(i_p_m_t_s_179283, window_sizze_152775);
                bool zzero_lte_i_179286 = sle64((int64_t) 0, index_concat_branch_179259);
                bool i_lte_j_179287 = sle64(index_concat_branch_179259, index_concat_branch_179271);
                bool y_179288 = i_p_m_t_s_leq_w_179285 && zzero_lte_i_179286;
                bool y_179289 = zzero_leq_i_p_m_t_s_179284 && y_179288;
                bool forwards_ok_179290 = i_lte_j_179287 && y_179289;
                bool ok_or_empty_179291 = empty_slice_179281 || forwards_ok_179290;
                bool index_certs_179292;
                
                if (!ok_or_empty_179291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179259, ":", (long long) index_concat_branch_179271, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179293 = slt64(index_concat_branch_179271, index_concat_branch_179259);
                bool valid_179294 = !bounds_invalid_upwards_179293;
                bool range_valid_c_179295;
                
                if (!valid_179294) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179259, "..<", (long long) index_concat_branch_179271, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179300 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 == (int64_t) 0;
                int64_t m_179301 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, (int64_t) 1);
                int64_t i_p_m_t_s_179302 = add64(index_concat_branch_179262, m_179301);
                bool zzero_leq_i_p_m_t_s_179303 = sle64((int64_t) 0, i_p_m_t_s_179302);
                bool i_p_m_t_s_leq_w_179304 = slt64(i_p_m_t_s_179302, window_sizze_152775);
                bool zzero_lte_i_179305 = sle64((int64_t) 0, index_concat_branch_179262);
                bool i_lte_j_179306 = sle64(index_concat_branch_179262, index_concat_branch_179274);
                bool y_179307 = i_p_m_t_s_leq_w_179304 && zzero_lte_i_179305;
                bool y_179308 = zzero_leq_i_p_m_t_s_179303 && y_179307;
                bool forwards_ok_179309 = i_lte_j_179306 && y_179308;
                bool ok_or_empty_179310 = empty_slice_179300 || forwards_ok_179309;
                bool index_certs_179311;
                
                if (!ok_or_empty_179310) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179262, ":", (long long) index_concat_branch_179274, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179312 = slt64(index_concat_branch_179274, index_concat_branch_179262);
                bool valid_179313 = !bounds_invalid_upwards_179312;
                bool range_valid_c_179314;
                
                if (!valid_179313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179262, "..<", (long long) index_concat_branch_179274, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181468 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                int64_t bytes_181470 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool cond_179322 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zs_lhs_179323 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zp_rhs_179324 = sdiv_safe64(zs_lhs_179323, (int64_t) 20);
                int64_t min_num_blocks_179325 = add64((int64_t) 1, zp_rhs_179324);
                bool loop_cond_179326 = slt64((int64_t) 1, min_num_blocks_179325);
                bool smallest_pow_2_geq_than_res_179327;
                int64_t smallest_pow_2_geq_than_res_179328;
                bool loop_while_179329;
                int64_t x_179330;
                
                loop_while_179329 = loop_cond_179326;
                x_179330 = (int64_t) 1;
                while (loop_while_179329) {
                    int64_t loopres_179331 = mul64((int64_t) 2, x_179330);
                    bool loop_cond_179332 = slt64(loopres_179331, min_num_blocks_179325);
                    bool loop_while_tmp_182497 = loop_cond_179332;
                    int64_t x_tmp_182498 = loopres_179331;
                    
                    loop_while_179329 = loop_while_tmp_182497;
                    x_179330 = x_tmp_182498;
                }
                smallest_pow_2_geq_than_res_179327 = loop_while_179329;
                smallest_pow_2_geq_than_res_179328 = x_179330;
                
                bool zzero_179333 = smallest_pow_2_geq_than_res_179328 == (int64_t) 0;
                bool nonzzero_179334 = !zzero_179333;
                bool protect_assert_disj_179335 = cond_179322 || nonzzero_179334;
                bool nonzzero_cert_179336;
                
                if (!protect_assert_disj_179335) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179337 = sdiv_safe64(zs_lhs_179323, smallest_pow_2_geq_than_res_179328);
                int64_t block_sizze_179338 = add64((int64_t) 1, zp_rhs_179337);
                bool y_179345 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                bool protect_assert_disj_182214 = cond_179322 || y_179345;
                bool index_certs_179346;
                
                if (!protect_assert_disj_182214) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179383 = slt64(smallest_pow_2_geq_than_res_179328, (int64_t) 0);
                bool valid_179384 = !bounds_invalid_upwards_179383;
                bool protect_assert_disj_182224 = cond_179322 || valid_179384;
                bool range_valid_c_179385;
                
                if (!protect_assert_disj_182224) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179328, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179387 = slt64(block_sizze_179338, (int64_t) 0);
                bool valid_179388 = !bounds_invalid_upwards_179387;
                bool protect_assert_disj_182226 = cond_179322 || valid_179388;
                bool range_valid_c_179389;
                
                if (!protect_assert_disj_182226) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179338, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179391 = sle64(block_sizze_179338, (int64_t) 1);
                int64_t tmp_179392 = sub64(block_sizze_179338, (int64_t) 2);
                bool bounds_invalid_upwards_179393 = slt64(tmp_179392, (int64_t) 0);
                bool valid_179395 = !bounds_invalid_upwards_179393;
                bool protect_assert_disj_179396 = cond_179391 || valid_179395;
                bool protect_assert_disj_182228 = cond_179322 || protect_assert_disj_179396;
                bool range_valid_c_179397;
                
                if (!protect_assert_disj_182228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179392, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179977 = card_179280 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool empty_or_match_cert_179978;
                
                if (!dim_match_179977) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] cannot match shape of type `[", (long long) card_179280, "](i8, i64, f32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179979 = card_179280 == (int64_t) 0;
                int64_t m_179980 = sub64(card_179280, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179981 = sle64((int64_t) 0, m_179980);
                bool i_p_m_t_s_leq_w_179982 = slt64(m_179980, card_179280);
                bool y_179983 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179982;
                bool ok_or_empty_179984 = empty_slice_179979 || y_179983;
                bool index_certs_179985;
                
                if (!ok_or_empty_179984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) card_179280, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179986 = slt64(m_179980, perThread_175600);
                bool y_179987 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179986;
                bool ok_or_empty_179988 = empty_slice_179979 || y_179987;
                bool index_certs_179989;
                
                if (!ok_or_empty_179988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182499 = 0; nest_i_182499 < perThread_175600; nest_i_182499++) {
                    ((int8_t *) mem_181433)[i_180782 * perThread_175600 + nest_i_182499] = (int8_t) -1;
                }
                for (int64_t nest_i_182500 = 0; nest_i_182500 < perThread_175600; nest_i_182500++) {
                    ((int64_t *) mem_181436)[i_180782 * perThread_175600 + nest_i_182500] = (int64_t) -1;
                }
                for (int64_t nest_i_182501 = 0; nest_i_182501 < perThread_175600; nest_i_182501++) {
                    ((float *) mem_181439)[i_180782 * perThread_175600 + nest_i_182501] = 0.0F;
                }
                
                int64_t slice_179296 = p_175562 + index_concat_branch_179259;
                
                if (memblock_alloc(ctx, &mem_181467, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "mem_181467")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182502 = 0; nest_i_182502 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; nest_i_182502++) {
                    ((int8_t *) mem_181467.mem)[nest_i_182502] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181469, bytes_181468, "mem_181469")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182503 = 0; i_182503 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; i_182503++) {
                    int64_t x_182504 = index_concat_branch_179259 + i_182503 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[i_182503] = x_182504;
                }
                
                int64_t slice_179315 = p_175563 + index_concat_branch_179262;
                
                for (int64_t nest_i_182505 = 0; nest_i_182505 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; nest_i_182505++) {
                    ((int8_t *) mem_181467.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + nest_i_182505] = (int8_t) 1;
                }
                for (int64_t i_182506 = 0; i_182506 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; i_182506++) {
                    int64_t x_182507 = index_concat_branch_179262 + i_182506 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + i_182506] = x_182507;
                }
                
                int64_t tmp_offs_182508 = (int64_t) 0;
                
                if (!(tmp_offs_182508 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182508 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t tmp_offs_182509 = (int64_t) 0;
                
                if (!(tmp_offs_182509 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182509 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                if (memblock_alloc(ctx, &mem_181471, bytes_181470, "mem_181471")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182510 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, slice_179296, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, slice_179315, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t flat_dim_179339 = smallest_pow_2_geq_than_res_179328 * block_sizze_179338;
                bool x_182209 = !cond_179322;
                int64_t greatest_divisor_leq_than_arg1_179343 = mul64((int64_t) 2, block_sizze_179338);
                int64_t merge_block_sizze_179344;
                
                if (x_182209) {
                    int64_t x_182211;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182211, (int64_t) 8, greatest_divisor_leq_than_arg1_179343) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179344 = x_182211;
                } else {
                    merge_block_sizze_179344 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179347 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 0);
                int8_t index_concat_branch_179348 = btoi_bool_i8(index_concat_cmp_179347);
                int64_t index_concat_i_179350 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t index_primexp_179351 = add64(index_concat_branch_179262, index_concat_i_179350);
                int64_t index_concat_branch_179349;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179349 = index_primexp_179351;
                } else {
                    index_concat_branch_179349 = index_concat_branch_179259;
                }
                
                bool x_182205 = !index_concat_cmp_179347;
                bool protect_cond_conj_182215 = x_182205 && x_182209;
                float index_concat_179357;
                
                if (protect_cond_conj_182215) {
                    float x_182207 = ((float *) a_list_mem_181052.mem)[slice_179296];
                    
                    index_concat_179357 = x_182207;
                } else {
                    index_concat_179357 = 0.0F;
                }
                
                int64_t slice_179355 = p_175563 + index_primexp_179351;
                bool protect_cond_conj_182216 = index_concat_cmp_179347 && x_182209;
                float index_concat_179356;
                
                if (protect_cond_conj_182216) {
                    float x_182203 = ((float *) b_list_mem_181053.mem)[slice_179355];
                    
                    index_concat_179356 = x_182203;
                } else {
                    index_concat_179356 = 0.0F;
                }
                
                float index_concat_branch_179352;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179352 = index_concat_179356;
                } else {
                    index_concat_branch_179352 = index_concat_179357;
                }
                
                int8_t defunc_0_reduce_res_179358;
                int64_t defunc_0_reduce_res_179359;
                float defunc_0_reduce_res_179360;
                
                if (x_182209) {
                    int8_t x_182217;
                    int64_t x_182218;
                    float x_182219;
                    int8_t redout_180719;
                    int64_t redout_180720;
                    float redout_180721;
                    
                    redout_180719 = index_concat_branch_179348;
                    redout_180720 = index_concat_branch_179349;
                    redout_180721 = index_concat_branch_179352;
                    for (int64_t i_180722 = 0; i_180722 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277; i_180722++) {
                        bool index_concat_cmp_180980 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, i_180722);
                        int8_t index_concat_branch_180984 = btoi_bool_i8(index_concat_cmp_180980);
                        int64_t index_concat_branch_180978;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180975 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t index_primexp_181028 = add64(index_concat_branch_179262, index_concat_i_180975);
                            
                            index_concat_branch_180978 = index_primexp_181028;
                        } else {
                            int64_t index_primexp_181030 = add64(index_concat_branch_179259, i_180722);
                            
                            index_concat_branch_180978 = index_primexp_181030;
                        }
                        
                        float index_concat_branch_180972;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180969 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t slice_181025 = slice_179315 + index_concat_i_180969;
                            float index_concat_180970 = ((float *) b_list_mem_181053.mem)[slice_181025];
                            
                            index_concat_branch_180972 = index_concat_180970;
                        } else {
                            int64_t slice_181026 = slice_179296 + i_180722;
                            float index_concat_180971 = ((float *) a_list_mem_181052.mem)[slice_181026];
                            
                            index_concat_branch_180972 = index_concat_180971;
                        }
                        
                        bool eq_x_y_181042 = redout_180719 == (int8_t) 1;
                        bool eq_x_zz_181043 = redout_180719 == (int8_t) 0;
                        bool p_and_eq_x_y_181044 = index_concat_cmp_180980 && eq_x_y_181042;
                        bool not_p_181045 = !index_concat_cmp_180980;
                        bool p_and_eq_x_y_181046 = eq_x_zz_181043 && not_p_181045;
                        bool cond_179370 = p_and_eq_x_y_181044 || p_and_eq_x_y_181046;
                        bool defunc_0_leq_res_t_res_179371 = sle64(redout_180720, index_concat_branch_180978);
                        bool defunc_0_leq_res_179372 = redout_180721 <= index_concat_branch_180972;
                        bool x_179373 = cond_179370 && defunc_0_leq_res_t_res_179371;
                        bool x_179374 = !cond_179370;
                        bool y_179375 = defunc_0_leq_res_179372 && x_179374;
                        bool defunc_0_leq_res_179376 = x_179373 || y_179375;
                        int8_t defunc_0_op_res_179377;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179377 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_179377 = redout_180719;
                        }
                        
                        int64_t defunc_0_op_res_179378;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179378 = index_concat_branch_180978;
                        } else {
                            defunc_0_op_res_179378 = redout_180720;
                        }
                        
                        float defunc_0_op_res_179379;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179379 = index_concat_branch_180972;
                        } else {
                            defunc_0_op_res_179379 = redout_180721;
                        }
                        
                        int8_t redout_tmp_182511 = defunc_0_op_res_179377;
                        int64_t redout_tmp_182512 = defunc_0_op_res_179378;
                        float redout_tmp_182513 = defunc_0_op_res_179379;
                        
                        redout_180719 = redout_tmp_182511;
                        redout_180720 = redout_tmp_182512;
                        redout_180721 = redout_tmp_182513;
                    }
                    x_182217 = redout_180719;
                    x_182218 = redout_180720;
                    x_182219 = redout_180721;
                    defunc_0_reduce_res_179358 = x_182217;
                    defunc_0_reduce_res_179359 = x_182218;
                    defunc_0_reduce_res_179360 = x_182219;
                } else {
                    defunc_0_reduce_res_179358 = (int8_t) 0;
                    defunc_0_reduce_res_179359 = (int64_t) 0;
                    defunc_0_reduce_res_179360 = 0.0F;
                }
                
                int64_t distance_179394 = add64((int64_t) 1, tmp_179392);
                int64_t binop_x_181474 = (int64_t) 8 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181475 = block_sizze_179338 * binop_x_181474;
                int64_t binop_x_181477 = (int64_t) 4 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181478 = block_sizze_179338 * binop_x_181477;
                int64_t bytes_181493 = (int64_t) 8 * block_sizze_179338;
                int64_t bytes_181495 = (int64_t) 4 * block_sizze_179338;
                bool loop_cond_179520 = slt64(block_sizze_179338, flat_dim_179339);
                bool zzero_179521 = merge_block_sizze_179344 == (int64_t) 0;
                bool nonzzero_179522 = !zzero_179521;
                
                if (cond_179322) {
                    if (memblock_set(ctx, &ext_mem_181766, &mem_181467, "mem_181467") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &mem_181469, "mem_181469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &mem_181471, "mem_181471") != 0)
                        return 1;
                } else {
                    if (mem_181473_cached_sizze_182870 < flat_dim_179339) {
                        err = lexical_realloc(ctx, &mem_181473, &mem_181473_cached_sizze_182870, flat_dim_179339);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182871 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182871, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181479_cached_sizze_182872 < bytes_181478) {
                        err = lexical_realloc(ctx, &mem_181479, &mem_181479_cached_sizze_182872, bytes_181478);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181492_cached_sizze_182873 < block_sizze_179338) {
                        err = lexical_realloc(ctx, &mem_181492, &mem_181492_cached_sizze_182873, block_sizze_179338);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181494_cached_sizze_182874 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181494, &mem_181494_cached_sizze_182874, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181496_cached_sizze_182875 < bytes_181495) {
                        err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182875, bytes_181495);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180739 = 0; i_180739 < smallest_pow_2_geq_than_res_179328; i_180739++) {
                        int64_t zp_lhs_179402 = mul64(block_sizze_179338, i_180739);
                        
                        for (int64_t i_180729 = 0; i_180729 < block_sizze_179338; i_180729++) {
                            int64_t k_179407 = add64(zp_lhs_179402, i_180729);
                            bool cond_179408 = slt64(k_179407, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                            int8_t lifted_lambda_res_179409;
                            int64_t lifted_lambda_res_179410;
                            float lifted_lambda_res_179411;
                            
                            if (cond_179408) {
                                bool x_179412 = sle64((int64_t) 0, k_179407);
                                bool bounds_check_179413 = cond_179408 && x_179412;
                                bool index_certs_179414;
                                
                                if (!bounds_check_179413) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179415 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, k_179407);
                                int8_t index_concat_branch_179416 = btoi_bool_i8(index_concat_cmp_179415);
                                int64_t index_concat_branch_179417;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179418 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t index_primexp_179419 = add64(index_concat_branch_179262, index_concat_i_179418);
                                    
                                    index_concat_branch_179417 = index_primexp_179419;
                                } else {
                                    int64_t index_primexp_179420 = add64(index_concat_branch_179259, k_179407);
                                    
                                    index_concat_branch_179417 = index_primexp_179420;
                                }
                                
                                float index_concat_branch_179421;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179422 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t slice_179423 = index_concat_branch_179262 + index_concat_i_179422;
                                    int64_t slice_179424 = p_175563 + slice_179423;
                                    float index_concat_179425 = ((float *) b_list_mem_181053.mem)[slice_179424];
                                    
                                    index_concat_branch_179421 = index_concat_179425;
                                } else {
                                    int64_t slice_179426 = index_concat_branch_179259 + k_179407;
                                    int64_t slice_179427 = p_175562 + slice_179426;
                                    float index_concat_179428 = ((float *) a_list_mem_181052.mem)[slice_179427];
                                    
                                    index_concat_branch_179421 = index_concat_179428;
                                }
                                lifted_lambda_res_179409 = index_concat_branch_179416;
                                lifted_lambda_res_179410 = index_concat_branch_179417;
                                lifted_lambda_res_179411 = index_concat_branch_179421;
                            } else {
                                lifted_lambda_res_179409 = defunc_0_reduce_res_179358;
                                lifted_lambda_res_179410 = defunc_0_reduce_res_179359;
                                lifted_lambda_res_179411 = defunc_0_reduce_res_179360;
                            }
                            ((int8_t *) mem_181492)[i_180729] = lifted_lambda_res_179409;
                            ((int64_t *) mem_181494)[i_180729] = lifted_lambda_res_179410;
                            ((float *) mem_181496)[i_180729] = lifted_lambda_res_179411;
                        }
                        if (!cond_179391) {
                            for (int64_t i_179438 = 0; i_179438 < distance_179394; i_179438++) {
                                int64_t gt_arg1_179442 = add64((int64_t) 1, i_179438);
                                bool x_179443 = sle64((int64_t) 0, gt_arg1_179442);
                                bool y_179444 = slt64(gt_arg1_179442, block_sizze_179338);
                                bool bounds_check_179445 = x_179443 && y_179444;
                                bool index_certs_179446;
                                
                                if (!bounds_check_179445) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179442, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179450 = slt64(i_179438, block_sizze_179338);
                                bool index_certs_179451;
                                
                                if (!y_179450) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179438, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179447 = ((int8_t *) mem_181492)[gt_arg1_179442];
                                int64_t gt_arg1_179448 = ((int64_t *) mem_181494)[gt_arg1_179442];
                                float gt_arg1_179449 = ((float *) mem_181496)[gt_arg1_179442];
                                int8_t gt_arg0_179452 = ((int8_t *) mem_181492)[i_179438];
                                int64_t gt_arg0_179453 = ((int64_t *) mem_181494)[i_179438];
                                float gt_arg0_179454 = ((float *) mem_181496)[i_179438];
                                bool cond_179455 = gt_arg0_179452 == gt_arg1_179447;
                                bool defunc_0_leq_res_t_res_179456 = sle64(gt_arg0_179453, gt_arg1_179448);
                                bool defunc_0_leq_res_179457 = gt_arg0_179454 <= gt_arg1_179449;
                                bool x_179458 = cond_179455 && defunc_0_leq_res_t_res_179456;
                                bool x_179459 = !cond_179455;
                                bool y_179460 = defunc_0_leq_res_179457 && x_179459;
                                bool defunc_0_leq_res_179461 = x_179458 || y_179460;
                                bool defunc_0_lifted_gt_res_179462 = !defunc_0_leq_res_179461;
                                bool s_179463;
                                int64_t s_179467;
                                bool loop_while_179468;
                                int64_t j_179472;
                                
                                loop_while_179468 = defunc_0_lifted_gt_res_179462;
                                j_179472 = i_179438;
                                while (loop_while_179468) {
                                    bool x_179473 = sle64((int64_t) 0, j_179472);
                                    bool y_179474 = slt64(j_179472, block_sizze_179338);
                                    bool bounds_check_179475 = x_179473 && y_179474;
                                    bool index_certs_179476;
                                    
                                    if (!bounds_check_179475) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179472, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179480 = add64((int64_t) 1, j_179472);
                                    bool x_179481 = sle64((int64_t) 0, copy_arg0_179480);
                                    bool y_179482 = slt64(copy_arg0_179480, block_sizze_179338);
                                    bool bounds_check_179483 = x_179481 && y_179482;
                                    bool index_certs_179484;
                                    
                                    if (!bounds_check_179483) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179480, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179477 = ((int8_t *) mem_181492)[j_179472];
                                    int64_t copy_arg0_179478 = ((int64_t *) mem_181494)[j_179472];
                                    float copy_arg0_179479 = ((float *) mem_181496)[j_179472];
                                    int8_t copy_arg0_179485 = ((int8_t *) mem_181492)[copy_arg0_179480];
                                    int64_t copy_arg0_179486 = ((int64_t *) mem_181494)[copy_arg0_179480];
                                    float copy_arg0_179487 = ((float *) mem_181496)[copy_arg0_179480];
                                    
                                    ((int8_t *) mem_181492)[j_179472] = copy_arg0_179485;
                                    ((int64_t *) mem_181494)[j_179472] = copy_arg0_179486;
                                    ((float *) mem_181496)[j_179472] = copy_arg0_179487;
                                    ((int8_t *) mem_181492)[copy_arg0_179480] = copy_arg0_179477;
                                    ((int64_t *) mem_181494)[copy_arg0_179480] = copy_arg0_179478;
                                    ((float *) mem_181496)[copy_arg0_179480] = copy_arg0_179479;
                                    
                                    int64_t tmp_179494 = sub64(j_179472, (int64_t) 1);
                                    bool cond_179495 = sle64((int64_t) 0, tmp_179494);
                                    bool loop_cond_179496;
                                    
                                    if (cond_179495) {
                                        bool y_179500 = slt64(tmp_179494, block_sizze_179338);
                                        bool bounds_check_179501 = cond_179495 && y_179500;
                                        bool index_certs_179502;
                                        
                                        if (!bounds_check_179501) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179494, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179497 = ((int8_t *) mem_181492)[j_179472];
                                        int64_t gt_arg1_179498 = ((int64_t *) mem_181494)[j_179472];
                                        float gt_arg1_179499 = ((float *) mem_181496)[j_179472];
                                        int8_t gt_arg0_179503 = ((int8_t *) mem_181492)[tmp_179494];
                                        int64_t gt_arg0_179504 = ((int64_t *) mem_181494)[tmp_179494];
                                        float gt_arg0_179505 = ((float *) mem_181496)[tmp_179494];
                                        bool cond_179506 = gt_arg0_179503 == gt_arg1_179497;
                                        bool defunc_0_leq_res_t_res_179507 = sle64(gt_arg0_179504, gt_arg1_179498);
                                        bool defunc_0_leq_res_179508 = gt_arg0_179505 <= gt_arg1_179499;
                                        bool x_179509 = cond_179506 && defunc_0_leq_res_t_res_179507;
                                        bool x_179510 = !cond_179506;
                                        bool y_179511 = defunc_0_leq_res_179508 && x_179510;
                                        bool defunc_0_leq_res_179512 = x_179509 || y_179511;
                                        bool defunc_0_lifted_gt_res_179513 = !defunc_0_leq_res_179512;
                                        
                                        loop_cond_179496 = defunc_0_lifted_gt_res_179513;
                                    } else {
                                        loop_cond_179496 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182523 = loop_cond_179496;
                                    int64_t j_tmp_182527 = tmp_179494;
                                    
                                    loop_while_179468 = loop_while_tmp_182523;
                                    j_179472 = j_tmp_182527;
                                }
                                s_179463 = loop_while_179468;
                                s_179467 = j_179472;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181473, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181492, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181476, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181494, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181479, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181496, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                    }
                    if (memblock_alloc(ctx, &mem_181573, flat_dim_179339, "mem_181573")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181573.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint8_t *) mem_181473, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181577, bytes_181475, "mem_181577")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181577.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181581, bytes_181478, "mem_181581")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181581.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint32_t *) mem_181479, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    
                    int64_t data_179523;
                    bool data_179524;
                    int64_t data_179528;
                    int64_t loop_dz2084Uz2082U_179529;
                    bool loop_while_179530;
                    int64_t stride_179534;
                    
                    if (memblock_set(ctx, &mem_param_181585, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181588, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181591, &mem_181581, "mem_181581") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179529 = flat_dim_179339;
                    loop_while_179530 = loop_cond_179520;
                    stride_179534 = block_sizze_179338;
                    while (loop_while_179530) {
                        int64_t next_stride_179535 = mul64((int64_t) 2, stride_179534);
                        bool zzero_179536 = next_stride_179535 == (int64_t) 0;
                        bool nonzzero_179537 = !zzero_179536;
                        bool nonzzero_cert_179538;
                        
                        if (!nonzzero_179537) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179539 = sdiv64(flat_dim_179339, next_stride_179535);
                        bool bounds_invalid_upwards_179540 = slt64(num_merges_179539, (int64_t) 0);
                        bool valid_179541 = !bounds_invalid_upwards_179540;
                        bool range_valid_c_179542;
                        
                        if (!valid_179541) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179539, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179544 = sub64(next_stride_179535, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179545 = sle64((int64_t) 0, m_179544);
                        bool cond_179547 = slt64(next_stride_179535, (int64_t) 10);
                        bool protect_assert_disj_179548 = nonzzero_179522 || cond_179547;
                        bool nonzzero_cert_179549;
                        
                        if (!protect_assert_disj_179548) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179550 = smod_safe64(next_stride_179535, merge_block_sizze_179344);
                        bool num_blocks_179551 = zeze_lhs_179550 == (int64_t) 0;
                        bool protect_assert_disj_179552 = cond_179547 || num_blocks_179551;
                        bool assert_c_179553;
                        
                        if (!protect_assert_disj_179552) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179554 = sdiv_safe64(next_stride_179535, merge_block_sizze_179344);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555 = add64((int64_t) 1, num_blocks_179554);
                        int64_t j_m_i_179556 = sub64(next_stride_179535, stride_179534);
                        int64_t flat_dim_179557 = merge_block_sizze_179344 * num_blocks_179554;
                        bool bounds_invalid_upwards_179558 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, (int64_t) 0);
                        bool empty_slice_179559 = j_m_i_179556 == (int64_t) 0;
                        int64_t m_179560 = sub64(j_m_i_179556, (int64_t) 1);
                        bool zzero_lte_i_179561 = sle64((int64_t) 0, stride_179534);
                        bool i_lte_j_179562 = sle64(stride_179534, next_stride_179535);
                        bool empty_slice_179563 = stride_179534 == (int64_t) 0;
                        int64_t m_179564 = sub64(stride_179534, (int64_t) 1);
                        bool bounds_invalid_upwards_179565 = slt64(num_blocks_179554, (int64_t) 0);
                        bool cond_179566 = slt64((int64_t) 0, stride_179534);
                        bool valid_179567 = !bounds_invalid_upwards_179558;
                        int64_t i_p_m_t_s_179568 = add64(stride_179534, m_179560);
                        bool zzero_leq_i_p_m_t_s_179569 = sle64((int64_t) 0, m_179564);
                        bool i_p_m_t_s_leq_w_179570 = slt64(m_179564, next_stride_179535);
                        bool valid_179571 = !bounds_invalid_upwards_179565;
                        bool i_p_m_t_s_leq_w_179572 = slt64(m_179544, flat_dim_179557);
                        bool y_179573 = slt64((int64_t) 0, j_m_i_179556);
                        bool protect_assert_disj_179574 = cond_179547 || valid_179567;
                        bool range_valid_c_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179576 = sle64((int64_t) 0, i_p_m_t_s_179568);
                        bool i_p_m_t_s_leq_w_179577 = slt64(i_p_m_t_s_179568, next_stride_179535);
                        bool y_179578 = zzero_leq_i_p_m_t_s_179569 && i_p_m_t_s_leq_w_179570;
                        bool protect_assert_disj_179579 = cond_179547 || valid_179571;
                        bool range_valid_c_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179554, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179581 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179572;
                        bool y_179582 = zzero_lte_i_179561 && i_p_m_t_s_leq_w_179577;
                        bool forwards_ok_179583 = zzero_lte_i_179561 && y_179578;
                        bool ok_or_empty_179584 = zzero_179536 || y_179581;
                        bool protect_assert_disj_179585 = cond_179566 || y_179573;
                        bool y_179586 = zzero_leq_i_p_m_t_s_179576 && y_179582;
                        bool ok_or_empty_179587 = empty_slice_179563 || forwards_ok_179583;
                        bool protect_assert_disj_179588 = cond_179547 || ok_or_empty_179584;
                        bool index_certs_179589;
                        
                        if (!protect_assert_disj_179588) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) flat_dim_179557, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179590 = !cond_179547;
                        bool protect_assert_disj_179591 = protect_assert_disj_179585 || loop_not_taken_179590;
                        bool index_certs_179592;
                        
                        if (!protect_assert_disj_179591) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179593 = i_lte_j_179562 && y_179586;
                        bool protect_assert_disj_179594 = cond_179547 || ok_or_empty_179587;
                        bool index_certs_179595;
                        
                        if (!protect_assert_disj_179594) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179596 = ok_or_empty_179587 || loop_not_taken_179590;
                        bool index_certs_179597;
                        
                        if (!protect_assert_disj_179596) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179598 = empty_slice_179559 || forwards_ok_179593;
                        bool protect_assert_disj_179599 = cond_179547 || ok_or_empty_179598;
                        bool index_certs_179600;
                        
                        if (!protect_assert_disj_179599) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179601 = loop_not_taken_179590 || ok_or_empty_179598;
                        bool index_certs_179602;
                        
                        if (!protect_assert_disj_179601) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181592 = next_stride_179535 * num_merges_179539;
                        int64_t binop_x_181594 = (int64_t) 8 * num_merges_179539;
                        int64_t bytes_181595 = next_stride_179535 * binop_x_181594;
                        int64_t binop_x_181597 = (int64_t) 4 * num_merges_179539;
                        int64_t bytes_181598 = next_stride_179535 * binop_x_181597;
                        bool i_lte_j_179546 = sle64((int64_t) 0, next_stride_179535);
                        
                        if (mem_181593_cached_sizze_182876 < bytes_181592) {
                            err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182876, bytes_181592);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181596_cached_sizze_182877 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181596, &mem_181596_cached_sizze_182877, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181599_cached_sizze_182878 < bytes_181598) {
                            err = lexical_realloc(ctx, &mem_181599, &mem_181599_cached_sizze_182878, bytes_181598);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181612 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555;
                        int64_t binop_x_181630 = (int64_t) 8 * num_blocks_179554;
                        int64_t bytes_181631 = merge_block_sizze_179344 * binop_x_181630;
                        int64_t binop_x_181633 = (int64_t) 4 * num_blocks_179554;
                        int64_t bytes_181634 = merge_block_sizze_179344 * binop_x_181633;
                        int64_t bytes_181695 = (int64_t) 16 * stride_179534;
                        int64_t bytes_181697 = (int64_t) 8 * stride_179534;
                        
                        for (int64_t i_180766 = 0; i_180766 < num_merges_179539; i_180766++) {
                            int64_t start_179607 = mul64(next_stride_179535, i_180766);
                            int64_t j_m_i_179608 = sub64(loop_dz2084Uz2082U_179529, start_179607);
                            bool empty_slice_179609 = j_m_i_179608 == (int64_t) 0;
                            int64_t m_179610 = sub64(j_m_i_179608, (int64_t) 1);
                            int64_t i_p_m_t_s_179611 = add64(start_179607, m_179610);
                            bool zzero_leq_i_p_m_t_s_179612 = sle64((int64_t) 0, i_p_m_t_s_179611);
                            bool i_p_m_t_s_leq_w_179613 = slt64(i_p_m_t_s_179611, loop_dz2084Uz2082U_179529);
                            bool zzero_lte_i_179614 = sle64((int64_t) 0, start_179607);
                            bool i_lte_j_179615 = sle64(start_179607, loop_dz2084Uz2082U_179529);
                            bool y_179616 = i_p_m_t_s_leq_w_179613 && zzero_lte_i_179614;
                            bool y_179617 = zzero_leq_i_p_m_t_s_179612 && y_179616;
                            bool forwards_ok_179618 = i_lte_j_179615 && y_179617;
                            bool ok_or_empty_179619 = empty_slice_179609 || forwards_ok_179618;
                            bool index_certs_179620;
                            
                            if (!ok_or_empty_179619) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179607, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179529, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179621 = slt64(m_179544, j_m_i_179608);
                            bool y_179622 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179621;
                            bool forwards_ok_179623 = i_lte_j_179546 && y_179622;
                            bool ok_or_empty_179624 = zzero_179536 || forwards_ok_179623;
                            bool index_certs_179625;
                            
                            if (!ok_or_empty_179624) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) j_m_i_179608, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179547) {
                                int8_t dummy_179629;
                                int64_t dummy_179630;
                                float dummy_179631;
                                
                                if (cond_179566) {
                                    int8_t head_res_179632 = ((int8_t *) mem_param_181585.mem)[start_179607];
                                    int64_t head_res_179633 = ((int64_t *) mem_param_181588.mem)[start_179607];
                                    float head_res_179634 = ((float *) mem_param_181591.mem)[start_179607];
                                    
                                    dummy_179629 = head_res_179632;
                                    dummy_179630 = head_res_179633;
                                    dummy_179631 = head_res_179634;
                                } else {
                                    int64_t slice_179635 = stride_179534 + start_179607;
                                    int8_t head_res_179636 = ((int8_t *) mem_param_181585.mem)[slice_179635];
                                    int64_t head_res_179637 = ((int64_t *) mem_param_181588.mem)[slice_179635];
                                    float head_res_179638 = ((float *) mem_param_181591.mem)[slice_179635];
                                    
                                    dummy_179629 = head_res_179636;
                                    dummy_179630 = head_res_179637;
                                    dummy_179631 = head_res_179638;
                                }
                                if (memblock_alloc(ctx, &mem_181694, next_stride_179535, "mem_181694")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182540 = 0; nest_i_182540 < next_stride_179535; nest_i_182540++) {
                                    ((int8_t *) mem_181694.mem)[nest_i_182540] = dummy_179629;
                                }
                                if (memblock_alloc(ctx, &mem_181696, bytes_181695, "mem_181696")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182541 = 0; nest_i_182541 < next_stride_179535; nest_i_182541++) {
                                    ((int64_t *) mem_181696.mem)[nest_i_182541] = dummy_179630;
                                }
                                if (memblock_alloc(ctx, &mem_181698, bytes_181697, "mem_181698")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182542 = 0; nest_i_182542 < next_stride_179535; nest_i_182542++) {
                                    ((float *) mem_181698.mem)[nest_i_182542] = dummy_179631;
                                }
                                
                                int64_t data_179642;
                                int64_t i_179647 = (int64_t) 0;
                                
                                for (int64_t k_179646 = 0; k_179646 < next_stride_179535; k_179646++) {
                                    int64_t j_179651 = sub64(k_179646, i_179647);
                                    bool cond_179652 = j_179651 == j_m_i_179556;
                                    bool cond_179653;
                                    
                                    if (cond_179652) {
                                        cond_179653 = 1;
                                    } else {
                                        bool cond_179654 = slt64(i_179647, stride_179534);
                                        bool cond_f_res_179655;
                                        
                                        if (cond_179654) {
                                            bool x_179656 = sle64((int64_t) 0, j_179651);
                                            bool y_179657 = slt64(j_179651, j_m_i_179556);
                                            bool bounds_check_179658 = x_179656 && y_179657;
                                            bool index_certs_179659;
                                            
                                            if (!bounds_check_179658) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179665 = sle64((int64_t) 0, i_179647);
                                            bool bounds_check_179666 = cond_179654 && x_179665;
                                            bool index_certs_179667;
                                            
                                            if (!bounds_check_179666) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179660 = stride_179534 + j_179651;
                                            int64_t slice_179661 = start_179607 + slice_179660;
                                            int8_t leq_arg1_179662 = ((int8_t *) mem_param_181585.mem)[slice_179661];
                                            int64_t leq_arg1_179663 = ((int64_t *) mem_param_181588.mem)[slice_179661];
                                            float leq_arg1_179664 = ((float *) mem_param_181591.mem)[slice_179661];
                                            int64_t slice_179668 = start_179607 + i_179647;
                                            int8_t leq_arg0_179669 = ((int8_t *) mem_param_181585.mem)[slice_179668];
                                            int64_t leq_arg0_179670 = ((int64_t *) mem_param_181588.mem)[slice_179668];
                                            float leq_arg0_179671 = ((float *) mem_param_181591.mem)[slice_179668];
                                            bool cond_179672 = leq_arg0_179669 == leq_arg1_179662;
                                            bool defunc_0_leq_res_t_res_179673 = sle64(leq_arg0_179670, leq_arg1_179663);
                                            bool defunc_0_leq_res_179674 = leq_arg0_179671 <= leq_arg1_179664;
                                            bool x_179675 = cond_179672 && defunc_0_leq_res_t_res_179673;
                                            bool x_179676 = !cond_179672;
                                            bool y_179677 = defunc_0_leq_res_179674 && x_179676;
                                            bool defunc_0_leq_res_179678 = x_179675 || y_179677;
                                            
                                            cond_f_res_179655 = defunc_0_leq_res_179678;
                                        } else {
                                            cond_f_res_179655 = 0;
                                        }
                                        cond_179653 = cond_f_res_179655;
                                    }
                                    
                                    int64_t loopres_179679;
                                    int8_t loopres_179680;
                                    int64_t loopres_179681;
                                    float loopres_179682;
                                    
                                    if (cond_179653) {
                                        bool x_179684 = sle64((int64_t) 0, i_179647);
                                        bool y_179685 = slt64(i_179647, stride_179534);
                                        bool bounds_check_179686 = x_179684 && y_179685;
                                        bool index_certs_179687;
                                        
                                        if (!bounds_check_179686) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179683 = add64((int64_t) 1, i_179647);
                                        int64_t slice_179688 = start_179607 + i_179647;
                                        int8_t tmp_179689 = ((int8_t *) mem_param_181585.mem)[slice_179688];
                                        int64_t tmp_179690 = ((int64_t *) mem_param_181588.mem)[slice_179688];
                                        float tmp_179691 = ((float *) mem_param_181591.mem)[slice_179688];
                                        
                                        loopres_179679 = tmp_179683;
                                        loopres_179680 = tmp_179689;
                                        loopres_179681 = tmp_179690;
                                        loopres_179682 = tmp_179691;
                                    } else {
                                        bool x_179692 = sle64((int64_t) 0, j_179651);
                                        bool y_179693 = slt64(j_179651, j_m_i_179556);
                                        bool bounds_check_179694 = x_179692 && y_179693;
                                        bool index_certs_179695;
                                        
                                        if (!bounds_check_179694) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179696 = stride_179534 + j_179651;
                                        int64_t slice_179697 = start_179607 + slice_179696;
                                        int8_t tmp_179698 = ((int8_t *) mem_param_181585.mem)[slice_179697];
                                        int64_t tmp_179699 = ((int64_t *) mem_param_181588.mem)[slice_179697];
                                        float tmp_179700 = ((float *) mem_param_181591.mem)[slice_179697];
                                        
                                        loopres_179679 = i_179647;
                                        loopres_179680 = tmp_179698;
                                        loopres_179681 = tmp_179699;
                                        loopres_179682 = tmp_179700;
                                    }
                                    ((int8_t *) mem_181694.mem)[k_179646] = loopres_179680;
                                    ((int64_t *) mem_181696.mem)[k_179646] = loopres_179681;
                                    ((float *) mem_181698.mem)[k_179646] = loopres_179682;
                                    
                                    int64_t i_tmp_182543 = loopres_179679;
                                    
                                    i_179647 = i_tmp_182543;
                                }
                                data_179642 = i_179647;
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181694, "mem_181694") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181696, "mem_181696") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181698, "mem_181698") != 0)
                                    return 1;
                            } else {
                                if (mem_181613_cached_sizze_182879 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181613, &mem_181613_cached_sizze_182879, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182880 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182880, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180747 = 0; i_180747 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555; i_180747++) {
                                    int64_t split_count_arg3_179708 = mul64(merge_block_sizze_179344, i_180747);
                                    int64_t defunc_0_split_count_res_179709;
                                    int64_t defunc_0_split_count_res_179710;
                                    int64_t defunc_0_split_count_res_179711;
                                    int64_t defunc_0_split_count_res_179712;
                                    int64_t defunc_0_split_count_res_179713;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_179709, &defunc_0_split_count_res_179710, &defunc_0_split_count_res_179711, &defunc_0_split_count_res_179712, &defunc_0_split_count_res_179713, (int64_t) 0, stride_179534, (int64_t) 0, j_m_i_179556, split_count_arg3_179708) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179714 = slt64((int64_t) 0, defunc_0_split_count_res_179713);
                                    bool defunc_0_split_count_res_179715;
                                    int64_t defunc_0_split_count_res_179716;
                                    int64_t defunc_0_split_count_res_179717;
                                    int64_t defunc_0_split_count_res_179718;
                                    int64_t defunc_0_split_count_res_179719;
                                    int64_t defunc_0_split_count_res_179720;
                                    bool loop_while_179721;
                                    int64_t ss_179722;
                                    int64_t ss_179723;
                                    int64_t tt_179724;
                                    int64_t tt_179725;
                                    int64_t count_179726;
                                    
                                    loop_while_179721 = loop_cond_179714;
                                    ss_179722 = defunc_0_split_count_res_179709;
                                    ss_179723 = defunc_0_split_count_res_179710;
                                    tt_179724 = defunc_0_split_count_res_179711;
                                    tt_179725 = defunc_0_split_count_res_179712;
                                    count_179726 = defunc_0_split_count_res_179713;
                                    while (loop_while_179721) {
                                        int64_t zlze_lhs_179727 = sub64(ss_179723, ss_179722);
                                        bool cond_179728 = sle64(zlze_lhs_179727, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179729;
                                        int64_t defunc_0_lifted_step_res_179730;
                                        int64_t defunc_0_lifted_step_res_179731;
                                        int64_t defunc_0_lifted_step_res_179732;
                                        
                                        if (cond_179728) {
                                            int64_t tmp_179733 = add64(tt_179724, count_179726);
                                            
                                            defunc_0_lifted_step_res_179729 = ss_179722;
                                            defunc_0_lifted_step_res_179730 = tmp_179733;
                                            defunc_0_lifted_step_res_179731 = tt_179725;
                                            defunc_0_lifted_step_res_179732 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179734 = sub64(tt_179725, tt_179724);
                                            bool cond_179735 = sle64(zlze_lhs_179734, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179736;
                                            int64_t defunc_0_lifted_step_res_f_res_179737;
                                            int64_t defunc_0_lifted_step_res_f_res_179738;
                                            int64_t defunc_0_lifted_step_res_f_res_179739;
                                            
                                            if (cond_179735) {
                                                int64_t tmp_179740 = add64(ss_179722, count_179726);
                                                
                                                defunc_0_lifted_step_res_f_res_179736 = tmp_179740;
                                                defunc_0_lifted_step_res_f_res_179737 = tt_179724;
                                                defunc_0_lifted_step_res_f_res_179738 = tt_179725;
                                                defunc_0_lifted_step_res_f_res_179739 = (int64_t) 0;
                                            } else {
                                                bool cond_179741 = count_179726 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179742;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179743;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179744;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179745;
                                                
                                                if (cond_179741) {
                                                    bool x_179746 = sle64((int64_t) 0, ss_179722);
                                                    bool y_179747 = slt64(ss_179722, stride_179534);
                                                    bool bounds_check_179748 = x_179746 && y_179747;
                                                    bool index_certs_179749;
                                                    
                                                    if (!bounds_check_179748) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179722, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179754 = sle64((int64_t) 0, tt_179724);
                                                    bool y_179755 = slt64(tt_179724, j_m_i_179556);
                                                    bool bounds_check_179756 = x_179754 && y_179755;
                                                    bool index_certs_179757;
                                                    
                                                    if (!bounds_check_179756) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179724, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179750 = start_179607 + ss_179722;
                                                    int8_t leq_arg1_179751 = ((int8_t *) mem_param_181585.mem)[slice_179750];
                                                    int64_t leq_arg1_179752 = ((int64_t *) mem_param_181588.mem)[slice_179750];
                                                    float leq_arg1_179753 = ((float *) mem_param_181591.mem)[slice_179750];
                                                    int64_t slice_179758 = stride_179534 + tt_179724;
                                                    int64_t slice_179759 = start_179607 + slice_179758;
                                                    int8_t leq_arg0_179760 = ((int8_t *) mem_param_181585.mem)[slice_179759];
                                                    int64_t leq_arg0_179761 = ((int64_t *) mem_param_181588.mem)[slice_179759];
                                                    float leq_arg0_179762 = ((float *) mem_param_181591.mem)[slice_179759];
                                                    bool cond_179763 = leq_arg0_179760 == leq_arg1_179751;
                                                    bool defunc_0_leq_res_t_res_179764 = sle64(leq_arg0_179761, leq_arg1_179752);
                                                    bool defunc_0_leq_res_179765 = leq_arg0_179762 <= leq_arg1_179753;
                                                    bool x_179766 = cond_179763 && defunc_0_leq_res_t_res_179764;
                                                    bool x_179767 = !cond_179763;
                                                    bool y_179768 = defunc_0_leq_res_179765 && x_179767;
                                                    bool defunc_0_leq_res_179769 = x_179766 || y_179768;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    
                                                    if (defunc_0_leq_res_179769) {
                                                        int64_t tmp_179772 = add64((int64_t) 1, tt_179724);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = ss_179722;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tmp_179772;
                                                    } else {
                                                        int64_t tmp_179773 = add64((int64_t) 1, ss_179722);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = tmp_179773;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tt_179724;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = tt_179725;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179774 = sdiv64(count_179726, (int64_t) 2);
                                                    int64_t n_179775 = sub64(count_179726, m_179774);
                                                    bool cond_179776 = n_179775 == (int64_t) 0;
                                                    int64_t zgze_lhs_179777 = add64(ss_179722, m_179774);
                                                    bool cond_f_res_179778 = sle64(ss_179723, zgze_lhs_179777);
                                                    bool x_179779 = !cond_179776;
                                                    bool y_179780 = cond_f_res_179778 && x_179779;
                                                    bool cond_179781 = cond_179776 || y_179780;
                                                    bool leq_y_x_179782;
                                                    
                                                    if (cond_179781) {
                                                        leq_y_x_179782 = 1;
                                                    } else {
                                                        bool x_179783 = sle64((int64_t) 0, zgze_lhs_179777);
                                                        bool y_179784 = slt64(zgze_lhs_179777, stride_179534);
                                                        bool bounds_check_179785 = x_179783 && y_179784;
                                                        bool index_certs_179786;
                                                        
                                                        if (!bounds_check_179785) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179777, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179791 = add64(tt_179724, n_179775);
                                                        int64_t leq_arg0_179792 = sub64(zm_lhs_179791, (int64_t) 1);
                                                        bool x_179793 = sle64((int64_t) 0, leq_arg0_179792);
                                                        bool y_179794 = slt64(leq_arg0_179792, j_m_i_179556);
                                                        bool bounds_check_179795 = x_179793 && y_179794;
                                                        bool index_certs_179796;
                                                        
                                                        if (!bounds_check_179795) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179792, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179787 = start_179607 + zgze_lhs_179777;
                                                        int8_t leq_arg1_179788 = ((int8_t *) mem_param_181585.mem)[slice_179787];
                                                        int64_t leq_arg1_179789 = ((int64_t *) mem_param_181588.mem)[slice_179787];
                                                        float leq_arg1_179790 = ((float *) mem_param_181591.mem)[slice_179787];
                                                        int64_t slice_179797 = stride_179534 + leq_arg0_179792;
                                                        int64_t slice_179798 = start_179607 + slice_179797;
                                                        int8_t leq_arg0_179799 = ((int8_t *) mem_param_181585.mem)[slice_179798];
                                                        int64_t leq_arg0_179800 = ((int64_t *) mem_param_181588.mem)[slice_179798];
                                                        float leq_arg0_179801 = ((float *) mem_param_181591.mem)[slice_179798];
                                                        bool cond_179802 = leq_arg0_179799 == leq_arg1_179788;
                                                        bool defunc_0_leq_res_t_res_179803 = sle64(leq_arg0_179800, leq_arg1_179789);
                                                        bool defunc_0_leq_res_179804 = leq_arg0_179801 <= leq_arg1_179790;
                                                        bool x_179805 = cond_179802 && defunc_0_leq_res_t_res_179803;
                                                        bool x_179806 = !cond_179802;
                                                        bool y_179807 = defunc_0_leq_res_179804 && x_179806;
                                                        bool defunc_0_leq_res_179808 = x_179805 || y_179807;
                                                        
                                                        leq_y_x_179782 = defunc_0_leq_res_179808;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                    
                                                    if (leq_y_x_179782) {
                                                        int64_t tmp_179812 = add64(tt_179724, n_179775);
                                                        int64_t tmp_179813 = sub64(count_179726, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tmp_179812;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tt_179725;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = tmp_179813;
                                                    } else {
                                                        int64_t tmp_179814 = add64(tt_179724, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tt_179724;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tmp_179814;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = count_179726;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = ss_179722;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                }
                                                defunc_0_lifted_step_res_f_res_179736 = defunc_0_lifted_step_res_f_res_f_res_179742;
                                                defunc_0_lifted_step_res_f_res_179737 = defunc_0_lifted_step_res_f_res_f_res_179743;
                                                defunc_0_lifted_step_res_f_res_179738 = defunc_0_lifted_step_res_f_res_f_res_179744;
                                                defunc_0_lifted_step_res_f_res_179739 = defunc_0_lifted_step_res_f_res_f_res_179745;
                                            }
                                            defunc_0_lifted_step_res_179729 = defunc_0_lifted_step_res_f_res_179736;
                                            defunc_0_lifted_step_res_179730 = defunc_0_lifted_step_res_f_res_179737;
                                            defunc_0_lifted_step_res_179731 = defunc_0_lifted_step_res_f_res_179738;
                                            defunc_0_lifted_step_res_179732 = defunc_0_lifted_step_res_f_res_179739;
                                        }
                                        
                                        int64_t loopres_179815;
                                        int64_t loopres_179816;
                                        int64_t loopres_179817;
                                        int64_t loopres_179818;
                                        int64_t loopres_179819;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_179815, &loopres_179816, &loopres_179817, &loopres_179818, &loopres_179819, defunc_0_lifted_step_res_179729, ss_179723, defunc_0_lifted_step_res_179730, defunc_0_lifted_step_res_179731, defunc_0_lifted_step_res_179732) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179820 = slt64((int64_t) 0, loopres_179819);
                                        bool loop_while_tmp_182549 = loop_cond_179820;
                                        int64_t ss_tmp_182550 = loopres_179815;
                                        int64_t ss_tmp_182551 = loopres_179816;
                                        int64_t tt_tmp_182552 = loopres_179817;
                                        int64_t tt_tmp_182553 = loopres_179818;
                                        int64_t count_tmp_182554 = loopres_179819;
                                        
                                        loop_while_179721 = loop_while_tmp_182549;
                                        ss_179722 = ss_tmp_182550;
                                        ss_179723 = ss_tmp_182551;
                                        tt_179724 = tt_tmp_182552;
                                        tt_179725 = tt_tmp_182553;
                                        count_179726 = count_tmp_182554;
                                    }
                                    defunc_0_split_count_res_179715 = loop_while_179721;
                                    defunc_0_split_count_res_179716 = ss_179722;
                                    defunc_0_split_count_res_179717 = ss_179723;
                                    defunc_0_split_count_res_179718 = tt_179724;
                                    defunc_0_split_count_res_179719 = tt_179725;
                                    defunc_0_split_count_res_179720 = count_179726;
                                    ((int64_t *) mem_181613)[i_180747] = defunc_0_split_count_res_179716;
                                    ((int64_t *) mem_181615)[i_180747] = defunc_0_split_count_res_179718;
                                }
                                if (mem_181629_cached_sizze_182881 < flat_dim_179557) {
                                    err = lexical_realloc(ctx, &mem_181629, &mem_181629_cached_sizze_182881, flat_dim_179557);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181632_cached_sizze_182882 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181632, &mem_181632_cached_sizze_182882, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181635_cached_sizze_182883 < bytes_181634) {
                                    err = lexical_realloc(ctx, &mem_181635, &mem_181635_cached_sizze_182883, bytes_181634);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180756 = 0; i_180756 < num_blocks_179554; i_180756++) {
                                    bool y_179829 = slt64(i_180756, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool index_certs_179831;
                                    
                                    if (!y_179829) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179832 = ((int64_t *) mem_181613)[i_180756];
                                    int64_t defunc_0_f_res_179833 = ((int64_t *) mem_181615)[i_180756];
                                    int64_t tmp_179834 = add64((int64_t) 1, i_180756);
                                    bool x_179835 = sle64((int64_t) 0, tmp_179834);
                                    bool y_179836 = slt64(tmp_179834, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool bounds_check_179837 = x_179835 && y_179836;
                                    bool index_certs_179838;
                                    
                                    if (!bounds_check_179837) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179839 = ((int64_t *) mem_181613)[tmp_179834];
                                    int64_t defunc_0_f_res_179840 = ((int64_t *) mem_181615)[tmp_179834];
                                    int64_t merge_sequential_arg2_179841 = add64(stride_179534, defunc_0_f_res_179833);
                                    int64_t merge_sequential_arg2_179842 = add64(stride_179534, defunc_0_f_res_179840);
                                    int64_t j_m_i_179843 = sub64(merge_sequential_arg2_179842, merge_sequential_arg2_179841);
                                    bool empty_slice_179844 = j_m_i_179843 == (int64_t) 0;
                                    int64_t m_179845 = sub64(j_m_i_179843, (int64_t) 1);
                                    int64_t i_p_m_t_s_179846 = add64(merge_sequential_arg2_179841, m_179845);
                                    bool zzero_leq_i_p_m_t_s_179847 = sle64((int64_t) 0, i_p_m_t_s_179846);
                                    bool i_p_m_t_s_leq_w_179848 = slt64(i_p_m_t_s_179846, next_stride_179535);
                                    bool zzero_lte_i_179849 = sle64((int64_t) 0, merge_sequential_arg2_179841);
                                    bool i_lte_j_179850 = sle64(merge_sequential_arg2_179841, merge_sequential_arg2_179842);
                                    bool y_179851 = i_p_m_t_s_leq_w_179848 && zzero_lte_i_179849;
                                    bool y_179852 = zzero_leq_i_p_m_t_s_179847 && y_179851;
                                    bool forwards_ok_179853 = i_lte_j_179850 && y_179852;
                                    bool ok_or_empty_179854 = empty_slice_179844 || forwards_ok_179853;
                                    bool index_certs_179855;
                                    
                                    if (!ok_or_empty_179854) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179841, ":", (long long) merge_sequential_arg2_179842, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179856 = sub64(defunc_0_f_res_179839, defunc_0_f_res_179832);
                                    bool empty_slice_179857 = j_m_i_179856 == (int64_t) 0;
                                    int64_t m_179858 = sub64(j_m_i_179856, (int64_t) 1);
                                    int64_t i_p_m_t_s_179859 = add64(defunc_0_f_res_179832, m_179858);
                                    bool zzero_leq_i_p_m_t_s_179860 = sle64((int64_t) 0, i_p_m_t_s_179859);
                                    bool i_p_m_t_s_leq_w_179861 = slt64(i_p_m_t_s_179859, next_stride_179535);
                                    bool zzero_lte_i_179862 = sle64((int64_t) 0, defunc_0_f_res_179832);
                                    bool i_lte_j_179863 = sle64(defunc_0_f_res_179832, defunc_0_f_res_179839);
                                    bool y_179864 = i_p_m_t_s_leq_w_179861 && zzero_lte_i_179862;
                                    bool y_179865 = zzero_leq_i_p_m_t_s_179860 && y_179864;
                                    bool forwards_ok_179866 = i_lte_j_179863 && y_179865;
                                    bool ok_or_empty_179867 = empty_slice_179857 || forwards_ok_179866;
                                    bool index_certs_179868;
                                    
                                    if (!ok_or_empty_179867) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179832, ":", (long long) defunc_0_f_res_179839, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179869 = slt64((int64_t) 0, j_m_i_179856);
                                    int8_t dummy_179870;
                                    int64_t dummy_179871;
                                    float dummy_179872;
                                    
                                    if (cond_179869) {
                                        bool index_certs_179873;
                                        
                                        if (!cond_179869) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179874 = start_179607 + defunc_0_f_res_179832;
                                        int8_t head_res_179875 = ((int8_t *) mem_param_181585.mem)[slice_179874];
                                        int64_t head_res_179876 = ((int64_t *) mem_param_181588.mem)[slice_179874];
                                        float head_res_179877 = ((float *) mem_param_181591.mem)[slice_179874];
                                        
                                        dummy_179870 = head_res_179875;
                                        dummy_179871 = head_res_179876;
                                        dummy_179872 = head_res_179877;
                                    } else {
                                        bool y_179878 = slt64((int64_t) 0, j_m_i_179843);
                                        bool index_certs_179879;
                                        
                                        if (!y_179878) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179880 = start_179607 + merge_sequential_arg2_179841;
                                        int8_t head_res_179881 = ((int8_t *) mem_param_181585.mem)[slice_179880];
                                        int64_t head_res_179882 = ((int64_t *) mem_param_181588.mem)[slice_179880];
                                        float head_res_179883 = ((float *) mem_param_181591.mem)[slice_179880];
                                        
                                        dummy_179870 = head_res_179881;
                                        dummy_179871 = head_res_179882;
                                        dummy_179872 = head_res_179883;
                                    }
                                    for (int64_t nest_i_182558 = 0; nest_i_182558 < merge_block_sizze_179344; nest_i_182558++) {
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + nest_i_182558] = dummy_179870;
                                    }
                                    for (int64_t nest_i_182559 = 0; nest_i_182559 < merge_block_sizze_179344; nest_i_182559++) {
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + nest_i_182559] = dummy_179871;
                                    }
                                    for (int64_t nest_i_182560 = 0; nest_i_182560 < merge_block_sizze_179344; nest_i_182560++) {
                                        ((float *) mem_181635)[i_180756 * merge_block_sizze_179344 + nest_i_182560] = dummy_179872;
                                    }
                                    
                                    int64_t data_179887;
                                    int64_t i_179892 = (int64_t) 0;
                                    
                                    for (int64_t k_179891 = 0; k_179891 < merge_block_sizze_179344; k_179891++) {
                                        int64_t j_179896 = sub64(k_179891, i_179892);
                                        bool cond_179897 = j_179896 == j_m_i_179843;
                                        bool cond_179898;
                                        
                                        if (cond_179897) {
                                            cond_179898 = 1;
                                        } else {
                                            bool cond_179899 = slt64(i_179892, j_m_i_179856);
                                            bool cond_f_res_179900;
                                            
                                            if (cond_179899) {
                                                bool x_179901 = sle64((int64_t) 0, j_179896);
                                                bool y_179902 = slt64(j_179896, j_m_i_179843);
                                                bool bounds_check_179903 = x_179901 && y_179902;
                                                bool index_certs_179904;
                                                
                                                if (!bounds_check_179903) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179910 = sle64((int64_t) 0, i_179892);
                                                bool bounds_check_179911 = cond_179899 && x_179910;
                                                bool index_certs_179912;
                                                
                                                if (!bounds_check_179911) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179905 = merge_sequential_arg2_179841 + j_179896;
                                                int64_t slice_179906 = start_179607 + slice_179905;
                                                int8_t leq_arg1_179907 = ((int8_t *) mem_param_181585.mem)[slice_179906];
                                                int64_t leq_arg1_179908 = ((int64_t *) mem_param_181588.mem)[slice_179906];
                                                float leq_arg1_179909 = ((float *) mem_param_181591.mem)[slice_179906];
                                                int64_t slice_179913 = defunc_0_f_res_179832 + i_179892;
                                                int64_t slice_179914 = start_179607 + slice_179913;
                                                int8_t leq_arg0_179915 = ((int8_t *) mem_param_181585.mem)[slice_179914];
                                                int64_t leq_arg0_179916 = ((int64_t *) mem_param_181588.mem)[slice_179914];
                                                float leq_arg0_179917 = ((float *) mem_param_181591.mem)[slice_179914];
                                                bool cond_179918 = leq_arg0_179915 == leq_arg1_179907;
                                                bool defunc_0_leq_res_t_res_179919 = sle64(leq_arg0_179916, leq_arg1_179908);
                                                bool defunc_0_leq_res_179920 = leq_arg0_179917 <= leq_arg1_179909;
                                                bool x_179921 = cond_179918 && defunc_0_leq_res_t_res_179919;
                                                bool x_179922 = !cond_179918;
                                                bool y_179923 = defunc_0_leq_res_179920 && x_179922;
                                                bool defunc_0_leq_res_179924 = x_179921 || y_179923;
                                                
                                                cond_f_res_179900 = defunc_0_leq_res_179924;
                                            } else {
                                                cond_f_res_179900 = 0;
                                            }
                                            cond_179898 = cond_f_res_179900;
                                        }
                                        
                                        int64_t loopres_179925;
                                        int8_t loopres_179926;
                                        int64_t loopres_179927;
                                        float loopres_179928;
                                        
                                        if (cond_179898) {
                                            bool x_179930 = sle64((int64_t) 0, i_179892);
                                            bool y_179931 = slt64(i_179892, j_m_i_179856);
                                            bool bounds_check_179932 = x_179930 && y_179931;
                                            bool index_certs_179933;
                                            
                                            if (!bounds_check_179932) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179929 = add64((int64_t) 1, i_179892);
                                            int64_t slice_179934 = defunc_0_f_res_179832 + i_179892;
                                            int64_t slice_179935 = start_179607 + slice_179934;
                                            int8_t tmp_179936 = ((int8_t *) mem_param_181585.mem)[slice_179935];
                                            int64_t tmp_179937 = ((int64_t *) mem_param_181588.mem)[slice_179935];
                                            float tmp_179938 = ((float *) mem_param_181591.mem)[slice_179935];
                                            
                                            loopres_179925 = tmp_179929;
                                            loopres_179926 = tmp_179936;
                                            loopres_179927 = tmp_179937;
                                            loopres_179928 = tmp_179938;
                                        } else {
                                            bool x_179939 = sle64((int64_t) 0, j_179896);
                                            bool y_179940 = slt64(j_179896, j_m_i_179843);
                                            bool bounds_check_179941 = x_179939 && y_179940;
                                            bool index_certs_179942;
                                            
                                            if (!bounds_check_179941) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179943 = merge_sequential_arg2_179841 + j_179896;
                                            int64_t slice_179944 = start_179607 + slice_179943;
                                            int8_t tmp_179945 = ((int8_t *) mem_param_181585.mem)[slice_179944];
                                            int64_t tmp_179946 = ((int64_t *) mem_param_181588.mem)[slice_179944];
                                            float tmp_179947 = ((float *) mem_param_181591.mem)[slice_179944];
                                            
                                            loopres_179925 = i_179892;
                                            loopres_179926 = tmp_179945;
                                            loopres_179927 = tmp_179946;
                                            loopres_179928 = tmp_179947;
                                        }
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179926;
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179927;
                                        ((float *) mem_181635)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179928;
                                        
                                        int64_t i_tmp_182561 = loopres_179925;
                                        
                                        i_179892 = i_tmp_182561;
                                    }
                                    data_179887 = i_179892;
                                }
                                if (memblock_alloc(ctx, &mem_181684, flat_dim_179557, "mem_181684")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181684.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint8_t *) mem_181629, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181688, bytes_181631, "mem_181688")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181688.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181632, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181692, bytes_181634, "mem_181692")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181692.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint32_t *) mem_181635, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181684, "mem_181684") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181688, "mem_181688") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181692, "mem_181692") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181593, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181596, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181599, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181739, bytes_181592, "mem_181739")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181739.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint8_t *) mem_181593, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181743, bytes_181595, "mem_181743")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181743.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181596, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181747, bytes_181598, "mem_181747")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181747.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint32_t *) mem_181599, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        
                        bool loop_cond_179967 = slt64(next_stride_179535, flat_dim_179339);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182528, &mem_181739, "mem_181739") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182529, &mem_181743, "mem_181743") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182530, &mem_181747, "mem_181747") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182531 = bytes_181592;
                        bool loop_while_tmp_182532 = loop_cond_179967;
                        int64_t stride_tmp_182536 = next_stride_179535;
                        
                        if (memblock_set(ctx, &mem_param_181585, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181588, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181591, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179529 = loop_dz2084Uz2082U_tmp_182531;
                        loop_while_179530 = loop_while_tmp_182532;
                        stride_179534 = stride_tmp_182536;
                    }
                    if (memblock_set(ctx, &ext_mem_181757, &mem_param_181585, "mem_param_181585") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181756, &mem_param_181588, "mem_param_181588") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181755, &mem_param_181591, "mem_param_181591") != 0)
                        return 1;
                    data_179523 = loop_dz2084Uz2082U_179529;
                    data_179524 = loop_while_179530;
                    data_179528 = stride_179534;
                    if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
                        return 1;
                    
                    bool empty_slice_179968 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179969 = sle64((int64_t) 0, zs_lhs_179323);
                    bool i_p_m_t_s_leq_w_179970 = slt64(zs_lhs_179323, data_179523);
                    bool y_179971 = zzero_leq_i_p_m_t_s_179969 && i_p_m_t_s_leq_w_179970;
                    bool ok_or_empty_179972 = empty_slice_179968 || y_179971;
                    bool index_certs_179973;
                    
                    if (!ok_or_empty_179972) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] out of bounds for array of shape [", (long long) data_179523, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181766, &ext_mem_181757, "ext_mem_181757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &ext_mem_181756, "ext_mem_181756") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &ext_mem_181755, "ext_mem_181755") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181433, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181766.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181436, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181439, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
                    return 1;
                for (int64_t i_180772 = 0; i_180772 < perThread_175600; i_180772++) {
                    int64_t lifted_lambda_res_179995 = add64(zm_rhs_179279, i_180772);
                    
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + i_180772] = lifted_lambda_res_179995;
                }
                
                bool cond_179997 = card_179280 == zp_rhs_175599;
                
                if (cond_179997) {
                    bool y_179999 = slt64(card_179280, perThread_175600);
                    bool index_certs_180000;
                    
                    if (!y_179999) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + card_179280] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181792, bytes_181087, "mem_181792")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_152775; nest_i_182566++) {
                ((float *) mem_181792.mem)[nest_i_182566] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_181794, bytes_181085, "mem_181794")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_152775; nest_i_182567++) {
                ((int64_t *) mem_181794.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181795, window_sizze_152775, "mem_181795")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_152775; nest_i_182568++) {
                ((int8_t *) mem_181795.mem)[nest_i_182568] = (int8_t) -1;
            }
            for (int64_t write_iter_180787 = 0; write_iter_180787 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601; write_iter_180787++) {
                int64_t new_index_180939 = squot64(write_iter_180787, perThread_175600);
                int64_t binop_y_180941 = perThread_175600 * new_index_180939;
                int64_t new_index_180942 = write_iter_180787 - binop_y_180941;
                int64_t write_iv_180791 = ((int64_t *) mem_181431)[new_index_180939 * perThread_175600 + new_index_180942];
                int8_t write_iv_180792 = ((int8_t *) mem_181433)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180793 = ((int64_t *) mem_181436)[new_index_180939 * perThread_175600 + new_index_180942];
                float write_iv_180794 = ((float *) mem_181439)[new_index_180939 * perThread_175600 + new_index_180942];
                
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_152775)) {
                    ((int8_t *) mem_181795.mem)[write_iv_180791] = write_iv_180792;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_152775)) {
                    ((int64_t *) mem_181794.mem)[write_iv_180791] = write_iv_180793;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_152775)) {
                    ((float *) mem_181792.mem)[write_iv_180791] = write_iv_180794;
                }
            }
            
            int64_t index_concat_branch_180023;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180024 = ((int64_t *) mem_181414)[index_concat_i_178364];
                
                index_concat_branch_180023 = index_concat_180024;
            } else {
                index_concat_branch_180023 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180025;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180026 = ((int64_t *) mem_181416)[index_concat_i_178364];
                
                index_concat_branch_180025 = index_concat_180026;
            } else {
                index_concat_branch_180025 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181795, "mem_181795") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181794, "mem_181794") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181792, "mem_181792") != 0)
                return 1;
            loopres_175590 = index_concat_branch_180023;
            loopres_175591 = index_concat_branch_180025;
        } else {
            float leq_lhs_176581 = ((float *) a_list_mem_181052.mem)[p_175562];
            float leq_rhs_176584 = ((float *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_176585 = leq_lhs_176581 <= leq_rhs_176584;
            float lowest_176586;
            
            if (defunc_0_leq_res_176585) {
                bool index_certs_180027;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_lhs_176581;
            } else {
                bool index_certs_176591;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_rhs_176584;
            }
            if (mem_181069_cached_sizze_182848 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_182848, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181071_cached_sizze_182849 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182849, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180802 = 0; i_180802 < threads_152776; i_180802++) {
                int64_t index_primexp_181018 = add64((int64_t) 1, i_180802);
                int64_t zs_lhs_176607 = mul64(zt_rhs_176600, index_primexp_181018);
                int64_t index_176608 = sdiv64(zs_lhs_176607, partitionFunc_arg0_176577);
                bool cond_176609 = slt64(window_sizze_152775, index_176608);
                int64_t loop_over_176610;
                
                if (cond_176609) {
                    loop_over_176610 = window_sizze_152775;
                } else {
                    loop_over_176610 = index_176608;
                }
                
                int64_t loop_over_176611;
                
                if (cond_176609) {
                    int64_t loop_over_t_res_180028 = sub64(index_176608, window_sizze_152775);
                    
                    loop_over_176611 = loop_over_t_res_180028;
                } else {
                    loop_over_176611 = (int64_t) 0;
                }
                
                int64_t loop_over_176613;
                
                if (cond_176609) {
                    int64_t zm_lhs_180029 = sub64(index_176608, window_sizze_152775);
                    int64_t loop_over_t_res_180030 = sub64(zm_lhs_180029, (int64_t) 1);
                    
                    loop_over_176613 = loop_over_t_res_180030;
                } else {
                    loop_over_176613 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176616;
                int64_t defunc_0_f_res_176617;
                int64_t defunc_0_f_res_176618;
                int64_t defunc_0_f_res_176619;
                bool loop_while_176620;
                int64_t p_176621;
                int64_t p_176622;
                int64_t p_176623;
                
                loop_while_176620 = 1;
                p_176621 = loop_over_176613;
                p_176622 = loop_over_176610;
                p_176623 = loop_over_176611;
                while (loop_while_176620) {
                    int64_t zs_lhs_176624 = sub64(p_176622, p_176621);
                    int64_t offset_176625 = sdiv64(zs_lhs_176624, (int64_t) 2);
                    int64_t ai_176626 = sub64(p_176622, offset_176625);
                    int64_t max_arg1_176627 = add64(p_176623, offset_176625);
                    int64_t max_res_176628 = smax64((int64_t) 0, max_arg1_176627);
                    bool cond_176629 = slt64((int64_t) 0, max_res_176628);
                    float b_prev_176630;
                    
                    if (cond_176629) {
                        int64_t tmp_180031 = sub64(max_res_176628, (int64_t) 1);
                        bool x_180032 = sle64((int64_t) 0, tmp_180031);
                        bool y_180033 = slt64(tmp_180031, window_sizze_152775);
                        bool bounds_check_180034 = x_180032 && y_180033;
                        bool index_certs_180035;
                        
                        if (!bounds_check_180034) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180031, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180036 = p_175563 + tmp_180031;
                        float b_prev_t_res_180037 = ((float *) b_list_mem_181053.mem)[slice_180036];
                        
                        b_prev_176630 = b_prev_t_res_180037;
                    } else {
                        b_prev_176630 = lowest_176586;
                    }
                    
                    bool cond_176637 = sle64(ai_176626, (int64_t) 0);
                    int64_t loopres_176638;
                    int64_t loopres_176639;
                    int64_t loopres_176640;
                    bool loopres_176641;
                    
                    if (cond_176637) {
                        loopres_176638 = p_176621;
                        loopres_176639 = (int64_t) 0;
                        loopres_176640 = max_res_176628;
                        loopres_176641 = 0;
                    } else {
                        bool cond_176642 = sle64(window_sizze_152775, max_res_176628);
                        int64_t loopres_f_res_176643;
                        int64_t loopres_f_res_176644;
                        int64_t loopres_f_res_176645;
                        bool loopres_f_res_176646;
                        
                        if (cond_176642) {
                            int64_t min_res_180039 = smin64(m_175551, ai_176626);
                            bool x_180040 = sle64((int64_t) 0, m_175551);
                            bool y_180041 = slt64(m_175551, window_sizze_152775);
                            bool bounds_check_180042 = x_180040 && y_180041;
                            bool index_certs_180043;
                            
                            if (!bounds_check_180042) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180046 = sle64((int64_t) 0, min_res_180039);
                            bool y_180047 = slt64(min_res_180039, window_sizze_152775);
                            bool bounds_check_180048 = x_180046 && y_180047;
                            bool index_certs_180049;
                            
                            if (!bounds_check_180048) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180039, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_180045 = ((float *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_180050 = p_175562 + min_res_180039;
                            float leq_rhs_180051 = ((float *) a_list_mem_181052.mem)[slice_180050];
                            bool defunc_0_leq_res_180052 = leq_lhs_180045 <= leq_rhs_180051;
                            int64_t loopres_f_res_t_res_180053;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180053 = ai_176626;
                            } else {
                                loopres_f_res_t_res_180053 = p_176622;
                            }
                            
                            bool x_180054 = !defunc_0_leq_res_180052;
                            int64_t loopres_f_res_t_res_180055;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180055 = window_sizze_152775;
                            } else {
                                int64_t tmp_180056 = sub64(m_175551, offset_176625);
                                
                                loopres_f_res_t_res_180055 = tmp_180056;
                            }
                            loopres_f_res_176643 = p_176621;
                            loopres_f_res_176644 = loopres_f_res_t_res_180053;
                            loopres_f_res_176645 = loopres_f_res_t_res_180055;
                            loopres_f_res_176646 = x_180054;
                        } else {
                            bool cond_176664 = sle64(window_sizze_152775, ai_176626);
                            int64_t loopres_f_res_f_res_176665;
                            int64_t loopres_f_res_f_res_176666;
                            int64_t loopres_f_res_f_res_176667;
                            bool loopres_f_res_f_res_176668;
                            
                            if (cond_176664) {
                                int64_t min_res_180058 = smin64(m_175551, max_res_176628);
                                bool x_180059 = sle64((int64_t) 0, m_175551);
                                bool y_180060 = slt64(m_175551, window_sizze_152775);
                                bool bounds_check_180061 = x_180059 && y_180060;
                                bool index_certs_180062;
                                
                                if (!bounds_check_180061) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180065 = sle64((int64_t) 0, min_res_180058);
                                bool y_180066 = slt64(min_res_180058, window_sizze_152775);
                                bool bounds_check_180067 = x_180065 && y_180066;
                                bool index_certs_180068;
                                
                                if (!bounds_check_180067) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180058, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_180064 = ((float *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_180069 = p_175563 + min_res_180058;
                                float leq_rhs_180070 = ((float *) b_list_mem_181053.mem)[slice_180069];
                                bool defunc_0_leq_res_180071 = leq_lhs_180064 <= leq_rhs_180070;
                                int64_t loopres_f_res_f_res_t_res_180072;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180072 = max_res_176628;
                                } else {
                                    loopres_f_res_f_res_t_res_180072 = p_176623;
                                }
                                
                                bool x_180073 = !defunc_0_leq_res_180071;
                                int64_t loopres_f_res_f_res_t_res_180074;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180074 = window_sizze_152775;
                                } else {
                                    loopres_f_res_f_res_t_res_180074 = m_175551;
                                }
                                loopres_f_res_f_res_176665 = p_176621;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_t_res_180074;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_t_res_180072;
                                loopres_f_res_f_res_176668 = x_180073;
                            } else {
                                bool cond_176685 = sle64(p_176622, p_176621);
                                int64_t loopres_f_res_f_res_f_res_176686;
                                int64_t loopres_f_res_f_res_f_res_176687;
                                int64_t loopres_f_res_f_res_f_res_176688;
                                bool loopres_f_res_f_res_f_res_176689;
                                
                                if (cond_176685) {
                                    bool cond_180113 = slt64(ai_176626, window_sizze_152775);
                                    int64_t ai_180114;
                                    
                                    if (cond_180113) {
                                        ai_180114 = ai_176626;
                                    } else {
                                        ai_180114 = m_175551;
                                    }
                                    
                                    bool x_180127 = sle64((int64_t) 0, ai_180114);
                                    bool y_180128 = slt64(ai_180114, window_sizze_152775);
                                    bool bounds_check_180129 = x_180127 && y_180128;
                                    bool index_certs_180130;
                                    
                                    if (!bounds_check_180129) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180114, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_180116;
                                    
                                    if (cond_176629) {
                                        int64_t tmp_180117 = sub64(max_res_176628, (int64_t) 1);
                                        bool x_180118 = sle64((int64_t) 0, tmp_180117);
                                        bool y_180119 = slt64(tmp_180117, window_sizze_152775);
                                        bool bounds_check_180120 = x_180118 && y_180119;
                                        bool index_certs_180121;
                                        
                                        if (!bounds_check_180120) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180117, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180122 = p_175563 + tmp_180117;
                                        float b_prev_t_res_180123 = ((float *) b_list_mem_181053.mem)[slice_180122];
                                        
                                        b_prev_180116 = b_prev_t_res_180123;
                                    } else {
                                        bool index_certs_180125;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180116 = leq_rhs_176584;
                                    }
                                    
                                    int64_t slice_180131 = p_175562 + ai_180114;
                                    float gt_lhs_180132 = ((float *) a_list_mem_181052.mem)[slice_180131];
                                    bool defunc_0_gt_res_180133 = b_prev_180116 < gt_lhs_180132;
                                    int64_t defunc_0_partFunc_sequential_search_res_180134;
                                    int64_t defunc_0_partFunc_sequential_search_res_180135;
                                    
                                    if (defunc_0_gt_res_180133) {
                                        int64_t zl_rhs_180136 = sub64(window_sizze_152775, max_res_176628);
                                        bool loop_cond_180137 = slt64((int64_t) 0, zl_rhs_180136);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180138;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180140;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180141;
                                        bool loop_while_180142;
                                        int64_t p_180143;
                                        int64_t p_180144;
                                        int64_t p_180145;
                                        
                                        loop_while_180142 = loop_cond_180137;
                                        p_180143 = ai_180114;
                                        p_180144 = max_res_176628;
                                        p_180145 = (int64_t) 0;
                                        while (loop_while_180142) {
                                            int64_t i_a_180146 = sub64(ai_180114, p_180145);
                                            int64_t i_b_180147 = add64(max_res_176628, p_180145);
                                            int64_t leq_lhs_180148 = sub64(i_a_180146, (int64_t) 1);
                                            bool x_180149 = sle64((int64_t) 0, leq_lhs_180148);
                                            bool y_180150 = slt64(leq_lhs_180148, window_sizze_152775);
                                            bool bounds_check_180151 = x_180149 && y_180150;
                                            bool index_certs_180152;
                                            
                                            if (!bounds_check_180151) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180148, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180155 = sle64((int64_t) 0, i_b_180147);
                                            bool y_180156 = slt64(i_b_180147, window_sizze_152775);
                                            bool bounds_check_180157 = x_180155 && y_180156;
                                            bool index_certs_180158;
                                            
                                            if (!bounds_check_180157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180147, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180153 = p_175562 + leq_lhs_180148;
                                            float leq_lhs_180154 = ((float *) a_list_mem_181052.mem)[slice_180153];
                                            int64_t slice_180159 = p_175563 + i_b_180147;
                                            float leq_rhs_180160 = ((float *) b_list_mem_181053.mem)[slice_180159];
                                            bool defunc_0_leq_res_180161 = leq_lhs_180154 <= leq_rhs_180160;
                                            int64_t loopres_180162;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180162 = i_a_180146;
                                            } else {
                                                loopres_180162 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180163;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180163 = i_b_180147;
                                            } else {
                                                loopres_180163 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180164;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180164 = zl_rhs_180136;
                                            } else {
                                                int64_t tmp_180165 = add64((int64_t) 1, p_180145);
                                                
                                                loopres_180164 = tmp_180165;
                                            }
                                            
                                            bool loop_cond_180166 = slt64(loopres_180164, zl_rhs_180136);
                                            bool loop_while_tmp_182578 = loop_cond_180166;
                                            int64_t p_tmp_182579 = loopres_180162;
                                            int64_t p_tmp_182580 = loopres_180163;
                                            int64_t p_tmp_182581 = loopres_180164;
                                            
                                            loop_while_180142 = loop_while_tmp_182578;
                                            p_180143 = p_tmp_182579;
                                            p_180144 = p_tmp_182580;
                                            p_180145 = p_tmp_182581;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180138 = loop_while_180142;
                                        defunc_0_partFunc_sequential_search_res_t_res_180139 = p_180143;
                                        defunc_0_partFunc_sequential_search_res_t_res_180140 = p_180144;
                                        defunc_0_partFunc_sequential_search_res_t_res_180141 = p_180145;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_t_res_180140;
                                    } else {
                                        int64_t zl_rhs_180167 = sub64(max_res_176628, (int64_t) 1);
                                        bool loop_cond_180168 = slt64((int64_t) 0, zl_rhs_180167);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180169;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180171;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180172;
                                        bool loop_while_180173;
                                        int64_t p_180174;
                                        int64_t p_180175;
                                        int64_t p_180176;
                                        
                                        loop_while_180173 = loop_cond_180168;
                                        p_180174 = ai_180114;
                                        p_180175 = max_res_176628;
                                        p_180176 = (int64_t) 0;
                                        while (loop_while_180173) {
                                            int64_t zp_lhs_180177 = add64(ai_180114, p_180176);
                                            int64_t hi_a_180178 = add64((int64_t) 1, zp_lhs_180177);
                                            bool cond_180179 = slt64(hi_a_180178, window_sizze_152775);
                                            int64_t i_a_180180;
                                            
                                            if (cond_180179) {
                                                i_a_180180 = hi_a_180178;
                                            } else {
                                                i_a_180180 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_180182 = sub64(max_res_176628, p_180176);
                                            int64_t i_b_180183 = sub64(zm_lhs_180182, (int64_t) 1);
                                            bool x_180184 = sle64((int64_t) 0, i_a_180180);
                                            bool y_180185 = slt64(i_a_180180, window_sizze_152775);
                                            bool bounds_check_180186 = x_180184 && y_180185;
                                            bool index_certs_180187;
                                            
                                            if (!bounds_check_180186) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180180, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180190 = sle64((int64_t) 0, i_b_180183);
                                            bool y_180191 = slt64(i_b_180183, window_sizze_152775);
                                            bool bounds_check_180192 = x_180190 && y_180191;
                                            bool index_certs_180193;
                                            
                                            if (!bounds_check_180192) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180183, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180188 = p_175562 + i_a_180180;
                                            float gt_lhs_180189 = ((float *) a_list_mem_181052.mem)[slice_180188];
                                            int64_t slice_180194 = p_175563 + i_b_180183;
                                            float gt_rhs_180195 = ((float *) b_list_mem_181053.mem)[slice_180194];
                                            bool defunc_0_gt_res_180196 = gt_rhs_180195 < gt_lhs_180189;
                                            int64_t loopres_180197;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180197 = i_a_180180;
                                            } else {
                                                loopres_180197 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180198;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180198 = zm_lhs_180182;
                                            } else {
                                                loopres_180198 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180199;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180199 = zl_rhs_180167;
                                            } else {
                                                int64_t tmp_180200 = add64((int64_t) 1, p_180176);
                                                
                                                loopres_180199 = tmp_180200;
                                            }
                                            
                                            bool loop_cond_180201 = slt64(loopres_180199, zl_rhs_180167);
                                            bool loop_while_tmp_182582 = loop_cond_180201;
                                            int64_t p_tmp_182583 = loopres_180197;
                                            int64_t p_tmp_182584 = loopres_180198;
                                            int64_t p_tmp_182585 = loopres_180199;
                                            
                                            loop_while_180173 = loop_while_tmp_182582;
                                            p_180174 = p_tmp_182583;
                                            p_180175 = p_tmp_182584;
                                            p_180176 = p_tmp_182585;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180169 = loop_while_180173;
                                        defunc_0_partFunc_sequential_search_res_f_res_180170 = p_180174;
                                        defunc_0_partFunc_sequential_search_res_f_res_180171 = p_180175;
                                        defunc_0_partFunc_sequential_search_res_f_res_180172 = p_180176;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_f_res_180171;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = p_176621;
                                    loopres_f_res_f_res_f_res_176687 = defunc_0_partFunc_sequential_search_res_180134;
                                    loopres_f_res_f_res_f_res_176688 = defunc_0_partFunc_sequential_search_res_180135;
                                    loopres_f_res_f_res_f_res_176689 = 0;
                                } else {
                                    bool x_176773 = sle64((int64_t) 0, ai_176626);
                                    bool y_176774 = slt64(ai_176626, window_sizze_152775);
                                    bool bounds_check_176775 = x_176773 && y_176774;
                                    bool index_certs_176776;
                                    
                                    if (!bounds_check_176775) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176626, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178442 = p_175562 + ai_176626;
                                    float gt_lhs_176777 = ((float *) a_list_mem_181052.mem)[slice_178442];
                                    bool defunc_0_gt_res_176778 = b_prev_176630 < gt_lhs_176777;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176779;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176780;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176781;
                                    bool loopres_f_res_f_res_f_res_f_res_176782;
                                    
                                    if (defunc_0_gt_res_176778) {
                                        int64_t leq_lhs_180202 = sub64(ai_176626, (int64_t) 1);
                                        bool x_180203 = sle64((int64_t) 0, leq_lhs_180202);
                                        bool y_180204 = slt64(leq_lhs_180202, window_sizze_152775);
                                        bool bounds_check_180205 = x_180203 && y_180204;
                                        bool index_certs_180206;
                                        
                                        if (!bounds_check_180205) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180202, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180209 = sle64((int64_t) 0, max_res_176628);
                                        bool y_180210 = slt64(max_res_176628, window_sizze_152775);
                                        bool bounds_check_180211 = x_180209 && y_180210;
                                        bool index_certs_180212;
                                        
                                        if (!bounds_check_180211) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176628, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180207 = p_175562 + leq_lhs_180202;
                                        float leq_lhs_180208 = ((float *) a_list_mem_181052.mem)[slice_180207];
                                        int64_t slice_180213 = p_175563 + max_res_176628;
                                        float leq_rhs_180214 = ((float *) b_list_mem_181053.mem)[slice_180213];
                                        bool defunc_0_leq_res_180215 = leq_lhs_180208 <= leq_rhs_180214;
                                        bool x_180216 = !defunc_0_leq_res_180215;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = ai_176626;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = leq_lhs_180202;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = max_res_176628;
                                        } else {
                                            int64_t tmp_180219 = add64((int64_t) 1, max_res_176628);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = tmp_180219;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176779 = p_176621;
                                        loopres_f_res_f_res_f_res_f_res_176780 = loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        loopres_f_res_f_res_f_res_f_res_176781 = loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        loopres_f_res_f_res_f_res_f_res_176782 = x_180216;
                                    } else {
                                        int64_t tmp_176799 = add64((int64_t) 1, ai_176626);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176779 = tmp_176799;
                                        loopres_f_res_f_res_f_res_f_res_176780 = p_176622;
                                        loopres_f_res_f_res_f_res_f_res_176781 = p_176623;
                                        loopres_f_res_f_res_f_res_f_res_176782 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = loopres_f_res_f_res_f_res_f_res_176779;
                                    loopres_f_res_f_res_f_res_176687 = loopres_f_res_f_res_f_res_f_res_176780;
                                    loopres_f_res_f_res_f_res_176688 = loopres_f_res_f_res_f_res_f_res_176781;
                                    loopres_f_res_f_res_f_res_176689 = loopres_f_res_f_res_f_res_f_res_176782;
                                }
                                loopres_f_res_f_res_176665 = loopres_f_res_f_res_f_res_176686;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_f_res_176687;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_f_res_176688;
                                loopres_f_res_f_res_176668 = loopres_f_res_f_res_f_res_176689;
                            }
                            loopres_f_res_176643 = loopres_f_res_f_res_176665;
                            loopres_f_res_176644 = loopres_f_res_f_res_176666;
                            loopres_f_res_176645 = loopres_f_res_f_res_176667;
                            loopres_f_res_176646 = loopres_f_res_f_res_176668;
                        }
                        loopres_176638 = loopres_f_res_176643;
                        loopres_176639 = loopres_f_res_176644;
                        loopres_176640 = loopres_f_res_176645;
                        loopres_176641 = loopres_f_res_176646;
                    }
                    
                    bool loop_while_tmp_182574 = loopres_176641;
                    int64_t p_tmp_182575 = loopres_176638;
                    int64_t p_tmp_182576 = loopres_176639;
                    int64_t p_tmp_182577 = loopres_176640;
                    
                    loop_while_176620 = loop_while_tmp_182574;
                    p_176621 = p_tmp_182575;
                    p_176622 = p_tmp_182576;
                    p_176623 = p_tmp_182577;
                }
                defunc_0_f_res_176616 = loop_while_176620;
                defunc_0_f_res_176617 = p_176621;
                defunc_0_f_res_176618 = p_176622;
                defunc_0_f_res_176619 = p_176623;
                ((int64_t *) mem_181069)[i_180802] = defunc_0_f_res_176618;
                ((int64_t *) mem_181071)[i_180802] = defunc_0_f_res_176619;
            }
            if (memblock_alloc(ctx, &mem_181084, window_sizze_152775, "mem_181084")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182586 = 0; nest_i_182586 < window_sizze_152775; nest_i_182586++) {
                ((int8_t *) mem_181084.mem)[nest_i_182586] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182587 = 0; nest_i_182587 < window_sizze_152775; nest_i_182587++) {
                ((int64_t *) mem_181086.mem)[nest_i_182587] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182588 = 0; nest_i_182588 < window_sizze_152775; nest_i_182588++) {
                ((float *) mem_181088.mem)[nest_i_182588] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_176826;
            int64_t defunc_0_mergeFunc_seq_res_176827;
            bool loop_while_176831;
            int64_t p_176832;
            
            loop_while_176831 = loop_cond_176825;
            p_176832 = (int64_t) 0;
            while (loop_while_176831) {
                bool x_176836 = sle64((int64_t) 0, p_176832);
                bool y_176837 = slt64(p_176832, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176838 = x_176836 && y_176837;
                bool index_certs_176839;
                
                if (!bounds_check_176838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176832, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178425 = sle64((int64_t) 1, p_176832);
                int64_t index_concat_i_178426 = sub64(p_176832, (int64_t) 1);
                int64_t index_concat_178427;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180220 = ((int64_t *) mem_181069)[index_concat_i_178426];
                    
                    index_concat_178427 = x_180220;
                } else {
                    index_concat_178427 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178429;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178429 = index_concat_178427;
                } else {
                    index_concat_branch_178429 = (int64_t) 0;
                }
                
                int64_t index_concat_178421;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180221 = ((int64_t *) mem_181071)[index_concat_i_178426];
                    
                    index_concat_178421 = x_180221;
                } else {
                    index_concat_178421 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178423;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178423 = index_concat_178421;
                } else {
                    index_concat_branch_178423 = (int64_t) 0;
                }
                
                int64_t ubs_176842 = add64((int64_t) 1, p_176832);
                bool x_176843 = sle64((int64_t) 0, ubs_176842);
                bool y_176844 = slt64(ubs_176842, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176845 = x_176843 && y_176844;
                bool index_certs_176846;
                
                if (!bounds_check_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178413 = sle64((int64_t) 1, ubs_176842);
                int64_t index_concat_178415;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180222 = ((int64_t *) mem_181069)[p_176832];
                    
                    index_concat_178415 = x_180222;
                } else {
                    index_concat_178415 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178417;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178417 = index_concat_178415;
                } else {
                    index_concat_branch_178417 = (int64_t) 0;
                }
                
                int64_t index_concat_178409;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180223 = ((int64_t *) mem_181071)[p_176832];
                    
                    index_concat_178409 = x_180223;
                } else {
                    index_concat_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178411;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178411 = index_concat_178409;
                } else {
                    index_concat_branch_178411 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 = sub64(index_concat_branch_178411, index_concat_branch_178423);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 = sub64(index_concat_branch_178417, index_concat_branch_178429);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t ind_bottom_176852 = add64(index_concat_branch_178423, index_concat_branch_178429);
                int64_t ind_top_176853 = add64(index_concat_branch_178411, index_concat_branch_178417);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 = sub64(ind_top_176853, ind_bottom_176852);
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178429);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_152775);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178429);
                bool i_lte_j_176861 = sle64(index_concat_branch_178429, index_concat_branch_178417);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178429, ":", (long long) index_concat_branch_178417, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178417, index_concat_branch_178429);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178429, "..<", (long long) index_concat_branch_178417, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176875 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 == (int64_t) 0;
                int64_t m_176876 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, (int64_t) 1);
                int64_t i_p_m_t_s_176877 = add64(m_176876, index_concat_branch_178423);
                bool zzero_leq_i_p_m_t_s_176878 = sle64((int64_t) 0, i_p_m_t_s_176877);
                bool i_p_m_t_s_leq_w_176879 = slt64(i_p_m_t_s_176877, window_sizze_152775);
                bool zzero_lte_i_176880 = sle64((int64_t) 0, index_concat_branch_178423);
                bool i_lte_j_176881 = sle64(index_concat_branch_178423, index_concat_branch_178411);
                bool y_176882 = i_p_m_t_s_leq_w_176879 && zzero_lte_i_176880;
                bool y_176883 = zzero_leq_i_p_m_t_s_176878 && y_176882;
                bool forwards_ok_176884 = i_lte_j_176881 && y_176883;
                bool ok_or_empty_176885 = empty_slice_176875 || forwards_ok_176884;
                bool index_certs_176886;
                
                if (!ok_or_empty_176885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178423, ":", (long long) index_concat_branch_178411, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176887 = slt64(index_concat_branch_178411, index_concat_branch_178423);
                bool valid_176888 = !bounds_invalid_upwards_176887;
                bool range_valid_c_176889;
                
                if (!valid_176888) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178423, "..<", (long long) index_concat_branch_178411, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181105 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                int64_t bytes_181107 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool cond_176898 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zs_lhs_176899 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zp_rhs_176900 = sdiv_safe64(zs_lhs_176899, (int64_t) 20);
                int64_t min_num_blocks_176901 = add64((int64_t) 1, zp_rhs_176900);
                bool loop_cond_176902 = slt64((int64_t) 1, min_num_blocks_176901);
                bool smallest_pow_2_geq_than_res_176903;
                int64_t smallest_pow_2_geq_than_res_176904;
                bool loop_while_176905;
                int64_t x_176906;
                
                loop_while_176905 = loop_cond_176902;
                x_176906 = (int64_t) 1;
                while (loop_while_176905) {
                    int64_t loopres_176907 = mul64((int64_t) 2, x_176906);
                    bool loop_cond_176908 = slt64(loopres_176907, min_num_blocks_176901);
                    bool loop_while_tmp_182594 = loop_cond_176908;
                    int64_t x_tmp_182595 = loopres_176907;
                    
                    loop_while_176905 = loop_while_tmp_182594;
                    x_176906 = x_tmp_182595;
                }
                smallest_pow_2_geq_than_res_176903 = loop_while_176905;
                smallest_pow_2_geq_than_res_176904 = x_176906;
                
                bool zzero_176909 = smallest_pow_2_geq_than_res_176904 == (int64_t) 0;
                bool nonzzero_176910 = !zzero_176909;
                bool protect_assert_disj_176911 = cond_176898 || nonzzero_176910;
                bool nonzzero_cert_176912;
                
                if (!protect_assert_disj_176911) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176913 = sdiv_safe64(zs_lhs_176899, smallest_pow_2_geq_than_res_176904);
                int64_t block_sizze_176914 = add64((int64_t) 1, zp_rhs_176913);
                bool y_176921 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                bool protect_assert_disj_182258 = cond_176898 || y_176921;
                bool index_certs_176922;
                
                if (!protect_assert_disj_182258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(smallest_pow_2_geq_than_res_176904, (int64_t) 0);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool protect_assert_disj_182268 = cond_176898 || valid_176949;
                bool range_valid_c_176950;
                
                if (!protect_assert_disj_182268) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176904, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176952 = slt64(block_sizze_176914, (int64_t) 0);
                bool valid_176953 = !bounds_invalid_upwards_176952;
                bool protect_assert_disj_182270 = cond_176898 || valid_176953;
                bool range_valid_c_176954;
                
                if (!protect_assert_disj_182270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176914, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176956 = sle64(block_sizze_176914, (int64_t) 1);
                int64_t tmp_176957 = sub64(block_sizze_176914, (int64_t) 2);
                bool bounds_invalid_upwards_176958 = slt64(tmp_176957, (int64_t) 0);
                bool valid_176960 = !bounds_invalid_upwards_176958;
                bool protect_assert_disj_176961 = cond_176956 || valid_176960;
                bool protect_assert_disj_182272 = cond_176898 || protect_assert_disj_176961;
                bool range_valid_c_176962;
                
                if (!protect_assert_disj_182272) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176957, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177523 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool empty_or_match_cert_177524;
                
                if (!dim_match_177523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "](i8, i64, f32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177525 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == (int64_t) 0;
                int64_t m_177526 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177527 = sle64((int64_t) 0, m_177526);
                bool i_p_m_t_s_leq_w_177528 = slt64(m_177526, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854);
                bool y_177529 = zzero_leq_i_p_m_t_s_177527 && i_p_m_t_s_leq_w_177528;
                bool ok_or_empty_177530 = empty_slice_177525 || y_177529;
                bool index_certs_177531;
                
                if (!ok_or_empty_177530) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177532 = add64(ind_bottom_176852, m_177526);
                bool zzero_leq_i_p_m_t_s_177533 = sle64((int64_t) 0, i_p_m_t_s_177532);
                bool i_p_m_t_s_leq_w_177534 = slt64(i_p_m_t_s_177532, window_sizze_152775);
                bool zzero_lte_i_177535 = sle64((int64_t) 0, ind_bottom_176852);
                bool i_lte_j_177536 = sle64(ind_bottom_176852, ind_top_176853);
                bool y_177537 = i_p_m_t_s_leq_w_177534 && zzero_lte_i_177535;
                bool y_177538 = zzero_leq_i_p_m_t_s_177533 && y_177537;
                bool forwards_ok_177539 = i_lte_j_177536 && y_177538;
                bool ok_or_empty_177540 = empty_slice_177525 || forwards_ok_177539;
                bool index_certs_177541;
                
                if (!ok_or_empty_177540) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176852, ":", (long long) ind_top_176853, "] out of bounds for array of shape [", (long long) window_sizze_152775, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178405 = p_175562 + index_concat_branch_178429;
                
                if (memblock_alloc(ctx, &mem_181104, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "mem_181104")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182596 = 0; nest_i_182596 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; nest_i_182596++) {
                    ((int8_t *) mem_181104.mem)[nest_i_182596] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181106, bytes_181105, "mem_181106")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182597 = 0; i_182597 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; i_182597++) {
                    int64_t x_182598 = index_concat_branch_178429 + i_182597 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[i_182597] = x_182598;
                }
                
                int64_t slice_178404 = p_175563 + index_concat_branch_178423;
                
                for (int64_t nest_i_182599 = 0; nest_i_182599 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; nest_i_182599++) {
                    ((int8_t *) mem_181104.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + nest_i_182599] = (int8_t) 1;
                }
                for (int64_t i_182600 = 0; i_182600 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; i_182600++) {
                    int64_t x_182601 = index_concat_branch_178423 + i_182600 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + i_182600] = x_182601;
                }
                
                int64_t tmp_offs_182602 = (int64_t) 0;
                
                if (!(tmp_offs_182602 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182602 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t tmp_offs_182603 = (int64_t) 0;
                
                if (!(tmp_offs_182603 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182603 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                if (memblock_alloc(ctx, &mem_181108, bytes_181107, "mem_181108")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182604 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, slice_178405, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, slice_178404, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t flat_dim_176915 = smallest_pow_2_geq_than_res_176904 * block_sizze_176914;
                bool x_182253 = !cond_176898;
                int64_t greatest_divisor_leq_than_arg1_176919 = mul64((int64_t) 2, block_sizze_176914);
                int64_t merge_block_sizze_176920;
                
                if (x_182253) {
                    int64_t x_182255;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182255, (int64_t) 8, greatest_divisor_leq_than_arg1_176919) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176920 = x_182255;
                } else {
                    merge_block_sizze_176920 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178399 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 0);
                int8_t index_concat_branch_178403 = btoi_bool_i8(index_concat_cmp_178399);
                int64_t index_concat_i_180224 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t index_primexp_180225 = add64(index_concat_branch_178423, index_concat_i_180224);
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178397 = index_primexp_180225;
                } else {
                    index_concat_branch_178397 = index_concat_branch_178429;
                }
                
                bool x_182249 = !index_concat_cmp_178399;
                bool protect_cond_conj_182259 = x_182249 && x_182253;
                float index_concat_178390;
                
                if (protect_cond_conj_182259) {
                    float x_182251 = ((float *) a_list_mem_181052.mem)[slice_178405];
                    
                    index_concat_178390 = x_182251;
                } else {
                    index_concat_178390 = 0.0F;
                }
                
                int64_t slice_180227 = slice_178404 + index_concat_i_180224;
                bool protect_cond_conj_182260 = index_concat_cmp_178399 && x_182253;
                float index_concat_180228;
                
                if (protect_cond_conj_182260) {
                    float x_182247 = ((float *) b_list_mem_181053.mem)[slice_180227];
                    
                    index_concat_180228 = x_182247;
                } else {
                    index_concat_180228 = 0.0F;
                }
                
                float index_concat_branch_178391;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178391 = index_concat_180228;
                } else {
                    index_concat_branch_178391 = index_concat_178390;
                }
                
                int8_t defunc_0_reduce_res_180459;
                int64_t defunc_0_reduce_res_180460;
                float defunc_0_reduce_res_180461;
                
                if (x_182253) {
                    int8_t x_182261;
                    int64_t x_182262;
                    float x_182263;
                    int8_t redout_180805;
                    int64_t redout_180806;
                    float redout_180807;
                    
                    redout_180805 = index_concat_branch_178403;
                    redout_180806 = index_concat_branch_178397;
                    redout_180807 = index_concat_branch_178391;
                    for (int64_t i_180808 = 0; i_180808 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851; i_180808++) {
                        bool index_concat_cmp_181012 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, i_180808);
                        int8_t index_concat_branch_181016 = btoi_bool_i8(index_concat_cmp_181012);
                        int64_t index_concat_branch_181010;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181007 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t index_primexp_181034 = add64(index_concat_branch_178423, index_concat_i_181007);
                            
                            index_concat_branch_181010 = index_primexp_181034;
                        } else {
                            int64_t index_primexp_181036 = add64(index_concat_branch_178429, i_180808);
                            
                            index_concat_branch_181010 = index_primexp_181036;
                        }
                        
                        float index_concat_branch_181004;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181001 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t slice_181031 = slice_178404 + index_concat_i_181001;
                            float index_concat_181002 = ((float *) b_list_mem_181053.mem)[slice_181031];
                            
                            index_concat_branch_181004 = index_concat_181002;
                        } else {
                            int64_t slice_181032 = slice_178405 + i_180808;
                            float index_concat_181003 = ((float *) a_list_mem_181052.mem)[slice_181032];
                            
                            index_concat_branch_181004 = index_concat_181003;
                        }
                        
                        bool eq_x_y_181047 = redout_180805 == (int8_t) 1;
                        bool eq_x_zz_181048 = redout_180805 == (int8_t) 0;
                        bool p_and_eq_x_y_181049 = index_concat_cmp_181012 && eq_x_y_181047;
                        bool not_p_181050 = !index_concat_cmp_181012;
                        bool p_and_eq_x_y_181051 = eq_x_zz_181048 && not_p_181050;
                        bool cond_176938 = p_and_eq_x_y_181049 || p_and_eq_x_y_181051;
                        bool defunc_0_leq_res_t_res_176939 = sle64(redout_180806, index_concat_branch_181010);
                        bool defunc_0_leq_res_176940 = redout_180807 <= index_concat_branch_181004;
                        bool x_176941 = cond_176938 && defunc_0_leq_res_t_res_176939;
                        bool x_176942 = !cond_176938;
                        bool y_176943 = defunc_0_leq_res_176940 && x_176942;
                        bool defunc_0_leq_res_176944 = x_176941 || y_176943;
                        int8_t defunc_0_op_res_176945;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176945 = index_concat_branch_181016;
                        } else {
                            defunc_0_op_res_176945 = redout_180805;
                        }
                        
                        int64_t defunc_0_op_res_176946;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176946 = index_concat_branch_181010;
                        } else {
                            defunc_0_op_res_176946 = redout_180806;
                        }
                        
                        float defunc_0_op_res_176947;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176947 = index_concat_branch_181004;
                        } else {
                            defunc_0_op_res_176947 = redout_180807;
                        }
                        
                        int8_t redout_tmp_182605 = defunc_0_op_res_176945;
                        int64_t redout_tmp_182606 = defunc_0_op_res_176946;
                        float redout_tmp_182607 = defunc_0_op_res_176947;
                        
                        redout_180805 = redout_tmp_182605;
                        redout_180806 = redout_tmp_182606;
                        redout_180807 = redout_tmp_182607;
                    }
                    x_182261 = redout_180805;
                    x_182262 = redout_180806;
                    x_182263 = redout_180807;
                    defunc_0_reduce_res_180459 = x_182261;
                    defunc_0_reduce_res_180460 = x_182262;
                    defunc_0_reduce_res_180461 = x_182263;
                } else {
                    defunc_0_reduce_res_180459 = (int8_t) 0;
                    defunc_0_reduce_res_180460 = (int64_t) 0;
                    defunc_0_reduce_res_180461 = 0.0F;
                }
                
                int64_t distance_176959 = add64((int64_t) 1, tmp_176957);
                int64_t binop_x_181111 = (int64_t) 8 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181112 = block_sizze_176914 * binop_x_181111;
                int64_t binop_x_181114 = (int64_t) 4 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181115 = block_sizze_176914 * binop_x_181114;
                int64_t bytes_181130 = (int64_t) 8 * block_sizze_176914;
                int64_t bytes_181132 = (int64_t) 4 * block_sizze_176914;
                bool loop_cond_177068 = slt64(block_sizze_176914, flat_dim_176915);
                bool zzero_177069 = merge_block_sizze_176920 == (int64_t) 0;
                bool nonzzero_177070 = !zzero_177069;
                
                if (cond_176898) {
                    if (memblock_set(ctx, &ext_mem_181403, &mem_181104, "mem_181104") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_181106, "mem_181106") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &mem_181108, "mem_181108") != 0)
                        return 1;
                } else {
                    if (mem_181110_cached_sizze_182850 < flat_dim_176915) {
                        err = lexical_realloc(ctx, &mem_181110, &mem_181110_cached_sizze_182850, flat_dim_176915);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182851 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182851, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181116_cached_sizze_182852 < bytes_181115) {
                        err = lexical_realloc(ctx, &mem_181116, &mem_181116_cached_sizze_182852, bytes_181115);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181129_cached_sizze_182853 < block_sizze_176914) {
                        err = lexical_realloc(ctx, &mem_181129, &mem_181129_cached_sizze_182853, block_sizze_176914);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181131_cached_sizze_182854 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_182854, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181133_cached_sizze_182855 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182855, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180825 = 0; i_180825 < smallest_pow_2_geq_than_res_176904; i_180825++) {
                        int64_t zp_lhs_176967 = mul64(block_sizze_176914, i_180825);
                        
                        for (int64_t i_180815 = 0; i_180815 < block_sizze_176914; i_180815++) {
                            int64_t k_176972 = add64(zp_lhs_176967, i_180815);
                            bool cond_176973 = slt64(k_176972, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                            int8_t lifted_lambda_res_176974;
                            int64_t lifted_lambda_res_176975;
                            float lifted_lambda_res_176976;
                            
                            if (cond_176973) {
                                bool x_180234 = sle64((int64_t) 0, k_176972);
                                bool bounds_check_180235 = cond_176973 && x_180234;
                                bool index_certs_180236;
                                
                                if (!bounds_check_180235) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176972, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180237 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, k_176972);
                                int8_t index_concat_branch_180238 = btoi_bool_i8(index_concat_cmp_180237);
                                int64_t index_concat_branch_180239;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180240 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t index_primexp_180241 = add64(index_concat_branch_178423, index_concat_i_180240);
                                    
                                    index_concat_branch_180239 = index_primexp_180241;
                                } else {
                                    int64_t index_primexp_180242 = add64(k_176972, index_concat_branch_178429);
                                    
                                    index_concat_branch_180239 = index_primexp_180242;
                                }
                                
                                float index_concat_branch_180243;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180244 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t slice_180245 = slice_178404 + index_concat_i_180244;
                                    float index_concat_180246 = ((float *) b_list_mem_181053.mem)[slice_180245];
                                    
                                    index_concat_branch_180243 = index_concat_180246;
                                } else {
                                    int64_t slice_180247 = k_176972 + slice_178405;
                                    float index_concat_180248 = ((float *) a_list_mem_181052.mem)[slice_180247];
                                    
                                    index_concat_branch_180243 = index_concat_180248;
                                }
                                lifted_lambda_res_176974 = index_concat_branch_180238;
                                lifted_lambda_res_176975 = index_concat_branch_180239;
                                lifted_lambda_res_176976 = index_concat_branch_180243;
                            } else {
                                lifted_lambda_res_176974 = defunc_0_reduce_res_180459;
                                lifted_lambda_res_176975 = defunc_0_reduce_res_180460;
                                lifted_lambda_res_176976 = defunc_0_reduce_res_180461;
                            }
                            ((int8_t *) mem_181129)[i_180815] = lifted_lambda_res_176974;
                            ((int64_t *) mem_181131)[i_180815] = lifted_lambda_res_176975;
                            ((float *) mem_181133)[i_180815] = lifted_lambda_res_176976;
                        }
                        if (!cond_176956) {
                            for (int64_t i_176989 = 0; i_176989 < distance_176959; i_176989++) {
                                int64_t gt_arg1_176993 = add64((int64_t) 1, i_176989);
                                bool x_176994 = sle64((int64_t) 0, gt_arg1_176993);
                                bool y_176995 = slt64(gt_arg1_176993, block_sizze_176914);
                                bool bounds_check_176996 = x_176994 && y_176995;
                                bool index_certs_176997;
                                
                                if (!bounds_check_176996) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176993, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177001 = slt64(i_176989, block_sizze_176914);
                                bool index_certs_177002;
                                
                                if (!y_177001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176989, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176998 = ((int8_t *) mem_181129)[gt_arg1_176993];
                                int64_t gt_arg1_176999 = ((int64_t *) mem_181131)[gt_arg1_176993];
                                float gt_arg1_177000 = ((float *) mem_181133)[gt_arg1_176993];
                                int8_t gt_arg0_177003 = ((int8_t *) mem_181129)[i_176989];
                                int64_t gt_arg0_177004 = ((int64_t *) mem_181131)[i_176989];
                                float gt_arg0_177005 = ((float *) mem_181133)[i_176989];
                                bool cond_177006 = gt_arg0_177003 == gt_arg1_176998;
                                bool defunc_0_leq_res_t_res_177007 = sle64(gt_arg0_177004, gt_arg1_176999);
                                bool defunc_0_leq_res_177008 = gt_arg0_177005 <= gt_arg1_177000;
                                bool x_177009 = cond_177006 && defunc_0_leq_res_t_res_177007;
                                bool x_177010 = !cond_177006;
                                bool y_177011 = defunc_0_leq_res_177008 && x_177010;
                                bool defunc_0_leq_res_177012 = x_177009 || y_177011;
                                bool defunc_0_lifted_gt_res_177013 = !defunc_0_leq_res_177012;
                                bool s_177014;
                                int64_t s_177018;
                                bool loop_while_177019;
                                int64_t j_177023;
                                
                                loop_while_177019 = defunc_0_lifted_gt_res_177013;
                                j_177023 = i_176989;
                                while (loop_while_177019) {
                                    bool x_177024 = sle64((int64_t) 0, j_177023);
                                    bool y_177025 = slt64(j_177023, block_sizze_176914);
                                    bool bounds_check_177026 = x_177024 && y_177025;
                                    bool index_certs_177027;
                                    
                                    if (!bounds_check_177026) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177023, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177031 = add64((int64_t) 1, j_177023);
                                    bool x_177032 = sle64((int64_t) 0, copy_arg0_177031);
                                    bool y_177033 = slt64(copy_arg0_177031, block_sizze_176914);
                                    bool bounds_check_177034 = x_177032 && y_177033;
                                    bool index_certs_177035;
                                    
                                    if (!bounds_check_177034) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177031, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177028 = ((int8_t *) mem_181129)[j_177023];
                                    int64_t copy_arg0_177029 = ((int64_t *) mem_181131)[j_177023];
                                    float copy_arg0_177030 = ((float *) mem_181133)[j_177023];
                                    int8_t copy_arg0_177036 = ((int8_t *) mem_181129)[copy_arg0_177031];
                                    int64_t copy_arg0_177037 = ((int64_t *) mem_181131)[copy_arg0_177031];
                                    float copy_arg0_177038 = ((float *) mem_181133)[copy_arg0_177031];
                                    
                                    ((int8_t *) mem_181129)[j_177023] = copy_arg0_177036;
                                    ((int64_t *) mem_181131)[j_177023] = copy_arg0_177037;
                                    ((float *) mem_181133)[j_177023] = copy_arg0_177038;
                                    ((int8_t *) mem_181129)[copy_arg0_177031] = copy_arg0_177028;
                                    ((int64_t *) mem_181131)[copy_arg0_177031] = copy_arg0_177029;
                                    ((float *) mem_181133)[copy_arg0_177031] = copy_arg0_177030;
                                    
                                    int64_t tmp_177045 = sub64(j_177023, (int64_t) 1);
                                    bool cond_177046 = sle64((int64_t) 0, tmp_177045);
                                    bool loop_cond_177047;
                                    
                                    if (cond_177046) {
                                        bool y_180252 = slt64(tmp_177045, block_sizze_176914);
                                        bool bounds_check_180253 = cond_177046 && y_180252;
                                        bool index_certs_180254;
                                        
                                        if (!bounds_check_180253) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177045, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180249 = ((int8_t *) mem_181129)[j_177023];
                                        int64_t gt_arg1_180250 = ((int64_t *) mem_181131)[j_177023];
                                        float gt_arg1_180251 = ((float *) mem_181133)[j_177023];
                                        int8_t gt_arg0_180255 = ((int8_t *) mem_181129)[tmp_177045];
                                        int64_t gt_arg0_180256 = ((int64_t *) mem_181131)[tmp_177045];
                                        float gt_arg0_180257 = ((float *) mem_181133)[tmp_177045];
                                        bool cond_180258 = gt_arg0_180255 == gt_arg1_180249;
                                        bool defunc_0_leq_res_t_res_180259 = sle64(gt_arg0_180256, gt_arg1_180250);
                                        bool defunc_0_leq_res_180260 = gt_arg0_180257 <= gt_arg1_180251;
                                        bool x_180261 = cond_180258 && defunc_0_leq_res_t_res_180259;
                                        bool x_180262 = !cond_180258;
                                        bool y_180263 = defunc_0_leq_res_180260 && x_180262;
                                        bool defunc_0_leq_res_180264 = x_180261 || y_180263;
                                        bool defunc_0_lifted_gt_res_180265 = !defunc_0_leq_res_180264;
                                        
                                        loop_cond_177047 = defunc_0_lifted_gt_res_180265;
                                    } else {
                                        loop_cond_177047 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182617 = loop_cond_177047;
                                    int64_t j_tmp_182621 = tmp_177045;
                                    
                                    loop_while_177019 = loop_while_tmp_182617;
                                    j_177023 = j_tmp_182621;
                                }
                                s_177014 = loop_while_177019;
                                s_177018 = j_177023;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181110, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181129, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181131, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181116, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181133, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                    }
                    if (memblock_alloc(ctx, &mem_181210, flat_dim_176915, "mem_181210")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181210.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint8_t *) mem_181110, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181214, bytes_181112, "mem_181214")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181214.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181218, bytes_181115, "mem_181218")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181218.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint32_t *) mem_181116, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    
                    int64_t data_177071;
                    bool data_177072;
                    int64_t data_177076;
                    int64_t loop_dz2084Uz2082U_177077;
                    bool loop_while_177078;
                    int64_t stride_177082;
                    
                    if (memblock_set(ctx, &mem_param_181222, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181225, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181228, &mem_181218, "mem_181218") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177077 = flat_dim_176915;
                    loop_while_177078 = loop_cond_177068;
                    stride_177082 = block_sizze_176914;
                    while (loop_while_177078) {
                        int64_t next_stride_177083 = mul64((int64_t) 2, stride_177082);
                        bool zzero_177084 = next_stride_177083 == (int64_t) 0;
                        bool nonzzero_177085 = !zzero_177084;
                        bool nonzzero_cert_177086;
                        
                        if (!nonzzero_177085) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177087 = sdiv64(flat_dim_176915, next_stride_177083);
                        bool bounds_invalid_upwards_177088 = slt64(num_merges_177087, (int64_t) 0);
                        bool valid_177089 = !bounds_invalid_upwards_177088;
                        bool range_valid_c_177090;
                        
                        if (!valid_177089) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177087, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177092 = sub64(next_stride_177083, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177093 = sle64((int64_t) 0, m_177092);
                        bool cond_177095 = slt64(next_stride_177083, (int64_t) 10);
                        bool protect_assert_disj_177096 = nonzzero_177070 || cond_177095;
                        bool nonzzero_cert_177097;
                        
                        if (!protect_assert_disj_177096) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177098 = smod_safe64(next_stride_177083, merge_block_sizze_176920);
                        bool num_blocks_177099 = zeze_lhs_177098 == (int64_t) 0;
                        bool protect_assert_disj_177100 = cond_177095 || num_blocks_177099;
                        bool assert_c_177101;
                        
                        if (!protect_assert_disj_177100) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177103 = sdiv_safe64(next_stride_177083, merge_block_sizze_176920);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104 = add64((int64_t) 1, num_blocks_177103);
                        int64_t j_m_i_177105 = sub64(next_stride_177083, stride_177082);
                        int64_t flat_dim_177106 = merge_block_sizze_176920 * num_blocks_177103;
                        bool bounds_invalid_upwards_177107 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, (int64_t) 0);
                        bool empty_slice_177108 = j_m_i_177105 == (int64_t) 0;
                        int64_t m_177109 = sub64(j_m_i_177105, (int64_t) 1);
                        bool zzero_lte_i_177110 = sle64((int64_t) 0, stride_177082);
                        bool i_lte_j_177111 = sle64(stride_177082, next_stride_177083);
                        bool empty_slice_177112 = stride_177082 == (int64_t) 0;
                        int64_t m_177113 = sub64(stride_177082, (int64_t) 1);
                        bool bounds_invalid_upwards_177114 = slt64(num_blocks_177103, (int64_t) 0);
                        bool cond_177115 = slt64((int64_t) 0, stride_177082);
                        bool valid_177116 = !bounds_invalid_upwards_177107;
                        int64_t i_p_m_t_s_177117 = add64(stride_177082, m_177109);
                        bool zzero_leq_i_p_m_t_s_177118 = sle64((int64_t) 0, m_177113);
                        bool i_p_m_t_s_leq_w_177119 = slt64(m_177113, next_stride_177083);
                        bool valid_177120 = !bounds_invalid_upwards_177114;
                        bool i_p_m_t_s_leq_w_177121 = slt64(m_177092, flat_dim_177106);
                        bool y_177122 = slt64((int64_t) 0, j_m_i_177105);
                        bool protect_assert_disj_177123 = cond_177095 || valid_177116;
                        bool range_valid_c_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177125 = sle64((int64_t) 0, i_p_m_t_s_177117);
                        bool i_p_m_t_s_leq_w_177126 = slt64(i_p_m_t_s_177117, next_stride_177083);
                        bool y_177127 = zzero_leq_i_p_m_t_s_177118 && i_p_m_t_s_leq_w_177119;
                        bool protect_assert_disj_177128 = cond_177095 || valid_177120;
                        bool range_valid_c_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177103, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177130 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177121;
                        bool y_177131 = zzero_lte_i_177110 && i_p_m_t_s_leq_w_177126;
                        bool forwards_ok_177132 = zzero_lte_i_177110 && y_177127;
                        bool ok_or_empty_177133 = zzero_177084 || y_177130;
                        bool protect_assert_disj_177134 = cond_177115 || y_177122;
                        bool y_177135 = zzero_leq_i_p_m_t_s_177125 && y_177131;
                        bool ok_or_empty_177136 = empty_slice_177112 || forwards_ok_177132;
                        bool protect_assert_disj_177137 = cond_177095 || ok_or_empty_177133;
                        bool index_certs_177138;
                        
                        if (!protect_assert_disj_177137) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) flat_dim_177106, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177139 = !cond_177095;
                        bool protect_assert_disj_177140 = protect_assert_disj_177134 || loop_not_taken_177139;
                        bool index_certs_177141;
                        
                        if (!protect_assert_disj_177140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177142 = i_lte_j_177111 && y_177135;
                        bool protect_assert_disj_177143 = cond_177095 || ok_or_empty_177136;
                        bool index_certs_177144;
                        
                        if (!protect_assert_disj_177143) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177145 = ok_or_empty_177136 || loop_not_taken_177139;
                        bool index_certs_177146;
                        
                        if (!protect_assert_disj_177145) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177147 = empty_slice_177108 || forwards_ok_177142;
                        bool protect_assert_disj_177148 = cond_177095 || ok_or_empty_177147;
                        bool index_certs_177149;
                        
                        if (!protect_assert_disj_177148) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177150 = loop_not_taken_177139 || ok_or_empty_177147;
                        bool index_certs_177151;
                        
                        if (!protect_assert_disj_177150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181229 = next_stride_177083 * num_merges_177087;
                        int64_t binop_x_181231 = (int64_t) 8 * num_merges_177087;
                        int64_t bytes_181232 = next_stride_177083 * binop_x_181231;
                        int64_t binop_x_181234 = (int64_t) 4 * num_merges_177087;
                        int64_t bytes_181235 = next_stride_177083 * binop_x_181234;
                        bool i_lte_j_177094 = sle64((int64_t) 0, next_stride_177083);
                        
                        if (mem_181230_cached_sizze_182856 < bytes_181229) {
                            err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182856, bytes_181229);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181233_cached_sizze_182857 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181233, &mem_181233_cached_sizze_182857, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181236_cached_sizze_182858 < bytes_181235) {
                            err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182858, bytes_181235);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181249 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104;
                        int64_t binop_x_181267 = (int64_t) 8 * num_blocks_177103;
                        int64_t bytes_181268 = merge_block_sizze_176920 * binop_x_181267;
                        int64_t binop_x_181270 = (int64_t) 4 * num_blocks_177103;
                        int64_t bytes_181271 = merge_block_sizze_176920 * binop_x_181270;
                        int64_t bytes_181332 = (int64_t) 16 * stride_177082;
                        int64_t bytes_181334 = (int64_t) 8 * stride_177082;
                        
                        for (int64_t i_180852 = 0; i_180852 < num_merges_177087; i_180852++) {
                            int64_t start_177156 = mul64(next_stride_177083, i_180852);
                            int64_t j_m_i_177157 = sub64(loop_dz2084Uz2082U_177077, start_177156);
                            bool empty_slice_177158 = j_m_i_177157 == (int64_t) 0;
                            int64_t m_177159 = sub64(j_m_i_177157, (int64_t) 1);
                            int64_t i_p_m_t_s_177160 = add64(start_177156, m_177159);
                            bool zzero_leq_i_p_m_t_s_177161 = sle64((int64_t) 0, i_p_m_t_s_177160);
                            bool i_p_m_t_s_leq_w_177162 = slt64(i_p_m_t_s_177160, loop_dz2084Uz2082U_177077);
                            bool zzero_lte_i_177163 = sle64((int64_t) 0, start_177156);
                            bool i_lte_j_177164 = sle64(start_177156, loop_dz2084Uz2082U_177077);
                            bool y_177165 = i_p_m_t_s_leq_w_177162 && zzero_lte_i_177163;
                            bool y_177166 = zzero_leq_i_p_m_t_s_177161 && y_177165;
                            bool forwards_ok_177167 = i_lte_j_177164 && y_177166;
                            bool ok_or_empty_177168 = empty_slice_177158 || forwards_ok_177167;
                            bool index_certs_177169;
                            
                            if (!ok_or_empty_177168) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177156, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177077, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177170 = slt64(m_177092, j_m_i_177157);
                            bool y_177171 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177170;
                            bool forwards_ok_177172 = i_lte_j_177094 && y_177171;
                            bool ok_or_empty_177173 = zzero_177084 || forwards_ok_177172;
                            bool index_certs_177174;
                            
                            if (!ok_or_empty_177173) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) j_m_i_177157, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177095) {
                                int8_t dummy_180304;
                                int64_t dummy_180305;
                                float dummy_180306;
                                
                                if (cond_177115) {
                                    int8_t head_res_180307 = ((int8_t *) mem_param_181222.mem)[start_177156];
                                    int64_t head_res_180308 = ((int64_t *) mem_param_181225.mem)[start_177156];
                                    float head_res_180309 = ((float *) mem_param_181228.mem)[start_177156];
                                    
                                    dummy_180304 = head_res_180307;
                                    dummy_180305 = head_res_180308;
                                    dummy_180306 = head_res_180309;
                                } else {
                                    int64_t slice_180310 = stride_177082 + start_177156;
                                    int8_t head_res_180311 = ((int8_t *) mem_param_181222.mem)[slice_180310];
                                    int64_t head_res_180312 = ((int64_t *) mem_param_181225.mem)[slice_180310];
                                    float head_res_180313 = ((float *) mem_param_181228.mem)[slice_180310];
                                    
                                    dummy_180304 = head_res_180311;
                                    dummy_180305 = head_res_180312;
                                    dummy_180306 = head_res_180313;
                                }
                                if (memblock_alloc(ctx, &mem_181331, next_stride_177083, "mem_181331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182634 = 0; nest_i_182634 < next_stride_177083; nest_i_182634++) {
                                    ((int8_t *) mem_181331.mem)[nest_i_182634] = dummy_180304;
                                }
                                if (memblock_alloc(ctx, &mem_181333, bytes_181332, "mem_181333")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182635 = 0; nest_i_182635 < next_stride_177083; nest_i_182635++) {
                                    ((int64_t *) mem_181333.mem)[nest_i_182635] = dummy_180305;
                                }
                                if (memblock_alloc(ctx, &mem_181335, bytes_181334, "mem_181335")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182636 = 0; nest_i_182636 < next_stride_177083; nest_i_182636++) {
                                    ((float *) mem_181335.mem)[nest_i_182636] = dummy_180306;
                                }
                                
                                int64_t data_180317;
                                int64_t i_180322 = (int64_t) 0;
                                
                                for (int64_t k_180321 = 0; k_180321 < next_stride_177083; k_180321++) {
                                    int64_t j_180326 = sub64(k_180321, i_180322);
                                    bool cond_180327 = j_180326 == j_m_i_177105;
                                    bool cond_180328;
                                    
                                    if (cond_180327) {
                                        cond_180328 = 1;
                                    } else {
                                        bool cond_180329 = slt64(i_180322, stride_177082);
                                        bool cond_f_res_180330;
                                        
                                        if (cond_180329) {
                                            bool x_180331 = sle64((int64_t) 0, j_180326);
                                            bool y_180332 = slt64(j_180326, j_m_i_177105);
                                            bool bounds_check_180333 = x_180331 && y_180332;
                                            bool index_certs_180334;
                                            
                                            if (!bounds_check_180333) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180340 = sle64((int64_t) 0, i_180322);
                                            bool bounds_check_180341 = cond_180329 && x_180340;
                                            bool index_certs_180342;
                                            
                                            if (!bounds_check_180341) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180335 = stride_177082 + j_180326;
                                            int64_t slice_180336 = start_177156 + slice_180335;
                                            int8_t leq_arg1_180337 = ((int8_t *) mem_param_181222.mem)[slice_180336];
                                            int64_t leq_arg1_180338 = ((int64_t *) mem_param_181225.mem)[slice_180336];
                                            float leq_arg1_180339 = ((float *) mem_param_181228.mem)[slice_180336];
                                            int64_t slice_180343 = start_177156 + i_180322;
                                            int8_t leq_arg0_180344 = ((int8_t *) mem_param_181222.mem)[slice_180343];
                                            int64_t leq_arg0_180345 = ((int64_t *) mem_param_181225.mem)[slice_180343];
                                            float leq_arg0_180346 = ((float *) mem_param_181228.mem)[slice_180343];
                                            bool cond_180347 = leq_arg0_180344 == leq_arg1_180337;
                                            bool defunc_0_leq_res_t_res_180348 = sle64(leq_arg0_180345, leq_arg1_180338);
                                            bool defunc_0_leq_res_180349 = leq_arg0_180346 <= leq_arg1_180339;
                                            bool x_180350 = cond_180347 && defunc_0_leq_res_t_res_180348;
                                            bool x_180351 = !cond_180347;
                                            bool y_180352 = defunc_0_leq_res_180349 && x_180351;
                                            bool defunc_0_leq_res_180353 = x_180350 || y_180352;
                                            
                                            cond_f_res_180330 = defunc_0_leq_res_180353;
                                        } else {
                                            cond_f_res_180330 = 0;
                                        }
                                        cond_180328 = cond_f_res_180330;
                                    }
                                    
                                    int64_t loopres_180354;
                                    int8_t loopres_180355;
                                    int64_t loopres_180356;
                                    float loopres_180357;
                                    
                                    if (cond_180328) {
                                        bool x_180359 = sle64((int64_t) 0, i_180322);
                                        bool y_180360 = slt64(i_180322, stride_177082);
                                        bool bounds_check_180361 = x_180359 && y_180360;
                                        bool index_certs_180362;
                                        
                                        if (!bounds_check_180361) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180358 = add64((int64_t) 1, i_180322);
                                        int64_t slice_180363 = start_177156 + i_180322;
                                        int8_t tmp_180364 = ((int8_t *) mem_param_181222.mem)[slice_180363];
                                        int64_t tmp_180365 = ((int64_t *) mem_param_181225.mem)[slice_180363];
                                        float tmp_180366 = ((float *) mem_param_181228.mem)[slice_180363];
                                        
                                        loopres_180354 = tmp_180358;
                                        loopres_180355 = tmp_180364;
                                        loopres_180356 = tmp_180365;
                                        loopres_180357 = tmp_180366;
                                    } else {
                                        bool x_180367 = sle64((int64_t) 0, j_180326);
                                        bool y_180368 = slt64(j_180326, j_m_i_177105);
                                        bool bounds_check_180369 = x_180367 && y_180368;
                                        bool index_certs_180370;
                                        
                                        if (!bounds_check_180369) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180371 = stride_177082 + j_180326;
                                        int64_t slice_180372 = start_177156 + slice_180371;
                                        int8_t tmp_180373 = ((int8_t *) mem_param_181222.mem)[slice_180372];
                                        int64_t tmp_180374 = ((int64_t *) mem_param_181225.mem)[slice_180372];
                                        float tmp_180375 = ((float *) mem_param_181228.mem)[slice_180372];
                                        
                                        loopres_180354 = i_180322;
                                        loopres_180355 = tmp_180373;
                                        loopres_180356 = tmp_180374;
                                        loopres_180357 = tmp_180375;
                                    }
                                    ((int8_t *) mem_181331.mem)[k_180321] = loopres_180355;
                                    ((int64_t *) mem_181333.mem)[k_180321] = loopres_180356;
                                    ((float *) mem_181335.mem)[k_180321] = loopres_180357;
                                    
                                    int64_t i_tmp_182637 = loopres_180354;
                                    
                                    i_180322 = i_tmp_182637;
                                }
                                data_180317 = i_180322;
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181331, "mem_181331") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181333, "mem_181333") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181335, "mem_181335") != 0)
                                    return 1;
                            } else {
                                if (mem_181250_cached_sizze_182859 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181250, &mem_181250_cached_sizze_182859, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182860 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182860, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180833 = 0; i_180833 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104; i_180833++) {
                                    int64_t split_count_arg3_177257 = mul64(merge_block_sizze_176920, i_180833);
                                    int64_t defunc_0_split_count_res_177258;
                                    int64_t defunc_0_split_count_res_177259;
                                    int64_t defunc_0_split_count_res_177260;
                                    int64_t defunc_0_split_count_res_177261;
                                    int64_t defunc_0_split_count_res_177262;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177258, &defunc_0_split_count_res_177259, &defunc_0_split_count_res_177260, &defunc_0_split_count_res_177261, &defunc_0_split_count_res_177262, (int64_t) 0, stride_177082, (int64_t) 0, j_m_i_177105, split_count_arg3_177257) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177263 = slt64((int64_t) 0, defunc_0_split_count_res_177262);
                                    bool defunc_0_split_count_res_177264;
                                    int64_t defunc_0_split_count_res_177265;
                                    int64_t defunc_0_split_count_res_177266;
                                    int64_t defunc_0_split_count_res_177267;
                                    int64_t defunc_0_split_count_res_177268;
                                    int64_t defunc_0_split_count_res_177269;
                                    bool loop_while_177270;
                                    int64_t ss_177271;
                                    int64_t ss_177272;
                                    int64_t tt_177273;
                                    int64_t tt_177274;
                                    int64_t count_177275;
                                    
                                    loop_while_177270 = loop_cond_177263;
                                    ss_177271 = defunc_0_split_count_res_177258;
                                    ss_177272 = defunc_0_split_count_res_177259;
                                    tt_177273 = defunc_0_split_count_res_177260;
                                    tt_177274 = defunc_0_split_count_res_177261;
                                    count_177275 = defunc_0_split_count_res_177262;
                                    while (loop_while_177270) {
                                        int64_t zlze_lhs_177276 = sub64(ss_177272, ss_177271);
                                        bool cond_177277 = sle64(zlze_lhs_177276, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177278;
                                        int64_t defunc_0_lifted_step_res_177279;
                                        int64_t defunc_0_lifted_step_res_177280;
                                        int64_t defunc_0_lifted_step_res_177281;
                                        
                                        if (cond_177277) {
                                            int64_t tmp_180379 = add64(tt_177273, count_177275);
                                            
                                            defunc_0_lifted_step_res_177278 = ss_177271;
                                            defunc_0_lifted_step_res_177279 = tmp_180379;
                                            defunc_0_lifted_step_res_177280 = tt_177274;
                                            defunc_0_lifted_step_res_177281 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177283 = sub64(tt_177274, tt_177273);
                                            bool cond_177284 = sle64(zlze_lhs_177283, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177285;
                                            int64_t defunc_0_lifted_step_res_f_res_177286;
                                            int64_t defunc_0_lifted_step_res_f_res_177287;
                                            int64_t defunc_0_lifted_step_res_f_res_177288;
                                            
                                            if (cond_177284) {
                                                int64_t tmp_180380 = add64(ss_177271, count_177275);
                                                
                                                defunc_0_lifted_step_res_f_res_177285 = tmp_180380;
                                                defunc_0_lifted_step_res_f_res_177286 = tt_177273;
                                                defunc_0_lifted_step_res_f_res_177287 = tt_177274;
                                                defunc_0_lifted_step_res_f_res_177288 = (int64_t) 0;
                                            } else {
                                                bool cond_177290 = count_177275 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177291;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177292;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177293;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177294;
                                                
                                                if (cond_177290) {
                                                    bool x_180382 = sle64((int64_t) 0, ss_177271);
                                                    bool y_180383 = slt64(ss_177271, stride_177082);
                                                    bool bounds_check_180384 = x_180382 && y_180383;
                                                    bool index_certs_180385;
                                                    
                                                    if (!bounds_check_180384) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177271, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180390 = sle64((int64_t) 0, tt_177273);
                                                    bool y_180391 = slt64(tt_177273, j_m_i_177105);
                                                    bool bounds_check_180392 = x_180390 && y_180391;
                                                    bool index_certs_180393;
                                                    
                                                    if (!bounds_check_180392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177273, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180386 = start_177156 + ss_177271;
                                                    int8_t leq_arg1_180387 = ((int8_t *) mem_param_181222.mem)[slice_180386];
                                                    int64_t leq_arg1_180388 = ((int64_t *) mem_param_181225.mem)[slice_180386];
                                                    float leq_arg1_180389 = ((float *) mem_param_181228.mem)[slice_180386];
                                                    int64_t slice_180394 = stride_177082 + tt_177273;
                                                    int64_t slice_180395 = start_177156 + slice_180394;
                                                    int8_t leq_arg0_180396 = ((int8_t *) mem_param_181222.mem)[slice_180395];
                                                    int64_t leq_arg0_180397 = ((int64_t *) mem_param_181225.mem)[slice_180395];
                                                    float leq_arg0_180398 = ((float *) mem_param_181228.mem)[slice_180395];
                                                    bool cond_180399 = leq_arg0_180396 == leq_arg1_180387;
                                                    bool defunc_0_leq_res_t_res_180400 = sle64(leq_arg0_180397, leq_arg1_180388);
                                                    bool defunc_0_leq_res_180401 = leq_arg0_180398 <= leq_arg1_180389;
                                                    bool x_180402 = cond_180399 && defunc_0_leq_res_t_res_180400;
                                                    bool x_180403 = !cond_180399;
                                                    bool y_180404 = defunc_0_leq_res_180401 && x_180403;
                                                    bool defunc_0_leq_res_180405 = x_180402 || y_180404;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    
                                                    if (defunc_0_leq_res_180405) {
                                                        int64_t tmp_180408 = add64((int64_t) 1, tt_177273);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = ss_177271;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tmp_180408;
                                                    } else {
                                                        int64_t tmp_180409 = add64((int64_t) 1, ss_177271);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = tmp_180409;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tt_177273;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = tt_177274;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177323 = sdiv64(count_177275, (int64_t) 2);
                                                    int64_t n_177324 = sub64(count_177275, m_177323);
                                                    bool cond_177325 = n_177324 == (int64_t) 0;
                                                    int64_t zgze_lhs_177326 = add64(ss_177271, m_177323);
                                                    bool cond_f_res_177327 = sle64(ss_177272, zgze_lhs_177326);
                                                    bool x_177328 = !cond_177325;
                                                    bool y_177329 = cond_f_res_177327 && x_177328;
                                                    bool cond_177330 = cond_177325 || y_177329;
                                                    bool leq_y_x_177331;
                                                    
                                                    if (cond_177330) {
                                                        leq_y_x_177331 = 1;
                                                    } else {
                                                        bool x_177332 = sle64((int64_t) 0, zgze_lhs_177326);
                                                        bool y_177333 = slt64(zgze_lhs_177326, stride_177082);
                                                        bool bounds_check_177334 = x_177332 && y_177333;
                                                        bool index_certs_177335;
                                                        
                                                        if (!bounds_check_177334) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177326, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177340 = add64(tt_177273, n_177324);
                                                        int64_t leq_arg0_177341 = sub64(zm_lhs_177340, (int64_t) 1);
                                                        bool x_177342 = sle64((int64_t) 0, leq_arg0_177341);
                                                        bool y_177343 = slt64(leq_arg0_177341, j_m_i_177105);
                                                        bool bounds_check_177344 = x_177342 && y_177343;
                                                        bool index_certs_177345;
                                                        
                                                        if (!bounds_check_177344) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177341, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177336 = start_177156 + zgze_lhs_177326;
                                                        int8_t leq_arg1_177337 = ((int8_t *) mem_param_181222.mem)[slice_177336];
                                                        int64_t leq_arg1_177338 = ((int64_t *) mem_param_181225.mem)[slice_177336];
                                                        float leq_arg1_177339 = ((float *) mem_param_181228.mem)[slice_177336];
                                                        int64_t slice_177346 = stride_177082 + leq_arg0_177341;
                                                        int64_t slice_177347 = start_177156 + slice_177346;
                                                        int8_t leq_arg0_177348 = ((int8_t *) mem_param_181222.mem)[slice_177347];
                                                        int64_t leq_arg0_177349 = ((int64_t *) mem_param_181225.mem)[slice_177347];
                                                        float leq_arg0_177350 = ((float *) mem_param_181228.mem)[slice_177347];
                                                        bool cond_177351 = leq_arg0_177348 == leq_arg1_177337;
                                                        bool defunc_0_leq_res_t_res_177352 = sle64(leq_arg0_177349, leq_arg1_177338);
                                                        bool defunc_0_leq_res_177353 = leq_arg0_177350 <= leq_arg1_177339;
                                                        bool x_177354 = cond_177351 && defunc_0_leq_res_t_res_177352;
                                                        bool x_177355 = !cond_177351;
                                                        bool y_177356 = defunc_0_leq_res_177353 && x_177355;
                                                        bool defunc_0_leq_res_177357 = x_177354 || y_177356;
                                                        
                                                        leq_y_x_177331 = defunc_0_leq_res_177357;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                    
                                                    if (leq_y_x_177331) {
                                                        int64_t tmp_180410 = add64(tt_177273, n_177324);
                                                        int64_t tmp_180411 = sub64(count_177275, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tmp_180410;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tt_177274;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = tmp_180411;
                                                    } else {
                                                        int64_t tmp_177363 = add64(tt_177273, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tt_177273;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tmp_177363;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = count_177275;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = ss_177271;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                }
                                                defunc_0_lifted_step_res_f_res_177285 = defunc_0_lifted_step_res_f_res_f_res_177291;
                                                defunc_0_lifted_step_res_f_res_177286 = defunc_0_lifted_step_res_f_res_f_res_177292;
                                                defunc_0_lifted_step_res_f_res_177287 = defunc_0_lifted_step_res_f_res_f_res_177293;
                                                defunc_0_lifted_step_res_f_res_177288 = defunc_0_lifted_step_res_f_res_f_res_177294;
                                            }
                                            defunc_0_lifted_step_res_177278 = defunc_0_lifted_step_res_f_res_177285;
                                            defunc_0_lifted_step_res_177279 = defunc_0_lifted_step_res_f_res_177286;
                                            defunc_0_lifted_step_res_177280 = defunc_0_lifted_step_res_f_res_177287;
                                            defunc_0_lifted_step_res_177281 = defunc_0_lifted_step_res_f_res_177288;
                                        }
                                        
                                        int64_t loopres_177364;
                                        int64_t loopres_177365;
                                        int64_t loopres_177366;
                                        int64_t loopres_177367;
                                        int64_t loopres_177368;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_177364, &loopres_177365, &loopres_177366, &loopres_177367, &loopres_177368, defunc_0_lifted_step_res_177278, ss_177272, defunc_0_lifted_step_res_177279, defunc_0_lifted_step_res_177280, defunc_0_lifted_step_res_177281) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177369 = slt64((int64_t) 0, loopres_177368);
                                        bool loop_while_tmp_182643 = loop_cond_177369;
                                        int64_t ss_tmp_182644 = loopres_177364;
                                        int64_t ss_tmp_182645 = loopres_177365;
                                        int64_t tt_tmp_182646 = loopres_177366;
                                        int64_t tt_tmp_182647 = loopres_177367;
                                        int64_t count_tmp_182648 = loopres_177368;
                                        
                                        loop_while_177270 = loop_while_tmp_182643;
                                        ss_177271 = ss_tmp_182644;
                                        ss_177272 = ss_tmp_182645;
                                        tt_177273 = tt_tmp_182646;
                                        tt_177274 = tt_tmp_182647;
                                        count_177275 = count_tmp_182648;
                                    }
                                    defunc_0_split_count_res_177264 = loop_while_177270;
                                    defunc_0_split_count_res_177265 = ss_177271;
                                    defunc_0_split_count_res_177266 = ss_177272;
                                    defunc_0_split_count_res_177267 = tt_177273;
                                    defunc_0_split_count_res_177268 = tt_177274;
                                    defunc_0_split_count_res_177269 = count_177275;
                                    ((int64_t *) mem_181250)[i_180833] = defunc_0_split_count_res_177265;
                                    ((int64_t *) mem_181252)[i_180833] = defunc_0_split_count_res_177267;
                                }
                                if (mem_181266_cached_sizze_182861 < flat_dim_177106) {
                                    err = lexical_realloc(ctx, &mem_181266, &mem_181266_cached_sizze_182861, flat_dim_177106);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181269_cached_sizze_182862 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181269, &mem_181269_cached_sizze_182862, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181272_cached_sizze_182863 < bytes_181271) {
                                    err = lexical_realloc(ctx, &mem_181272, &mem_181272_cached_sizze_182863, bytes_181271);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180842 = 0; i_180842 < num_blocks_177103; i_180842++) {
                                    bool y_177376 = slt64(i_180842, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool index_certs_177378;
                                    
                                    if (!y_177376) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177379 = ((int64_t *) mem_181250)[i_180842];
                                    int64_t defunc_0_f_res_177380 = ((int64_t *) mem_181252)[i_180842];
                                    int64_t tmp_177381 = add64((int64_t) 1, i_180842);
                                    bool x_177382 = sle64((int64_t) 0, tmp_177381);
                                    bool y_177383 = slt64(tmp_177381, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool bounds_check_177384 = x_177382 && y_177383;
                                    bool index_certs_177385;
                                    
                                    if (!bounds_check_177384) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177381, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177386 = ((int64_t *) mem_181250)[tmp_177381];
                                    int64_t defunc_0_f_res_177387 = ((int64_t *) mem_181252)[tmp_177381];
                                    int64_t merge_sequential_arg2_177388 = add64(stride_177082, defunc_0_f_res_177380);
                                    int64_t merge_sequential_arg2_177389 = add64(stride_177082, defunc_0_f_res_177387);
                                    int64_t j_m_i_177390 = sub64(merge_sequential_arg2_177389, merge_sequential_arg2_177388);
                                    bool empty_slice_177391 = j_m_i_177390 == (int64_t) 0;
                                    int64_t m_177392 = sub64(j_m_i_177390, (int64_t) 1);
                                    int64_t i_p_m_t_s_177393 = add64(merge_sequential_arg2_177388, m_177392);
                                    bool zzero_leq_i_p_m_t_s_177394 = sle64((int64_t) 0, i_p_m_t_s_177393);
                                    bool i_p_m_t_s_leq_w_177395 = slt64(i_p_m_t_s_177393, next_stride_177083);
                                    bool zzero_lte_i_177396 = sle64((int64_t) 0, merge_sequential_arg2_177388);
                                    bool i_lte_j_177397 = sle64(merge_sequential_arg2_177388, merge_sequential_arg2_177389);
                                    bool y_177398 = i_p_m_t_s_leq_w_177395 && zzero_lte_i_177396;
                                    bool y_177399 = zzero_leq_i_p_m_t_s_177394 && y_177398;
                                    bool forwards_ok_177400 = i_lte_j_177397 && y_177399;
                                    bool ok_or_empty_177401 = empty_slice_177391 || forwards_ok_177400;
                                    bool index_certs_177402;
                                    
                                    if (!ok_or_empty_177401) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177388, ":", (long long) merge_sequential_arg2_177389, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177403 = sub64(defunc_0_f_res_177386, defunc_0_f_res_177379);
                                    bool empty_slice_177404 = j_m_i_177403 == (int64_t) 0;
                                    int64_t m_177405 = sub64(j_m_i_177403, (int64_t) 1);
                                    int64_t i_p_m_t_s_177406 = add64(defunc_0_f_res_177379, m_177405);
                                    bool zzero_leq_i_p_m_t_s_177407 = sle64((int64_t) 0, i_p_m_t_s_177406);
                                    bool i_p_m_t_s_leq_w_177408 = slt64(i_p_m_t_s_177406, next_stride_177083);
                                    bool zzero_lte_i_177409 = sle64((int64_t) 0, defunc_0_f_res_177379);
                                    bool i_lte_j_177410 = sle64(defunc_0_f_res_177379, defunc_0_f_res_177386);
                                    bool y_177411 = i_p_m_t_s_leq_w_177408 && zzero_lte_i_177409;
                                    bool y_177412 = zzero_leq_i_p_m_t_s_177407 && y_177411;
                                    bool forwards_ok_177413 = i_lte_j_177410 && y_177412;
                                    bool ok_or_empty_177414 = empty_slice_177404 || forwards_ok_177413;
                                    bool index_certs_177415;
                                    
                                    if (!ok_or_empty_177414) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177379, ":", (long long) defunc_0_f_res_177386, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177416 = slt64((int64_t) 0, j_m_i_177403);
                                    int8_t dummy_177417;
                                    int64_t dummy_177418;
                                    float dummy_177419;
                                    
                                    if (cond_177416) {
                                        bool index_certs_180412;
                                        
                                        if (!cond_177416) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180413 = start_177156 + defunc_0_f_res_177379;
                                        int8_t head_res_180414 = ((int8_t *) mem_param_181222.mem)[slice_180413];
                                        int64_t head_res_180415 = ((int64_t *) mem_param_181225.mem)[slice_180413];
                                        float head_res_180416 = ((float *) mem_param_181228.mem)[slice_180413];
                                        
                                        dummy_177417 = head_res_180414;
                                        dummy_177418 = head_res_180415;
                                        dummy_177419 = head_res_180416;
                                    } else {
                                        bool y_177425 = slt64((int64_t) 0, j_m_i_177390);
                                        bool index_certs_177426;
                                        
                                        if (!y_177425) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177427 = start_177156 + merge_sequential_arg2_177388;
                                        int8_t head_res_177428 = ((int8_t *) mem_param_181222.mem)[slice_177427];
                                        int64_t head_res_177429 = ((int64_t *) mem_param_181225.mem)[slice_177427];
                                        float head_res_177430 = ((float *) mem_param_181228.mem)[slice_177427];
                                        
                                        dummy_177417 = head_res_177428;
                                        dummy_177418 = head_res_177429;
                                        dummy_177419 = head_res_177430;
                                    }
                                    for (int64_t nest_i_182652 = 0; nest_i_182652 < merge_block_sizze_176920; nest_i_182652++) {
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + nest_i_182652] = dummy_177417;
                                    }
                                    for (int64_t nest_i_182653 = 0; nest_i_182653 < merge_block_sizze_176920; nest_i_182653++) {
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + nest_i_182653] = dummy_177418;
                                    }
                                    for (int64_t nest_i_182654 = 0; nest_i_182654 < merge_block_sizze_176920; nest_i_182654++) {
                                        ((float *) mem_181272)[i_180842 * merge_block_sizze_176920 + nest_i_182654] = dummy_177419;
                                    }
                                    
                                    int64_t data_177434;
                                    int64_t i_177439 = (int64_t) 0;
                                    
                                    for (int64_t k_177438 = 0; k_177438 < merge_block_sizze_176920; k_177438++) {
                                        int64_t j_177443 = sub64(k_177438, i_177439);
                                        bool cond_177444 = j_177443 == j_m_i_177390;
                                        bool cond_177445;
                                        
                                        if (cond_177444) {
                                            cond_177445 = 1;
                                        } else {
                                            bool cond_177446 = slt64(i_177439, j_m_i_177403);
                                            bool cond_f_res_177447;
                                            
                                            if (cond_177446) {
                                                bool x_180417 = sle64((int64_t) 0, j_177443);
                                                bool y_180418 = slt64(j_177443, j_m_i_177390);
                                                bool bounds_check_180419 = x_180417 && y_180418;
                                                bool index_certs_180420;
                                                
                                                if (!bounds_check_180419) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180426 = sle64((int64_t) 0, i_177439);
                                                bool bounds_check_180427 = cond_177446 && x_180426;
                                                bool index_certs_180428;
                                                
                                                if (!bounds_check_180427) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180421 = merge_sequential_arg2_177388 + j_177443;
                                                int64_t slice_180422 = start_177156 + slice_180421;
                                                int8_t leq_arg1_180423 = ((int8_t *) mem_param_181222.mem)[slice_180422];
                                                int64_t leq_arg1_180424 = ((int64_t *) mem_param_181225.mem)[slice_180422];
                                                float leq_arg1_180425 = ((float *) mem_param_181228.mem)[slice_180422];
                                                int64_t slice_180429 = defunc_0_f_res_177379 + i_177439;
                                                int64_t slice_180430 = start_177156 + slice_180429;
                                                int8_t leq_arg0_180431 = ((int8_t *) mem_param_181222.mem)[slice_180430];
                                                int64_t leq_arg0_180432 = ((int64_t *) mem_param_181225.mem)[slice_180430];
                                                float leq_arg0_180433 = ((float *) mem_param_181228.mem)[slice_180430];
                                                bool cond_180434 = leq_arg0_180431 == leq_arg1_180423;
                                                bool defunc_0_leq_res_t_res_180435 = sle64(leq_arg0_180432, leq_arg1_180424);
                                                bool defunc_0_leq_res_180436 = leq_arg0_180433 <= leq_arg1_180425;
                                                bool x_180437 = cond_180434 && defunc_0_leq_res_t_res_180435;
                                                bool x_180438 = !cond_180434;
                                                bool y_180439 = defunc_0_leq_res_180436 && x_180438;
                                                bool defunc_0_leq_res_180440 = x_180437 || y_180439;
                                                
                                                cond_f_res_177447 = defunc_0_leq_res_180440;
                                            } else {
                                                cond_f_res_177447 = 0;
                                            }
                                            cond_177445 = cond_f_res_177447;
                                        }
                                        
                                        int64_t loopres_177472;
                                        int8_t loopres_177473;
                                        int64_t loopres_177474;
                                        float loopres_177475;
                                        
                                        if (cond_177445) {
                                            bool x_180442 = sle64((int64_t) 0, i_177439);
                                            bool y_180443 = slt64(i_177439, j_m_i_177403);
                                            bool bounds_check_180444 = x_180442 && y_180443;
                                            bool index_certs_180445;
                                            
                                            if (!bounds_check_180444) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180441 = add64((int64_t) 1, i_177439);
                                            int64_t slice_180446 = defunc_0_f_res_177379 + i_177439;
                                            int64_t slice_180447 = start_177156 + slice_180446;
                                            int8_t tmp_180448 = ((int8_t *) mem_param_181222.mem)[slice_180447];
                                            int64_t tmp_180449 = ((int64_t *) mem_param_181225.mem)[slice_180447];
                                            float tmp_180450 = ((float *) mem_param_181228.mem)[slice_180447];
                                            
                                            loopres_177472 = tmp_180441;
                                            loopres_177473 = tmp_180448;
                                            loopres_177474 = tmp_180449;
                                            loopres_177475 = tmp_180450;
                                        } else {
                                            bool x_177486 = sle64((int64_t) 0, j_177443);
                                            bool y_177487 = slt64(j_177443, j_m_i_177390);
                                            bool bounds_check_177488 = x_177486 && y_177487;
                                            bool index_certs_177489;
                                            
                                            if (!bounds_check_177488) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177490 = merge_sequential_arg2_177388 + j_177443;
                                            int64_t slice_177491 = start_177156 + slice_177490;
                                            int8_t tmp_177492 = ((int8_t *) mem_param_181222.mem)[slice_177491];
                                            int64_t tmp_177493 = ((int64_t *) mem_param_181225.mem)[slice_177491];
                                            float tmp_177494 = ((float *) mem_param_181228.mem)[slice_177491];
                                            
                                            loopres_177472 = i_177439;
                                            loopres_177473 = tmp_177492;
                                            loopres_177474 = tmp_177493;
                                            loopres_177475 = tmp_177494;
                                        }
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177473;
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177474;
                                        ((float *) mem_181272)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177475;
                                        
                                        int64_t i_tmp_182655 = loopres_177472;
                                        
                                        i_177439 = i_tmp_182655;
                                    }
                                    data_177434 = i_177439;
                                }
                                if (memblock_alloc(ctx, &mem_181321, flat_dim_177106, "mem_181321")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181321.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint8_t *) mem_181266, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181325, bytes_181268, "mem_181325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181325.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181269, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181329, bytes_181271, "mem_181329")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181329.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint32_t *) mem_181272, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181321, "mem_181321") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181325, "mem_181325") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181329, "mem_181329") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181230, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181233, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181236, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181356.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181376, bytes_181229, "mem_181376")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181376.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint8_t *) mem_181230, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181380, bytes_181232, "mem_181380")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181380.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181233, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181384, bytes_181235, "mem_181384")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181384.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint32_t *) mem_181236, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        
                        bool loop_cond_177508 = slt64(next_stride_177083, flat_dim_176915);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182622, &mem_181376, "mem_181376") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182623, &mem_181380, "mem_181380") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182624, &mem_181384, "mem_181384") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182625 = bytes_181229;
                        bool loop_while_tmp_182626 = loop_cond_177508;
                        int64_t stride_tmp_182630 = next_stride_177083;
                        
                        if (memblock_set(ctx, &mem_param_181222, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181225, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181228, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177077 = loop_dz2084Uz2082U_tmp_182625;
                        loop_while_177078 = loop_while_tmp_182626;
                        stride_177082 = stride_tmp_182630;
                    }
                    if (memblock_set(ctx, &ext_mem_181394, &mem_param_181222, "mem_param_181222") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181393, &mem_param_181225, "mem_param_181225") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181392, &mem_param_181228, "mem_param_181228") != 0)
                        return 1;
                    data_177071 = loop_dz2084Uz2082U_177077;
                    data_177072 = loop_while_177078;
                    data_177076 = stride_177082;
                    if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
                        return 1;
                    
                    bool empty_slice_177509 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177510 = sle64((int64_t) 0, zs_lhs_176899);
                    bool i_p_m_t_s_leq_w_177511 = slt64(zs_lhs_176899, data_177071);
                    bool y_177512 = zzero_leq_i_p_m_t_s_177510 && i_p_m_t_s_leq_w_177511;
                    bool ok_or_empty_177513 = empty_slice_177509 || y_177512;
                    bool index_certs_177514;
                    
                    if (!ok_or_empty_177513) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] out of bounds for array of shape [", (long long) data_177071, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181403, &ext_mem_181394, "ext_mem_181394") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &ext_mem_181393, "ext_mem_181393") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &ext_mem_181392, "ext_mem_181392") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181400.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181397.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
                    return 1;
                
                bool loop_cond_177550 = slt64(ubs_176842, threads_152776);
                bool loop_while_tmp_182589 = loop_cond_177550;
                int64_t p_tmp_182590 = ubs_176842;
                
                loop_while_176831 = loop_while_tmp_182589;
                p_176832 = p_tmp_182590;
            }
            defunc_0_mergeFunc_seq_res_176826 = loop_while_176831;
            defunc_0_mergeFunc_seq_res_176827 = p_176832;
            
            int64_t index_concat_branch_178367;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180465 = ((int64_t *) mem_181069)[index_concat_i_178364];
                
                index_concat_branch_178367 = index_concat_180465;
            } else {
                index_concat_branch_178367 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178361;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180466 = ((int64_t *) mem_181071)[index_concat_i_178364];
                
                index_concat_branch_178361 = index_concat_180466;
            } else {
                index_concat_branch_178361 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181084, "mem_181084") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181086, "mem_181086") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181088, "mem_181088") != 0)
                return 1;
            loopres_175590 = index_concat_branch_178367;
            loopres_175591 = index_concat_branch_178361;
        }
        for (int64_t i_180858 = 0; i_180858 < window_sizze_152775; i_180858++) {
            int8_t eta_p_177558 = ((int8_t *) ext_mem_181822.mem)[i_180858];
            int64_t eta_p_177559 = ((int64_t *) ext_mem_181819.mem)[i_180858];
            bool cond_177560 = eta_p_177558 == (int8_t) 0;
            int64_t tmp_177561;
            
            if (cond_177560) {
                int64_t tmp_t_res_180469 = add64(p_175562, eta_p_177559);
                
                tmp_177561 = tmp_t_res_180469;
            } else {
                int64_t tmp_f_res_177563 = add64(p_175563, eta_p_177559);
                
                tmp_177561 = tmp_f_res_177563;
            }
            ((int64_t *) mem_181056.mem)[ind_bottom_175566 + i_180858] = tmp_177561;
        }
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        
        int64_t next_lbs_177564 = add64(p_175562, loopres_175590);
        int64_t next_lbs_177565 = add64(p_175563, loopres_175591);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152775});
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181816.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152775});
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        
        bool cond_177579 = slt64(next_lbs_177564, zl_rhs_175545);
        bool loop_cond_t_res_177580 = slt64(next_lbs_177565, zl_rhs_175547);
        bool x_177581 = cond_177579 && loop_cond_t_res_177580;
        bool loop_while_tmp_182473 = x_177581;
        int64_t p_tmp_182477 = next_lbs_177564;
        int64_t p_tmp_182478 = next_lbs_177565;
        
        loop_while_175558 = loop_while_tmp_182473;
        p_175562 = p_tmp_182477;
        p_175563 = p_tmp_182478;
    }
    defunc_0_merge_pipeline_res_175552 = loop_while_175558;
    defunc_0_merge_pipeline_res_175556 = p_175562;
    defunc_0_merge_pipeline_res_175557 = p_175563;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 = sub64(nb_152774, defunc_0_merge_pipeline_res_175557);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 = sub64(na_152773, defunc_0_merge_pipeline_res_175556);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    bool empty_slice_177585 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 == (int64_t) 0;
    int64_t m_177586 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 1);
    int64_t i_p_m_t_s_177587 = add64(defunc_0_merge_pipeline_res_175556, m_177586);
    bool zzero_leq_i_p_m_t_s_177588 = sle64((int64_t) 0, i_p_m_t_s_177587);
    bool i_p_m_t_s_leq_w_177589 = slt64(i_p_m_t_s_177587, na_152773);
    bool zzero_lte_i_177590 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175556);
    bool i_lte_j_177591 = sle64(defunc_0_merge_pipeline_res_175556, na_152773);
    bool y_177592 = i_p_m_t_s_leq_w_177589 && zzero_lte_i_177590;
    bool y_177593 = zzero_leq_i_p_m_t_s_177588 && y_177592;
    bool forwards_ok_177594 = i_lte_j_177591 && y_177593;
    bool ok_or_empty_177595 = empty_slice_177585 || forwards_ok_177594;
    bool index_certs_177596;
    
    if (!ok_or_empty_177595) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175556, ":", (long long) na_152773, "] out of bounds for array of shape [", (long long) na_152773, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177600 = slt64(na_152773, defunc_0_merge_pipeline_res_175556);
    bool valid_177601 = !bounds_invalid_upwards_177600;
    bool range_valid_c_177602;
    
    if (!valid_177601) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175556, "..<", (long long) na_152773, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177606 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 == (int64_t) 0;
    int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, (int64_t) 1);
    int64_t i_p_m_t_s_177608 = add64(defunc_0_merge_pipeline_res_175557, m_177607);
    bool zzero_leq_i_p_m_t_s_177609 = sle64((int64_t) 0, i_p_m_t_s_177608);
    bool i_p_m_t_s_leq_w_177610 = slt64(i_p_m_t_s_177608, nb_152774);
    bool zzero_lte_i_177611 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175557);
    bool i_lte_j_177612 = sle64(defunc_0_merge_pipeline_res_175557, nb_152774);
    bool y_177613 = i_p_m_t_s_leq_w_177610 && zzero_lte_i_177611;
    bool y_177614 = zzero_leq_i_p_m_t_s_177609 && y_177613;
    bool forwards_ok_177615 = i_lte_j_177612 && y_177614;
    bool ok_or_empty_177616 = empty_slice_177606 || forwards_ok_177615;
    bool index_certs_177617;
    
    if (!ok_or_empty_177616) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175557, ":", (long long) nb_152774, "] out of bounds for array of shape [", (long long) nb_152774, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177621 = slt64(nb_152774, defunc_0_merge_pipeline_res_175557);
    bool valid_177622 = !bounds_invalid_upwards_177621;
    bool range_valid_c_177623;
    
    if (!valid_177622) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175557, "..<", (long long) nb_152774, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181847 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    int64_t bytes_181849 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool cond_177630 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zs_lhs_177631 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zp_rhs_177632 = sdiv_safe64(zs_lhs_177631, (int64_t) 20);
    int64_t min_num_blocks_177633 = add64((int64_t) 1, zp_rhs_177632);
    bool loop_cond_177634 = slt64((int64_t) 1, min_num_blocks_177633);
    bool smallest_pow_2_geq_than_res_177635;
    int64_t smallest_pow_2_geq_than_res_177636;
    bool loop_while_177637;
    int64_t x_177638;
    
    loop_while_177637 = loop_cond_177634;
    x_177638 = (int64_t) 1;
    while (loop_while_177637) {
        int64_t loopres_177639 = mul64((int64_t) 2, x_177638);
        bool loop_cond_177640 = slt64(loopres_177639, min_num_blocks_177633);
        bool loop_while_tmp_182660 = loop_cond_177640;
        int64_t x_tmp_182661 = loopres_177639;
        
        loop_while_177637 = loop_while_tmp_182660;
        x_177638 = x_tmp_182661;
    }
    smallest_pow_2_geq_than_res_177635 = loop_while_177637;
    smallest_pow_2_geq_than_res_177636 = x_177638;
    
    bool zzero_177641 = smallest_pow_2_geq_than_res_177636 == (int64_t) 0;
    bool nonzzero_177642 = !zzero_177641;
    bool protect_assert_disj_177643 = cond_177630 || nonzzero_177642;
    bool nonzzero_cert_177644;
    
    if (!protect_assert_disj_177643) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177645 = sdiv_safe64(zs_lhs_177631, smallest_pow_2_geq_than_res_177636);
    int64_t block_sizze_177646 = add64((int64_t) 1, zp_rhs_177645);
    bool y_177653 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool protect_assert_disj_182175 = cond_177630 || y_177653;
    bool index_certs_177654;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177680 = slt64(smallest_pow_2_geq_than_res_177636, (int64_t) 0);
    bool valid_177681 = !bounds_invalid_upwards_177680;
    bool protect_assert_disj_182185 = cond_177630 || valid_177681;
    bool range_valid_c_177682;
    
    if (!protect_assert_disj_182185) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177684 = slt64(block_sizze_177646, (int64_t) 0);
    bool valid_177685 = !bounds_invalid_upwards_177684;
    bool protect_assert_disj_182187 = cond_177630 || valid_177685;
    bool range_valid_c_177686;
    
    if (!protect_assert_disj_182187) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177646, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177688 = sle64(block_sizze_177646, (int64_t) 1);
    int64_t tmp_177689 = sub64(block_sizze_177646, (int64_t) 2);
    bool bounds_invalid_upwards_177690 = slt64(tmp_177689, (int64_t) 0);
    bool valid_177692 = !bounds_invalid_upwards_177690;
    bool protect_assert_disj_177693 = cond_177688 || valid_177692;
    bool protect_assert_disj_182189 = cond_177630 || protect_assert_disj_177693;
    bool range_valid_c_177694;
    
    if (!protect_assert_disj_182189) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177689, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178255 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178257 = sle64((int64_t) 0, zs_lhs_177631);
    bool i_p_m_t_s_leq_w_178258 = slt64(zs_lhs_177631, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool y_178259 = zzero_leq_i_p_m_t_s_178257 && i_p_m_t_s_leq_w_178258;
    bool ok_or_empty_178260 = empty_slice_178255 || y_178259;
    bool index_certs_178261;
    
    if (!ok_or_empty_178260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178262 = add64(defunc_0_merge_pipeline_res_175556, defunc_0_merge_pipeline_res_175557);
    int64_t j_m_i_178263 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, final_buffer_178262);
    bool empty_slice_178264 = j_m_i_178263 == (int64_t) 0;
    int64_t m_178265 = sub64(j_m_i_178263, (int64_t) 1);
    int64_t i_p_m_t_s_178266 = add64(final_buffer_178262, m_178265);
    bool zzero_leq_i_p_m_t_s_178267 = sle64((int64_t) 0, i_p_m_t_s_178266);
    bool i_p_m_t_s_leq_w_178268 = slt64(i_p_m_t_s_178266, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool zzero_lte_i_178269 = sle64((int64_t) 0, final_buffer_178262);
    bool i_lte_j_178270 = sle64(final_buffer_178262, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool y_178271 = i_p_m_t_s_leq_w_178268 && zzero_lte_i_178269;
    bool y_178272 = zzero_leq_i_p_m_t_s_178267 && y_178271;
    bool forwards_ok_178273 = i_lte_j_178270 && y_178272;
    bool ok_or_empty_178274 = empty_slice_178264 || forwards_ok_178273;
    bool index_certs_178275;
    
    if (!ok_or_empty_178274) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178262, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178276 = j_m_i_178263 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool empty_or_match_cert_178277;
    
    if (!dim_match_178276) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178263, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181846, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "mem_181846")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182662 = 0; nest_i_182662 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; nest_i_182662++) {
        ((int8_t *) mem_181846.mem)[nest_i_182662] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181848, bytes_181847, "mem_181848")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182663 = 0; i_182663 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; i_182663++) {
        int64_t x_182664 = defunc_0_merge_pipeline_res_175556 + i_182663 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[i_182663] = x_182664;
    }
    for (int64_t nest_i_182665 = 0; nest_i_182665 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; nest_i_182665++) {
        ((int8_t *) mem_181846.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + nest_i_182665] = (int8_t) 1;
    }
    for (int64_t i_182666 = 0; i_182666 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; i_182666++) {
        int64_t x_182667 = defunc_0_merge_pipeline_res_175557 + i_182666 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + i_182666] = x_182667;
    }
    
    int64_t tmp_offs_182668 = (int64_t) 0;
    
    if (!(tmp_offs_182668 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182668 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t tmp_offs_182669 = (int64_t) 0;
    
    if (!(tmp_offs_182669 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182669 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    if (memblock_alloc(ctx, &mem_181850, bytes_181849, "mem_181850")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182670 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, defunc_0_merge_pipeline_res_175556, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, defunc_0_merge_pipeline_res_175557, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t flat_dim_177647 = smallest_pow_2_geq_than_res_177636 * block_sizze_177646;
    bool x_182170 = !cond_177630;
    int64_t greatest_divisor_leq_than_arg1_177651 = mul64((int64_t) 2, block_sizze_177646);
    int64_t merge_block_sizze_177652;
    
    if (x_182170) {
        int64_t x_182172;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182172, (int64_t) 8, greatest_divisor_leq_than_arg1_177651) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177652 = x_182172;
    } else {
        merge_block_sizze_177652 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178327 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 0);
    int8_t index_concat_branch_178331 = btoi_bool_i8(index_concat_cmp_178327);
    int64_t index_concat_i_180471 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    int64_t index_primexp_180472 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180471);
    int64_t index_concat_branch_178325;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178325 = index_primexp_180472;
    } else {
        index_concat_branch_178325 = defunc_0_merge_pipeline_res_175556;
    }
    
    bool x_182166 = !index_concat_cmp_178327;
    bool protect_cond_conj_182176 = x_182166 && x_182170;
    float index_concat_178318;
    
    if (protect_cond_conj_182176) {
        float x_182168 = ((float *) a_list_mem_181052.mem)[defunc_0_merge_pipeline_res_175556];
        
        index_concat_178318 = x_182168;
    } else {
        index_concat_178318 = 0.0F;
    }
    
    bool protect_cond_conj_182177 = index_concat_cmp_178327 && x_182170;
    float index_concat_180475;
    
    if (protect_cond_conj_182177) {
        float x_182164 = ((float *) b_list_mem_181053.mem)[index_primexp_180472];
        
        index_concat_180475 = x_182164;
    } else {
        index_concat_180475 = 0.0F;
    }
    
    float index_concat_branch_178319;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178319 = index_concat_180475;
    } else {
        index_concat_branch_178319 = index_concat_178318;
    }
    
    int8_t defunc_0_reduce_res_180706;
    int64_t defunc_0_reduce_res_180707;
    float defunc_0_reduce_res_180708;
    
    if (x_182170) {
        int8_t x_182178;
        int64_t x_182179;
        float x_182180;
        int8_t redout_180860;
        int64_t redout_180861;
        float redout_180862;
        
        redout_180860 = index_concat_branch_178331;
        redout_180861 = index_concat_branch_178325;
        redout_180862 = index_concat_branch_178319;
        for (int64_t i_180863 = 0; i_180863 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584; i_180863++) {
            bool index_concat_cmp_180934 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, i_180863);
            int8_t index_concat_branch_180938 = btoi_bool_i8(index_concat_cmp_180934);
            int64_t index_concat_branch_180932;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180929 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t index_primexp_181022 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180929);
                
                index_concat_branch_180932 = index_primexp_181022;
            } else {
                int64_t index_primexp_181024 = add64(defunc_0_merge_pipeline_res_175556, i_180863);
                
                index_concat_branch_180932 = index_primexp_181024;
            }
            
            float index_concat_branch_180926;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180923 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t slice_181019 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180923;
                float index_concat_180924 = ((float *) b_list_mem_181053.mem)[slice_181019];
                
                index_concat_branch_180926 = index_concat_180924;
            } else {
                int64_t slice_181020 = defunc_0_merge_pipeline_res_175556 + i_180863;
                float index_concat_180925 = ((float *) a_list_mem_181052.mem)[slice_181020];
                
                index_concat_branch_180926 = index_concat_180925;
            }
            
            bool eq_x_y_181037 = redout_180860 == (int8_t) 1;
            bool eq_x_zz_181038 = redout_180860 == (int8_t) 0;
            bool p_and_eq_x_y_181039 = index_concat_cmp_180934 && eq_x_y_181037;
            bool not_p_181040 = !index_concat_cmp_180934;
            bool p_and_eq_x_y_181041 = eq_x_zz_181038 && not_p_181040;
            bool cond_177670 = p_and_eq_x_y_181039 || p_and_eq_x_y_181041;
            bool defunc_0_leq_res_t_res_177671 = sle64(redout_180861, index_concat_branch_180932);
            bool defunc_0_leq_res_177672 = redout_180862 <= index_concat_branch_180926;
            bool x_177673 = cond_177670 && defunc_0_leq_res_t_res_177671;
            bool x_177674 = !cond_177670;
            bool y_177675 = defunc_0_leq_res_177672 && x_177674;
            bool defunc_0_leq_res_177676 = x_177673 || y_177675;
            int8_t defunc_0_op_res_177677;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177677 = index_concat_branch_180938;
            } else {
                defunc_0_op_res_177677 = redout_180860;
            }
            
            int64_t defunc_0_op_res_177678;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177678 = index_concat_branch_180932;
            } else {
                defunc_0_op_res_177678 = redout_180861;
            }
            
            float defunc_0_op_res_177679;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177679 = index_concat_branch_180926;
            } else {
                defunc_0_op_res_177679 = redout_180862;
            }
            
            int8_t redout_tmp_182671 = defunc_0_op_res_177677;
            int64_t redout_tmp_182672 = defunc_0_op_res_177678;
            float redout_tmp_182673 = defunc_0_op_res_177679;
            
            redout_180860 = redout_tmp_182671;
            redout_180861 = redout_tmp_182672;
            redout_180862 = redout_tmp_182673;
        }
        x_182178 = redout_180860;
        x_182179 = redout_180861;
        x_182180 = redout_180862;
        defunc_0_reduce_res_180706 = x_182178;
        defunc_0_reduce_res_180707 = x_182179;
        defunc_0_reduce_res_180708 = x_182180;
    } else {
        defunc_0_reduce_res_180706 = (int8_t) 0;
        defunc_0_reduce_res_180707 = (int64_t) 0;
        defunc_0_reduce_res_180708 = 0.0F;
    }
    
    int64_t distance_177691 = add64((int64_t) 1, tmp_177689);
    int64_t binop_x_181853 = (int64_t) 8 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181854 = block_sizze_177646 * binop_x_181853;
    int64_t binop_x_181856 = (int64_t) 4 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181857 = block_sizze_177646 * binop_x_181856;
    int64_t bytes_181872 = (int64_t) 8 * block_sizze_177646;
    int64_t bytes_181874 = (int64_t) 4 * block_sizze_177646;
    bool loop_cond_177800 = slt64(block_sizze_177646, flat_dim_177647);
    bool zzero_177801 = merge_block_sizze_177652 == (int64_t) 0;
    bool nonzzero_177802 = !zzero_177801;
    
    if (cond_177630) {
        if (memblock_set(ctx, &ext_mem_182145, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &mem_181850, "mem_181850") != 0)
            return 1;
    } else {
        if (mem_181852_cached_sizze_182884 < flat_dim_177647) {
            err = lexical_realloc(ctx, &mem_181852, &mem_181852_cached_sizze_182884, flat_dim_177647);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182885 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182885, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181858_cached_sizze_182886 < bytes_181857) {
            err = lexical_realloc(ctx, &mem_181858, &mem_181858_cached_sizze_182886, bytes_181857);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181871_cached_sizze_182887 < block_sizze_177646) {
            err = lexical_realloc(ctx, &mem_181871, &mem_181871_cached_sizze_182887, block_sizze_177646);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181873_cached_sizze_182888 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181873, &mem_181873_cached_sizze_182888, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181875_cached_sizze_182889 < bytes_181874) {
            err = lexical_realloc(ctx, &mem_181875, &mem_181875_cached_sizze_182889, bytes_181874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180880 = 0; i_180880 < smallest_pow_2_geq_than_res_177636; i_180880++) {
            int64_t zp_lhs_177699 = mul64(block_sizze_177646, i_180880);
            
            for (int64_t i_180870 = 0; i_180870 < block_sizze_177646; i_180870++) {
                int64_t k_177704 = add64(zp_lhs_177699, i_180870);
                bool cond_177705 = slt64(k_177704, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
                int8_t lifted_lambda_res_177706;
                int64_t lifted_lambda_res_177707;
                float lifted_lambda_res_177708;
                
                if (cond_177705) {
                    bool x_180481 = sle64((int64_t) 0, k_177704);
                    bool bounds_check_180482 = cond_177705 && x_180481;
                    bool index_certs_180483;
                    
                    if (!bounds_check_180482) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177704, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180484 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, k_177704);
                    int8_t index_concat_branch_180485 = btoi_bool_i8(index_concat_cmp_180484);
                    int64_t index_concat_branch_180486;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180487 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t index_primexp_180488 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180487);
                        
                        index_concat_branch_180486 = index_primexp_180488;
                    } else {
                        int64_t index_primexp_180489 = add64(defunc_0_merge_pipeline_res_175556, k_177704);
                        
                        index_concat_branch_180486 = index_primexp_180489;
                    }
                    
                    float index_concat_branch_180490;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180491 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t slice_180492 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180491;
                        float index_concat_180493 = ((float *) b_list_mem_181053.mem)[slice_180492];
                        
                        index_concat_branch_180490 = index_concat_180493;
                    } else {
                        int64_t slice_180494 = defunc_0_merge_pipeline_res_175556 + k_177704;
                        float index_concat_180495 = ((float *) a_list_mem_181052.mem)[slice_180494];
                        
                        index_concat_branch_180490 = index_concat_180495;
                    }
                    lifted_lambda_res_177706 = index_concat_branch_180485;
                    lifted_lambda_res_177707 = index_concat_branch_180486;
                    lifted_lambda_res_177708 = index_concat_branch_180490;
                } else {
                    lifted_lambda_res_177706 = defunc_0_reduce_res_180706;
                    lifted_lambda_res_177707 = defunc_0_reduce_res_180707;
                    lifted_lambda_res_177708 = defunc_0_reduce_res_180708;
                }
                ((int8_t *) mem_181871)[i_180870] = lifted_lambda_res_177706;
                ((int64_t *) mem_181873)[i_180870] = lifted_lambda_res_177707;
                ((float *) mem_181875)[i_180870] = lifted_lambda_res_177708;
            }
            if (!cond_177688) {
                for (int64_t i_177721 = 0; i_177721 < distance_177691; i_177721++) {
                    int64_t gt_arg1_177725 = add64((int64_t) 1, i_177721);
                    bool x_177726 = sle64((int64_t) 0, gt_arg1_177725);
                    bool y_177727 = slt64(gt_arg1_177725, block_sizze_177646);
                    bool bounds_check_177728 = x_177726 && y_177727;
                    bool index_certs_177729;
                    
                    if (!bounds_check_177728) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177725, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177733 = slt64(i_177721, block_sizze_177646);
                    bool index_certs_177734;
                    
                    if (!y_177733) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177721, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177730 = ((int8_t *) mem_181871)[gt_arg1_177725];
                    int64_t gt_arg1_177731 = ((int64_t *) mem_181873)[gt_arg1_177725];
                    float gt_arg1_177732 = ((float *) mem_181875)[gt_arg1_177725];
                    int8_t gt_arg0_177735 = ((int8_t *) mem_181871)[i_177721];
                    int64_t gt_arg0_177736 = ((int64_t *) mem_181873)[i_177721];
                    float gt_arg0_177737 = ((float *) mem_181875)[i_177721];
                    bool cond_177738 = gt_arg0_177735 == gt_arg1_177730;
                    bool defunc_0_leq_res_t_res_177739 = sle64(gt_arg0_177736, gt_arg1_177731);
                    bool defunc_0_leq_res_177740 = gt_arg0_177737 <= gt_arg1_177732;
                    bool x_177741 = cond_177738 && defunc_0_leq_res_t_res_177739;
                    bool x_177742 = !cond_177738;
                    bool y_177743 = defunc_0_leq_res_177740 && x_177742;
                    bool defunc_0_leq_res_177744 = x_177741 || y_177743;
                    bool defunc_0_lifted_gt_res_177745 = !defunc_0_leq_res_177744;
                    bool s_177746;
                    int64_t s_177750;
                    bool loop_while_177751;
                    int64_t j_177755;
                    
                    loop_while_177751 = defunc_0_lifted_gt_res_177745;
                    j_177755 = i_177721;
                    while (loop_while_177751) {
                        bool x_177756 = sle64((int64_t) 0, j_177755);
                        bool y_177757 = slt64(j_177755, block_sizze_177646);
                        bool bounds_check_177758 = x_177756 && y_177757;
                        bool index_certs_177759;
                        
                        if (!bounds_check_177758) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177755, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177763 = add64((int64_t) 1, j_177755);
                        bool x_177764 = sle64((int64_t) 0, copy_arg0_177763);
                        bool y_177765 = slt64(copy_arg0_177763, block_sizze_177646);
                        bool bounds_check_177766 = x_177764 && y_177765;
                        bool index_certs_177767;
                        
                        if (!bounds_check_177766) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177763, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177760 = ((int8_t *) mem_181871)[j_177755];
                        int64_t copy_arg0_177761 = ((int64_t *) mem_181873)[j_177755];
                        float copy_arg0_177762 = ((float *) mem_181875)[j_177755];
                        int8_t copy_arg0_177768 = ((int8_t *) mem_181871)[copy_arg0_177763];
                        int64_t copy_arg0_177769 = ((int64_t *) mem_181873)[copy_arg0_177763];
                        float copy_arg0_177770 = ((float *) mem_181875)[copy_arg0_177763];
                        
                        ((int8_t *) mem_181871)[j_177755] = copy_arg0_177768;
                        ((int64_t *) mem_181873)[j_177755] = copy_arg0_177769;
                        ((float *) mem_181875)[j_177755] = copy_arg0_177770;
                        ((int8_t *) mem_181871)[copy_arg0_177763] = copy_arg0_177760;
                        ((int64_t *) mem_181873)[copy_arg0_177763] = copy_arg0_177761;
                        ((float *) mem_181875)[copy_arg0_177763] = copy_arg0_177762;
                        
                        int64_t tmp_177777 = sub64(j_177755, (int64_t) 1);
                        bool cond_177778 = sle64((int64_t) 0, tmp_177777);
                        bool loop_cond_177779;
                        
                        if (cond_177778) {
                            bool y_180499 = slt64(tmp_177777, block_sizze_177646);
                            bool bounds_check_180500 = cond_177778 && y_180499;
                            bool index_certs_180501;
                            
                            if (!bounds_check_180500) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177777, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180496 = ((int8_t *) mem_181871)[j_177755];
                            int64_t gt_arg1_180497 = ((int64_t *) mem_181873)[j_177755];
                            float gt_arg1_180498 = ((float *) mem_181875)[j_177755];
                            int8_t gt_arg0_180502 = ((int8_t *) mem_181871)[tmp_177777];
                            int64_t gt_arg0_180503 = ((int64_t *) mem_181873)[tmp_177777];
                            float gt_arg0_180504 = ((float *) mem_181875)[tmp_177777];
                            bool cond_180505 = gt_arg0_180502 == gt_arg1_180496;
                            bool defunc_0_leq_res_t_res_180506 = sle64(gt_arg0_180503, gt_arg1_180497);
                            bool defunc_0_leq_res_180507 = gt_arg0_180504 <= gt_arg1_180498;
                            bool x_180508 = cond_180505 && defunc_0_leq_res_t_res_180506;
                            bool x_180509 = !cond_180505;
                            bool y_180510 = defunc_0_leq_res_180507 && x_180509;
                            bool defunc_0_leq_res_180511 = x_180508 || y_180510;
                            bool defunc_0_lifted_gt_res_180512 = !defunc_0_leq_res_180511;
                            
                            loop_cond_177779 = defunc_0_lifted_gt_res_180512;
                        } else {
                            loop_cond_177779 = 0;
                        }
                        
                        bool loop_while_tmp_182683 = loop_cond_177779;
                        int64_t j_tmp_182687 = tmp_177777;
                        
                        loop_while_177751 = loop_while_tmp_182683;
                        j_177755 = j_tmp_182687;
                    }
                    s_177746 = loop_while_177751;
                    s_177750 = j_177755;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181852, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181871, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181855, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181873, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181858, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181875, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
        }
        if (memblock_alloc(ctx, &mem_181952, flat_dim_177647, "mem_181952")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181952.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint8_t *) mem_181852, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181956, bytes_181854, "mem_181956")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181956.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181960, bytes_181857, "mem_181960")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181960.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint32_t *) mem_181858, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        
        int64_t data_177803;
        bool data_177804;
        int64_t data_177808;
        int64_t loop_dz2084Uz2082U_177809;
        bool loop_while_177810;
        int64_t stride_177814;
        
        if (memblock_set(ctx, &mem_param_181964, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181967, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181970, &mem_181960, "mem_181960") != 0)
            return 1;
        loop_dz2084Uz2082U_177809 = flat_dim_177647;
        loop_while_177810 = loop_cond_177800;
        stride_177814 = block_sizze_177646;
        while (loop_while_177810) {
            int64_t next_stride_177815 = mul64((int64_t) 2, stride_177814);
            bool zzero_177816 = next_stride_177815 == (int64_t) 0;
            bool nonzzero_177817 = !zzero_177816;
            bool nonzzero_cert_177818;
            
            if (!nonzzero_177817) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177819 = sdiv64(flat_dim_177647, next_stride_177815);
            bool bounds_invalid_upwards_177820 = slt64(num_merges_177819, (int64_t) 0);
            bool valid_177821 = !bounds_invalid_upwards_177820;
            bool range_valid_c_177822;
            
            if (!valid_177821) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177819, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177824 = sub64(next_stride_177815, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177825 = sle64((int64_t) 0, m_177824);
            bool cond_177827 = slt64(next_stride_177815, (int64_t) 10);
            bool protect_assert_disj_177828 = nonzzero_177802 || cond_177827;
            bool nonzzero_cert_177829;
            
            if (!protect_assert_disj_177828) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177830 = smod_safe64(next_stride_177815, merge_block_sizze_177652);
            bool num_blocks_177831 = zeze_lhs_177830 == (int64_t) 0;
            bool protect_assert_disj_177832 = cond_177827 || num_blocks_177831;
            bool assert_c_177833;
            
            if (!protect_assert_disj_177832) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177835 = sdiv_safe64(next_stride_177815, merge_block_sizze_177652);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836 = add64((int64_t) 1, num_blocks_177835);
            int64_t j_m_i_177837 = sub64(next_stride_177815, stride_177814);
            int64_t flat_dim_177838 = merge_block_sizze_177652 * num_blocks_177835;
            bool bounds_invalid_upwards_177839 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, (int64_t) 0);
            bool empty_slice_177840 = j_m_i_177837 == (int64_t) 0;
            int64_t m_177841 = sub64(j_m_i_177837, (int64_t) 1);
            bool zzero_lte_i_177842 = sle64((int64_t) 0, stride_177814);
            bool i_lte_j_177843 = sle64(stride_177814, next_stride_177815);
            bool empty_slice_177844 = stride_177814 == (int64_t) 0;
            int64_t m_177845 = sub64(stride_177814, (int64_t) 1);
            bool bounds_invalid_upwards_177846 = slt64(num_blocks_177835, (int64_t) 0);
            bool cond_177847 = slt64((int64_t) 0, stride_177814);
            bool valid_177848 = !bounds_invalid_upwards_177839;
            int64_t i_p_m_t_s_177849 = add64(stride_177814, m_177841);
            bool zzero_leq_i_p_m_t_s_177850 = sle64((int64_t) 0, m_177845);
            bool i_p_m_t_s_leq_w_177851 = slt64(m_177845, next_stride_177815);
            bool valid_177852 = !bounds_invalid_upwards_177846;
            bool i_p_m_t_s_leq_w_177853 = slt64(m_177824, flat_dim_177838);
            bool y_177854 = slt64((int64_t) 0, j_m_i_177837);
            bool protect_assert_disj_177855 = cond_177827 || valid_177848;
            bool range_valid_c_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177857 = sle64((int64_t) 0, i_p_m_t_s_177849);
            bool i_p_m_t_s_leq_w_177858 = slt64(i_p_m_t_s_177849, next_stride_177815);
            bool y_177859 = zzero_leq_i_p_m_t_s_177850 && i_p_m_t_s_leq_w_177851;
            bool protect_assert_disj_177860 = cond_177827 || valid_177852;
            bool range_valid_c_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177835, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177862 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177853;
            bool y_177863 = zzero_lte_i_177842 && i_p_m_t_s_leq_w_177858;
            bool forwards_ok_177864 = zzero_lte_i_177842 && y_177859;
            bool ok_or_empty_177865 = zzero_177816 || y_177862;
            bool protect_assert_disj_177866 = cond_177847 || y_177854;
            bool y_177867 = zzero_leq_i_p_m_t_s_177857 && y_177863;
            bool ok_or_empty_177868 = empty_slice_177844 || forwards_ok_177864;
            bool protect_assert_disj_177869 = cond_177827 || ok_or_empty_177865;
            bool index_certs_177870;
            
            if (!protect_assert_disj_177869) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) flat_dim_177838, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177871 = !cond_177827;
            bool protect_assert_disj_177872 = protect_assert_disj_177866 || loop_not_taken_177871;
            bool index_certs_177873;
            
            if (!protect_assert_disj_177872) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177874 = i_lte_j_177843 && y_177867;
            bool protect_assert_disj_177875 = cond_177827 || ok_or_empty_177868;
            bool index_certs_177876;
            
            if (!protect_assert_disj_177875) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177877 = ok_or_empty_177868 || loop_not_taken_177871;
            bool index_certs_177878;
            
            if (!protect_assert_disj_177877) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177879 = empty_slice_177840 || forwards_ok_177874;
            bool protect_assert_disj_177880 = cond_177827 || ok_or_empty_177879;
            bool index_certs_177881;
            
            if (!protect_assert_disj_177880) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177882 = loop_not_taken_177871 || ok_or_empty_177879;
            bool index_certs_177883;
            
            if (!protect_assert_disj_177882) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181971 = next_stride_177815 * num_merges_177819;
            int64_t binop_x_181973 = (int64_t) 8 * num_merges_177819;
            int64_t bytes_181974 = next_stride_177815 * binop_x_181973;
            int64_t binop_x_181976 = (int64_t) 4 * num_merges_177819;
            int64_t bytes_181977 = next_stride_177815 * binop_x_181976;
            bool i_lte_j_177826 = sle64((int64_t) 0, next_stride_177815);
            
            if (mem_181972_cached_sizze_182890 < bytes_181971) {
                err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182890, bytes_181971);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181975_cached_sizze_182891 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181975, &mem_181975_cached_sizze_182891, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181978_cached_sizze_182892 < bytes_181977) {
                err = lexical_realloc(ctx, &mem_181978, &mem_181978_cached_sizze_182892, bytes_181977);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181991 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836;
            int64_t binop_x_182009 = (int64_t) 8 * num_blocks_177835;
            int64_t bytes_182010 = merge_block_sizze_177652 * binop_x_182009;
            int64_t binop_x_182012 = (int64_t) 4 * num_blocks_177835;
            int64_t bytes_182013 = merge_block_sizze_177652 * binop_x_182012;
            int64_t bytes_182074 = (int64_t) 16 * stride_177814;
            int64_t bytes_182076 = (int64_t) 8 * stride_177814;
            
            for (int64_t i_180907 = 0; i_180907 < num_merges_177819; i_180907++) {
                int64_t start_177888 = mul64(next_stride_177815, i_180907);
                int64_t j_m_i_177889 = sub64(loop_dz2084Uz2082U_177809, start_177888);
                bool empty_slice_177890 = j_m_i_177889 == (int64_t) 0;
                int64_t m_177891 = sub64(j_m_i_177889, (int64_t) 1);
                int64_t i_p_m_t_s_177892 = add64(start_177888, m_177891);
                bool zzero_leq_i_p_m_t_s_177893 = sle64((int64_t) 0, i_p_m_t_s_177892);
                bool i_p_m_t_s_leq_w_177894 = slt64(i_p_m_t_s_177892, loop_dz2084Uz2082U_177809);
                bool zzero_lte_i_177895 = sle64((int64_t) 0, start_177888);
                bool i_lte_j_177896 = sle64(start_177888, loop_dz2084Uz2082U_177809);
                bool y_177897 = i_p_m_t_s_leq_w_177894 && zzero_lte_i_177895;
                bool y_177898 = zzero_leq_i_p_m_t_s_177893 && y_177897;
                bool forwards_ok_177899 = i_lte_j_177896 && y_177898;
                bool ok_or_empty_177900 = empty_slice_177890 || forwards_ok_177899;
                bool index_certs_177901;
                
                if (!ok_or_empty_177900) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177888, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177809, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177902 = slt64(m_177824, j_m_i_177889);
                bool y_177903 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177902;
                bool forwards_ok_177904 = i_lte_j_177826 && y_177903;
                bool ok_or_empty_177905 = zzero_177816 || forwards_ok_177904;
                bool index_certs_177906;
                
                if (!ok_or_empty_177905) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) j_m_i_177889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177827) {
                    int8_t dummy_180551;
                    int64_t dummy_180552;
                    float dummy_180553;
                    
                    if (cond_177847) {
                        int8_t head_res_180554 = ((int8_t *) mem_param_181964.mem)[start_177888];
                        int64_t head_res_180555 = ((int64_t *) mem_param_181967.mem)[start_177888];
                        float head_res_180556 = ((float *) mem_param_181970.mem)[start_177888];
                        
                        dummy_180551 = head_res_180554;
                        dummy_180552 = head_res_180555;
                        dummy_180553 = head_res_180556;
                    } else {
                        int64_t slice_180557 = stride_177814 + start_177888;
                        int8_t head_res_180558 = ((int8_t *) mem_param_181964.mem)[slice_180557];
                        int64_t head_res_180559 = ((int64_t *) mem_param_181967.mem)[slice_180557];
                        float head_res_180560 = ((float *) mem_param_181970.mem)[slice_180557];
                        
                        dummy_180551 = head_res_180558;
                        dummy_180552 = head_res_180559;
                        dummy_180553 = head_res_180560;
                    }
                    if (memblock_alloc(ctx, &mem_182073, next_stride_177815, "mem_182073")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182700 = 0; nest_i_182700 < next_stride_177815; nest_i_182700++) {
                        ((int8_t *) mem_182073.mem)[nest_i_182700] = dummy_180551;
                    }
                    if (memblock_alloc(ctx, &mem_182075, bytes_182074, "mem_182075")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182701 = 0; nest_i_182701 < next_stride_177815; nest_i_182701++) {
                        ((int64_t *) mem_182075.mem)[nest_i_182701] = dummy_180552;
                    }
                    if (memblock_alloc(ctx, &mem_182077, bytes_182076, "mem_182077")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182702 = 0; nest_i_182702 < next_stride_177815; nest_i_182702++) {
                        ((float *) mem_182077.mem)[nest_i_182702] = dummy_180553;
                    }
                    
                    int64_t data_180564;
                    int64_t i_180569 = (int64_t) 0;
                    
                    for (int64_t k_180568 = 0; k_180568 < next_stride_177815; k_180568++) {
                        int64_t j_180573 = sub64(k_180568, i_180569);
                        bool cond_180574 = j_180573 == j_m_i_177837;
                        bool cond_180575;
                        
                        if (cond_180574) {
                            cond_180575 = 1;
                        } else {
                            bool cond_180576 = slt64(i_180569, stride_177814);
                            bool cond_f_res_180577;
                            
                            if (cond_180576) {
                                bool x_180578 = sle64((int64_t) 0, j_180573);
                                bool y_180579 = slt64(j_180573, j_m_i_177837);
                                bool bounds_check_180580 = x_180578 && y_180579;
                                bool index_certs_180581;
                                
                                if (!bounds_check_180580) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180587 = sle64((int64_t) 0, i_180569);
                                bool bounds_check_180588 = cond_180576 && x_180587;
                                bool index_certs_180589;
                                
                                if (!bounds_check_180588) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180582 = stride_177814 + j_180573;
                                int64_t slice_180583 = start_177888 + slice_180582;
                                int8_t leq_arg1_180584 = ((int8_t *) mem_param_181964.mem)[slice_180583];
                                int64_t leq_arg1_180585 = ((int64_t *) mem_param_181967.mem)[slice_180583];
                                float leq_arg1_180586 = ((float *) mem_param_181970.mem)[slice_180583];
                                int64_t slice_180590 = start_177888 + i_180569;
                                int8_t leq_arg0_180591 = ((int8_t *) mem_param_181964.mem)[slice_180590];
                                int64_t leq_arg0_180592 = ((int64_t *) mem_param_181967.mem)[slice_180590];
                                float leq_arg0_180593 = ((float *) mem_param_181970.mem)[slice_180590];
                                bool cond_180594 = leq_arg0_180591 == leq_arg1_180584;
                                bool defunc_0_leq_res_t_res_180595 = sle64(leq_arg0_180592, leq_arg1_180585);
                                bool defunc_0_leq_res_180596 = leq_arg0_180593 <= leq_arg1_180586;
                                bool x_180597 = cond_180594 && defunc_0_leq_res_t_res_180595;
                                bool x_180598 = !cond_180594;
                                bool y_180599 = defunc_0_leq_res_180596 && x_180598;
                                bool defunc_0_leq_res_180600 = x_180597 || y_180599;
                                
                                cond_f_res_180577 = defunc_0_leq_res_180600;
                            } else {
                                cond_f_res_180577 = 0;
                            }
                            cond_180575 = cond_f_res_180577;
                        }
                        
                        int64_t loopres_180601;
                        int8_t loopres_180602;
                        int64_t loopres_180603;
                        float loopres_180604;
                        
                        if (cond_180575) {
                            bool x_180606 = sle64((int64_t) 0, i_180569);
                            bool y_180607 = slt64(i_180569, stride_177814);
                            bool bounds_check_180608 = x_180606 && y_180607;
                            bool index_certs_180609;
                            
                            if (!bounds_check_180608) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180605 = add64((int64_t) 1, i_180569);
                            int64_t slice_180610 = start_177888 + i_180569;
                            int8_t tmp_180611 = ((int8_t *) mem_param_181964.mem)[slice_180610];
                            int64_t tmp_180612 = ((int64_t *) mem_param_181967.mem)[slice_180610];
                            float tmp_180613 = ((float *) mem_param_181970.mem)[slice_180610];
                            
                            loopres_180601 = tmp_180605;
                            loopres_180602 = tmp_180611;
                            loopres_180603 = tmp_180612;
                            loopres_180604 = tmp_180613;
                        } else {
                            bool x_180614 = sle64((int64_t) 0, j_180573);
                            bool y_180615 = slt64(j_180573, j_m_i_177837);
                            bool bounds_check_180616 = x_180614 && y_180615;
                            bool index_certs_180617;
                            
                            if (!bounds_check_180616) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180618 = stride_177814 + j_180573;
                            int64_t slice_180619 = start_177888 + slice_180618;
                            int8_t tmp_180620 = ((int8_t *) mem_param_181964.mem)[slice_180619];
                            int64_t tmp_180621 = ((int64_t *) mem_param_181967.mem)[slice_180619];
                            float tmp_180622 = ((float *) mem_param_181970.mem)[slice_180619];
                            
                            loopres_180601 = i_180569;
                            loopres_180602 = tmp_180620;
                            loopres_180603 = tmp_180621;
                            loopres_180604 = tmp_180622;
                        }
                        ((int8_t *) mem_182073.mem)[k_180568] = loopres_180602;
                        ((int64_t *) mem_182075.mem)[k_180568] = loopres_180603;
                        ((float *) mem_182077.mem)[k_180568] = loopres_180604;
                        
                        int64_t i_tmp_182703 = loopres_180601;
                        
                        i_180569 = i_tmp_182703;
                    }
                    data_180564 = i_180569;
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182073, "mem_182073") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182075, "mem_182075") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182077, "mem_182077") != 0)
                        return 1;
                } else {
                    if (mem_181992_cached_sizze_182893 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181992, &mem_181992_cached_sizze_182893, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182894 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182894, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180888 = 0; i_180888 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836; i_180888++) {
                        int64_t split_count_arg3_177989 = mul64(merge_block_sizze_177652, i_180888);
                        int64_t defunc_0_split_count_res_177990;
                        int64_t defunc_0_split_count_res_177991;
                        int64_t defunc_0_split_count_res_177992;
                        int64_t defunc_0_split_count_res_177993;
                        int64_t defunc_0_split_count_res_177994;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177990, &defunc_0_split_count_res_177991, &defunc_0_split_count_res_177992, &defunc_0_split_count_res_177993, &defunc_0_split_count_res_177994, (int64_t) 0, stride_177814, (int64_t) 0, j_m_i_177837, split_count_arg3_177989) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177995 = slt64((int64_t) 0, defunc_0_split_count_res_177994);
                        bool defunc_0_split_count_res_177996;
                        int64_t defunc_0_split_count_res_177997;
                        int64_t defunc_0_split_count_res_177998;
                        int64_t defunc_0_split_count_res_177999;
                        int64_t defunc_0_split_count_res_178000;
                        int64_t defunc_0_split_count_res_178001;
                        bool loop_while_178002;
                        int64_t ss_178003;
                        int64_t ss_178004;
                        int64_t tt_178005;
                        int64_t tt_178006;
                        int64_t count_178007;
                        
                        loop_while_178002 = loop_cond_177995;
                        ss_178003 = defunc_0_split_count_res_177990;
                        ss_178004 = defunc_0_split_count_res_177991;
                        tt_178005 = defunc_0_split_count_res_177992;
                        tt_178006 = defunc_0_split_count_res_177993;
                        count_178007 = defunc_0_split_count_res_177994;
                        while (loop_while_178002) {
                            int64_t zlze_lhs_178008 = sub64(ss_178004, ss_178003);
                            bool cond_178009 = sle64(zlze_lhs_178008, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178010;
                            int64_t defunc_0_lifted_step_res_178011;
                            int64_t defunc_0_lifted_step_res_178012;
                            int64_t defunc_0_lifted_step_res_178013;
                            
                            if (cond_178009) {
                                int64_t tmp_180626 = add64(tt_178005, count_178007);
                                
                                defunc_0_lifted_step_res_178010 = ss_178003;
                                defunc_0_lifted_step_res_178011 = tmp_180626;
                                defunc_0_lifted_step_res_178012 = tt_178006;
                                defunc_0_lifted_step_res_178013 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178015 = sub64(tt_178006, tt_178005);
                                bool cond_178016 = sle64(zlze_lhs_178015, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178017;
                                int64_t defunc_0_lifted_step_res_f_res_178018;
                                int64_t defunc_0_lifted_step_res_f_res_178019;
                                int64_t defunc_0_lifted_step_res_f_res_178020;
                                
                                if (cond_178016) {
                                    int64_t tmp_180627 = add64(ss_178003, count_178007);
                                    
                                    defunc_0_lifted_step_res_f_res_178017 = tmp_180627;
                                    defunc_0_lifted_step_res_f_res_178018 = tt_178005;
                                    defunc_0_lifted_step_res_f_res_178019 = tt_178006;
                                    defunc_0_lifted_step_res_f_res_178020 = (int64_t) 0;
                                } else {
                                    bool cond_178022 = count_178007 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178023;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178024;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178025;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178026;
                                    
                                    if (cond_178022) {
                                        bool x_180629 = sle64((int64_t) 0, ss_178003);
                                        bool y_180630 = slt64(ss_178003, stride_177814);
                                        bool bounds_check_180631 = x_180629 && y_180630;
                                        bool index_certs_180632;
                                        
                                        if (!bounds_check_180631) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178003, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180637 = sle64((int64_t) 0, tt_178005);
                                        bool y_180638 = slt64(tt_178005, j_m_i_177837);
                                        bool bounds_check_180639 = x_180637 && y_180638;
                                        bool index_certs_180640;
                                        
                                        if (!bounds_check_180639) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178005, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180633 = start_177888 + ss_178003;
                                        int8_t leq_arg1_180634 = ((int8_t *) mem_param_181964.mem)[slice_180633];
                                        int64_t leq_arg1_180635 = ((int64_t *) mem_param_181967.mem)[slice_180633];
                                        float leq_arg1_180636 = ((float *) mem_param_181970.mem)[slice_180633];
                                        int64_t slice_180641 = stride_177814 + tt_178005;
                                        int64_t slice_180642 = start_177888 + slice_180641;
                                        int8_t leq_arg0_180643 = ((int8_t *) mem_param_181964.mem)[slice_180642];
                                        int64_t leq_arg0_180644 = ((int64_t *) mem_param_181967.mem)[slice_180642];
                                        float leq_arg0_180645 = ((float *) mem_param_181970.mem)[slice_180642];
                                        bool cond_180646 = leq_arg0_180643 == leq_arg1_180634;
                                        bool defunc_0_leq_res_t_res_180647 = sle64(leq_arg0_180644, leq_arg1_180635);
                                        bool defunc_0_leq_res_180648 = leq_arg0_180645 <= leq_arg1_180636;
                                        bool x_180649 = cond_180646 && defunc_0_leq_res_t_res_180647;
                                        bool x_180650 = !cond_180646;
                                        bool y_180651 = defunc_0_leq_res_180648 && x_180650;
                                        bool defunc_0_leq_res_180652 = x_180649 || y_180651;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        
                                        if (defunc_0_leq_res_180652) {
                                            int64_t tmp_180655 = add64((int64_t) 1, tt_178005);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = ss_178003;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tmp_180655;
                                        } else {
                                            int64_t tmp_180656 = add64((int64_t) 1, ss_178003);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = tmp_180656;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tt_178005;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = tt_178006;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = (int64_t) 0;
                                    } else {
                                        int64_t m_178055 = sdiv64(count_178007, (int64_t) 2);
                                        int64_t n_178056 = sub64(count_178007, m_178055);
                                        bool cond_178057 = n_178056 == (int64_t) 0;
                                        int64_t zgze_lhs_178058 = add64(ss_178003, m_178055);
                                        bool cond_f_res_178059 = sle64(ss_178004, zgze_lhs_178058);
                                        bool x_178060 = !cond_178057;
                                        bool y_178061 = cond_f_res_178059 && x_178060;
                                        bool cond_178062 = cond_178057 || y_178061;
                                        bool leq_y_x_178063;
                                        
                                        if (cond_178062) {
                                            leq_y_x_178063 = 1;
                                        } else {
                                            bool x_178064 = sle64((int64_t) 0, zgze_lhs_178058);
                                            bool y_178065 = slt64(zgze_lhs_178058, stride_177814);
                                            bool bounds_check_178066 = x_178064 && y_178065;
                                            bool index_certs_178067;
                                            
                                            if (!bounds_check_178066) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178058, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178072 = add64(tt_178005, n_178056);
                                            int64_t leq_arg0_178073 = sub64(zm_lhs_178072, (int64_t) 1);
                                            bool x_178074 = sle64((int64_t) 0, leq_arg0_178073);
                                            bool y_178075 = slt64(leq_arg0_178073, j_m_i_177837);
                                            bool bounds_check_178076 = x_178074 && y_178075;
                                            bool index_certs_178077;
                                            
                                            if (!bounds_check_178076) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178073, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178068 = start_177888 + zgze_lhs_178058;
                                            int8_t leq_arg1_178069 = ((int8_t *) mem_param_181964.mem)[slice_178068];
                                            int64_t leq_arg1_178070 = ((int64_t *) mem_param_181967.mem)[slice_178068];
                                            float leq_arg1_178071 = ((float *) mem_param_181970.mem)[slice_178068];
                                            int64_t slice_178078 = stride_177814 + leq_arg0_178073;
                                            int64_t slice_178079 = start_177888 + slice_178078;
                                            int8_t leq_arg0_178080 = ((int8_t *) mem_param_181964.mem)[slice_178079];
                                            int64_t leq_arg0_178081 = ((int64_t *) mem_param_181967.mem)[slice_178079];
                                            float leq_arg0_178082 = ((float *) mem_param_181970.mem)[slice_178079];
                                            bool cond_178083 = leq_arg0_178080 == leq_arg1_178069;
                                            bool defunc_0_leq_res_t_res_178084 = sle64(leq_arg0_178081, leq_arg1_178070);
                                            bool defunc_0_leq_res_178085 = leq_arg0_178082 <= leq_arg1_178071;
                                            bool x_178086 = cond_178083 && defunc_0_leq_res_t_res_178084;
                                            bool x_178087 = !cond_178083;
                                            bool y_178088 = defunc_0_leq_res_178085 && x_178087;
                                            bool defunc_0_leq_res_178089 = x_178086 || y_178088;
                                            
                                            leq_y_x_178063 = defunc_0_leq_res_178089;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                        
                                        if (leq_y_x_178063) {
                                            int64_t tmp_180657 = add64(tt_178005, n_178056);
                                            int64_t tmp_180658 = sub64(count_178007, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tmp_180657;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tt_178006;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = tmp_180658;
                                        } else {
                                            int64_t tmp_178095 = add64(tt_178005, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tt_178005;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tmp_178095;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = count_178007;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = ss_178003;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                    }
                                    defunc_0_lifted_step_res_f_res_178017 = defunc_0_lifted_step_res_f_res_f_res_178023;
                                    defunc_0_lifted_step_res_f_res_178018 = defunc_0_lifted_step_res_f_res_f_res_178024;
                                    defunc_0_lifted_step_res_f_res_178019 = defunc_0_lifted_step_res_f_res_f_res_178025;
                                    defunc_0_lifted_step_res_f_res_178020 = defunc_0_lifted_step_res_f_res_f_res_178026;
                                }
                                defunc_0_lifted_step_res_178010 = defunc_0_lifted_step_res_f_res_178017;
                                defunc_0_lifted_step_res_178011 = defunc_0_lifted_step_res_f_res_178018;
                                defunc_0_lifted_step_res_178012 = defunc_0_lifted_step_res_f_res_178019;
                                defunc_0_lifted_step_res_178013 = defunc_0_lifted_step_res_f_res_178020;
                            }
                            
                            int64_t loopres_178096;
                            int64_t loopres_178097;
                            int64_t loopres_178098;
                            int64_t loopres_178099;
                            int64_t loopres_178100;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_178096, &loopres_178097, &loopres_178098, &loopres_178099, &loopres_178100, defunc_0_lifted_step_res_178010, ss_178004, defunc_0_lifted_step_res_178011, defunc_0_lifted_step_res_178012, defunc_0_lifted_step_res_178013) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178101 = slt64((int64_t) 0, loopres_178100);
                            bool loop_while_tmp_182709 = loop_cond_178101;
                            int64_t ss_tmp_182710 = loopres_178096;
                            int64_t ss_tmp_182711 = loopres_178097;
                            int64_t tt_tmp_182712 = loopres_178098;
                            int64_t tt_tmp_182713 = loopres_178099;
                            int64_t count_tmp_182714 = loopres_178100;
                            
                            loop_while_178002 = loop_while_tmp_182709;
                            ss_178003 = ss_tmp_182710;
                            ss_178004 = ss_tmp_182711;
                            tt_178005 = tt_tmp_182712;
                            tt_178006 = tt_tmp_182713;
                            count_178007 = count_tmp_182714;
                        }
                        defunc_0_split_count_res_177996 = loop_while_178002;
                        defunc_0_split_count_res_177997 = ss_178003;
                        defunc_0_split_count_res_177998 = ss_178004;
                        defunc_0_split_count_res_177999 = tt_178005;
                        defunc_0_split_count_res_178000 = tt_178006;
                        defunc_0_split_count_res_178001 = count_178007;
                        ((int64_t *) mem_181992)[i_180888] = defunc_0_split_count_res_177997;
                        ((int64_t *) mem_181994)[i_180888] = defunc_0_split_count_res_177999;
                    }
                    if (mem_182008_cached_sizze_182895 < flat_dim_177838) {
                        err = lexical_realloc(ctx, &mem_182008, &mem_182008_cached_sizze_182895, flat_dim_177838);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182011_cached_sizze_182896 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182011, &mem_182011_cached_sizze_182896, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182014_cached_sizze_182897 < bytes_182013) {
                        err = lexical_realloc(ctx, &mem_182014, &mem_182014_cached_sizze_182897, bytes_182013);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180897 = 0; i_180897 < num_blocks_177835; i_180897++) {
                        bool y_178108 = slt64(i_180897, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool index_certs_178110;
                        
                        if (!y_178108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178111 = ((int64_t *) mem_181992)[i_180897];
                        int64_t defunc_0_f_res_178112 = ((int64_t *) mem_181994)[i_180897];
                        int64_t tmp_178113 = add64((int64_t) 1, i_180897);
                        bool x_178114 = sle64((int64_t) 0, tmp_178113);
                        bool y_178115 = slt64(tmp_178113, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool bounds_check_178116 = x_178114 && y_178115;
                        bool index_certs_178117;
                        
                        if (!bounds_check_178116) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178113, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178118 = ((int64_t *) mem_181992)[tmp_178113];
                        int64_t defunc_0_f_res_178119 = ((int64_t *) mem_181994)[tmp_178113];
                        int64_t merge_sequential_arg2_178120 = add64(stride_177814, defunc_0_f_res_178112);
                        int64_t merge_sequential_arg2_178121 = add64(stride_177814, defunc_0_f_res_178119);
                        int64_t j_m_i_178122 = sub64(merge_sequential_arg2_178121, merge_sequential_arg2_178120);
                        bool empty_slice_178123 = j_m_i_178122 == (int64_t) 0;
                        int64_t m_178124 = sub64(j_m_i_178122, (int64_t) 1);
                        int64_t i_p_m_t_s_178125 = add64(merge_sequential_arg2_178120, m_178124);
                        bool zzero_leq_i_p_m_t_s_178126 = sle64((int64_t) 0, i_p_m_t_s_178125);
                        bool i_p_m_t_s_leq_w_178127 = slt64(i_p_m_t_s_178125, next_stride_177815);
                        bool zzero_lte_i_178128 = sle64((int64_t) 0, merge_sequential_arg2_178120);
                        bool i_lte_j_178129 = sle64(merge_sequential_arg2_178120, merge_sequential_arg2_178121);
                        bool y_178130 = i_p_m_t_s_leq_w_178127 && zzero_lte_i_178128;
                        bool y_178131 = zzero_leq_i_p_m_t_s_178126 && y_178130;
                        bool forwards_ok_178132 = i_lte_j_178129 && y_178131;
                        bool ok_or_empty_178133 = empty_slice_178123 || forwards_ok_178132;
                        bool index_certs_178134;
                        
                        if (!ok_or_empty_178133) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178120, ":", (long long) merge_sequential_arg2_178121, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178135 = sub64(defunc_0_f_res_178118, defunc_0_f_res_178111);
                        bool empty_slice_178136 = j_m_i_178135 == (int64_t) 0;
                        int64_t m_178137 = sub64(j_m_i_178135, (int64_t) 1);
                        int64_t i_p_m_t_s_178138 = add64(defunc_0_f_res_178111, m_178137);
                        bool zzero_leq_i_p_m_t_s_178139 = sle64((int64_t) 0, i_p_m_t_s_178138);
                        bool i_p_m_t_s_leq_w_178140 = slt64(i_p_m_t_s_178138, next_stride_177815);
                        bool zzero_lte_i_178141 = sle64((int64_t) 0, defunc_0_f_res_178111);
                        bool i_lte_j_178142 = sle64(defunc_0_f_res_178111, defunc_0_f_res_178118);
                        bool y_178143 = i_p_m_t_s_leq_w_178140 && zzero_lte_i_178141;
                        bool y_178144 = zzero_leq_i_p_m_t_s_178139 && y_178143;
                        bool forwards_ok_178145 = i_lte_j_178142 && y_178144;
                        bool ok_or_empty_178146 = empty_slice_178136 || forwards_ok_178145;
                        bool index_certs_178147;
                        
                        if (!ok_or_empty_178146) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178111, ":", (long long) defunc_0_f_res_178118, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178148 = slt64((int64_t) 0, j_m_i_178135);
                        int8_t dummy_178149;
                        int64_t dummy_178150;
                        float dummy_178151;
                        
                        if (cond_178148) {
                            bool index_certs_180659;
                            
                            if (!cond_178148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180660 = start_177888 + defunc_0_f_res_178111;
                            int8_t head_res_180661 = ((int8_t *) mem_param_181964.mem)[slice_180660];
                            int64_t head_res_180662 = ((int64_t *) mem_param_181967.mem)[slice_180660];
                            float head_res_180663 = ((float *) mem_param_181970.mem)[slice_180660];
                            
                            dummy_178149 = head_res_180661;
                            dummy_178150 = head_res_180662;
                            dummy_178151 = head_res_180663;
                        } else {
                            bool y_178157 = slt64((int64_t) 0, j_m_i_178122);
                            bool index_certs_178158;
                            
                            if (!y_178157) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178159 = start_177888 + merge_sequential_arg2_178120;
                            int8_t head_res_178160 = ((int8_t *) mem_param_181964.mem)[slice_178159];
                            int64_t head_res_178161 = ((int64_t *) mem_param_181967.mem)[slice_178159];
                            float head_res_178162 = ((float *) mem_param_181970.mem)[slice_178159];
                            
                            dummy_178149 = head_res_178160;
                            dummy_178150 = head_res_178161;
                            dummy_178151 = head_res_178162;
                        }
                        for (int64_t nest_i_182718 = 0; nest_i_182718 < merge_block_sizze_177652; nest_i_182718++) {
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + nest_i_182718] = dummy_178149;
                        }
                        for (int64_t nest_i_182719 = 0; nest_i_182719 < merge_block_sizze_177652; nest_i_182719++) {
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + nest_i_182719] = dummy_178150;
                        }
                        for (int64_t nest_i_182720 = 0; nest_i_182720 < merge_block_sizze_177652; nest_i_182720++) {
                            ((float *) mem_182014)[i_180897 * merge_block_sizze_177652 + nest_i_182720] = dummy_178151;
                        }
                        
                        int64_t data_178166;
                        int64_t i_178171 = (int64_t) 0;
                        
                        for (int64_t k_178170 = 0; k_178170 < merge_block_sizze_177652; k_178170++) {
                            int64_t j_178175 = sub64(k_178170, i_178171);
                            bool cond_178176 = j_178175 == j_m_i_178122;
                            bool cond_178177;
                            
                            if (cond_178176) {
                                cond_178177 = 1;
                            } else {
                                bool cond_178178 = slt64(i_178171, j_m_i_178135);
                                bool cond_f_res_178179;
                                
                                if (cond_178178) {
                                    bool x_180664 = sle64((int64_t) 0, j_178175);
                                    bool y_180665 = slt64(j_178175, j_m_i_178122);
                                    bool bounds_check_180666 = x_180664 && y_180665;
                                    bool index_certs_180667;
                                    
                                    if (!bounds_check_180666) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180673 = sle64((int64_t) 0, i_178171);
                                    bool bounds_check_180674 = cond_178178 && x_180673;
                                    bool index_certs_180675;
                                    
                                    if (!bounds_check_180674) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180668 = merge_sequential_arg2_178120 + j_178175;
                                    int64_t slice_180669 = start_177888 + slice_180668;
                                    int8_t leq_arg1_180670 = ((int8_t *) mem_param_181964.mem)[slice_180669];
                                    int64_t leq_arg1_180671 = ((int64_t *) mem_param_181967.mem)[slice_180669];
                                    float leq_arg1_180672 = ((float *) mem_param_181970.mem)[slice_180669];
                                    int64_t slice_180676 = defunc_0_f_res_178111 + i_178171;
                                    int64_t slice_180677 = start_177888 + slice_180676;
                                    int8_t leq_arg0_180678 = ((int8_t *) mem_param_181964.mem)[slice_180677];
                                    int64_t leq_arg0_180679 = ((int64_t *) mem_param_181967.mem)[slice_180677];
                                    float leq_arg0_180680 = ((float *) mem_param_181970.mem)[slice_180677];
                                    bool cond_180681 = leq_arg0_180678 == leq_arg1_180670;
                                    bool defunc_0_leq_res_t_res_180682 = sle64(leq_arg0_180679, leq_arg1_180671);
                                    bool defunc_0_leq_res_180683 = leq_arg0_180680 <= leq_arg1_180672;
                                    bool x_180684 = cond_180681 && defunc_0_leq_res_t_res_180682;
                                    bool x_180685 = !cond_180681;
                                    bool y_180686 = defunc_0_leq_res_180683 && x_180685;
                                    bool defunc_0_leq_res_180687 = x_180684 || y_180686;
                                    
                                    cond_f_res_178179 = defunc_0_leq_res_180687;
                                } else {
                                    cond_f_res_178179 = 0;
                                }
                                cond_178177 = cond_f_res_178179;
                            }
                            
                            int64_t loopres_178204;
                            int8_t loopres_178205;
                            int64_t loopres_178206;
                            float loopres_178207;
                            
                            if (cond_178177) {
                                bool x_180689 = sle64((int64_t) 0, i_178171);
                                bool y_180690 = slt64(i_178171, j_m_i_178135);
                                bool bounds_check_180691 = x_180689 && y_180690;
                                bool index_certs_180692;
                                
                                if (!bounds_check_180691) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180688 = add64((int64_t) 1, i_178171);
                                int64_t slice_180693 = defunc_0_f_res_178111 + i_178171;
                                int64_t slice_180694 = start_177888 + slice_180693;
                                int8_t tmp_180695 = ((int8_t *) mem_param_181964.mem)[slice_180694];
                                int64_t tmp_180696 = ((int64_t *) mem_param_181967.mem)[slice_180694];
                                float tmp_180697 = ((float *) mem_param_181970.mem)[slice_180694];
                                
                                loopres_178204 = tmp_180688;
                                loopres_178205 = tmp_180695;
                                loopres_178206 = tmp_180696;
                                loopres_178207 = tmp_180697;
                            } else {
                                bool x_178218 = sle64((int64_t) 0, j_178175);
                                bool y_178219 = slt64(j_178175, j_m_i_178122);
                                bool bounds_check_178220 = x_178218 && y_178219;
                                bool index_certs_178221;
                                
                                if (!bounds_check_178220) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178222 = merge_sequential_arg2_178120 + j_178175;
                                int64_t slice_178223 = start_177888 + slice_178222;
                                int8_t tmp_178224 = ((int8_t *) mem_param_181964.mem)[slice_178223];
                                int64_t tmp_178225 = ((int64_t *) mem_param_181967.mem)[slice_178223];
                                float tmp_178226 = ((float *) mem_param_181970.mem)[slice_178223];
                                
                                loopres_178204 = i_178171;
                                loopres_178205 = tmp_178224;
                                loopres_178206 = tmp_178225;
                                loopres_178207 = tmp_178226;
                            }
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178205;
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178206;
                            ((float *) mem_182014)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178207;
                            
                            int64_t i_tmp_182721 = loopres_178204;
                            
                            i_178171 = i_tmp_182721;
                        }
                        data_178166 = i_178171;
                    }
                    if (memblock_alloc(ctx, &mem_182063, flat_dim_177838, "mem_182063")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182063.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint8_t *) mem_182008, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182067, bytes_182010, "mem_182067")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182067.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182011, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182071, bytes_182013, "mem_182071")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182071.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint32_t *) mem_182014, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182063, "mem_182063") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182067, "mem_182067") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182071, "mem_182071") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181972, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181975, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181978, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182098.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182118, bytes_181971, "mem_182118")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182118.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint8_t *) mem_181972, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182122, bytes_181974, "mem_182122")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182122.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181975, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182126, bytes_181977, "mem_182126")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182126.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint32_t *) mem_181978, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            
            bool loop_cond_178240 = slt64(next_stride_177815, flat_dim_177647);
            
            if (memblock_set(ctx, &mem_param_tmp_182688, &mem_182118, "mem_182118") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182689, &mem_182122, "mem_182122") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182690, &mem_182126, "mem_182126") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182691 = bytes_181971;
            bool loop_while_tmp_182692 = loop_cond_178240;
            int64_t stride_tmp_182696 = next_stride_177815;
            
            if (memblock_set(ctx, &mem_param_181964, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181967, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181970, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
                return 1;
            loop_dz2084Uz2082U_177809 = loop_dz2084Uz2082U_tmp_182691;
            loop_while_177810 = loop_while_tmp_182692;
            stride_177814 = stride_tmp_182696;
        }
        if (memblock_set(ctx, &ext_mem_182136, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182135, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182134, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        data_177803 = loop_dz2084Uz2082U_177809;
        data_177804 = loop_while_177810;
        data_177808 = stride_177814;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178243 = slt64(zs_lhs_177631, data_177803);
        bool y_178244 = i_p_m_t_s_leq_w_178243 && zzero_leq_i_p_m_t_s_178257;
        bool ok_or_empty_178245 = y_178244 || empty_slice_178255;
        bool index_certs_178246;
        
        if (!ok_or_empty_178245) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) data_177803, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182145, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182145.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181056.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182139.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181056, "mem_181056") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182468, &mem_181058, "mem_181058") != 0)
        return 1;
    prim_out_182469 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    if (memblock_set(ctx, &*mem_out_p_182844, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182845, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182846, &mem_out_182468, "mem_out_182468") != 0)
        return 1;
    *out_prim_out_182847 = prim_out_182469;
    
  cleanup:
    {
        free(mem_181069);
        free(mem_181071);
        free(mem_181110);
        free(mem_181113);
        free(mem_181116);
        free(mem_181129);
        free(mem_181131);
        free(mem_181133);
        free(mem_181230);
        free(mem_181233);
        free(mem_181236);
        free(mem_181250);
        free(mem_181252);
        free(mem_181266);
        free(mem_181269);
        free(mem_181272);
        free(mem_181414);
        free(mem_181416);
        free(mem_181431);
        free(mem_181433);
        free(mem_181436);
        free(mem_181439);
        free(mem_181473);
        free(mem_181476);
        free(mem_181479);
        free(mem_181492);
        free(mem_181494);
        free(mem_181496);
        free(mem_181593);
        free(mem_181596);
        free(mem_181599);
        free(mem_181613);
        free(mem_181615);
        free(mem_181629);
        free(mem_181632);
        free(mem_181635);
        free(mem_181852);
        free(mem_181855);
        free(mem_181858);
        free(mem_181871);
        free(mem_181873);
        free(mem_181875);
        free(mem_181972);
        free(mem_181975);
        free(mem_181978);
        free(mem_181992);
        free(mem_181994);
        free(mem_182008);
        free(mem_182011);
        free(mem_182014);
        if (memblock_unref(ctx, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182126, "mem_182126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182122, "mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182118, "mem_182118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182071, "mem_182071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182067, "mem_182067") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182063, "mem_182063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182077, "mem_182077") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182075, "mem_182075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182073, "mem_182073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181384, "mem_181384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181380, "mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181376, "mem_181376") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181329, "mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181325, "mem_181325") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181321, "mem_181321") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181335, "mem_181335") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181333, "mem_181333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181228, "mem_param_181228") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181225, "mem_param_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181222, "mem_param_181222") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181392, "ext_mem_181392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181393, "ext_mem_181393") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181394, "ext_mem_181394") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181795, "mem_181795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181794, "mem_181794") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181792, "mem_181792") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181747, "mem_181747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181743, "mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181739, "mem_181739") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181692, "mem_181692") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181688, "mem_181688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181684, "mem_181684") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181698, "mem_181698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181696, "mem_181696") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181694, "mem_181694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181591, "mem_param_181591") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181588, "mem_param_181588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181585, "mem_param_181585") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181755, "ext_mem_181755") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181756, "ext_mem_181756") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181757, "ext_mem_181757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181058, "mem_181058") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182468, "mem_out_182468") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182898, struct memblock *mem_out_p_182899, struct memblock *mem_out_p_182900, int64_t *out_prim_out_182901, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_131727, int64_t nb_131728, int64_t window_sizze_131729, int64_t threads_131730, bool inParallel_131733)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181069_cached_sizze_182902 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_182903 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181110_cached_sizze_182904 = 0;
    unsigned char *mem_181110 = NULL;
    int64_t mem_181113_cached_sizze_182905 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181116_cached_sizze_182906 = 0;
    unsigned char *mem_181116 = NULL;
    int64_t mem_181129_cached_sizze_182907 = 0;
    unsigned char *mem_181129 = NULL;
    int64_t mem_181131_cached_sizze_182908 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181133_cached_sizze_182909 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181230_cached_sizze_182910 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181233_cached_sizze_182911 = 0;
    unsigned char *mem_181233 = NULL;
    int64_t mem_181236_cached_sizze_182912 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181250_cached_sizze_182913 = 0;
    unsigned char *mem_181250 = NULL;
    int64_t mem_181252_cached_sizze_182914 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181266_cached_sizze_182915 = 0;
    unsigned char *mem_181266 = NULL;
    int64_t mem_181269_cached_sizze_182916 = 0;
    unsigned char *mem_181269 = NULL;
    int64_t mem_181272_cached_sizze_182917 = 0;
    unsigned char *mem_181272 = NULL;
    int64_t mem_181414_cached_sizze_182918 = 0;
    unsigned char *mem_181414 = NULL;
    int64_t mem_181416_cached_sizze_182919 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181431_cached_sizze_182920 = 0;
    unsigned char *mem_181431 = NULL;
    int64_t mem_181433_cached_sizze_182921 = 0;
    unsigned char *mem_181433 = NULL;
    int64_t mem_181436_cached_sizze_182922 = 0;
    unsigned char *mem_181436 = NULL;
    int64_t mem_181439_cached_sizze_182923 = 0;
    unsigned char *mem_181439 = NULL;
    int64_t mem_181473_cached_sizze_182924 = 0;
    unsigned char *mem_181473 = NULL;
    int64_t mem_181476_cached_sizze_182925 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181479_cached_sizze_182926 = 0;
    unsigned char *mem_181479 = NULL;
    int64_t mem_181492_cached_sizze_182927 = 0;
    unsigned char *mem_181492 = NULL;
    int64_t mem_181494_cached_sizze_182928 = 0;
    unsigned char *mem_181494 = NULL;
    int64_t mem_181496_cached_sizze_182929 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181593_cached_sizze_182930 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181596_cached_sizze_182931 = 0;
    unsigned char *mem_181596 = NULL;
    int64_t mem_181599_cached_sizze_182932 = 0;
    unsigned char *mem_181599 = NULL;
    int64_t mem_181613_cached_sizze_182933 = 0;
    unsigned char *mem_181613 = NULL;
    int64_t mem_181615_cached_sizze_182934 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181629_cached_sizze_182935 = 0;
    unsigned char *mem_181629 = NULL;
    int64_t mem_181632_cached_sizze_182936 = 0;
    unsigned char *mem_181632 = NULL;
    int64_t mem_181635_cached_sizze_182937 = 0;
    unsigned char *mem_181635 = NULL;
    int64_t mem_181852_cached_sizze_182938 = 0;
    unsigned char *mem_181852 = NULL;
    int64_t mem_181855_cached_sizze_182939 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181858_cached_sizze_182940 = 0;
    unsigned char *mem_181858 = NULL;
    int64_t mem_181871_cached_sizze_182941 = 0;
    unsigned char *mem_181871 = NULL;
    int64_t mem_181873_cached_sizze_182942 = 0;
    unsigned char *mem_181873 = NULL;
    int64_t mem_181875_cached_sizze_182943 = 0;
    unsigned char *mem_181875 = NULL;
    int64_t mem_181972_cached_sizze_182944 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181975_cached_sizze_182945 = 0;
    unsigned char *mem_181975 = NULL;
    int64_t mem_181978_cached_sizze_182946 = 0;
    unsigned char *mem_181978 = NULL;
    int64_t mem_181992_cached_sizze_182947 = 0;
    unsigned char *mem_181992 = NULL;
    int64_t mem_181994_cached_sizze_182948 = 0;
    unsigned char *mem_181994 = NULL;
    int64_t mem_182008_cached_sizze_182949 = 0;
    unsigned char *mem_182008 = NULL;
    int64_t mem_182011_cached_sizze_182950 = 0;
    unsigned char *mem_182011 = NULL;
    int64_t mem_182014_cached_sizze_182951 = 0;
    unsigned char *mem_182014 = NULL;
    struct memblock mem_param_tmp_182690;
    
    mem_param_tmp_182690.references = NULL;
    
    struct memblock mem_param_tmp_182689;
    
    mem_param_tmp_182689.references = NULL;
    
    struct memblock mem_param_tmp_182688;
    
    mem_param_tmp_182688.references = NULL;
    
    struct memblock mem_182126;
    
    mem_182126.references = NULL;
    
    struct memblock mem_182122;
    
    mem_182122.references = NULL;
    
    struct memblock mem_182118;
    
    mem_182118.references = NULL;
    
    struct memblock mem_182071;
    
    mem_182071.references = NULL;
    
    struct memblock mem_182067;
    
    mem_182067.references = NULL;
    
    struct memblock mem_182063;
    
    mem_182063.references = NULL;
    
    struct memblock mem_182077;
    
    mem_182077.references = NULL;
    
    struct memblock mem_182075;
    
    mem_182075.references = NULL;
    
    struct memblock mem_182073;
    
    mem_182073.references = NULL;
    
    struct memblock ext_mem_182098;
    
    ext_mem_182098.references = NULL;
    
    struct memblock ext_mem_182101;
    
    ext_mem_182101.references = NULL;
    
    struct memblock ext_mem_182104;
    
    ext_mem_182104.references = NULL;
    
    struct memblock mem_param_181970;
    
    mem_param_181970.references = NULL;
    
    struct memblock mem_param_181967;
    
    mem_param_181967.references = NULL;
    
    struct memblock mem_param_181964;
    
    mem_param_181964.references = NULL;
    
    struct memblock ext_mem_182134;
    
    ext_mem_182134.references = NULL;
    
    struct memblock ext_mem_182135;
    
    ext_mem_182135.references = NULL;
    
    struct memblock ext_mem_182136;
    
    ext_mem_182136.references = NULL;
    
    struct memblock mem_181960;
    
    mem_181960.references = NULL;
    
    struct memblock mem_181956;
    
    mem_181956.references = NULL;
    
    struct memblock mem_181952;
    
    mem_181952.references = NULL;
    
    struct memblock ext_mem_182139;
    
    ext_mem_182139.references = NULL;
    
    struct memblock ext_mem_182142;
    
    ext_mem_182142.references = NULL;
    
    struct memblock ext_mem_182145;
    
    ext_mem_182145.references = NULL;
    
    struct memblock mem_181850;
    
    mem_181850.references = NULL;
    
    struct memblock mem_181848;
    
    mem_181848.references = NULL;
    
    struct memblock mem_181846;
    
    mem_181846.references = NULL;
    
    struct memblock mem_param_tmp_182624;
    
    mem_param_tmp_182624.references = NULL;
    
    struct memblock mem_param_tmp_182623;
    
    mem_param_tmp_182623.references = NULL;
    
    struct memblock mem_param_tmp_182622;
    
    mem_param_tmp_182622.references = NULL;
    
    struct memblock mem_181384;
    
    mem_181384.references = NULL;
    
    struct memblock mem_181380;
    
    mem_181380.references = NULL;
    
    struct memblock mem_181376;
    
    mem_181376.references = NULL;
    
    struct memblock mem_181329;
    
    mem_181329.references = NULL;
    
    struct memblock mem_181325;
    
    mem_181325.references = NULL;
    
    struct memblock mem_181321;
    
    mem_181321.references = NULL;
    
    struct memblock mem_181335;
    
    mem_181335.references = NULL;
    
    struct memblock mem_181333;
    
    mem_181333.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock ext_mem_181356;
    
    ext_mem_181356.references = NULL;
    
    struct memblock ext_mem_181359;
    
    ext_mem_181359.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock mem_param_181228;
    
    mem_param_181228.references = NULL;
    
    struct memblock mem_param_181225;
    
    mem_param_181225.references = NULL;
    
    struct memblock mem_param_181222;
    
    mem_param_181222.references = NULL;
    
    struct memblock ext_mem_181392;
    
    ext_mem_181392.references = NULL;
    
    struct memblock ext_mem_181393;
    
    ext_mem_181393.references = NULL;
    
    struct memblock ext_mem_181394;
    
    ext_mem_181394.references = NULL;
    
    struct memblock mem_181218;
    
    mem_181218.references = NULL;
    
    struct memblock mem_181214;
    
    mem_181214.references = NULL;
    
    struct memblock mem_181210;
    
    mem_181210.references = NULL;
    
    struct memblock ext_mem_181397;
    
    ext_mem_181397.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181403;
    
    ext_mem_181403.references = NULL;
    
    struct memblock mem_181108;
    
    mem_181108.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock mem_181104;
    
    mem_181104.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181795;
    
    mem_181795.references = NULL;
    
    struct memblock mem_181794;
    
    mem_181794.references = NULL;
    
    struct memblock mem_181792;
    
    mem_181792.references = NULL;
    
    struct memblock mem_param_tmp_182530;
    
    mem_param_tmp_182530.references = NULL;
    
    struct memblock mem_param_tmp_182529;
    
    mem_param_tmp_182529.references = NULL;
    
    struct memblock mem_param_tmp_182528;
    
    mem_param_tmp_182528.references = NULL;
    
    struct memblock mem_181747;
    
    mem_181747.references = NULL;
    
    struct memblock mem_181743;
    
    mem_181743.references = NULL;
    
    struct memblock mem_181739;
    
    mem_181739.references = NULL;
    
    struct memblock mem_181692;
    
    mem_181692.references = NULL;
    
    struct memblock mem_181688;
    
    mem_181688.references = NULL;
    
    struct memblock mem_181684;
    
    mem_181684.references = NULL;
    
    struct memblock mem_181698;
    
    mem_181698.references = NULL;
    
    struct memblock mem_181696;
    
    mem_181696.references = NULL;
    
    struct memblock mem_181694;
    
    mem_181694.references = NULL;
    
    struct memblock ext_mem_181719;
    
    ext_mem_181719.references = NULL;
    
    struct memblock ext_mem_181722;
    
    ext_mem_181722.references = NULL;
    
    struct memblock ext_mem_181725;
    
    ext_mem_181725.references = NULL;
    
    struct memblock mem_param_181591;
    
    mem_param_181591.references = NULL;
    
    struct memblock mem_param_181588;
    
    mem_param_181588.references = NULL;
    
    struct memblock mem_param_181585;
    
    mem_param_181585.references = NULL;
    
    struct memblock ext_mem_181755;
    
    ext_mem_181755.references = NULL;
    
    struct memblock ext_mem_181756;
    
    ext_mem_181756.references = NULL;
    
    struct memblock ext_mem_181757;
    
    ext_mem_181757.references = NULL;
    
    struct memblock mem_181581;
    
    mem_181581.references = NULL;
    
    struct memblock mem_181577;
    
    mem_181577.references = NULL;
    
    struct memblock mem_181573;
    
    mem_181573.references = NULL;
    
    struct memblock ext_mem_181760;
    
    ext_mem_181760.references = NULL;
    
    struct memblock ext_mem_181763;
    
    ext_mem_181763.references = NULL;
    
    struct memblock ext_mem_181766;
    
    ext_mem_181766.references = NULL;
    
    struct memblock mem_181471;
    
    mem_181471.references = NULL;
    
    struct memblock mem_181469;
    
    mem_181469.references = NULL;
    
    struct memblock mem_181467;
    
    mem_181467.references = NULL;
    
    struct memblock ext_mem_181816;
    
    ext_mem_181816.references = NULL;
    
    struct memblock ext_mem_181819;
    
    ext_mem_181819.references = NULL;
    
    struct memblock ext_mem_181822;
    
    ext_mem_181822.references = NULL;
    
    struct memblock mem_181058;
    
    mem_181058.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t prim_out_182469;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541 = add64(na_131727, nb_131728);
    
    if (memblock_alloc(ctx, &mem_181054, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182470 = 0; nest_i_182470 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182470++) {
        ((int8_t *) mem_181054.mem)[nest_i_182470] = (int8_t) -1;
    }
    
    int64_t bytes_181055 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181056, bytes_181055, "mem_181056")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182471 = 0; nest_i_182471 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182471++) {
        ((int64_t *) mem_181056.mem)[nest_i_182471] = (int64_t) -1;
    }
    
    int64_t bytes_181057 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181058, bytes_181057, "mem_181058")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182472 = 0; nest_i_182472 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182472++) {
        ((int32_t *) mem_181058.mem)[nest_i_182472] = 0;
    }
    
    int64_t zl_rhs_175545 = sub64(na_131727, window_sizze_131729);
    bool cond_175546 = slt64((int64_t) 0, zl_rhs_175545);
    int64_t zl_rhs_175547 = sub64(nb_131728, window_sizze_131729);
    bool loop_cond_t_res_175548 = slt64((int64_t) 0, zl_rhs_175547);
    bool x_175549 = cond_175546 && loop_cond_t_res_175548;
    bool empty_slice_175550 = window_sizze_131729 == (int64_t) 0;
    int64_t m_175551 = sub64(window_sizze_131729, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576 = add64((int64_t) 1, threads_131730);
    int64_t partitionFunc_arg0_176577 = mul64((int64_t) 2, threads_131730);
    bool y_176579 = slt64((int64_t) 0, window_sizze_131729);
    bool loop_cond_176825 = slt64((int64_t) 0, threads_131730);
    bool zzero_175596 = threads_131730 == (int64_t) 0;
    bool nonzzero_175597 = !zzero_175596;
    bool loop_not_taken_178354 = !inParallel_131733;
    bool protect_assert_disj_178355 = nonzzero_175597 || loop_not_taken_178354;
    bool loop_not_taken_178444 = !x_175549;
    bool protect_assert_disj_178445 = protect_assert_disj_178355 || loop_not_taken_178444;
    bool nonzzero_cert_175598;
    
    if (!protect_assert_disj_178445) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175599 = sdiv_safe64(window_sizze_131729, threads_131730);
    int64_t perThread_175600 = add64((int64_t) 1, zp_rhs_175599);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601 = mul64(threads_131730, perThread_175600);
    bool protect_assert_disj_178491 = inParallel_131733 || y_176579;
    bool protect_assert_disj_178495 = loop_not_taken_178444 || protect_assert_disj_178491;
    bool index_certs_176580;
    
    if (!protect_assert_disj_178495) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176595 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, (int64_t) 1);
    bool y_177552 = slt64(threads_131730, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
    bool protect_assert_disj_178460 = y_176579 || loop_not_taken_178354;
    bool protect_assert_disj_178499 = loop_not_taken_178444 || protect_assert_disj_178460;
    bool index_certs_175604;
    
    if (!protect_assert_disj_178499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176597 = !bounds_invalid_upwards_176595;
    bool protect_assert_disj_178507 = inParallel_131733 || y_177552;
    bool protect_assert_disj_178509 = loop_not_taken_178444 || protect_assert_disj_178507;
    bool index_certs_177554;
    
    if (!protect_assert_disj_178509) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131730, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178503 = y_177552 || loop_not_taken_178354;
    bool protect_assert_disj_178511 = loop_not_taken_178444 || protect_assert_disj_178503;
    bool index_certs_176558;
    
    if (!protect_assert_disj_178511) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131730, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178519 = inParallel_131733 || valid_176597;
    bool protect_assert_disj_178521 = loop_not_taken_178444 || protect_assert_disj_178519;
    bool range_valid_c_176598;
    
    if (!protect_assert_disj_178521) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178363 = sle64((int64_t) 1, threads_131730);
    bool protect_assert_disj_178515 = valid_176597 || loop_not_taken_178354;
    bool protect_assert_disj_178523 = loop_not_taken_178444 || protect_assert_disj_178515;
    bool range_valid_c_175611;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176600 = add64(window_sizze_131729, window_sizze_131729);
    bool zzero_176601 = partitionFunc_arg0_176577 == (int64_t) 0;
    int64_t index_concat_i_178364 = sub64(threads_131730, (int64_t) 1);
    bool nonzzero_176602 = !zzero_176601;
    bool protect_assert_disj_178531 = inParallel_131733 || nonzzero_176602;
    bool protect_assert_disj_178537 = loop_not_taken_178444 || protect_assert_disj_178531;
    bool nonzzero_cert_176603;
    
    if (!protect_assert_disj_178537) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178527 = nonzzero_176602 || loop_not_taken_178354;
    bool protect_assert_disj_178543 = loop_not_taken_178444 || protect_assert_disj_178527;
    bool nonzzero_cert_175616;
    
    if (!protect_assert_disj_178543) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181068 = (int64_t) 8 * threads_131730;
    int64_t bytes_181085 = (int64_t) 8 * window_sizze_131729;
    int64_t bytes_181087 = (int64_t) 4 * window_sizze_131729;
    int64_t bytes_181430 = perThread_175600 * bytes_181068;
    int64_t binop_x_181437 = (int64_t) 4 * threads_131730;
    int64_t bytes_181438 = perThread_175600 * binop_x_181437;
    bool defunc_0_merge_pipeline_res_175552;
    int64_t defunc_0_merge_pipeline_res_175556;
    int64_t defunc_0_merge_pipeline_res_175557;
    bool loop_while_175558;
    int64_t p_175562;
    int64_t p_175563;
    
    loop_while_175558 = x_175549;
    p_175562 = (int64_t) 0;
    p_175563 = (int64_t) 0;
    while (loop_while_175558) {
        int64_t ubs_175564 = add64(window_sizze_131729, p_175562);
        int64_t ubs_175565 = add64(window_sizze_131729, p_175563);
        int64_t ind_bottom_175566 = add64(p_175562, p_175563);
        int64_t ind_top_175567 = add64(window_sizze_131729, ind_bottom_175566);
        int64_t i_p_m_t_s_175568 = add64(m_175551, p_175562);
        bool zzero_leq_i_p_m_t_s_175569 = sle64((int64_t) 0, i_p_m_t_s_175568);
        bool i_p_m_t_s_leq_w_175570 = slt64(i_p_m_t_s_175568, na_131727);
        bool zzero_lte_i_175571 = sle64((int64_t) 0, p_175562);
        bool i_lte_j_175572 = sle64(p_175562, ubs_175564);
        bool y_175573 = i_p_m_t_s_leq_w_175570 && zzero_lte_i_175571;
        bool y_175574 = zzero_leq_i_p_m_t_s_175569 && y_175573;
        bool forwards_ok_175575 = i_lte_j_175572 && y_175574;
        bool ok_or_empty_175576 = empty_slice_175550 || forwards_ok_175575;
        bool index_certs_175577;
        
        if (!ok_or_empty_175576) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175562, ":", (long long) ubs_175564, "] out of bounds for array of shape [", (long long) na_131727, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175579 = add64(m_175551, p_175563);
        bool zzero_leq_i_p_m_t_s_175580 = sle64((int64_t) 0, i_p_m_t_s_175579);
        bool i_p_m_t_s_leq_w_175581 = slt64(i_p_m_t_s_175579, nb_131728);
        bool zzero_lte_i_175582 = sle64((int64_t) 0, p_175563);
        bool i_lte_j_175583 = sle64(p_175563, ubs_175565);
        bool y_175584 = i_p_m_t_s_leq_w_175581 && zzero_lte_i_175582;
        bool y_175585 = zzero_leq_i_p_m_t_s_175580 && y_175584;
        bool forwards_ok_175586 = i_lte_j_175583 && y_175585;
        bool ok_or_empty_175587 = empty_slice_175550 || forwards_ok_175586;
        bool index_certs_175588;
        
        if (!ok_or_empty_175587) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175563, ":", (long long) ubs_175565, "] out of bounds for array of shape [", (long long) nb_131728, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177566 = add64(m_175551, ind_bottom_175566);
        bool zzero_leq_i_p_m_t_s_177567 = sle64((int64_t) 0, i_p_m_t_s_177566);
        bool i_p_m_t_s_leq_w_177568 = slt64(i_p_m_t_s_177566, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
        bool zzero_lte_i_177569 = sle64((int64_t) 0, ind_bottom_175566);
        bool i_lte_j_177570 = sle64(ind_bottom_175566, ind_top_175567);
        bool y_177571 = i_p_m_t_s_leq_w_177568 && zzero_lte_i_177569;
        bool y_177572 = zzero_leq_i_p_m_t_s_177567 && y_177571;
        bool forwards_ok_177573 = i_lte_j_177570 && y_177572;
        bool ok_or_empty_177574 = empty_slice_175550 || forwards_ok_177573;
        bool index_certs_177575;
        
        if (!ok_or_empty_177574) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175566, ":", (long long) ind_top_175567, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175590;
        int64_t loopres_175591;
        
        if (inParallel_131733) {
            int32_t leq_lhs_179024 = ((int32_t *) a_list_mem_181052.mem)[p_175562];
            int32_t leq_rhs_179025 = ((int32_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_179026 = sle32(leq_lhs_179024, leq_rhs_179025);
            int32_t lowest_179027;
            
            if (defunc_0_leq_res_179026) {
                lowest_179027 = leq_lhs_179024;
            } else {
                lowest_179027 = leq_rhs_179025;
            }
            if (mem_181414_cached_sizze_182918 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181414, &mem_181414_cached_sizze_182918, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182919 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182919, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180716 = 0; i_180716 < threads_131730; i_180716++) {
                int64_t index_primexp_180988 = add64((int64_t) 1, i_180716);
                int64_t zs_lhs_179032 = mul64(zt_rhs_176600, index_primexp_180988);
                int64_t index_179033 = sdiv64(zs_lhs_179032, partitionFunc_arg0_176577);
                bool cond_179034 = slt64(window_sizze_131729, index_179033);
                int64_t loop_over_179035;
                
                if (cond_179034) {
                    loop_over_179035 = window_sizze_131729;
                } else {
                    loop_over_179035 = index_179033;
                }
                
                int64_t loop_over_179036;
                
                if (cond_179034) {
                    int64_t loop_over_t_res_179037 = sub64(index_179033, window_sizze_131729);
                    
                    loop_over_179036 = loop_over_t_res_179037;
                } else {
                    loop_over_179036 = (int64_t) 0;
                }
                
                int64_t loop_over_179038;
                
                if (cond_179034) {
                    int64_t zm_lhs_179039 = sub64(index_179033, window_sizze_131729);
                    int64_t loop_over_t_res_179040 = sub64(zm_lhs_179039, (int64_t) 1);
                    
                    loop_over_179038 = loop_over_t_res_179040;
                } else {
                    loop_over_179038 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179041;
                int64_t defunc_0_f_res_179042;
                int64_t defunc_0_f_res_179043;
                int64_t defunc_0_f_res_179044;
                bool loop_while_179045;
                int64_t p_179046;
                int64_t p_179047;
                int64_t p_179048;
                
                loop_while_179045 = 1;
                p_179046 = loop_over_179038;
                p_179047 = loop_over_179035;
                p_179048 = loop_over_179036;
                while (loop_while_179045) {
                    int64_t zs_lhs_179049 = sub64(p_179047, p_179046);
                    int64_t offset_179050 = sdiv64(zs_lhs_179049, (int64_t) 2);
                    int64_t ai_179051 = sub64(p_179047, offset_179050);
                    int64_t max_arg1_179052 = add64(p_179048, offset_179050);
                    int64_t max_res_179053 = smax64((int64_t) 0, max_arg1_179052);
                    bool cond_179054 = slt64((int64_t) 0, max_res_179053);
                    int32_t b_prev_179055;
                    
                    if (cond_179054) {
                        int64_t tmp_179056 = sub64(max_res_179053, (int64_t) 1);
                        bool x_179057 = sle64((int64_t) 0, tmp_179056);
                        bool y_179058 = slt64(tmp_179056, window_sizze_131729);
                        bool bounds_check_179059 = x_179057 && y_179058;
                        bool index_certs_179060;
                        
                        if (!bounds_check_179059) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179056, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179061 = p_175563 + tmp_179056;
                        int32_t b_prev_t_res_179062 = ((int32_t *) b_list_mem_181053.mem)[slice_179061];
                        
                        b_prev_179055 = b_prev_t_res_179062;
                    } else {
                        b_prev_179055 = lowest_179027;
                    }
                    
                    bool cond_179063 = sle64(ai_179051, (int64_t) 0);
                    int64_t loopres_179064;
                    int64_t loopres_179065;
                    int64_t loopres_179066;
                    bool loopres_179067;
                    
                    if (cond_179063) {
                        loopres_179064 = p_179046;
                        loopres_179065 = (int64_t) 0;
                        loopres_179066 = max_res_179053;
                        loopres_179067 = 0;
                    } else {
                        bool cond_179068 = sle64(window_sizze_131729, max_res_179053);
                        int64_t loopres_f_res_179069;
                        int64_t loopres_f_res_179070;
                        int64_t loopres_f_res_179071;
                        bool loopres_f_res_179072;
                        
                        if (cond_179068) {
                            int64_t min_res_179074 = smin64(m_175551, ai_179051);
                            bool x_179075 = sle64((int64_t) 0, m_175551);
                            bool y_179076 = slt64(m_175551, window_sizze_131729);
                            bool bounds_check_179077 = x_179075 && y_179076;
                            bool index_certs_179078;
                            
                            if (!bounds_check_179077) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179081 = sle64((int64_t) 0, min_res_179074);
                            bool y_179082 = slt64(min_res_179074, window_sizze_131729);
                            bool bounds_check_179083 = x_179081 && y_179082;
                            bool index_certs_179084;
                            
                            if (!bounds_check_179083) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179074, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_179080 = ((int32_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_179085 = p_175562 + min_res_179074;
                            int32_t leq_rhs_179086 = ((int32_t *) a_list_mem_181052.mem)[slice_179085];
                            bool defunc_0_leq_res_179087 = sle32(leq_lhs_179080, leq_rhs_179086);
                            int64_t loopres_f_res_t_res_179088;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179088 = ai_179051;
                            } else {
                                loopres_f_res_t_res_179088 = p_179047;
                            }
                            
                            bool x_179089 = !defunc_0_leq_res_179087;
                            int64_t loopres_f_res_t_res_179090;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179090 = window_sizze_131729;
                            } else {
                                int64_t tmp_179091 = sub64(m_175551, offset_179050);
                                
                                loopres_f_res_t_res_179090 = tmp_179091;
                            }
                            loopres_f_res_179069 = p_179046;
                            loopres_f_res_179070 = loopres_f_res_t_res_179088;
                            loopres_f_res_179071 = loopres_f_res_t_res_179090;
                            loopres_f_res_179072 = x_179089;
                        } else {
                            bool cond_179092 = sle64(window_sizze_131729, ai_179051);
                            int64_t loopres_f_res_f_res_179093;
                            int64_t loopres_f_res_f_res_179094;
                            int64_t loopres_f_res_f_res_179095;
                            bool loopres_f_res_f_res_179096;
                            
                            if (cond_179092) {
                                int64_t min_res_179098 = smin64(m_175551, max_res_179053);
                                bool x_179099 = sle64((int64_t) 0, m_175551);
                                bool y_179100 = slt64(m_175551, window_sizze_131729);
                                bool bounds_check_179101 = x_179099 && y_179100;
                                bool index_certs_179102;
                                
                                if (!bounds_check_179101) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179105 = sle64((int64_t) 0, min_res_179098);
                                bool y_179106 = slt64(min_res_179098, window_sizze_131729);
                                bool bounds_check_179107 = x_179105 && y_179106;
                                bool index_certs_179108;
                                
                                if (!bounds_check_179107) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179098, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_179104 = ((int32_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_179109 = p_175563 + min_res_179098;
                                int32_t leq_rhs_179110 = ((int32_t *) b_list_mem_181053.mem)[slice_179109];
                                bool defunc_0_leq_res_179111 = sle32(leq_lhs_179104, leq_rhs_179110);
                                int64_t loopres_f_res_f_res_t_res_179112;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179112 = max_res_179053;
                                } else {
                                    loopres_f_res_f_res_t_res_179112 = p_179048;
                                }
                                
                                bool x_179113 = !defunc_0_leq_res_179111;
                                int64_t loopres_f_res_f_res_t_res_179114;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179114 = window_sizze_131729;
                                } else {
                                    loopres_f_res_f_res_t_res_179114 = m_175551;
                                }
                                loopres_f_res_f_res_179093 = p_179046;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_t_res_179114;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_t_res_179112;
                                loopres_f_res_f_res_179096 = x_179113;
                            } else {
                                bool cond_179115 = sle64(p_179047, p_179046);
                                int64_t loopres_f_res_f_res_f_res_179116;
                                int64_t loopres_f_res_f_res_f_res_179117;
                                int64_t loopres_f_res_f_res_f_res_179118;
                                bool loopres_f_res_f_res_f_res_179119;
                                
                                if (cond_179115) {
                                    bool cond_179120 = slt64(ai_179051, window_sizze_131729);
                                    int64_t ai_179121;
                                    
                                    if (cond_179120) {
                                        ai_179121 = ai_179051;
                                    } else {
                                        ai_179121 = m_175551;
                                    }
                                    
                                    bool x_179134 = sle64((int64_t) 0, ai_179121);
                                    bool y_179135 = slt64(ai_179121, window_sizze_131729);
                                    bool bounds_check_179136 = x_179134 && y_179135;
                                    bool index_certs_179137;
                                    
                                    if (!bounds_check_179136) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179121, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179123;
                                    
                                    if (cond_179054) {
                                        int64_t tmp_179124 = sub64(max_res_179053, (int64_t) 1);
                                        bool x_179125 = sle64((int64_t) 0, tmp_179124);
                                        bool y_179126 = slt64(tmp_179124, window_sizze_131729);
                                        bool bounds_check_179127 = x_179125 && y_179126;
                                        bool index_certs_179128;
                                        
                                        if (!bounds_check_179127) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179124, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179129 = p_175563 + tmp_179124;
                                        int32_t b_prev_t_res_179130 = ((int32_t *) b_list_mem_181053.mem)[slice_179129];
                                        
                                        b_prev_179123 = b_prev_t_res_179130;
                                    } else {
                                        bool index_certs_179132;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179123 = leq_rhs_179025;
                                    }
                                    
                                    int64_t slice_179138 = p_175562 + ai_179121;
                                    int32_t gt_lhs_179139 = ((int32_t *) a_list_mem_181052.mem)[slice_179138];
                                    bool defunc_0_gt_res_179140 = slt32(b_prev_179123, gt_lhs_179139);
                                    int64_t defunc_0_partFunc_sequential_search_res_179141;
                                    int64_t defunc_0_partFunc_sequential_search_res_179142;
                                    
                                    if (defunc_0_gt_res_179140) {
                                        int64_t zl_rhs_179143 = sub64(window_sizze_131729, max_res_179053);
                                        bool loop_cond_179144 = slt64((int64_t) 0, zl_rhs_179143);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179145;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179147;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179148;
                                        bool loop_while_179149;
                                        int64_t p_179150;
                                        int64_t p_179151;
                                        int64_t p_179152;
                                        
                                        loop_while_179149 = loop_cond_179144;
                                        p_179150 = ai_179121;
                                        p_179151 = max_res_179053;
                                        p_179152 = (int64_t) 0;
                                        while (loop_while_179149) {
                                            int64_t i_a_179153 = sub64(ai_179121, p_179152);
                                            int64_t i_b_179154 = add64(max_res_179053, p_179152);
                                            int64_t leq_lhs_179155 = sub64(i_a_179153, (int64_t) 1);
                                            bool x_179156 = sle64((int64_t) 0, leq_lhs_179155);
                                            bool y_179157 = slt64(leq_lhs_179155, window_sizze_131729);
                                            bool bounds_check_179158 = x_179156 && y_179157;
                                            bool index_certs_179159;
                                            
                                            if (!bounds_check_179158) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179155, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179162 = sle64((int64_t) 0, i_b_179154);
                                            bool y_179163 = slt64(i_b_179154, window_sizze_131729);
                                            bool bounds_check_179164 = x_179162 && y_179163;
                                            bool index_certs_179165;
                                            
                                            if (!bounds_check_179164) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179154, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179160 = p_175562 + leq_lhs_179155;
                                            int32_t leq_lhs_179161 = ((int32_t *) a_list_mem_181052.mem)[slice_179160];
                                            int64_t slice_179166 = p_175563 + i_b_179154;
                                            int32_t leq_rhs_179167 = ((int32_t *) b_list_mem_181053.mem)[slice_179166];
                                            bool defunc_0_leq_res_179168 = sle32(leq_lhs_179161, leq_rhs_179167);
                                            int64_t loopres_179169;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179169 = i_a_179153;
                                            } else {
                                                loopres_179169 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179170;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179170 = i_b_179154;
                                            } else {
                                                loopres_179170 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179171;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179171 = zl_rhs_179143;
                                            } else {
                                                int64_t tmp_179172 = add64((int64_t) 1, p_179152);
                                                
                                                loopres_179171 = tmp_179172;
                                            }
                                            
                                            bool loop_cond_179173 = slt64(loopres_179171, zl_rhs_179143);
                                            bool loop_while_tmp_182485 = loop_cond_179173;
                                            int64_t p_tmp_182486 = loopres_179169;
                                            int64_t p_tmp_182487 = loopres_179170;
                                            int64_t p_tmp_182488 = loopres_179171;
                                            
                                            loop_while_179149 = loop_while_tmp_182485;
                                            p_179150 = p_tmp_182486;
                                            p_179151 = p_tmp_182487;
                                            p_179152 = p_tmp_182488;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179145 = loop_while_179149;
                                        defunc_0_partFunc_sequential_search_res_t_res_179146 = p_179150;
                                        defunc_0_partFunc_sequential_search_res_t_res_179147 = p_179151;
                                        defunc_0_partFunc_sequential_search_res_t_res_179148 = p_179152;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_t_res_179147;
                                    } else {
                                        int64_t zl_rhs_179174 = sub64(max_res_179053, (int64_t) 1);
                                        bool loop_cond_179175 = slt64((int64_t) 0, zl_rhs_179174);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179176;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179178;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179179;
                                        bool loop_while_179180;
                                        int64_t p_179181;
                                        int64_t p_179182;
                                        int64_t p_179183;
                                        
                                        loop_while_179180 = loop_cond_179175;
                                        p_179181 = ai_179121;
                                        p_179182 = max_res_179053;
                                        p_179183 = (int64_t) 0;
                                        while (loop_while_179180) {
                                            int64_t zp_lhs_179184 = add64(ai_179121, p_179183);
                                            int64_t hi_a_179185 = add64((int64_t) 1, zp_lhs_179184);
                                            bool cond_179186 = slt64(hi_a_179185, window_sizze_131729);
                                            int64_t i_a_179187;
                                            
                                            if (cond_179186) {
                                                i_a_179187 = hi_a_179185;
                                            } else {
                                                i_a_179187 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_179189 = sub64(max_res_179053, p_179183);
                                            int64_t i_b_179190 = sub64(zm_lhs_179189, (int64_t) 1);
                                            bool x_179191 = sle64((int64_t) 0, i_a_179187);
                                            bool y_179192 = slt64(i_a_179187, window_sizze_131729);
                                            bool bounds_check_179193 = x_179191 && y_179192;
                                            bool index_certs_179194;
                                            
                                            if (!bounds_check_179193) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179187, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179197 = sle64((int64_t) 0, i_b_179190);
                                            bool y_179198 = slt64(i_b_179190, window_sizze_131729);
                                            bool bounds_check_179199 = x_179197 && y_179198;
                                            bool index_certs_179200;
                                            
                                            if (!bounds_check_179199) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179190, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179195 = p_175562 + i_a_179187;
                                            int32_t gt_lhs_179196 = ((int32_t *) a_list_mem_181052.mem)[slice_179195];
                                            int64_t slice_179201 = p_175563 + i_b_179190;
                                            int32_t gt_rhs_179202 = ((int32_t *) b_list_mem_181053.mem)[slice_179201];
                                            bool defunc_0_gt_res_179203 = slt32(gt_rhs_179202, gt_lhs_179196);
                                            int64_t loopres_179204;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179204 = i_a_179187;
                                            } else {
                                                loopres_179204 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179205;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179205 = zm_lhs_179189;
                                            } else {
                                                loopres_179205 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179206;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179206 = zl_rhs_179174;
                                            } else {
                                                int64_t tmp_179207 = add64((int64_t) 1, p_179183);
                                                
                                                loopres_179206 = tmp_179207;
                                            }
                                            
                                            bool loop_cond_179208 = slt64(loopres_179206, zl_rhs_179174);
                                            bool loop_while_tmp_182489 = loop_cond_179208;
                                            int64_t p_tmp_182490 = loopres_179204;
                                            int64_t p_tmp_182491 = loopres_179205;
                                            int64_t p_tmp_182492 = loopres_179206;
                                            
                                            loop_while_179180 = loop_while_tmp_182489;
                                            p_179181 = p_tmp_182490;
                                            p_179182 = p_tmp_182491;
                                            p_179183 = p_tmp_182492;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179176 = loop_while_179180;
                                        defunc_0_partFunc_sequential_search_res_f_res_179177 = p_179181;
                                        defunc_0_partFunc_sequential_search_res_f_res_179178 = p_179182;
                                        defunc_0_partFunc_sequential_search_res_f_res_179179 = p_179183;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_f_res_179178;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = p_179046;
                                    loopres_f_res_f_res_f_res_179117 = defunc_0_partFunc_sequential_search_res_179141;
                                    loopres_f_res_f_res_f_res_179118 = defunc_0_partFunc_sequential_search_res_179142;
                                    loopres_f_res_f_res_f_res_179119 = 0;
                                } else {
                                    bool x_179209 = sle64((int64_t) 0, ai_179051);
                                    bool y_179210 = slt64(ai_179051, window_sizze_131729);
                                    bool bounds_check_179211 = x_179209 && y_179210;
                                    bool index_certs_179212;
                                    
                                    if (!bounds_check_179211) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179051, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179213 = p_175562 + ai_179051;
                                    int32_t gt_lhs_179214 = ((int32_t *) a_list_mem_181052.mem)[slice_179213];
                                    bool defunc_0_gt_res_179215 = slt32(b_prev_179055, gt_lhs_179214);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179216;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179217;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179218;
                                    bool loopres_f_res_f_res_f_res_f_res_179219;
                                    
                                    if (defunc_0_gt_res_179215) {
                                        int64_t leq_lhs_179220 = sub64(ai_179051, (int64_t) 1);
                                        bool x_179221 = sle64((int64_t) 0, leq_lhs_179220);
                                        bool y_179222 = slt64(leq_lhs_179220, window_sizze_131729);
                                        bool bounds_check_179223 = x_179221 && y_179222;
                                        bool index_certs_179224;
                                        
                                        if (!bounds_check_179223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179220, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179227 = sle64((int64_t) 0, max_res_179053);
                                        bool y_179228 = slt64(max_res_179053, window_sizze_131729);
                                        bool bounds_check_179229 = x_179227 && y_179228;
                                        bool index_certs_179230;
                                        
                                        if (!bounds_check_179229) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179053, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179225 = p_175562 + leq_lhs_179220;
                                        int32_t leq_lhs_179226 = ((int32_t *) a_list_mem_181052.mem)[slice_179225];
                                        int64_t slice_179231 = p_175563 + max_res_179053;
                                        int32_t leq_rhs_179232 = ((int32_t *) b_list_mem_181053.mem)[slice_179231];
                                        bool defunc_0_leq_res_179233 = sle32(leq_lhs_179226, leq_rhs_179232);
                                        bool x_179234 = !defunc_0_leq_res_179233;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = ai_179051;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = leq_lhs_179220;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = max_res_179053;
                                        } else {
                                            int64_t tmp_179237 = add64((int64_t) 1, max_res_179053);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = tmp_179237;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179216 = p_179046;
                                        loopres_f_res_f_res_f_res_f_res_179217 = loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        loopres_f_res_f_res_f_res_f_res_179218 = loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        loopres_f_res_f_res_f_res_f_res_179219 = x_179234;
                                    } else {
                                        int64_t tmp_179238 = add64((int64_t) 1, ai_179051);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179216 = tmp_179238;
                                        loopres_f_res_f_res_f_res_f_res_179217 = p_179047;
                                        loopres_f_res_f_res_f_res_f_res_179218 = p_179048;
                                        loopres_f_res_f_res_f_res_f_res_179219 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = loopres_f_res_f_res_f_res_f_res_179216;
                                    loopres_f_res_f_res_f_res_179117 = loopres_f_res_f_res_f_res_f_res_179217;
                                    loopres_f_res_f_res_f_res_179118 = loopres_f_res_f_res_f_res_f_res_179218;
                                    loopres_f_res_f_res_f_res_179119 = loopres_f_res_f_res_f_res_f_res_179219;
                                }
                                loopres_f_res_f_res_179093 = loopres_f_res_f_res_f_res_179116;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_f_res_179117;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_f_res_179118;
                                loopres_f_res_f_res_179096 = loopres_f_res_f_res_f_res_179119;
                            }
                            loopres_f_res_179069 = loopres_f_res_f_res_179093;
                            loopres_f_res_179070 = loopres_f_res_f_res_179094;
                            loopres_f_res_179071 = loopres_f_res_f_res_179095;
                            loopres_f_res_179072 = loopres_f_res_f_res_179096;
                        }
                        loopres_179064 = loopres_f_res_179069;
                        loopres_179065 = loopres_f_res_179070;
                        loopres_179066 = loopres_f_res_179071;
                        loopres_179067 = loopres_f_res_179072;
                    }
                    
                    bool loop_while_tmp_182481 = loopres_179067;
                    int64_t p_tmp_182482 = loopres_179064;
                    int64_t p_tmp_182483 = loopres_179065;
                    int64_t p_tmp_182484 = loopres_179066;
                    
                    loop_while_179045 = loop_while_tmp_182481;
                    p_179046 = p_tmp_182482;
                    p_179047 = p_tmp_182483;
                    p_179048 = p_tmp_182484;
                }
                defunc_0_f_res_179041 = loop_while_179045;
                defunc_0_f_res_179042 = p_179046;
                defunc_0_f_res_179043 = p_179047;
                defunc_0_f_res_179044 = p_179048;
                ((int64_t *) mem_181414)[i_180716] = defunc_0_f_res_179043;
                ((int64_t *) mem_181416)[i_180716] = defunc_0_f_res_179044;
            }
            if (mem_181431_cached_sizze_182920 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181431, &mem_181431_cached_sizze_182920, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181433_cached_sizze_182921 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601) {
                err = lexical_realloc(ctx, &mem_181433, &mem_181433_cached_sizze_182921, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181436_cached_sizze_182922 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181436, &mem_181436_cached_sizze_182922, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181439_cached_sizze_182923 < bytes_181438) {
                err = lexical_realloc(ctx, &mem_181439, &mem_181439_cached_sizze_182923, bytes_181438);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_131730; i_180782++) {
                bool y_179252 = slt64(i_180782, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool index_certs_179254;
                
                if (!y_179252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180782, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179255 = sle64((int64_t) 1, i_180782);
                int64_t index_concat_i_179256 = sub64(i_180782, (int64_t) 1);
                int64_t index_concat_179257;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179258 = ((int64_t *) mem_181414)[index_concat_i_179256];
                    
                    index_concat_179257 = x_179258;
                } else {
                    index_concat_179257 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179259;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179259 = index_concat_179257;
                } else {
                    index_concat_branch_179259 = (int64_t) 0;
                }
                
                int64_t index_concat_179260;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179261 = ((int64_t *) mem_181416)[index_concat_i_179256];
                    
                    index_concat_179260 = x_179261;
                } else {
                    index_concat_179260 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179262;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179262 = index_concat_179260;
                } else {
                    index_concat_branch_179262 = (int64_t) 0;
                }
                
                int64_t ubs_179263 = add64((int64_t) 1, i_180782);
                bool x_179264 = sle64((int64_t) 0, ubs_179263);
                bool y_179265 = slt64(ubs_179263, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_179266 = x_179264 && y_179265;
                bool index_certs_179267;
                
                if (!bounds_check_179266) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179263, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179268 = sle64((int64_t) 1, ubs_179263);
                int64_t index_concat_179269;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179270 = ((int64_t *) mem_181414)[i_180782];
                    
                    index_concat_179269 = x_179270;
                } else {
                    index_concat_179269 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179271;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179271 = index_concat_179269;
                } else {
                    index_concat_branch_179271 = (int64_t) 0;
                }
                
                int64_t index_concat_179272;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179273 = ((int64_t *) mem_181416)[i_180782];
                    
                    index_concat_179272 = x_179273;
                } else {
                    index_concat_179272 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179274;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179274 = index_concat_179272;
                } else {
                    index_concat_branch_179274 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 = sub64(index_concat_branch_179274, index_concat_branch_179262);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 = sub64(index_concat_branch_179271, index_concat_branch_179259);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t zm_lhs_179278 = add64(index_concat_branch_179271, index_concat_branch_179274);
                int64_t zm_rhs_179279 = add64(index_concat_branch_179259, index_concat_branch_179262);
                int64_t card_179280 = sub64(zm_lhs_179278, zm_rhs_179279);
                bool empty_slice_179281 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 == (int64_t) 0;
                int64_t m_179282 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 1);
                int64_t i_p_m_t_s_179283 = add64(index_concat_branch_179259, m_179282);
                bool zzero_leq_i_p_m_t_s_179284 = sle64((int64_t) 0, i_p_m_t_s_179283);
                bool i_p_m_t_s_leq_w_179285 = slt64(i_p_m_t_s_179283, window_sizze_131729);
                bool zzero_lte_i_179286 = sle64((int64_t) 0, index_concat_branch_179259);
                bool i_lte_j_179287 = sle64(index_concat_branch_179259, index_concat_branch_179271);
                bool y_179288 = i_p_m_t_s_leq_w_179285 && zzero_lte_i_179286;
                bool y_179289 = zzero_leq_i_p_m_t_s_179284 && y_179288;
                bool forwards_ok_179290 = i_lte_j_179287 && y_179289;
                bool ok_or_empty_179291 = empty_slice_179281 || forwards_ok_179290;
                bool index_certs_179292;
                
                if (!ok_or_empty_179291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179259, ":", (long long) index_concat_branch_179271, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179293 = slt64(index_concat_branch_179271, index_concat_branch_179259);
                bool valid_179294 = !bounds_invalid_upwards_179293;
                bool range_valid_c_179295;
                
                if (!valid_179294) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179259, "..<", (long long) index_concat_branch_179271, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179300 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 == (int64_t) 0;
                int64_t m_179301 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, (int64_t) 1);
                int64_t i_p_m_t_s_179302 = add64(index_concat_branch_179262, m_179301);
                bool zzero_leq_i_p_m_t_s_179303 = sle64((int64_t) 0, i_p_m_t_s_179302);
                bool i_p_m_t_s_leq_w_179304 = slt64(i_p_m_t_s_179302, window_sizze_131729);
                bool zzero_lte_i_179305 = sle64((int64_t) 0, index_concat_branch_179262);
                bool i_lte_j_179306 = sle64(index_concat_branch_179262, index_concat_branch_179274);
                bool y_179307 = i_p_m_t_s_leq_w_179304 && zzero_lte_i_179305;
                bool y_179308 = zzero_leq_i_p_m_t_s_179303 && y_179307;
                bool forwards_ok_179309 = i_lte_j_179306 && y_179308;
                bool ok_or_empty_179310 = empty_slice_179300 || forwards_ok_179309;
                bool index_certs_179311;
                
                if (!ok_or_empty_179310) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179262, ":", (long long) index_concat_branch_179274, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179312 = slt64(index_concat_branch_179274, index_concat_branch_179262);
                bool valid_179313 = !bounds_invalid_upwards_179312;
                bool range_valid_c_179314;
                
                if (!valid_179313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179262, "..<", (long long) index_concat_branch_179274, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181468 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                int64_t bytes_181470 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool cond_179322 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zs_lhs_179323 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zp_rhs_179324 = sdiv_safe64(zs_lhs_179323, (int64_t) 20);
                int64_t min_num_blocks_179325 = add64((int64_t) 1, zp_rhs_179324);
                bool loop_cond_179326 = slt64((int64_t) 1, min_num_blocks_179325);
                bool smallest_pow_2_geq_than_res_179327;
                int64_t smallest_pow_2_geq_than_res_179328;
                bool loop_while_179329;
                int64_t x_179330;
                
                loop_while_179329 = loop_cond_179326;
                x_179330 = (int64_t) 1;
                while (loop_while_179329) {
                    int64_t loopres_179331 = mul64((int64_t) 2, x_179330);
                    bool loop_cond_179332 = slt64(loopres_179331, min_num_blocks_179325);
                    bool loop_while_tmp_182497 = loop_cond_179332;
                    int64_t x_tmp_182498 = loopres_179331;
                    
                    loop_while_179329 = loop_while_tmp_182497;
                    x_179330 = x_tmp_182498;
                }
                smallest_pow_2_geq_than_res_179327 = loop_while_179329;
                smallest_pow_2_geq_than_res_179328 = x_179330;
                
                bool zzero_179333 = smallest_pow_2_geq_than_res_179328 == (int64_t) 0;
                bool nonzzero_179334 = !zzero_179333;
                bool protect_assert_disj_179335 = cond_179322 || nonzzero_179334;
                bool nonzzero_cert_179336;
                
                if (!protect_assert_disj_179335) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179337 = sdiv_safe64(zs_lhs_179323, smallest_pow_2_geq_than_res_179328);
                int64_t block_sizze_179338 = add64((int64_t) 1, zp_rhs_179337);
                bool y_179345 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                bool protect_assert_disj_182214 = cond_179322 || y_179345;
                bool index_certs_179346;
                
                if (!protect_assert_disj_182214) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179383 = slt64(smallest_pow_2_geq_than_res_179328, (int64_t) 0);
                bool valid_179384 = !bounds_invalid_upwards_179383;
                bool protect_assert_disj_182224 = cond_179322 || valid_179384;
                bool range_valid_c_179385;
                
                if (!protect_assert_disj_182224) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179328, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179387 = slt64(block_sizze_179338, (int64_t) 0);
                bool valid_179388 = !bounds_invalid_upwards_179387;
                bool protect_assert_disj_182226 = cond_179322 || valid_179388;
                bool range_valid_c_179389;
                
                if (!protect_assert_disj_182226) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179338, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179391 = sle64(block_sizze_179338, (int64_t) 1);
                int64_t tmp_179392 = sub64(block_sizze_179338, (int64_t) 2);
                bool bounds_invalid_upwards_179393 = slt64(tmp_179392, (int64_t) 0);
                bool valid_179395 = !bounds_invalid_upwards_179393;
                bool protect_assert_disj_179396 = cond_179391 || valid_179395;
                bool protect_assert_disj_182228 = cond_179322 || protect_assert_disj_179396;
                bool range_valid_c_179397;
                
                if (!protect_assert_disj_182228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179392, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179977 = card_179280 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool empty_or_match_cert_179978;
                
                if (!dim_match_179977) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] cannot match shape of type `[", (long long) card_179280, "](i8, i64, i32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179979 = card_179280 == (int64_t) 0;
                int64_t m_179980 = sub64(card_179280, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179981 = sle64((int64_t) 0, m_179980);
                bool i_p_m_t_s_leq_w_179982 = slt64(m_179980, card_179280);
                bool y_179983 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179982;
                bool ok_or_empty_179984 = empty_slice_179979 || y_179983;
                bool index_certs_179985;
                
                if (!ok_or_empty_179984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) card_179280, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179986 = slt64(m_179980, perThread_175600);
                bool y_179987 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179986;
                bool ok_or_empty_179988 = empty_slice_179979 || y_179987;
                bool index_certs_179989;
                
                if (!ok_or_empty_179988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182499 = 0; nest_i_182499 < perThread_175600; nest_i_182499++) {
                    ((int8_t *) mem_181433)[i_180782 * perThread_175600 + nest_i_182499] = (int8_t) -1;
                }
                for (int64_t nest_i_182500 = 0; nest_i_182500 < perThread_175600; nest_i_182500++) {
                    ((int64_t *) mem_181436)[i_180782 * perThread_175600 + nest_i_182500] = (int64_t) -1;
                }
                for (int64_t nest_i_182501 = 0; nest_i_182501 < perThread_175600; nest_i_182501++) {
                    ((int32_t *) mem_181439)[i_180782 * perThread_175600 + nest_i_182501] = 0;
                }
                
                int64_t slice_179296 = p_175562 + index_concat_branch_179259;
                
                if (memblock_alloc(ctx, &mem_181467, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "mem_181467")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182502 = 0; nest_i_182502 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; nest_i_182502++) {
                    ((int8_t *) mem_181467.mem)[nest_i_182502] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181469, bytes_181468, "mem_181469")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182503 = 0; i_182503 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; i_182503++) {
                    int64_t x_182504 = index_concat_branch_179259 + i_182503 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[i_182503] = x_182504;
                }
                
                int64_t slice_179315 = p_175563 + index_concat_branch_179262;
                
                for (int64_t nest_i_182505 = 0; nest_i_182505 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; nest_i_182505++) {
                    ((int8_t *) mem_181467.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + nest_i_182505] = (int8_t) 1;
                }
                for (int64_t i_182506 = 0; i_182506 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; i_182506++) {
                    int64_t x_182507 = index_concat_branch_179262 + i_182506 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + i_182506] = x_182507;
                }
                
                int64_t tmp_offs_182508 = (int64_t) 0;
                
                if (!(tmp_offs_182508 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182508 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t tmp_offs_182509 = (int64_t) 0;
                
                if (!(tmp_offs_182509 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182509 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                if (memblock_alloc(ctx, &mem_181471, bytes_181470, "mem_181471")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182510 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, slice_179296, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, slice_179315, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t flat_dim_179339 = smallest_pow_2_geq_than_res_179328 * block_sizze_179338;
                bool x_182209 = !cond_179322;
                int64_t greatest_divisor_leq_than_arg1_179343 = mul64((int64_t) 2, block_sizze_179338);
                int64_t merge_block_sizze_179344;
                
                if (x_182209) {
                    int64_t x_182211;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182211, (int64_t) 8, greatest_divisor_leq_than_arg1_179343) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179344 = x_182211;
                } else {
                    merge_block_sizze_179344 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179347 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 0);
                int8_t index_concat_branch_179348 = btoi_bool_i8(index_concat_cmp_179347);
                int64_t index_concat_i_179350 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t index_primexp_179351 = add64(index_concat_branch_179262, index_concat_i_179350);
                int64_t index_concat_branch_179349;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179349 = index_primexp_179351;
                } else {
                    index_concat_branch_179349 = index_concat_branch_179259;
                }
                
                bool x_182205 = !index_concat_cmp_179347;
                bool protect_cond_conj_182215 = x_182205 && x_182209;
                int32_t index_concat_179357;
                
                if (protect_cond_conj_182215) {
                    int32_t x_182207 = ((int32_t *) a_list_mem_181052.mem)[slice_179296];
                    
                    index_concat_179357 = x_182207;
                } else {
                    index_concat_179357 = 0;
                }
                
                int64_t slice_179355 = p_175563 + index_primexp_179351;
                bool protect_cond_conj_182216 = index_concat_cmp_179347 && x_182209;
                int32_t index_concat_179356;
                
                if (protect_cond_conj_182216) {
                    int32_t x_182203 = ((int32_t *) b_list_mem_181053.mem)[slice_179355];
                    
                    index_concat_179356 = x_182203;
                } else {
                    index_concat_179356 = 0;
                }
                
                int32_t index_concat_branch_179352;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179352 = index_concat_179356;
                } else {
                    index_concat_branch_179352 = index_concat_179357;
                }
                
                int8_t defunc_0_reduce_res_179358;
                int64_t defunc_0_reduce_res_179359;
                int32_t defunc_0_reduce_res_179360;
                
                if (x_182209) {
                    int8_t x_182217;
                    int64_t x_182218;
                    int32_t x_182219;
                    int8_t redout_180719;
                    int64_t redout_180720;
                    int32_t redout_180721;
                    
                    redout_180719 = index_concat_branch_179348;
                    redout_180720 = index_concat_branch_179349;
                    redout_180721 = index_concat_branch_179352;
                    for (int64_t i_180722 = 0; i_180722 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277; i_180722++) {
                        bool index_concat_cmp_180980 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, i_180722);
                        int8_t index_concat_branch_180984 = btoi_bool_i8(index_concat_cmp_180980);
                        int64_t index_concat_branch_180978;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180975 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t index_primexp_181028 = add64(index_concat_branch_179262, index_concat_i_180975);
                            
                            index_concat_branch_180978 = index_primexp_181028;
                        } else {
                            int64_t index_primexp_181030 = add64(index_concat_branch_179259, i_180722);
                            
                            index_concat_branch_180978 = index_primexp_181030;
                        }
                        
                        int32_t index_concat_branch_180972;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180969 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t slice_181025 = slice_179315 + index_concat_i_180969;
                            int32_t index_concat_180970 = ((int32_t *) b_list_mem_181053.mem)[slice_181025];
                            
                            index_concat_branch_180972 = index_concat_180970;
                        } else {
                            int64_t slice_181026 = slice_179296 + i_180722;
                            int32_t index_concat_180971 = ((int32_t *) a_list_mem_181052.mem)[slice_181026];
                            
                            index_concat_branch_180972 = index_concat_180971;
                        }
                        
                        bool eq_x_y_181042 = redout_180719 == (int8_t) 1;
                        bool eq_x_zz_181043 = redout_180719 == (int8_t) 0;
                        bool p_and_eq_x_y_181044 = index_concat_cmp_180980 && eq_x_y_181042;
                        bool not_p_181045 = !index_concat_cmp_180980;
                        bool p_and_eq_x_y_181046 = eq_x_zz_181043 && not_p_181045;
                        bool cond_179370 = p_and_eq_x_y_181044 || p_and_eq_x_y_181046;
                        bool defunc_0_leq_res_t_res_179371 = sle64(redout_180720, index_concat_branch_180978);
                        bool defunc_0_leq_res_179372 = sle32(redout_180721, index_concat_branch_180972);
                        bool x_179373 = cond_179370 && defunc_0_leq_res_t_res_179371;
                        bool x_179374 = !cond_179370;
                        bool y_179375 = defunc_0_leq_res_179372 && x_179374;
                        bool defunc_0_leq_res_179376 = x_179373 || y_179375;
                        int8_t defunc_0_op_res_179377;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179377 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_179377 = redout_180719;
                        }
                        
                        int64_t defunc_0_op_res_179378;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179378 = index_concat_branch_180978;
                        } else {
                            defunc_0_op_res_179378 = redout_180720;
                        }
                        
                        int32_t defunc_0_op_res_179379;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179379 = index_concat_branch_180972;
                        } else {
                            defunc_0_op_res_179379 = redout_180721;
                        }
                        
                        int8_t redout_tmp_182511 = defunc_0_op_res_179377;
                        int64_t redout_tmp_182512 = defunc_0_op_res_179378;
                        int32_t redout_tmp_182513 = defunc_0_op_res_179379;
                        
                        redout_180719 = redout_tmp_182511;
                        redout_180720 = redout_tmp_182512;
                        redout_180721 = redout_tmp_182513;
                    }
                    x_182217 = redout_180719;
                    x_182218 = redout_180720;
                    x_182219 = redout_180721;
                    defunc_0_reduce_res_179358 = x_182217;
                    defunc_0_reduce_res_179359 = x_182218;
                    defunc_0_reduce_res_179360 = x_182219;
                } else {
                    defunc_0_reduce_res_179358 = (int8_t) 0;
                    defunc_0_reduce_res_179359 = (int64_t) 0;
                    defunc_0_reduce_res_179360 = 0;
                }
                
                int64_t distance_179394 = add64((int64_t) 1, tmp_179392);
                int64_t binop_x_181474 = (int64_t) 8 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181475 = block_sizze_179338 * binop_x_181474;
                int64_t binop_x_181477 = (int64_t) 4 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181478 = block_sizze_179338 * binop_x_181477;
                int64_t bytes_181493 = (int64_t) 8 * block_sizze_179338;
                int64_t bytes_181495 = (int64_t) 4 * block_sizze_179338;
                bool loop_cond_179520 = slt64(block_sizze_179338, flat_dim_179339);
                bool zzero_179521 = merge_block_sizze_179344 == (int64_t) 0;
                bool nonzzero_179522 = !zzero_179521;
                
                if (cond_179322) {
                    if (memblock_set(ctx, &ext_mem_181766, &mem_181467, "mem_181467") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &mem_181469, "mem_181469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &mem_181471, "mem_181471") != 0)
                        return 1;
                } else {
                    if (mem_181473_cached_sizze_182924 < flat_dim_179339) {
                        err = lexical_realloc(ctx, &mem_181473, &mem_181473_cached_sizze_182924, flat_dim_179339);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182925 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182925, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181479_cached_sizze_182926 < bytes_181478) {
                        err = lexical_realloc(ctx, &mem_181479, &mem_181479_cached_sizze_182926, bytes_181478);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181492_cached_sizze_182927 < block_sizze_179338) {
                        err = lexical_realloc(ctx, &mem_181492, &mem_181492_cached_sizze_182927, block_sizze_179338);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181494_cached_sizze_182928 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181494, &mem_181494_cached_sizze_182928, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181496_cached_sizze_182929 < bytes_181495) {
                        err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182929, bytes_181495);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180739 = 0; i_180739 < smallest_pow_2_geq_than_res_179328; i_180739++) {
                        int64_t zp_lhs_179402 = mul64(block_sizze_179338, i_180739);
                        
                        for (int64_t i_180729 = 0; i_180729 < block_sizze_179338; i_180729++) {
                            int64_t k_179407 = add64(zp_lhs_179402, i_180729);
                            bool cond_179408 = slt64(k_179407, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                            int8_t lifted_lambda_res_179409;
                            int64_t lifted_lambda_res_179410;
                            int32_t lifted_lambda_res_179411;
                            
                            if (cond_179408) {
                                bool x_179412 = sle64((int64_t) 0, k_179407);
                                bool bounds_check_179413 = cond_179408 && x_179412;
                                bool index_certs_179414;
                                
                                if (!bounds_check_179413) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179415 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, k_179407);
                                int8_t index_concat_branch_179416 = btoi_bool_i8(index_concat_cmp_179415);
                                int64_t index_concat_branch_179417;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179418 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t index_primexp_179419 = add64(index_concat_branch_179262, index_concat_i_179418);
                                    
                                    index_concat_branch_179417 = index_primexp_179419;
                                } else {
                                    int64_t index_primexp_179420 = add64(index_concat_branch_179259, k_179407);
                                    
                                    index_concat_branch_179417 = index_primexp_179420;
                                }
                                
                                int32_t index_concat_branch_179421;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179422 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t slice_179423 = index_concat_branch_179262 + index_concat_i_179422;
                                    int64_t slice_179424 = p_175563 + slice_179423;
                                    int32_t index_concat_179425 = ((int32_t *) b_list_mem_181053.mem)[slice_179424];
                                    
                                    index_concat_branch_179421 = index_concat_179425;
                                } else {
                                    int64_t slice_179426 = index_concat_branch_179259 + k_179407;
                                    int64_t slice_179427 = p_175562 + slice_179426;
                                    int32_t index_concat_179428 = ((int32_t *) a_list_mem_181052.mem)[slice_179427];
                                    
                                    index_concat_branch_179421 = index_concat_179428;
                                }
                                lifted_lambda_res_179409 = index_concat_branch_179416;
                                lifted_lambda_res_179410 = index_concat_branch_179417;
                                lifted_lambda_res_179411 = index_concat_branch_179421;
                            } else {
                                lifted_lambda_res_179409 = defunc_0_reduce_res_179358;
                                lifted_lambda_res_179410 = defunc_0_reduce_res_179359;
                                lifted_lambda_res_179411 = defunc_0_reduce_res_179360;
                            }
                            ((int8_t *) mem_181492)[i_180729] = lifted_lambda_res_179409;
                            ((int64_t *) mem_181494)[i_180729] = lifted_lambda_res_179410;
                            ((int32_t *) mem_181496)[i_180729] = lifted_lambda_res_179411;
                        }
                        if (!cond_179391) {
                            for (int64_t i_179438 = 0; i_179438 < distance_179394; i_179438++) {
                                int64_t gt_arg1_179442 = add64((int64_t) 1, i_179438);
                                bool x_179443 = sle64((int64_t) 0, gt_arg1_179442);
                                bool y_179444 = slt64(gt_arg1_179442, block_sizze_179338);
                                bool bounds_check_179445 = x_179443 && y_179444;
                                bool index_certs_179446;
                                
                                if (!bounds_check_179445) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179442, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179450 = slt64(i_179438, block_sizze_179338);
                                bool index_certs_179451;
                                
                                if (!y_179450) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179438, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179447 = ((int8_t *) mem_181492)[gt_arg1_179442];
                                int64_t gt_arg1_179448 = ((int64_t *) mem_181494)[gt_arg1_179442];
                                int32_t gt_arg1_179449 = ((int32_t *) mem_181496)[gt_arg1_179442];
                                int8_t gt_arg0_179452 = ((int8_t *) mem_181492)[i_179438];
                                int64_t gt_arg0_179453 = ((int64_t *) mem_181494)[i_179438];
                                int32_t gt_arg0_179454 = ((int32_t *) mem_181496)[i_179438];
                                bool cond_179455 = gt_arg0_179452 == gt_arg1_179447;
                                bool defunc_0_leq_res_t_res_179456 = sle64(gt_arg0_179453, gt_arg1_179448);
                                bool defunc_0_leq_res_179457 = sle32(gt_arg0_179454, gt_arg1_179449);
                                bool x_179458 = cond_179455 && defunc_0_leq_res_t_res_179456;
                                bool x_179459 = !cond_179455;
                                bool y_179460 = defunc_0_leq_res_179457 && x_179459;
                                bool defunc_0_leq_res_179461 = x_179458 || y_179460;
                                bool defunc_0_lifted_gt_res_179462 = !defunc_0_leq_res_179461;
                                bool s_179463;
                                int64_t s_179467;
                                bool loop_while_179468;
                                int64_t j_179472;
                                
                                loop_while_179468 = defunc_0_lifted_gt_res_179462;
                                j_179472 = i_179438;
                                while (loop_while_179468) {
                                    bool x_179473 = sle64((int64_t) 0, j_179472);
                                    bool y_179474 = slt64(j_179472, block_sizze_179338);
                                    bool bounds_check_179475 = x_179473 && y_179474;
                                    bool index_certs_179476;
                                    
                                    if (!bounds_check_179475) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179472, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179480 = add64((int64_t) 1, j_179472);
                                    bool x_179481 = sle64((int64_t) 0, copy_arg0_179480);
                                    bool y_179482 = slt64(copy_arg0_179480, block_sizze_179338);
                                    bool bounds_check_179483 = x_179481 && y_179482;
                                    bool index_certs_179484;
                                    
                                    if (!bounds_check_179483) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179480, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179477 = ((int8_t *) mem_181492)[j_179472];
                                    int64_t copy_arg0_179478 = ((int64_t *) mem_181494)[j_179472];
                                    int32_t copy_arg0_179479 = ((int32_t *) mem_181496)[j_179472];
                                    int8_t copy_arg0_179485 = ((int8_t *) mem_181492)[copy_arg0_179480];
                                    int64_t copy_arg0_179486 = ((int64_t *) mem_181494)[copy_arg0_179480];
                                    int32_t copy_arg0_179487 = ((int32_t *) mem_181496)[copy_arg0_179480];
                                    
                                    ((int8_t *) mem_181492)[j_179472] = copy_arg0_179485;
                                    ((int64_t *) mem_181494)[j_179472] = copy_arg0_179486;
                                    ((int32_t *) mem_181496)[j_179472] = copy_arg0_179487;
                                    ((int8_t *) mem_181492)[copy_arg0_179480] = copy_arg0_179477;
                                    ((int64_t *) mem_181494)[copy_arg0_179480] = copy_arg0_179478;
                                    ((int32_t *) mem_181496)[copy_arg0_179480] = copy_arg0_179479;
                                    
                                    int64_t tmp_179494 = sub64(j_179472, (int64_t) 1);
                                    bool cond_179495 = sle64((int64_t) 0, tmp_179494);
                                    bool loop_cond_179496;
                                    
                                    if (cond_179495) {
                                        bool y_179500 = slt64(tmp_179494, block_sizze_179338);
                                        bool bounds_check_179501 = cond_179495 && y_179500;
                                        bool index_certs_179502;
                                        
                                        if (!bounds_check_179501) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179494, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179497 = ((int8_t *) mem_181492)[j_179472];
                                        int64_t gt_arg1_179498 = ((int64_t *) mem_181494)[j_179472];
                                        int32_t gt_arg1_179499 = ((int32_t *) mem_181496)[j_179472];
                                        int8_t gt_arg0_179503 = ((int8_t *) mem_181492)[tmp_179494];
                                        int64_t gt_arg0_179504 = ((int64_t *) mem_181494)[tmp_179494];
                                        int32_t gt_arg0_179505 = ((int32_t *) mem_181496)[tmp_179494];
                                        bool cond_179506 = gt_arg0_179503 == gt_arg1_179497;
                                        bool defunc_0_leq_res_t_res_179507 = sle64(gt_arg0_179504, gt_arg1_179498);
                                        bool defunc_0_leq_res_179508 = sle32(gt_arg0_179505, gt_arg1_179499);
                                        bool x_179509 = cond_179506 && defunc_0_leq_res_t_res_179507;
                                        bool x_179510 = !cond_179506;
                                        bool y_179511 = defunc_0_leq_res_179508 && x_179510;
                                        bool defunc_0_leq_res_179512 = x_179509 || y_179511;
                                        bool defunc_0_lifted_gt_res_179513 = !defunc_0_leq_res_179512;
                                        
                                        loop_cond_179496 = defunc_0_lifted_gt_res_179513;
                                    } else {
                                        loop_cond_179496 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182523 = loop_cond_179496;
                                    int64_t j_tmp_182527 = tmp_179494;
                                    
                                    loop_while_179468 = loop_while_tmp_182523;
                                    j_179472 = j_tmp_182527;
                                }
                                s_179463 = loop_while_179468;
                                s_179467 = j_179472;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181473, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181492, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181476, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181494, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181479, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181496, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                    }
                    if (memblock_alloc(ctx, &mem_181573, flat_dim_179339, "mem_181573")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181573.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint8_t *) mem_181473, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181577, bytes_181475, "mem_181577")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181577.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181581, bytes_181478, "mem_181581")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181581.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint32_t *) mem_181479, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    
                    int64_t data_179523;
                    bool data_179524;
                    int64_t data_179528;
                    int64_t loop_dz2084Uz2082U_179529;
                    bool loop_while_179530;
                    int64_t stride_179534;
                    
                    if (memblock_set(ctx, &mem_param_181585, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181588, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181591, &mem_181581, "mem_181581") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179529 = flat_dim_179339;
                    loop_while_179530 = loop_cond_179520;
                    stride_179534 = block_sizze_179338;
                    while (loop_while_179530) {
                        int64_t next_stride_179535 = mul64((int64_t) 2, stride_179534);
                        bool zzero_179536 = next_stride_179535 == (int64_t) 0;
                        bool nonzzero_179537 = !zzero_179536;
                        bool nonzzero_cert_179538;
                        
                        if (!nonzzero_179537) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179539 = sdiv64(flat_dim_179339, next_stride_179535);
                        bool bounds_invalid_upwards_179540 = slt64(num_merges_179539, (int64_t) 0);
                        bool valid_179541 = !bounds_invalid_upwards_179540;
                        bool range_valid_c_179542;
                        
                        if (!valid_179541) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179539, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179544 = sub64(next_stride_179535, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179545 = sle64((int64_t) 0, m_179544);
                        bool cond_179547 = slt64(next_stride_179535, (int64_t) 10);
                        bool protect_assert_disj_179548 = nonzzero_179522 || cond_179547;
                        bool nonzzero_cert_179549;
                        
                        if (!protect_assert_disj_179548) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179550 = smod_safe64(next_stride_179535, merge_block_sizze_179344);
                        bool num_blocks_179551 = zeze_lhs_179550 == (int64_t) 0;
                        bool protect_assert_disj_179552 = cond_179547 || num_blocks_179551;
                        bool assert_c_179553;
                        
                        if (!protect_assert_disj_179552) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179554 = sdiv_safe64(next_stride_179535, merge_block_sizze_179344);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555 = add64((int64_t) 1, num_blocks_179554);
                        int64_t j_m_i_179556 = sub64(next_stride_179535, stride_179534);
                        int64_t flat_dim_179557 = merge_block_sizze_179344 * num_blocks_179554;
                        bool bounds_invalid_upwards_179558 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, (int64_t) 0);
                        bool empty_slice_179559 = j_m_i_179556 == (int64_t) 0;
                        int64_t m_179560 = sub64(j_m_i_179556, (int64_t) 1);
                        bool zzero_lte_i_179561 = sle64((int64_t) 0, stride_179534);
                        bool i_lte_j_179562 = sle64(stride_179534, next_stride_179535);
                        bool empty_slice_179563 = stride_179534 == (int64_t) 0;
                        int64_t m_179564 = sub64(stride_179534, (int64_t) 1);
                        bool bounds_invalid_upwards_179565 = slt64(num_blocks_179554, (int64_t) 0);
                        bool cond_179566 = slt64((int64_t) 0, stride_179534);
                        bool valid_179567 = !bounds_invalid_upwards_179558;
                        int64_t i_p_m_t_s_179568 = add64(stride_179534, m_179560);
                        bool zzero_leq_i_p_m_t_s_179569 = sle64((int64_t) 0, m_179564);
                        bool i_p_m_t_s_leq_w_179570 = slt64(m_179564, next_stride_179535);
                        bool valid_179571 = !bounds_invalid_upwards_179565;
                        bool i_p_m_t_s_leq_w_179572 = slt64(m_179544, flat_dim_179557);
                        bool y_179573 = slt64((int64_t) 0, j_m_i_179556);
                        bool protect_assert_disj_179574 = cond_179547 || valid_179567;
                        bool range_valid_c_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179576 = sle64((int64_t) 0, i_p_m_t_s_179568);
                        bool i_p_m_t_s_leq_w_179577 = slt64(i_p_m_t_s_179568, next_stride_179535);
                        bool y_179578 = zzero_leq_i_p_m_t_s_179569 && i_p_m_t_s_leq_w_179570;
                        bool protect_assert_disj_179579 = cond_179547 || valid_179571;
                        bool range_valid_c_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179554, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179581 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179572;
                        bool y_179582 = zzero_lte_i_179561 && i_p_m_t_s_leq_w_179577;
                        bool forwards_ok_179583 = zzero_lte_i_179561 && y_179578;
                        bool ok_or_empty_179584 = zzero_179536 || y_179581;
                        bool protect_assert_disj_179585 = cond_179566 || y_179573;
                        bool y_179586 = zzero_leq_i_p_m_t_s_179576 && y_179582;
                        bool ok_or_empty_179587 = empty_slice_179563 || forwards_ok_179583;
                        bool protect_assert_disj_179588 = cond_179547 || ok_or_empty_179584;
                        bool index_certs_179589;
                        
                        if (!protect_assert_disj_179588) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) flat_dim_179557, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179590 = !cond_179547;
                        bool protect_assert_disj_179591 = protect_assert_disj_179585 || loop_not_taken_179590;
                        bool index_certs_179592;
                        
                        if (!protect_assert_disj_179591) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179593 = i_lte_j_179562 && y_179586;
                        bool protect_assert_disj_179594 = cond_179547 || ok_or_empty_179587;
                        bool index_certs_179595;
                        
                        if (!protect_assert_disj_179594) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179596 = ok_or_empty_179587 || loop_not_taken_179590;
                        bool index_certs_179597;
                        
                        if (!protect_assert_disj_179596) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179598 = empty_slice_179559 || forwards_ok_179593;
                        bool protect_assert_disj_179599 = cond_179547 || ok_or_empty_179598;
                        bool index_certs_179600;
                        
                        if (!protect_assert_disj_179599) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179601 = loop_not_taken_179590 || ok_or_empty_179598;
                        bool index_certs_179602;
                        
                        if (!protect_assert_disj_179601) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181592 = next_stride_179535 * num_merges_179539;
                        int64_t binop_x_181594 = (int64_t) 8 * num_merges_179539;
                        int64_t bytes_181595 = next_stride_179535 * binop_x_181594;
                        int64_t binop_x_181597 = (int64_t) 4 * num_merges_179539;
                        int64_t bytes_181598 = next_stride_179535 * binop_x_181597;
                        bool i_lte_j_179546 = sle64((int64_t) 0, next_stride_179535);
                        
                        if (mem_181593_cached_sizze_182930 < bytes_181592) {
                            err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182930, bytes_181592);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181596_cached_sizze_182931 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181596, &mem_181596_cached_sizze_182931, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181599_cached_sizze_182932 < bytes_181598) {
                            err = lexical_realloc(ctx, &mem_181599, &mem_181599_cached_sizze_182932, bytes_181598);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181612 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555;
                        int64_t binop_x_181630 = (int64_t) 8 * num_blocks_179554;
                        int64_t bytes_181631 = merge_block_sizze_179344 * binop_x_181630;
                        int64_t binop_x_181633 = (int64_t) 4 * num_blocks_179554;
                        int64_t bytes_181634 = merge_block_sizze_179344 * binop_x_181633;
                        int64_t bytes_181695 = (int64_t) 16 * stride_179534;
                        int64_t bytes_181697 = (int64_t) 8 * stride_179534;
                        
                        for (int64_t i_180766 = 0; i_180766 < num_merges_179539; i_180766++) {
                            int64_t start_179607 = mul64(next_stride_179535, i_180766);
                            int64_t j_m_i_179608 = sub64(loop_dz2084Uz2082U_179529, start_179607);
                            bool empty_slice_179609 = j_m_i_179608 == (int64_t) 0;
                            int64_t m_179610 = sub64(j_m_i_179608, (int64_t) 1);
                            int64_t i_p_m_t_s_179611 = add64(start_179607, m_179610);
                            bool zzero_leq_i_p_m_t_s_179612 = sle64((int64_t) 0, i_p_m_t_s_179611);
                            bool i_p_m_t_s_leq_w_179613 = slt64(i_p_m_t_s_179611, loop_dz2084Uz2082U_179529);
                            bool zzero_lte_i_179614 = sle64((int64_t) 0, start_179607);
                            bool i_lte_j_179615 = sle64(start_179607, loop_dz2084Uz2082U_179529);
                            bool y_179616 = i_p_m_t_s_leq_w_179613 && zzero_lte_i_179614;
                            bool y_179617 = zzero_leq_i_p_m_t_s_179612 && y_179616;
                            bool forwards_ok_179618 = i_lte_j_179615 && y_179617;
                            bool ok_or_empty_179619 = empty_slice_179609 || forwards_ok_179618;
                            bool index_certs_179620;
                            
                            if (!ok_or_empty_179619) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179607, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179529, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179621 = slt64(m_179544, j_m_i_179608);
                            bool y_179622 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179621;
                            bool forwards_ok_179623 = i_lte_j_179546 && y_179622;
                            bool ok_or_empty_179624 = zzero_179536 || forwards_ok_179623;
                            bool index_certs_179625;
                            
                            if (!ok_or_empty_179624) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) j_m_i_179608, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179547) {
                                int8_t dummy_179629;
                                int64_t dummy_179630;
                                int32_t dummy_179631;
                                
                                if (cond_179566) {
                                    int8_t head_res_179632 = ((int8_t *) mem_param_181585.mem)[start_179607];
                                    int64_t head_res_179633 = ((int64_t *) mem_param_181588.mem)[start_179607];
                                    int32_t head_res_179634 = ((int32_t *) mem_param_181591.mem)[start_179607];
                                    
                                    dummy_179629 = head_res_179632;
                                    dummy_179630 = head_res_179633;
                                    dummy_179631 = head_res_179634;
                                } else {
                                    int64_t slice_179635 = stride_179534 + start_179607;
                                    int8_t head_res_179636 = ((int8_t *) mem_param_181585.mem)[slice_179635];
                                    int64_t head_res_179637 = ((int64_t *) mem_param_181588.mem)[slice_179635];
                                    int32_t head_res_179638 = ((int32_t *) mem_param_181591.mem)[slice_179635];
                                    
                                    dummy_179629 = head_res_179636;
                                    dummy_179630 = head_res_179637;
                                    dummy_179631 = head_res_179638;
                                }
                                if (memblock_alloc(ctx, &mem_181694, next_stride_179535, "mem_181694")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182540 = 0; nest_i_182540 < next_stride_179535; nest_i_182540++) {
                                    ((int8_t *) mem_181694.mem)[nest_i_182540] = dummy_179629;
                                }
                                if (memblock_alloc(ctx, &mem_181696, bytes_181695, "mem_181696")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182541 = 0; nest_i_182541 < next_stride_179535; nest_i_182541++) {
                                    ((int64_t *) mem_181696.mem)[nest_i_182541] = dummy_179630;
                                }
                                if (memblock_alloc(ctx, &mem_181698, bytes_181697, "mem_181698")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182542 = 0; nest_i_182542 < next_stride_179535; nest_i_182542++) {
                                    ((int32_t *) mem_181698.mem)[nest_i_182542] = dummy_179631;
                                }
                                
                                int64_t data_179642;
                                int64_t i_179647 = (int64_t) 0;
                                
                                for (int64_t k_179646 = 0; k_179646 < next_stride_179535; k_179646++) {
                                    int64_t j_179651 = sub64(k_179646, i_179647);
                                    bool cond_179652 = j_179651 == j_m_i_179556;
                                    bool cond_179653;
                                    
                                    if (cond_179652) {
                                        cond_179653 = 1;
                                    } else {
                                        bool cond_179654 = slt64(i_179647, stride_179534);
                                        bool cond_f_res_179655;
                                        
                                        if (cond_179654) {
                                            bool x_179656 = sle64((int64_t) 0, j_179651);
                                            bool y_179657 = slt64(j_179651, j_m_i_179556);
                                            bool bounds_check_179658 = x_179656 && y_179657;
                                            bool index_certs_179659;
                                            
                                            if (!bounds_check_179658) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179665 = sle64((int64_t) 0, i_179647);
                                            bool bounds_check_179666 = cond_179654 && x_179665;
                                            bool index_certs_179667;
                                            
                                            if (!bounds_check_179666) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179660 = stride_179534 + j_179651;
                                            int64_t slice_179661 = start_179607 + slice_179660;
                                            int8_t leq_arg1_179662 = ((int8_t *) mem_param_181585.mem)[slice_179661];
                                            int64_t leq_arg1_179663 = ((int64_t *) mem_param_181588.mem)[slice_179661];
                                            int32_t leq_arg1_179664 = ((int32_t *) mem_param_181591.mem)[slice_179661];
                                            int64_t slice_179668 = start_179607 + i_179647;
                                            int8_t leq_arg0_179669 = ((int8_t *) mem_param_181585.mem)[slice_179668];
                                            int64_t leq_arg0_179670 = ((int64_t *) mem_param_181588.mem)[slice_179668];
                                            int32_t leq_arg0_179671 = ((int32_t *) mem_param_181591.mem)[slice_179668];
                                            bool cond_179672 = leq_arg0_179669 == leq_arg1_179662;
                                            bool defunc_0_leq_res_t_res_179673 = sle64(leq_arg0_179670, leq_arg1_179663);
                                            bool defunc_0_leq_res_179674 = sle32(leq_arg0_179671, leq_arg1_179664);
                                            bool x_179675 = cond_179672 && defunc_0_leq_res_t_res_179673;
                                            bool x_179676 = !cond_179672;
                                            bool y_179677 = defunc_0_leq_res_179674 && x_179676;
                                            bool defunc_0_leq_res_179678 = x_179675 || y_179677;
                                            
                                            cond_f_res_179655 = defunc_0_leq_res_179678;
                                        } else {
                                            cond_f_res_179655 = 0;
                                        }
                                        cond_179653 = cond_f_res_179655;
                                    }
                                    
                                    int64_t loopres_179679;
                                    int8_t loopres_179680;
                                    int64_t loopres_179681;
                                    int32_t loopres_179682;
                                    
                                    if (cond_179653) {
                                        bool x_179684 = sle64((int64_t) 0, i_179647);
                                        bool y_179685 = slt64(i_179647, stride_179534);
                                        bool bounds_check_179686 = x_179684 && y_179685;
                                        bool index_certs_179687;
                                        
                                        if (!bounds_check_179686) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179683 = add64((int64_t) 1, i_179647);
                                        int64_t slice_179688 = start_179607 + i_179647;
                                        int8_t tmp_179689 = ((int8_t *) mem_param_181585.mem)[slice_179688];
                                        int64_t tmp_179690 = ((int64_t *) mem_param_181588.mem)[slice_179688];
                                        int32_t tmp_179691 = ((int32_t *) mem_param_181591.mem)[slice_179688];
                                        
                                        loopres_179679 = tmp_179683;
                                        loopres_179680 = tmp_179689;
                                        loopres_179681 = tmp_179690;
                                        loopres_179682 = tmp_179691;
                                    } else {
                                        bool x_179692 = sle64((int64_t) 0, j_179651);
                                        bool y_179693 = slt64(j_179651, j_m_i_179556);
                                        bool bounds_check_179694 = x_179692 && y_179693;
                                        bool index_certs_179695;
                                        
                                        if (!bounds_check_179694) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179696 = stride_179534 + j_179651;
                                        int64_t slice_179697 = start_179607 + slice_179696;
                                        int8_t tmp_179698 = ((int8_t *) mem_param_181585.mem)[slice_179697];
                                        int64_t tmp_179699 = ((int64_t *) mem_param_181588.mem)[slice_179697];
                                        int32_t tmp_179700 = ((int32_t *) mem_param_181591.mem)[slice_179697];
                                        
                                        loopres_179679 = i_179647;
                                        loopres_179680 = tmp_179698;
                                        loopres_179681 = tmp_179699;
                                        loopres_179682 = tmp_179700;
                                    }
                                    ((int8_t *) mem_181694.mem)[k_179646] = loopres_179680;
                                    ((int64_t *) mem_181696.mem)[k_179646] = loopres_179681;
                                    ((int32_t *) mem_181698.mem)[k_179646] = loopres_179682;
                                    
                                    int64_t i_tmp_182543 = loopres_179679;
                                    
                                    i_179647 = i_tmp_182543;
                                }
                                data_179642 = i_179647;
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181694, "mem_181694") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181696, "mem_181696") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181698, "mem_181698") != 0)
                                    return 1;
                            } else {
                                if (mem_181613_cached_sizze_182933 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181613, &mem_181613_cached_sizze_182933, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182934 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182934, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180747 = 0; i_180747 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555; i_180747++) {
                                    int64_t split_count_arg3_179708 = mul64(merge_block_sizze_179344, i_180747);
                                    int64_t defunc_0_split_count_res_179709;
                                    int64_t defunc_0_split_count_res_179710;
                                    int64_t defunc_0_split_count_res_179711;
                                    int64_t defunc_0_split_count_res_179712;
                                    int64_t defunc_0_split_count_res_179713;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_179709, &defunc_0_split_count_res_179710, &defunc_0_split_count_res_179711, &defunc_0_split_count_res_179712, &defunc_0_split_count_res_179713, (int64_t) 0, stride_179534, (int64_t) 0, j_m_i_179556, split_count_arg3_179708) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179714 = slt64((int64_t) 0, defunc_0_split_count_res_179713);
                                    bool defunc_0_split_count_res_179715;
                                    int64_t defunc_0_split_count_res_179716;
                                    int64_t defunc_0_split_count_res_179717;
                                    int64_t defunc_0_split_count_res_179718;
                                    int64_t defunc_0_split_count_res_179719;
                                    int64_t defunc_0_split_count_res_179720;
                                    bool loop_while_179721;
                                    int64_t ss_179722;
                                    int64_t ss_179723;
                                    int64_t tt_179724;
                                    int64_t tt_179725;
                                    int64_t count_179726;
                                    
                                    loop_while_179721 = loop_cond_179714;
                                    ss_179722 = defunc_0_split_count_res_179709;
                                    ss_179723 = defunc_0_split_count_res_179710;
                                    tt_179724 = defunc_0_split_count_res_179711;
                                    tt_179725 = defunc_0_split_count_res_179712;
                                    count_179726 = defunc_0_split_count_res_179713;
                                    while (loop_while_179721) {
                                        int64_t zlze_lhs_179727 = sub64(ss_179723, ss_179722);
                                        bool cond_179728 = sle64(zlze_lhs_179727, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179729;
                                        int64_t defunc_0_lifted_step_res_179730;
                                        int64_t defunc_0_lifted_step_res_179731;
                                        int64_t defunc_0_lifted_step_res_179732;
                                        
                                        if (cond_179728) {
                                            int64_t tmp_179733 = add64(tt_179724, count_179726);
                                            
                                            defunc_0_lifted_step_res_179729 = ss_179722;
                                            defunc_0_lifted_step_res_179730 = tmp_179733;
                                            defunc_0_lifted_step_res_179731 = tt_179725;
                                            defunc_0_lifted_step_res_179732 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179734 = sub64(tt_179725, tt_179724);
                                            bool cond_179735 = sle64(zlze_lhs_179734, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179736;
                                            int64_t defunc_0_lifted_step_res_f_res_179737;
                                            int64_t defunc_0_lifted_step_res_f_res_179738;
                                            int64_t defunc_0_lifted_step_res_f_res_179739;
                                            
                                            if (cond_179735) {
                                                int64_t tmp_179740 = add64(ss_179722, count_179726);
                                                
                                                defunc_0_lifted_step_res_f_res_179736 = tmp_179740;
                                                defunc_0_lifted_step_res_f_res_179737 = tt_179724;
                                                defunc_0_lifted_step_res_f_res_179738 = tt_179725;
                                                defunc_0_lifted_step_res_f_res_179739 = (int64_t) 0;
                                            } else {
                                                bool cond_179741 = count_179726 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179742;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179743;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179744;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179745;
                                                
                                                if (cond_179741) {
                                                    bool x_179746 = sle64((int64_t) 0, ss_179722);
                                                    bool y_179747 = slt64(ss_179722, stride_179534);
                                                    bool bounds_check_179748 = x_179746 && y_179747;
                                                    bool index_certs_179749;
                                                    
                                                    if (!bounds_check_179748) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179722, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179754 = sle64((int64_t) 0, tt_179724);
                                                    bool y_179755 = slt64(tt_179724, j_m_i_179556);
                                                    bool bounds_check_179756 = x_179754 && y_179755;
                                                    bool index_certs_179757;
                                                    
                                                    if (!bounds_check_179756) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179724, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179750 = start_179607 + ss_179722;
                                                    int8_t leq_arg1_179751 = ((int8_t *) mem_param_181585.mem)[slice_179750];
                                                    int64_t leq_arg1_179752 = ((int64_t *) mem_param_181588.mem)[slice_179750];
                                                    int32_t leq_arg1_179753 = ((int32_t *) mem_param_181591.mem)[slice_179750];
                                                    int64_t slice_179758 = stride_179534 + tt_179724;
                                                    int64_t slice_179759 = start_179607 + slice_179758;
                                                    int8_t leq_arg0_179760 = ((int8_t *) mem_param_181585.mem)[slice_179759];
                                                    int64_t leq_arg0_179761 = ((int64_t *) mem_param_181588.mem)[slice_179759];
                                                    int32_t leq_arg0_179762 = ((int32_t *) mem_param_181591.mem)[slice_179759];
                                                    bool cond_179763 = leq_arg0_179760 == leq_arg1_179751;
                                                    bool defunc_0_leq_res_t_res_179764 = sle64(leq_arg0_179761, leq_arg1_179752);
                                                    bool defunc_0_leq_res_179765 = sle32(leq_arg0_179762, leq_arg1_179753);
                                                    bool x_179766 = cond_179763 && defunc_0_leq_res_t_res_179764;
                                                    bool x_179767 = !cond_179763;
                                                    bool y_179768 = defunc_0_leq_res_179765 && x_179767;
                                                    bool defunc_0_leq_res_179769 = x_179766 || y_179768;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    
                                                    if (defunc_0_leq_res_179769) {
                                                        int64_t tmp_179772 = add64((int64_t) 1, tt_179724);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = ss_179722;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tmp_179772;
                                                    } else {
                                                        int64_t tmp_179773 = add64((int64_t) 1, ss_179722);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = tmp_179773;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tt_179724;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = tt_179725;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179774 = sdiv64(count_179726, (int64_t) 2);
                                                    int64_t n_179775 = sub64(count_179726, m_179774);
                                                    bool cond_179776 = n_179775 == (int64_t) 0;
                                                    int64_t zgze_lhs_179777 = add64(ss_179722, m_179774);
                                                    bool cond_f_res_179778 = sle64(ss_179723, zgze_lhs_179777);
                                                    bool x_179779 = !cond_179776;
                                                    bool y_179780 = cond_f_res_179778 && x_179779;
                                                    bool cond_179781 = cond_179776 || y_179780;
                                                    bool leq_y_x_179782;
                                                    
                                                    if (cond_179781) {
                                                        leq_y_x_179782 = 1;
                                                    } else {
                                                        bool x_179783 = sle64((int64_t) 0, zgze_lhs_179777);
                                                        bool y_179784 = slt64(zgze_lhs_179777, stride_179534);
                                                        bool bounds_check_179785 = x_179783 && y_179784;
                                                        bool index_certs_179786;
                                                        
                                                        if (!bounds_check_179785) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179777, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179791 = add64(tt_179724, n_179775);
                                                        int64_t leq_arg0_179792 = sub64(zm_lhs_179791, (int64_t) 1);
                                                        bool x_179793 = sle64((int64_t) 0, leq_arg0_179792);
                                                        bool y_179794 = slt64(leq_arg0_179792, j_m_i_179556);
                                                        bool bounds_check_179795 = x_179793 && y_179794;
                                                        bool index_certs_179796;
                                                        
                                                        if (!bounds_check_179795) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179792, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179787 = start_179607 + zgze_lhs_179777;
                                                        int8_t leq_arg1_179788 = ((int8_t *) mem_param_181585.mem)[slice_179787];
                                                        int64_t leq_arg1_179789 = ((int64_t *) mem_param_181588.mem)[slice_179787];
                                                        int32_t leq_arg1_179790 = ((int32_t *) mem_param_181591.mem)[slice_179787];
                                                        int64_t slice_179797 = stride_179534 + leq_arg0_179792;
                                                        int64_t slice_179798 = start_179607 + slice_179797;
                                                        int8_t leq_arg0_179799 = ((int8_t *) mem_param_181585.mem)[slice_179798];
                                                        int64_t leq_arg0_179800 = ((int64_t *) mem_param_181588.mem)[slice_179798];
                                                        int32_t leq_arg0_179801 = ((int32_t *) mem_param_181591.mem)[slice_179798];
                                                        bool cond_179802 = leq_arg0_179799 == leq_arg1_179788;
                                                        bool defunc_0_leq_res_t_res_179803 = sle64(leq_arg0_179800, leq_arg1_179789);
                                                        bool defunc_0_leq_res_179804 = sle32(leq_arg0_179801, leq_arg1_179790);
                                                        bool x_179805 = cond_179802 && defunc_0_leq_res_t_res_179803;
                                                        bool x_179806 = !cond_179802;
                                                        bool y_179807 = defunc_0_leq_res_179804 && x_179806;
                                                        bool defunc_0_leq_res_179808 = x_179805 || y_179807;
                                                        
                                                        leq_y_x_179782 = defunc_0_leq_res_179808;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                    
                                                    if (leq_y_x_179782) {
                                                        int64_t tmp_179812 = add64(tt_179724, n_179775);
                                                        int64_t tmp_179813 = sub64(count_179726, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tmp_179812;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tt_179725;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = tmp_179813;
                                                    } else {
                                                        int64_t tmp_179814 = add64(tt_179724, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tt_179724;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tmp_179814;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = count_179726;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = ss_179722;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                }
                                                defunc_0_lifted_step_res_f_res_179736 = defunc_0_lifted_step_res_f_res_f_res_179742;
                                                defunc_0_lifted_step_res_f_res_179737 = defunc_0_lifted_step_res_f_res_f_res_179743;
                                                defunc_0_lifted_step_res_f_res_179738 = defunc_0_lifted_step_res_f_res_f_res_179744;
                                                defunc_0_lifted_step_res_f_res_179739 = defunc_0_lifted_step_res_f_res_f_res_179745;
                                            }
                                            defunc_0_lifted_step_res_179729 = defunc_0_lifted_step_res_f_res_179736;
                                            defunc_0_lifted_step_res_179730 = defunc_0_lifted_step_res_f_res_179737;
                                            defunc_0_lifted_step_res_179731 = defunc_0_lifted_step_res_f_res_179738;
                                            defunc_0_lifted_step_res_179732 = defunc_0_lifted_step_res_f_res_179739;
                                        }
                                        
                                        int64_t loopres_179815;
                                        int64_t loopres_179816;
                                        int64_t loopres_179817;
                                        int64_t loopres_179818;
                                        int64_t loopres_179819;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_179815, &loopres_179816, &loopres_179817, &loopres_179818, &loopres_179819, defunc_0_lifted_step_res_179729, ss_179723, defunc_0_lifted_step_res_179730, defunc_0_lifted_step_res_179731, defunc_0_lifted_step_res_179732) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179820 = slt64((int64_t) 0, loopres_179819);
                                        bool loop_while_tmp_182549 = loop_cond_179820;
                                        int64_t ss_tmp_182550 = loopres_179815;
                                        int64_t ss_tmp_182551 = loopres_179816;
                                        int64_t tt_tmp_182552 = loopres_179817;
                                        int64_t tt_tmp_182553 = loopres_179818;
                                        int64_t count_tmp_182554 = loopres_179819;
                                        
                                        loop_while_179721 = loop_while_tmp_182549;
                                        ss_179722 = ss_tmp_182550;
                                        ss_179723 = ss_tmp_182551;
                                        tt_179724 = tt_tmp_182552;
                                        tt_179725 = tt_tmp_182553;
                                        count_179726 = count_tmp_182554;
                                    }
                                    defunc_0_split_count_res_179715 = loop_while_179721;
                                    defunc_0_split_count_res_179716 = ss_179722;
                                    defunc_0_split_count_res_179717 = ss_179723;
                                    defunc_0_split_count_res_179718 = tt_179724;
                                    defunc_0_split_count_res_179719 = tt_179725;
                                    defunc_0_split_count_res_179720 = count_179726;
                                    ((int64_t *) mem_181613)[i_180747] = defunc_0_split_count_res_179716;
                                    ((int64_t *) mem_181615)[i_180747] = defunc_0_split_count_res_179718;
                                }
                                if (mem_181629_cached_sizze_182935 < flat_dim_179557) {
                                    err = lexical_realloc(ctx, &mem_181629, &mem_181629_cached_sizze_182935, flat_dim_179557);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181632_cached_sizze_182936 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181632, &mem_181632_cached_sizze_182936, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181635_cached_sizze_182937 < bytes_181634) {
                                    err = lexical_realloc(ctx, &mem_181635, &mem_181635_cached_sizze_182937, bytes_181634);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180756 = 0; i_180756 < num_blocks_179554; i_180756++) {
                                    bool y_179829 = slt64(i_180756, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool index_certs_179831;
                                    
                                    if (!y_179829) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179832 = ((int64_t *) mem_181613)[i_180756];
                                    int64_t defunc_0_f_res_179833 = ((int64_t *) mem_181615)[i_180756];
                                    int64_t tmp_179834 = add64((int64_t) 1, i_180756);
                                    bool x_179835 = sle64((int64_t) 0, tmp_179834);
                                    bool y_179836 = slt64(tmp_179834, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool bounds_check_179837 = x_179835 && y_179836;
                                    bool index_certs_179838;
                                    
                                    if (!bounds_check_179837) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179839 = ((int64_t *) mem_181613)[tmp_179834];
                                    int64_t defunc_0_f_res_179840 = ((int64_t *) mem_181615)[tmp_179834];
                                    int64_t merge_sequential_arg2_179841 = add64(stride_179534, defunc_0_f_res_179833);
                                    int64_t merge_sequential_arg2_179842 = add64(stride_179534, defunc_0_f_res_179840);
                                    int64_t j_m_i_179843 = sub64(merge_sequential_arg2_179842, merge_sequential_arg2_179841);
                                    bool empty_slice_179844 = j_m_i_179843 == (int64_t) 0;
                                    int64_t m_179845 = sub64(j_m_i_179843, (int64_t) 1);
                                    int64_t i_p_m_t_s_179846 = add64(merge_sequential_arg2_179841, m_179845);
                                    bool zzero_leq_i_p_m_t_s_179847 = sle64((int64_t) 0, i_p_m_t_s_179846);
                                    bool i_p_m_t_s_leq_w_179848 = slt64(i_p_m_t_s_179846, next_stride_179535);
                                    bool zzero_lte_i_179849 = sle64((int64_t) 0, merge_sequential_arg2_179841);
                                    bool i_lte_j_179850 = sle64(merge_sequential_arg2_179841, merge_sequential_arg2_179842);
                                    bool y_179851 = i_p_m_t_s_leq_w_179848 && zzero_lte_i_179849;
                                    bool y_179852 = zzero_leq_i_p_m_t_s_179847 && y_179851;
                                    bool forwards_ok_179853 = i_lte_j_179850 && y_179852;
                                    bool ok_or_empty_179854 = empty_slice_179844 || forwards_ok_179853;
                                    bool index_certs_179855;
                                    
                                    if (!ok_or_empty_179854) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179841, ":", (long long) merge_sequential_arg2_179842, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179856 = sub64(defunc_0_f_res_179839, defunc_0_f_res_179832);
                                    bool empty_slice_179857 = j_m_i_179856 == (int64_t) 0;
                                    int64_t m_179858 = sub64(j_m_i_179856, (int64_t) 1);
                                    int64_t i_p_m_t_s_179859 = add64(defunc_0_f_res_179832, m_179858);
                                    bool zzero_leq_i_p_m_t_s_179860 = sle64((int64_t) 0, i_p_m_t_s_179859);
                                    bool i_p_m_t_s_leq_w_179861 = slt64(i_p_m_t_s_179859, next_stride_179535);
                                    bool zzero_lte_i_179862 = sle64((int64_t) 0, defunc_0_f_res_179832);
                                    bool i_lte_j_179863 = sle64(defunc_0_f_res_179832, defunc_0_f_res_179839);
                                    bool y_179864 = i_p_m_t_s_leq_w_179861 && zzero_lte_i_179862;
                                    bool y_179865 = zzero_leq_i_p_m_t_s_179860 && y_179864;
                                    bool forwards_ok_179866 = i_lte_j_179863 && y_179865;
                                    bool ok_or_empty_179867 = empty_slice_179857 || forwards_ok_179866;
                                    bool index_certs_179868;
                                    
                                    if (!ok_or_empty_179867) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179832, ":", (long long) defunc_0_f_res_179839, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179869 = slt64((int64_t) 0, j_m_i_179856);
                                    int8_t dummy_179870;
                                    int64_t dummy_179871;
                                    int32_t dummy_179872;
                                    
                                    if (cond_179869) {
                                        bool index_certs_179873;
                                        
                                        if (!cond_179869) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179874 = start_179607 + defunc_0_f_res_179832;
                                        int8_t head_res_179875 = ((int8_t *) mem_param_181585.mem)[slice_179874];
                                        int64_t head_res_179876 = ((int64_t *) mem_param_181588.mem)[slice_179874];
                                        int32_t head_res_179877 = ((int32_t *) mem_param_181591.mem)[slice_179874];
                                        
                                        dummy_179870 = head_res_179875;
                                        dummy_179871 = head_res_179876;
                                        dummy_179872 = head_res_179877;
                                    } else {
                                        bool y_179878 = slt64((int64_t) 0, j_m_i_179843);
                                        bool index_certs_179879;
                                        
                                        if (!y_179878) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179880 = start_179607 + merge_sequential_arg2_179841;
                                        int8_t head_res_179881 = ((int8_t *) mem_param_181585.mem)[slice_179880];
                                        int64_t head_res_179882 = ((int64_t *) mem_param_181588.mem)[slice_179880];
                                        int32_t head_res_179883 = ((int32_t *) mem_param_181591.mem)[slice_179880];
                                        
                                        dummy_179870 = head_res_179881;
                                        dummy_179871 = head_res_179882;
                                        dummy_179872 = head_res_179883;
                                    }
                                    for (int64_t nest_i_182558 = 0; nest_i_182558 < merge_block_sizze_179344; nest_i_182558++) {
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + nest_i_182558] = dummy_179870;
                                    }
                                    for (int64_t nest_i_182559 = 0; nest_i_182559 < merge_block_sizze_179344; nest_i_182559++) {
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + nest_i_182559] = dummy_179871;
                                    }
                                    for (int64_t nest_i_182560 = 0; nest_i_182560 < merge_block_sizze_179344; nest_i_182560++) {
                                        ((int32_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + nest_i_182560] = dummy_179872;
                                    }
                                    
                                    int64_t data_179887;
                                    int64_t i_179892 = (int64_t) 0;
                                    
                                    for (int64_t k_179891 = 0; k_179891 < merge_block_sizze_179344; k_179891++) {
                                        int64_t j_179896 = sub64(k_179891, i_179892);
                                        bool cond_179897 = j_179896 == j_m_i_179843;
                                        bool cond_179898;
                                        
                                        if (cond_179897) {
                                            cond_179898 = 1;
                                        } else {
                                            bool cond_179899 = slt64(i_179892, j_m_i_179856);
                                            bool cond_f_res_179900;
                                            
                                            if (cond_179899) {
                                                bool x_179901 = sle64((int64_t) 0, j_179896);
                                                bool y_179902 = slt64(j_179896, j_m_i_179843);
                                                bool bounds_check_179903 = x_179901 && y_179902;
                                                bool index_certs_179904;
                                                
                                                if (!bounds_check_179903) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179910 = sle64((int64_t) 0, i_179892);
                                                bool bounds_check_179911 = cond_179899 && x_179910;
                                                bool index_certs_179912;
                                                
                                                if (!bounds_check_179911) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179905 = merge_sequential_arg2_179841 + j_179896;
                                                int64_t slice_179906 = start_179607 + slice_179905;
                                                int8_t leq_arg1_179907 = ((int8_t *) mem_param_181585.mem)[slice_179906];
                                                int64_t leq_arg1_179908 = ((int64_t *) mem_param_181588.mem)[slice_179906];
                                                int32_t leq_arg1_179909 = ((int32_t *) mem_param_181591.mem)[slice_179906];
                                                int64_t slice_179913 = defunc_0_f_res_179832 + i_179892;
                                                int64_t slice_179914 = start_179607 + slice_179913;
                                                int8_t leq_arg0_179915 = ((int8_t *) mem_param_181585.mem)[slice_179914];
                                                int64_t leq_arg0_179916 = ((int64_t *) mem_param_181588.mem)[slice_179914];
                                                int32_t leq_arg0_179917 = ((int32_t *) mem_param_181591.mem)[slice_179914];
                                                bool cond_179918 = leq_arg0_179915 == leq_arg1_179907;
                                                bool defunc_0_leq_res_t_res_179919 = sle64(leq_arg0_179916, leq_arg1_179908);
                                                bool defunc_0_leq_res_179920 = sle32(leq_arg0_179917, leq_arg1_179909);
                                                bool x_179921 = cond_179918 && defunc_0_leq_res_t_res_179919;
                                                bool x_179922 = !cond_179918;
                                                bool y_179923 = defunc_0_leq_res_179920 && x_179922;
                                                bool defunc_0_leq_res_179924 = x_179921 || y_179923;
                                                
                                                cond_f_res_179900 = defunc_0_leq_res_179924;
                                            } else {
                                                cond_f_res_179900 = 0;
                                            }
                                            cond_179898 = cond_f_res_179900;
                                        }
                                        
                                        int64_t loopres_179925;
                                        int8_t loopres_179926;
                                        int64_t loopres_179927;
                                        int32_t loopres_179928;
                                        
                                        if (cond_179898) {
                                            bool x_179930 = sle64((int64_t) 0, i_179892);
                                            bool y_179931 = slt64(i_179892, j_m_i_179856);
                                            bool bounds_check_179932 = x_179930 && y_179931;
                                            bool index_certs_179933;
                                            
                                            if (!bounds_check_179932) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179929 = add64((int64_t) 1, i_179892);
                                            int64_t slice_179934 = defunc_0_f_res_179832 + i_179892;
                                            int64_t slice_179935 = start_179607 + slice_179934;
                                            int8_t tmp_179936 = ((int8_t *) mem_param_181585.mem)[slice_179935];
                                            int64_t tmp_179937 = ((int64_t *) mem_param_181588.mem)[slice_179935];
                                            int32_t tmp_179938 = ((int32_t *) mem_param_181591.mem)[slice_179935];
                                            
                                            loopres_179925 = tmp_179929;
                                            loopres_179926 = tmp_179936;
                                            loopres_179927 = tmp_179937;
                                            loopres_179928 = tmp_179938;
                                        } else {
                                            bool x_179939 = sle64((int64_t) 0, j_179896);
                                            bool y_179940 = slt64(j_179896, j_m_i_179843);
                                            bool bounds_check_179941 = x_179939 && y_179940;
                                            bool index_certs_179942;
                                            
                                            if (!bounds_check_179941) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179943 = merge_sequential_arg2_179841 + j_179896;
                                            int64_t slice_179944 = start_179607 + slice_179943;
                                            int8_t tmp_179945 = ((int8_t *) mem_param_181585.mem)[slice_179944];
                                            int64_t tmp_179946 = ((int64_t *) mem_param_181588.mem)[slice_179944];
                                            int32_t tmp_179947 = ((int32_t *) mem_param_181591.mem)[slice_179944];
                                            
                                            loopres_179925 = i_179892;
                                            loopres_179926 = tmp_179945;
                                            loopres_179927 = tmp_179946;
                                            loopres_179928 = tmp_179947;
                                        }
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179926;
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179927;
                                        ((int32_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179928;
                                        
                                        int64_t i_tmp_182561 = loopres_179925;
                                        
                                        i_179892 = i_tmp_182561;
                                    }
                                    data_179887 = i_179892;
                                }
                                if (memblock_alloc(ctx, &mem_181684, flat_dim_179557, "mem_181684")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181684.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint8_t *) mem_181629, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181688, bytes_181631, "mem_181688")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181688.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181632, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181692, bytes_181634, "mem_181692")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181692.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint32_t *) mem_181635, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181684, "mem_181684") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181688, "mem_181688") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181692, "mem_181692") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181593, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181596, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181599, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181739, bytes_181592, "mem_181739")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181739.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint8_t *) mem_181593, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181743, bytes_181595, "mem_181743")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181743.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181596, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181747, bytes_181598, "mem_181747")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181747.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint32_t *) mem_181599, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        
                        bool loop_cond_179967 = slt64(next_stride_179535, flat_dim_179339);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182528, &mem_181739, "mem_181739") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182529, &mem_181743, "mem_181743") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182530, &mem_181747, "mem_181747") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182531 = bytes_181592;
                        bool loop_while_tmp_182532 = loop_cond_179967;
                        int64_t stride_tmp_182536 = next_stride_179535;
                        
                        if (memblock_set(ctx, &mem_param_181585, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181588, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181591, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179529 = loop_dz2084Uz2082U_tmp_182531;
                        loop_while_179530 = loop_while_tmp_182532;
                        stride_179534 = stride_tmp_182536;
                    }
                    if (memblock_set(ctx, &ext_mem_181757, &mem_param_181585, "mem_param_181585") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181756, &mem_param_181588, "mem_param_181588") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181755, &mem_param_181591, "mem_param_181591") != 0)
                        return 1;
                    data_179523 = loop_dz2084Uz2082U_179529;
                    data_179524 = loop_while_179530;
                    data_179528 = stride_179534;
                    if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
                        return 1;
                    
                    bool empty_slice_179968 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179969 = sle64((int64_t) 0, zs_lhs_179323);
                    bool i_p_m_t_s_leq_w_179970 = slt64(zs_lhs_179323, data_179523);
                    bool y_179971 = zzero_leq_i_p_m_t_s_179969 && i_p_m_t_s_leq_w_179970;
                    bool ok_or_empty_179972 = empty_slice_179968 || y_179971;
                    bool index_certs_179973;
                    
                    if (!ok_or_empty_179972) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] out of bounds for array of shape [", (long long) data_179523, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181766, &ext_mem_181757, "ext_mem_181757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &ext_mem_181756, "ext_mem_181756") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &ext_mem_181755, "ext_mem_181755") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181433, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181766.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181436, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181439, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
                    return 1;
                for (int64_t i_180772 = 0; i_180772 < perThread_175600; i_180772++) {
                    int64_t lifted_lambda_res_179995 = add64(zm_rhs_179279, i_180772);
                    
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + i_180772] = lifted_lambda_res_179995;
                }
                
                bool cond_179997 = card_179280 == zp_rhs_175599;
                
                if (cond_179997) {
                    bool y_179999 = slt64(card_179280, perThread_175600);
                    bool index_certs_180000;
                    
                    if (!y_179999) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + card_179280] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181792, bytes_181087, "mem_181792")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_131729; nest_i_182566++) {
                ((int32_t *) mem_181792.mem)[nest_i_182566] = 0;
            }
            if (memblock_alloc(ctx, &mem_181794, bytes_181085, "mem_181794")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_131729; nest_i_182567++) {
                ((int64_t *) mem_181794.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181795, window_sizze_131729, "mem_181795")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_131729; nest_i_182568++) {
                ((int8_t *) mem_181795.mem)[nest_i_182568] = (int8_t) -1;
            }
            for (int64_t write_iter_180787 = 0; write_iter_180787 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601; write_iter_180787++) {
                int64_t new_index_180939 = squot64(write_iter_180787, perThread_175600);
                int64_t binop_y_180941 = perThread_175600 * new_index_180939;
                int64_t new_index_180942 = write_iter_180787 - binop_y_180941;
                int64_t write_iv_180791 = ((int64_t *) mem_181431)[new_index_180939 * perThread_175600 + new_index_180942];
                int8_t write_iv_180792 = ((int8_t *) mem_181433)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180793 = ((int64_t *) mem_181436)[new_index_180939 * perThread_175600 + new_index_180942];
                int32_t write_iv_180794 = ((int32_t *) mem_181439)[new_index_180939 * perThread_175600 + new_index_180942];
                
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_131729)) {
                    ((int8_t *) mem_181795.mem)[write_iv_180791] = write_iv_180792;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_131729)) {
                    ((int64_t *) mem_181794.mem)[write_iv_180791] = write_iv_180793;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_131729)) {
                    ((int32_t *) mem_181792.mem)[write_iv_180791] = write_iv_180794;
                }
            }
            
            int64_t index_concat_branch_180023;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180024 = ((int64_t *) mem_181414)[index_concat_i_178364];
                
                index_concat_branch_180023 = index_concat_180024;
            } else {
                index_concat_branch_180023 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180025;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180026 = ((int64_t *) mem_181416)[index_concat_i_178364];
                
                index_concat_branch_180025 = index_concat_180026;
            } else {
                index_concat_branch_180025 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181795, "mem_181795") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181794, "mem_181794") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181792, "mem_181792") != 0)
                return 1;
            loopres_175590 = index_concat_branch_180023;
            loopres_175591 = index_concat_branch_180025;
        } else {
            int32_t leq_lhs_176581 = ((int32_t *) a_list_mem_181052.mem)[p_175562];
            int32_t leq_rhs_176584 = ((int32_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_176585 = sle32(leq_lhs_176581, leq_rhs_176584);
            int32_t lowest_176586;
            
            if (defunc_0_leq_res_176585) {
                bool index_certs_180027;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_lhs_176581;
            } else {
                bool index_certs_176591;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_rhs_176584;
            }
            if (mem_181069_cached_sizze_182902 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_182902, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181071_cached_sizze_182903 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182903, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180802 = 0; i_180802 < threads_131730; i_180802++) {
                int64_t index_primexp_181018 = add64((int64_t) 1, i_180802);
                int64_t zs_lhs_176607 = mul64(zt_rhs_176600, index_primexp_181018);
                int64_t index_176608 = sdiv64(zs_lhs_176607, partitionFunc_arg0_176577);
                bool cond_176609 = slt64(window_sizze_131729, index_176608);
                int64_t loop_over_176610;
                
                if (cond_176609) {
                    loop_over_176610 = window_sizze_131729;
                } else {
                    loop_over_176610 = index_176608;
                }
                
                int64_t loop_over_176611;
                
                if (cond_176609) {
                    int64_t loop_over_t_res_180028 = sub64(index_176608, window_sizze_131729);
                    
                    loop_over_176611 = loop_over_t_res_180028;
                } else {
                    loop_over_176611 = (int64_t) 0;
                }
                
                int64_t loop_over_176613;
                
                if (cond_176609) {
                    int64_t zm_lhs_180029 = sub64(index_176608, window_sizze_131729);
                    int64_t loop_over_t_res_180030 = sub64(zm_lhs_180029, (int64_t) 1);
                    
                    loop_over_176613 = loop_over_t_res_180030;
                } else {
                    loop_over_176613 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176616;
                int64_t defunc_0_f_res_176617;
                int64_t defunc_0_f_res_176618;
                int64_t defunc_0_f_res_176619;
                bool loop_while_176620;
                int64_t p_176621;
                int64_t p_176622;
                int64_t p_176623;
                
                loop_while_176620 = 1;
                p_176621 = loop_over_176613;
                p_176622 = loop_over_176610;
                p_176623 = loop_over_176611;
                while (loop_while_176620) {
                    int64_t zs_lhs_176624 = sub64(p_176622, p_176621);
                    int64_t offset_176625 = sdiv64(zs_lhs_176624, (int64_t) 2);
                    int64_t ai_176626 = sub64(p_176622, offset_176625);
                    int64_t max_arg1_176627 = add64(p_176623, offset_176625);
                    int64_t max_res_176628 = smax64((int64_t) 0, max_arg1_176627);
                    bool cond_176629 = slt64((int64_t) 0, max_res_176628);
                    int32_t b_prev_176630;
                    
                    if (cond_176629) {
                        int64_t tmp_180031 = sub64(max_res_176628, (int64_t) 1);
                        bool x_180032 = sle64((int64_t) 0, tmp_180031);
                        bool y_180033 = slt64(tmp_180031, window_sizze_131729);
                        bool bounds_check_180034 = x_180032 && y_180033;
                        bool index_certs_180035;
                        
                        if (!bounds_check_180034) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180031, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180036 = p_175563 + tmp_180031;
                        int32_t b_prev_t_res_180037 = ((int32_t *) b_list_mem_181053.mem)[slice_180036];
                        
                        b_prev_176630 = b_prev_t_res_180037;
                    } else {
                        b_prev_176630 = lowest_176586;
                    }
                    
                    bool cond_176637 = sle64(ai_176626, (int64_t) 0);
                    int64_t loopres_176638;
                    int64_t loopres_176639;
                    int64_t loopres_176640;
                    bool loopres_176641;
                    
                    if (cond_176637) {
                        loopres_176638 = p_176621;
                        loopres_176639 = (int64_t) 0;
                        loopres_176640 = max_res_176628;
                        loopres_176641 = 0;
                    } else {
                        bool cond_176642 = sle64(window_sizze_131729, max_res_176628);
                        int64_t loopres_f_res_176643;
                        int64_t loopres_f_res_176644;
                        int64_t loopres_f_res_176645;
                        bool loopres_f_res_176646;
                        
                        if (cond_176642) {
                            int64_t min_res_180039 = smin64(m_175551, ai_176626);
                            bool x_180040 = sle64((int64_t) 0, m_175551);
                            bool y_180041 = slt64(m_175551, window_sizze_131729);
                            bool bounds_check_180042 = x_180040 && y_180041;
                            bool index_certs_180043;
                            
                            if (!bounds_check_180042) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180046 = sle64((int64_t) 0, min_res_180039);
                            bool y_180047 = slt64(min_res_180039, window_sizze_131729);
                            bool bounds_check_180048 = x_180046 && y_180047;
                            bool index_certs_180049;
                            
                            if (!bounds_check_180048) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180039, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_180045 = ((int32_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_180050 = p_175562 + min_res_180039;
                            int32_t leq_rhs_180051 = ((int32_t *) a_list_mem_181052.mem)[slice_180050];
                            bool defunc_0_leq_res_180052 = sle32(leq_lhs_180045, leq_rhs_180051);
                            int64_t loopres_f_res_t_res_180053;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180053 = ai_176626;
                            } else {
                                loopres_f_res_t_res_180053 = p_176622;
                            }
                            
                            bool x_180054 = !defunc_0_leq_res_180052;
                            int64_t loopres_f_res_t_res_180055;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180055 = window_sizze_131729;
                            } else {
                                int64_t tmp_180056 = sub64(m_175551, offset_176625);
                                
                                loopres_f_res_t_res_180055 = tmp_180056;
                            }
                            loopres_f_res_176643 = p_176621;
                            loopres_f_res_176644 = loopres_f_res_t_res_180053;
                            loopres_f_res_176645 = loopres_f_res_t_res_180055;
                            loopres_f_res_176646 = x_180054;
                        } else {
                            bool cond_176664 = sle64(window_sizze_131729, ai_176626);
                            int64_t loopres_f_res_f_res_176665;
                            int64_t loopres_f_res_f_res_176666;
                            int64_t loopres_f_res_f_res_176667;
                            bool loopres_f_res_f_res_176668;
                            
                            if (cond_176664) {
                                int64_t min_res_180058 = smin64(m_175551, max_res_176628);
                                bool x_180059 = sle64((int64_t) 0, m_175551);
                                bool y_180060 = slt64(m_175551, window_sizze_131729);
                                bool bounds_check_180061 = x_180059 && y_180060;
                                bool index_certs_180062;
                                
                                if (!bounds_check_180061) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180065 = sle64((int64_t) 0, min_res_180058);
                                bool y_180066 = slt64(min_res_180058, window_sizze_131729);
                                bool bounds_check_180067 = x_180065 && y_180066;
                                bool index_certs_180068;
                                
                                if (!bounds_check_180067) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180058, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_180064 = ((int32_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_180069 = p_175563 + min_res_180058;
                                int32_t leq_rhs_180070 = ((int32_t *) b_list_mem_181053.mem)[slice_180069];
                                bool defunc_0_leq_res_180071 = sle32(leq_lhs_180064, leq_rhs_180070);
                                int64_t loopres_f_res_f_res_t_res_180072;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180072 = max_res_176628;
                                } else {
                                    loopres_f_res_f_res_t_res_180072 = p_176623;
                                }
                                
                                bool x_180073 = !defunc_0_leq_res_180071;
                                int64_t loopres_f_res_f_res_t_res_180074;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180074 = window_sizze_131729;
                                } else {
                                    loopres_f_res_f_res_t_res_180074 = m_175551;
                                }
                                loopres_f_res_f_res_176665 = p_176621;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_t_res_180074;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_t_res_180072;
                                loopres_f_res_f_res_176668 = x_180073;
                            } else {
                                bool cond_176685 = sle64(p_176622, p_176621);
                                int64_t loopres_f_res_f_res_f_res_176686;
                                int64_t loopres_f_res_f_res_f_res_176687;
                                int64_t loopres_f_res_f_res_f_res_176688;
                                bool loopres_f_res_f_res_f_res_176689;
                                
                                if (cond_176685) {
                                    bool cond_180113 = slt64(ai_176626, window_sizze_131729);
                                    int64_t ai_180114;
                                    
                                    if (cond_180113) {
                                        ai_180114 = ai_176626;
                                    } else {
                                        ai_180114 = m_175551;
                                    }
                                    
                                    bool x_180127 = sle64((int64_t) 0, ai_180114);
                                    bool y_180128 = slt64(ai_180114, window_sizze_131729);
                                    bool bounds_check_180129 = x_180127 && y_180128;
                                    bool index_certs_180130;
                                    
                                    if (!bounds_check_180129) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180114, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_180116;
                                    
                                    if (cond_176629) {
                                        int64_t tmp_180117 = sub64(max_res_176628, (int64_t) 1);
                                        bool x_180118 = sle64((int64_t) 0, tmp_180117);
                                        bool y_180119 = slt64(tmp_180117, window_sizze_131729);
                                        bool bounds_check_180120 = x_180118 && y_180119;
                                        bool index_certs_180121;
                                        
                                        if (!bounds_check_180120) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180117, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180122 = p_175563 + tmp_180117;
                                        int32_t b_prev_t_res_180123 = ((int32_t *) b_list_mem_181053.mem)[slice_180122];
                                        
                                        b_prev_180116 = b_prev_t_res_180123;
                                    } else {
                                        bool index_certs_180125;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180116 = leq_rhs_176584;
                                    }
                                    
                                    int64_t slice_180131 = p_175562 + ai_180114;
                                    int32_t gt_lhs_180132 = ((int32_t *) a_list_mem_181052.mem)[slice_180131];
                                    bool defunc_0_gt_res_180133 = slt32(b_prev_180116, gt_lhs_180132);
                                    int64_t defunc_0_partFunc_sequential_search_res_180134;
                                    int64_t defunc_0_partFunc_sequential_search_res_180135;
                                    
                                    if (defunc_0_gt_res_180133) {
                                        int64_t zl_rhs_180136 = sub64(window_sizze_131729, max_res_176628);
                                        bool loop_cond_180137 = slt64((int64_t) 0, zl_rhs_180136);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180138;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180140;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180141;
                                        bool loop_while_180142;
                                        int64_t p_180143;
                                        int64_t p_180144;
                                        int64_t p_180145;
                                        
                                        loop_while_180142 = loop_cond_180137;
                                        p_180143 = ai_180114;
                                        p_180144 = max_res_176628;
                                        p_180145 = (int64_t) 0;
                                        while (loop_while_180142) {
                                            int64_t i_a_180146 = sub64(ai_180114, p_180145);
                                            int64_t i_b_180147 = add64(max_res_176628, p_180145);
                                            int64_t leq_lhs_180148 = sub64(i_a_180146, (int64_t) 1);
                                            bool x_180149 = sle64((int64_t) 0, leq_lhs_180148);
                                            bool y_180150 = slt64(leq_lhs_180148, window_sizze_131729);
                                            bool bounds_check_180151 = x_180149 && y_180150;
                                            bool index_certs_180152;
                                            
                                            if (!bounds_check_180151) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180148, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180155 = sle64((int64_t) 0, i_b_180147);
                                            bool y_180156 = slt64(i_b_180147, window_sizze_131729);
                                            bool bounds_check_180157 = x_180155 && y_180156;
                                            bool index_certs_180158;
                                            
                                            if (!bounds_check_180157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180147, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180153 = p_175562 + leq_lhs_180148;
                                            int32_t leq_lhs_180154 = ((int32_t *) a_list_mem_181052.mem)[slice_180153];
                                            int64_t slice_180159 = p_175563 + i_b_180147;
                                            int32_t leq_rhs_180160 = ((int32_t *) b_list_mem_181053.mem)[slice_180159];
                                            bool defunc_0_leq_res_180161 = sle32(leq_lhs_180154, leq_rhs_180160);
                                            int64_t loopres_180162;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180162 = i_a_180146;
                                            } else {
                                                loopres_180162 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180163;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180163 = i_b_180147;
                                            } else {
                                                loopres_180163 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180164;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180164 = zl_rhs_180136;
                                            } else {
                                                int64_t tmp_180165 = add64((int64_t) 1, p_180145);
                                                
                                                loopres_180164 = tmp_180165;
                                            }
                                            
                                            bool loop_cond_180166 = slt64(loopres_180164, zl_rhs_180136);
                                            bool loop_while_tmp_182578 = loop_cond_180166;
                                            int64_t p_tmp_182579 = loopres_180162;
                                            int64_t p_tmp_182580 = loopres_180163;
                                            int64_t p_tmp_182581 = loopres_180164;
                                            
                                            loop_while_180142 = loop_while_tmp_182578;
                                            p_180143 = p_tmp_182579;
                                            p_180144 = p_tmp_182580;
                                            p_180145 = p_tmp_182581;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180138 = loop_while_180142;
                                        defunc_0_partFunc_sequential_search_res_t_res_180139 = p_180143;
                                        defunc_0_partFunc_sequential_search_res_t_res_180140 = p_180144;
                                        defunc_0_partFunc_sequential_search_res_t_res_180141 = p_180145;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_t_res_180140;
                                    } else {
                                        int64_t zl_rhs_180167 = sub64(max_res_176628, (int64_t) 1);
                                        bool loop_cond_180168 = slt64((int64_t) 0, zl_rhs_180167);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180169;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180171;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180172;
                                        bool loop_while_180173;
                                        int64_t p_180174;
                                        int64_t p_180175;
                                        int64_t p_180176;
                                        
                                        loop_while_180173 = loop_cond_180168;
                                        p_180174 = ai_180114;
                                        p_180175 = max_res_176628;
                                        p_180176 = (int64_t) 0;
                                        while (loop_while_180173) {
                                            int64_t zp_lhs_180177 = add64(ai_180114, p_180176);
                                            int64_t hi_a_180178 = add64((int64_t) 1, zp_lhs_180177);
                                            bool cond_180179 = slt64(hi_a_180178, window_sizze_131729);
                                            int64_t i_a_180180;
                                            
                                            if (cond_180179) {
                                                i_a_180180 = hi_a_180178;
                                            } else {
                                                i_a_180180 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_180182 = sub64(max_res_176628, p_180176);
                                            int64_t i_b_180183 = sub64(zm_lhs_180182, (int64_t) 1);
                                            bool x_180184 = sle64((int64_t) 0, i_a_180180);
                                            bool y_180185 = slt64(i_a_180180, window_sizze_131729);
                                            bool bounds_check_180186 = x_180184 && y_180185;
                                            bool index_certs_180187;
                                            
                                            if (!bounds_check_180186) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180180, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180190 = sle64((int64_t) 0, i_b_180183);
                                            bool y_180191 = slt64(i_b_180183, window_sizze_131729);
                                            bool bounds_check_180192 = x_180190 && y_180191;
                                            bool index_certs_180193;
                                            
                                            if (!bounds_check_180192) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180183, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180188 = p_175562 + i_a_180180;
                                            int32_t gt_lhs_180189 = ((int32_t *) a_list_mem_181052.mem)[slice_180188];
                                            int64_t slice_180194 = p_175563 + i_b_180183;
                                            int32_t gt_rhs_180195 = ((int32_t *) b_list_mem_181053.mem)[slice_180194];
                                            bool defunc_0_gt_res_180196 = slt32(gt_rhs_180195, gt_lhs_180189);
                                            int64_t loopres_180197;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180197 = i_a_180180;
                                            } else {
                                                loopres_180197 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180198;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180198 = zm_lhs_180182;
                                            } else {
                                                loopres_180198 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180199;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180199 = zl_rhs_180167;
                                            } else {
                                                int64_t tmp_180200 = add64((int64_t) 1, p_180176);
                                                
                                                loopres_180199 = tmp_180200;
                                            }
                                            
                                            bool loop_cond_180201 = slt64(loopres_180199, zl_rhs_180167);
                                            bool loop_while_tmp_182582 = loop_cond_180201;
                                            int64_t p_tmp_182583 = loopres_180197;
                                            int64_t p_tmp_182584 = loopres_180198;
                                            int64_t p_tmp_182585 = loopres_180199;
                                            
                                            loop_while_180173 = loop_while_tmp_182582;
                                            p_180174 = p_tmp_182583;
                                            p_180175 = p_tmp_182584;
                                            p_180176 = p_tmp_182585;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180169 = loop_while_180173;
                                        defunc_0_partFunc_sequential_search_res_f_res_180170 = p_180174;
                                        defunc_0_partFunc_sequential_search_res_f_res_180171 = p_180175;
                                        defunc_0_partFunc_sequential_search_res_f_res_180172 = p_180176;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_f_res_180171;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = p_176621;
                                    loopres_f_res_f_res_f_res_176687 = defunc_0_partFunc_sequential_search_res_180134;
                                    loopres_f_res_f_res_f_res_176688 = defunc_0_partFunc_sequential_search_res_180135;
                                    loopres_f_res_f_res_f_res_176689 = 0;
                                } else {
                                    bool x_176773 = sle64((int64_t) 0, ai_176626);
                                    bool y_176774 = slt64(ai_176626, window_sizze_131729);
                                    bool bounds_check_176775 = x_176773 && y_176774;
                                    bool index_certs_176776;
                                    
                                    if (!bounds_check_176775) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176626, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178442 = p_175562 + ai_176626;
                                    int32_t gt_lhs_176777 = ((int32_t *) a_list_mem_181052.mem)[slice_178442];
                                    bool defunc_0_gt_res_176778 = slt32(b_prev_176630, gt_lhs_176777);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176779;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176780;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176781;
                                    bool loopres_f_res_f_res_f_res_f_res_176782;
                                    
                                    if (defunc_0_gt_res_176778) {
                                        int64_t leq_lhs_180202 = sub64(ai_176626, (int64_t) 1);
                                        bool x_180203 = sle64((int64_t) 0, leq_lhs_180202);
                                        bool y_180204 = slt64(leq_lhs_180202, window_sizze_131729);
                                        bool bounds_check_180205 = x_180203 && y_180204;
                                        bool index_certs_180206;
                                        
                                        if (!bounds_check_180205) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180202, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180209 = sle64((int64_t) 0, max_res_176628);
                                        bool y_180210 = slt64(max_res_176628, window_sizze_131729);
                                        bool bounds_check_180211 = x_180209 && y_180210;
                                        bool index_certs_180212;
                                        
                                        if (!bounds_check_180211) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176628, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180207 = p_175562 + leq_lhs_180202;
                                        int32_t leq_lhs_180208 = ((int32_t *) a_list_mem_181052.mem)[slice_180207];
                                        int64_t slice_180213 = p_175563 + max_res_176628;
                                        int32_t leq_rhs_180214 = ((int32_t *) b_list_mem_181053.mem)[slice_180213];
                                        bool defunc_0_leq_res_180215 = sle32(leq_lhs_180208, leq_rhs_180214);
                                        bool x_180216 = !defunc_0_leq_res_180215;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = ai_176626;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = leq_lhs_180202;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = max_res_176628;
                                        } else {
                                            int64_t tmp_180219 = add64((int64_t) 1, max_res_176628);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = tmp_180219;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176779 = p_176621;
                                        loopres_f_res_f_res_f_res_f_res_176780 = loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        loopres_f_res_f_res_f_res_f_res_176781 = loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        loopres_f_res_f_res_f_res_f_res_176782 = x_180216;
                                    } else {
                                        int64_t tmp_176799 = add64((int64_t) 1, ai_176626);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176779 = tmp_176799;
                                        loopres_f_res_f_res_f_res_f_res_176780 = p_176622;
                                        loopres_f_res_f_res_f_res_f_res_176781 = p_176623;
                                        loopres_f_res_f_res_f_res_f_res_176782 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = loopres_f_res_f_res_f_res_f_res_176779;
                                    loopres_f_res_f_res_f_res_176687 = loopres_f_res_f_res_f_res_f_res_176780;
                                    loopres_f_res_f_res_f_res_176688 = loopres_f_res_f_res_f_res_f_res_176781;
                                    loopres_f_res_f_res_f_res_176689 = loopres_f_res_f_res_f_res_f_res_176782;
                                }
                                loopres_f_res_f_res_176665 = loopres_f_res_f_res_f_res_176686;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_f_res_176687;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_f_res_176688;
                                loopres_f_res_f_res_176668 = loopres_f_res_f_res_f_res_176689;
                            }
                            loopres_f_res_176643 = loopres_f_res_f_res_176665;
                            loopres_f_res_176644 = loopres_f_res_f_res_176666;
                            loopres_f_res_176645 = loopres_f_res_f_res_176667;
                            loopres_f_res_176646 = loopres_f_res_f_res_176668;
                        }
                        loopres_176638 = loopres_f_res_176643;
                        loopres_176639 = loopres_f_res_176644;
                        loopres_176640 = loopres_f_res_176645;
                        loopres_176641 = loopres_f_res_176646;
                    }
                    
                    bool loop_while_tmp_182574 = loopres_176641;
                    int64_t p_tmp_182575 = loopres_176638;
                    int64_t p_tmp_182576 = loopres_176639;
                    int64_t p_tmp_182577 = loopres_176640;
                    
                    loop_while_176620 = loop_while_tmp_182574;
                    p_176621 = p_tmp_182575;
                    p_176622 = p_tmp_182576;
                    p_176623 = p_tmp_182577;
                }
                defunc_0_f_res_176616 = loop_while_176620;
                defunc_0_f_res_176617 = p_176621;
                defunc_0_f_res_176618 = p_176622;
                defunc_0_f_res_176619 = p_176623;
                ((int64_t *) mem_181069)[i_180802] = defunc_0_f_res_176618;
                ((int64_t *) mem_181071)[i_180802] = defunc_0_f_res_176619;
            }
            if (memblock_alloc(ctx, &mem_181084, window_sizze_131729, "mem_181084")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182586 = 0; nest_i_182586 < window_sizze_131729; nest_i_182586++) {
                ((int8_t *) mem_181084.mem)[nest_i_182586] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182587 = 0; nest_i_182587 < window_sizze_131729; nest_i_182587++) {
                ((int64_t *) mem_181086.mem)[nest_i_182587] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182588 = 0; nest_i_182588 < window_sizze_131729; nest_i_182588++) {
                ((int32_t *) mem_181088.mem)[nest_i_182588] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176826;
            int64_t defunc_0_mergeFunc_seq_res_176827;
            bool loop_while_176831;
            int64_t p_176832;
            
            loop_while_176831 = loop_cond_176825;
            p_176832 = (int64_t) 0;
            while (loop_while_176831) {
                bool x_176836 = sle64((int64_t) 0, p_176832);
                bool y_176837 = slt64(p_176832, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176838 = x_176836 && y_176837;
                bool index_certs_176839;
                
                if (!bounds_check_176838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176832, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178425 = sle64((int64_t) 1, p_176832);
                int64_t index_concat_i_178426 = sub64(p_176832, (int64_t) 1);
                int64_t index_concat_178427;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180220 = ((int64_t *) mem_181069)[index_concat_i_178426];
                    
                    index_concat_178427 = x_180220;
                } else {
                    index_concat_178427 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178429;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178429 = index_concat_178427;
                } else {
                    index_concat_branch_178429 = (int64_t) 0;
                }
                
                int64_t index_concat_178421;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180221 = ((int64_t *) mem_181071)[index_concat_i_178426];
                    
                    index_concat_178421 = x_180221;
                } else {
                    index_concat_178421 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178423;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178423 = index_concat_178421;
                } else {
                    index_concat_branch_178423 = (int64_t) 0;
                }
                
                int64_t ubs_176842 = add64((int64_t) 1, p_176832);
                bool x_176843 = sle64((int64_t) 0, ubs_176842);
                bool y_176844 = slt64(ubs_176842, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176845 = x_176843 && y_176844;
                bool index_certs_176846;
                
                if (!bounds_check_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178413 = sle64((int64_t) 1, ubs_176842);
                int64_t index_concat_178415;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180222 = ((int64_t *) mem_181069)[p_176832];
                    
                    index_concat_178415 = x_180222;
                } else {
                    index_concat_178415 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178417;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178417 = index_concat_178415;
                } else {
                    index_concat_branch_178417 = (int64_t) 0;
                }
                
                int64_t index_concat_178409;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180223 = ((int64_t *) mem_181071)[p_176832];
                    
                    index_concat_178409 = x_180223;
                } else {
                    index_concat_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178411;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178411 = index_concat_178409;
                } else {
                    index_concat_branch_178411 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 = sub64(index_concat_branch_178411, index_concat_branch_178423);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 = sub64(index_concat_branch_178417, index_concat_branch_178429);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t ind_bottom_176852 = add64(index_concat_branch_178423, index_concat_branch_178429);
                int64_t ind_top_176853 = add64(index_concat_branch_178411, index_concat_branch_178417);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 = sub64(ind_top_176853, ind_bottom_176852);
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178429);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_131729);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178429);
                bool i_lte_j_176861 = sle64(index_concat_branch_178429, index_concat_branch_178417);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178429, ":", (long long) index_concat_branch_178417, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178417, index_concat_branch_178429);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178429, "..<", (long long) index_concat_branch_178417, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176875 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 == (int64_t) 0;
                int64_t m_176876 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, (int64_t) 1);
                int64_t i_p_m_t_s_176877 = add64(m_176876, index_concat_branch_178423);
                bool zzero_leq_i_p_m_t_s_176878 = sle64((int64_t) 0, i_p_m_t_s_176877);
                bool i_p_m_t_s_leq_w_176879 = slt64(i_p_m_t_s_176877, window_sizze_131729);
                bool zzero_lte_i_176880 = sle64((int64_t) 0, index_concat_branch_178423);
                bool i_lte_j_176881 = sle64(index_concat_branch_178423, index_concat_branch_178411);
                bool y_176882 = i_p_m_t_s_leq_w_176879 && zzero_lte_i_176880;
                bool y_176883 = zzero_leq_i_p_m_t_s_176878 && y_176882;
                bool forwards_ok_176884 = i_lte_j_176881 && y_176883;
                bool ok_or_empty_176885 = empty_slice_176875 || forwards_ok_176884;
                bool index_certs_176886;
                
                if (!ok_or_empty_176885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178423, ":", (long long) index_concat_branch_178411, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176887 = slt64(index_concat_branch_178411, index_concat_branch_178423);
                bool valid_176888 = !bounds_invalid_upwards_176887;
                bool range_valid_c_176889;
                
                if (!valid_176888) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178423, "..<", (long long) index_concat_branch_178411, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181105 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                int64_t bytes_181107 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool cond_176898 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zs_lhs_176899 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zp_rhs_176900 = sdiv_safe64(zs_lhs_176899, (int64_t) 20);
                int64_t min_num_blocks_176901 = add64((int64_t) 1, zp_rhs_176900);
                bool loop_cond_176902 = slt64((int64_t) 1, min_num_blocks_176901);
                bool smallest_pow_2_geq_than_res_176903;
                int64_t smallest_pow_2_geq_than_res_176904;
                bool loop_while_176905;
                int64_t x_176906;
                
                loop_while_176905 = loop_cond_176902;
                x_176906 = (int64_t) 1;
                while (loop_while_176905) {
                    int64_t loopres_176907 = mul64((int64_t) 2, x_176906);
                    bool loop_cond_176908 = slt64(loopres_176907, min_num_blocks_176901);
                    bool loop_while_tmp_182594 = loop_cond_176908;
                    int64_t x_tmp_182595 = loopres_176907;
                    
                    loop_while_176905 = loop_while_tmp_182594;
                    x_176906 = x_tmp_182595;
                }
                smallest_pow_2_geq_than_res_176903 = loop_while_176905;
                smallest_pow_2_geq_than_res_176904 = x_176906;
                
                bool zzero_176909 = smallest_pow_2_geq_than_res_176904 == (int64_t) 0;
                bool nonzzero_176910 = !zzero_176909;
                bool protect_assert_disj_176911 = cond_176898 || nonzzero_176910;
                bool nonzzero_cert_176912;
                
                if (!protect_assert_disj_176911) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176913 = sdiv_safe64(zs_lhs_176899, smallest_pow_2_geq_than_res_176904);
                int64_t block_sizze_176914 = add64((int64_t) 1, zp_rhs_176913);
                bool y_176921 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                bool protect_assert_disj_182258 = cond_176898 || y_176921;
                bool index_certs_176922;
                
                if (!protect_assert_disj_182258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(smallest_pow_2_geq_than_res_176904, (int64_t) 0);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool protect_assert_disj_182268 = cond_176898 || valid_176949;
                bool range_valid_c_176950;
                
                if (!protect_assert_disj_182268) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176904, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176952 = slt64(block_sizze_176914, (int64_t) 0);
                bool valid_176953 = !bounds_invalid_upwards_176952;
                bool protect_assert_disj_182270 = cond_176898 || valid_176953;
                bool range_valid_c_176954;
                
                if (!protect_assert_disj_182270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176914, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176956 = sle64(block_sizze_176914, (int64_t) 1);
                int64_t tmp_176957 = sub64(block_sizze_176914, (int64_t) 2);
                bool bounds_invalid_upwards_176958 = slt64(tmp_176957, (int64_t) 0);
                bool valid_176960 = !bounds_invalid_upwards_176958;
                bool protect_assert_disj_176961 = cond_176956 || valid_176960;
                bool protect_assert_disj_182272 = cond_176898 || protect_assert_disj_176961;
                bool range_valid_c_176962;
                
                if (!protect_assert_disj_182272) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176957, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177523 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool empty_or_match_cert_177524;
                
                if (!dim_match_177523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "](i8, i64, i32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177525 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == (int64_t) 0;
                int64_t m_177526 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177527 = sle64((int64_t) 0, m_177526);
                bool i_p_m_t_s_leq_w_177528 = slt64(m_177526, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854);
                bool y_177529 = zzero_leq_i_p_m_t_s_177527 && i_p_m_t_s_leq_w_177528;
                bool ok_or_empty_177530 = empty_slice_177525 || y_177529;
                bool index_certs_177531;
                
                if (!ok_or_empty_177530) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177532 = add64(ind_bottom_176852, m_177526);
                bool zzero_leq_i_p_m_t_s_177533 = sle64((int64_t) 0, i_p_m_t_s_177532);
                bool i_p_m_t_s_leq_w_177534 = slt64(i_p_m_t_s_177532, window_sizze_131729);
                bool zzero_lte_i_177535 = sle64((int64_t) 0, ind_bottom_176852);
                bool i_lte_j_177536 = sle64(ind_bottom_176852, ind_top_176853);
                bool y_177537 = i_p_m_t_s_leq_w_177534 && zzero_lte_i_177535;
                bool y_177538 = zzero_leq_i_p_m_t_s_177533 && y_177537;
                bool forwards_ok_177539 = i_lte_j_177536 && y_177538;
                bool ok_or_empty_177540 = empty_slice_177525 || forwards_ok_177539;
                bool index_certs_177541;
                
                if (!ok_or_empty_177540) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176852, ":", (long long) ind_top_176853, "] out of bounds for array of shape [", (long long) window_sizze_131729, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178405 = p_175562 + index_concat_branch_178429;
                
                if (memblock_alloc(ctx, &mem_181104, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "mem_181104")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182596 = 0; nest_i_182596 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; nest_i_182596++) {
                    ((int8_t *) mem_181104.mem)[nest_i_182596] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181106, bytes_181105, "mem_181106")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182597 = 0; i_182597 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; i_182597++) {
                    int64_t x_182598 = index_concat_branch_178429 + i_182597 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[i_182597] = x_182598;
                }
                
                int64_t slice_178404 = p_175563 + index_concat_branch_178423;
                
                for (int64_t nest_i_182599 = 0; nest_i_182599 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; nest_i_182599++) {
                    ((int8_t *) mem_181104.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + nest_i_182599] = (int8_t) 1;
                }
                for (int64_t i_182600 = 0; i_182600 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; i_182600++) {
                    int64_t x_182601 = index_concat_branch_178423 + i_182600 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + i_182600] = x_182601;
                }
                
                int64_t tmp_offs_182602 = (int64_t) 0;
                
                if (!(tmp_offs_182602 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182602 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t tmp_offs_182603 = (int64_t) 0;
                
                if (!(tmp_offs_182603 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182603 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                if (memblock_alloc(ctx, &mem_181108, bytes_181107, "mem_181108")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182604 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, slice_178405, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, slice_178404, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t flat_dim_176915 = smallest_pow_2_geq_than_res_176904 * block_sizze_176914;
                bool x_182253 = !cond_176898;
                int64_t greatest_divisor_leq_than_arg1_176919 = mul64((int64_t) 2, block_sizze_176914);
                int64_t merge_block_sizze_176920;
                
                if (x_182253) {
                    int64_t x_182255;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182255, (int64_t) 8, greatest_divisor_leq_than_arg1_176919) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176920 = x_182255;
                } else {
                    merge_block_sizze_176920 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178399 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 0);
                int8_t index_concat_branch_178403 = btoi_bool_i8(index_concat_cmp_178399);
                int64_t index_concat_i_180224 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t index_primexp_180225 = add64(index_concat_branch_178423, index_concat_i_180224);
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178397 = index_primexp_180225;
                } else {
                    index_concat_branch_178397 = index_concat_branch_178429;
                }
                
                bool x_182249 = !index_concat_cmp_178399;
                bool protect_cond_conj_182259 = x_182249 && x_182253;
                int32_t index_concat_178390;
                
                if (protect_cond_conj_182259) {
                    int32_t x_182251 = ((int32_t *) a_list_mem_181052.mem)[slice_178405];
                    
                    index_concat_178390 = x_182251;
                } else {
                    index_concat_178390 = 0;
                }
                
                int64_t slice_180227 = slice_178404 + index_concat_i_180224;
                bool protect_cond_conj_182260 = index_concat_cmp_178399 && x_182253;
                int32_t index_concat_180228;
                
                if (protect_cond_conj_182260) {
                    int32_t x_182247 = ((int32_t *) b_list_mem_181053.mem)[slice_180227];
                    
                    index_concat_180228 = x_182247;
                } else {
                    index_concat_180228 = 0;
                }
                
                int32_t index_concat_branch_178391;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178391 = index_concat_180228;
                } else {
                    index_concat_branch_178391 = index_concat_178390;
                }
                
                int8_t defunc_0_reduce_res_180459;
                int64_t defunc_0_reduce_res_180460;
                int32_t defunc_0_reduce_res_180461;
                
                if (x_182253) {
                    int8_t x_182261;
                    int64_t x_182262;
                    int32_t x_182263;
                    int8_t redout_180805;
                    int64_t redout_180806;
                    int32_t redout_180807;
                    
                    redout_180805 = index_concat_branch_178403;
                    redout_180806 = index_concat_branch_178397;
                    redout_180807 = index_concat_branch_178391;
                    for (int64_t i_180808 = 0; i_180808 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851; i_180808++) {
                        bool index_concat_cmp_181012 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, i_180808);
                        int8_t index_concat_branch_181016 = btoi_bool_i8(index_concat_cmp_181012);
                        int64_t index_concat_branch_181010;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181007 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t index_primexp_181034 = add64(index_concat_branch_178423, index_concat_i_181007);
                            
                            index_concat_branch_181010 = index_primexp_181034;
                        } else {
                            int64_t index_primexp_181036 = add64(index_concat_branch_178429, i_180808);
                            
                            index_concat_branch_181010 = index_primexp_181036;
                        }
                        
                        int32_t index_concat_branch_181004;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181001 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t slice_181031 = slice_178404 + index_concat_i_181001;
                            int32_t index_concat_181002 = ((int32_t *) b_list_mem_181053.mem)[slice_181031];
                            
                            index_concat_branch_181004 = index_concat_181002;
                        } else {
                            int64_t slice_181032 = slice_178405 + i_180808;
                            int32_t index_concat_181003 = ((int32_t *) a_list_mem_181052.mem)[slice_181032];
                            
                            index_concat_branch_181004 = index_concat_181003;
                        }
                        
                        bool eq_x_y_181047 = redout_180805 == (int8_t) 1;
                        bool eq_x_zz_181048 = redout_180805 == (int8_t) 0;
                        bool p_and_eq_x_y_181049 = index_concat_cmp_181012 && eq_x_y_181047;
                        bool not_p_181050 = !index_concat_cmp_181012;
                        bool p_and_eq_x_y_181051 = eq_x_zz_181048 && not_p_181050;
                        bool cond_176938 = p_and_eq_x_y_181049 || p_and_eq_x_y_181051;
                        bool defunc_0_leq_res_t_res_176939 = sle64(redout_180806, index_concat_branch_181010);
                        bool defunc_0_leq_res_176940 = sle32(redout_180807, index_concat_branch_181004);
                        bool x_176941 = cond_176938 && defunc_0_leq_res_t_res_176939;
                        bool x_176942 = !cond_176938;
                        bool y_176943 = defunc_0_leq_res_176940 && x_176942;
                        bool defunc_0_leq_res_176944 = x_176941 || y_176943;
                        int8_t defunc_0_op_res_176945;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176945 = index_concat_branch_181016;
                        } else {
                            defunc_0_op_res_176945 = redout_180805;
                        }
                        
                        int64_t defunc_0_op_res_176946;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176946 = index_concat_branch_181010;
                        } else {
                            defunc_0_op_res_176946 = redout_180806;
                        }
                        
                        int32_t defunc_0_op_res_176947;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176947 = index_concat_branch_181004;
                        } else {
                            defunc_0_op_res_176947 = redout_180807;
                        }
                        
                        int8_t redout_tmp_182605 = defunc_0_op_res_176945;
                        int64_t redout_tmp_182606 = defunc_0_op_res_176946;
                        int32_t redout_tmp_182607 = defunc_0_op_res_176947;
                        
                        redout_180805 = redout_tmp_182605;
                        redout_180806 = redout_tmp_182606;
                        redout_180807 = redout_tmp_182607;
                    }
                    x_182261 = redout_180805;
                    x_182262 = redout_180806;
                    x_182263 = redout_180807;
                    defunc_0_reduce_res_180459 = x_182261;
                    defunc_0_reduce_res_180460 = x_182262;
                    defunc_0_reduce_res_180461 = x_182263;
                } else {
                    defunc_0_reduce_res_180459 = (int8_t) 0;
                    defunc_0_reduce_res_180460 = (int64_t) 0;
                    defunc_0_reduce_res_180461 = 0;
                }
                
                int64_t distance_176959 = add64((int64_t) 1, tmp_176957);
                int64_t binop_x_181111 = (int64_t) 8 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181112 = block_sizze_176914 * binop_x_181111;
                int64_t binop_x_181114 = (int64_t) 4 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181115 = block_sizze_176914 * binop_x_181114;
                int64_t bytes_181130 = (int64_t) 8 * block_sizze_176914;
                int64_t bytes_181132 = (int64_t) 4 * block_sizze_176914;
                bool loop_cond_177068 = slt64(block_sizze_176914, flat_dim_176915);
                bool zzero_177069 = merge_block_sizze_176920 == (int64_t) 0;
                bool nonzzero_177070 = !zzero_177069;
                
                if (cond_176898) {
                    if (memblock_set(ctx, &ext_mem_181403, &mem_181104, "mem_181104") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_181106, "mem_181106") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &mem_181108, "mem_181108") != 0)
                        return 1;
                } else {
                    if (mem_181110_cached_sizze_182904 < flat_dim_176915) {
                        err = lexical_realloc(ctx, &mem_181110, &mem_181110_cached_sizze_182904, flat_dim_176915);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182905 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182905, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181116_cached_sizze_182906 < bytes_181115) {
                        err = lexical_realloc(ctx, &mem_181116, &mem_181116_cached_sizze_182906, bytes_181115);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181129_cached_sizze_182907 < block_sizze_176914) {
                        err = lexical_realloc(ctx, &mem_181129, &mem_181129_cached_sizze_182907, block_sizze_176914);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181131_cached_sizze_182908 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_182908, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181133_cached_sizze_182909 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182909, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180825 = 0; i_180825 < smallest_pow_2_geq_than_res_176904; i_180825++) {
                        int64_t zp_lhs_176967 = mul64(block_sizze_176914, i_180825);
                        
                        for (int64_t i_180815 = 0; i_180815 < block_sizze_176914; i_180815++) {
                            int64_t k_176972 = add64(zp_lhs_176967, i_180815);
                            bool cond_176973 = slt64(k_176972, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                            int8_t lifted_lambda_res_176974;
                            int64_t lifted_lambda_res_176975;
                            int32_t lifted_lambda_res_176976;
                            
                            if (cond_176973) {
                                bool x_180234 = sle64((int64_t) 0, k_176972);
                                bool bounds_check_180235 = cond_176973 && x_180234;
                                bool index_certs_180236;
                                
                                if (!bounds_check_180235) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176972, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180237 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, k_176972);
                                int8_t index_concat_branch_180238 = btoi_bool_i8(index_concat_cmp_180237);
                                int64_t index_concat_branch_180239;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180240 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t index_primexp_180241 = add64(index_concat_branch_178423, index_concat_i_180240);
                                    
                                    index_concat_branch_180239 = index_primexp_180241;
                                } else {
                                    int64_t index_primexp_180242 = add64(k_176972, index_concat_branch_178429);
                                    
                                    index_concat_branch_180239 = index_primexp_180242;
                                }
                                
                                int32_t index_concat_branch_180243;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180244 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t slice_180245 = slice_178404 + index_concat_i_180244;
                                    int32_t index_concat_180246 = ((int32_t *) b_list_mem_181053.mem)[slice_180245];
                                    
                                    index_concat_branch_180243 = index_concat_180246;
                                } else {
                                    int64_t slice_180247 = k_176972 + slice_178405;
                                    int32_t index_concat_180248 = ((int32_t *) a_list_mem_181052.mem)[slice_180247];
                                    
                                    index_concat_branch_180243 = index_concat_180248;
                                }
                                lifted_lambda_res_176974 = index_concat_branch_180238;
                                lifted_lambda_res_176975 = index_concat_branch_180239;
                                lifted_lambda_res_176976 = index_concat_branch_180243;
                            } else {
                                lifted_lambda_res_176974 = defunc_0_reduce_res_180459;
                                lifted_lambda_res_176975 = defunc_0_reduce_res_180460;
                                lifted_lambda_res_176976 = defunc_0_reduce_res_180461;
                            }
                            ((int8_t *) mem_181129)[i_180815] = lifted_lambda_res_176974;
                            ((int64_t *) mem_181131)[i_180815] = lifted_lambda_res_176975;
                            ((int32_t *) mem_181133)[i_180815] = lifted_lambda_res_176976;
                        }
                        if (!cond_176956) {
                            for (int64_t i_176989 = 0; i_176989 < distance_176959; i_176989++) {
                                int64_t gt_arg1_176993 = add64((int64_t) 1, i_176989);
                                bool x_176994 = sle64((int64_t) 0, gt_arg1_176993);
                                bool y_176995 = slt64(gt_arg1_176993, block_sizze_176914);
                                bool bounds_check_176996 = x_176994 && y_176995;
                                bool index_certs_176997;
                                
                                if (!bounds_check_176996) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176993, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177001 = slt64(i_176989, block_sizze_176914);
                                bool index_certs_177002;
                                
                                if (!y_177001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176989, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176998 = ((int8_t *) mem_181129)[gt_arg1_176993];
                                int64_t gt_arg1_176999 = ((int64_t *) mem_181131)[gt_arg1_176993];
                                int32_t gt_arg1_177000 = ((int32_t *) mem_181133)[gt_arg1_176993];
                                int8_t gt_arg0_177003 = ((int8_t *) mem_181129)[i_176989];
                                int64_t gt_arg0_177004 = ((int64_t *) mem_181131)[i_176989];
                                int32_t gt_arg0_177005 = ((int32_t *) mem_181133)[i_176989];
                                bool cond_177006 = gt_arg0_177003 == gt_arg1_176998;
                                bool defunc_0_leq_res_t_res_177007 = sle64(gt_arg0_177004, gt_arg1_176999);
                                bool defunc_0_leq_res_177008 = sle32(gt_arg0_177005, gt_arg1_177000);
                                bool x_177009 = cond_177006 && defunc_0_leq_res_t_res_177007;
                                bool x_177010 = !cond_177006;
                                bool y_177011 = defunc_0_leq_res_177008 && x_177010;
                                bool defunc_0_leq_res_177012 = x_177009 || y_177011;
                                bool defunc_0_lifted_gt_res_177013 = !defunc_0_leq_res_177012;
                                bool s_177014;
                                int64_t s_177018;
                                bool loop_while_177019;
                                int64_t j_177023;
                                
                                loop_while_177019 = defunc_0_lifted_gt_res_177013;
                                j_177023 = i_176989;
                                while (loop_while_177019) {
                                    bool x_177024 = sle64((int64_t) 0, j_177023);
                                    bool y_177025 = slt64(j_177023, block_sizze_176914);
                                    bool bounds_check_177026 = x_177024 && y_177025;
                                    bool index_certs_177027;
                                    
                                    if (!bounds_check_177026) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177023, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177031 = add64((int64_t) 1, j_177023);
                                    bool x_177032 = sle64((int64_t) 0, copy_arg0_177031);
                                    bool y_177033 = slt64(copy_arg0_177031, block_sizze_176914);
                                    bool bounds_check_177034 = x_177032 && y_177033;
                                    bool index_certs_177035;
                                    
                                    if (!bounds_check_177034) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177031, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177028 = ((int8_t *) mem_181129)[j_177023];
                                    int64_t copy_arg0_177029 = ((int64_t *) mem_181131)[j_177023];
                                    int32_t copy_arg0_177030 = ((int32_t *) mem_181133)[j_177023];
                                    int8_t copy_arg0_177036 = ((int8_t *) mem_181129)[copy_arg0_177031];
                                    int64_t copy_arg0_177037 = ((int64_t *) mem_181131)[copy_arg0_177031];
                                    int32_t copy_arg0_177038 = ((int32_t *) mem_181133)[copy_arg0_177031];
                                    
                                    ((int8_t *) mem_181129)[j_177023] = copy_arg0_177036;
                                    ((int64_t *) mem_181131)[j_177023] = copy_arg0_177037;
                                    ((int32_t *) mem_181133)[j_177023] = copy_arg0_177038;
                                    ((int8_t *) mem_181129)[copy_arg0_177031] = copy_arg0_177028;
                                    ((int64_t *) mem_181131)[copy_arg0_177031] = copy_arg0_177029;
                                    ((int32_t *) mem_181133)[copy_arg0_177031] = copy_arg0_177030;
                                    
                                    int64_t tmp_177045 = sub64(j_177023, (int64_t) 1);
                                    bool cond_177046 = sle64((int64_t) 0, tmp_177045);
                                    bool loop_cond_177047;
                                    
                                    if (cond_177046) {
                                        bool y_180252 = slt64(tmp_177045, block_sizze_176914);
                                        bool bounds_check_180253 = cond_177046 && y_180252;
                                        bool index_certs_180254;
                                        
                                        if (!bounds_check_180253) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177045, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180249 = ((int8_t *) mem_181129)[j_177023];
                                        int64_t gt_arg1_180250 = ((int64_t *) mem_181131)[j_177023];
                                        int32_t gt_arg1_180251 = ((int32_t *) mem_181133)[j_177023];
                                        int8_t gt_arg0_180255 = ((int8_t *) mem_181129)[tmp_177045];
                                        int64_t gt_arg0_180256 = ((int64_t *) mem_181131)[tmp_177045];
                                        int32_t gt_arg0_180257 = ((int32_t *) mem_181133)[tmp_177045];
                                        bool cond_180258 = gt_arg0_180255 == gt_arg1_180249;
                                        bool defunc_0_leq_res_t_res_180259 = sle64(gt_arg0_180256, gt_arg1_180250);
                                        bool defunc_0_leq_res_180260 = sle32(gt_arg0_180257, gt_arg1_180251);
                                        bool x_180261 = cond_180258 && defunc_0_leq_res_t_res_180259;
                                        bool x_180262 = !cond_180258;
                                        bool y_180263 = defunc_0_leq_res_180260 && x_180262;
                                        bool defunc_0_leq_res_180264 = x_180261 || y_180263;
                                        bool defunc_0_lifted_gt_res_180265 = !defunc_0_leq_res_180264;
                                        
                                        loop_cond_177047 = defunc_0_lifted_gt_res_180265;
                                    } else {
                                        loop_cond_177047 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182617 = loop_cond_177047;
                                    int64_t j_tmp_182621 = tmp_177045;
                                    
                                    loop_while_177019 = loop_while_tmp_182617;
                                    j_177023 = j_tmp_182621;
                                }
                                s_177014 = loop_while_177019;
                                s_177018 = j_177023;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181110, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181129, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181131, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181116, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181133, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                    }
                    if (memblock_alloc(ctx, &mem_181210, flat_dim_176915, "mem_181210")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181210.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint8_t *) mem_181110, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181214, bytes_181112, "mem_181214")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181214.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181218, bytes_181115, "mem_181218")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181218.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint32_t *) mem_181116, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    
                    int64_t data_177071;
                    bool data_177072;
                    int64_t data_177076;
                    int64_t loop_dz2084Uz2082U_177077;
                    bool loop_while_177078;
                    int64_t stride_177082;
                    
                    if (memblock_set(ctx, &mem_param_181222, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181225, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181228, &mem_181218, "mem_181218") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177077 = flat_dim_176915;
                    loop_while_177078 = loop_cond_177068;
                    stride_177082 = block_sizze_176914;
                    while (loop_while_177078) {
                        int64_t next_stride_177083 = mul64((int64_t) 2, stride_177082);
                        bool zzero_177084 = next_stride_177083 == (int64_t) 0;
                        bool nonzzero_177085 = !zzero_177084;
                        bool nonzzero_cert_177086;
                        
                        if (!nonzzero_177085) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177087 = sdiv64(flat_dim_176915, next_stride_177083);
                        bool bounds_invalid_upwards_177088 = slt64(num_merges_177087, (int64_t) 0);
                        bool valid_177089 = !bounds_invalid_upwards_177088;
                        bool range_valid_c_177090;
                        
                        if (!valid_177089) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177087, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177092 = sub64(next_stride_177083, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177093 = sle64((int64_t) 0, m_177092);
                        bool cond_177095 = slt64(next_stride_177083, (int64_t) 10);
                        bool protect_assert_disj_177096 = nonzzero_177070 || cond_177095;
                        bool nonzzero_cert_177097;
                        
                        if (!protect_assert_disj_177096) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177098 = smod_safe64(next_stride_177083, merge_block_sizze_176920);
                        bool num_blocks_177099 = zeze_lhs_177098 == (int64_t) 0;
                        bool protect_assert_disj_177100 = cond_177095 || num_blocks_177099;
                        bool assert_c_177101;
                        
                        if (!protect_assert_disj_177100) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177103 = sdiv_safe64(next_stride_177083, merge_block_sizze_176920);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104 = add64((int64_t) 1, num_blocks_177103);
                        int64_t j_m_i_177105 = sub64(next_stride_177083, stride_177082);
                        int64_t flat_dim_177106 = merge_block_sizze_176920 * num_blocks_177103;
                        bool bounds_invalid_upwards_177107 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, (int64_t) 0);
                        bool empty_slice_177108 = j_m_i_177105 == (int64_t) 0;
                        int64_t m_177109 = sub64(j_m_i_177105, (int64_t) 1);
                        bool zzero_lte_i_177110 = sle64((int64_t) 0, stride_177082);
                        bool i_lte_j_177111 = sle64(stride_177082, next_stride_177083);
                        bool empty_slice_177112 = stride_177082 == (int64_t) 0;
                        int64_t m_177113 = sub64(stride_177082, (int64_t) 1);
                        bool bounds_invalid_upwards_177114 = slt64(num_blocks_177103, (int64_t) 0);
                        bool cond_177115 = slt64((int64_t) 0, stride_177082);
                        bool valid_177116 = !bounds_invalid_upwards_177107;
                        int64_t i_p_m_t_s_177117 = add64(stride_177082, m_177109);
                        bool zzero_leq_i_p_m_t_s_177118 = sle64((int64_t) 0, m_177113);
                        bool i_p_m_t_s_leq_w_177119 = slt64(m_177113, next_stride_177083);
                        bool valid_177120 = !bounds_invalid_upwards_177114;
                        bool i_p_m_t_s_leq_w_177121 = slt64(m_177092, flat_dim_177106);
                        bool y_177122 = slt64((int64_t) 0, j_m_i_177105);
                        bool protect_assert_disj_177123 = cond_177095 || valid_177116;
                        bool range_valid_c_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177125 = sle64((int64_t) 0, i_p_m_t_s_177117);
                        bool i_p_m_t_s_leq_w_177126 = slt64(i_p_m_t_s_177117, next_stride_177083);
                        bool y_177127 = zzero_leq_i_p_m_t_s_177118 && i_p_m_t_s_leq_w_177119;
                        bool protect_assert_disj_177128 = cond_177095 || valid_177120;
                        bool range_valid_c_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177103, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177130 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177121;
                        bool y_177131 = zzero_lte_i_177110 && i_p_m_t_s_leq_w_177126;
                        bool forwards_ok_177132 = zzero_lte_i_177110 && y_177127;
                        bool ok_or_empty_177133 = zzero_177084 || y_177130;
                        bool protect_assert_disj_177134 = cond_177115 || y_177122;
                        bool y_177135 = zzero_leq_i_p_m_t_s_177125 && y_177131;
                        bool ok_or_empty_177136 = empty_slice_177112 || forwards_ok_177132;
                        bool protect_assert_disj_177137 = cond_177095 || ok_or_empty_177133;
                        bool index_certs_177138;
                        
                        if (!protect_assert_disj_177137) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) flat_dim_177106, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177139 = !cond_177095;
                        bool protect_assert_disj_177140 = protect_assert_disj_177134 || loop_not_taken_177139;
                        bool index_certs_177141;
                        
                        if (!protect_assert_disj_177140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177142 = i_lte_j_177111 && y_177135;
                        bool protect_assert_disj_177143 = cond_177095 || ok_or_empty_177136;
                        bool index_certs_177144;
                        
                        if (!protect_assert_disj_177143) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177145 = ok_or_empty_177136 || loop_not_taken_177139;
                        bool index_certs_177146;
                        
                        if (!protect_assert_disj_177145) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177147 = empty_slice_177108 || forwards_ok_177142;
                        bool protect_assert_disj_177148 = cond_177095 || ok_or_empty_177147;
                        bool index_certs_177149;
                        
                        if (!protect_assert_disj_177148) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177150 = loop_not_taken_177139 || ok_or_empty_177147;
                        bool index_certs_177151;
                        
                        if (!protect_assert_disj_177150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181229 = next_stride_177083 * num_merges_177087;
                        int64_t binop_x_181231 = (int64_t) 8 * num_merges_177087;
                        int64_t bytes_181232 = next_stride_177083 * binop_x_181231;
                        int64_t binop_x_181234 = (int64_t) 4 * num_merges_177087;
                        int64_t bytes_181235 = next_stride_177083 * binop_x_181234;
                        bool i_lte_j_177094 = sle64((int64_t) 0, next_stride_177083);
                        
                        if (mem_181230_cached_sizze_182910 < bytes_181229) {
                            err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182910, bytes_181229);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181233_cached_sizze_182911 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181233, &mem_181233_cached_sizze_182911, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181236_cached_sizze_182912 < bytes_181235) {
                            err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182912, bytes_181235);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181249 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104;
                        int64_t binop_x_181267 = (int64_t) 8 * num_blocks_177103;
                        int64_t bytes_181268 = merge_block_sizze_176920 * binop_x_181267;
                        int64_t binop_x_181270 = (int64_t) 4 * num_blocks_177103;
                        int64_t bytes_181271 = merge_block_sizze_176920 * binop_x_181270;
                        int64_t bytes_181332 = (int64_t) 16 * stride_177082;
                        int64_t bytes_181334 = (int64_t) 8 * stride_177082;
                        
                        for (int64_t i_180852 = 0; i_180852 < num_merges_177087; i_180852++) {
                            int64_t start_177156 = mul64(next_stride_177083, i_180852);
                            int64_t j_m_i_177157 = sub64(loop_dz2084Uz2082U_177077, start_177156);
                            bool empty_slice_177158 = j_m_i_177157 == (int64_t) 0;
                            int64_t m_177159 = sub64(j_m_i_177157, (int64_t) 1);
                            int64_t i_p_m_t_s_177160 = add64(start_177156, m_177159);
                            bool zzero_leq_i_p_m_t_s_177161 = sle64((int64_t) 0, i_p_m_t_s_177160);
                            bool i_p_m_t_s_leq_w_177162 = slt64(i_p_m_t_s_177160, loop_dz2084Uz2082U_177077);
                            bool zzero_lte_i_177163 = sle64((int64_t) 0, start_177156);
                            bool i_lte_j_177164 = sle64(start_177156, loop_dz2084Uz2082U_177077);
                            bool y_177165 = i_p_m_t_s_leq_w_177162 && zzero_lte_i_177163;
                            bool y_177166 = zzero_leq_i_p_m_t_s_177161 && y_177165;
                            bool forwards_ok_177167 = i_lte_j_177164 && y_177166;
                            bool ok_or_empty_177168 = empty_slice_177158 || forwards_ok_177167;
                            bool index_certs_177169;
                            
                            if (!ok_or_empty_177168) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177156, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177077, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177170 = slt64(m_177092, j_m_i_177157);
                            bool y_177171 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177170;
                            bool forwards_ok_177172 = i_lte_j_177094 && y_177171;
                            bool ok_or_empty_177173 = zzero_177084 || forwards_ok_177172;
                            bool index_certs_177174;
                            
                            if (!ok_or_empty_177173) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) j_m_i_177157, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177095) {
                                int8_t dummy_180304;
                                int64_t dummy_180305;
                                int32_t dummy_180306;
                                
                                if (cond_177115) {
                                    int8_t head_res_180307 = ((int8_t *) mem_param_181222.mem)[start_177156];
                                    int64_t head_res_180308 = ((int64_t *) mem_param_181225.mem)[start_177156];
                                    int32_t head_res_180309 = ((int32_t *) mem_param_181228.mem)[start_177156];
                                    
                                    dummy_180304 = head_res_180307;
                                    dummy_180305 = head_res_180308;
                                    dummy_180306 = head_res_180309;
                                } else {
                                    int64_t slice_180310 = stride_177082 + start_177156;
                                    int8_t head_res_180311 = ((int8_t *) mem_param_181222.mem)[slice_180310];
                                    int64_t head_res_180312 = ((int64_t *) mem_param_181225.mem)[slice_180310];
                                    int32_t head_res_180313 = ((int32_t *) mem_param_181228.mem)[slice_180310];
                                    
                                    dummy_180304 = head_res_180311;
                                    dummy_180305 = head_res_180312;
                                    dummy_180306 = head_res_180313;
                                }
                                if (memblock_alloc(ctx, &mem_181331, next_stride_177083, "mem_181331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182634 = 0; nest_i_182634 < next_stride_177083; nest_i_182634++) {
                                    ((int8_t *) mem_181331.mem)[nest_i_182634] = dummy_180304;
                                }
                                if (memblock_alloc(ctx, &mem_181333, bytes_181332, "mem_181333")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182635 = 0; nest_i_182635 < next_stride_177083; nest_i_182635++) {
                                    ((int64_t *) mem_181333.mem)[nest_i_182635] = dummy_180305;
                                }
                                if (memblock_alloc(ctx, &mem_181335, bytes_181334, "mem_181335")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182636 = 0; nest_i_182636 < next_stride_177083; nest_i_182636++) {
                                    ((int32_t *) mem_181335.mem)[nest_i_182636] = dummy_180306;
                                }
                                
                                int64_t data_180317;
                                int64_t i_180322 = (int64_t) 0;
                                
                                for (int64_t k_180321 = 0; k_180321 < next_stride_177083; k_180321++) {
                                    int64_t j_180326 = sub64(k_180321, i_180322);
                                    bool cond_180327 = j_180326 == j_m_i_177105;
                                    bool cond_180328;
                                    
                                    if (cond_180327) {
                                        cond_180328 = 1;
                                    } else {
                                        bool cond_180329 = slt64(i_180322, stride_177082);
                                        bool cond_f_res_180330;
                                        
                                        if (cond_180329) {
                                            bool x_180331 = sle64((int64_t) 0, j_180326);
                                            bool y_180332 = slt64(j_180326, j_m_i_177105);
                                            bool bounds_check_180333 = x_180331 && y_180332;
                                            bool index_certs_180334;
                                            
                                            if (!bounds_check_180333) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180340 = sle64((int64_t) 0, i_180322);
                                            bool bounds_check_180341 = cond_180329 && x_180340;
                                            bool index_certs_180342;
                                            
                                            if (!bounds_check_180341) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180335 = stride_177082 + j_180326;
                                            int64_t slice_180336 = start_177156 + slice_180335;
                                            int8_t leq_arg1_180337 = ((int8_t *) mem_param_181222.mem)[slice_180336];
                                            int64_t leq_arg1_180338 = ((int64_t *) mem_param_181225.mem)[slice_180336];
                                            int32_t leq_arg1_180339 = ((int32_t *) mem_param_181228.mem)[slice_180336];
                                            int64_t slice_180343 = start_177156 + i_180322;
                                            int8_t leq_arg0_180344 = ((int8_t *) mem_param_181222.mem)[slice_180343];
                                            int64_t leq_arg0_180345 = ((int64_t *) mem_param_181225.mem)[slice_180343];
                                            int32_t leq_arg0_180346 = ((int32_t *) mem_param_181228.mem)[slice_180343];
                                            bool cond_180347 = leq_arg0_180344 == leq_arg1_180337;
                                            bool defunc_0_leq_res_t_res_180348 = sle64(leq_arg0_180345, leq_arg1_180338);
                                            bool defunc_0_leq_res_180349 = sle32(leq_arg0_180346, leq_arg1_180339);
                                            bool x_180350 = cond_180347 && defunc_0_leq_res_t_res_180348;
                                            bool x_180351 = !cond_180347;
                                            bool y_180352 = defunc_0_leq_res_180349 && x_180351;
                                            bool defunc_0_leq_res_180353 = x_180350 || y_180352;
                                            
                                            cond_f_res_180330 = defunc_0_leq_res_180353;
                                        } else {
                                            cond_f_res_180330 = 0;
                                        }
                                        cond_180328 = cond_f_res_180330;
                                    }
                                    
                                    int64_t loopres_180354;
                                    int8_t loopres_180355;
                                    int64_t loopres_180356;
                                    int32_t loopres_180357;
                                    
                                    if (cond_180328) {
                                        bool x_180359 = sle64((int64_t) 0, i_180322);
                                        bool y_180360 = slt64(i_180322, stride_177082);
                                        bool bounds_check_180361 = x_180359 && y_180360;
                                        bool index_certs_180362;
                                        
                                        if (!bounds_check_180361) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180358 = add64((int64_t) 1, i_180322);
                                        int64_t slice_180363 = start_177156 + i_180322;
                                        int8_t tmp_180364 = ((int8_t *) mem_param_181222.mem)[slice_180363];
                                        int64_t tmp_180365 = ((int64_t *) mem_param_181225.mem)[slice_180363];
                                        int32_t tmp_180366 = ((int32_t *) mem_param_181228.mem)[slice_180363];
                                        
                                        loopres_180354 = tmp_180358;
                                        loopres_180355 = tmp_180364;
                                        loopres_180356 = tmp_180365;
                                        loopres_180357 = tmp_180366;
                                    } else {
                                        bool x_180367 = sle64((int64_t) 0, j_180326);
                                        bool y_180368 = slt64(j_180326, j_m_i_177105);
                                        bool bounds_check_180369 = x_180367 && y_180368;
                                        bool index_certs_180370;
                                        
                                        if (!bounds_check_180369) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180371 = stride_177082 + j_180326;
                                        int64_t slice_180372 = start_177156 + slice_180371;
                                        int8_t tmp_180373 = ((int8_t *) mem_param_181222.mem)[slice_180372];
                                        int64_t tmp_180374 = ((int64_t *) mem_param_181225.mem)[slice_180372];
                                        int32_t tmp_180375 = ((int32_t *) mem_param_181228.mem)[slice_180372];
                                        
                                        loopres_180354 = i_180322;
                                        loopres_180355 = tmp_180373;
                                        loopres_180356 = tmp_180374;
                                        loopres_180357 = tmp_180375;
                                    }
                                    ((int8_t *) mem_181331.mem)[k_180321] = loopres_180355;
                                    ((int64_t *) mem_181333.mem)[k_180321] = loopres_180356;
                                    ((int32_t *) mem_181335.mem)[k_180321] = loopres_180357;
                                    
                                    int64_t i_tmp_182637 = loopres_180354;
                                    
                                    i_180322 = i_tmp_182637;
                                }
                                data_180317 = i_180322;
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181331, "mem_181331") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181333, "mem_181333") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181335, "mem_181335") != 0)
                                    return 1;
                            } else {
                                if (mem_181250_cached_sizze_182913 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181250, &mem_181250_cached_sizze_182913, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182914 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182914, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180833 = 0; i_180833 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104; i_180833++) {
                                    int64_t split_count_arg3_177257 = mul64(merge_block_sizze_176920, i_180833);
                                    int64_t defunc_0_split_count_res_177258;
                                    int64_t defunc_0_split_count_res_177259;
                                    int64_t defunc_0_split_count_res_177260;
                                    int64_t defunc_0_split_count_res_177261;
                                    int64_t defunc_0_split_count_res_177262;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177258, &defunc_0_split_count_res_177259, &defunc_0_split_count_res_177260, &defunc_0_split_count_res_177261, &defunc_0_split_count_res_177262, (int64_t) 0, stride_177082, (int64_t) 0, j_m_i_177105, split_count_arg3_177257) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177263 = slt64((int64_t) 0, defunc_0_split_count_res_177262);
                                    bool defunc_0_split_count_res_177264;
                                    int64_t defunc_0_split_count_res_177265;
                                    int64_t defunc_0_split_count_res_177266;
                                    int64_t defunc_0_split_count_res_177267;
                                    int64_t defunc_0_split_count_res_177268;
                                    int64_t defunc_0_split_count_res_177269;
                                    bool loop_while_177270;
                                    int64_t ss_177271;
                                    int64_t ss_177272;
                                    int64_t tt_177273;
                                    int64_t tt_177274;
                                    int64_t count_177275;
                                    
                                    loop_while_177270 = loop_cond_177263;
                                    ss_177271 = defunc_0_split_count_res_177258;
                                    ss_177272 = defunc_0_split_count_res_177259;
                                    tt_177273 = defunc_0_split_count_res_177260;
                                    tt_177274 = defunc_0_split_count_res_177261;
                                    count_177275 = defunc_0_split_count_res_177262;
                                    while (loop_while_177270) {
                                        int64_t zlze_lhs_177276 = sub64(ss_177272, ss_177271);
                                        bool cond_177277 = sle64(zlze_lhs_177276, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177278;
                                        int64_t defunc_0_lifted_step_res_177279;
                                        int64_t defunc_0_lifted_step_res_177280;
                                        int64_t defunc_0_lifted_step_res_177281;
                                        
                                        if (cond_177277) {
                                            int64_t tmp_180379 = add64(tt_177273, count_177275);
                                            
                                            defunc_0_lifted_step_res_177278 = ss_177271;
                                            defunc_0_lifted_step_res_177279 = tmp_180379;
                                            defunc_0_lifted_step_res_177280 = tt_177274;
                                            defunc_0_lifted_step_res_177281 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177283 = sub64(tt_177274, tt_177273);
                                            bool cond_177284 = sle64(zlze_lhs_177283, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177285;
                                            int64_t defunc_0_lifted_step_res_f_res_177286;
                                            int64_t defunc_0_lifted_step_res_f_res_177287;
                                            int64_t defunc_0_lifted_step_res_f_res_177288;
                                            
                                            if (cond_177284) {
                                                int64_t tmp_180380 = add64(ss_177271, count_177275);
                                                
                                                defunc_0_lifted_step_res_f_res_177285 = tmp_180380;
                                                defunc_0_lifted_step_res_f_res_177286 = tt_177273;
                                                defunc_0_lifted_step_res_f_res_177287 = tt_177274;
                                                defunc_0_lifted_step_res_f_res_177288 = (int64_t) 0;
                                            } else {
                                                bool cond_177290 = count_177275 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177291;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177292;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177293;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177294;
                                                
                                                if (cond_177290) {
                                                    bool x_180382 = sle64((int64_t) 0, ss_177271);
                                                    bool y_180383 = slt64(ss_177271, stride_177082);
                                                    bool bounds_check_180384 = x_180382 && y_180383;
                                                    bool index_certs_180385;
                                                    
                                                    if (!bounds_check_180384) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177271, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180390 = sle64((int64_t) 0, tt_177273);
                                                    bool y_180391 = slt64(tt_177273, j_m_i_177105);
                                                    bool bounds_check_180392 = x_180390 && y_180391;
                                                    bool index_certs_180393;
                                                    
                                                    if (!bounds_check_180392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177273, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180386 = start_177156 + ss_177271;
                                                    int8_t leq_arg1_180387 = ((int8_t *) mem_param_181222.mem)[slice_180386];
                                                    int64_t leq_arg1_180388 = ((int64_t *) mem_param_181225.mem)[slice_180386];
                                                    int32_t leq_arg1_180389 = ((int32_t *) mem_param_181228.mem)[slice_180386];
                                                    int64_t slice_180394 = stride_177082 + tt_177273;
                                                    int64_t slice_180395 = start_177156 + slice_180394;
                                                    int8_t leq_arg0_180396 = ((int8_t *) mem_param_181222.mem)[slice_180395];
                                                    int64_t leq_arg0_180397 = ((int64_t *) mem_param_181225.mem)[slice_180395];
                                                    int32_t leq_arg0_180398 = ((int32_t *) mem_param_181228.mem)[slice_180395];
                                                    bool cond_180399 = leq_arg0_180396 == leq_arg1_180387;
                                                    bool defunc_0_leq_res_t_res_180400 = sle64(leq_arg0_180397, leq_arg1_180388);
                                                    bool defunc_0_leq_res_180401 = sle32(leq_arg0_180398, leq_arg1_180389);
                                                    bool x_180402 = cond_180399 && defunc_0_leq_res_t_res_180400;
                                                    bool x_180403 = !cond_180399;
                                                    bool y_180404 = defunc_0_leq_res_180401 && x_180403;
                                                    bool defunc_0_leq_res_180405 = x_180402 || y_180404;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    
                                                    if (defunc_0_leq_res_180405) {
                                                        int64_t tmp_180408 = add64((int64_t) 1, tt_177273);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = ss_177271;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tmp_180408;
                                                    } else {
                                                        int64_t tmp_180409 = add64((int64_t) 1, ss_177271);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = tmp_180409;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tt_177273;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = tt_177274;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177323 = sdiv64(count_177275, (int64_t) 2);
                                                    int64_t n_177324 = sub64(count_177275, m_177323);
                                                    bool cond_177325 = n_177324 == (int64_t) 0;
                                                    int64_t zgze_lhs_177326 = add64(ss_177271, m_177323);
                                                    bool cond_f_res_177327 = sle64(ss_177272, zgze_lhs_177326);
                                                    bool x_177328 = !cond_177325;
                                                    bool y_177329 = cond_f_res_177327 && x_177328;
                                                    bool cond_177330 = cond_177325 || y_177329;
                                                    bool leq_y_x_177331;
                                                    
                                                    if (cond_177330) {
                                                        leq_y_x_177331 = 1;
                                                    } else {
                                                        bool x_177332 = sle64((int64_t) 0, zgze_lhs_177326);
                                                        bool y_177333 = slt64(zgze_lhs_177326, stride_177082);
                                                        bool bounds_check_177334 = x_177332 && y_177333;
                                                        bool index_certs_177335;
                                                        
                                                        if (!bounds_check_177334) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177326, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177340 = add64(tt_177273, n_177324);
                                                        int64_t leq_arg0_177341 = sub64(zm_lhs_177340, (int64_t) 1);
                                                        bool x_177342 = sle64((int64_t) 0, leq_arg0_177341);
                                                        bool y_177343 = slt64(leq_arg0_177341, j_m_i_177105);
                                                        bool bounds_check_177344 = x_177342 && y_177343;
                                                        bool index_certs_177345;
                                                        
                                                        if (!bounds_check_177344) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177341, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177336 = start_177156 + zgze_lhs_177326;
                                                        int8_t leq_arg1_177337 = ((int8_t *) mem_param_181222.mem)[slice_177336];
                                                        int64_t leq_arg1_177338 = ((int64_t *) mem_param_181225.mem)[slice_177336];
                                                        int32_t leq_arg1_177339 = ((int32_t *) mem_param_181228.mem)[slice_177336];
                                                        int64_t slice_177346 = stride_177082 + leq_arg0_177341;
                                                        int64_t slice_177347 = start_177156 + slice_177346;
                                                        int8_t leq_arg0_177348 = ((int8_t *) mem_param_181222.mem)[slice_177347];
                                                        int64_t leq_arg0_177349 = ((int64_t *) mem_param_181225.mem)[slice_177347];
                                                        int32_t leq_arg0_177350 = ((int32_t *) mem_param_181228.mem)[slice_177347];
                                                        bool cond_177351 = leq_arg0_177348 == leq_arg1_177337;
                                                        bool defunc_0_leq_res_t_res_177352 = sle64(leq_arg0_177349, leq_arg1_177338);
                                                        bool defunc_0_leq_res_177353 = sle32(leq_arg0_177350, leq_arg1_177339);
                                                        bool x_177354 = cond_177351 && defunc_0_leq_res_t_res_177352;
                                                        bool x_177355 = !cond_177351;
                                                        bool y_177356 = defunc_0_leq_res_177353 && x_177355;
                                                        bool defunc_0_leq_res_177357 = x_177354 || y_177356;
                                                        
                                                        leq_y_x_177331 = defunc_0_leq_res_177357;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                    
                                                    if (leq_y_x_177331) {
                                                        int64_t tmp_180410 = add64(tt_177273, n_177324);
                                                        int64_t tmp_180411 = sub64(count_177275, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tmp_180410;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tt_177274;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = tmp_180411;
                                                    } else {
                                                        int64_t tmp_177363 = add64(tt_177273, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tt_177273;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tmp_177363;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = count_177275;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = ss_177271;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                }
                                                defunc_0_lifted_step_res_f_res_177285 = defunc_0_lifted_step_res_f_res_f_res_177291;
                                                defunc_0_lifted_step_res_f_res_177286 = defunc_0_lifted_step_res_f_res_f_res_177292;
                                                defunc_0_lifted_step_res_f_res_177287 = defunc_0_lifted_step_res_f_res_f_res_177293;
                                                defunc_0_lifted_step_res_f_res_177288 = defunc_0_lifted_step_res_f_res_f_res_177294;
                                            }
                                            defunc_0_lifted_step_res_177278 = defunc_0_lifted_step_res_f_res_177285;
                                            defunc_0_lifted_step_res_177279 = defunc_0_lifted_step_res_f_res_177286;
                                            defunc_0_lifted_step_res_177280 = defunc_0_lifted_step_res_f_res_177287;
                                            defunc_0_lifted_step_res_177281 = defunc_0_lifted_step_res_f_res_177288;
                                        }
                                        
                                        int64_t loopres_177364;
                                        int64_t loopres_177365;
                                        int64_t loopres_177366;
                                        int64_t loopres_177367;
                                        int64_t loopres_177368;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_177364, &loopres_177365, &loopres_177366, &loopres_177367, &loopres_177368, defunc_0_lifted_step_res_177278, ss_177272, defunc_0_lifted_step_res_177279, defunc_0_lifted_step_res_177280, defunc_0_lifted_step_res_177281) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177369 = slt64((int64_t) 0, loopres_177368);
                                        bool loop_while_tmp_182643 = loop_cond_177369;
                                        int64_t ss_tmp_182644 = loopres_177364;
                                        int64_t ss_tmp_182645 = loopres_177365;
                                        int64_t tt_tmp_182646 = loopres_177366;
                                        int64_t tt_tmp_182647 = loopres_177367;
                                        int64_t count_tmp_182648 = loopres_177368;
                                        
                                        loop_while_177270 = loop_while_tmp_182643;
                                        ss_177271 = ss_tmp_182644;
                                        ss_177272 = ss_tmp_182645;
                                        tt_177273 = tt_tmp_182646;
                                        tt_177274 = tt_tmp_182647;
                                        count_177275 = count_tmp_182648;
                                    }
                                    defunc_0_split_count_res_177264 = loop_while_177270;
                                    defunc_0_split_count_res_177265 = ss_177271;
                                    defunc_0_split_count_res_177266 = ss_177272;
                                    defunc_0_split_count_res_177267 = tt_177273;
                                    defunc_0_split_count_res_177268 = tt_177274;
                                    defunc_0_split_count_res_177269 = count_177275;
                                    ((int64_t *) mem_181250)[i_180833] = defunc_0_split_count_res_177265;
                                    ((int64_t *) mem_181252)[i_180833] = defunc_0_split_count_res_177267;
                                }
                                if (mem_181266_cached_sizze_182915 < flat_dim_177106) {
                                    err = lexical_realloc(ctx, &mem_181266, &mem_181266_cached_sizze_182915, flat_dim_177106);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181269_cached_sizze_182916 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181269, &mem_181269_cached_sizze_182916, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181272_cached_sizze_182917 < bytes_181271) {
                                    err = lexical_realloc(ctx, &mem_181272, &mem_181272_cached_sizze_182917, bytes_181271);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180842 = 0; i_180842 < num_blocks_177103; i_180842++) {
                                    bool y_177376 = slt64(i_180842, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool index_certs_177378;
                                    
                                    if (!y_177376) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177379 = ((int64_t *) mem_181250)[i_180842];
                                    int64_t defunc_0_f_res_177380 = ((int64_t *) mem_181252)[i_180842];
                                    int64_t tmp_177381 = add64((int64_t) 1, i_180842);
                                    bool x_177382 = sle64((int64_t) 0, tmp_177381);
                                    bool y_177383 = slt64(tmp_177381, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool bounds_check_177384 = x_177382 && y_177383;
                                    bool index_certs_177385;
                                    
                                    if (!bounds_check_177384) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177381, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177386 = ((int64_t *) mem_181250)[tmp_177381];
                                    int64_t defunc_0_f_res_177387 = ((int64_t *) mem_181252)[tmp_177381];
                                    int64_t merge_sequential_arg2_177388 = add64(stride_177082, defunc_0_f_res_177380);
                                    int64_t merge_sequential_arg2_177389 = add64(stride_177082, defunc_0_f_res_177387);
                                    int64_t j_m_i_177390 = sub64(merge_sequential_arg2_177389, merge_sequential_arg2_177388);
                                    bool empty_slice_177391 = j_m_i_177390 == (int64_t) 0;
                                    int64_t m_177392 = sub64(j_m_i_177390, (int64_t) 1);
                                    int64_t i_p_m_t_s_177393 = add64(merge_sequential_arg2_177388, m_177392);
                                    bool zzero_leq_i_p_m_t_s_177394 = sle64((int64_t) 0, i_p_m_t_s_177393);
                                    bool i_p_m_t_s_leq_w_177395 = slt64(i_p_m_t_s_177393, next_stride_177083);
                                    bool zzero_lte_i_177396 = sle64((int64_t) 0, merge_sequential_arg2_177388);
                                    bool i_lte_j_177397 = sle64(merge_sequential_arg2_177388, merge_sequential_arg2_177389);
                                    bool y_177398 = i_p_m_t_s_leq_w_177395 && zzero_lte_i_177396;
                                    bool y_177399 = zzero_leq_i_p_m_t_s_177394 && y_177398;
                                    bool forwards_ok_177400 = i_lte_j_177397 && y_177399;
                                    bool ok_or_empty_177401 = empty_slice_177391 || forwards_ok_177400;
                                    bool index_certs_177402;
                                    
                                    if (!ok_or_empty_177401) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177388, ":", (long long) merge_sequential_arg2_177389, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177403 = sub64(defunc_0_f_res_177386, defunc_0_f_res_177379);
                                    bool empty_slice_177404 = j_m_i_177403 == (int64_t) 0;
                                    int64_t m_177405 = sub64(j_m_i_177403, (int64_t) 1);
                                    int64_t i_p_m_t_s_177406 = add64(defunc_0_f_res_177379, m_177405);
                                    bool zzero_leq_i_p_m_t_s_177407 = sle64((int64_t) 0, i_p_m_t_s_177406);
                                    bool i_p_m_t_s_leq_w_177408 = slt64(i_p_m_t_s_177406, next_stride_177083);
                                    bool zzero_lte_i_177409 = sle64((int64_t) 0, defunc_0_f_res_177379);
                                    bool i_lte_j_177410 = sle64(defunc_0_f_res_177379, defunc_0_f_res_177386);
                                    bool y_177411 = i_p_m_t_s_leq_w_177408 && zzero_lte_i_177409;
                                    bool y_177412 = zzero_leq_i_p_m_t_s_177407 && y_177411;
                                    bool forwards_ok_177413 = i_lte_j_177410 && y_177412;
                                    bool ok_or_empty_177414 = empty_slice_177404 || forwards_ok_177413;
                                    bool index_certs_177415;
                                    
                                    if (!ok_or_empty_177414) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177379, ":", (long long) defunc_0_f_res_177386, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177416 = slt64((int64_t) 0, j_m_i_177403);
                                    int8_t dummy_177417;
                                    int64_t dummy_177418;
                                    int32_t dummy_177419;
                                    
                                    if (cond_177416) {
                                        bool index_certs_180412;
                                        
                                        if (!cond_177416) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180413 = start_177156 + defunc_0_f_res_177379;
                                        int8_t head_res_180414 = ((int8_t *) mem_param_181222.mem)[slice_180413];
                                        int64_t head_res_180415 = ((int64_t *) mem_param_181225.mem)[slice_180413];
                                        int32_t head_res_180416 = ((int32_t *) mem_param_181228.mem)[slice_180413];
                                        
                                        dummy_177417 = head_res_180414;
                                        dummy_177418 = head_res_180415;
                                        dummy_177419 = head_res_180416;
                                    } else {
                                        bool y_177425 = slt64((int64_t) 0, j_m_i_177390);
                                        bool index_certs_177426;
                                        
                                        if (!y_177425) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177427 = start_177156 + merge_sequential_arg2_177388;
                                        int8_t head_res_177428 = ((int8_t *) mem_param_181222.mem)[slice_177427];
                                        int64_t head_res_177429 = ((int64_t *) mem_param_181225.mem)[slice_177427];
                                        int32_t head_res_177430 = ((int32_t *) mem_param_181228.mem)[slice_177427];
                                        
                                        dummy_177417 = head_res_177428;
                                        dummy_177418 = head_res_177429;
                                        dummy_177419 = head_res_177430;
                                    }
                                    for (int64_t nest_i_182652 = 0; nest_i_182652 < merge_block_sizze_176920; nest_i_182652++) {
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + nest_i_182652] = dummy_177417;
                                    }
                                    for (int64_t nest_i_182653 = 0; nest_i_182653 < merge_block_sizze_176920; nest_i_182653++) {
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + nest_i_182653] = dummy_177418;
                                    }
                                    for (int64_t nest_i_182654 = 0; nest_i_182654 < merge_block_sizze_176920; nest_i_182654++) {
                                        ((int32_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + nest_i_182654] = dummy_177419;
                                    }
                                    
                                    int64_t data_177434;
                                    int64_t i_177439 = (int64_t) 0;
                                    
                                    for (int64_t k_177438 = 0; k_177438 < merge_block_sizze_176920; k_177438++) {
                                        int64_t j_177443 = sub64(k_177438, i_177439);
                                        bool cond_177444 = j_177443 == j_m_i_177390;
                                        bool cond_177445;
                                        
                                        if (cond_177444) {
                                            cond_177445 = 1;
                                        } else {
                                            bool cond_177446 = slt64(i_177439, j_m_i_177403);
                                            bool cond_f_res_177447;
                                            
                                            if (cond_177446) {
                                                bool x_180417 = sle64((int64_t) 0, j_177443);
                                                bool y_180418 = slt64(j_177443, j_m_i_177390);
                                                bool bounds_check_180419 = x_180417 && y_180418;
                                                bool index_certs_180420;
                                                
                                                if (!bounds_check_180419) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180426 = sle64((int64_t) 0, i_177439);
                                                bool bounds_check_180427 = cond_177446 && x_180426;
                                                bool index_certs_180428;
                                                
                                                if (!bounds_check_180427) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180421 = merge_sequential_arg2_177388 + j_177443;
                                                int64_t slice_180422 = start_177156 + slice_180421;
                                                int8_t leq_arg1_180423 = ((int8_t *) mem_param_181222.mem)[slice_180422];
                                                int64_t leq_arg1_180424 = ((int64_t *) mem_param_181225.mem)[slice_180422];
                                                int32_t leq_arg1_180425 = ((int32_t *) mem_param_181228.mem)[slice_180422];
                                                int64_t slice_180429 = defunc_0_f_res_177379 + i_177439;
                                                int64_t slice_180430 = start_177156 + slice_180429;
                                                int8_t leq_arg0_180431 = ((int8_t *) mem_param_181222.mem)[slice_180430];
                                                int64_t leq_arg0_180432 = ((int64_t *) mem_param_181225.mem)[slice_180430];
                                                int32_t leq_arg0_180433 = ((int32_t *) mem_param_181228.mem)[slice_180430];
                                                bool cond_180434 = leq_arg0_180431 == leq_arg1_180423;
                                                bool defunc_0_leq_res_t_res_180435 = sle64(leq_arg0_180432, leq_arg1_180424);
                                                bool defunc_0_leq_res_180436 = sle32(leq_arg0_180433, leq_arg1_180425);
                                                bool x_180437 = cond_180434 && defunc_0_leq_res_t_res_180435;
                                                bool x_180438 = !cond_180434;
                                                bool y_180439 = defunc_0_leq_res_180436 && x_180438;
                                                bool defunc_0_leq_res_180440 = x_180437 || y_180439;
                                                
                                                cond_f_res_177447 = defunc_0_leq_res_180440;
                                            } else {
                                                cond_f_res_177447 = 0;
                                            }
                                            cond_177445 = cond_f_res_177447;
                                        }
                                        
                                        int64_t loopres_177472;
                                        int8_t loopres_177473;
                                        int64_t loopres_177474;
                                        int32_t loopres_177475;
                                        
                                        if (cond_177445) {
                                            bool x_180442 = sle64((int64_t) 0, i_177439);
                                            bool y_180443 = slt64(i_177439, j_m_i_177403);
                                            bool bounds_check_180444 = x_180442 && y_180443;
                                            bool index_certs_180445;
                                            
                                            if (!bounds_check_180444) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180441 = add64((int64_t) 1, i_177439);
                                            int64_t slice_180446 = defunc_0_f_res_177379 + i_177439;
                                            int64_t slice_180447 = start_177156 + slice_180446;
                                            int8_t tmp_180448 = ((int8_t *) mem_param_181222.mem)[slice_180447];
                                            int64_t tmp_180449 = ((int64_t *) mem_param_181225.mem)[slice_180447];
                                            int32_t tmp_180450 = ((int32_t *) mem_param_181228.mem)[slice_180447];
                                            
                                            loopres_177472 = tmp_180441;
                                            loopres_177473 = tmp_180448;
                                            loopres_177474 = tmp_180449;
                                            loopres_177475 = tmp_180450;
                                        } else {
                                            bool x_177486 = sle64((int64_t) 0, j_177443);
                                            bool y_177487 = slt64(j_177443, j_m_i_177390);
                                            bool bounds_check_177488 = x_177486 && y_177487;
                                            bool index_certs_177489;
                                            
                                            if (!bounds_check_177488) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177490 = merge_sequential_arg2_177388 + j_177443;
                                            int64_t slice_177491 = start_177156 + slice_177490;
                                            int8_t tmp_177492 = ((int8_t *) mem_param_181222.mem)[slice_177491];
                                            int64_t tmp_177493 = ((int64_t *) mem_param_181225.mem)[slice_177491];
                                            int32_t tmp_177494 = ((int32_t *) mem_param_181228.mem)[slice_177491];
                                            
                                            loopres_177472 = i_177439;
                                            loopres_177473 = tmp_177492;
                                            loopres_177474 = tmp_177493;
                                            loopres_177475 = tmp_177494;
                                        }
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177473;
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177474;
                                        ((int32_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177475;
                                        
                                        int64_t i_tmp_182655 = loopres_177472;
                                        
                                        i_177439 = i_tmp_182655;
                                    }
                                    data_177434 = i_177439;
                                }
                                if (memblock_alloc(ctx, &mem_181321, flat_dim_177106, "mem_181321")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181321.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint8_t *) mem_181266, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181325, bytes_181268, "mem_181325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181325.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181269, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181329, bytes_181271, "mem_181329")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181329.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint32_t *) mem_181272, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181321, "mem_181321") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181325, "mem_181325") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181329, "mem_181329") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181230, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181233, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181236, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181356.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181376, bytes_181229, "mem_181376")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181376.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint8_t *) mem_181230, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181380, bytes_181232, "mem_181380")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181380.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181233, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181384, bytes_181235, "mem_181384")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181384.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint32_t *) mem_181236, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        
                        bool loop_cond_177508 = slt64(next_stride_177083, flat_dim_176915);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182622, &mem_181376, "mem_181376") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182623, &mem_181380, "mem_181380") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182624, &mem_181384, "mem_181384") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182625 = bytes_181229;
                        bool loop_while_tmp_182626 = loop_cond_177508;
                        int64_t stride_tmp_182630 = next_stride_177083;
                        
                        if (memblock_set(ctx, &mem_param_181222, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181225, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181228, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177077 = loop_dz2084Uz2082U_tmp_182625;
                        loop_while_177078 = loop_while_tmp_182626;
                        stride_177082 = stride_tmp_182630;
                    }
                    if (memblock_set(ctx, &ext_mem_181394, &mem_param_181222, "mem_param_181222") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181393, &mem_param_181225, "mem_param_181225") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181392, &mem_param_181228, "mem_param_181228") != 0)
                        return 1;
                    data_177071 = loop_dz2084Uz2082U_177077;
                    data_177072 = loop_while_177078;
                    data_177076 = stride_177082;
                    if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
                        return 1;
                    
                    bool empty_slice_177509 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177510 = sle64((int64_t) 0, zs_lhs_176899);
                    bool i_p_m_t_s_leq_w_177511 = slt64(zs_lhs_176899, data_177071);
                    bool y_177512 = zzero_leq_i_p_m_t_s_177510 && i_p_m_t_s_leq_w_177511;
                    bool ok_or_empty_177513 = empty_slice_177509 || y_177512;
                    bool index_certs_177514;
                    
                    if (!ok_or_empty_177513) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] out of bounds for array of shape [", (long long) data_177071, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181403, &ext_mem_181394, "ext_mem_181394") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &ext_mem_181393, "ext_mem_181393") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &ext_mem_181392, "ext_mem_181392") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181400.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181397.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
                    return 1;
                
                bool loop_cond_177550 = slt64(ubs_176842, threads_131730);
                bool loop_while_tmp_182589 = loop_cond_177550;
                int64_t p_tmp_182590 = ubs_176842;
                
                loop_while_176831 = loop_while_tmp_182589;
                p_176832 = p_tmp_182590;
            }
            defunc_0_mergeFunc_seq_res_176826 = loop_while_176831;
            defunc_0_mergeFunc_seq_res_176827 = p_176832;
            
            int64_t index_concat_branch_178367;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180465 = ((int64_t *) mem_181069)[index_concat_i_178364];
                
                index_concat_branch_178367 = index_concat_180465;
            } else {
                index_concat_branch_178367 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178361;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180466 = ((int64_t *) mem_181071)[index_concat_i_178364];
                
                index_concat_branch_178361 = index_concat_180466;
            } else {
                index_concat_branch_178361 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181084, "mem_181084") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181086, "mem_181086") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181088, "mem_181088") != 0)
                return 1;
            loopres_175590 = index_concat_branch_178367;
            loopres_175591 = index_concat_branch_178361;
        }
        for (int64_t i_180858 = 0; i_180858 < window_sizze_131729; i_180858++) {
            int8_t eta_p_177558 = ((int8_t *) ext_mem_181822.mem)[i_180858];
            int64_t eta_p_177559 = ((int64_t *) ext_mem_181819.mem)[i_180858];
            bool cond_177560 = eta_p_177558 == (int8_t) 0;
            int64_t tmp_177561;
            
            if (cond_177560) {
                int64_t tmp_t_res_180469 = add64(p_175562, eta_p_177559);
                
                tmp_177561 = tmp_t_res_180469;
            } else {
                int64_t tmp_f_res_177563 = add64(p_175563, eta_p_177559);
                
                tmp_177561 = tmp_f_res_177563;
            }
            ((int64_t *) mem_181056.mem)[ind_bottom_175566 + i_180858] = tmp_177561;
        }
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        
        int64_t next_lbs_177564 = add64(p_175562, loopres_175590);
        int64_t next_lbs_177565 = add64(p_175563, loopres_175591);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131729});
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181816.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131729});
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        
        bool cond_177579 = slt64(next_lbs_177564, zl_rhs_175545);
        bool loop_cond_t_res_177580 = slt64(next_lbs_177565, zl_rhs_175547);
        bool x_177581 = cond_177579 && loop_cond_t_res_177580;
        bool loop_while_tmp_182473 = x_177581;
        int64_t p_tmp_182477 = next_lbs_177564;
        int64_t p_tmp_182478 = next_lbs_177565;
        
        loop_while_175558 = loop_while_tmp_182473;
        p_175562 = p_tmp_182477;
        p_175563 = p_tmp_182478;
    }
    defunc_0_merge_pipeline_res_175552 = loop_while_175558;
    defunc_0_merge_pipeline_res_175556 = p_175562;
    defunc_0_merge_pipeline_res_175557 = p_175563;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 = sub64(nb_131728, defunc_0_merge_pipeline_res_175557);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 = sub64(na_131727, defunc_0_merge_pipeline_res_175556);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    bool empty_slice_177585 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 == (int64_t) 0;
    int64_t m_177586 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 1);
    int64_t i_p_m_t_s_177587 = add64(defunc_0_merge_pipeline_res_175556, m_177586);
    bool zzero_leq_i_p_m_t_s_177588 = sle64((int64_t) 0, i_p_m_t_s_177587);
    bool i_p_m_t_s_leq_w_177589 = slt64(i_p_m_t_s_177587, na_131727);
    bool zzero_lte_i_177590 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175556);
    bool i_lte_j_177591 = sle64(defunc_0_merge_pipeline_res_175556, na_131727);
    bool y_177592 = i_p_m_t_s_leq_w_177589 && zzero_lte_i_177590;
    bool y_177593 = zzero_leq_i_p_m_t_s_177588 && y_177592;
    bool forwards_ok_177594 = i_lte_j_177591 && y_177593;
    bool ok_or_empty_177595 = empty_slice_177585 || forwards_ok_177594;
    bool index_certs_177596;
    
    if (!ok_or_empty_177595) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175556, ":", (long long) na_131727, "] out of bounds for array of shape [", (long long) na_131727, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177600 = slt64(na_131727, defunc_0_merge_pipeline_res_175556);
    bool valid_177601 = !bounds_invalid_upwards_177600;
    bool range_valid_c_177602;
    
    if (!valid_177601) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175556, "..<", (long long) na_131727, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177606 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 == (int64_t) 0;
    int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, (int64_t) 1);
    int64_t i_p_m_t_s_177608 = add64(defunc_0_merge_pipeline_res_175557, m_177607);
    bool zzero_leq_i_p_m_t_s_177609 = sle64((int64_t) 0, i_p_m_t_s_177608);
    bool i_p_m_t_s_leq_w_177610 = slt64(i_p_m_t_s_177608, nb_131728);
    bool zzero_lte_i_177611 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175557);
    bool i_lte_j_177612 = sle64(defunc_0_merge_pipeline_res_175557, nb_131728);
    bool y_177613 = i_p_m_t_s_leq_w_177610 && zzero_lte_i_177611;
    bool y_177614 = zzero_leq_i_p_m_t_s_177609 && y_177613;
    bool forwards_ok_177615 = i_lte_j_177612 && y_177614;
    bool ok_or_empty_177616 = empty_slice_177606 || forwards_ok_177615;
    bool index_certs_177617;
    
    if (!ok_or_empty_177616) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175557, ":", (long long) nb_131728, "] out of bounds for array of shape [", (long long) nb_131728, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177621 = slt64(nb_131728, defunc_0_merge_pipeline_res_175557);
    bool valid_177622 = !bounds_invalid_upwards_177621;
    bool range_valid_c_177623;
    
    if (!valid_177622) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175557, "..<", (long long) nb_131728, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181847 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    int64_t bytes_181849 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool cond_177630 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zs_lhs_177631 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zp_rhs_177632 = sdiv_safe64(zs_lhs_177631, (int64_t) 20);
    int64_t min_num_blocks_177633 = add64((int64_t) 1, zp_rhs_177632);
    bool loop_cond_177634 = slt64((int64_t) 1, min_num_blocks_177633);
    bool smallest_pow_2_geq_than_res_177635;
    int64_t smallest_pow_2_geq_than_res_177636;
    bool loop_while_177637;
    int64_t x_177638;
    
    loop_while_177637 = loop_cond_177634;
    x_177638 = (int64_t) 1;
    while (loop_while_177637) {
        int64_t loopres_177639 = mul64((int64_t) 2, x_177638);
        bool loop_cond_177640 = slt64(loopres_177639, min_num_blocks_177633);
        bool loop_while_tmp_182660 = loop_cond_177640;
        int64_t x_tmp_182661 = loopres_177639;
        
        loop_while_177637 = loop_while_tmp_182660;
        x_177638 = x_tmp_182661;
    }
    smallest_pow_2_geq_than_res_177635 = loop_while_177637;
    smallest_pow_2_geq_than_res_177636 = x_177638;
    
    bool zzero_177641 = smallest_pow_2_geq_than_res_177636 == (int64_t) 0;
    bool nonzzero_177642 = !zzero_177641;
    bool protect_assert_disj_177643 = cond_177630 || nonzzero_177642;
    bool nonzzero_cert_177644;
    
    if (!protect_assert_disj_177643) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177645 = sdiv_safe64(zs_lhs_177631, smallest_pow_2_geq_than_res_177636);
    int64_t block_sizze_177646 = add64((int64_t) 1, zp_rhs_177645);
    bool y_177653 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool protect_assert_disj_182175 = cond_177630 || y_177653;
    bool index_certs_177654;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177680 = slt64(smallest_pow_2_geq_than_res_177636, (int64_t) 0);
    bool valid_177681 = !bounds_invalid_upwards_177680;
    bool protect_assert_disj_182185 = cond_177630 || valid_177681;
    bool range_valid_c_177682;
    
    if (!protect_assert_disj_182185) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177684 = slt64(block_sizze_177646, (int64_t) 0);
    bool valid_177685 = !bounds_invalid_upwards_177684;
    bool protect_assert_disj_182187 = cond_177630 || valid_177685;
    bool range_valid_c_177686;
    
    if (!protect_assert_disj_182187) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177646, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177688 = sle64(block_sizze_177646, (int64_t) 1);
    int64_t tmp_177689 = sub64(block_sizze_177646, (int64_t) 2);
    bool bounds_invalid_upwards_177690 = slt64(tmp_177689, (int64_t) 0);
    bool valid_177692 = !bounds_invalid_upwards_177690;
    bool protect_assert_disj_177693 = cond_177688 || valid_177692;
    bool protect_assert_disj_182189 = cond_177630 || protect_assert_disj_177693;
    bool range_valid_c_177694;
    
    if (!protect_assert_disj_182189) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177689, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178255 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178257 = sle64((int64_t) 0, zs_lhs_177631);
    bool i_p_m_t_s_leq_w_178258 = slt64(zs_lhs_177631, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool y_178259 = zzero_leq_i_p_m_t_s_178257 && i_p_m_t_s_leq_w_178258;
    bool ok_or_empty_178260 = empty_slice_178255 || y_178259;
    bool index_certs_178261;
    
    if (!ok_or_empty_178260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178262 = add64(defunc_0_merge_pipeline_res_175556, defunc_0_merge_pipeline_res_175557);
    int64_t j_m_i_178263 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, final_buffer_178262);
    bool empty_slice_178264 = j_m_i_178263 == (int64_t) 0;
    int64_t m_178265 = sub64(j_m_i_178263, (int64_t) 1);
    int64_t i_p_m_t_s_178266 = add64(final_buffer_178262, m_178265);
    bool zzero_leq_i_p_m_t_s_178267 = sle64((int64_t) 0, i_p_m_t_s_178266);
    bool i_p_m_t_s_leq_w_178268 = slt64(i_p_m_t_s_178266, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool zzero_lte_i_178269 = sle64((int64_t) 0, final_buffer_178262);
    bool i_lte_j_178270 = sle64(final_buffer_178262, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool y_178271 = i_p_m_t_s_leq_w_178268 && zzero_lte_i_178269;
    bool y_178272 = zzero_leq_i_p_m_t_s_178267 && y_178271;
    bool forwards_ok_178273 = i_lte_j_178270 && y_178272;
    bool ok_or_empty_178274 = empty_slice_178264 || forwards_ok_178273;
    bool index_certs_178275;
    
    if (!ok_or_empty_178274) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178262, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178276 = j_m_i_178263 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool empty_or_match_cert_178277;
    
    if (!dim_match_178276) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178263, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181846, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "mem_181846")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182662 = 0; nest_i_182662 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; nest_i_182662++) {
        ((int8_t *) mem_181846.mem)[nest_i_182662] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181848, bytes_181847, "mem_181848")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182663 = 0; i_182663 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; i_182663++) {
        int64_t x_182664 = defunc_0_merge_pipeline_res_175556 + i_182663 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[i_182663] = x_182664;
    }
    for (int64_t nest_i_182665 = 0; nest_i_182665 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; nest_i_182665++) {
        ((int8_t *) mem_181846.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + nest_i_182665] = (int8_t) 1;
    }
    for (int64_t i_182666 = 0; i_182666 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; i_182666++) {
        int64_t x_182667 = defunc_0_merge_pipeline_res_175557 + i_182666 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + i_182666] = x_182667;
    }
    
    int64_t tmp_offs_182668 = (int64_t) 0;
    
    if (!(tmp_offs_182668 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182668 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t tmp_offs_182669 = (int64_t) 0;
    
    if (!(tmp_offs_182669 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182669 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    if (memblock_alloc(ctx, &mem_181850, bytes_181849, "mem_181850")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182670 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181052.mem, defunc_0_merge_pipeline_res_175556, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181053.mem, defunc_0_merge_pipeline_res_175557, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t flat_dim_177647 = smallest_pow_2_geq_than_res_177636 * block_sizze_177646;
    bool x_182170 = !cond_177630;
    int64_t greatest_divisor_leq_than_arg1_177651 = mul64((int64_t) 2, block_sizze_177646);
    int64_t merge_block_sizze_177652;
    
    if (x_182170) {
        int64_t x_182172;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182172, (int64_t) 8, greatest_divisor_leq_than_arg1_177651) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177652 = x_182172;
    } else {
        merge_block_sizze_177652 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178327 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 0);
    int8_t index_concat_branch_178331 = btoi_bool_i8(index_concat_cmp_178327);
    int64_t index_concat_i_180471 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    int64_t index_primexp_180472 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180471);
    int64_t index_concat_branch_178325;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178325 = index_primexp_180472;
    } else {
        index_concat_branch_178325 = defunc_0_merge_pipeline_res_175556;
    }
    
    bool x_182166 = !index_concat_cmp_178327;
    bool protect_cond_conj_182176 = x_182166 && x_182170;
    int32_t index_concat_178318;
    
    if (protect_cond_conj_182176) {
        int32_t x_182168 = ((int32_t *) a_list_mem_181052.mem)[defunc_0_merge_pipeline_res_175556];
        
        index_concat_178318 = x_182168;
    } else {
        index_concat_178318 = 0;
    }
    
    bool protect_cond_conj_182177 = index_concat_cmp_178327 && x_182170;
    int32_t index_concat_180475;
    
    if (protect_cond_conj_182177) {
        int32_t x_182164 = ((int32_t *) b_list_mem_181053.mem)[index_primexp_180472];
        
        index_concat_180475 = x_182164;
    } else {
        index_concat_180475 = 0;
    }
    
    int32_t index_concat_branch_178319;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178319 = index_concat_180475;
    } else {
        index_concat_branch_178319 = index_concat_178318;
    }
    
    int8_t defunc_0_reduce_res_180706;
    int64_t defunc_0_reduce_res_180707;
    int32_t defunc_0_reduce_res_180708;
    
    if (x_182170) {
        int8_t x_182178;
        int64_t x_182179;
        int32_t x_182180;
        int8_t redout_180860;
        int64_t redout_180861;
        int32_t redout_180862;
        
        redout_180860 = index_concat_branch_178331;
        redout_180861 = index_concat_branch_178325;
        redout_180862 = index_concat_branch_178319;
        for (int64_t i_180863 = 0; i_180863 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584; i_180863++) {
            bool index_concat_cmp_180934 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, i_180863);
            int8_t index_concat_branch_180938 = btoi_bool_i8(index_concat_cmp_180934);
            int64_t index_concat_branch_180932;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180929 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t index_primexp_181022 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180929);
                
                index_concat_branch_180932 = index_primexp_181022;
            } else {
                int64_t index_primexp_181024 = add64(defunc_0_merge_pipeline_res_175556, i_180863);
                
                index_concat_branch_180932 = index_primexp_181024;
            }
            
            int32_t index_concat_branch_180926;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180923 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t slice_181019 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180923;
                int32_t index_concat_180924 = ((int32_t *) b_list_mem_181053.mem)[slice_181019];
                
                index_concat_branch_180926 = index_concat_180924;
            } else {
                int64_t slice_181020 = defunc_0_merge_pipeline_res_175556 + i_180863;
                int32_t index_concat_180925 = ((int32_t *) a_list_mem_181052.mem)[slice_181020];
                
                index_concat_branch_180926 = index_concat_180925;
            }
            
            bool eq_x_y_181037 = redout_180860 == (int8_t) 1;
            bool eq_x_zz_181038 = redout_180860 == (int8_t) 0;
            bool p_and_eq_x_y_181039 = index_concat_cmp_180934 && eq_x_y_181037;
            bool not_p_181040 = !index_concat_cmp_180934;
            bool p_and_eq_x_y_181041 = eq_x_zz_181038 && not_p_181040;
            bool cond_177670 = p_and_eq_x_y_181039 || p_and_eq_x_y_181041;
            bool defunc_0_leq_res_t_res_177671 = sle64(redout_180861, index_concat_branch_180932);
            bool defunc_0_leq_res_177672 = sle32(redout_180862, index_concat_branch_180926);
            bool x_177673 = cond_177670 && defunc_0_leq_res_t_res_177671;
            bool x_177674 = !cond_177670;
            bool y_177675 = defunc_0_leq_res_177672 && x_177674;
            bool defunc_0_leq_res_177676 = x_177673 || y_177675;
            int8_t defunc_0_op_res_177677;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177677 = index_concat_branch_180938;
            } else {
                defunc_0_op_res_177677 = redout_180860;
            }
            
            int64_t defunc_0_op_res_177678;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177678 = index_concat_branch_180932;
            } else {
                defunc_0_op_res_177678 = redout_180861;
            }
            
            int32_t defunc_0_op_res_177679;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177679 = index_concat_branch_180926;
            } else {
                defunc_0_op_res_177679 = redout_180862;
            }
            
            int8_t redout_tmp_182671 = defunc_0_op_res_177677;
            int64_t redout_tmp_182672 = defunc_0_op_res_177678;
            int32_t redout_tmp_182673 = defunc_0_op_res_177679;
            
            redout_180860 = redout_tmp_182671;
            redout_180861 = redout_tmp_182672;
            redout_180862 = redout_tmp_182673;
        }
        x_182178 = redout_180860;
        x_182179 = redout_180861;
        x_182180 = redout_180862;
        defunc_0_reduce_res_180706 = x_182178;
        defunc_0_reduce_res_180707 = x_182179;
        defunc_0_reduce_res_180708 = x_182180;
    } else {
        defunc_0_reduce_res_180706 = (int8_t) 0;
        defunc_0_reduce_res_180707 = (int64_t) 0;
        defunc_0_reduce_res_180708 = 0;
    }
    
    int64_t distance_177691 = add64((int64_t) 1, tmp_177689);
    int64_t binop_x_181853 = (int64_t) 8 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181854 = block_sizze_177646 * binop_x_181853;
    int64_t binop_x_181856 = (int64_t) 4 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181857 = block_sizze_177646 * binop_x_181856;
    int64_t bytes_181872 = (int64_t) 8 * block_sizze_177646;
    int64_t bytes_181874 = (int64_t) 4 * block_sizze_177646;
    bool loop_cond_177800 = slt64(block_sizze_177646, flat_dim_177647);
    bool zzero_177801 = merge_block_sizze_177652 == (int64_t) 0;
    bool nonzzero_177802 = !zzero_177801;
    
    if (cond_177630) {
        if (memblock_set(ctx, &ext_mem_182145, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &mem_181850, "mem_181850") != 0)
            return 1;
    } else {
        if (mem_181852_cached_sizze_182938 < flat_dim_177647) {
            err = lexical_realloc(ctx, &mem_181852, &mem_181852_cached_sizze_182938, flat_dim_177647);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182939 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182939, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181858_cached_sizze_182940 < bytes_181857) {
            err = lexical_realloc(ctx, &mem_181858, &mem_181858_cached_sizze_182940, bytes_181857);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181871_cached_sizze_182941 < block_sizze_177646) {
            err = lexical_realloc(ctx, &mem_181871, &mem_181871_cached_sizze_182941, block_sizze_177646);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181873_cached_sizze_182942 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181873, &mem_181873_cached_sizze_182942, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181875_cached_sizze_182943 < bytes_181874) {
            err = lexical_realloc(ctx, &mem_181875, &mem_181875_cached_sizze_182943, bytes_181874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180880 = 0; i_180880 < smallest_pow_2_geq_than_res_177636; i_180880++) {
            int64_t zp_lhs_177699 = mul64(block_sizze_177646, i_180880);
            
            for (int64_t i_180870 = 0; i_180870 < block_sizze_177646; i_180870++) {
                int64_t k_177704 = add64(zp_lhs_177699, i_180870);
                bool cond_177705 = slt64(k_177704, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
                int8_t lifted_lambda_res_177706;
                int64_t lifted_lambda_res_177707;
                int32_t lifted_lambda_res_177708;
                
                if (cond_177705) {
                    bool x_180481 = sle64((int64_t) 0, k_177704);
                    bool bounds_check_180482 = cond_177705 && x_180481;
                    bool index_certs_180483;
                    
                    if (!bounds_check_180482) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177704, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180484 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, k_177704);
                    int8_t index_concat_branch_180485 = btoi_bool_i8(index_concat_cmp_180484);
                    int64_t index_concat_branch_180486;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180487 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t index_primexp_180488 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180487);
                        
                        index_concat_branch_180486 = index_primexp_180488;
                    } else {
                        int64_t index_primexp_180489 = add64(defunc_0_merge_pipeline_res_175556, k_177704);
                        
                        index_concat_branch_180486 = index_primexp_180489;
                    }
                    
                    int32_t index_concat_branch_180490;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180491 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t slice_180492 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180491;
                        int32_t index_concat_180493 = ((int32_t *) b_list_mem_181053.mem)[slice_180492];
                        
                        index_concat_branch_180490 = index_concat_180493;
                    } else {
                        int64_t slice_180494 = defunc_0_merge_pipeline_res_175556 + k_177704;
                        int32_t index_concat_180495 = ((int32_t *) a_list_mem_181052.mem)[slice_180494];
                        
                        index_concat_branch_180490 = index_concat_180495;
                    }
                    lifted_lambda_res_177706 = index_concat_branch_180485;
                    lifted_lambda_res_177707 = index_concat_branch_180486;
                    lifted_lambda_res_177708 = index_concat_branch_180490;
                } else {
                    lifted_lambda_res_177706 = defunc_0_reduce_res_180706;
                    lifted_lambda_res_177707 = defunc_0_reduce_res_180707;
                    lifted_lambda_res_177708 = defunc_0_reduce_res_180708;
                }
                ((int8_t *) mem_181871)[i_180870] = lifted_lambda_res_177706;
                ((int64_t *) mem_181873)[i_180870] = lifted_lambda_res_177707;
                ((int32_t *) mem_181875)[i_180870] = lifted_lambda_res_177708;
            }
            if (!cond_177688) {
                for (int64_t i_177721 = 0; i_177721 < distance_177691; i_177721++) {
                    int64_t gt_arg1_177725 = add64((int64_t) 1, i_177721);
                    bool x_177726 = sle64((int64_t) 0, gt_arg1_177725);
                    bool y_177727 = slt64(gt_arg1_177725, block_sizze_177646);
                    bool bounds_check_177728 = x_177726 && y_177727;
                    bool index_certs_177729;
                    
                    if (!bounds_check_177728) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177725, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177733 = slt64(i_177721, block_sizze_177646);
                    bool index_certs_177734;
                    
                    if (!y_177733) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177721, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177730 = ((int8_t *) mem_181871)[gt_arg1_177725];
                    int64_t gt_arg1_177731 = ((int64_t *) mem_181873)[gt_arg1_177725];
                    int32_t gt_arg1_177732 = ((int32_t *) mem_181875)[gt_arg1_177725];
                    int8_t gt_arg0_177735 = ((int8_t *) mem_181871)[i_177721];
                    int64_t gt_arg0_177736 = ((int64_t *) mem_181873)[i_177721];
                    int32_t gt_arg0_177737 = ((int32_t *) mem_181875)[i_177721];
                    bool cond_177738 = gt_arg0_177735 == gt_arg1_177730;
                    bool defunc_0_leq_res_t_res_177739 = sle64(gt_arg0_177736, gt_arg1_177731);
                    bool defunc_0_leq_res_177740 = sle32(gt_arg0_177737, gt_arg1_177732);
                    bool x_177741 = cond_177738 && defunc_0_leq_res_t_res_177739;
                    bool x_177742 = !cond_177738;
                    bool y_177743 = defunc_0_leq_res_177740 && x_177742;
                    bool defunc_0_leq_res_177744 = x_177741 || y_177743;
                    bool defunc_0_lifted_gt_res_177745 = !defunc_0_leq_res_177744;
                    bool s_177746;
                    int64_t s_177750;
                    bool loop_while_177751;
                    int64_t j_177755;
                    
                    loop_while_177751 = defunc_0_lifted_gt_res_177745;
                    j_177755 = i_177721;
                    while (loop_while_177751) {
                        bool x_177756 = sle64((int64_t) 0, j_177755);
                        bool y_177757 = slt64(j_177755, block_sizze_177646);
                        bool bounds_check_177758 = x_177756 && y_177757;
                        bool index_certs_177759;
                        
                        if (!bounds_check_177758) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177755, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177763 = add64((int64_t) 1, j_177755);
                        bool x_177764 = sle64((int64_t) 0, copy_arg0_177763);
                        bool y_177765 = slt64(copy_arg0_177763, block_sizze_177646);
                        bool bounds_check_177766 = x_177764 && y_177765;
                        bool index_certs_177767;
                        
                        if (!bounds_check_177766) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177763, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177760 = ((int8_t *) mem_181871)[j_177755];
                        int64_t copy_arg0_177761 = ((int64_t *) mem_181873)[j_177755];
                        int32_t copy_arg0_177762 = ((int32_t *) mem_181875)[j_177755];
                        int8_t copy_arg0_177768 = ((int8_t *) mem_181871)[copy_arg0_177763];
                        int64_t copy_arg0_177769 = ((int64_t *) mem_181873)[copy_arg0_177763];
                        int32_t copy_arg0_177770 = ((int32_t *) mem_181875)[copy_arg0_177763];
                        
                        ((int8_t *) mem_181871)[j_177755] = copy_arg0_177768;
                        ((int64_t *) mem_181873)[j_177755] = copy_arg0_177769;
                        ((int32_t *) mem_181875)[j_177755] = copy_arg0_177770;
                        ((int8_t *) mem_181871)[copy_arg0_177763] = copy_arg0_177760;
                        ((int64_t *) mem_181873)[copy_arg0_177763] = copy_arg0_177761;
                        ((int32_t *) mem_181875)[copy_arg0_177763] = copy_arg0_177762;
                        
                        int64_t tmp_177777 = sub64(j_177755, (int64_t) 1);
                        bool cond_177778 = sle64((int64_t) 0, tmp_177777);
                        bool loop_cond_177779;
                        
                        if (cond_177778) {
                            bool y_180499 = slt64(tmp_177777, block_sizze_177646);
                            bool bounds_check_180500 = cond_177778 && y_180499;
                            bool index_certs_180501;
                            
                            if (!bounds_check_180500) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177777, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180496 = ((int8_t *) mem_181871)[j_177755];
                            int64_t gt_arg1_180497 = ((int64_t *) mem_181873)[j_177755];
                            int32_t gt_arg1_180498 = ((int32_t *) mem_181875)[j_177755];
                            int8_t gt_arg0_180502 = ((int8_t *) mem_181871)[tmp_177777];
                            int64_t gt_arg0_180503 = ((int64_t *) mem_181873)[tmp_177777];
                            int32_t gt_arg0_180504 = ((int32_t *) mem_181875)[tmp_177777];
                            bool cond_180505 = gt_arg0_180502 == gt_arg1_180496;
                            bool defunc_0_leq_res_t_res_180506 = sle64(gt_arg0_180503, gt_arg1_180497);
                            bool defunc_0_leq_res_180507 = sle32(gt_arg0_180504, gt_arg1_180498);
                            bool x_180508 = cond_180505 && defunc_0_leq_res_t_res_180506;
                            bool x_180509 = !cond_180505;
                            bool y_180510 = defunc_0_leq_res_180507 && x_180509;
                            bool defunc_0_leq_res_180511 = x_180508 || y_180510;
                            bool defunc_0_lifted_gt_res_180512 = !defunc_0_leq_res_180511;
                            
                            loop_cond_177779 = defunc_0_lifted_gt_res_180512;
                        } else {
                            loop_cond_177779 = 0;
                        }
                        
                        bool loop_while_tmp_182683 = loop_cond_177779;
                        int64_t j_tmp_182687 = tmp_177777;
                        
                        loop_while_177751 = loop_while_tmp_182683;
                        j_177755 = j_tmp_182687;
                    }
                    s_177746 = loop_while_177751;
                    s_177750 = j_177755;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181852, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181871, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181855, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181873, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181858, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181875, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
        }
        if (memblock_alloc(ctx, &mem_181952, flat_dim_177647, "mem_181952")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181952.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint8_t *) mem_181852, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181956, bytes_181854, "mem_181956")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181956.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181960, bytes_181857, "mem_181960")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181960.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint32_t *) mem_181858, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        
        int64_t data_177803;
        bool data_177804;
        int64_t data_177808;
        int64_t loop_dz2084Uz2082U_177809;
        bool loop_while_177810;
        int64_t stride_177814;
        
        if (memblock_set(ctx, &mem_param_181964, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181967, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181970, &mem_181960, "mem_181960") != 0)
            return 1;
        loop_dz2084Uz2082U_177809 = flat_dim_177647;
        loop_while_177810 = loop_cond_177800;
        stride_177814 = block_sizze_177646;
        while (loop_while_177810) {
            int64_t next_stride_177815 = mul64((int64_t) 2, stride_177814);
            bool zzero_177816 = next_stride_177815 == (int64_t) 0;
            bool nonzzero_177817 = !zzero_177816;
            bool nonzzero_cert_177818;
            
            if (!nonzzero_177817) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177819 = sdiv64(flat_dim_177647, next_stride_177815);
            bool bounds_invalid_upwards_177820 = slt64(num_merges_177819, (int64_t) 0);
            bool valid_177821 = !bounds_invalid_upwards_177820;
            bool range_valid_c_177822;
            
            if (!valid_177821) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177819, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177824 = sub64(next_stride_177815, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177825 = sle64((int64_t) 0, m_177824);
            bool cond_177827 = slt64(next_stride_177815, (int64_t) 10);
            bool protect_assert_disj_177828 = nonzzero_177802 || cond_177827;
            bool nonzzero_cert_177829;
            
            if (!protect_assert_disj_177828) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177830 = smod_safe64(next_stride_177815, merge_block_sizze_177652);
            bool num_blocks_177831 = zeze_lhs_177830 == (int64_t) 0;
            bool protect_assert_disj_177832 = cond_177827 || num_blocks_177831;
            bool assert_c_177833;
            
            if (!protect_assert_disj_177832) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177835 = sdiv_safe64(next_stride_177815, merge_block_sizze_177652);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836 = add64((int64_t) 1, num_blocks_177835);
            int64_t j_m_i_177837 = sub64(next_stride_177815, stride_177814);
            int64_t flat_dim_177838 = merge_block_sizze_177652 * num_blocks_177835;
            bool bounds_invalid_upwards_177839 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, (int64_t) 0);
            bool empty_slice_177840 = j_m_i_177837 == (int64_t) 0;
            int64_t m_177841 = sub64(j_m_i_177837, (int64_t) 1);
            bool zzero_lte_i_177842 = sle64((int64_t) 0, stride_177814);
            bool i_lte_j_177843 = sle64(stride_177814, next_stride_177815);
            bool empty_slice_177844 = stride_177814 == (int64_t) 0;
            int64_t m_177845 = sub64(stride_177814, (int64_t) 1);
            bool bounds_invalid_upwards_177846 = slt64(num_blocks_177835, (int64_t) 0);
            bool cond_177847 = slt64((int64_t) 0, stride_177814);
            bool valid_177848 = !bounds_invalid_upwards_177839;
            int64_t i_p_m_t_s_177849 = add64(stride_177814, m_177841);
            bool zzero_leq_i_p_m_t_s_177850 = sle64((int64_t) 0, m_177845);
            bool i_p_m_t_s_leq_w_177851 = slt64(m_177845, next_stride_177815);
            bool valid_177852 = !bounds_invalid_upwards_177846;
            bool i_p_m_t_s_leq_w_177853 = slt64(m_177824, flat_dim_177838);
            bool y_177854 = slt64((int64_t) 0, j_m_i_177837);
            bool protect_assert_disj_177855 = cond_177827 || valid_177848;
            bool range_valid_c_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177857 = sle64((int64_t) 0, i_p_m_t_s_177849);
            bool i_p_m_t_s_leq_w_177858 = slt64(i_p_m_t_s_177849, next_stride_177815);
            bool y_177859 = zzero_leq_i_p_m_t_s_177850 && i_p_m_t_s_leq_w_177851;
            bool protect_assert_disj_177860 = cond_177827 || valid_177852;
            bool range_valid_c_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177835, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177862 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177853;
            bool y_177863 = zzero_lte_i_177842 && i_p_m_t_s_leq_w_177858;
            bool forwards_ok_177864 = zzero_lte_i_177842 && y_177859;
            bool ok_or_empty_177865 = zzero_177816 || y_177862;
            bool protect_assert_disj_177866 = cond_177847 || y_177854;
            bool y_177867 = zzero_leq_i_p_m_t_s_177857 && y_177863;
            bool ok_or_empty_177868 = empty_slice_177844 || forwards_ok_177864;
            bool protect_assert_disj_177869 = cond_177827 || ok_or_empty_177865;
            bool index_certs_177870;
            
            if (!protect_assert_disj_177869) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) flat_dim_177838, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177871 = !cond_177827;
            bool protect_assert_disj_177872 = protect_assert_disj_177866 || loop_not_taken_177871;
            bool index_certs_177873;
            
            if (!protect_assert_disj_177872) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177874 = i_lte_j_177843 && y_177867;
            bool protect_assert_disj_177875 = cond_177827 || ok_or_empty_177868;
            bool index_certs_177876;
            
            if (!protect_assert_disj_177875) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177877 = ok_or_empty_177868 || loop_not_taken_177871;
            bool index_certs_177878;
            
            if (!protect_assert_disj_177877) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177879 = empty_slice_177840 || forwards_ok_177874;
            bool protect_assert_disj_177880 = cond_177827 || ok_or_empty_177879;
            bool index_certs_177881;
            
            if (!protect_assert_disj_177880) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177882 = loop_not_taken_177871 || ok_or_empty_177879;
            bool index_certs_177883;
            
            if (!protect_assert_disj_177882) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181971 = next_stride_177815 * num_merges_177819;
            int64_t binop_x_181973 = (int64_t) 8 * num_merges_177819;
            int64_t bytes_181974 = next_stride_177815 * binop_x_181973;
            int64_t binop_x_181976 = (int64_t) 4 * num_merges_177819;
            int64_t bytes_181977 = next_stride_177815 * binop_x_181976;
            bool i_lte_j_177826 = sle64((int64_t) 0, next_stride_177815);
            
            if (mem_181972_cached_sizze_182944 < bytes_181971) {
                err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182944, bytes_181971);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181975_cached_sizze_182945 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181975, &mem_181975_cached_sizze_182945, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181978_cached_sizze_182946 < bytes_181977) {
                err = lexical_realloc(ctx, &mem_181978, &mem_181978_cached_sizze_182946, bytes_181977);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181991 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836;
            int64_t binop_x_182009 = (int64_t) 8 * num_blocks_177835;
            int64_t bytes_182010 = merge_block_sizze_177652 * binop_x_182009;
            int64_t binop_x_182012 = (int64_t) 4 * num_blocks_177835;
            int64_t bytes_182013 = merge_block_sizze_177652 * binop_x_182012;
            int64_t bytes_182074 = (int64_t) 16 * stride_177814;
            int64_t bytes_182076 = (int64_t) 8 * stride_177814;
            
            for (int64_t i_180907 = 0; i_180907 < num_merges_177819; i_180907++) {
                int64_t start_177888 = mul64(next_stride_177815, i_180907);
                int64_t j_m_i_177889 = sub64(loop_dz2084Uz2082U_177809, start_177888);
                bool empty_slice_177890 = j_m_i_177889 == (int64_t) 0;
                int64_t m_177891 = sub64(j_m_i_177889, (int64_t) 1);
                int64_t i_p_m_t_s_177892 = add64(start_177888, m_177891);
                bool zzero_leq_i_p_m_t_s_177893 = sle64((int64_t) 0, i_p_m_t_s_177892);
                bool i_p_m_t_s_leq_w_177894 = slt64(i_p_m_t_s_177892, loop_dz2084Uz2082U_177809);
                bool zzero_lte_i_177895 = sle64((int64_t) 0, start_177888);
                bool i_lte_j_177896 = sle64(start_177888, loop_dz2084Uz2082U_177809);
                bool y_177897 = i_p_m_t_s_leq_w_177894 && zzero_lte_i_177895;
                bool y_177898 = zzero_leq_i_p_m_t_s_177893 && y_177897;
                bool forwards_ok_177899 = i_lte_j_177896 && y_177898;
                bool ok_or_empty_177900 = empty_slice_177890 || forwards_ok_177899;
                bool index_certs_177901;
                
                if (!ok_or_empty_177900) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177888, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177809, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177902 = slt64(m_177824, j_m_i_177889);
                bool y_177903 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177902;
                bool forwards_ok_177904 = i_lte_j_177826 && y_177903;
                bool ok_or_empty_177905 = zzero_177816 || forwards_ok_177904;
                bool index_certs_177906;
                
                if (!ok_or_empty_177905) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) j_m_i_177889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177827) {
                    int8_t dummy_180551;
                    int64_t dummy_180552;
                    int32_t dummy_180553;
                    
                    if (cond_177847) {
                        int8_t head_res_180554 = ((int8_t *) mem_param_181964.mem)[start_177888];
                        int64_t head_res_180555 = ((int64_t *) mem_param_181967.mem)[start_177888];
                        int32_t head_res_180556 = ((int32_t *) mem_param_181970.mem)[start_177888];
                        
                        dummy_180551 = head_res_180554;
                        dummy_180552 = head_res_180555;
                        dummy_180553 = head_res_180556;
                    } else {
                        int64_t slice_180557 = stride_177814 + start_177888;
                        int8_t head_res_180558 = ((int8_t *) mem_param_181964.mem)[slice_180557];
                        int64_t head_res_180559 = ((int64_t *) mem_param_181967.mem)[slice_180557];
                        int32_t head_res_180560 = ((int32_t *) mem_param_181970.mem)[slice_180557];
                        
                        dummy_180551 = head_res_180558;
                        dummy_180552 = head_res_180559;
                        dummy_180553 = head_res_180560;
                    }
                    if (memblock_alloc(ctx, &mem_182073, next_stride_177815, "mem_182073")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182700 = 0; nest_i_182700 < next_stride_177815; nest_i_182700++) {
                        ((int8_t *) mem_182073.mem)[nest_i_182700] = dummy_180551;
                    }
                    if (memblock_alloc(ctx, &mem_182075, bytes_182074, "mem_182075")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182701 = 0; nest_i_182701 < next_stride_177815; nest_i_182701++) {
                        ((int64_t *) mem_182075.mem)[nest_i_182701] = dummy_180552;
                    }
                    if (memblock_alloc(ctx, &mem_182077, bytes_182076, "mem_182077")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182702 = 0; nest_i_182702 < next_stride_177815; nest_i_182702++) {
                        ((int32_t *) mem_182077.mem)[nest_i_182702] = dummy_180553;
                    }
                    
                    int64_t data_180564;
                    int64_t i_180569 = (int64_t) 0;
                    
                    for (int64_t k_180568 = 0; k_180568 < next_stride_177815; k_180568++) {
                        int64_t j_180573 = sub64(k_180568, i_180569);
                        bool cond_180574 = j_180573 == j_m_i_177837;
                        bool cond_180575;
                        
                        if (cond_180574) {
                            cond_180575 = 1;
                        } else {
                            bool cond_180576 = slt64(i_180569, stride_177814);
                            bool cond_f_res_180577;
                            
                            if (cond_180576) {
                                bool x_180578 = sle64((int64_t) 0, j_180573);
                                bool y_180579 = slt64(j_180573, j_m_i_177837);
                                bool bounds_check_180580 = x_180578 && y_180579;
                                bool index_certs_180581;
                                
                                if (!bounds_check_180580) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180587 = sle64((int64_t) 0, i_180569);
                                bool bounds_check_180588 = cond_180576 && x_180587;
                                bool index_certs_180589;
                                
                                if (!bounds_check_180588) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180582 = stride_177814 + j_180573;
                                int64_t slice_180583 = start_177888 + slice_180582;
                                int8_t leq_arg1_180584 = ((int8_t *) mem_param_181964.mem)[slice_180583];
                                int64_t leq_arg1_180585 = ((int64_t *) mem_param_181967.mem)[slice_180583];
                                int32_t leq_arg1_180586 = ((int32_t *) mem_param_181970.mem)[slice_180583];
                                int64_t slice_180590 = start_177888 + i_180569;
                                int8_t leq_arg0_180591 = ((int8_t *) mem_param_181964.mem)[slice_180590];
                                int64_t leq_arg0_180592 = ((int64_t *) mem_param_181967.mem)[slice_180590];
                                int32_t leq_arg0_180593 = ((int32_t *) mem_param_181970.mem)[slice_180590];
                                bool cond_180594 = leq_arg0_180591 == leq_arg1_180584;
                                bool defunc_0_leq_res_t_res_180595 = sle64(leq_arg0_180592, leq_arg1_180585);
                                bool defunc_0_leq_res_180596 = sle32(leq_arg0_180593, leq_arg1_180586);
                                bool x_180597 = cond_180594 && defunc_0_leq_res_t_res_180595;
                                bool x_180598 = !cond_180594;
                                bool y_180599 = defunc_0_leq_res_180596 && x_180598;
                                bool defunc_0_leq_res_180600 = x_180597 || y_180599;
                                
                                cond_f_res_180577 = defunc_0_leq_res_180600;
                            } else {
                                cond_f_res_180577 = 0;
                            }
                            cond_180575 = cond_f_res_180577;
                        }
                        
                        int64_t loopres_180601;
                        int8_t loopres_180602;
                        int64_t loopres_180603;
                        int32_t loopres_180604;
                        
                        if (cond_180575) {
                            bool x_180606 = sle64((int64_t) 0, i_180569);
                            bool y_180607 = slt64(i_180569, stride_177814);
                            bool bounds_check_180608 = x_180606 && y_180607;
                            bool index_certs_180609;
                            
                            if (!bounds_check_180608) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180605 = add64((int64_t) 1, i_180569);
                            int64_t slice_180610 = start_177888 + i_180569;
                            int8_t tmp_180611 = ((int8_t *) mem_param_181964.mem)[slice_180610];
                            int64_t tmp_180612 = ((int64_t *) mem_param_181967.mem)[slice_180610];
                            int32_t tmp_180613 = ((int32_t *) mem_param_181970.mem)[slice_180610];
                            
                            loopres_180601 = tmp_180605;
                            loopres_180602 = tmp_180611;
                            loopres_180603 = tmp_180612;
                            loopres_180604 = tmp_180613;
                        } else {
                            bool x_180614 = sle64((int64_t) 0, j_180573);
                            bool y_180615 = slt64(j_180573, j_m_i_177837);
                            bool bounds_check_180616 = x_180614 && y_180615;
                            bool index_certs_180617;
                            
                            if (!bounds_check_180616) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180618 = stride_177814 + j_180573;
                            int64_t slice_180619 = start_177888 + slice_180618;
                            int8_t tmp_180620 = ((int8_t *) mem_param_181964.mem)[slice_180619];
                            int64_t tmp_180621 = ((int64_t *) mem_param_181967.mem)[slice_180619];
                            int32_t tmp_180622 = ((int32_t *) mem_param_181970.mem)[slice_180619];
                            
                            loopres_180601 = i_180569;
                            loopres_180602 = tmp_180620;
                            loopres_180603 = tmp_180621;
                            loopres_180604 = tmp_180622;
                        }
                        ((int8_t *) mem_182073.mem)[k_180568] = loopres_180602;
                        ((int64_t *) mem_182075.mem)[k_180568] = loopres_180603;
                        ((int32_t *) mem_182077.mem)[k_180568] = loopres_180604;
                        
                        int64_t i_tmp_182703 = loopres_180601;
                        
                        i_180569 = i_tmp_182703;
                    }
                    data_180564 = i_180569;
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182073, "mem_182073") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182075, "mem_182075") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182077, "mem_182077") != 0)
                        return 1;
                } else {
                    if (mem_181992_cached_sizze_182947 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181992, &mem_181992_cached_sizze_182947, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182948 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182948, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180888 = 0; i_180888 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836; i_180888++) {
                        int64_t split_count_arg3_177989 = mul64(merge_block_sizze_177652, i_180888);
                        int64_t defunc_0_split_count_res_177990;
                        int64_t defunc_0_split_count_res_177991;
                        int64_t defunc_0_split_count_res_177992;
                        int64_t defunc_0_split_count_res_177993;
                        int64_t defunc_0_split_count_res_177994;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177990, &defunc_0_split_count_res_177991, &defunc_0_split_count_res_177992, &defunc_0_split_count_res_177993, &defunc_0_split_count_res_177994, (int64_t) 0, stride_177814, (int64_t) 0, j_m_i_177837, split_count_arg3_177989) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177995 = slt64((int64_t) 0, defunc_0_split_count_res_177994);
                        bool defunc_0_split_count_res_177996;
                        int64_t defunc_0_split_count_res_177997;
                        int64_t defunc_0_split_count_res_177998;
                        int64_t defunc_0_split_count_res_177999;
                        int64_t defunc_0_split_count_res_178000;
                        int64_t defunc_0_split_count_res_178001;
                        bool loop_while_178002;
                        int64_t ss_178003;
                        int64_t ss_178004;
                        int64_t tt_178005;
                        int64_t tt_178006;
                        int64_t count_178007;
                        
                        loop_while_178002 = loop_cond_177995;
                        ss_178003 = defunc_0_split_count_res_177990;
                        ss_178004 = defunc_0_split_count_res_177991;
                        tt_178005 = defunc_0_split_count_res_177992;
                        tt_178006 = defunc_0_split_count_res_177993;
                        count_178007 = defunc_0_split_count_res_177994;
                        while (loop_while_178002) {
                            int64_t zlze_lhs_178008 = sub64(ss_178004, ss_178003);
                            bool cond_178009 = sle64(zlze_lhs_178008, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178010;
                            int64_t defunc_0_lifted_step_res_178011;
                            int64_t defunc_0_lifted_step_res_178012;
                            int64_t defunc_0_lifted_step_res_178013;
                            
                            if (cond_178009) {
                                int64_t tmp_180626 = add64(tt_178005, count_178007);
                                
                                defunc_0_lifted_step_res_178010 = ss_178003;
                                defunc_0_lifted_step_res_178011 = tmp_180626;
                                defunc_0_lifted_step_res_178012 = tt_178006;
                                defunc_0_lifted_step_res_178013 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178015 = sub64(tt_178006, tt_178005);
                                bool cond_178016 = sle64(zlze_lhs_178015, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178017;
                                int64_t defunc_0_lifted_step_res_f_res_178018;
                                int64_t defunc_0_lifted_step_res_f_res_178019;
                                int64_t defunc_0_lifted_step_res_f_res_178020;
                                
                                if (cond_178016) {
                                    int64_t tmp_180627 = add64(ss_178003, count_178007);
                                    
                                    defunc_0_lifted_step_res_f_res_178017 = tmp_180627;
                                    defunc_0_lifted_step_res_f_res_178018 = tt_178005;
                                    defunc_0_lifted_step_res_f_res_178019 = tt_178006;
                                    defunc_0_lifted_step_res_f_res_178020 = (int64_t) 0;
                                } else {
                                    bool cond_178022 = count_178007 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178023;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178024;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178025;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178026;
                                    
                                    if (cond_178022) {
                                        bool x_180629 = sle64((int64_t) 0, ss_178003);
                                        bool y_180630 = slt64(ss_178003, stride_177814);
                                        bool bounds_check_180631 = x_180629 && y_180630;
                                        bool index_certs_180632;
                                        
                                        if (!bounds_check_180631) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178003, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180637 = sle64((int64_t) 0, tt_178005);
                                        bool y_180638 = slt64(tt_178005, j_m_i_177837);
                                        bool bounds_check_180639 = x_180637 && y_180638;
                                        bool index_certs_180640;
                                        
                                        if (!bounds_check_180639) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178005, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180633 = start_177888 + ss_178003;
                                        int8_t leq_arg1_180634 = ((int8_t *) mem_param_181964.mem)[slice_180633];
                                        int64_t leq_arg1_180635 = ((int64_t *) mem_param_181967.mem)[slice_180633];
                                        int32_t leq_arg1_180636 = ((int32_t *) mem_param_181970.mem)[slice_180633];
                                        int64_t slice_180641 = stride_177814 + tt_178005;
                                        int64_t slice_180642 = start_177888 + slice_180641;
                                        int8_t leq_arg0_180643 = ((int8_t *) mem_param_181964.mem)[slice_180642];
                                        int64_t leq_arg0_180644 = ((int64_t *) mem_param_181967.mem)[slice_180642];
                                        int32_t leq_arg0_180645 = ((int32_t *) mem_param_181970.mem)[slice_180642];
                                        bool cond_180646 = leq_arg0_180643 == leq_arg1_180634;
                                        bool defunc_0_leq_res_t_res_180647 = sle64(leq_arg0_180644, leq_arg1_180635);
                                        bool defunc_0_leq_res_180648 = sle32(leq_arg0_180645, leq_arg1_180636);
                                        bool x_180649 = cond_180646 && defunc_0_leq_res_t_res_180647;
                                        bool x_180650 = !cond_180646;
                                        bool y_180651 = defunc_0_leq_res_180648 && x_180650;
                                        bool defunc_0_leq_res_180652 = x_180649 || y_180651;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        
                                        if (defunc_0_leq_res_180652) {
                                            int64_t tmp_180655 = add64((int64_t) 1, tt_178005);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = ss_178003;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tmp_180655;
                                        } else {
                                            int64_t tmp_180656 = add64((int64_t) 1, ss_178003);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = tmp_180656;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tt_178005;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = tt_178006;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = (int64_t) 0;
                                    } else {
                                        int64_t m_178055 = sdiv64(count_178007, (int64_t) 2);
                                        int64_t n_178056 = sub64(count_178007, m_178055);
                                        bool cond_178057 = n_178056 == (int64_t) 0;
                                        int64_t zgze_lhs_178058 = add64(ss_178003, m_178055);
                                        bool cond_f_res_178059 = sle64(ss_178004, zgze_lhs_178058);
                                        bool x_178060 = !cond_178057;
                                        bool y_178061 = cond_f_res_178059 && x_178060;
                                        bool cond_178062 = cond_178057 || y_178061;
                                        bool leq_y_x_178063;
                                        
                                        if (cond_178062) {
                                            leq_y_x_178063 = 1;
                                        } else {
                                            bool x_178064 = sle64((int64_t) 0, zgze_lhs_178058);
                                            bool y_178065 = slt64(zgze_lhs_178058, stride_177814);
                                            bool bounds_check_178066 = x_178064 && y_178065;
                                            bool index_certs_178067;
                                            
                                            if (!bounds_check_178066) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178058, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178072 = add64(tt_178005, n_178056);
                                            int64_t leq_arg0_178073 = sub64(zm_lhs_178072, (int64_t) 1);
                                            bool x_178074 = sle64((int64_t) 0, leq_arg0_178073);
                                            bool y_178075 = slt64(leq_arg0_178073, j_m_i_177837);
                                            bool bounds_check_178076 = x_178074 && y_178075;
                                            bool index_certs_178077;
                                            
                                            if (!bounds_check_178076) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178073, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178068 = start_177888 + zgze_lhs_178058;
                                            int8_t leq_arg1_178069 = ((int8_t *) mem_param_181964.mem)[slice_178068];
                                            int64_t leq_arg1_178070 = ((int64_t *) mem_param_181967.mem)[slice_178068];
                                            int32_t leq_arg1_178071 = ((int32_t *) mem_param_181970.mem)[slice_178068];
                                            int64_t slice_178078 = stride_177814 + leq_arg0_178073;
                                            int64_t slice_178079 = start_177888 + slice_178078;
                                            int8_t leq_arg0_178080 = ((int8_t *) mem_param_181964.mem)[slice_178079];
                                            int64_t leq_arg0_178081 = ((int64_t *) mem_param_181967.mem)[slice_178079];
                                            int32_t leq_arg0_178082 = ((int32_t *) mem_param_181970.mem)[slice_178079];
                                            bool cond_178083 = leq_arg0_178080 == leq_arg1_178069;
                                            bool defunc_0_leq_res_t_res_178084 = sle64(leq_arg0_178081, leq_arg1_178070);
                                            bool defunc_0_leq_res_178085 = sle32(leq_arg0_178082, leq_arg1_178071);
                                            bool x_178086 = cond_178083 && defunc_0_leq_res_t_res_178084;
                                            bool x_178087 = !cond_178083;
                                            bool y_178088 = defunc_0_leq_res_178085 && x_178087;
                                            bool defunc_0_leq_res_178089 = x_178086 || y_178088;
                                            
                                            leq_y_x_178063 = defunc_0_leq_res_178089;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                        
                                        if (leq_y_x_178063) {
                                            int64_t tmp_180657 = add64(tt_178005, n_178056);
                                            int64_t tmp_180658 = sub64(count_178007, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tmp_180657;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tt_178006;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = tmp_180658;
                                        } else {
                                            int64_t tmp_178095 = add64(tt_178005, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tt_178005;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tmp_178095;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = count_178007;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = ss_178003;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                    }
                                    defunc_0_lifted_step_res_f_res_178017 = defunc_0_lifted_step_res_f_res_f_res_178023;
                                    defunc_0_lifted_step_res_f_res_178018 = defunc_0_lifted_step_res_f_res_f_res_178024;
                                    defunc_0_lifted_step_res_f_res_178019 = defunc_0_lifted_step_res_f_res_f_res_178025;
                                    defunc_0_lifted_step_res_f_res_178020 = defunc_0_lifted_step_res_f_res_f_res_178026;
                                }
                                defunc_0_lifted_step_res_178010 = defunc_0_lifted_step_res_f_res_178017;
                                defunc_0_lifted_step_res_178011 = defunc_0_lifted_step_res_f_res_178018;
                                defunc_0_lifted_step_res_178012 = defunc_0_lifted_step_res_f_res_178019;
                                defunc_0_lifted_step_res_178013 = defunc_0_lifted_step_res_f_res_178020;
                            }
                            
                            int64_t loopres_178096;
                            int64_t loopres_178097;
                            int64_t loopres_178098;
                            int64_t loopres_178099;
                            int64_t loopres_178100;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_178096, &loopres_178097, &loopres_178098, &loopres_178099, &loopres_178100, defunc_0_lifted_step_res_178010, ss_178004, defunc_0_lifted_step_res_178011, defunc_0_lifted_step_res_178012, defunc_0_lifted_step_res_178013) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178101 = slt64((int64_t) 0, loopres_178100);
                            bool loop_while_tmp_182709 = loop_cond_178101;
                            int64_t ss_tmp_182710 = loopres_178096;
                            int64_t ss_tmp_182711 = loopres_178097;
                            int64_t tt_tmp_182712 = loopres_178098;
                            int64_t tt_tmp_182713 = loopres_178099;
                            int64_t count_tmp_182714 = loopres_178100;
                            
                            loop_while_178002 = loop_while_tmp_182709;
                            ss_178003 = ss_tmp_182710;
                            ss_178004 = ss_tmp_182711;
                            tt_178005 = tt_tmp_182712;
                            tt_178006 = tt_tmp_182713;
                            count_178007 = count_tmp_182714;
                        }
                        defunc_0_split_count_res_177996 = loop_while_178002;
                        defunc_0_split_count_res_177997 = ss_178003;
                        defunc_0_split_count_res_177998 = ss_178004;
                        defunc_0_split_count_res_177999 = tt_178005;
                        defunc_0_split_count_res_178000 = tt_178006;
                        defunc_0_split_count_res_178001 = count_178007;
                        ((int64_t *) mem_181992)[i_180888] = defunc_0_split_count_res_177997;
                        ((int64_t *) mem_181994)[i_180888] = defunc_0_split_count_res_177999;
                    }
                    if (mem_182008_cached_sizze_182949 < flat_dim_177838) {
                        err = lexical_realloc(ctx, &mem_182008, &mem_182008_cached_sizze_182949, flat_dim_177838);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182011_cached_sizze_182950 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182011, &mem_182011_cached_sizze_182950, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182014_cached_sizze_182951 < bytes_182013) {
                        err = lexical_realloc(ctx, &mem_182014, &mem_182014_cached_sizze_182951, bytes_182013);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180897 = 0; i_180897 < num_blocks_177835; i_180897++) {
                        bool y_178108 = slt64(i_180897, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool index_certs_178110;
                        
                        if (!y_178108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178111 = ((int64_t *) mem_181992)[i_180897];
                        int64_t defunc_0_f_res_178112 = ((int64_t *) mem_181994)[i_180897];
                        int64_t tmp_178113 = add64((int64_t) 1, i_180897);
                        bool x_178114 = sle64((int64_t) 0, tmp_178113);
                        bool y_178115 = slt64(tmp_178113, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool bounds_check_178116 = x_178114 && y_178115;
                        bool index_certs_178117;
                        
                        if (!bounds_check_178116) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178113, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178118 = ((int64_t *) mem_181992)[tmp_178113];
                        int64_t defunc_0_f_res_178119 = ((int64_t *) mem_181994)[tmp_178113];
                        int64_t merge_sequential_arg2_178120 = add64(stride_177814, defunc_0_f_res_178112);
                        int64_t merge_sequential_arg2_178121 = add64(stride_177814, defunc_0_f_res_178119);
                        int64_t j_m_i_178122 = sub64(merge_sequential_arg2_178121, merge_sequential_arg2_178120);
                        bool empty_slice_178123 = j_m_i_178122 == (int64_t) 0;
                        int64_t m_178124 = sub64(j_m_i_178122, (int64_t) 1);
                        int64_t i_p_m_t_s_178125 = add64(merge_sequential_arg2_178120, m_178124);
                        bool zzero_leq_i_p_m_t_s_178126 = sle64((int64_t) 0, i_p_m_t_s_178125);
                        bool i_p_m_t_s_leq_w_178127 = slt64(i_p_m_t_s_178125, next_stride_177815);
                        bool zzero_lte_i_178128 = sle64((int64_t) 0, merge_sequential_arg2_178120);
                        bool i_lte_j_178129 = sle64(merge_sequential_arg2_178120, merge_sequential_arg2_178121);
                        bool y_178130 = i_p_m_t_s_leq_w_178127 && zzero_lte_i_178128;
                        bool y_178131 = zzero_leq_i_p_m_t_s_178126 && y_178130;
                        bool forwards_ok_178132 = i_lte_j_178129 && y_178131;
                        bool ok_or_empty_178133 = empty_slice_178123 || forwards_ok_178132;
                        bool index_certs_178134;
                        
                        if (!ok_or_empty_178133) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178120, ":", (long long) merge_sequential_arg2_178121, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178135 = sub64(defunc_0_f_res_178118, defunc_0_f_res_178111);
                        bool empty_slice_178136 = j_m_i_178135 == (int64_t) 0;
                        int64_t m_178137 = sub64(j_m_i_178135, (int64_t) 1);
                        int64_t i_p_m_t_s_178138 = add64(defunc_0_f_res_178111, m_178137);
                        bool zzero_leq_i_p_m_t_s_178139 = sle64((int64_t) 0, i_p_m_t_s_178138);
                        bool i_p_m_t_s_leq_w_178140 = slt64(i_p_m_t_s_178138, next_stride_177815);
                        bool zzero_lte_i_178141 = sle64((int64_t) 0, defunc_0_f_res_178111);
                        bool i_lte_j_178142 = sle64(defunc_0_f_res_178111, defunc_0_f_res_178118);
                        bool y_178143 = i_p_m_t_s_leq_w_178140 && zzero_lte_i_178141;
                        bool y_178144 = zzero_leq_i_p_m_t_s_178139 && y_178143;
                        bool forwards_ok_178145 = i_lte_j_178142 && y_178144;
                        bool ok_or_empty_178146 = empty_slice_178136 || forwards_ok_178145;
                        bool index_certs_178147;
                        
                        if (!ok_or_empty_178146) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178111, ":", (long long) defunc_0_f_res_178118, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178148 = slt64((int64_t) 0, j_m_i_178135);
                        int8_t dummy_178149;
                        int64_t dummy_178150;
                        int32_t dummy_178151;
                        
                        if (cond_178148) {
                            bool index_certs_180659;
                            
                            if (!cond_178148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180660 = start_177888 + defunc_0_f_res_178111;
                            int8_t head_res_180661 = ((int8_t *) mem_param_181964.mem)[slice_180660];
                            int64_t head_res_180662 = ((int64_t *) mem_param_181967.mem)[slice_180660];
                            int32_t head_res_180663 = ((int32_t *) mem_param_181970.mem)[slice_180660];
                            
                            dummy_178149 = head_res_180661;
                            dummy_178150 = head_res_180662;
                            dummy_178151 = head_res_180663;
                        } else {
                            bool y_178157 = slt64((int64_t) 0, j_m_i_178122);
                            bool index_certs_178158;
                            
                            if (!y_178157) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178159 = start_177888 + merge_sequential_arg2_178120;
                            int8_t head_res_178160 = ((int8_t *) mem_param_181964.mem)[slice_178159];
                            int64_t head_res_178161 = ((int64_t *) mem_param_181967.mem)[slice_178159];
                            int32_t head_res_178162 = ((int32_t *) mem_param_181970.mem)[slice_178159];
                            
                            dummy_178149 = head_res_178160;
                            dummy_178150 = head_res_178161;
                            dummy_178151 = head_res_178162;
                        }
                        for (int64_t nest_i_182718 = 0; nest_i_182718 < merge_block_sizze_177652; nest_i_182718++) {
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + nest_i_182718] = dummy_178149;
                        }
                        for (int64_t nest_i_182719 = 0; nest_i_182719 < merge_block_sizze_177652; nest_i_182719++) {
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + nest_i_182719] = dummy_178150;
                        }
                        for (int64_t nest_i_182720 = 0; nest_i_182720 < merge_block_sizze_177652; nest_i_182720++) {
                            ((int32_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + nest_i_182720] = dummy_178151;
                        }
                        
                        int64_t data_178166;
                        int64_t i_178171 = (int64_t) 0;
                        
                        for (int64_t k_178170 = 0; k_178170 < merge_block_sizze_177652; k_178170++) {
                            int64_t j_178175 = sub64(k_178170, i_178171);
                            bool cond_178176 = j_178175 == j_m_i_178122;
                            bool cond_178177;
                            
                            if (cond_178176) {
                                cond_178177 = 1;
                            } else {
                                bool cond_178178 = slt64(i_178171, j_m_i_178135);
                                bool cond_f_res_178179;
                                
                                if (cond_178178) {
                                    bool x_180664 = sle64((int64_t) 0, j_178175);
                                    bool y_180665 = slt64(j_178175, j_m_i_178122);
                                    bool bounds_check_180666 = x_180664 && y_180665;
                                    bool index_certs_180667;
                                    
                                    if (!bounds_check_180666) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180673 = sle64((int64_t) 0, i_178171);
                                    bool bounds_check_180674 = cond_178178 && x_180673;
                                    bool index_certs_180675;
                                    
                                    if (!bounds_check_180674) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180668 = merge_sequential_arg2_178120 + j_178175;
                                    int64_t slice_180669 = start_177888 + slice_180668;
                                    int8_t leq_arg1_180670 = ((int8_t *) mem_param_181964.mem)[slice_180669];
                                    int64_t leq_arg1_180671 = ((int64_t *) mem_param_181967.mem)[slice_180669];
                                    int32_t leq_arg1_180672 = ((int32_t *) mem_param_181970.mem)[slice_180669];
                                    int64_t slice_180676 = defunc_0_f_res_178111 + i_178171;
                                    int64_t slice_180677 = start_177888 + slice_180676;
                                    int8_t leq_arg0_180678 = ((int8_t *) mem_param_181964.mem)[slice_180677];
                                    int64_t leq_arg0_180679 = ((int64_t *) mem_param_181967.mem)[slice_180677];
                                    int32_t leq_arg0_180680 = ((int32_t *) mem_param_181970.mem)[slice_180677];
                                    bool cond_180681 = leq_arg0_180678 == leq_arg1_180670;
                                    bool defunc_0_leq_res_t_res_180682 = sle64(leq_arg0_180679, leq_arg1_180671);
                                    bool defunc_0_leq_res_180683 = sle32(leq_arg0_180680, leq_arg1_180672);
                                    bool x_180684 = cond_180681 && defunc_0_leq_res_t_res_180682;
                                    bool x_180685 = !cond_180681;
                                    bool y_180686 = defunc_0_leq_res_180683 && x_180685;
                                    bool defunc_0_leq_res_180687 = x_180684 || y_180686;
                                    
                                    cond_f_res_178179 = defunc_0_leq_res_180687;
                                } else {
                                    cond_f_res_178179 = 0;
                                }
                                cond_178177 = cond_f_res_178179;
                            }
                            
                            int64_t loopres_178204;
                            int8_t loopres_178205;
                            int64_t loopres_178206;
                            int32_t loopres_178207;
                            
                            if (cond_178177) {
                                bool x_180689 = sle64((int64_t) 0, i_178171);
                                bool y_180690 = slt64(i_178171, j_m_i_178135);
                                bool bounds_check_180691 = x_180689 && y_180690;
                                bool index_certs_180692;
                                
                                if (!bounds_check_180691) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180688 = add64((int64_t) 1, i_178171);
                                int64_t slice_180693 = defunc_0_f_res_178111 + i_178171;
                                int64_t slice_180694 = start_177888 + slice_180693;
                                int8_t tmp_180695 = ((int8_t *) mem_param_181964.mem)[slice_180694];
                                int64_t tmp_180696 = ((int64_t *) mem_param_181967.mem)[slice_180694];
                                int32_t tmp_180697 = ((int32_t *) mem_param_181970.mem)[slice_180694];
                                
                                loopres_178204 = tmp_180688;
                                loopres_178205 = tmp_180695;
                                loopres_178206 = tmp_180696;
                                loopres_178207 = tmp_180697;
                            } else {
                                bool x_178218 = sle64((int64_t) 0, j_178175);
                                bool y_178219 = slt64(j_178175, j_m_i_178122);
                                bool bounds_check_178220 = x_178218 && y_178219;
                                bool index_certs_178221;
                                
                                if (!bounds_check_178220) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178222 = merge_sequential_arg2_178120 + j_178175;
                                int64_t slice_178223 = start_177888 + slice_178222;
                                int8_t tmp_178224 = ((int8_t *) mem_param_181964.mem)[slice_178223];
                                int64_t tmp_178225 = ((int64_t *) mem_param_181967.mem)[slice_178223];
                                int32_t tmp_178226 = ((int32_t *) mem_param_181970.mem)[slice_178223];
                                
                                loopres_178204 = i_178171;
                                loopres_178205 = tmp_178224;
                                loopres_178206 = tmp_178225;
                                loopres_178207 = tmp_178226;
                            }
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178205;
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178206;
                            ((int32_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178207;
                            
                            int64_t i_tmp_182721 = loopres_178204;
                            
                            i_178171 = i_tmp_182721;
                        }
                        data_178166 = i_178171;
                    }
                    if (memblock_alloc(ctx, &mem_182063, flat_dim_177838, "mem_182063")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182063.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint8_t *) mem_182008, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182067, bytes_182010, "mem_182067")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182067.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182011, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182071, bytes_182013, "mem_182071")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182071.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint32_t *) mem_182014, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182063, "mem_182063") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182067, "mem_182067") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182071, "mem_182071") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181972, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181975, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181978, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182098.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182118, bytes_181971, "mem_182118")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182118.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint8_t *) mem_181972, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182122, bytes_181974, "mem_182122")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182122.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181975, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182126, bytes_181977, "mem_182126")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182126.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint32_t *) mem_181978, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            
            bool loop_cond_178240 = slt64(next_stride_177815, flat_dim_177647);
            
            if (memblock_set(ctx, &mem_param_tmp_182688, &mem_182118, "mem_182118") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182689, &mem_182122, "mem_182122") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182690, &mem_182126, "mem_182126") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182691 = bytes_181971;
            bool loop_while_tmp_182692 = loop_cond_178240;
            int64_t stride_tmp_182696 = next_stride_177815;
            
            if (memblock_set(ctx, &mem_param_181964, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181967, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181970, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
                return 1;
            loop_dz2084Uz2082U_177809 = loop_dz2084Uz2082U_tmp_182691;
            loop_while_177810 = loop_while_tmp_182692;
            stride_177814 = stride_tmp_182696;
        }
        if (memblock_set(ctx, &ext_mem_182136, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182135, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182134, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        data_177803 = loop_dz2084Uz2082U_177809;
        data_177804 = loop_while_177810;
        data_177808 = stride_177814;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178243 = slt64(zs_lhs_177631, data_177803);
        bool y_178244 = i_p_m_t_s_leq_w_178243 && zzero_leq_i_p_m_t_s_178257;
        bool ok_or_empty_178245 = y_178244 || empty_slice_178255;
        bool index_certs_178246;
        
        if (!ok_or_empty_178245) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) data_177803, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182145, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182145.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181056.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181058.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182139.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181056, "mem_181056") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182468, &mem_181058, "mem_181058") != 0)
        return 1;
    prim_out_182469 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    if (memblock_set(ctx, &*mem_out_p_182898, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182899, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182900, &mem_out_182468, "mem_out_182468") != 0)
        return 1;
    *out_prim_out_182901 = prim_out_182469;
    
  cleanup:
    {
        free(mem_181069);
        free(mem_181071);
        free(mem_181110);
        free(mem_181113);
        free(mem_181116);
        free(mem_181129);
        free(mem_181131);
        free(mem_181133);
        free(mem_181230);
        free(mem_181233);
        free(mem_181236);
        free(mem_181250);
        free(mem_181252);
        free(mem_181266);
        free(mem_181269);
        free(mem_181272);
        free(mem_181414);
        free(mem_181416);
        free(mem_181431);
        free(mem_181433);
        free(mem_181436);
        free(mem_181439);
        free(mem_181473);
        free(mem_181476);
        free(mem_181479);
        free(mem_181492);
        free(mem_181494);
        free(mem_181496);
        free(mem_181593);
        free(mem_181596);
        free(mem_181599);
        free(mem_181613);
        free(mem_181615);
        free(mem_181629);
        free(mem_181632);
        free(mem_181635);
        free(mem_181852);
        free(mem_181855);
        free(mem_181858);
        free(mem_181871);
        free(mem_181873);
        free(mem_181875);
        free(mem_181972);
        free(mem_181975);
        free(mem_181978);
        free(mem_181992);
        free(mem_181994);
        free(mem_182008);
        free(mem_182011);
        free(mem_182014);
        if (memblock_unref(ctx, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182126, "mem_182126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182122, "mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182118, "mem_182118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182071, "mem_182071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182067, "mem_182067") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182063, "mem_182063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182077, "mem_182077") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182075, "mem_182075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182073, "mem_182073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181384, "mem_181384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181380, "mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181376, "mem_181376") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181329, "mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181325, "mem_181325") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181321, "mem_181321") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181335, "mem_181335") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181333, "mem_181333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181228, "mem_param_181228") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181225, "mem_param_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181222, "mem_param_181222") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181392, "ext_mem_181392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181393, "ext_mem_181393") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181394, "ext_mem_181394") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181795, "mem_181795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181794, "mem_181794") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181792, "mem_181792") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181747, "mem_181747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181743, "mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181739, "mem_181739") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181692, "mem_181692") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181688, "mem_181688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181684, "mem_181684") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181698, "mem_181698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181696, "mem_181696") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181694, "mem_181694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181591, "mem_param_181591") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181588, "mem_param_181588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181585, "mem_param_181585") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181755, "ext_mem_181755") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181756, "ext_mem_181756") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181757, "ext_mem_181757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181058, "mem_181058") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182468, "mem_out_182468") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182952, struct memblock *mem_out_p_182953, struct memblock *mem_out_p_182954, int64_t *out_prim_out_182955, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_142250, int64_t nb_142251, int64_t window_sizze_142252, int64_t threads_142253, bool inParallel_142256)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181069_cached_sizze_182956 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_182957 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181110_cached_sizze_182958 = 0;
    unsigned char *mem_181110 = NULL;
    int64_t mem_181113_cached_sizze_182959 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181116_cached_sizze_182960 = 0;
    unsigned char *mem_181116 = NULL;
    int64_t mem_181129_cached_sizze_182961 = 0;
    unsigned char *mem_181129 = NULL;
    int64_t mem_181131_cached_sizze_182962 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181133_cached_sizze_182963 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181230_cached_sizze_182964 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181233_cached_sizze_182965 = 0;
    unsigned char *mem_181233 = NULL;
    int64_t mem_181236_cached_sizze_182966 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181250_cached_sizze_182967 = 0;
    unsigned char *mem_181250 = NULL;
    int64_t mem_181252_cached_sizze_182968 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181266_cached_sizze_182969 = 0;
    unsigned char *mem_181266 = NULL;
    int64_t mem_181269_cached_sizze_182970 = 0;
    unsigned char *mem_181269 = NULL;
    int64_t mem_181272_cached_sizze_182971 = 0;
    unsigned char *mem_181272 = NULL;
    int64_t mem_181414_cached_sizze_182972 = 0;
    unsigned char *mem_181414 = NULL;
    int64_t mem_181416_cached_sizze_182973 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181431_cached_sizze_182974 = 0;
    unsigned char *mem_181431 = NULL;
    int64_t mem_181433_cached_sizze_182975 = 0;
    unsigned char *mem_181433 = NULL;
    int64_t mem_181436_cached_sizze_182976 = 0;
    unsigned char *mem_181436 = NULL;
    int64_t mem_181439_cached_sizze_182977 = 0;
    unsigned char *mem_181439 = NULL;
    int64_t mem_181473_cached_sizze_182978 = 0;
    unsigned char *mem_181473 = NULL;
    int64_t mem_181476_cached_sizze_182979 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181479_cached_sizze_182980 = 0;
    unsigned char *mem_181479 = NULL;
    int64_t mem_181492_cached_sizze_182981 = 0;
    unsigned char *mem_181492 = NULL;
    int64_t mem_181494_cached_sizze_182982 = 0;
    unsigned char *mem_181494 = NULL;
    int64_t mem_181496_cached_sizze_182983 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181593_cached_sizze_182984 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181596_cached_sizze_182985 = 0;
    unsigned char *mem_181596 = NULL;
    int64_t mem_181599_cached_sizze_182986 = 0;
    unsigned char *mem_181599 = NULL;
    int64_t mem_181613_cached_sizze_182987 = 0;
    unsigned char *mem_181613 = NULL;
    int64_t mem_181615_cached_sizze_182988 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181629_cached_sizze_182989 = 0;
    unsigned char *mem_181629 = NULL;
    int64_t mem_181632_cached_sizze_182990 = 0;
    unsigned char *mem_181632 = NULL;
    int64_t mem_181635_cached_sizze_182991 = 0;
    unsigned char *mem_181635 = NULL;
    int64_t mem_181852_cached_sizze_182992 = 0;
    unsigned char *mem_181852 = NULL;
    int64_t mem_181855_cached_sizze_182993 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181858_cached_sizze_182994 = 0;
    unsigned char *mem_181858 = NULL;
    int64_t mem_181871_cached_sizze_182995 = 0;
    unsigned char *mem_181871 = NULL;
    int64_t mem_181873_cached_sizze_182996 = 0;
    unsigned char *mem_181873 = NULL;
    int64_t mem_181875_cached_sizze_182997 = 0;
    unsigned char *mem_181875 = NULL;
    int64_t mem_181972_cached_sizze_182998 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181975_cached_sizze_182999 = 0;
    unsigned char *mem_181975 = NULL;
    int64_t mem_181978_cached_sizze_183000 = 0;
    unsigned char *mem_181978 = NULL;
    int64_t mem_181992_cached_sizze_183001 = 0;
    unsigned char *mem_181992 = NULL;
    int64_t mem_181994_cached_sizze_183002 = 0;
    unsigned char *mem_181994 = NULL;
    int64_t mem_182008_cached_sizze_183003 = 0;
    unsigned char *mem_182008 = NULL;
    int64_t mem_182011_cached_sizze_183004 = 0;
    unsigned char *mem_182011 = NULL;
    int64_t mem_182014_cached_sizze_183005 = 0;
    unsigned char *mem_182014 = NULL;
    struct memblock mem_param_tmp_182690;
    
    mem_param_tmp_182690.references = NULL;
    
    struct memblock mem_param_tmp_182689;
    
    mem_param_tmp_182689.references = NULL;
    
    struct memblock mem_param_tmp_182688;
    
    mem_param_tmp_182688.references = NULL;
    
    struct memblock mem_182126;
    
    mem_182126.references = NULL;
    
    struct memblock mem_182122;
    
    mem_182122.references = NULL;
    
    struct memblock mem_182118;
    
    mem_182118.references = NULL;
    
    struct memblock mem_182071;
    
    mem_182071.references = NULL;
    
    struct memblock mem_182067;
    
    mem_182067.references = NULL;
    
    struct memblock mem_182063;
    
    mem_182063.references = NULL;
    
    struct memblock mem_182077;
    
    mem_182077.references = NULL;
    
    struct memblock mem_182075;
    
    mem_182075.references = NULL;
    
    struct memblock mem_182073;
    
    mem_182073.references = NULL;
    
    struct memblock ext_mem_182098;
    
    ext_mem_182098.references = NULL;
    
    struct memblock ext_mem_182101;
    
    ext_mem_182101.references = NULL;
    
    struct memblock ext_mem_182104;
    
    ext_mem_182104.references = NULL;
    
    struct memblock mem_param_181970;
    
    mem_param_181970.references = NULL;
    
    struct memblock mem_param_181967;
    
    mem_param_181967.references = NULL;
    
    struct memblock mem_param_181964;
    
    mem_param_181964.references = NULL;
    
    struct memblock ext_mem_182134;
    
    ext_mem_182134.references = NULL;
    
    struct memblock ext_mem_182135;
    
    ext_mem_182135.references = NULL;
    
    struct memblock ext_mem_182136;
    
    ext_mem_182136.references = NULL;
    
    struct memblock mem_181960;
    
    mem_181960.references = NULL;
    
    struct memblock mem_181956;
    
    mem_181956.references = NULL;
    
    struct memblock mem_181952;
    
    mem_181952.references = NULL;
    
    struct memblock ext_mem_182139;
    
    ext_mem_182139.references = NULL;
    
    struct memblock ext_mem_182142;
    
    ext_mem_182142.references = NULL;
    
    struct memblock ext_mem_182145;
    
    ext_mem_182145.references = NULL;
    
    struct memblock mem_181850;
    
    mem_181850.references = NULL;
    
    struct memblock mem_181848;
    
    mem_181848.references = NULL;
    
    struct memblock mem_181846;
    
    mem_181846.references = NULL;
    
    struct memblock mem_param_tmp_182624;
    
    mem_param_tmp_182624.references = NULL;
    
    struct memblock mem_param_tmp_182623;
    
    mem_param_tmp_182623.references = NULL;
    
    struct memblock mem_param_tmp_182622;
    
    mem_param_tmp_182622.references = NULL;
    
    struct memblock mem_181384;
    
    mem_181384.references = NULL;
    
    struct memblock mem_181380;
    
    mem_181380.references = NULL;
    
    struct memblock mem_181376;
    
    mem_181376.references = NULL;
    
    struct memblock mem_181329;
    
    mem_181329.references = NULL;
    
    struct memblock mem_181325;
    
    mem_181325.references = NULL;
    
    struct memblock mem_181321;
    
    mem_181321.references = NULL;
    
    struct memblock mem_181335;
    
    mem_181335.references = NULL;
    
    struct memblock mem_181333;
    
    mem_181333.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock ext_mem_181356;
    
    ext_mem_181356.references = NULL;
    
    struct memblock ext_mem_181359;
    
    ext_mem_181359.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock mem_param_181228;
    
    mem_param_181228.references = NULL;
    
    struct memblock mem_param_181225;
    
    mem_param_181225.references = NULL;
    
    struct memblock mem_param_181222;
    
    mem_param_181222.references = NULL;
    
    struct memblock ext_mem_181392;
    
    ext_mem_181392.references = NULL;
    
    struct memblock ext_mem_181393;
    
    ext_mem_181393.references = NULL;
    
    struct memblock ext_mem_181394;
    
    ext_mem_181394.references = NULL;
    
    struct memblock mem_181218;
    
    mem_181218.references = NULL;
    
    struct memblock mem_181214;
    
    mem_181214.references = NULL;
    
    struct memblock mem_181210;
    
    mem_181210.references = NULL;
    
    struct memblock ext_mem_181397;
    
    ext_mem_181397.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181403;
    
    ext_mem_181403.references = NULL;
    
    struct memblock mem_181108;
    
    mem_181108.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock mem_181104;
    
    mem_181104.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181795;
    
    mem_181795.references = NULL;
    
    struct memblock mem_181794;
    
    mem_181794.references = NULL;
    
    struct memblock mem_181792;
    
    mem_181792.references = NULL;
    
    struct memblock mem_param_tmp_182530;
    
    mem_param_tmp_182530.references = NULL;
    
    struct memblock mem_param_tmp_182529;
    
    mem_param_tmp_182529.references = NULL;
    
    struct memblock mem_param_tmp_182528;
    
    mem_param_tmp_182528.references = NULL;
    
    struct memblock mem_181747;
    
    mem_181747.references = NULL;
    
    struct memblock mem_181743;
    
    mem_181743.references = NULL;
    
    struct memblock mem_181739;
    
    mem_181739.references = NULL;
    
    struct memblock mem_181692;
    
    mem_181692.references = NULL;
    
    struct memblock mem_181688;
    
    mem_181688.references = NULL;
    
    struct memblock mem_181684;
    
    mem_181684.references = NULL;
    
    struct memblock mem_181698;
    
    mem_181698.references = NULL;
    
    struct memblock mem_181696;
    
    mem_181696.references = NULL;
    
    struct memblock mem_181694;
    
    mem_181694.references = NULL;
    
    struct memblock ext_mem_181719;
    
    ext_mem_181719.references = NULL;
    
    struct memblock ext_mem_181722;
    
    ext_mem_181722.references = NULL;
    
    struct memblock ext_mem_181725;
    
    ext_mem_181725.references = NULL;
    
    struct memblock mem_param_181591;
    
    mem_param_181591.references = NULL;
    
    struct memblock mem_param_181588;
    
    mem_param_181588.references = NULL;
    
    struct memblock mem_param_181585;
    
    mem_param_181585.references = NULL;
    
    struct memblock ext_mem_181755;
    
    ext_mem_181755.references = NULL;
    
    struct memblock ext_mem_181756;
    
    ext_mem_181756.references = NULL;
    
    struct memblock ext_mem_181757;
    
    ext_mem_181757.references = NULL;
    
    struct memblock mem_181581;
    
    mem_181581.references = NULL;
    
    struct memblock mem_181577;
    
    mem_181577.references = NULL;
    
    struct memblock mem_181573;
    
    mem_181573.references = NULL;
    
    struct memblock ext_mem_181760;
    
    ext_mem_181760.references = NULL;
    
    struct memblock ext_mem_181763;
    
    ext_mem_181763.references = NULL;
    
    struct memblock ext_mem_181766;
    
    ext_mem_181766.references = NULL;
    
    struct memblock mem_181471;
    
    mem_181471.references = NULL;
    
    struct memblock mem_181469;
    
    mem_181469.references = NULL;
    
    struct memblock mem_181467;
    
    mem_181467.references = NULL;
    
    struct memblock ext_mem_181816;
    
    ext_mem_181816.references = NULL;
    
    struct memblock ext_mem_181819;
    
    ext_mem_181819.references = NULL;
    
    struct memblock ext_mem_181822;
    
    ext_mem_181822.references = NULL;
    
    struct memblock mem_181058;
    
    mem_181058.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t prim_out_182469;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541 = add64(na_142250, nb_142251);
    
    if (memblock_alloc(ctx, &mem_181054, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182470 = 0; nest_i_182470 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182470++) {
        ((int8_t *) mem_181054.mem)[nest_i_182470] = (int8_t) -1;
    }
    
    int64_t bytes_181055 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181056, bytes_181055, "mem_181056")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182471 = 0; nest_i_182471 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182471++) {
        ((int64_t *) mem_181056.mem)[nest_i_182471] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181058, bytes_181055, "mem_181058")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182472 = 0; nest_i_182472 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182472++) {
        ((int64_t *) mem_181058.mem)[nest_i_182472] = (int64_t) 0;
    }
    
    int64_t zl_rhs_175545 = sub64(na_142250, window_sizze_142252);
    bool cond_175546 = slt64((int64_t) 0, zl_rhs_175545);
    int64_t zl_rhs_175547 = sub64(nb_142251, window_sizze_142252);
    bool loop_cond_t_res_175548 = slt64((int64_t) 0, zl_rhs_175547);
    bool x_175549 = cond_175546 && loop_cond_t_res_175548;
    bool empty_slice_175550 = window_sizze_142252 == (int64_t) 0;
    int64_t m_175551 = sub64(window_sizze_142252, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576 = add64((int64_t) 1, threads_142253);
    int64_t partitionFunc_arg0_176577 = mul64((int64_t) 2, threads_142253);
    bool y_176579 = slt64((int64_t) 0, window_sizze_142252);
    bool loop_cond_176825 = slt64((int64_t) 0, threads_142253);
    bool zzero_175596 = threads_142253 == (int64_t) 0;
    bool nonzzero_175597 = !zzero_175596;
    bool loop_not_taken_178354 = !inParallel_142256;
    bool protect_assert_disj_178355 = nonzzero_175597 || loop_not_taken_178354;
    bool loop_not_taken_178444 = !x_175549;
    bool protect_assert_disj_178445 = protect_assert_disj_178355 || loop_not_taken_178444;
    bool nonzzero_cert_175598;
    
    if (!protect_assert_disj_178445) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175599 = sdiv_safe64(window_sizze_142252, threads_142253);
    int64_t perThread_175600 = add64((int64_t) 1, zp_rhs_175599);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601 = mul64(threads_142253, perThread_175600);
    bool protect_assert_disj_178491 = inParallel_142256 || y_176579;
    bool protect_assert_disj_178495 = loop_not_taken_178444 || protect_assert_disj_178491;
    bool index_certs_176580;
    
    if (!protect_assert_disj_178495) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176595 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, (int64_t) 1);
    bool y_177552 = slt64(threads_142253, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
    bool protect_assert_disj_178460 = y_176579 || loop_not_taken_178354;
    bool protect_assert_disj_178499 = loop_not_taken_178444 || protect_assert_disj_178460;
    bool index_certs_175604;
    
    if (!protect_assert_disj_178499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176597 = !bounds_invalid_upwards_176595;
    bool protect_assert_disj_178507 = inParallel_142256 || y_177552;
    bool protect_assert_disj_178509 = loop_not_taken_178444 || protect_assert_disj_178507;
    bool index_certs_177554;
    
    if (!protect_assert_disj_178509) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142253, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178503 = y_177552 || loop_not_taken_178354;
    bool protect_assert_disj_178511 = loop_not_taken_178444 || protect_assert_disj_178503;
    bool index_certs_176558;
    
    if (!protect_assert_disj_178511) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142253, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178519 = inParallel_142256 || valid_176597;
    bool protect_assert_disj_178521 = loop_not_taken_178444 || protect_assert_disj_178519;
    bool range_valid_c_176598;
    
    if (!protect_assert_disj_178521) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178363 = sle64((int64_t) 1, threads_142253);
    bool protect_assert_disj_178515 = valid_176597 || loop_not_taken_178354;
    bool protect_assert_disj_178523 = loop_not_taken_178444 || protect_assert_disj_178515;
    bool range_valid_c_175611;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176600 = add64(window_sizze_142252, window_sizze_142252);
    bool zzero_176601 = partitionFunc_arg0_176577 == (int64_t) 0;
    int64_t index_concat_i_178364 = sub64(threads_142253, (int64_t) 1);
    bool nonzzero_176602 = !zzero_176601;
    bool protect_assert_disj_178531 = inParallel_142256 || nonzzero_176602;
    bool protect_assert_disj_178537 = loop_not_taken_178444 || protect_assert_disj_178531;
    bool nonzzero_cert_176603;
    
    if (!protect_assert_disj_178537) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178527 = nonzzero_176602 || loop_not_taken_178354;
    bool protect_assert_disj_178543 = loop_not_taken_178444 || protect_assert_disj_178527;
    bool nonzzero_cert_175616;
    
    if (!protect_assert_disj_178543) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181068 = (int64_t) 8 * threads_142253;
    int64_t bytes_181085 = (int64_t) 8 * window_sizze_142252;
    int64_t bytes_181430 = perThread_175600 * bytes_181068;
    bool defunc_0_merge_pipeline_res_175552;
    int64_t defunc_0_merge_pipeline_res_175556;
    int64_t defunc_0_merge_pipeline_res_175557;
    bool loop_while_175558;
    int64_t p_175562;
    int64_t p_175563;
    
    loop_while_175558 = x_175549;
    p_175562 = (int64_t) 0;
    p_175563 = (int64_t) 0;
    while (loop_while_175558) {
        int64_t ubs_175564 = add64(window_sizze_142252, p_175562);
        int64_t ubs_175565 = add64(window_sizze_142252, p_175563);
        int64_t ind_bottom_175566 = add64(p_175562, p_175563);
        int64_t ind_top_175567 = add64(window_sizze_142252, ind_bottom_175566);
        int64_t i_p_m_t_s_175568 = add64(m_175551, p_175562);
        bool zzero_leq_i_p_m_t_s_175569 = sle64((int64_t) 0, i_p_m_t_s_175568);
        bool i_p_m_t_s_leq_w_175570 = slt64(i_p_m_t_s_175568, na_142250);
        bool zzero_lte_i_175571 = sle64((int64_t) 0, p_175562);
        bool i_lte_j_175572 = sle64(p_175562, ubs_175564);
        bool y_175573 = i_p_m_t_s_leq_w_175570 && zzero_lte_i_175571;
        bool y_175574 = zzero_leq_i_p_m_t_s_175569 && y_175573;
        bool forwards_ok_175575 = i_lte_j_175572 && y_175574;
        bool ok_or_empty_175576 = empty_slice_175550 || forwards_ok_175575;
        bool index_certs_175577;
        
        if (!ok_or_empty_175576) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175562, ":", (long long) ubs_175564, "] out of bounds for array of shape [", (long long) na_142250, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175579 = add64(m_175551, p_175563);
        bool zzero_leq_i_p_m_t_s_175580 = sle64((int64_t) 0, i_p_m_t_s_175579);
        bool i_p_m_t_s_leq_w_175581 = slt64(i_p_m_t_s_175579, nb_142251);
        bool zzero_lte_i_175582 = sle64((int64_t) 0, p_175563);
        bool i_lte_j_175583 = sle64(p_175563, ubs_175565);
        bool y_175584 = i_p_m_t_s_leq_w_175581 && zzero_lte_i_175582;
        bool y_175585 = zzero_leq_i_p_m_t_s_175580 && y_175584;
        bool forwards_ok_175586 = i_lte_j_175583 && y_175585;
        bool ok_or_empty_175587 = empty_slice_175550 || forwards_ok_175586;
        bool index_certs_175588;
        
        if (!ok_or_empty_175587) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175563, ":", (long long) ubs_175565, "] out of bounds for array of shape [", (long long) nb_142251, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177566 = add64(m_175551, ind_bottom_175566);
        bool zzero_leq_i_p_m_t_s_177567 = sle64((int64_t) 0, i_p_m_t_s_177566);
        bool i_p_m_t_s_leq_w_177568 = slt64(i_p_m_t_s_177566, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
        bool zzero_lte_i_177569 = sle64((int64_t) 0, ind_bottom_175566);
        bool i_lte_j_177570 = sle64(ind_bottom_175566, ind_top_175567);
        bool y_177571 = i_p_m_t_s_leq_w_177568 && zzero_lte_i_177569;
        bool y_177572 = zzero_leq_i_p_m_t_s_177567 && y_177571;
        bool forwards_ok_177573 = i_lte_j_177570 && y_177572;
        bool ok_or_empty_177574 = empty_slice_175550 || forwards_ok_177573;
        bool index_certs_177575;
        
        if (!ok_or_empty_177574) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175566, ":", (long long) ind_top_175567, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175590;
        int64_t loopres_175591;
        
        if (inParallel_142256) {
            int64_t leq_lhs_179024 = ((int64_t *) a_list_mem_181052.mem)[p_175562];
            int64_t leq_rhs_179025 = ((int64_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_179026 = sle64(leq_lhs_179024, leq_rhs_179025);
            int64_t lowest_179027;
            
            if (defunc_0_leq_res_179026) {
                lowest_179027 = leq_lhs_179024;
            } else {
                lowest_179027 = leq_rhs_179025;
            }
            if (mem_181414_cached_sizze_182972 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181414, &mem_181414_cached_sizze_182972, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182973 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182973, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180716 = 0; i_180716 < threads_142253; i_180716++) {
                int64_t index_primexp_180988 = add64((int64_t) 1, i_180716);
                int64_t zs_lhs_179032 = mul64(zt_rhs_176600, index_primexp_180988);
                int64_t index_179033 = sdiv64(zs_lhs_179032, partitionFunc_arg0_176577);
                bool cond_179034 = slt64(window_sizze_142252, index_179033);
                int64_t loop_over_179035;
                
                if (cond_179034) {
                    loop_over_179035 = window_sizze_142252;
                } else {
                    loop_over_179035 = index_179033;
                }
                
                int64_t loop_over_179036;
                
                if (cond_179034) {
                    int64_t loop_over_t_res_179037 = sub64(index_179033, window_sizze_142252);
                    
                    loop_over_179036 = loop_over_t_res_179037;
                } else {
                    loop_over_179036 = (int64_t) 0;
                }
                
                int64_t loop_over_179038;
                
                if (cond_179034) {
                    int64_t zm_lhs_179039 = sub64(index_179033, window_sizze_142252);
                    int64_t loop_over_t_res_179040 = sub64(zm_lhs_179039, (int64_t) 1);
                    
                    loop_over_179038 = loop_over_t_res_179040;
                } else {
                    loop_over_179038 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179041;
                int64_t defunc_0_f_res_179042;
                int64_t defunc_0_f_res_179043;
                int64_t defunc_0_f_res_179044;
                bool loop_while_179045;
                int64_t p_179046;
                int64_t p_179047;
                int64_t p_179048;
                
                loop_while_179045 = 1;
                p_179046 = loop_over_179038;
                p_179047 = loop_over_179035;
                p_179048 = loop_over_179036;
                while (loop_while_179045) {
                    int64_t zs_lhs_179049 = sub64(p_179047, p_179046);
                    int64_t offset_179050 = sdiv64(zs_lhs_179049, (int64_t) 2);
                    int64_t ai_179051 = sub64(p_179047, offset_179050);
                    int64_t max_arg1_179052 = add64(p_179048, offset_179050);
                    int64_t max_res_179053 = smax64((int64_t) 0, max_arg1_179052);
                    bool cond_179054 = slt64((int64_t) 0, max_res_179053);
                    int64_t b_prev_179055;
                    
                    if (cond_179054) {
                        int64_t tmp_179056 = sub64(max_res_179053, (int64_t) 1);
                        bool x_179057 = sle64((int64_t) 0, tmp_179056);
                        bool y_179058 = slt64(tmp_179056, window_sizze_142252);
                        bool bounds_check_179059 = x_179057 && y_179058;
                        bool index_certs_179060;
                        
                        if (!bounds_check_179059) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179056, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179061 = p_175563 + tmp_179056;
                        int64_t b_prev_t_res_179062 = ((int64_t *) b_list_mem_181053.mem)[slice_179061];
                        
                        b_prev_179055 = b_prev_t_res_179062;
                    } else {
                        b_prev_179055 = lowest_179027;
                    }
                    
                    bool cond_179063 = sle64(ai_179051, (int64_t) 0);
                    int64_t loopres_179064;
                    int64_t loopres_179065;
                    int64_t loopres_179066;
                    bool loopres_179067;
                    
                    if (cond_179063) {
                        loopres_179064 = p_179046;
                        loopres_179065 = (int64_t) 0;
                        loopres_179066 = max_res_179053;
                        loopres_179067 = 0;
                    } else {
                        bool cond_179068 = sle64(window_sizze_142252, max_res_179053);
                        int64_t loopres_f_res_179069;
                        int64_t loopres_f_res_179070;
                        int64_t loopres_f_res_179071;
                        bool loopres_f_res_179072;
                        
                        if (cond_179068) {
                            int64_t min_res_179074 = smin64(m_175551, ai_179051);
                            bool x_179075 = sle64((int64_t) 0, m_175551);
                            bool y_179076 = slt64(m_175551, window_sizze_142252);
                            bool bounds_check_179077 = x_179075 && y_179076;
                            bool index_certs_179078;
                            
                            if (!bounds_check_179077) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179081 = sle64((int64_t) 0, min_res_179074);
                            bool y_179082 = slt64(min_res_179074, window_sizze_142252);
                            bool bounds_check_179083 = x_179081 && y_179082;
                            bool index_certs_179084;
                            
                            if (!bounds_check_179083) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179074, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_179080 = ((int64_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_179085 = p_175562 + min_res_179074;
                            int64_t leq_rhs_179086 = ((int64_t *) a_list_mem_181052.mem)[slice_179085];
                            bool defunc_0_leq_res_179087 = sle64(leq_lhs_179080, leq_rhs_179086);
                            int64_t loopres_f_res_t_res_179088;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179088 = ai_179051;
                            } else {
                                loopres_f_res_t_res_179088 = p_179047;
                            }
                            
                            bool x_179089 = !defunc_0_leq_res_179087;
                            int64_t loopres_f_res_t_res_179090;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179090 = window_sizze_142252;
                            } else {
                                int64_t tmp_179091 = sub64(m_175551, offset_179050);
                                
                                loopres_f_res_t_res_179090 = tmp_179091;
                            }
                            loopres_f_res_179069 = p_179046;
                            loopres_f_res_179070 = loopres_f_res_t_res_179088;
                            loopres_f_res_179071 = loopres_f_res_t_res_179090;
                            loopres_f_res_179072 = x_179089;
                        } else {
                            bool cond_179092 = sle64(window_sizze_142252, ai_179051);
                            int64_t loopres_f_res_f_res_179093;
                            int64_t loopres_f_res_f_res_179094;
                            int64_t loopres_f_res_f_res_179095;
                            bool loopres_f_res_f_res_179096;
                            
                            if (cond_179092) {
                                int64_t min_res_179098 = smin64(m_175551, max_res_179053);
                                bool x_179099 = sle64((int64_t) 0, m_175551);
                                bool y_179100 = slt64(m_175551, window_sizze_142252);
                                bool bounds_check_179101 = x_179099 && y_179100;
                                bool index_certs_179102;
                                
                                if (!bounds_check_179101) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179105 = sle64((int64_t) 0, min_res_179098);
                                bool y_179106 = slt64(min_res_179098, window_sizze_142252);
                                bool bounds_check_179107 = x_179105 && y_179106;
                                bool index_certs_179108;
                                
                                if (!bounds_check_179107) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179098, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_179104 = ((int64_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_179109 = p_175563 + min_res_179098;
                                int64_t leq_rhs_179110 = ((int64_t *) b_list_mem_181053.mem)[slice_179109];
                                bool defunc_0_leq_res_179111 = sle64(leq_lhs_179104, leq_rhs_179110);
                                int64_t loopres_f_res_f_res_t_res_179112;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179112 = max_res_179053;
                                } else {
                                    loopres_f_res_f_res_t_res_179112 = p_179048;
                                }
                                
                                bool x_179113 = !defunc_0_leq_res_179111;
                                int64_t loopres_f_res_f_res_t_res_179114;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179114 = window_sizze_142252;
                                } else {
                                    loopres_f_res_f_res_t_res_179114 = m_175551;
                                }
                                loopres_f_res_f_res_179093 = p_179046;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_t_res_179114;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_t_res_179112;
                                loopres_f_res_f_res_179096 = x_179113;
                            } else {
                                bool cond_179115 = sle64(p_179047, p_179046);
                                int64_t loopres_f_res_f_res_f_res_179116;
                                int64_t loopres_f_res_f_res_f_res_179117;
                                int64_t loopres_f_res_f_res_f_res_179118;
                                bool loopres_f_res_f_res_f_res_179119;
                                
                                if (cond_179115) {
                                    bool cond_179120 = slt64(ai_179051, window_sizze_142252);
                                    int64_t ai_179121;
                                    
                                    if (cond_179120) {
                                        ai_179121 = ai_179051;
                                    } else {
                                        ai_179121 = m_175551;
                                    }
                                    
                                    bool x_179134 = sle64((int64_t) 0, ai_179121);
                                    bool y_179135 = slt64(ai_179121, window_sizze_142252);
                                    bool bounds_check_179136 = x_179134 && y_179135;
                                    bool index_certs_179137;
                                    
                                    if (!bounds_check_179136) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179121, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179123;
                                    
                                    if (cond_179054) {
                                        int64_t tmp_179124 = sub64(max_res_179053, (int64_t) 1);
                                        bool x_179125 = sle64((int64_t) 0, tmp_179124);
                                        bool y_179126 = slt64(tmp_179124, window_sizze_142252);
                                        bool bounds_check_179127 = x_179125 && y_179126;
                                        bool index_certs_179128;
                                        
                                        if (!bounds_check_179127) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179124, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179129 = p_175563 + tmp_179124;
                                        int64_t b_prev_t_res_179130 = ((int64_t *) b_list_mem_181053.mem)[slice_179129];
                                        
                                        b_prev_179123 = b_prev_t_res_179130;
                                    } else {
                                        bool index_certs_179132;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179123 = leq_rhs_179025;
                                    }
                                    
                                    int64_t slice_179138 = p_175562 + ai_179121;
                                    int64_t gt_lhs_179139 = ((int64_t *) a_list_mem_181052.mem)[slice_179138];
                                    bool defunc_0_gt_res_179140 = slt64(b_prev_179123, gt_lhs_179139);
                                    int64_t defunc_0_partFunc_sequential_search_res_179141;
                                    int64_t defunc_0_partFunc_sequential_search_res_179142;
                                    
                                    if (defunc_0_gt_res_179140) {
                                        int64_t zl_rhs_179143 = sub64(window_sizze_142252, max_res_179053);
                                        bool loop_cond_179144 = slt64((int64_t) 0, zl_rhs_179143);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179145;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179147;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179148;
                                        bool loop_while_179149;
                                        int64_t p_179150;
                                        int64_t p_179151;
                                        int64_t p_179152;
                                        
                                        loop_while_179149 = loop_cond_179144;
                                        p_179150 = ai_179121;
                                        p_179151 = max_res_179053;
                                        p_179152 = (int64_t) 0;
                                        while (loop_while_179149) {
                                            int64_t i_a_179153 = sub64(ai_179121, p_179152);
                                            int64_t i_b_179154 = add64(max_res_179053, p_179152);
                                            int64_t leq_lhs_179155 = sub64(i_a_179153, (int64_t) 1);
                                            bool x_179156 = sle64((int64_t) 0, leq_lhs_179155);
                                            bool y_179157 = slt64(leq_lhs_179155, window_sizze_142252);
                                            bool bounds_check_179158 = x_179156 && y_179157;
                                            bool index_certs_179159;
                                            
                                            if (!bounds_check_179158) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179155, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179162 = sle64((int64_t) 0, i_b_179154);
                                            bool y_179163 = slt64(i_b_179154, window_sizze_142252);
                                            bool bounds_check_179164 = x_179162 && y_179163;
                                            bool index_certs_179165;
                                            
                                            if (!bounds_check_179164) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179154, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179160 = p_175562 + leq_lhs_179155;
                                            int64_t leq_lhs_179161 = ((int64_t *) a_list_mem_181052.mem)[slice_179160];
                                            int64_t slice_179166 = p_175563 + i_b_179154;
                                            int64_t leq_rhs_179167 = ((int64_t *) b_list_mem_181053.mem)[slice_179166];
                                            bool defunc_0_leq_res_179168 = sle64(leq_lhs_179161, leq_rhs_179167);
                                            int64_t loopres_179169;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179169 = i_a_179153;
                                            } else {
                                                loopres_179169 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179170;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179170 = i_b_179154;
                                            } else {
                                                loopres_179170 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179171;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179171 = zl_rhs_179143;
                                            } else {
                                                int64_t tmp_179172 = add64((int64_t) 1, p_179152);
                                                
                                                loopres_179171 = tmp_179172;
                                            }
                                            
                                            bool loop_cond_179173 = slt64(loopres_179171, zl_rhs_179143);
                                            bool loop_while_tmp_182485 = loop_cond_179173;
                                            int64_t p_tmp_182486 = loopres_179169;
                                            int64_t p_tmp_182487 = loopres_179170;
                                            int64_t p_tmp_182488 = loopres_179171;
                                            
                                            loop_while_179149 = loop_while_tmp_182485;
                                            p_179150 = p_tmp_182486;
                                            p_179151 = p_tmp_182487;
                                            p_179152 = p_tmp_182488;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179145 = loop_while_179149;
                                        defunc_0_partFunc_sequential_search_res_t_res_179146 = p_179150;
                                        defunc_0_partFunc_sequential_search_res_t_res_179147 = p_179151;
                                        defunc_0_partFunc_sequential_search_res_t_res_179148 = p_179152;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_t_res_179147;
                                    } else {
                                        int64_t zl_rhs_179174 = sub64(max_res_179053, (int64_t) 1);
                                        bool loop_cond_179175 = slt64((int64_t) 0, zl_rhs_179174);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179176;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179178;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179179;
                                        bool loop_while_179180;
                                        int64_t p_179181;
                                        int64_t p_179182;
                                        int64_t p_179183;
                                        
                                        loop_while_179180 = loop_cond_179175;
                                        p_179181 = ai_179121;
                                        p_179182 = max_res_179053;
                                        p_179183 = (int64_t) 0;
                                        while (loop_while_179180) {
                                            int64_t zp_lhs_179184 = add64(ai_179121, p_179183);
                                            int64_t hi_a_179185 = add64((int64_t) 1, zp_lhs_179184);
                                            bool cond_179186 = slt64(hi_a_179185, window_sizze_142252);
                                            int64_t i_a_179187;
                                            
                                            if (cond_179186) {
                                                i_a_179187 = hi_a_179185;
                                            } else {
                                                i_a_179187 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_179189 = sub64(max_res_179053, p_179183);
                                            int64_t i_b_179190 = sub64(zm_lhs_179189, (int64_t) 1);
                                            bool x_179191 = sle64((int64_t) 0, i_a_179187);
                                            bool y_179192 = slt64(i_a_179187, window_sizze_142252);
                                            bool bounds_check_179193 = x_179191 && y_179192;
                                            bool index_certs_179194;
                                            
                                            if (!bounds_check_179193) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179187, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179197 = sle64((int64_t) 0, i_b_179190);
                                            bool y_179198 = slt64(i_b_179190, window_sizze_142252);
                                            bool bounds_check_179199 = x_179197 && y_179198;
                                            bool index_certs_179200;
                                            
                                            if (!bounds_check_179199) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179190, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179195 = p_175562 + i_a_179187;
                                            int64_t gt_lhs_179196 = ((int64_t *) a_list_mem_181052.mem)[slice_179195];
                                            int64_t slice_179201 = p_175563 + i_b_179190;
                                            int64_t gt_rhs_179202 = ((int64_t *) b_list_mem_181053.mem)[slice_179201];
                                            bool defunc_0_gt_res_179203 = slt64(gt_rhs_179202, gt_lhs_179196);
                                            int64_t loopres_179204;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179204 = i_a_179187;
                                            } else {
                                                loopres_179204 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179205;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179205 = zm_lhs_179189;
                                            } else {
                                                loopres_179205 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179206;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179206 = zl_rhs_179174;
                                            } else {
                                                int64_t tmp_179207 = add64((int64_t) 1, p_179183);
                                                
                                                loopres_179206 = tmp_179207;
                                            }
                                            
                                            bool loop_cond_179208 = slt64(loopres_179206, zl_rhs_179174);
                                            bool loop_while_tmp_182489 = loop_cond_179208;
                                            int64_t p_tmp_182490 = loopres_179204;
                                            int64_t p_tmp_182491 = loopres_179205;
                                            int64_t p_tmp_182492 = loopres_179206;
                                            
                                            loop_while_179180 = loop_while_tmp_182489;
                                            p_179181 = p_tmp_182490;
                                            p_179182 = p_tmp_182491;
                                            p_179183 = p_tmp_182492;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179176 = loop_while_179180;
                                        defunc_0_partFunc_sequential_search_res_f_res_179177 = p_179181;
                                        defunc_0_partFunc_sequential_search_res_f_res_179178 = p_179182;
                                        defunc_0_partFunc_sequential_search_res_f_res_179179 = p_179183;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_f_res_179178;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = p_179046;
                                    loopres_f_res_f_res_f_res_179117 = defunc_0_partFunc_sequential_search_res_179141;
                                    loopres_f_res_f_res_f_res_179118 = defunc_0_partFunc_sequential_search_res_179142;
                                    loopres_f_res_f_res_f_res_179119 = 0;
                                } else {
                                    bool x_179209 = sle64((int64_t) 0, ai_179051);
                                    bool y_179210 = slt64(ai_179051, window_sizze_142252);
                                    bool bounds_check_179211 = x_179209 && y_179210;
                                    bool index_certs_179212;
                                    
                                    if (!bounds_check_179211) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179051, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179213 = p_175562 + ai_179051;
                                    int64_t gt_lhs_179214 = ((int64_t *) a_list_mem_181052.mem)[slice_179213];
                                    bool defunc_0_gt_res_179215 = slt64(b_prev_179055, gt_lhs_179214);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179216;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179217;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179218;
                                    bool loopres_f_res_f_res_f_res_f_res_179219;
                                    
                                    if (defunc_0_gt_res_179215) {
                                        int64_t leq_lhs_179220 = sub64(ai_179051, (int64_t) 1);
                                        bool x_179221 = sle64((int64_t) 0, leq_lhs_179220);
                                        bool y_179222 = slt64(leq_lhs_179220, window_sizze_142252);
                                        bool bounds_check_179223 = x_179221 && y_179222;
                                        bool index_certs_179224;
                                        
                                        if (!bounds_check_179223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179220, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179227 = sle64((int64_t) 0, max_res_179053);
                                        bool y_179228 = slt64(max_res_179053, window_sizze_142252);
                                        bool bounds_check_179229 = x_179227 && y_179228;
                                        bool index_certs_179230;
                                        
                                        if (!bounds_check_179229) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179053, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179225 = p_175562 + leq_lhs_179220;
                                        int64_t leq_lhs_179226 = ((int64_t *) a_list_mem_181052.mem)[slice_179225];
                                        int64_t slice_179231 = p_175563 + max_res_179053;
                                        int64_t leq_rhs_179232 = ((int64_t *) b_list_mem_181053.mem)[slice_179231];
                                        bool defunc_0_leq_res_179233 = sle64(leq_lhs_179226, leq_rhs_179232);
                                        bool x_179234 = !defunc_0_leq_res_179233;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = ai_179051;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = leq_lhs_179220;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = max_res_179053;
                                        } else {
                                            int64_t tmp_179237 = add64((int64_t) 1, max_res_179053);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = tmp_179237;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179216 = p_179046;
                                        loopres_f_res_f_res_f_res_f_res_179217 = loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        loopres_f_res_f_res_f_res_f_res_179218 = loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        loopres_f_res_f_res_f_res_f_res_179219 = x_179234;
                                    } else {
                                        int64_t tmp_179238 = add64((int64_t) 1, ai_179051);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179216 = tmp_179238;
                                        loopres_f_res_f_res_f_res_f_res_179217 = p_179047;
                                        loopres_f_res_f_res_f_res_f_res_179218 = p_179048;
                                        loopres_f_res_f_res_f_res_f_res_179219 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = loopres_f_res_f_res_f_res_f_res_179216;
                                    loopres_f_res_f_res_f_res_179117 = loopres_f_res_f_res_f_res_f_res_179217;
                                    loopres_f_res_f_res_f_res_179118 = loopres_f_res_f_res_f_res_f_res_179218;
                                    loopres_f_res_f_res_f_res_179119 = loopres_f_res_f_res_f_res_f_res_179219;
                                }
                                loopres_f_res_f_res_179093 = loopres_f_res_f_res_f_res_179116;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_f_res_179117;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_f_res_179118;
                                loopres_f_res_f_res_179096 = loopres_f_res_f_res_f_res_179119;
                            }
                            loopres_f_res_179069 = loopres_f_res_f_res_179093;
                            loopres_f_res_179070 = loopres_f_res_f_res_179094;
                            loopres_f_res_179071 = loopres_f_res_f_res_179095;
                            loopres_f_res_179072 = loopres_f_res_f_res_179096;
                        }
                        loopres_179064 = loopres_f_res_179069;
                        loopres_179065 = loopres_f_res_179070;
                        loopres_179066 = loopres_f_res_179071;
                        loopres_179067 = loopres_f_res_179072;
                    }
                    
                    bool loop_while_tmp_182481 = loopres_179067;
                    int64_t p_tmp_182482 = loopres_179064;
                    int64_t p_tmp_182483 = loopres_179065;
                    int64_t p_tmp_182484 = loopres_179066;
                    
                    loop_while_179045 = loop_while_tmp_182481;
                    p_179046 = p_tmp_182482;
                    p_179047 = p_tmp_182483;
                    p_179048 = p_tmp_182484;
                }
                defunc_0_f_res_179041 = loop_while_179045;
                defunc_0_f_res_179042 = p_179046;
                defunc_0_f_res_179043 = p_179047;
                defunc_0_f_res_179044 = p_179048;
                ((int64_t *) mem_181414)[i_180716] = defunc_0_f_res_179043;
                ((int64_t *) mem_181416)[i_180716] = defunc_0_f_res_179044;
            }
            if (mem_181431_cached_sizze_182974 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181431, &mem_181431_cached_sizze_182974, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181433_cached_sizze_182975 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601) {
                err = lexical_realloc(ctx, &mem_181433, &mem_181433_cached_sizze_182975, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181436_cached_sizze_182976 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181436, &mem_181436_cached_sizze_182976, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181439_cached_sizze_182977 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181439, &mem_181439_cached_sizze_182977, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_142253; i_180782++) {
                bool y_179252 = slt64(i_180782, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool index_certs_179254;
                
                if (!y_179252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180782, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179255 = sle64((int64_t) 1, i_180782);
                int64_t index_concat_i_179256 = sub64(i_180782, (int64_t) 1);
                int64_t index_concat_179257;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179258 = ((int64_t *) mem_181414)[index_concat_i_179256];
                    
                    index_concat_179257 = x_179258;
                } else {
                    index_concat_179257 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179259;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179259 = index_concat_179257;
                } else {
                    index_concat_branch_179259 = (int64_t) 0;
                }
                
                int64_t index_concat_179260;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179261 = ((int64_t *) mem_181416)[index_concat_i_179256];
                    
                    index_concat_179260 = x_179261;
                } else {
                    index_concat_179260 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179262;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179262 = index_concat_179260;
                } else {
                    index_concat_branch_179262 = (int64_t) 0;
                }
                
                int64_t ubs_179263 = add64((int64_t) 1, i_180782);
                bool x_179264 = sle64((int64_t) 0, ubs_179263);
                bool y_179265 = slt64(ubs_179263, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_179266 = x_179264 && y_179265;
                bool index_certs_179267;
                
                if (!bounds_check_179266) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179263, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179268 = sle64((int64_t) 1, ubs_179263);
                int64_t index_concat_179269;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179270 = ((int64_t *) mem_181414)[i_180782];
                    
                    index_concat_179269 = x_179270;
                } else {
                    index_concat_179269 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179271;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179271 = index_concat_179269;
                } else {
                    index_concat_branch_179271 = (int64_t) 0;
                }
                
                int64_t index_concat_179272;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179273 = ((int64_t *) mem_181416)[i_180782];
                    
                    index_concat_179272 = x_179273;
                } else {
                    index_concat_179272 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179274;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179274 = index_concat_179272;
                } else {
                    index_concat_branch_179274 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 = sub64(index_concat_branch_179274, index_concat_branch_179262);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 = sub64(index_concat_branch_179271, index_concat_branch_179259);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t zm_lhs_179278 = add64(index_concat_branch_179271, index_concat_branch_179274);
                int64_t zm_rhs_179279 = add64(index_concat_branch_179259, index_concat_branch_179262);
                int64_t card_179280 = sub64(zm_lhs_179278, zm_rhs_179279);
                bool empty_slice_179281 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 == (int64_t) 0;
                int64_t m_179282 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 1);
                int64_t i_p_m_t_s_179283 = add64(index_concat_branch_179259, m_179282);
                bool zzero_leq_i_p_m_t_s_179284 = sle64((int64_t) 0, i_p_m_t_s_179283);
                bool i_p_m_t_s_leq_w_179285 = slt64(i_p_m_t_s_179283, window_sizze_142252);
                bool zzero_lte_i_179286 = sle64((int64_t) 0, index_concat_branch_179259);
                bool i_lte_j_179287 = sle64(index_concat_branch_179259, index_concat_branch_179271);
                bool y_179288 = i_p_m_t_s_leq_w_179285 && zzero_lte_i_179286;
                bool y_179289 = zzero_leq_i_p_m_t_s_179284 && y_179288;
                bool forwards_ok_179290 = i_lte_j_179287 && y_179289;
                bool ok_or_empty_179291 = empty_slice_179281 || forwards_ok_179290;
                bool index_certs_179292;
                
                if (!ok_or_empty_179291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179259, ":", (long long) index_concat_branch_179271, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179293 = slt64(index_concat_branch_179271, index_concat_branch_179259);
                bool valid_179294 = !bounds_invalid_upwards_179293;
                bool range_valid_c_179295;
                
                if (!valid_179294) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179259, "..<", (long long) index_concat_branch_179271, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179300 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 == (int64_t) 0;
                int64_t m_179301 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, (int64_t) 1);
                int64_t i_p_m_t_s_179302 = add64(index_concat_branch_179262, m_179301);
                bool zzero_leq_i_p_m_t_s_179303 = sle64((int64_t) 0, i_p_m_t_s_179302);
                bool i_p_m_t_s_leq_w_179304 = slt64(i_p_m_t_s_179302, window_sizze_142252);
                bool zzero_lte_i_179305 = sle64((int64_t) 0, index_concat_branch_179262);
                bool i_lte_j_179306 = sle64(index_concat_branch_179262, index_concat_branch_179274);
                bool y_179307 = i_p_m_t_s_leq_w_179304 && zzero_lte_i_179305;
                bool y_179308 = zzero_leq_i_p_m_t_s_179303 && y_179307;
                bool forwards_ok_179309 = i_lte_j_179306 && y_179308;
                bool ok_or_empty_179310 = empty_slice_179300 || forwards_ok_179309;
                bool index_certs_179311;
                
                if (!ok_or_empty_179310) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179262, ":", (long long) index_concat_branch_179274, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179312 = slt64(index_concat_branch_179274, index_concat_branch_179262);
                bool valid_179313 = !bounds_invalid_upwards_179312;
                bool range_valid_c_179314;
                
                if (!valid_179313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179262, "..<", (long long) index_concat_branch_179274, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181468 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool cond_179322 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zs_lhs_179323 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zp_rhs_179324 = sdiv_safe64(zs_lhs_179323, (int64_t) 20);
                int64_t min_num_blocks_179325 = add64((int64_t) 1, zp_rhs_179324);
                bool loop_cond_179326 = slt64((int64_t) 1, min_num_blocks_179325);
                bool smallest_pow_2_geq_than_res_179327;
                int64_t smallest_pow_2_geq_than_res_179328;
                bool loop_while_179329;
                int64_t x_179330;
                
                loop_while_179329 = loop_cond_179326;
                x_179330 = (int64_t) 1;
                while (loop_while_179329) {
                    int64_t loopres_179331 = mul64((int64_t) 2, x_179330);
                    bool loop_cond_179332 = slt64(loopres_179331, min_num_blocks_179325);
                    bool loop_while_tmp_182497 = loop_cond_179332;
                    int64_t x_tmp_182498 = loopres_179331;
                    
                    loop_while_179329 = loop_while_tmp_182497;
                    x_179330 = x_tmp_182498;
                }
                smallest_pow_2_geq_than_res_179327 = loop_while_179329;
                smallest_pow_2_geq_than_res_179328 = x_179330;
                
                bool zzero_179333 = smallest_pow_2_geq_than_res_179328 == (int64_t) 0;
                bool nonzzero_179334 = !zzero_179333;
                bool protect_assert_disj_179335 = cond_179322 || nonzzero_179334;
                bool nonzzero_cert_179336;
                
                if (!protect_assert_disj_179335) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179337 = sdiv_safe64(zs_lhs_179323, smallest_pow_2_geq_than_res_179328);
                int64_t block_sizze_179338 = add64((int64_t) 1, zp_rhs_179337);
                bool y_179345 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                bool protect_assert_disj_182214 = cond_179322 || y_179345;
                bool index_certs_179346;
                
                if (!protect_assert_disj_182214) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179383 = slt64(smallest_pow_2_geq_than_res_179328, (int64_t) 0);
                bool valid_179384 = !bounds_invalid_upwards_179383;
                bool protect_assert_disj_182224 = cond_179322 || valid_179384;
                bool range_valid_c_179385;
                
                if (!protect_assert_disj_182224) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179328, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179387 = slt64(block_sizze_179338, (int64_t) 0);
                bool valid_179388 = !bounds_invalid_upwards_179387;
                bool protect_assert_disj_182226 = cond_179322 || valid_179388;
                bool range_valid_c_179389;
                
                if (!protect_assert_disj_182226) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179338, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179391 = sle64(block_sizze_179338, (int64_t) 1);
                int64_t tmp_179392 = sub64(block_sizze_179338, (int64_t) 2);
                bool bounds_invalid_upwards_179393 = slt64(tmp_179392, (int64_t) 0);
                bool valid_179395 = !bounds_invalid_upwards_179393;
                bool protect_assert_disj_179396 = cond_179391 || valid_179395;
                bool protect_assert_disj_182228 = cond_179322 || protect_assert_disj_179396;
                bool range_valid_c_179397;
                
                if (!protect_assert_disj_182228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179392, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179977 = card_179280 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool empty_or_match_cert_179978;
                
                if (!dim_match_179977) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] cannot match shape of type `[", (long long) card_179280, "](i8, i64, i64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179979 = card_179280 == (int64_t) 0;
                int64_t m_179980 = sub64(card_179280, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179981 = sle64((int64_t) 0, m_179980);
                bool i_p_m_t_s_leq_w_179982 = slt64(m_179980, card_179280);
                bool y_179983 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179982;
                bool ok_or_empty_179984 = empty_slice_179979 || y_179983;
                bool index_certs_179985;
                
                if (!ok_or_empty_179984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) card_179280, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179986 = slt64(m_179980, perThread_175600);
                bool y_179987 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179986;
                bool ok_or_empty_179988 = empty_slice_179979 || y_179987;
                bool index_certs_179989;
                
                if (!ok_or_empty_179988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182499 = 0; nest_i_182499 < perThread_175600; nest_i_182499++) {
                    ((int8_t *) mem_181433)[i_180782 * perThread_175600 + nest_i_182499] = (int8_t) -1;
                }
                for (int64_t nest_i_182500 = 0; nest_i_182500 < perThread_175600; nest_i_182500++) {
                    ((int64_t *) mem_181436)[i_180782 * perThread_175600 + nest_i_182500] = (int64_t) -1;
                }
                for (int64_t nest_i_182501 = 0; nest_i_182501 < perThread_175600; nest_i_182501++) {
                    ((int64_t *) mem_181439)[i_180782 * perThread_175600 + nest_i_182501] = (int64_t) 0;
                }
                
                int64_t slice_179296 = p_175562 + index_concat_branch_179259;
                
                if (memblock_alloc(ctx, &mem_181467, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "mem_181467")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182502 = 0; nest_i_182502 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; nest_i_182502++) {
                    ((int8_t *) mem_181467.mem)[nest_i_182502] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181469, bytes_181468, "mem_181469")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182503 = 0; i_182503 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; i_182503++) {
                    int64_t x_182504 = index_concat_branch_179259 + i_182503 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[i_182503] = x_182504;
                }
                
                int64_t slice_179315 = p_175563 + index_concat_branch_179262;
                
                for (int64_t nest_i_182505 = 0; nest_i_182505 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; nest_i_182505++) {
                    ((int8_t *) mem_181467.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + nest_i_182505] = (int8_t) 1;
                }
                for (int64_t i_182506 = 0; i_182506 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; i_182506++) {
                    int64_t x_182507 = index_concat_branch_179262 + i_182506 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + i_182506] = x_182507;
                }
                
                int64_t tmp_offs_182508 = (int64_t) 0;
                
                if (!(tmp_offs_182508 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182508 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t tmp_offs_182509 = (int64_t) 0;
                
                if (!(tmp_offs_182509 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182509 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                if (memblock_alloc(ctx, &mem_181471, bytes_181468, "mem_181471")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182510 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, slice_179296, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, slice_179315, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t flat_dim_179339 = smallest_pow_2_geq_than_res_179328 * block_sizze_179338;
                bool x_182209 = !cond_179322;
                int64_t greatest_divisor_leq_than_arg1_179343 = mul64((int64_t) 2, block_sizze_179338);
                int64_t merge_block_sizze_179344;
                
                if (x_182209) {
                    int64_t x_182211;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182211, (int64_t) 8, greatest_divisor_leq_than_arg1_179343) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179344 = x_182211;
                } else {
                    merge_block_sizze_179344 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179347 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 0);
                int8_t index_concat_branch_179348 = btoi_bool_i8(index_concat_cmp_179347);
                int64_t index_concat_i_179350 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t index_primexp_179351 = add64(index_concat_branch_179262, index_concat_i_179350);
                int64_t index_concat_branch_179349;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179349 = index_primexp_179351;
                } else {
                    index_concat_branch_179349 = index_concat_branch_179259;
                }
                
                bool x_182205 = !index_concat_cmp_179347;
                bool protect_cond_conj_182215 = x_182205 && x_182209;
                int64_t index_concat_179357;
                
                if (protect_cond_conj_182215) {
                    int64_t x_182207 = ((int64_t *) a_list_mem_181052.mem)[slice_179296];
                    
                    index_concat_179357 = x_182207;
                } else {
                    index_concat_179357 = (int64_t) 0;
                }
                
                int64_t slice_179355 = p_175563 + index_primexp_179351;
                bool protect_cond_conj_182216 = index_concat_cmp_179347 && x_182209;
                int64_t index_concat_179356;
                
                if (protect_cond_conj_182216) {
                    int64_t x_182203 = ((int64_t *) b_list_mem_181053.mem)[slice_179355];
                    
                    index_concat_179356 = x_182203;
                } else {
                    index_concat_179356 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179352 = index_concat_179356;
                } else {
                    index_concat_branch_179352 = index_concat_179357;
                }
                
                int8_t defunc_0_reduce_res_179358;
                int64_t defunc_0_reduce_res_179359;
                int64_t defunc_0_reduce_res_179360;
                
                if (x_182209) {
                    int8_t x_182217;
                    int64_t x_182218;
                    int64_t x_182219;
                    int8_t redout_180719;
                    int64_t redout_180720;
                    int64_t redout_180721;
                    
                    redout_180719 = index_concat_branch_179348;
                    redout_180720 = index_concat_branch_179349;
                    redout_180721 = index_concat_branch_179352;
                    for (int64_t i_180722 = 0; i_180722 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277; i_180722++) {
                        bool index_concat_cmp_180980 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, i_180722);
                        int8_t index_concat_branch_180984 = btoi_bool_i8(index_concat_cmp_180980);
                        int64_t index_concat_branch_180978;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180975 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t index_primexp_181028 = add64(index_concat_branch_179262, index_concat_i_180975);
                            
                            index_concat_branch_180978 = index_primexp_181028;
                        } else {
                            int64_t index_primexp_181030 = add64(index_concat_branch_179259, i_180722);
                            
                            index_concat_branch_180978 = index_primexp_181030;
                        }
                        
                        int64_t index_concat_branch_180972;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180969 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t slice_181025 = slice_179315 + index_concat_i_180969;
                            int64_t index_concat_180970 = ((int64_t *) b_list_mem_181053.mem)[slice_181025];
                            
                            index_concat_branch_180972 = index_concat_180970;
                        } else {
                            int64_t slice_181026 = slice_179296 + i_180722;
                            int64_t index_concat_180971 = ((int64_t *) a_list_mem_181052.mem)[slice_181026];
                            
                            index_concat_branch_180972 = index_concat_180971;
                        }
                        
                        bool eq_x_y_181042 = redout_180719 == (int8_t) 1;
                        bool eq_x_zz_181043 = redout_180719 == (int8_t) 0;
                        bool p_and_eq_x_y_181044 = index_concat_cmp_180980 && eq_x_y_181042;
                        bool not_p_181045 = !index_concat_cmp_180980;
                        bool p_and_eq_x_y_181046 = eq_x_zz_181043 && not_p_181045;
                        bool cond_179370 = p_and_eq_x_y_181044 || p_and_eq_x_y_181046;
                        bool defunc_0_leq_res_t_res_179371 = sle64(redout_180720, index_concat_branch_180978);
                        bool defunc_0_leq_res_179372 = sle64(redout_180721, index_concat_branch_180972);
                        bool x_179373 = cond_179370 && defunc_0_leq_res_t_res_179371;
                        bool x_179374 = !cond_179370;
                        bool y_179375 = defunc_0_leq_res_179372 && x_179374;
                        bool defunc_0_leq_res_179376 = x_179373 || y_179375;
                        int8_t defunc_0_op_res_179377;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179377 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_179377 = redout_180719;
                        }
                        
                        int64_t defunc_0_op_res_179378;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179378 = index_concat_branch_180978;
                        } else {
                            defunc_0_op_res_179378 = redout_180720;
                        }
                        
                        int64_t defunc_0_op_res_179379;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179379 = index_concat_branch_180972;
                        } else {
                            defunc_0_op_res_179379 = redout_180721;
                        }
                        
                        int8_t redout_tmp_182511 = defunc_0_op_res_179377;
                        int64_t redout_tmp_182512 = defunc_0_op_res_179378;
                        int64_t redout_tmp_182513 = defunc_0_op_res_179379;
                        
                        redout_180719 = redout_tmp_182511;
                        redout_180720 = redout_tmp_182512;
                        redout_180721 = redout_tmp_182513;
                    }
                    x_182217 = redout_180719;
                    x_182218 = redout_180720;
                    x_182219 = redout_180721;
                    defunc_0_reduce_res_179358 = x_182217;
                    defunc_0_reduce_res_179359 = x_182218;
                    defunc_0_reduce_res_179360 = x_182219;
                } else {
                    defunc_0_reduce_res_179358 = (int8_t) 0;
                    defunc_0_reduce_res_179359 = (int64_t) 0;
                    defunc_0_reduce_res_179360 = (int64_t) 0;
                }
                
                int64_t distance_179394 = add64((int64_t) 1, tmp_179392);
                int64_t binop_x_181474 = (int64_t) 8 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181475 = block_sizze_179338 * binop_x_181474;
                int64_t bytes_181493 = (int64_t) 8 * block_sizze_179338;
                bool loop_cond_179520 = slt64(block_sizze_179338, flat_dim_179339);
                bool zzero_179521 = merge_block_sizze_179344 == (int64_t) 0;
                bool nonzzero_179522 = !zzero_179521;
                
                if (cond_179322) {
                    if (memblock_set(ctx, &ext_mem_181766, &mem_181467, "mem_181467") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &mem_181469, "mem_181469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &mem_181471, "mem_181471") != 0)
                        return 1;
                } else {
                    if (mem_181473_cached_sizze_182978 < flat_dim_179339) {
                        err = lexical_realloc(ctx, &mem_181473, &mem_181473_cached_sizze_182978, flat_dim_179339);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182979 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182979, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181479_cached_sizze_182980 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181479, &mem_181479_cached_sizze_182980, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181492_cached_sizze_182981 < block_sizze_179338) {
                        err = lexical_realloc(ctx, &mem_181492, &mem_181492_cached_sizze_182981, block_sizze_179338);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181494_cached_sizze_182982 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181494, &mem_181494_cached_sizze_182982, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181496_cached_sizze_182983 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182983, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180739 = 0; i_180739 < smallest_pow_2_geq_than_res_179328; i_180739++) {
                        int64_t zp_lhs_179402 = mul64(block_sizze_179338, i_180739);
                        
                        for (int64_t i_180729 = 0; i_180729 < block_sizze_179338; i_180729++) {
                            int64_t k_179407 = add64(zp_lhs_179402, i_180729);
                            bool cond_179408 = slt64(k_179407, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                            int8_t lifted_lambda_res_179409;
                            int64_t lifted_lambda_res_179410;
                            int64_t lifted_lambda_res_179411;
                            
                            if (cond_179408) {
                                bool x_179412 = sle64((int64_t) 0, k_179407);
                                bool bounds_check_179413 = cond_179408 && x_179412;
                                bool index_certs_179414;
                                
                                if (!bounds_check_179413) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179415 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, k_179407);
                                int8_t index_concat_branch_179416 = btoi_bool_i8(index_concat_cmp_179415);
                                int64_t index_concat_branch_179417;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179418 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t index_primexp_179419 = add64(index_concat_branch_179262, index_concat_i_179418);
                                    
                                    index_concat_branch_179417 = index_primexp_179419;
                                } else {
                                    int64_t index_primexp_179420 = add64(index_concat_branch_179259, k_179407);
                                    
                                    index_concat_branch_179417 = index_primexp_179420;
                                }
                                
                                int64_t index_concat_branch_179421;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179422 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t slice_179423 = index_concat_branch_179262 + index_concat_i_179422;
                                    int64_t slice_179424 = p_175563 + slice_179423;
                                    int64_t index_concat_179425 = ((int64_t *) b_list_mem_181053.mem)[slice_179424];
                                    
                                    index_concat_branch_179421 = index_concat_179425;
                                } else {
                                    int64_t slice_179426 = index_concat_branch_179259 + k_179407;
                                    int64_t slice_179427 = p_175562 + slice_179426;
                                    int64_t index_concat_179428 = ((int64_t *) a_list_mem_181052.mem)[slice_179427];
                                    
                                    index_concat_branch_179421 = index_concat_179428;
                                }
                                lifted_lambda_res_179409 = index_concat_branch_179416;
                                lifted_lambda_res_179410 = index_concat_branch_179417;
                                lifted_lambda_res_179411 = index_concat_branch_179421;
                            } else {
                                lifted_lambda_res_179409 = defunc_0_reduce_res_179358;
                                lifted_lambda_res_179410 = defunc_0_reduce_res_179359;
                                lifted_lambda_res_179411 = defunc_0_reduce_res_179360;
                            }
                            ((int8_t *) mem_181492)[i_180729] = lifted_lambda_res_179409;
                            ((int64_t *) mem_181494)[i_180729] = lifted_lambda_res_179410;
                            ((int64_t *) mem_181496)[i_180729] = lifted_lambda_res_179411;
                        }
                        if (!cond_179391) {
                            for (int64_t i_179438 = 0; i_179438 < distance_179394; i_179438++) {
                                int64_t gt_arg1_179442 = add64((int64_t) 1, i_179438);
                                bool x_179443 = sle64((int64_t) 0, gt_arg1_179442);
                                bool y_179444 = slt64(gt_arg1_179442, block_sizze_179338);
                                bool bounds_check_179445 = x_179443 && y_179444;
                                bool index_certs_179446;
                                
                                if (!bounds_check_179445) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179442, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179450 = slt64(i_179438, block_sizze_179338);
                                bool index_certs_179451;
                                
                                if (!y_179450) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179438, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179447 = ((int8_t *) mem_181492)[gt_arg1_179442];
                                int64_t gt_arg1_179448 = ((int64_t *) mem_181494)[gt_arg1_179442];
                                int64_t gt_arg1_179449 = ((int64_t *) mem_181496)[gt_arg1_179442];
                                int8_t gt_arg0_179452 = ((int8_t *) mem_181492)[i_179438];
                                int64_t gt_arg0_179453 = ((int64_t *) mem_181494)[i_179438];
                                int64_t gt_arg0_179454 = ((int64_t *) mem_181496)[i_179438];
                                bool cond_179455 = gt_arg0_179452 == gt_arg1_179447;
                                bool defunc_0_leq_res_t_res_179456 = sle64(gt_arg0_179453, gt_arg1_179448);
                                bool defunc_0_leq_res_179457 = sle64(gt_arg0_179454, gt_arg1_179449);
                                bool x_179458 = cond_179455 && defunc_0_leq_res_t_res_179456;
                                bool x_179459 = !cond_179455;
                                bool y_179460 = defunc_0_leq_res_179457 && x_179459;
                                bool defunc_0_leq_res_179461 = x_179458 || y_179460;
                                bool defunc_0_lifted_gt_res_179462 = !defunc_0_leq_res_179461;
                                bool s_179463;
                                int64_t s_179467;
                                bool loop_while_179468;
                                int64_t j_179472;
                                
                                loop_while_179468 = defunc_0_lifted_gt_res_179462;
                                j_179472 = i_179438;
                                while (loop_while_179468) {
                                    bool x_179473 = sle64((int64_t) 0, j_179472);
                                    bool y_179474 = slt64(j_179472, block_sizze_179338);
                                    bool bounds_check_179475 = x_179473 && y_179474;
                                    bool index_certs_179476;
                                    
                                    if (!bounds_check_179475) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179472, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179480 = add64((int64_t) 1, j_179472);
                                    bool x_179481 = sle64((int64_t) 0, copy_arg0_179480);
                                    bool y_179482 = slt64(copy_arg0_179480, block_sizze_179338);
                                    bool bounds_check_179483 = x_179481 && y_179482;
                                    bool index_certs_179484;
                                    
                                    if (!bounds_check_179483) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179480, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179477 = ((int8_t *) mem_181492)[j_179472];
                                    int64_t copy_arg0_179478 = ((int64_t *) mem_181494)[j_179472];
                                    int64_t copy_arg0_179479 = ((int64_t *) mem_181496)[j_179472];
                                    int8_t copy_arg0_179485 = ((int8_t *) mem_181492)[copy_arg0_179480];
                                    int64_t copy_arg0_179486 = ((int64_t *) mem_181494)[copy_arg0_179480];
                                    int64_t copy_arg0_179487 = ((int64_t *) mem_181496)[copy_arg0_179480];
                                    
                                    ((int8_t *) mem_181492)[j_179472] = copy_arg0_179485;
                                    ((int64_t *) mem_181494)[j_179472] = copy_arg0_179486;
                                    ((int64_t *) mem_181496)[j_179472] = copy_arg0_179487;
                                    ((int8_t *) mem_181492)[copy_arg0_179480] = copy_arg0_179477;
                                    ((int64_t *) mem_181494)[copy_arg0_179480] = copy_arg0_179478;
                                    ((int64_t *) mem_181496)[copy_arg0_179480] = copy_arg0_179479;
                                    
                                    int64_t tmp_179494 = sub64(j_179472, (int64_t) 1);
                                    bool cond_179495 = sle64((int64_t) 0, tmp_179494);
                                    bool loop_cond_179496;
                                    
                                    if (cond_179495) {
                                        bool y_179500 = slt64(tmp_179494, block_sizze_179338);
                                        bool bounds_check_179501 = cond_179495 && y_179500;
                                        bool index_certs_179502;
                                        
                                        if (!bounds_check_179501) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179494, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179497 = ((int8_t *) mem_181492)[j_179472];
                                        int64_t gt_arg1_179498 = ((int64_t *) mem_181494)[j_179472];
                                        int64_t gt_arg1_179499 = ((int64_t *) mem_181496)[j_179472];
                                        int8_t gt_arg0_179503 = ((int8_t *) mem_181492)[tmp_179494];
                                        int64_t gt_arg0_179504 = ((int64_t *) mem_181494)[tmp_179494];
                                        int64_t gt_arg0_179505 = ((int64_t *) mem_181496)[tmp_179494];
                                        bool cond_179506 = gt_arg0_179503 == gt_arg1_179497;
                                        bool defunc_0_leq_res_t_res_179507 = sle64(gt_arg0_179504, gt_arg1_179498);
                                        bool defunc_0_leq_res_179508 = sle64(gt_arg0_179505, gt_arg1_179499);
                                        bool x_179509 = cond_179506 && defunc_0_leq_res_t_res_179507;
                                        bool x_179510 = !cond_179506;
                                        bool y_179511 = defunc_0_leq_res_179508 && x_179510;
                                        bool defunc_0_leq_res_179512 = x_179509 || y_179511;
                                        bool defunc_0_lifted_gt_res_179513 = !defunc_0_leq_res_179512;
                                        
                                        loop_cond_179496 = defunc_0_lifted_gt_res_179513;
                                    } else {
                                        loop_cond_179496 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182523 = loop_cond_179496;
                                    int64_t j_tmp_182527 = tmp_179494;
                                    
                                    loop_while_179468 = loop_while_tmp_182523;
                                    j_179472 = j_tmp_182527;
                                }
                                s_179463 = loop_while_179468;
                                s_179467 = j_179472;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181473, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181492, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181476, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181494, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181479, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181496, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                    }
                    if (memblock_alloc(ctx, &mem_181573, flat_dim_179339, "mem_181573")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181573.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint8_t *) mem_181473, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181577, bytes_181475, "mem_181577")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181577.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181581, bytes_181475, "mem_181581")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181581.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181479, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    
                    int64_t data_179523;
                    bool data_179524;
                    int64_t data_179528;
                    int64_t loop_dz2084Uz2082U_179529;
                    bool loop_while_179530;
                    int64_t stride_179534;
                    
                    if (memblock_set(ctx, &mem_param_181585, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181588, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181591, &mem_181581, "mem_181581") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179529 = flat_dim_179339;
                    loop_while_179530 = loop_cond_179520;
                    stride_179534 = block_sizze_179338;
                    while (loop_while_179530) {
                        int64_t next_stride_179535 = mul64((int64_t) 2, stride_179534);
                        bool zzero_179536 = next_stride_179535 == (int64_t) 0;
                        bool nonzzero_179537 = !zzero_179536;
                        bool nonzzero_cert_179538;
                        
                        if (!nonzzero_179537) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179539 = sdiv64(flat_dim_179339, next_stride_179535);
                        bool bounds_invalid_upwards_179540 = slt64(num_merges_179539, (int64_t) 0);
                        bool valid_179541 = !bounds_invalid_upwards_179540;
                        bool range_valid_c_179542;
                        
                        if (!valid_179541) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179539, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179544 = sub64(next_stride_179535, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179545 = sle64((int64_t) 0, m_179544);
                        bool cond_179547 = slt64(next_stride_179535, (int64_t) 10);
                        bool protect_assert_disj_179548 = nonzzero_179522 || cond_179547;
                        bool nonzzero_cert_179549;
                        
                        if (!protect_assert_disj_179548) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179550 = smod_safe64(next_stride_179535, merge_block_sizze_179344);
                        bool num_blocks_179551 = zeze_lhs_179550 == (int64_t) 0;
                        bool protect_assert_disj_179552 = cond_179547 || num_blocks_179551;
                        bool assert_c_179553;
                        
                        if (!protect_assert_disj_179552) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179554 = sdiv_safe64(next_stride_179535, merge_block_sizze_179344);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555 = add64((int64_t) 1, num_blocks_179554);
                        int64_t j_m_i_179556 = sub64(next_stride_179535, stride_179534);
                        int64_t flat_dim_179557 = merge_block_sizze_179344 * num_blocks_179554;
                        bool bounds_invalid_upwards_179558 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, (int64_t) 0);
                        bool empty_slice_179559 = j_m_i_179556 == (int64_t) 0;
                        int64_t m_179560 = sub64(j_m_i_179556, (int64_t) 1);
                        bool zzero_lte_i_179561 = sle64((int64_t) 0, stride_179534);
                        bool i_lte_j_179562 = sle64(stride_179534, next_stride_179535);
                        bool empty_slice_179563 = stride_179534 == (int64_t) 0;
                        int64_t m_179564 = sub64(stride_179534, (int64_t) 1);
                        bool bounds_invalid_upwards_179565 = slt64(num_blocks_179554, (int64_t) 0);
                        bool cond_179566 = slt64((int64_t) 0, stride_179534);
                        bool valid_179567 = !bounds_invalid_upwards_179558;
                        int64_t i_p_m_t_s_179568 = add64(stride_179534, m_179560);
                        bool zzero_leq_i_p_m_t_s_179569 = sle64((int64_t) 0, m_179564);
                        bool i_p_m_t_s_leq_w_179570 = slt64(m_179564, next_stride_179535);
                        bool valid_179571 = !bounds_invalid_upwards_179565;
                        bool i_p_m_t_s_leq_w_179572 = slt64(m_179544, flat_dim_179557);
                        bool y_179573 = slt64((int64_t) 0, j_m_i_179556);
                        bool protect_assert_disj_179574 = cond_179547 || valid_179567;
                        bool range_valid_c_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179576 = sle64((int64_t) 0, i_p_m_t_s_179568);
                        bool i_p_m_t_s_leq_w_179577 = slt64(i_p_m_t_s_179568, next_stride_179535);
                        bool y_179578 = zzero_leq_i_p_m_t_s_179569 && i_p_m_t_s_leq_w_179570;
                        bool protect_assert_disj_179579 = cond_179547 || valid_179571;
                        bool range_valid_c_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179554, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179581 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179572;
                        bool y_179582 = zzero_lte_i_179561 && i_p_m_t_s_leq_w_179577;
                        bool forwards_ok_179583 = zzero_lte_i_179561 && y_179578;
                        bool ok_or_empty_179584 = zzero_179536 || y_179581;
                        bool protect_assert_disj_179585 = cond_179566 || y_179573;
                        bool y_179586 = zzero_leq_i_p_m_t_s_179576 && y_179582;
                        bool ok_or_empty_179587 = empty_slice_179563 || forwards_ok_179583;
                        bool protect_assert_disj_179588 = cond_179547 || ok_or_empty_179584;
                        bool index_certs_179589;
                        
                        if (!protect_assert_disj_179588) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) flat_dim_179557, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179590 = !cond_179547;
                        bool protect_assert_disj_179591 = protect_assert_disj_179585 || loop_not_taken_179590;
                        bool index_certs_179592;
                        
                        if (!protect_assert_disj_179591) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179593 = i_lte_j_179562 && y_179586;
                        bool protect_assert_disj_179594 = cond_179547 || ok_or_empty_179587;
                        bool index_certs_179595;
                        
                        if (!protect_assert_disj_179594) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179596 = ok_or_empty_179587 || loop_not_taken_179590;
                        bool index_certs_179597;
                        
                        if (!protect_assert_disj_179596) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179598 = empty_slice_179559 || forwards_ok_179593;
                        bool protect_assert_disj_179599 = cond_179547 || ok_or_empty_179598;
                        bool index_certs_179600;
                        
                        if (!protect_assert_disj_179599) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179601 = loop_not_taken_179590 || ok_or_empty_179598;
                        bool index_certs_179602;
                        
                        if (!protect_assert_disj_179601) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181592 = next_stride_179535 * num_merges_179539;
                        int64_t binop_x_181594 = (int64_t) 8 * num_merges_179539;
                        int64_t bytes_181595 = next_stride_179535 * binop_x_181594;
                        bool i_lte_j_179546 = sle64((int64_t) 0, next_stride_179535);
                        
                        if (mem_181593_cached_sizze_182984 < bytes_181592) {
                            err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182984, bytes_181592);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181596_cached_sizze_182985 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181596, &mem_181596_cached_sizze_182985, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181599_cached_sizze_182986 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181599, &mem_181599_cached_sizze_182986, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181612 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555;
                        int64_t binop_x_181630 = (int64_t) 8 * num_blocks_179554;
                        int64_t bytes_181631 = merge_block_sizze_179344 * binop_x_181630;
                        int64_t bytes_181695 = (int64_t) 16 * stride_179534;
                        
                        for (int64_t i_180766 = 0; i_180766 < num_merges_179539; i_180766++) {
                            int64_t start_179607 = mul64(next_stride_179535, i_180766);
                            int64_t j_m_i_179608 = sub64(loop_dz2084Uz2082U_179529, start_179607);
                            bool empty_slice_179609 = j_m_i_179608 == (int64_t) 0;
                            int64_t m_179610 = sub64(j_m_i_179608, (int64_t) 1);
                            int64_t i_p_m_t_s_179611 = add64(start_179607, m_179610);
                            bool zzero_leq_i_p_m_t_s_179612 = sle64((int64_t) 0, i_p_m_t_s_179611);
                            bool i_p_m_t_s_leq_w_179613 = slt64(i_p_m_t_s_179611, loop_dz2084Uz2082U_179529);
                            bool zzero_lte_i_179614 = sle64((int64_t) 0, start_179607);
                            bool i_lte_j_179615 = sle64(start_179607, loop_dz2084Uz2082U_179529);
                            bool y_179616 = i_p_m_t_s_leq_w_179613 && zzero_lte_i_179614;
                            bool y_179617 = zzero_leq_i_p_m_t_s_179612 && y_179616;
                            bool forwards_ok_179618 = i_lte_j_179615 && y_179617;
                            bool ok_or_empty_179619 = empty_slice_179609 || forwards_ok_179618;
                            bool index_certs_179620;
                            
                            if (!ok_or_empty_179619) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179607, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179529, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179621 = slt64(m_179544, j_m_i_179608);
                            bool y_179622 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179621;
                            bool forwards_ok_179623 = i_lte_j_179546 && y_179622;
                            bool ok_or_empty_179624 = zzero_179536 || forwards_ok_179623;
                            bool index_certs_179625;
                            
                            if (!ok_or_empty_179624) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) j_m_i_179608, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179547) {
                                int8_t dummy_179629;
                                int64_t dummy_179630;
                                int64_t dummy_179631;
                                
                                if (cond_179566) {
                                    int8_t head_res_179632 = ((int8_t *) mem_param_181585.mem)[start_179607];
                                    int64_t head_res_179633 = ((int64_t *) mem_param_181588.mem)[start_179607];
                                    int64_t head_res_179634 = ((int64_t *) mem_param_181591.mem)[start_179607];
                                    
                                    dummy_179629 = head_res_179632;
                                    dummy_179630 = head_res_179633;
                                    dummy_179631 = head_res_179634;
                                } else {
                                    int64_t slice_179635 = stride_179534 + start_179607;
                                    int8_t head_res_179636 = ((int8_t *) mem_param_181585.mem)[slice_179635];
                                    int64_t head_res_179637 = ((int64_t *) mem_param_181588.mem)[slice_179635];
                                    int64_t head_res_179638 = ((int64_t *) mem_param_181591.mem)[slice_179635];
                                    
                                    dummy_179629 = head_res_179636;
                                    dummy_179630 = head_res_179637;
                                    dummy_179631 = head_res_179638;
                                }
                                if (memblock_alloc(ctx, &mem_181694, next_stride_179535, "mem_181694")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182540 = 0; nest_i_182540 < next_stride_179535; nest_i_182540++) {
                                    ((int8_t *) mem_181694.mem)[nest_i_182540] = dummy_179629;
                                }
                                if (memblock_alloc(ctx, &mem_181696, bytes_181695, "mem_181696")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182541 = 0; nest_i_182541 < next_stride_179535; nest_i_182541++) {
                                    ((int64_t *) mem_181696.mem)[nest_i_182541] = dummy_179630;
                                }
                                if (memblock_alloc(ctx, &mem_181698, bytes_181695, "mem_181698")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182542 = 0; nest_i_182542 < next_stride_179535; nest_i_182542++) {
                                    ((int64_t *) mem_181698.mem)[nest_i_182542] = dummy_179631;
                                }
                                
                                int64_t data_179642;
                                int64_t i_179647 = (int64_t) 0;
                                
                                for (int64_t k_179646 = 0; k_179646 < next_stride_179535; k_179646++) {
                                    int64_t j_179651 = sub64(k_179646, i_179647);
                                    bool cond_179652 = j_179651 == j_m_i_179556;
                                    bool cond_179653;
                                    
                                    if (cond_179652) {
                                        cond_179653 = 1;
                                    } else {
                                        bool cond_179654 = slt64(i_179647, stride_179534);
                                        bool cond_f_res_179655;
                                        
                                        if (cond_179654) {
                                            bool x_179656 = sle64((int64_t) 0, j_179651);
                                            bool y_179657 = slt64(j_179651, j_m_i_179556);
                                            bool bounds_check_179658 = x_179656 && y_179657;
                                            bool index_certs_179659;
                                            
                                            if (!bounds_check_179658) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179665 = sle64((int64_t) 0, i_179647);
                                            bool bounds_check_179666 = cond_179654 && x_179665;
                                            bool index_certs_179667;
                                            
                                            if (!bounds_check_179666) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179660 = stride_179534 + j_179651;
                                            int64_t slice_179661 = start_179607 + slice_179660;
                                            int8_t leq_arg1_179662 = ((int8_t *) mem_param_181585.mem)[slice_179661];
                                            int64_t leq_arg1_179663 = ((int64_t *) mem_param_181588.mem)[slice_179661];
                                            int64_t leq_arg1_179664 = ((int64_t *) mem_param_181591.mem)[slice_179661];
                                            int64_t slice_179668 = start_179607 + i_179647;
                                            int8_t leq_arg0_179669 = ((int8_t *) mem_param_181585.mem)[slice_179668];
                                            int64_t leq_arg0_179670 = ((int64_t *) mem_param_181588.mem)[slice_179668];
                                            int64_t leq_arg0_179671 = ((int64_t *) mem_param_181591.mem)[slice_179668];
                                            bool cond_179672 = leq_arg0_179669 == leq_arg1_179662;
                                            bool defunc_0_leq_res_t_res_179673 = sle64(leq_arg0_179670, leq_arg1_179663);
                                            bool defunc_0_leq_res_179674 = sle64(leq_arg0_179671, leq_arg1_179664);
                                            bool x_179675 = cond_179672 && defunc_0_leq_res_t_res_179673;
                                            bool x_179676 = !cond_179672;
                                            bool y_179677 = defunc_0_leq_res_179674 && x_179676;
                                            bool defunc_0_leq_res_179678 = x_179675 || y_179677;
                                            
                                            cond_f_res_179655 = defunc_0_leq_res_179678;
                                        } else {
                                            cond_f_res_179655 = 0;
                                        }
                                        cond_179653 = cond_f_res_179655;
                                    }
                                    
                                    int64_t loopres_179679;
                                    int8_t loopres_179680;
                                    int64_t loopres_179681;
                                    int64_t loopres_179682;
                                    
                                    if (cond_179653) {
                                        bool x_179684 = sle64((int64_t) 0, i_179647);
                                        bool y_179685 = slt64(i_179647, stride_179534);
                                        bool bounds_check_179686 = x_179684 && y_179685;
                                        bool index_certs_179687;
                                        
                                        if (!bounds_check_179686) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179683 = add64((int64_t) 1, i_179647);
                                        int64_t slice_179688 = start_179607 + i_179647;
                                        int8_t tmp_179689 = ((int8_t *) mem_param_181585.mem)[slice_179688];
                                        int64_t tmp_179690 = ((int64_t *) mem_param_181588.mem)[slice_179688];
                                        int64_t tmp_179691 = ((int64_t *) mem_param_181591.mem)[slice_179688];
                                        
                                        loopres_179679 = tmp_179683;
                                        loopres_179680 = tmp_179689;
                                        loopres_179681 = tmp_179690;
                                        loopres_179682 = tmp_179691;
                                    } else {
                                        bool x_179692 = sle64((int64_t) 0, j_179651);
                                        bool y_179693 = slt64(j_179651, j_m_i_179556);
                                        bool bounds_check_179694 = x_179692 && y_179693;
                                        bool index_certs_179695;
                                        
                                        if (!bounds_check_179694) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179696 = stride_179534 + j_179651;
                                        int64_t slice_179697 = start_179607 + slice_179696;
                                        int8_t tmp_179698 = ((int8_t *) mem_param_181585.mem)[slice_179697];
                                        int64_t tmp_179699 = ((int64_t *) mem_param_181588.mem)[slice_179697];
                                        int64_t tmp_179700 = ((int64_t *) mem_param_181591.mem)[slice_179697];
                                        
                                        loopres_179679 = i_179647;
                                        loopres_179680 = tmp_179698;
                                        loopres_179681 = tmp_179699;
                                        loopres_179682 = tmp_179700;
                                    }
                                    ((int8_t *) mem_181694.mem)[k_179646] = loopres_179680;
                                    ((int64_t *) mem_181696.mem)[k_179646] = loopres_179681;
                                    ((int64_t *) mem_181698.mem)[k_179646] = loopres_179682;
                                    
                                    int64_t i_tmp_182543 = loopres_179679;
                                    
                                    i_179647 = i_tmp_182543;
                                }
                                data_179642 = i_179647;
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181694, "mem_181694") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181696, "mem_181696") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181698, "mem_181698") != 0)
                                    return 1;
                            } else {
                                if (mem_181613_cached_sizze_182987 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181613, &mem_181613_cached_sizze_182987, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182988 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182988, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180747 = 0; i_180747 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555; i_180747++) {
                                    int64_t split_count_arg3_179708 = mul64(merge_block_sizze_179344, i_180747);
                                    int64_t defunc_0_split_count_res_179709;
                                    int64_t defunc_0_split_count_res_179710;
                                    int64_t defunc_0_split_count_res_179711;
                                    int64_t defunc_0_split_count_res_179712;
                                    int64_t defunc_0_split_count_res_179713;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_179709, &defunc_0_split_count_res_179710, &defunc_0_split_count_res_179711, &defunc_0_split_count_res_179712, &defunc_0_split_count_res_179713, (int64_t) 0, stride_179534, (int64_t) 0, j_m_i_179556, split_count_arg3_179708) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179714 = slt64((int64_t) 0, defunc_0_split_count_res_179713);
                                    bool defunc_0_split_count_res_179715;
                                    int64_t defunc_0_split_count_res_179716;
                                    int64_t defunc_0_split_count_res_179717;
                                    int64_t defunc_0_split_count_res_179718;
                                    int64_t defunc_0_split_count_res_179719;
                                    int64_t defunc_0_split_count_res_179720;
                                    bool loop_while_179721;
                                    int64_t ss_179722;
                                    int64_t ss_179723;
                                    int64_t tt_179724;
                                    int64_t tt_179725;
                                    int64_t count_179726;
                                    
                                    loop_while_179721 = loop_cond_179714;
                                    ss_179722 = defunc_0_split_count_res_179709;
                                    ss_179723 = defunc_0_split_count_res_179710;
                                    tt_179724 = defunc_0_split_count_res_179711;
                                    tt_179725 = defunc_0_split_count_res_179712;
                                    count_179726 = defunc_0_split_count_res_179713;
                                    while (loop_while_179721) {
                                        int64_t zlze_lhs_179727 = sub64(ss_179723, ss_179722);
                                        bool cond_179728 = sle64(zlze_lhs_179727, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179729;
                                        int64_t defunc_0_lifted_step_res_179730;
                                        int64_t defunc_0_lifted_step_res_179731;
                                        int64_t defunc_0_lifted_step_res_179732;
                                        
                                        if (cond_179728) {
                                            int64_t tmp_179733 = add64(tt_179724, count_179726);
                                            
                                            defunc_0_lifted_step_res_179729 = ss_179722;
                                            defunc_0_lifted_step_res_179730 = tmp_179733;
                                            defunc_0_lifted_step_res_179731 = tt_179725;
                                            defunc_0_lifted_step_res_179732 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179734 = sub64(tt_179725, tt_179724);
                                            bool cond_179735 = sle64(zlze_lhs_179734, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179736;
                                            int64_t defunc_0_lifted_step_res_f_res_179737;
                                            int64_t defunc_0_lifted_step_res_f_res_179738;
                                            int64_t defunc_0_lifted_step_res_f_res_179739;
                                            
                                            if (cond_179735) {
                                                int64_t tmp_179740 = add64(ss_179722, count_179726);
                                                
                                                defunc_0_lifted_step_res_f_res_179736 = tmp_179740;
                                                defunc_0_lifted_step_res_f_res_179737 = tt_179724;
                                                defunc_0_lifted_step_res_f_res_179738 = tt_179725;
                                                defunc_0_lifted_step_res_f_res_179739 = (int64_t) 0;
                                            } else {
                                                bool cond_179741 = count_179726 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179742;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179743;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179744;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179745;
                                                
                                                if (cond_179741) {
                                                    bool x_179746 = sle64((int64_t) 0, ss_179722);
                                                    bool y_179747 = slt64(ss_179722, stride_179534);
                                                    bool bounds_check_179748 = x_179746 && y_179747;
                                                    bool index_certs_179749;
                                                    
                                                    if (!bounds_check_179748) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179722, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179754 = sle64((int64_t) 0, tt_179724);
                                                    bool y_179755 = slt64(tt_179724, j_m_i_179556);
                                                    bool bounds_check_179756 = x_179754 && y_179755;
                                                    bool index_certs_179757;
                                                    
                                                    if (!bounds_check_179756) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179724, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179750 = start_179607 + ss_179722;
                                                    int8_t leq_arg1_179751 = ((int8_t *) mem_param_181585.mem)[slice_179750];
                                                    int64_t leq_arg1_179752 = ((int64_t *) mem_param_181588.mem)[slice_179750];
                                                    int64_t leq_arg1_179753 = ((int64_t *) mem_param_181591.mem)[slice_179750];
                                                    int64_t slice_179758 = stride_179534 + tt_179724;
                                                    int64_t slice_179759 = start_179607 + slice_179758;
                                                    int8_t leq_arg0_179760 = ((int8_t *) mem_param_181585.mem)[slice_179759];
                                                    int64_t leq_arg0_179761 = ((int64_t *) mem_param_181588.mem)[slice_179759];
                                                    int64_t leq_arg0_179762 = ((int64_t *) mem_param_181591.mem)[slice_179759];
                                                    bool cond_179763 = leq_arg0_179760 == leq_arg1_179751;
                                                    bool defunc_0_leq_res_t_res_179764 = sle64(leq_arg0_179761, leq_arg1_179752);
                                                    bool defunc_0_leq_res_179765 = sle64(leq_arg0_179762, leq_arg1_179753);
                                                    bool x_179766 = cond_179763 && defunc_0_leq_res_t_res_179764;
                                                    bool x_179767 = !cond_179763;
                                                    bool y_179768 = defunc_0_leq_res_179765 && x_179767;
                                                    bool defunc_0_leq_res_179769 = x_179766 || y_179768;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    
                                                    if (defunc_0_leq_res_179769) {
                                                        int64_t tmp_179772 = add64((int64_t) 1, tt_179724);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = ss_179722;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tmp_179772;
                                                    } else {
                                                        int64_t tmp_179773 = add64((int64_t) 1, ss_179722);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = tmp_179773;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tt_179724;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = tt_179725;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179774 = sdiv64(count_179726, (int64_t) 2);
                                                    int64_t n_179775 = sub64(count_179726, m_179774);
                                                    bool cond_179776 = n_179775 == (int64_t) 0;
                                                    int64_t zgze_lhs_179777 = add64(ss_179722, m_179774);
                                                    bool cond_f_res_179778 = sle64(ss_179723, zgze_lhs_179777);
                                                    bool x_179779 = !cond_179776;
                                                    bool y_179780 = cond_f_res_179778 && x_179779;
                                                    bool cond_179781 = cond_179776 || y_179780;
                                                    bool leq_y_x_179782;
                                                    
                                                    if (cond_179781) {
                                                        leq_y_x_179782 = 1;
                                                    } else {
                                                        bool x_179783 = sle64((int64_t) 0, zgze_lhs_179777);
                                                        bool y_179784 = slt64(zgze_lhs_179777, stride_179534);
                                                        bool bounds_check_179785 = x_179783 && y_179784;
                                                        bool index_certs_179786;
                                                        
                                                        if (!bounds_check_179785) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179777, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179791 = add64(tt_179724, n_179775);
                                                        int64_t leq_arg0_179792 = sub64(zm_lhs_179791, (int64_t) 1);
                                                        bool x_179793 = sle64((int64_t) 0, leq_arg0_179792);
                                                        bool y_179794 = slt64(leq_arg0_179792, j_m_i_179556);
                                                        bool bounds_check_179795 = x_179793 && y_179794;
                                                        bool index_certs_179796;
                                                        
                                                        if (!bounds_check_179795) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179792, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179787 = start_179607 + zgze_lhs_179777;
                                                        int8_t leq_arg1_179788 = ((int8_t *) mem_param_181585.mem)[slice_179787];
                                                        int64_t leq_arg1_179789 = ((int64_t *) mem_param_181588.mem)[slice_179787];
                                                        int64_t leq_arg1_179790 = ((int64_t *) mem_param_181591.mem)[slice_179787];
                                                        int64_t slice_179797 = stride_179534 + leq_arg0_179792;
                                                        int64_t slice_179798 = start_179607 + slice_179797;
                                                        int8_t leq_arg0_179799 = ((int8_t *) mem_param_181585.mem)[slice_179798];
                                                        int64_t leq_arg0_179800 = ((int64_t *) mem_param_181588.mem)[slice_179798];
                                                        int64_t leq_arg0_179801 = ((int64_t *) mem_param_181591.mem)[slice_179798];
                                                        bool cond_179802 = leq_arg0_179799 == leq_arg1_179788;
                                                        bool defunc_0_leq_res_t_res_179803 = sle64(leq_arg0_179800, leq_arg1_179789);
                                                        bool defunc_0_leq_res_179804 = sle64(leq_arg0_179801, leq_arg1_179790);
                                                        bool x_179805 = cond_179802 && defunc_0_leq_res_t_res_179803;
                                                        bool x_179806 = !cond_179802;
                                                        bool y_179807 = defunc_0_leq_res_179804 && x_179806;
                                                        bool defunc_0_leq_res_179808 = x_179805 || y_179807;
                                                        
                                                        leq_y_x_179782 = defunc_0_leq_res_179808;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                    
                                                    if (leq_y_x_179782) {
                                                        int64_t tmp_179812 = add64(tt_179724, n_179775);
                                                        int64_t tmp_179813 = sub64(count_179726, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tmp_179812;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tt_179725;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = tmp_179813;
                                                    } else {
                                                        int64_t tmp_179814 = add64(tt_179724, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tt_179724;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tmp_179814;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = count_179726;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = ss_179722;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                }
                                                defunc_0_lifted_step_res_f_res_179736 = defunc_0_lifted_step_res_f_res_f_res_179742;
                                                defunc_0_lifted_step_res_f_res_179737 = defunc_0_lifted_step_res_f_res_f_res_179743;
                                                defunc_0_lifted_step_res_f_res_179738 = defunc_0_lifted_step_res_f_res_f_res_179744;
                                                defunc_0_lifted_step_res_f_res_179739 = defunc_0_lifted_step_res_f_res_f_res_179745;
                                            }
                                            defunc_0_lifted_step_res_179729 = defunc_0_lifted_step_res_f_res_179736;
                                            defunc_0_lifted_step_res_179730 = defunc_0_lifted_step_res_f_res_179737;
                                            defunc_0_lifted_step_res_179731 = defunc_0_lifted_step_res_f_res_179738;
                                            defunc_0_lifted_step_res_179732 = defunc_0_lifted_step_res_f_res_179739;
                                        }
                                        
                                        int64_t loopres_179815;
                                        int64_t loopres_179816;
                                        int64_t loopres_179817;
                                        int64_t loopres_179818;
                                        int64_t loopres_179819;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_179815, &loopres_179816, &loopres_179817, &loopres_179818, &loopres_179819, defunc_0_lifted_step_res_179729, ss_179723, defunc_0_lifted_step_res_179730, defunc_0_lifted_step_res_179731, defunc_0_lifted_step_res_179732) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179820 = slt64((int64_t) 0, loopres_179819);
                                        bool loop_while_tmp_182549 = loop_cond_179820;
                                        int64_t ss_tmp_182550 = loopres_179815;
                                        int64_t ss_tmp_182551 = loopres_179816;
                                        int64_t tt_tmp_182552 = loopres_179817;
                                        int64_t tt_tmp_182553 = loopres_179818;
                                        int64_t count_tmp_182554 = loopres_179819;
                                        
                                        loop_while_179721 = loop_while_tmp_182549;
                                        ss_179722 = ss_tmp_182550;
                                        ss_179723 = ss_tmp_182551;
                                        tt_179724 = tt_tmp_182552;
                                        tt_179725 = tt_tmp_182553;
                                        count_179726 = count_tmp_182554;
                                    }
                                    defunc_0_split_count_res_179715 = loop_while_179721;
                                    defunc_0_split_count_res_179716 = ss_179722;
                                    defunc_0_split_count_res_179717 = ss_179723;
                                    defunc_0_split_count_res_179718 = tt_179724;
                                    defunc_0_split_count_res_179719 = tt_179725;
                                    defunc_0_split_count_res_179720 = count_179726;
                                    ((int64_t *) mem_181613)[i_180747] = defunc_0_split_count_res_179716;
                                    ((int64_t *) mem_181615)[i_180747] = defunc_0_split_count_res_179718;
                                }
                                if (mem_181629_cached_sizze_182989 < flat_dim_179557) {
                                    err = lexical_realloc(ctx, &mem_181629, &mem_181629_cached_sizze_182989, flat_dim_179557);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181632_cached_sizze_182990 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181632, &mem_181632_cached_sizze_182990, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181635_cached_sizze_182991 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181635, &mem_181635_cached_sizze_182991, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180756 = 0; i_180756 < num_blocks_179554; i_180756++) {
                                    bool y_179829 = slt64(i_180756, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool index_certs_179831;
                                    
                                    if (!y_179829) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179832 = ((int64_t *) mem_181613)[i_180756];
                                    int64_t defunc_0_f_res_179833 = ((int64_t *) mem_181615)[i_180756];
                                    int64_t tmp_179834 = add64((int64_t) 1, i_180756);
                                    bool x_179835 = sle64((int64_t) 0, tmp_179834);
                                    bool y_179836 = slt64(tmp_179834, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool bounds_check_179837 = x_179835 && y_179836;
                                    bool index_certs_179838;
                                    
                                    if (!bounds_check_179837) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179839 = ((int64_t *) mem_181613)[tmp_179834];
                                    int64_t defunc_0_f_res_179840 = ((int64_t *) mem_181615)[tmp_179834];
                                    int64_t merge_sequential_arg2_179841 = add64(stride_179534, defunc_0_f_res_179833);
                                    int64_t merge_sequential_arg2_179842 = add64(stride_179534, defunc_0_f_res_179840);
                                    int64_t j_m_i_179843 = sub64(merge_sequential_arg2_179842, merge_sequential_arg2_179841);
                                    bool empty_slice_179844 = j_m_i_179843 == (int64_t) 0;
                                    int64_t m_179845 = sub64(j_m_i_179843, (int64_t) 1);
                                    int64_t i_p_m_t_s_179846 = add64(merge_sequential_arg2_179841, m_179845);
                                    bool zzero_leq_i_p_m_t_s_179847 = sle64((int64_t) 0, i_p_m_t_s_179846);
                                    bool i_p_m_t_s_leq_w_179848 = slt64(i_p_m_t_s_179846, next_stride_179535);
                                    bool zzero_lte_i_179849 = sle64((int64_t) 0, merge_sequential_arg2_179841);
                                    bool i_lte_j_179850 = sle64(merge_sequential_arg2_179841, merge_sequential_arg2_179842);
                                    bool y_179851 = i_p_m_t_s_leq_w_179848 && zzero_lte_i_179849;
                                    bool y_179852 = zzero_leq_i_p_m_t_s_179847 && y_179851;
                                    bool forwards_ok_179853 = i_lte_j_179850 && y_179852;
                                    bool ok_or_empty_179854 = empty_slice_179844 || forwards_ok_179853;
                                    bool index_certs_179855;
                                    
                                    if (!ok_or_empty_179854) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179841, ":", (long long) merge_sequential_arg2_179842, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179856 = sub64(defunc_0_f_res_179839, defunc_0_f_res_179832);
                                    bool empty_slice_179857 = j_m_i_179856 == (int64_t) 0;
                                    int64_t m_179858 = sub64(j_m_i_179856, (int64_t) 1);
                                    int64_t i_p_m_t_s_179859 = add64(defunc_0_f_res_179832, m_179858);
                                    bool zzero_leq_i_p_m_t_s_179860 = sle64((int64_t) 0, i_p_m_t_s_179859);
                                    bool i_p_m_t_s_leq_w_179861 = slt64(i_p_m_t_s_179859, next_stride_179535);
                                    bool zzero_lte_i_179862 = sle64((int64_t) 0, defunc_0_f_res_179832);
                                    bool i_lte_j_179863 = sle64(defunc_0_f_res_179832, defunc_0_f_res_179839);
                                    bool y_179864 = i_p_m_t_s_leq_w_179861 && zzero_lte_i_179862;
                                    bool y_179865 = zzero_leq_i_p_m_t_s_179860 && y_179864;
                                    bool forwards_ok_179866 = i_lte_j_179863 && y_179865;
                                    bool ok_or_empty_179867 = empty_slice_179857 || forwards_ok_179866;
                                    bool index_certs_179868;
                                    
                                    if (!ok_or_empty_179867) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179832, ":", (long long) defunc_0_f_res_179839, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179869 = slt64((int64_t) 0, j_m_i_179856);
                                    int8_t dummy_179870;
                                    int64_t dummy_179871;
                                    int64_t dummy_179872;
                                    
                                    if (cond_179869) {
                                        bool index_certs_179873;
                                        
                                        if (!cond_179869) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179874 = start_179607 + defunc_0_f_res_179832;
                                        int8_t head_res_179875 = ((int8_t *) mem_param_181585.mem)[slice_179874];
                                        int64_t head_res_179876 = ((int64_t *) mem_param_181588.mem)[slice_179874];
                                        int64_t head_res_179877 = ((int64_t *) mem_param_181591.mem)[slice_179874];
                                        
                                        dummy_179870 = head_res_179875;
                                        dummy_179871 = head_res_179876;
                                        dummy_179872 = head_res_179877;
                                    } else {
                                        bool y_179878 = slt64((int64_t) 0, j_m_i_179843);
                                        bool index_certs_179879;
                                        
                                        if (!y_179878) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179880 = start_179607 + merge_sequential_arg2_179841;
                                        int8_t head_res_179881 = ((int8_t *) mem_param_181585.mem)[slice_179880];
                                        int64_t head_res_179882 = ((int64_t *) mem_param_181588.mem)[slice_179880];
                                        int64_t head_res_179883 = ((int64_t *) mem_param_181591.mem)[slice_179880];
                                        
                                        dummy_179870 = head_res_179881;
                                        dummy_179871 = head_res_179882;
                                        dummy_179872 = head_res_179883;
                                    }
                                    for (int64_t nest_i_182558 = 0; nest_i_182558 < merge_block_sizze_179344; nest_i_182558++) {
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + nest_i_182558] = dummy_179870;
                                    }
                                    for (int64_t nest_i_182559 = 0; nest_i_182559 < merge_block_sizze_179344; nest_i_182559++) {
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + nest_i_182559] = dummy_179871;
                                    }
                                    for (int64_t nest_i_182560 = 0; nest_i_182560 < merge_block_sizze_179344; nest_i_182560++) {
                                        ((int64_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + nest_i_182560] = dummy_179872;
                                    }
                                    
                                    int64_t data_179887;
                                    int64_t i_179892 = (int64_t) 0;
                                    
                                    for (int64_t k_179891 = 0; k_179891 < merge_block_sizze_179344; k_179891++) {
                                        int64_t j_179896 = sub64(k_179891, i_179892);
                                        bool cond_179897 = j_179896 == j_m_i_179843;
                                        bool cond_179898;
                                        
                                        if (cond_179897) {
                                            cond_179898 = 1;
                                        } else {
                                            bool cond_179899 = slt64(i_179892, j_m_i_179856);
                                            bool cond_f_res_179900;
                                            
                                            if (cond_179899) {
                                                bool x_179901 = sle64((int64_t) 0, j_179896);
                                                bool y_179902 = slt64(j_179896, j_m_i_179843);
                                                bool bounds_check_179903 = x_179901 && y_179902;
                                                bool index_certs_179904;
                                                
                                                if (!bounds_check_179903) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179910 = sle64((int64_t) 0, i_179892);
                                                bool bounds_check_179911 = cond_179899 && x_179910;
                                                bool index_certs_179912;
                                                
                                                if (!bounds_check_179911) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179905 = merge_sequential_arg2_179841 + j_179896;
                                                int64_t slice_179906 = start_179607 + slice_179905;
                                                int8_t leq_arg1_179907 = ((int8_t *) mem_param_181585.mem)[slice_179906];
                                                int64_t leq_arg1_179908 = ((int64_t *) mem_param_181588.mem)[slice_179906];
                                                int64_t leq_arg1_179909 = ((int64_t *) mem_param_181591.mem)[slice_179906];
                                                int64_t slice_179913 = defunc_0_f_res_179832 + i_179892;
                                                int64_t slice_179914 = start_179607 + slice_179913;
                                                int8_t leq_arg0_179915 = ((int8_t *) mem_param_181585.mem)[slice_179914];
                                                int64_t leq_arg0_179916 = ((int64_t *) mem_param_181588.mem)[slice_179914];
                                                int64_t leq_arg0_179917 = ((int64_t *) mem_param_181591.mem)[slice_179914];
                                                bool cond_179918 = leq_arg0_179915 == leq_arg1_179907;
                                                bool defunc_0_leq_res_t_res_179919 = sle64(leq_arg0_179916, leq_arg1_179908);
                                                bool defunc_0_leq_res_179920 = sle64(leq_arg0_179917, leq_arg1_179909);
                                                bool x_179921 = cond_179918 && defunc_0_leq_res_t_res_179919;
                                                bool x_179922 = !cond_179918;
                                                bool y_179923 = defunc_0_leq_res_179920 && x_179922;
                                                bool defunc_0_leq_res_179924 = x_179921 || y_179923;
                                                
                                                cond_f_res_179900 = defunc_0_leq_res_179924;
                                            } else {
                                                cond_f_res_179900 = 0;
                                            }
                                            cond_179898 = cond_f_res_179900;
                                        }
                                        
                                        int64_t loopres_179925;
                                        int8_t loopres_179926;
                                        int64_t loopres_179927;
                                        int64_t loopres_179928;
                                        
                                        if (cond_179898) {
                                            bool x_179930 = sle64((int64_t) 0, i_179892);
                                            bool y_179931 = slt64(i_179892, j_m_i_179856);
                                            bool bounds_check_179932 = x_179930 && y_179931;
                                            bool index_certs_179933;
                                            
                                            if (!bounds_check_179932) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179929 = add64((int64_t) 1, i_179892);
                                            int64_t slice_179934 = defunc_0_f_res_179832 + i_179892;
                                            int64_t slice_179935 = start_179607 + slice_179934;
                                            int8_t tmp_179936 = ((int8_t *) mem_param_181585.mem)[slice_179935];
                                            int64_t tmp_179937 = ((int64_t *) mem_param_181588.mem)[slice_179935];
                                            int64_t tmp_179938 = ((int64_t *) mem_param_181591.mem)[slice_179935];
                                            
                                            loopres_179925 = tmp_179929;
                                            loopres_179926 = tmp_179936;
                                            loopres_179927 = tmp_179937;
                                            loopres_179928 = tmp_179938;
                                        } else {
                                            bool x_179939 = sle64((int64_t) 0, j_179896);
                                            bool y_179940 = slt64(j_179896, j_m_i_179843);
                                            bool bounds_check_179941 = x_179939 && y_179940;
                                            bool index_certs_179942;
                                            
                                            if (!bounds_check_179941) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179943 = merge_sequential_arg2_179841 + j_179896;
                                            int64_t slice_179944 = start_179607 + slice_179943;
                                            int8_t tmp_179945 = ((int8_t *) mem_param_181585.mem)[slice_179944];
                                            int64_t tmp_179946 = ((int64_t *) mem_param_181588.mem)[slice_179944];
                                            int64_t tmp_179947 = ((int64_t *) mem_param_181591.mem)[slice_179944];
                                            
                                            loopres_179925 = i_179892;
                                            loopres_179926 = tmp_179945;
                                            loopres_179927 = tmp_179946;
                                            loopres_179928 = tmp_179947;
                                        }
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179926;
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179927;
                                        ((int64_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179928;
                                        
                                        int64_t i_tmp_182561 = loopres_179925;
                                        
                                        i_179892 = i_tmp_182561;
                                    }
                                    data_179887 = i_179892;
                                }
                                if (memblock_alloc(ctx, &mem_181684, flat_dim_179557, "mem_181684")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181684.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint8_t *) mem_181629, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181688, bytes_181631, "mem_181688")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181688.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181632, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181692, bytes_181631, "mem_181692")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181692.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181635, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181684, "mem_181684") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181688, "mem_181688") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181692, "mem_181692") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181593, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181596, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181599, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181739, bytes_181592, "mem_181739")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181739.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint8_t *) mem_181593, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181743, bytes_181595, "mem_181743")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181743.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181596, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181747, bytes_181595, "mem_181747")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181747.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181599, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        
                        bool loop_cond_179967 = slt64(next_stride_179535, flat_dim_179339);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182528, &mem_181739, "mem_181739") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182529, &mem_181743, "mem_181743") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182530, &mem_181747, "mem_181747") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182531 = bytes_181592;
                        bool loop_while_tmp_182532 = loop_cond_179967;
                        int64_t stride_tmp_182536 = next_stride_179535;
                        
                        if (memblock_set(ctx, &mem_param_181585, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181588, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181591, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179529 = loop_dz2084Uz2082U_tmp_182531;
                        loop_while_179530 = loop_while_tmp_182532;
                        stride_179534 = stride_tmp_182536;
                    }
                    if (memblock_set(ctx, &ext_mem_181757, &mem_param_181585, "mem_param_181585") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181756, &mem_param_181588, "mem_param_181588") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181755, &mem_param_181591, "mem_param_181591") != 0)
                        return 1;
                    data_179523 = loop_dz2084Uz2082U_179529;
                    data_179524 = loop_while_179530;
                    data_179528 = stride_179534;
                    if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
                        return 1;
                    
                    bool empty_slice_179968 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179969 = sle64((int64_t) 0, zs_lhs_179323);
                    bool i_p_m_t_s_leq_w_179970 = slt64(zs_lhs_179323, data_179523);
                    bool y_179971 = zzero_leq_i_p_m_t_s_179969 && i_p_m_t_s_leq_w_179970;
                    bool ok_or_empty_179972 = empty_slice_179968 || y_179971;
                    bool index_certs_179973;
                    
                    if (!ok_or_empty_179972) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] out of bounds for array of shape [", (long long) data_179523, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181766, &ext_mem_181757, "ext_mem_181757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &ext_mem_181756, "ext_mem_181756") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &ext_mem_181755, "ext_mem_181755") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181433, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181766.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181436, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181439, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
                    return 1;
                for (int64_t i_180772 = 0; i_180772 < perThread_175600; i_180772++) {
                    int64_t lifted_lambda_res_179995 = add64(zm_rhs_179279, i_180772);
                    
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + i_180772] = lifted_lambda_res_179995;
                }
                
                bool cond_179997 = card_179280 == zp_rhs_175599;
                
                if (cond_179997) {
                    bool y_179999 = slt64(card_179280, perThread_175600);
                    bool index_certs_180000;
                    
                    if (!y_179999) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + card_179280] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181792, bytes_181085, "mem_181792")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_142252; nest_i_182566++) {
                ((int64_t *) mem_181792.mem)[nest_i_182566] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181794, bytes_181085, "mem_181794")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_142252; nest_i_182567++) {
                ((int64_t *) mem_181794.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181795, window_sizze_142252, "mem_181795")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_142252; nest_i_182568++) {
                ((int8_t *) mem_181795.mem)[nest_i_182568] = (int8_t) -1;
            }
            for (int64_t write_iter_180787 = 0; write_iter_180787 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601; write_iter_180787++) {
                int64_t new_index_180939 = squot64(write_iter_180787, perThread_175600);
                int64_t binop_y_180941 = perThread_175600 * new_index_180939;
                int64_t new_index_180942 = write_iter_180787 - binop_y_180941;
                int64_t write_iv_180791 = ((int64_t *) mem_181431)[new_index_180939 * perThread_175600 + new_index_180942];
                int8_t write_iv_180792 = ((int8_t *) mem_181433)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180793 = ((int64_t *) mem_181436)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180794 = ((int64_t *) mem_181439)[new_index_180939 * perThread_175600 + new_index_180942];
                
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_142252)) {
                    ((int8_t *) mem_181795.mem)[write_iv_180791] = write_iv_180792;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_142252)) {
                    ((int64_t *) mem_181794.mem)[write_iv_180791] = write_iv_180793;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_142252)) {
                    ((int64_t *) mem_181792.mem)[write_iv_180791] = write_iv_180794;
                }
            }
            
            int64_t index_concat_branch_180023;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180024 = ((int64_t *) mem_181414)[index_concat_i_178364];
                
                index_concat_branch_180023 = index_concat_180024;
            } else {
                index_concat_branch_180023 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180025;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180026 = ((int64_t *) mem_181416)[index_concat_i_178364];
                
                index_concat_branch_180025 = index_concat_180026;
            } else {
                index_concat_branch_180025 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181795, "mem_181795") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181794, "mem_181794") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181792, "mem_181792") != 0)
                return 1;
            loopres_175590 = index_concat_branch_180023;
            loopres_175591 = index_concat_branch_180025;
        } else {
            int64_t leq_lhs_176581 = ((int64_t *) a_list_mem_181052.mem)[p_175562];
            int64_t leq_rhs_176584 = ((int64_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_176585 = sle64(leq_lhs_176581, leq_rhs_176584);
            int64_t lowest_176586;
            
            if (defunc_0_leq_res_176585) {
                bool index_certs_180027;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_lhs_176581;
            } else {
                bool index_certs_176591;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_rhs_176584;
            }
            if (mem_181069_cached_sizze_182956 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_182956, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181071_cached_sizze_182957 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_182957, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180802 = 0; i_180802 < threads_142253; i_180802++) {
                int64_t index_primexp_181018 = add64((int64_t) 1, i_180802);
                int64_t zs_lhs_176607 = mul64(zt_rhs_176600, index_primexp_181018);
                int64_t index_176608 = sdiv64(zs_lhs_176607, partitionFunc_arg0_176577);
                bool cond_176609 = slt64(window_sizze_142252, index_176608);
                int64_t loop_over_176610;
                
                if (cond_176609) {
                    loop_over_176610 = window_sizze_142252;
                } else {
                    loop_over_176610 = index_176608;
                }
                
                int64_t loop_over_176611;
                
                if (cond_176609) {
                    int64_t loop_over_t_res_180028 = sub64(index_176608, window_sizze_142252);
                    
                    loop_over_176611 = loop_over_t_res_180028;
                } else {
                    loop_over_176611 = (int64_t) 0;
                }
                
                int64_t loop_over_176613;
                
                if (cond_176609) {
                    int64_t zm_lhs_180029 = sub64(index_176608, window_sizze_142252);
                    int64_t loop_over_t_res_180030 = sub64(zm_lhs_180029, (int64_t) 1);
                    
                    loop_over_176613 = loop_over_t_res_180030;
                } else {
                    loop_over_176613 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176616;
                int64_t defunc_0_f_res_176617;
                int64_t defunc_0_f_res_176618;
                int64_t defunc_0_f_res_176619;
                bool loop_while_176620;
                int64_t p_176621;
                int64_t p_176622;
                int64_t p_176623;
                
                loop_while_176620 = 1;
                p_176621 = loop_over_176613;
                p_176622 = loop_over_176610;
                p_176623 = loop_over_176611;
                while (loop_while_176620) {
                    int64_t zs_lhs_176624 = sub64(p_176622, p_176621);
                    int64_t offset_176625 = sdiv64(zs_lhs_176624, (int64_t) 2);
                    int64_t ai_176626 = sub64(p_176622, offset_176625);
                    int64_t max_arg1_176627 = add64(p_176623, offset_176625);
                    int64_t max_res_176628 = smax64((int64_t) 0, max_arg1_176627);
                    bool cond_176629 = slt64((int64_t) 0, max_res_176628);
                    int64_t b_prev_176630;
                    
                    if (cond_176629) {
                        int64_t tmp_180031 = sub64(max_res_176628, (int64_t) 1);
                        bool x_180032 = sle64((int64_t) 0, tmp_180031);
                        bool y_180033 = slt64(tmp_180031, window_sizze_142252);
                        bool bounds_check_180034 = x_180032 && y_180033;
                        bool index_certs_180035;
                        
                        if (!bounds_check_180034) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180031, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180036 = p_175563 + tmp_180031;
                        int64_t b_prev_t_res_180037 = ((int64_t *) b_list_mem_181053.mem)[slice_180036];
                        
                        b_prev_176630 = b_prev_t_res_180037;
                    } else {
                        b_prev_176630 = lowest_176586;
                    }
                    
                    bool cond_176637 = sle64(ai_176626, (int64_t) 0);
                    int64_t loopres_176638;
                    int64_t loopres_176639;
                    int64_t loopres_176640;
                    bool loopres_176641;
                    
                    if (cond_176637) {
                        loopres_176638 = p_176621;
                        loopres_176639 = (int64_t) 0;
                        loopres_176640 = max_res_176628;
                        loopres_176641 = 0;
                    } else {
                        bool cond_176642 = sle64(window_sizze_142252, max_res_176628);
                        int64_t loopres_f_res_176643;
                        int64_t loopres_f_res_176644;
                        int64_t loopres_f_res_176645;
                        bool loopres_f_res_176646;
                        
                        if (cond_176642) {
                            int64_t min_res_180039 = smin64(m_175551, ai_176626);
                            bool x_180040 = sle64((int64_t) 0, m_175551);
                            bool y_180041 = slt64(m_175551, window_sizze_142252);
                            bool bounds_check_180042 = x_180040 && y_180041;
                            bool index_certs_180043;
                            
                            if (!bounds_check_180042) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180046 = sle64((int64_t) 0, min_res_180039);
                            bool y_180047 = slt64(min_res_180039, window_sizze_142252);
                            bool bounds_check_180048 = x_180046 && y_180047;
                            bool index_certs_180049;
                            
                            if (!bounds_check_180048) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180039, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_180045 = ((int64_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_180050 = p_175562 + min_res_180039;
                            int64_t leq_rhs_180051 = ((int64_t *) a_list_mem_181052.mem)[slice_180050];
                            bool defunc_0_leq_res_180052 = sle64(leq_lhs_180045, leq_rhs_180051);
                            int64_t loopres_f_res_t_res_180053;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180053 = ai_176626;
                            } else {
                                loopres_f_res_t_res_180053 = p_176622;
                            }
                            
                            bool x_180054 = !defunc_0_leq_res_180052;
                            int64_t loopres_f_res_t_res_180055;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180055 = window_sizze_142252;
                            } else {
                                int64_t tmp_180056 = sub64(m_175551, offset_176625);
                                
                                loopres_f_res_t_res_180055 = tmp_180056;
                            }
                            loopres_f_res_176643 = p_176621;
                            loopres_f_res_176644 = loopres_f_res_t_res_180053;
                            loopres_f_res_176645 = loopres_f_res_t_res_180055;
                            loopres_f_res_176646 = x_180054;
                        } else {
                            bool cond_176664 = sle64(window_sizze_142252, ai_176626);
                            int64_t loopres_f_res_f_res_176665;
                            int64_t loopres_f_res_f_res_176666;
                            int64_t loopres_f_res_f_res_176667;
                            bool loopres_f_res_f_res_176668;
                            
                            if (cond_176664) {
                                int64_t min_res_180058 = smin64(m_175551, max_res_176628);
                                bool x_180059 = sle64((int64_t) 0, m_175551);
                                bool y_180060 = slt64(m_175551, window_sizze_142252);
                                bool bounds_check_180061 = x_180059 && y_180060;
                                bool index_certs_180062;
                                
                                if (!bounds_check_180061) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180065 = sle64((int64_t) 0, min_res_180058);
                                bool y_180066 = slt64(min_res_180058, window_sizze_142252);
                                bool bounds_check_180067 = x_180065 && y_180066;
                                bool index_certs_180068;
                                
                                if (!bounds_check_180067) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180058, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_180064 = ((int64_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_180069 = p_175563 + min_res_180058;
                                int64_t leq_rhs_180070 = ((int64_t *) b_list_mem_181053.mem)[slice_180069];
                                bool defunc_0_leq_res_180071 = sle64(leq_lhs_180064, leq_rhs_180070);
                                int64_t loopres_f_res_f_res_t_res_180072;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180072 = max_res_176628;
                                } else {
                                    loopres_f_res_f_res_t_res_180072 = p_176623;
                                }
                                
                                bool x_180073 = !defunc_0_leq_res_180071;
                                int64_t loopres_f_res_f_res_t_res_180074;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180074 = window_sizze_142252;
                                } else {
                                    loopres_f_res_f_res_t_res_180074 = m_175551;
                                }
                                loopres_f_res_f_res_176665 = p_176621;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_t_res_180074;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_t_res_180072;
                                loopres_f_res_f_res_176668 = x_180073;
                            } else {
                                bool cond_176685 = sle64(p_176622, p_176621);
                                int64_t loopres_f_res_f_res_f_res_176686;
                                int64_t loopres_f_res_f_res_f_res_176687;
                                int64_t loopres_f_res_f_res_f_res_176688;
                                bool loopres_f_res_f_res_f_res_176689;
                                
                                if (cond_176685) {
                                    bool cond_180113 = slt64(ai_176626, window_sizze_142252);
                                    int64_t ai_180114;
                                    
                                    if (cond_180113) {
                                        ai_180114 = ai_176626;
                                    } else {
                                        ai_180114 = m_175551;
                                    }
                                    
                                    bool x_180127 = sle64((int64_t) 0, ai_180114);
                                    bool y_180128 = slt64(ai_180114, window_sizze_142252);
                                    bool bounds_check_180129 = x_180127 && y_180128;
                                    bool index_certs_180130;
                                    
                                    if (!bounds_check_180129) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180114, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_180116;
                                    
                                    if (cond_176629) {
                                        int64_t tmp_180117 = sub64(max_res_176628, (int64_t) 1);
                                        bool x_180118 = sle64((int64_t) 0, tmp_180117);
                                        bool y_180119 = slt64(tmp_180117, window_sizze_142252);
                                        bool bounds_check_180120 = x_180118 && y_180119;
                                        bool index_certs_180121;
                                        
                                        if (!bounds_check_180120) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180117, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180122 = p_175563 + tmp_180117;
                                        int64_t b_prev_t_res_180123 = ((int64_t *) b_list_mem_181053.mem)[slice_180122];
                                        
                                        b_prev_180116 = b_prev_t_res_180123;
                                    } else {
                                        bool index_certs_180125;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180116 = leq_rhs_176584;
                                    }
                                    
                                    int64_t slice_180131 = p_175562 + ai_180114;
                                    int64_t gt_lhs_180132 = ((int64_t *) a_list_mem_181052.mem)[slice_180131];
                                    bool defunc_0_gt_res_180133 = slt64(b_prev_180116, gt_lhs_180132);
                                    int64_t defunc_0_partFunc_sequential_search_res_180134;
                                    int64_t defunc_0_partFunc_sequential_search_res_180135;
                                    
                                    if (defunc_0_gt_res_180133) {
                                        int64_t zl_rhs_180136 = sub64(window_sizze_142252, max_res_176628);
                                        bool loop_cond_180137 = slt64((int64_t) 0, zl_rhs_180136);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180138;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180140;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180141;
                                        bool loop_while_180142;
                                        int64_t p_180143;
                                        int64_t p_180144;
                                        int64_t p_180145;
                                        
                                        loop_while_180142 = loop_cond_180137;
                                        p_180143 = ai_180114;
                                        p_180144 = max_res_176628;
                                        p_180145 = (int64_t) 0;
                                        while (loop_while_180142) {
                                            int64_t i_a_180146 = sub64(ai_180114, p_180145);
                                            int64_t i_b_180147 = add64(max_res_176628, p_180145);
                                            int64_t leq_lhs_180148 = sub64(i_a_180146, (int64_t) 1);
                                            bool x_180149 = sle64((int64_t) 0, leq_lhs_180148);
                                            bool y_180150 = slt64(leq_lhs_180148, window_sizze_142252);
                                            bool bounds_check_180151 = x_180149 && y_180150;
                                            bool index_certs_180152;
                                            
                                            if (!bounds_check_180151) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180148, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180155 = sle64((int64_t) 0, i_b_180147);
                                            bool y_180156 = slt64(i_b_180147, window_sizze_142252);
                                            bool bounds_check_180157 = x_180155 && y_180156;
                                            bool index_certs_180158;
                                            
                                            if (!bounds_check_180157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180147, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180153 = p_175562 + leq_lhs_180148;
                                            int64_t leq_lhs_180154 = ((int64_t *) a_list_mem_181052.mem)[slice_180153];
                                            int64_t slice_180159 = p_175563 + i_b_180147;
                                            int64_t leq_rhs_180160 = ((int64_t *) b_list_mem_181053.mem)[slice_180159];
                                            bool defunc_0_leq_res_180161 = sle64(leq_lhs_180154, leq_rhs_180160);
                                            int64_t loopres_180162;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180162 = i_a_180146;
                                            } else {
                                                loopres_180162 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180163;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180163 = i_b_180147;
                                            } else {
                                                loopres_180163 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180164;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180164 = zl_rhs_180136;
                                            } else {
                                                int64_t tmp_180165 = add64((int64_t) 1, p_180145);
                                                
                                                loopres_180164 = tmp_180165;
                                            }
                                            
                                            bool loop_cond_180166 = slt64(loopres_180164, zl_rhs_180136);
                                            bool loop_while_tmp_182578 = loop_cond_180166;
                                            int64_t p_tmp_182579 = loopres_180162;
                                            int64_t p_tmp_182580 = loopres_180163;
                                            int64_t p_tmp_182581 = loopres_180164;
                                            
                                            loop_while_180142 = loop_while_tmp_182578;
                                            p_180143 = p_tmp_182579;
                                            p_180144 = p_tmp_182580;
                                            p_180145 = p_tmp_182581;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180138 = loop_while_180142;
                                        defunc_0_partFunc_sequential_search_res_t_res_180139 = p_180143;
                                        defunc_0_partFunc_sequential_search_res_t_res_180140 = p_180144;
                                        defunc_0_partFunc_sequential_search_res_t_res_180141 = p_180145;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_t_res_180140;
                                    } else {
                                        int64_t zl_rhs_180167 = sub64(max_res_176628, (int64_t) 1);
                                        bool loop_cond_180168 = slt64((int64_t) 0, zl_rhs_180167);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180169;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180171;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180172;
                                        bool loop_while_180173;
                                        int64_t p_180174;
                                        int64_t p_180175;
                                        int64_t p_180176;
                                        
                                        loop_while_180173 = loop_cond_180168;
                                        p_180174 = ai_180114;
                                        p_180175 = max_res_176628;
                                        p_180176 = (int64_t) 0;
                                        while (loop_while_180173) {
                                            int64_t zp_lhs_180177 = add64(ai_180114, p_180176);
                                            int64_t hi_a_180178 = add64((int64_t) 1, zp_lhs_180177);
                                            bool cond_180179 = slt64(hi_a_180178, window_sizze_142252);
                                            int64_t i_a_180180;
                                            
                                            if (cond_180179) {
                                                i_a_180180 = hi_a_180178;
                                            } else {
                                                i_a_180180 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_180182 = sub64(max_res_176628, p_180176);
                                            int64_t i_b_180183 = sub64(zm_lhs_180182, (int64_t) 1);
                                            bool x_180184 = sle64((int64_t) 0, i_a_180180);
                                            bool y_180185 = slt64(i_a_180180, window_sizze_142252);
                                            bool bounds_check_180186 = x_180184 && y_180185;
                                            bool index_certs_180187;
                                            
                                            if (!bounds_check_180186) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180180, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180190 = sle64((int64_t) 0, i_b_180183);
                                            bool y_180191 = slt64(i_b_180183, window_sizze_142252);
                                            bool bounds_check_180192 = x_180190 && y_180191;
                                            bool index_certs_180193;
                                            
                                            if (!bounds_check_180192) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180183, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180188 = p_175562 + i_a_180180;
                                            int64_t gt_lhs_180189 = ((int64_t *) a_list_mem_181052.mem)[slice_180188];
                                            int64_t slice_180194 = p_175563 + i_b_180183;
                                            int64_t gt_rhs_180195 = ((int64_t *) b_list_mem_181053.mem)[slice_180194];
                                            bool defunc_0_gt_res_180196 = slt64(gt_rhs_180195, gt_lhs_180189);
                                            int64_t loopres_180197;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180197 = i_a_180180;
                                            } else {
                                                loopres_180197 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180198;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180198 = zm_lhs_180182;
                                            } else {
                                                loopres_180198 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180199;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180199 = zl_rhs_180167;
                                            } else {
                                                int64_t tmp_180200 = add64((int64_t) 1, p_180176);
                                                
                                                loopres_180199 = tmp_180200;
                                            }
                                            
                                            bool loop_cond_180201 = slt64(loopres_180199, zl_rhs_180167);
                                            bool loop_while_tmp_182582 = loop_cond_180201;
                                            int64_t p_tmp_182583 = loopres_180197;
                                            int64_t p_tmp_182584 = loopres_180198;
                                            int64_t p_tmp_182585 = loopres_180199;
                                            
                                            loop_while_180173 = loop_while_tmp_182582;
                                            p_180174 = p_tmp_182583;
                                            p_180175 = p_tmp_182584;
                                            p_180176 = p_tmp_182585;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180169 = loop_while_180173;
                                        defunc_0_partFunc_sequential_search_res_f_res_180170 = p_180174;
                                        defunc_0_partFunc_sequential_search_res_f_res_180171 = p_180175;
                                        defunc_0_partFunc_sequential_search_res_f_res_180172 = p_180176;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_f_res_180171;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = p_176621;
                                    loopres_f_res_f_res_f_res_176687 = defunc_0_partFunc_sequential_search_res_180134;
                                    loopres_f_res_f_res_f_res_176688 = defunc_0_partFunc_sequential_search_res_180135;
                                    loopres_f_res_f_res_f_res_176689 = 0;
                                } else {
                                    bool x_176773 = sle64((int64_t) 0, ai_176626);
                                    bool y_176774 = slt64(ai_176626, window_sizze_142252);
                                    bool bounds_check_176775 = x_176773 && y_176774;
                                    bool index_certs_176776;
                                    
                                    if (!bounds_check_176775) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176626, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178442 = p_175562 + ai_176626;
                                    int64_t gt_lhs_176777 = ((int64_t *) a_list_mem_181052.mem)[slice_178442];
                                    bool defunc_0_gt_res_176778 = slt64(b_prev_176630, gt_lhs_176777);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176779;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176780;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176781;
                                    bool loopres_f_res_f_res_f_res_f_res_176782;
                                    
                                    if (defunc_0_gt_res_176778) {
                                        int64_t leq_lhs_180202 = sub64(ai_176626, (int64_t) 1);
                                        bool x_180203 = sle64((int64_t) 0, leq_lhs_180202);
                                        bool y_180204 = slt64(leq_lhs_180202, window_sizze_142252);
                                        bool bounds_check_180205 = x_180203 && y_180204;
                                        bool index_certs_180206;
                                        
                                        if (!bounds_check_180205) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180202, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180209 = sle64((int64_t) 0, max_res_176628);
                                        bool y_180210 = slt64(max_res_176628, window_sizze_142252);
                                        bool bounds_check_180211 = x_180209 && y_180210;
                                        bool index_certs_180212;
                                        
                                        if (!bounds_check_180211) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176628, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180207 = p_175562 + leq_lhs_180202;
                                        int64_t leq_lhs_180208 = ((int64_t *) a_list_mem_181052.mem)[slice_180207];
                                        int64_t slice_180213 = p_175563 + max_res_176628;
                                        int64_t leq_rhs_180214 = ((int64_t *) b_list_mem_181053.mem)[slice_180213];
                                        bool defunc_0_leq_res_180215 = sle64(leq_lhs_180208, leq_rhs_180214);
                                        bool x_180216 = !defunc_0_leq_res_180215;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = ai_176626;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = leq_lhs_180202;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = max_res_176628;
                                        } else {
                                            int64_t tmp_180219 = add64((int64_t) 1, max_res_176628);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = tmp_180219;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176779 = p_176621;
                                        loopres_f_res_f_res_f_res_f_res_176780 = loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        loopres_f_res_f_res_f_res_f_res_176781 = loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        loopres_f_res_f_res_f_res_f_res_176782 = x_180216;
                                    } else {
                                        int64_t tmp_176799 = add64((int64_t) 1, ai_176626);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176779 = tmp_176799;
                                        loopres_f_res_f_res_f_res_f_res_176780 = p_176622;
                                        loopres_f_res_f_res_f_res_f_res_176781 = p_176623;
                                        loopres_f_res_f_res_f_res_f_res_176782 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = loopres_f_res_f_res_f_res_f_res_176779;
                                    loopres_f_res_f_res_f_res_176687 = loopres_f_res_f_res_f_res_f_res_176780;
                                    loopres_f_res_f_res_f_res_176688 = loopres_f_res_f_res_f_res_f_res_176781;
                                    loopres_f_res_f_res_f_res_176689 = loopres_f_res_f_res_f_res_f_res_176782;
                                }
                                loopres_f_res_f_res_176665 = loopres_f_res_f_res_f_res_176686;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_f_res_176687;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_f_res_176688;
                                loopres_f_res_f_res_176668 = loopres_f_res_f_res_f_res_176689;
                            }
                            loopres_f_res_176643 = loopres_f_res_f_res_176665;
                            loopres_f_res_176644 = loopres_f_res_f_res_176666;
                            loopres_f_res_176645 = loopres_f_res_f_res_176667;
                            loopres_f_res_176646 = loopres_f_res_f_res_176668;
                        }
                        loopres_176638 = loopres_f_res_176643;
                        loopres_176639 = loopres_f_res_176644;
                        loopres_176640 = loopres_f_res_176645;
                        loopres_176641 = loopres_f_res_176646;
                    }
                    
                    bool loop_while_tmp_182574 = loopres_176641;
                    int64_t p_tmp_182575 = loopres_176638;
                    int64_t p_tmp_182576 = loopres_176639;
                    int64_t p_tmp_182577 = loopres_176640;
                    
                    loop_while_176620 = loop_while_tmp_182574;
                    p_176621 = p_tmp_182575;
                    p_176622 = p_tmp_182576;
                    p_176623 = p_tmp_182577;
                }
                defunc_0_f_res_176616 = loop_while_176620;
                defunc_0_f_res_176617 = p_176621;
                defunc_0_f_res_176618 = p_176622;
                defunc_0_f_res_176619 = p_176623;
                ((int64_t *) mem_181069)[i_180802] = defunc_0_f_res_176618;
                ((int64_t *) mem_181071)[i_180802] = defunc_0_f_res_176619;
            }
            if (memblock_alloc(ctx, &mem_181084, window_sizze_142252, "mem_181084")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182586 = 0; nest_i_182586 < window_sizze_142252; nest_i_182586++) {
                ((int8_t *) mem_181084.mem)[nest_i_182586] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182587 = 0; nest_i_182587 < window_sizze_142252; nest_i_182587++) {
                ((int64_t *) mem_181086.mem)[nest_i_182587] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181088, bytes_181085, "mem_181088")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182588 = 0; nest_i_182588 < window_sizze_142252; nest_i_182588++) {
                ((int64_t *) mem_181088.mem)[nest_i_182588] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176826;
            int64_t defunc_0_mergeFunc_seq_res_176827;
            bool loop_while_176831;
            int64_t p_176832;
            
            loop_while_176831 = loop_cond_176825;
            p_176832 = (int64_t) 0;
            while (loop_while_176831) {
                bool x_176836 = sle64((int64_t) 0, p_176832);
                bool y_176837 = slt64(p_176832, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176838 = x_176836 && y_176837;
                bool index_certs_176839;
                
                if (!bounds_check_176838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176832, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178425 = sle64((int64_t) 1, p_176832);
                int64_t index_concat_i_178426 = sub64(p_176832, (int64_t) 1);
                int64_t index_concat_178427;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180220 = ((int64_t *) mem_181069)[index_concat_i_178426];
                    
                    index_concat_178427 = x_180220;
                } else {
                    index_concat_178427 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178429;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178429 = index_concat_178427;
                } else {
                    index_concat_branch_178429 = (int64_t) 0;
                }
                
                int64_t index_concat_178421;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180221 = ((int64_t *) mem_181071)[index_concat_i_178426];
                    
                    index_concat_178421 = x_180221;
                } else {
                    index_concat_178421 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178423;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178423 = index_concat_178421;
                } else {
                    index_concat_branch_178423 = (int64_t) 0;
                }
                
                int64_t ubs_176842 = add64((int64_t) 1, p_176832);
                bool x_176843 = sle64((int64_t) 0, ubs_176842);
                bool y_176844 = slt64(ubs_176842, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176845 = x_176843 && y_176844;
                bool index_certs_176846;
                
                if (!bounds_check_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178413 = sle64((int64_t) 1, ubs_176842);
                int64_t index_concat_178415;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180222 = ((int64_t *) mem_181069)[p_176832];
                    
                    index_concat_178415 = x_180222;
                } else {
                    index_concat_178415 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178417;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178417 = index_concat_178415;
                } else {
                    index_concat_branch_178417 = (int64_t) 0;
                }
                
                int64_t index_concat_178409;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180223 = ((int64_t *) mem_181071)[p_176832];
                    
                    index_concat_178409 = x_180223;
                } else {
                    index_concat_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178411;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178411 = index_concat_178409;
                } else {
                    index_concat_branch_178411 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 = sub64(index_concat_branch_178411, index_concat_branch_178423);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 = sub64(index_concat_branch_178417, index_concat_branch_178429);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t ind_bottom_176852 = add64(index_concat_branch_178423, index_concat_branch_178429);
                int64_t ind_top_176853 = add64(index_concat_branch_178411, index_concat_branch_178417);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 = sub64(ind_top_176853, ind_bottom_176852);
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178429);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_142252);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178429);
                bool i_lte_j_176861 = sle64(index_concat_branch_178429, index_concat_branch_178417);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178429, ":", (long long) index_concat_branch_178417, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178417, index_concat_branch_178429);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178429, "..<", (long long) index_concat_branch_178417, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176875 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 == (int64_t) 0;
                int64_t m_176876 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, (int64_t) 1);
                int64_t i_p_m_t_s_176877 = add64(m_176876, index_concat_branch_178423);
                bool zzero_leq_i_p_m_t_s_176878 = sle64((int64_t) 0, i_p_m_t_s_176877);
                bool i_p_m_t_s_leq_w_176879 = slt64(i_p_m_t_s_176877, window_sizze_142252);
                bool zzero_lte_i_176880 = sle64((int64_t) 0, index_concat_branch_178423);
                bool i_lte_j_176881 = sle64(index_concat_branch_178423, index_concat_branch_178411);
                bool y_176882 = i_p_m_t_s_leq_w_176879 && zzero_lte_i_176880;
                bool y_176883 = zzero_leq_i_p_m_t_s_176878 && y_176882;
                bool forwards_ok_176884 = i_lte_j_176881 && y_176883;
                bool ok_or_empty_176885 = empty_slice_176875 || forwards_ok_176884;
                bool index_certs_176886;
                
                if (!ok_or_empty_176885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178423, ":", (long long) index_concat_branch_178411, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176887 = slt64(index_concat_branch_178411, index_concat_branch_178423);
                bool valid_176888 = !bounds_invalid_upwards_176887;
                bool range_valid_c_176889;
                
                if (!valid_176888) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178423, "..<", (long long) index_concat_branch_178411, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181105 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool cond_176898 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zs_lhs_176899 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zp_rhs_176900 = sdiv_safe64(zs_lhs_176899, (int64_t) 20);
                int64_t min_num_blocks_176901 = add64((int64_t) 1, zp_rhs_176900);
                bool loop_cond_176902 = slt64((int64_t) 1, min_num_blocks_176901);
                bool smallest_pow_2_geq_than_res_176903;
                int64_t smallest_pow_2_geq_than_res_176904;
                bool loop_while_176905;
                int64_t x_176906;
                
                loop_while_176905 = loop_cond_176902;
                x_176906 = (int64_t) 1;
                while (loop_while_176905) {
                    int64_t loopres_176907 = mul64((int64_t) 2, x_176906);
                    bool loop_cond_176908 = slt64(loopres_176907, min_num_blocks_176901);
                    bool loop_while_tmp_182594 = loop_cond_176908;
                    int64_t x_tmp_182595 = loopres_176907;
                    
                    loop_while_176905 = loop_while_tmp_182594;
                    x_176906 = x_tmp_182595;
                }
                smallest_pow_2_geq_than_res_176903 = loop_while_176905;
                smallest_pow_2_geq_than_res_176904 = x_176906;
                
                bool zzero_176909 = smallest_pow_2_geq_than_res_176904 == (int64_t) 0;
                bool nonzzero_176910 = !zzero_176909;
                bool protect_assert_disj_176911 = cond_176898 || nonzzero_176910;
                bool nonzzero_cert_176912;
                
                if (!protect_assert_disj_176911) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176913 = sdiv_safe64(zs_lhs_176899, smallest_pow_2_geq_than_res_176904);
                int64_t block_sizze_176914 = add64((int64_t) 1, zp_rhs_176913);
                bool y_176921 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                bool protect_assert_disj_182258 = cond_176898 || y_176921;
                bool index_certs_176922;
                
                if (!protect_assert_disj_182258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(smallest_pow_2_geq_than_res_176904, (int64_t) 0);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool protect_assert_disj_182268 = cond_176898 || valid_176949;
                bool range_valid_c_176950;
                
                if (!protect_assert_disj_182268) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176904, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176952 = slt64(block_sizze_176914, (int64_t) 0);
                bool valid_176953 = !bounds_invalid_upwards_176952;
                bool protect_assert_disj_182270 = cond_176898 || valid_176953;
                bool range_valid_c_176954;
                
                if (!protect_assert_disj_182270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176914, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176956 = sle64(block_sizze_176914, (int64_t) 1);
                int64_t tmp_176957 = sub64(block_sizze_176914, (int64_t) 2);
                bool bounds_invalid_upwards_176958 = slt64(tmp_176957, (int64_t) 0);
                bool valid_176960 = !bounds_invalid_upwards_176958;
                bool protect_assert_disj_176961 = cond_176956 || valid_176960;
                bool protect_assert_disj_182272 = cond_176898 || protect_assert_disj_176961;
                bool range_valid_c_176962;
                
                if (!protect_assert_disj_182272) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176957, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177523 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool empty_or_match_cert_177524;
                
                if (!dim_match_177523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "](i8, i64, i64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177525 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == (int64_t) 0;
                int64_t m_177526 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177527 = sle64((int64_t) 0, m_177526);
                bool i_p_m_t_s_leq_w_177528 = slt64(m_177526, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854);
                bool y_177529 = zzero_leq_i_p_m_t_s_177527 && i_p_m_t_s_leq_w_177528;
                bool ok_or_empty_177530 = empty_slice_177525 || y_177529;
                bool index_certs_177531;
                
                if (!ok_or_empty_177530) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177532 = add64(ind_bottom_176852, m_177526);
                bool zzero_leq_i_p_m_t_s_177533 = sle64((int64_t) 0, i_p_m_t_s_177532);
                bool i_p_m_t_s_leq_w_177534 = slt64(i_p_m_t_s_177532, window_sizze_142252);
                bool zzero_lte_i_177535 = sle64((int64_t) 0, ind_bottom_176852);
                bool i_lte_j_177536 = sle64(ind_bottom_176852, ind_top_176853);
                bool y_177537 = i_p_m_t_s_leq_w_177534 && zzero_lte_i_177535;
                bool y_177538 = zzero_leq_i_p_m_t_s_177533 && y_177537;
                bool forwards_ok_177539 = i_lte_j_177536 && y_177538;
                bool ok_or_empty_177540 = empty_slice_177525 || forwards_ok_177539;
                bool index_certs_177541;
                
                if (!ok_or_empty_177540) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176852, ":", (long long) ind_top_176853, "] out of bounds for array of shape [", (long long) window_sizze_142252, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178405 = p_175562 + index_concat_branch_178429;
                
                if (memblock_alloc(ctx, &mem_181104, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "mem_181104")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182596 = 0; nest_i_182596 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; nest_i_182596++) {
                    ((int8_t *) mem_181104.mem)[nest_i_182596] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181106, bytes_181105, "mem_181106")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182597 = 0; i_182597 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; i_182597++) {
                    int64_t x_182598 = index_concat_branch_178429 + i_182597 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[i_182597] = x_182598;
                }
                
                int64_t slice_178404 = p_175563 + index_concat_branch_178423;
                
                for (int64_t nest_i_182599 = 0; nest_i_182599 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; nest_i_182599++) {
                    ((int8_t *) mem_181104.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + nest_i_182599] = (int8_t) 1;
                }
                for (int64_t i_182600 = 0; i_182600 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; i_182600++) {
                    int64_t x_182601 = index_concat_branch_178423 + i_182600 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + i_182600] = x_182601;
                }
                
                int64_t tmp_offs_182602 = (int64_t) 0;
                
                if (!(tmp_offs_182602 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182602 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t tmp_offs_182603 = (int64_t) 0;
                
                if (!(tmp_offs_182603 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182603 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                if (memblock_alloc(ctx, &mem_181108, bytes_181105, "mem_181108")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182604 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, slice_178405, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, slice_178404, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t flat_dim_176915 = smallest_pow_2_geq_than_res_176904 * block_sizze_176914;
                bool x_182253 = !cond_176898;
                int64_t greatest_divisor_leq_than_arg1_176919 = mul64((int64_t) 2, block_sizze_176914);
                int64_t merge_block_sizze_176920;
                
                if (x_182253) {
                    int64_t x_182255;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182255, (int64_t) 8, greatest_divisor_leq_than_arg1_176919) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176920 = x_182255;
                } else {
                    merge_block_sizze_176920 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178399 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 0);
                int8_t index_concat_branch_178403 = btoi_bool_i8(index_concat_cmp_178399);
                int64_t index_concat_i_180224 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t index_primexp_180225 = add64(index_concat_branch_178423, index_concat_i_180224);
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178397 = index_primexp_180225;
                } else {
                    index_concat_branch_178397 = index_concat_branch_178429;
                }
                
                bool x_182249 = !index_concat_cmp_178399;
                bool protect_cond_conj_182259 = x_182249 && x_182253;
                int64_t index_concat_178390;
                
                if (protect_cond_conj_182259) {
                    int64_t x_182251 = ((int64_t *) a_list_mem_181052.mem)[slice_178405];
                    
                    index_concat_178390 = x_182251;
                } else {
                    index_concat_178390 = (int64_t) 0;
                }
                
                int64_t slice_180227 = slice_178404 + index_concat_i_180224;
                bool protect_cond_conj_182260 = index_concat_cmp_178399 && x_182253;
                int64_t index_concat_180228;
                
                if (protect_cond_conj_182260) {
                    int64_t x_182247 = ((int64_t *) b_list_mem_181053.mem)[slice_180227];
                    
                    index_concat_180228 = x_182247;
                } else {
                    index_concat_180228 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178391 = index_concat_180228;
                } else {
                    index_concat_branch_178391 = index_concat_178390;
                }
                
                int8_t defunc_0_reduce_res_180459;
                int64_t defunc_0_reduce_res_180460;
                int64_t defunc_0_reduce_res_180461;
                
                if (x_182253) {
                    int8_t x_182261;
                    int64_t x_182262;
                    int64_t x_182263;
                    int8_t redout_180805;
                    int64_t redout_180806;
                    int64_t redout_180807;
                    
                    redout_180805 = index_concat_branch_178403;
                    redout_180806 = index_concat_branch_178397;
                    redout_180807 = index_concat_branch_178391;
                    for (int64_t i_180808 = 0; i_180808 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851; i_180808++) {
                        bool index_concat_cmp_181012 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, i_180808);
                        int8_t index_concat_branch_181016 = btoi_bool_i8(index_concat_cmp_181012);
                        int64_t index_concat_branch_181010;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181007 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t index_primexp_181034 = add64(index_concat_branch_178423, index_concat_i_181007);
                            
                            index_concat_branch_181010 = index_primexp_181034;
                        } else {
                            int64_t index_primexp_181036 = add64(index_concat_branch_178429, i_180808);
                            
                            index_concat_branch_181010 = index_primexp_181036;
                        }
                        
                        int64_t index_concat_branch_181004;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181001 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t slice_181031 = slice_178404 + index_concat_i_181001;
                            int64_t index_concat_181002 = ((int64_t *) b_list_mem_181053.mem)[slice_181031];
                            
                            index_concat_branch_181004 = index_concat_181002;
                        } else {
                            int64_t slice_181032 = slice_178405 + i_180808;
                            int64_t index_concat_181003 = ((int64_t *) a_list_mem_181052.mem)[slice_181032];
                            
                            index_concat_branch_181004 = index_concat_181003;
                        }
                        
                        bool eq_x_y_181047 = redout_180805 == (int8_t) 1;
                        bool eq_x_zz_181048 = redout_180805 == (int8_t) 0;
                        bool p_and_eq_x_y_181049 = index_concat_cmp_181012 && eq_x_y_181047;
                        bool not_p_181050 = !index_concat_cmp_181012;
                        bool p_and_eq_x_y_181051 = eq_x_zz_181048 && not_p_181050;
                        bool cond_176938 = p_and_eq_x_y_181049 || p_and_eq_x_y_181051;
                        bool defunc_0_leq_res_t_res_176939 = sle64(redout_180806, index_concat_branch_181010);
                        bool defunc_0_leq_res_176940 = sle64(redout_180807, index_concat_branch_181004);
                        bool x_176941 = cond_176938 && defunc_0_leq_res_t_res_176939;
                        bool x_176942 = !cond_176938;
                        bool y_176943 = defunc_0_leq_res_176940 && x_176942;
                        bool defunc_0_leq_res_176944 = x_176941 || y_176943;
                        int8_t defunc_0_op_res_176945;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176945 = index_concat_branch_181016;
                        } else {
                            defunc_0_op_res_176945 = redout_180805;
                        }
                        
                        int64_t defunc_0_op_res_176946;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176946 = index_concat_branch_181010;
                        } else {
                            defunc_0_op_res_176946 = redout_180806;
                        }
                        
                        int64_t defunc_0_op_res_176947;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176947 = index_concat_branch_181004;
                        } else {
                            defunc_0_op_res_176947 = redout_180807;
                        }
                        
                        int8_t redout_tmp_182605 = defunc_0_op_res_176945;
                        int64_t redout_tmp_182606 = defunc_0_op_res_176946;
                        int64_t redout_tmp_182607 = defunc_0_op_res_176947;
                        
                        redout_180805 = redout_tmp_182605;
                        redout_180806 = redout_tmp_182606;
                        redout_180807 = redout_tmp_182607;
                    }
                    x_182261 = redout_180805;
                    x_182262 = redout_180806;
                    x_182263 = redout_180807;
                    defunc_0_reduce_res_180459 = x_182261;
                    defunc_0_reduce_res_180460 = x_182262;
                    defunc_0_reduce_res_180461 = x_182263;
                } else {
                    defunc_0_reduce_res_180459 = (int8_t) 0;
                    defunc_0_reduce_res_180460 = (int64_t) 0;
                    defunc_0_reduce_res_180461 = (int64_t) 0;
                }
                
                int64_t distance_176959 = add64((int64_t) 1, tmp_176957);
                int64_t binop_x_181111 = (int64_t) 8 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181112 = block_sizze_176914 * binop_x_181111;
                int64_t bytes_181130 = (int64_t) 8 * block_sizze_176914;
                bool loop_cond_177068 = slt64(block_sizze_176914, flat_dim_176915);
                bool zzero_177069 = merge_block_sizze_176920 == (int64_t) 0;
                bool nonzzero_177070 = !zzero_177069;
                
                if (cond_176898) {
                    if (memblock_set(ctx, &ext_mem_181403, &mem_181104, "mem_181104") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_181106, "mem_181106") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &mem_181108, "mem_181108") != 0)
                        return 1;
                } else {
                    if (mem_181110_cached_sizze_182958 < flat_dim_176915) {
                        err = lexical_realloc(ctx, &mem_181110, &mem_181110_cached_sizze_182958, flat_dim_176915);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182959 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182959, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181116_cached_sizze_182960 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181116, &mem_181116_cached_sizze_182960, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181129_cached_sizze_182961 < block_sizze_176914) {
                        err = lexical_realloc(ctx, &mem_181129, &mem_181129_cached_sizze_182961, block_sizze_176914);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181131_cached_sizze_182962 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_182962, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181133_cached_sizze_182963 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182963, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180825 = 0; i_180825 < smallest_pow_2_geq_than_res_176904; i_180825++) {
                        int64_t zp_lhs_176967 = mul64(block_sizze_176914, i_180825);
                        
                        for (int64_t i_180815 = 0; i_180815 < block_sizze_176914; i_180815++) {
                            int64_t k_176972 = add64(zp_lhs_176967, i_180815);
                            bool cond_176973 = slt64(k_176972, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                            int8_t lifted_lambda_res_176974;
                            int64_t lifted_lambda_res_176975;
                            int64_t lifted_lambda_res_176976;
                            
                            if (cond_176973) {
                                bool x_180234 = sle64((int64_t) 0, k_176972);
                                bool bounds_check_180235 = cond_176973 && x_180234;
                                bool index_certs_180236;
                                
                                if (!bounds_check_180235) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176972, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180237 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, k_176972);
                                int8_t index_concat_branch_180238 = btoi_bool_i8(index_concat_cmp_180237);
                                int64_t index_concat_branch_180239;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180240 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t index_primexp_180241 = add64(index_concat_branch_178423, index_concat_i_180240);
                                    
                                    index_concat_branch_180239 = index_primexp_180241;
                                } else {
                                    int64_t index_primexp_180242 = add64(k_176972, index_concat_branch_178429);
                                    
                                    index_concat_branch_180239 = index_primexp_180242;
                                }
                                
                                int64_t index_concat_branch_180243;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180244 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t slice_180245 = slice_178404 + index_concat_i_180244;
                                    int64_t index_concat_180246 = ((int64_t *) b_list_mem_181053.mem)[slice_180245];
                                    
                                    index_concat_branch_180243 = index_concat_180246;
                                } else {
                                    int64_t slice_180247 = k_176972 + slice_178405;
                                    int64_t index_concat_180248 = ((int64_t *) a_list_mem_181052.mem)[slice_180247];
                                    
                                    index_concat_branch_180243 = index_concat_180248;
                                }
                                lifted_lambda_res_176974 = index_concat_branch_180238;
                                lifted_lambda_res_176975 = index_concat_branch_180239;
                                lifted_lambda_res_176976 = index_concat_branch_180243;
                            } else {
                                lifted_lambda_res_176974 = defunc_0_reduce_res_180459;
                                lifted_lambda_res_176975 = defunc_0_reduce_res_180460;
                                lifted_lambda_res_176976 = defunc_0_reduce_res_180461;
                            }
                            ((int8_t *) mem_181129)[i_180815] = lifted_lambda_res_176974;
                            ((int64_t *) mem_181131)[i_180815] = lifted_lambda_res_176975;
                            ((int64_t *) mem_181133)[i_180815] = lifted_lambda_res_176976;
                        }
                        if (!cond_176956) {
                            for (int64_t i_176989 = 0; i_176989 < distance_176959; i_176989++) {
                                int64_t gt_arg1_176993 = add64((int64_t) 1, i_176989);
                                bool x_176994 = sle64((int64_t) 0, gt_arg1_176993);
                                bool y_176995 = slt64(gt_arg1_176993, block_sizze_176914);
                                bool bounds_check_176996 = x_176994 && y_176995;
                                bool index_certs_176997;
                                
                                if (!bounds_check_176996) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176993, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177001 = slt64(i_176989, block_sizze_176914);
                                bool index_certs_177002;
                                
                                if (!y_177001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176989, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176998 = ((int8_t *) mem_181129)[gt_arg1_176993];
                                int64_t gt_arg1_176999 = ((int64_t *) mem_181131)[gt_arg1_176993];
                                int64_t gt_arg1_177000 = ((int64_t *) mem_181133)[gt_arg1_176993];
                                int8_t gt_arg0_177003 = ((int8_t *) mem_181129)[i_176989];
                                int64_t gt_arg0_177004 = ((int64_t *) mem_181131)[i_176989];
                                int64_t gt_arg0_177005 = ((int64_t *) mem_181133)[i_176989];
                                bool cond_177006 = gt_arg0_177003 == gt_arg1_176998;
                                bool defunc_0_leq_res_t_res_177007 = sle64(gt_arg0_177004, gt_arg1_176999);
                                bool defunc_0_leq_res_177008 = sle64(gt_arg0_177005, gt_arg1_177000);
                                bool x_177009 = cond_177006 && defunc_0_leq_res_t_res_177007;
                                bool x_177010 = !cond_177006;
                                bool y_177011 = defunc_0_leq_res_177008 && x_177010;
                                bool defunc_0_leq_res_177012 = x_177009 || y_177011;
                                bool defunc_0_lifted_gt_res_177013 = !defunc_0_leq_res_177012;
                                bool s_177014;
                                int64_t s_177018;
                                bool loop_while_177019;
                                int64_t j_177023;
                                
                                loop_while_177019 = defunc_0_lifted_gt_res_177013;
                                j_177023 = i_176989;
                                while (loop_while_177019) {
                                    bool x_177024 = sle64((int64_t) 0, j_177023);
                                    bool y_177025 = slt64(j_177023, block_sizze_176914);
                                    bool bounds_check_177026 = x_177024 && y_177025;
                                    bool index_certs_177027;
                                    
                                    if (!bounds_check_177026) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177023, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177031 = add64((int64_t) 1, j_177023);
                                    bool x_177032 = sle64((int64_t) 0, copy_arg0_177031);
                                    bool y_177033 = slt64(copy_arg0_177031, block_sizze_176914);
                                    bool bounds_check_177034 = x_177032 && y_177033;
                                    bool index_certs_177035;
                                    
                                    if (!bounds_check_177034) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177031, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177028 = ((int8_t *) mem_181129)[j_177023];
                                    int64_t copy_arg0_177029 = ((int64_t *) mem_181131)[j_177023];
                                    int64_t copy_arg0_177030 = ((int64_t *) mem_181133)[j_177023];
                                    int8_t copy_arg0_177036 = ((int8_t *) mem_181129)[copy_arg0_177031];
                                    int64_t copy_arg0_177037 = ((int64_t *) mem_181131)[copy_arg0_177031];
                                    int64_t copy_arg0_177038 = ((int64_t *) mem_181133)[copy_arg0_177031];
                                    
                                    ((int8_t *) mem_181129)[j_177023] = copy_arg0_177036;
                                    ((int64_t *) mem_181131)[j_177023] = copy_arg0_177037;
                                    ((int64_t *) mem_181133)[j_177023] = copy_arg0_177038;
                                    ((int8_t *) mem_181129)[copy_arg0_177031] = copy_arg0_177028;
                                    ((int64_t *) mem_181131)[copy_arg0_177031] = copy_arg0_177029;
                                    ((int64_t *) mem_181133)[copy_arg0_177031] = copy_arg0_177030;
                                    
                                    int64_t tmp_177045 = sub64(j_177023, (int64_t) 1);
                                    bool cond_177046 = sle64((int64_t) 0, tmp_177045);
                                    bool loop_cond_177047;
                                    
                                    if (cond_177046) {
                                        bool y_180252 = slt64(tmp_177045, block_sizze_176914);
                                        bool bounds_check_180253 = cond_177046 && y_180252;
                                        bool index_certs_180254;
                                        
                                        if (!bounds_check_180253) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177045, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180249 = ((int8_t *) mem_181129)[j_177023];
                                        int64_t gt_arg1_180250 = ((int64_t *) mem_181131)[j_177023];
                                        int64_t gt_arg1_180251 = ((int64_t *) mem_181133)[j_177023];
                                        int8_t gt_arg0_180255 = ((int8_t *) mem_181129)[tmp_177045];
                                        int64_t gt_arg0_180256 = ((int64_t *) mem_181131)[tmp_177045];
                                        int64_t gt_arg0_180257 = ((int64_t *) mem_181133)[tmp_177045];
                                        bool cond_180258 = gt_arg0_180255 == gt_arg1_180249;
                                        bool defunc_0_leq_res_t_res_180259 = sle64(gt_arg0_180256, gt_arg1_180250);
                                        bool defunc_0_leq_res_180260 = sle64(gt_arg0_180257, gt_arg1_180251);
                                        bool x_180261 = cond_180258 && defunc_0_leq_res_t_res_180259;
                                        bool x_180262 = !cond_180258;
                                        bool y_180263 = defunc_0_leq_res_180260 && x_180262;
                                        bool defunc_0_leq_res_180264 = x_180261 || y_180263;
                                        bool defunc_0_lifted_gt_res_180265 = !defunc_0_leq_res_180264;
                                        
                                        loop_cond_177047 = defunc_0_lifted_gt_res_180265;
                                    } else {
                                        loop_cond_177047 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182617 = loop_cond_177047;
                                    int64_t j_tmp_182621 = tmp_177045;
                                    
                                    loop_while_177019 = loop_while_tmp_182617;
                                    j_177023 = j_tmp_182621;
                                }
                                s_177014 = loop_while_177019;
                                s_177018 = j_177023;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181110, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181129, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181131, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181116, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181133, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                    }
                    if (memblock_alloc(ctx, &mem_181210, flat_dim_176915, "mem_181210")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181210.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint8_t *) mem_181110, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181214, bytes_181112, "mem_181214")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181214.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181218, bytes_181112, "mem_181218")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181218.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181116, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    
                    int64_t data_177071;
                    bool data_177072;
                    int64_t data_177076;
                    int64_t loop_dz2084Uz2082U_177077;
                    bool loop_while_177078;
                    int64_t stride_177082;
                    
                    if (memblock_set(ctx, &mem_param_181222, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181225, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181228, &mem_181218, "mem_181218") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177077 = flat_dim_176915;
                    loop_while_177078 = loop_cond_177068;
                    stride_177082 = block_sizze_176914;
                    while (loop_while_177078) {
                        int64_t next_stride_177083 = mul64((int64_t) 2, stride_177082);
                        bool zzero_177084 = next_stride_177083 == (int64_t) 0;
                        bool nonzzero_177085 = !zzero_177084;
                        bool nonzzero_cert_177086;
                        
                        if (!nonzzero_177085) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177087 = sdiv64(flat_dim_176915, next_stride_177083);
                        bool bounds_invalid_upwards_177088 = slt64(num_merges_177087, (int64_t) 0);
                        bool valid_177089 = !bounds_invalid_upwards_177088;
                        bool range_valid_c_177090;
                        
                        if (!valid_177089) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177087, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177092 = sub64(next_stride_177083, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177093 = sle64((int64_t) 0, m_177092);
                        bool cond_177095 = slt64(next_stride_177083, (int64_t) 10);
                        bool protect_assert_disj_177096 = nonzzero_177070 || cond_177095;
                        bool nonzzero_cert_177097;
                        
                        if (!protect_assert_disj_177096) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177098 = smod_safe64(next_stride_177083, merge_block_sizze_176920);
                        bool num_blocks_177099 = zeze_lhs_177098 == (int64_t) 0;
                        bool protect_assert_disj_177100 = cond_177095 || num_blocks_177099;
                        bool assert_c_177101;
                        
                        if (!protect_assert_disj_177100) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177103 = sdiv_safe64(next_stride_177083, merge_block_sizze_176920);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104 = add64((int64_t) 1, num_blocks_177103);
                        int64_t j_m_i_177105 = sub64(next_stride_177083, stride_177082);
                        int64_t flat_dim_177106 = merge_block_sizze_176920 * num_blocks_177103;
                        bool bounds_invalid_upwards_177107 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, (int64_t) 0);
                        bool empty_slice_177108 = j_m_i_177105 == (int64_t) 0;
                        int64_t m_177109 = sub64(j_m_i_177105, (int64_t) 1);
                        bool zzero_lte_i_177110 = sle64((int64_t) 0, stride_177082);
                        bool i_lte_j_177111 = sle64(stride_177082, next_stride_177083);
                        bool empty_slice_177112 = stride_177082 == (int64_t) 0;
                        int64_t m_177113 = sub64(stride_177082, (int64_t) 1);
                        bool bounds_invalid_upwards_177114 = slt64(num_blocks_177103, (int64_t) 0);
                        bool cond_177115 = slt64((int64_t) 0, stride_177082);
                        bool valid_177116 = !bounds_invalid_upwards_177107;
                        int64_t i_p_m_t_s_177117 = add64(stride_177082, m_177109);
                        bool zzero_leq_i_p_m_t_s_177118 = sle64((int64_t) 0, m_177113);
                        bool i_p_m_t_s_leq_w_177119 = slt64(m_177113, next_stride_177083);
                        bool valid_177120 = !bounds_invalid_upwards_177114;
                        bool i_p_m_t_s_leq_w_177121 = slt64(m_177092, flat_dim_177106);
                        bool y_177122 = slt64((int64_t) 0, j_m_i_177105);
                        bool protect_assert_disj_177123 = cond_177095 || valid_177116;
                        bool range_valid_c_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177125 = sle64((int64_t) 0, i_p_m_t_s_177117);
                        bool i_p_m_t_s_leq_w_177126 = slt64(i_p_m_t_s_177117, next_stride_177083);
                        bool y_177127 = zzero_leq_i_p_m_t_s_177118 && i_p_m_t_s_leq_w_177119;
                        bool protect_assert_disj_177128 = cond_177095 || valid_177120;
                        bool range_valid_c_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177103, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177130 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177121;
                        bool y_177131 = zzero_lte_i_177110 && i_p_m_t_s_leq_w_177126;
                        bool forwards_ok_177132 = zzero_lte_i_177110 && y_177127;
                        bool ok_or_empty_177133 = zzero_177084 || y_177130;
                        bool protect_assert_disj_177134 = cond_177115 || y_177122;
                        bool y_177135 = zzero_leq_i_p_m_t_s_177125 && y_177131;
                        bool ok_or_empty_177136 = empty_slice_177112 || forwards_ok_177132;
                        bool protect_assert_disj_177137 = cond_177095 || ok_or_empty_177133;
                        bool index_certs_177138;
                        
                        if (!protect_assert_disj_177137) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) flat_dim_177106, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177139 = !cond_177095;
                        bool protect_assert_disj_177140 = protect_assert_disj_177134 || loop_not_taken_177139;
                        bool index_certs_177141;
                        
                        if (!protect_assert_disj_177140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177142 = i_lte_j_177111 && y_177135;
                        bool protect_assert_disj_177143 = cond_177095 || ok_or_empty_177136;
                        bool index_certs_177144;
                        
                        if (!protect_assert_disj_177143) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177145 = ok_or_empty_177136 || loop_not_taken_177139;
                        bool index_certs_177146;
                        
                        if (!protect_assert_disj_177145) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177147 = empty_slice_177108 || forwards_ok_177142;
                        bool protect_assert_disj_177148 = cond_177095 || ok_or_empty_177147;
                        bool index_certs_177149;
                        
                        if (!protect_assert_disj_177148) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177150 = loop_not_taken_177139 || ok_or_empty_177147;
                        bool index_certs_177151;
                        
                        if (!protect_assert_disj_177150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181229 = next_stride_177083 * num_merges_177087;
                        int64_t binop_x_181231 = (int64_t) 8 * num_merges_177087;
                        int64_t bytes_181232 = next_stride_177083 * binop_x_181231;
                        bool i_lte_j_177094 = sle64((int64_t) 0, next_stride_177083);
                        
                        if (mem_181230_cached_sizze_182964 < bytes_181229) {
                            err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182964, bytes_181229);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181233_cached_sizze_182965 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181233, &mem_181233_cached_sizze_182965, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181236_cached_sizze_182966 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182966, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181249 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104;
                        int64_t binop_x_181267 = (int64_t) 8 * num_blocks_177103;
                        int64_t bytes_181268 = merge_block_sizze_176920 * binop_x_181267;
                        int64_t bytes_181332 = (int64_t) 16 * stride_177082;
                        
                        for (int64_t i_180852 = 0; i_180852 < num_merges_177087; i_180852++) {
                            int64_t start_177156 = mul64(next_stride_177083, i_180852);
                            int64_t j_m_i_177157 = sub64(loop_dz2084Uz2082U_177077, start_177156);
                            bool empty_slice_177158 = j_m_i_177157 == (int64_t) 0;
                            int64_t m_177159 = sub64(j_m_i_177157, (int64_t) 1);
                            int64_t i_p_m_t_s_177160 = add64(start_177156, m_177159);
                            bool zzero_leq_i_p_m_t_s_177161 = sle64((int64_t) 0, i_p_m_t_s_177160);
                            bool i_p_m_t_s_leq_w_177162 = slt64(i_p_m_t_s_177160, loop_dz2084Uz2082U_177077);
                            bool zzero_lte_i_177163 = sle64((int64_t) 0, start_177156);
                            bool i_lte_j_177164 = sle64(start_177156, loop_dz2084Uz2082U_177077);
                            bool y_177165 = i_p_m_t_s_leq_w_177162 && zzero_lte_i_177163;
                            bool y_177166 = zzero_leq_i_p_m_t_s_177161 && y_177165;
                            bool forwards_ok_177167 = i_lte_j_177164 && y_177166;
                            bool ok_or_empty_177168 = empty_slice_177158 || forwards_ok_177167;
                            bool index_certs_177169;
                            
                            if (!ok_or_empty_177168) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177156, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177077, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177170 = slt64(m_177092, j_m_i_177157);
                            bool y_177171 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177170;
                            bool forwards_ok_177172 = i_lte_j_177094 && y_177171;
                            bool ok_or_empty_177173 = zzero_177084 || forwards_ok_177172;
                            bool index_certs_177174;
                            
                            if (!ok_or_empty_177173) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) j_m_i_177157, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177095) {
                                int8_t dummy_180304;
                                int64_t dummy_180305;
                                int64_t dummy_180306;
                                
                                if (cond_177115) {
                                    int8_t head_res_180307 = ((int8_t *) mem_param_181222.mem)[start_177156];
                                    int64_t head_res_180308 = ((int64_t *) mem_param_181225.mem)[start_177156];
                                    int64_t head_res_180309 = ((int64_t *) mem_param_181228.mem)[start_177156];
                                    
                                    dummy_180304 = head_res_180307;
                                    dummy_180305 = head_res_180308;
                                    dummy_180306 = head_res_180309;
                                } else {
                                    int64_t slice_180310 = stride_177082 + start_177156;
                                    int8_t head_res_180311 = ((int8_t *) mem_param_181222.mem)[slice_180310];
                                    int64_t head_res_180312 = ((int64_t *) mem_param_181225.mem)[slice_180310];
                                    int64_t head_res_180313 = ((int64_t *) mem_param_181228.mem)[slice_180310];
                                    
                                    dummy_180304 = head_res_180311;
                                    dummy_180305 = head_res_180312;
                                    dummy_180306 = head_res_180313;
                                }
                                if (memblock_alloc(ctx, &mem_181331, next_stride_177083, "mem_181331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182634 = 0; nest_i_182634 < next_stride_177083; nest_i_182634++) {
                                    ((int8_t *) mem_181331.mem)[nest_i_182634] = dummy_180304;
                                }
                                if (memblock_alloc(ctx, &mem_181333, bytes_181332, "mem_181333")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182635 = 0; nest_i_182635 < next_stride_177083; nest_i_182635++) {
                                    ((int64_t *) mem_181333.mem)[nest_i_182635] = dummy_180305;
                                }
                                if (memblock_alloc(ctx, &mem_181335, bytes_181332, "mem_181335")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182636 = 0; nest_i_182636 < next_stride_177083; nest_i_182636++) {
                                    ((int64_t *) mem_181335.mem)[nest_i_182636] = dummy_180306;
                                }
                                
                                int64_t data_180317;
                                int64_t i_180322 = (int64_t) 0;
                                
                                for (int64_t k_180321 = 0; k_180321 < next_stride_177083; k_180321++) {
                                    int64_t j_180326 = sub64(k_180321, i_180322);
                                    bool cond_180327 = j_180326 == j_m_i_177105;
                                    bool cond_180328;
                                    
                                    if (cond_180327) {
                                        cond_180328 = 1;
                                    } else {
                                        bool cond_180329 = slt64(i_180322, stride_177082);
                                        bool cond_f_res_180330;
                                        
                                        if (cond_180329) {
                                            bool x_180331 = sle64((int64_t) 0, j_180326);
                                            bool y_180332 = slt64(j_180326, j_m_i_177105);
                                            bool bounds_check_180333 = x_180331 && y_180332;
                                            bool index_certs_180334;
                                            
                                            if (!bounds_check_180333) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180340 = sle64((int64_t) 0, i_180322);
                                            bool bounds_check_180341 = cond_180329 && x_180340;
                                            bool index_certs_180342;
                                            
                                            if (!bounds_check_180341) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180335 = stride_177082 + j_180326;
                                            int64_t slice_180336 = start_177156 + slice_180335;
                                            int8_t leq_arg1_180337 = ((int8_t *) mem_param_181222.mem)[slice_180336];
                                            int64_t leq_arg1_180338 = ((int64_t *) mem_param_181225.mem)[slice_180336];
                                            int64_t leq_arg1_180339 = ((int64_t *) mem_param_181228.mem)[slice_180336];
                                            int64_t slice_180343 = start_177156 + i_180322;
                                            int8_t leq_arg0_180344 = ((int8_t *) mem_param_181222.mem)[slice_180343];
                                            int64_t leq_arg0_180345 = ((int64_t *) mem_param_181225.mem)[slice_180343];
                                            int64_t leq_arg0_180346 = ((int64_t *) mem_param_181228.mem)[slice_180343];
                                            bool cond_180347 = leq_arg0_180344 == leq_arg1_180337;
                                            bool defunc_0_leq_res_t_res_180348 = sle64(leq_arg0_180345, leq_arg1_180338);
                                            bool defunc_0_leq_res_180349 = sle64(leq_arg0_180346, leq_arg1_180339);
                                            bool x_180350 = cond_180347 && defunc_0_leq_res_t_res_180348;
                                            bool x_180351 = !cond_180347;
                                            bool y_180352 = defunc_0_leq_res_180349 && x_180351;
                                            bool defunc_0_leq_res_180353 = x_180350 || y_180352;
                                            
                                            cond_f_res_180330 = defunc_0_leq_res_180353;
                                        } else {
                                            cond_f_res_180330 = 0;
                                        }
                                        cond_180328 = cond_f_res_180330;
                                    }
                                    
                                    int64_t loopres_180354;
                                    int8_t loopres_180355;
                                    int64_t loopres_180356;
                                    int64_t loopres_180357;
                                    
                                    if (cond_180328) {
                                        bool x_180359 = sle64((int64_t) 0, i_180322);
                                        bool y_180360 = slt64(i_180322, stride_177082);
                                        bool bounds_check_180361 = x_180359 && y_180360;
                                        bool index_certs_180362;
                                        
                                        if (!bounds_check_180361) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180358 = add64((int64_t) 1, i_180322);
                                        int64_t slice_180363 = start_177156 + i_180322;
                                        int8_t tmp_180364 = ((int8_t *) mem_param_181222.mem)[slice_180363];
                                        int64_t tmp_180365 = ((int64_t *) mem_param_181225.mem)[slice_180363];
                                        int64_t tmp_180366 = ((int64_t *) mem_param_181228.mem)[slice_180363];
                                        
                                        loopres_180354 = tmp_180358;
                                        loopres_180355 = tmp_180364;
                                        loopres_180356 = tmp_180365;
                                        loopres_180357 = tmp_180366;
                                    } else {
                                        bool x_180367 = sle64((int64_t) 0, j_180326);
                                        bool y_180368 = slt64(j_180326, j_m_i_177105);
                                        bool bounds_check_180369 = x_180367 && y_180368;
                                        bool index_certs_180370;
                                        
                                        if (!bounds_check_180369) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180371 = stride_177082 + j_180326;
                                        int64_t slice_180372 = start_177156 + slice_180371;
                                        int8_t tmp_180373 = ((int8_t *) mem_param_181222.mem)[slice_180372];
                                        int64_t tmp_180374 = ((int64_t *) mem_param_181225.mem)[slice_180372];
                                        int64_t tmp_180375 = ((int64_t *) mem_param_181228.mem)[slice_180372];
                                        
                                        loopres_180354 = i_180322;
                                        loopres_180355 = tmp_180373;
                                        loopres_180356 = tmp_180374;
                                        loopres_180357 = tmp_180375;
                                    }
                                    ((int8_t *) mem_181331.mem)[k_180321] = loopres_180355;
                                    ((int64_t *) mem_181333.mem)[k_180321] = loopres_180356;
                                    ((int64_t *) mem_181335.mem)[k_180321] = loopres_180357;
                                    
                                    int64_t i_tmp_182637 = loopres_180354;
                                    
                                    i_180322 = i_tmp_182637;
                                }
                                data_180317 = i_180322;
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181331, "mem_181331") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181333, "mem_181333") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181335, "mem_181335") != 0)
                                    return 1;
                            } else {
                                if (mem_181250_cached_sizze_182967 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181250, &mem_181250_cached_sizze_182967, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182968 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182968, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180833 = 0; i_180833 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104; i_180833++) {
                                    int64_t split_count_arg3_177257 = mul64(merge_block_sizze_176920, i_180833);
                                    int64_t defunc_0_split_count_res_177258;
                                    int64_t defunc_0_split_count_res_177259;
                                    int64_t defunc_0_split_count_res_177260;
                                    int64_t defunc_0_split_count_res_177261;
                                    int64_t defunc_0_split_count_res_177262;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177258, &defunc_0_split_count_res_177259, &defunc_0_split_count_res_177260, &defunc_0_split_count_res_177261, &defunc_0_split_count_res_177262, (int64_t) 0, stride_177082, (int64_t) 0, j_m_i_177105, split_count_arg3_177257) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177263 = slt64((int64_t) 0, defunc_0_split_count_res_177262);
                                    bool defunc_0_split_count_res_177264;
                                    int64_t defunc_0_split_count_res_177265;
                                    int64_t defunc_0_split_count_res_177266;
                                    int64_t defunc_0_split_count_res_177267;
                                    int64_t defunc_0_split_count_res_177268;
                                    int64_t defunc_0_split_count_res_177269;
                                    bool loop_while_177270;
                                    int64_t ss_177271;
                                    int64_t ss_177272;
                                    int64_t tt_177273;
                                    int64_t tt_177274;
                                    int64_t count_177275;
                                    
                                    loop_while_177270 = loop_cond_177263;
                                    ss_177271 = defunc_0_split_count_res_177258;
                                    ss_177272 = defunc_0_split_count_res_177259;
                                    tt_177273 = defunc_0_split_count_res_177260;
                                    tt_177274 = defunc_0_split_count_res_177261;
                                    count_177275 = defunc_0_split_count_res_177262;
                                    while (loop_while_177270) {
                                        int64_t zlze_lhs_177276 = sub64(ss_177272, ss_177271);
                                        bool cond_177277 = sle64(zlze_lhs_177276, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177278;
                                        int64_t defunc_0_lifted_step_res_177279;
                                        int64_t defunc_0_lifted_step_res_177280;
                                        int64_t defunc_0_lifted_step_res_177281;
                                        
                                        if (cond_177277) {
                                            int64_t tmp_180379 = add64(tt_177273, count_177275);
                                            
                                            defunc_0_lifted_step_res_177278 = ss_177271;
                                            defunc_0_lifted_step_res_177279 = tmp_180379;
                                            defunc_0_lifted_step_res_177280 = tt_177274;
                                            defunc_0_lifted_step_res_177281 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177283 = sub64(tt_177274, tt_177273);
                                            bool cond_177284 = sle64(zlze_lhs_177283, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177285;
                                            int64_t defunc_0_lifted_step_res_f_res_177286;
                                            int64_t defunc_0_lifted_step_res_f_res_177287;
                                            int64_t defunc_0_lifted_step_res_f_res_177288;
                                            
                                            if (cond_177284) {
                                                int64_t tmp_180380 = add64(ss_177271, count_177275);
                                                
                                                defunc_0_lifted_step_res_f_res_177285 = tmp_180380;
                                                defunc_0_lifted_step_res_f_res_177286 = tt_177273;
                                                defunc_0_lifted_step_res_f_res_177287 = tt_177274;
                                                defunc_0_lifted_step_res_f_res_177288 = (int64_t) 0;
                                            } else {
                                                bool cond_177290 = count_177275 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177291;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177292;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177293;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177294;
                                                
                                                if (cond_177290) {
                                                    bool x_180382 = sle64((int64_t) 0, ss_177271);
                                                    bool y_180383 = slt64(ss_177271, stride_177082);
                                                    bool bounds_check_180384 = x_180382 && y_180383;
                                                    bool index_certs_180385;
                                                    
                                                    if (!bounds_check_180384) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177271, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180390 = sle64((int64_t) 0, tt_177273);
                                                    bool y_180391 = slt64(tt_177273, j_m_i_177105);
                                                    bool bounds_check_180392 = x_180390 && y_180391;
                                                    bool index_certs_180393;
                                                    
                                                    if (!bounds_check_180392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177273, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180386 = start_177156 + ss_177271;
                                                    int8_t leq_arg1_180387 = ((int8_t *) mem_param_181222.mem)[slice_180386];
                                                    int64_t leq_arg1_180388 = ((int64_t *) mem_param_181225.mem)[slice_180386];
                                                    int64_t leq_arg1_180389 = ((int64_t *) mem_param_181228.mem)[slice_180386];
                                                    int64_t slice_180394 = stride_177082 + tt_177273;
                                                    int64_t slice_180395 = start_177156 + slice_180394;
                                                    int8_t leq_arg0_180396 = ((int8_t *) mem_param_181222.mem)[slice_180395];
                                                    int64_t leq_arg0_180397 = ((int64_t *) mem_param_181225.mem)[slice_180395];
                                                    int64_t leq_arg0_180398 = ((int64_t *) mem_param_181228.mem)[slice_180395];
                                                    bool cond_180399 = leq_arg0_180396 == leq_arg1_180387;
                                                    bool defunc_0_leq_res_t_res_180400 = sle64(leq_arg0_180397, leq_arg1_180388);
                                                    bool defunc_0_leq_res_180401 = sle64(leq_arg0_180398, leq_arg1_180389);
                                                    bool x_180402 = cond_180399 && defunc_0_leq_res_t_res_180400;
                                                    bool x_180403 = !cond_180399;
                                                    bool y_180404 = defunc_0_leq_res_180401 && x_180403;
                                                    bool defunc_0_leq_res_180405 = x_180402 || y_180404;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    
                                                    if (defunc_0_leq_res_180405) {
                                                        int64_t tmp_180408 = add64((int64_t) 1, tt_177273);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = ss_177271;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tmp_180408;
                                                    } else {
                                                        int64_t tmp_180409 = add64((int64_t) 1, ss_177271);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = tmp_180409;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tt_177273;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = tt_177274;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177323 = sdiv64(count_177275, (int64_t) 2);
                                                    int64_t n_177324 = sub64(count_177275, m_177323);
                                                    bool cond_177325 = n_177324 == (int64_t) 0;
                                                    int64_t zgze_lhs_177326 = add64(ss_177271, m_177323);
                                                    bool cond_f_res_177327 = sle64(ss_177272, zgze_lhs_177326);
                                                    bool x_177328 = !cond_177325;
                                                    bool y_177329 = cond_f_res_177327 && x_177328;
                                                    bool cond_177330 = cond_177325 || y_177329;
                                                    bool leq_y_x_177331;
                                                    
                                                    if (cond_177330) {
                                                        leq_y_x_177331 = 1;
                                                    } else {
                                                        bool x_177332 = sle64((int64_t) 0, zgze_lhs_177326);
                                                        bool y_177333 = slt64(zgze_lhs_177326, stride_177082);
                                                        bool bounds_check_177334 = x_177332 && y_177333;
                                                        bool index_certs_177335;
                                                        
                                                        if (!bounds_check_177334) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177326, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177340 = add64(tt_177273, n_177324);
                                                        int64_t leq_arg0_177341 = sub64(zm_lhs_177340, (int64_t) 1);
                                                        bool x_177342 = sle64((int64_t) 0, leq_arg0_177341);
                                                        bool y_177343 = slt64(leq_arg0_177341, j_m_i_177105);
                                                        bool bounds_check_177344 = x_177342 && y_177343;
                                                        bool index_certs_177345;
                                                        
                                                        if (!bounds_check_177344) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177341, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177336 = start_177156 + zgze_lhs_177326;
                                                        int8_t leq_arg1_177337 = ((int8_t *) mem_param_181222.mem)[slice_177336];
                                                        int64_t leq_arg1_177338 = ((int64_t *) mem_param_181225.mem)[slice_177336];
                                                        int64_t leq_arg1_177339 = ((int64_t *) mem_param_181228.mem)[slice_177336];
                                                        int64_t slice_177346 = stride_177082 + leq_arg0_177341;
                                                        int64_t slice_177347 = start_177156 + slice_177346;
                                                        int8_t leq_arg0_177348 = ((int8_t *) mem_param_181222.mem)[slice_177347];
                                                        int64_t leq_arg0_177349 = ((int64_t *) mem_param_181225.mem)[slice_177347];
                                                        int64_t leq_arg0_177350 = ((int64_t *) mem_param_181228.mem)[slice_177347];
                                                        bool cond_177351 = leq_arg0_177348 == leq_arg1_177337;
                                                        bool defunc_0_leq_res_t_res_177352 = sle64(leq_arg0_177349, leq_arg1_177338);
                                                        bool defunc_0_leq_res_177353 = sle64(leq_arg0_177350, leq_arg1_177339);
                                                        bool x_177354 = cond_177351 && defunc_0_leq_res_t_res_177352;
                                                        bool x_177355 = !cond_177351;
                                                        bool y_177356 = defunc_0_leq_res_177353 && x_177355;
                                                        bool defunc_0_leq_res_177357 = x_177354 || y_177356;
                                                        
                                                        leq_y_x_177331 = defunc_0_leq_res_177357;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                    
                                                    if (leq_y_x_177331) {
                                                        int64_t tmp_180410 = add64(tt_177273, n_177324);
                                                        int64_t tmp_180411 = sub64(count_177275, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tmp_180410;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tt_177274;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = tmp_180411;
                                                    } else {
                                                        int64_t tmp_177363 = add64(tt_177273, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tt_177273;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tmp_177363;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = count_177275;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = ss_177271;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                }
                                                defunc_0_lifted_step_res_f_res_177285 = defunc_0_lifted_step_res_f_res_f_res_177291;
                                                defunc_0_lifted_step_res_f_res_177286 = defunc_0_lifted_step_res_f_res_f_res_177292;
                                                defunc_0_lifted_step_res_f_res_177287 = defunc_0_lifted_step_res_f_res_f_res_177293;
                                                defunc_0_lifted_step_res_f_res_177288 = defunc_0_lifted_step_res_f_res_f_res_177294;
                                            }
                                            defunc_0_lifted_step_res_177278 = defunc_0_lifted_step_res_f_res_177285;
                                            defunc_0_lifted_step_res_177279 = defunc_0_lifted_step_res_f_res_177286;
                                            defunc_0_lifted_step_res_177280 = defunc_0_lifted_step_res_f_res_177287;
                                            defunc_0_lifted_step_res_177281 = defunc_0_lifted_step_res_f_res_177288;
                                        }
                                        
                                        int64_t loopres_177364;
                                        int64_t loopres_177365;
                                        int64_t loopres_177366;
                                        int64_t loopres_177367;
                                        int64_t loopres_177368;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_177364, &loopres_177365, &loopres_177366, &loopres_177367, &loopres_177368, defunc_0_lifted_step_res_177278, ss_177272, defunc_0_lifted_step_res_177279, defunc_0_lifted_step_res_177280, defunc_0_lifted_step_res_177281) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177369 = slt64((int64_t) 0, loopres_177368);
                                        bool loop_while_tmp_182643 = loop_cond_177369;
                                        int64_t ss_tmp_182644 = loopres_177364;
                                        int64_t ss_tmp_182645 = loopres_177365;
                                        int64_t tt_tmp_182646 = loopres_177366;
                                        int64_t tt_tmp_182647 = loopres_177367;
                                        int64_t count_tmp_182648 = loopres_177368;
                                        
                                        loop_while_177270 = loop_while_tmp_182643;
                                        ss_177271 = ss_tmp_182644;
                                        ss_177272 = ss_tmp_182645;
                                        tt_177273 = tt_tmp_182646;
                                        tt_177274 = tt_tmp_182647;
                                        count_177275 = count_tmp_182648;
                                    }
                                    defunc_0_split_count_res_177264 = loop_while_177270;
                                    defunc_0_split_count_res_177265 = ss_177271;
                                    defunc_0_split_count_res_177266 = ss_177272;
                                    defunc_0_split_count_res_177267 = tt_177273;
                                    defunc_0_split_count_res_177268 = tt_177274;
                                    defunc_0_split_count_res_177269 = count_177275;
                                    ((int64_t *) mem_181250)[i_180833] = defunc_0_split_count_res_177265;
                                    ((int64_t *) mem_181252)[i_180833] = defunc_0_split_count_res_177267;
                                }
                                if (mem_181266_cached_sizze_182969 < flat_dim_177106) {
                                    err = lexical_realloc(ctx, &mem_181266, &mem_181266_cached_sizze_182969, flat_dim_177106);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181269_cached_sizze_182970 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181269, &mem_181269_cached_sizze_182970, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181272_cached_sizze_182971 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181272, &mem_181272_cached_sizze_182971, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180842 = 0; i_180842 < num_blocks_177103; i_180842++) {
                                    bool y_177376 = slt64(i_180842, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool index_certs_177378;
                                    
                                    if (!y_177376) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177379 = ((int64_t *) mem_181250)[i_180842];
                                    int64_t defunc_0_f_res_177380 = ((int64_t *) mem_181252)[i_180842];
                                    int64_t tmp_177381 = add64((int64_t) 1, i_180842);
                                    bool x_177382 = sle64((int64_t) 0, tmp_177381);
                                    bool y_177383 = slt64(tmp_177381, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool bounds_check_177384 = x_177382 && y_177383;
                                    bool index_certs_177385;
                                    
                                    if (!bounds_check_177384) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177381, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177386 = ((int64_t *) mem_181250)[tmp_177381];
                                    int64_t defunc_0_f_res_177387 = ((int64_t *) mem_181252)[tmp_177381];
                                    int64_t merge_sequential_arg2_177388 = add64(stride_177082, defunc_0_f_res_177380);
                                    int64_t merge_sequential_arg2_177389 = add64(stride_177082, defunc_0_f_res_177387);
                                    int64_t j_m_i_177390 = sub64(merge_sequential_arg2_177389, merge_sequential_arg2_177388);
                                    bool empty_slice_177391 = j_m_i_177390 == (int64_t) 0;
                                    int64_t m_177392 = sub64(j_m_i_177390, (int64_t) 1);
                                    int64_t i_p_m_t_s_177393 = add64(merge_sequential_arg2_177388, m_177392);
                                    bool zzero_leq_i_p_m_t_s_177394 = sle64((int64_t) 0, i_p_m_t_s_177393);
                                    bool i_p_m_t_s_leq_w_177395 = slt64(i_p_m_t_s_177393, next_stride_177083);
                                    bool zzero_lte_i_177396 = sle64((int64_t) 0, merge_sequential_arg2_177388);
                                    bool i_lte_j_177397 = sle64(merge_sequential_arg2_177388, merge_sequential_arg2_177389);
                                    bool y_177398 = i_p_m_t_s_leq_w_177395 && zzero_lte_i_177396;
                                    bool y_177399 = zzero_leq_i_p_m_t_s_177394 && y_177398;
                                    bool forwards_ok_177400 = i_lte_j_177397 && y_177399;
                                    bool ok_or_empty_177401 = empty_slice_177391 || forwards_ok_177400;
                                    bool index_certs_177402;
                                    
                                    if (!ok_or_empty_177401) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177388, ":", (long long) merge_sequential_arg2_177389, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177403 = sub64(defunc_0_f_res_177386, defunc_0_f_res_177379);
                                    bool empty_slice_177404 = j_m_i_177403 == (int64_t) 0;
                                    int64_t m_177405 = sub64(j_m_i_177403, (int64_t) 1);
                                    int64_t i_p_m_t_s_177406 = add64(defunc_0_f_res_177379, m_177405);
                                    bool zzero_leq_i_p_m_t_s_177407 = sle64((int64_t) 0, i_p_m_t_s_177406);
                                    bool i_p_m_t_s_leq_w_177408 = slt64(i_p_m_t_s_177406, next_stride_177083);
                                    bool zzero_lte_i_177409 = sle64((int64_t) 0, defunc_0_f_res_177379);
                                    bool i_lte_j_177410 = sle64(defunc_0_f_res_177379, defunc_0_f_res_177386);
                                    bool y_177411 = i_p_m_t_s_leq_w_177408 && zzero_lte_i_177409;
                                    bool y_177412 = zzero_leq_i_p_m_t_s_177407 && y_177411;
                                    bool forwards_ok_177413 = i_lte_j_177410 && y_177412;
                                    bool ok_or_empty_177414 = empty_slice_177404 || forwards_ok_177413;
                                    bool index_certs_177415;
                                    
                                    if (!ok_or_empty_177414) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177379, ":", (long long) defunc_0_f_res_177386, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177416 = slt64((int64_t) 0, j_m_i_177403);
                                    int8_t dummy_177417;
                                    int64_t dummy_177418;
                                    int64_t dummy_177419;
                                    
                                    if (cond_177416) {
                                        bool index_certs_180412;
                                        
                                        if (!cond_177416) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180413 = start_177156 + defunc_0_f_res_177379;
                                        int8_t head_res_180414 = ((int8_t *) mem_param_181222.mem)[slice_180413];
                                        int64_t head_res_180415 = ((int64_t *) mem_param_181225.mem)[slice_180413];
                                        int64_t head_res_180416 = ((int64_t *) mem_param_181228.mem)[slice_180413];
                                        
                                        dummy_177417 = head_res_180414;
                                        dummy_177418 = head_res_180415;
                                        dummy_177419 = head_res_180416;
                                    } else {
                                        bool y_177425 = slt64((int64_t) 0, j_m_i_177390);
                                        bool index_certs_177426;
                                        
                                        if (!y_177425) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177427 = start_177156 + merge_sequential_arg2_177388;
                                        int8_t head_res_177428 = ((int8_t *) mem_param_181222.mem)[slice_177427];
                                        int64_t head_res_177429 = ((int64_t *) mem_param_181225.mem)[slice_177427];
                                        int64_t head_res_177430 = ((int64_t *) mem_param_181228.mem)[slice_177427];
                                        
                                        dummy_177417 = head_res_177428;
                                        dummy_177418 = head_res_177429;
                                        dummy_177419 = head_res_177430;
                                    }
                                    for (int64_t nest_i_182652 = 0; nest_i_182652 < merge_block_sizze_176920; nest_i_182652++) {
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + nest_i_182652] = dummy_177417;
                                    }
                                    for (int64_t nest_i_182653 = 0; nest_i_182653 < merge_block_sizze_176920; nest_i_182653++) {
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + nest_i_182653] = dummy_177418;
                                    }
                                    for (int64_t nest_i_182654 = 0; nest_i_182654 < merge_block_sizze_176920; nest_i_182654++) {
                                        ((int64_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + nest_i_182654] = dummy_177419;
                                    }
                                    
                                    int64_t data_177434;
                                    int64_t i_177439 = (int64_t) 0;
                                    
                                    for (int64_t k_177438 = 0; k_177438 < merge_block_sizze_176920; k_177438++) {
                                        int64_t j_177443 = sub64(k_177438, i_177439);
                                        bool cond_177444 = j_177443 == j_m_i_177390;
                                        bool cond_177445;
                                        
                                        if (cond_177444) {
                                            cond_177445 = 1;
                                        } else {
                                            bool cond_177446 = slt64(i_177439, j_m_i_177403);
                                            bool cond_f_res_177447;
                                            
                                            if (cond_177446) {
                                                bool x_180417 = sle64((int64_t) 0, j_177443);
                                                bool y_180418 = slt64(j_177443, j_m_i_177390);
                                                bool bounds_check_180419 = x_180417 && y_180418;
                                                bool index_certs_180420;
                                                
                                                if (!bounds_check_180419) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180426 = sle64((int64_t) 0, i_177439);
                                                bool bounds_check_180427 = cond_177446 && x_180426;
                                                bool index_certs_180428;
                                                
                                                if (!bounds_check_180427) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180421 = merge_sequential_arg2_177388 + j_177443;
                                                int64_t slice_180422 = start_177156 + slice_180421;
                                                int8_t leq_arg1_180423 = ((int8_t *) mem_param_181222.mem)[slice_180422];
                                                int64_t leq_arg1_180424 = ((int64_t *) mem_param_181225.mem)[slice_180422];
                                                int64_t leq_arg1_180425 = ((int64_t *) mem_param_181228.mem)[slice_180422];
                                                int64_t slice_180429 = defunc_0_f_res_177379 + i_177439;
                                                int64_t slice_180430 = start_177156 + slice_180429;
                                                int8_t leq_arg0_180431 = ((int8_t *) mem_param_181222.mem)[slice_180430];
                                                int64_t leq_arg0_180432 = ((int64_t *) mem_param_181225.mem)[slice_180430];
                                                int64_t leq_arg0_180433 = ((int64_t *) mem_param_181228.mem)[slice_180430];
                                                bool cond_180434 = leq_arg0_180431 == leq_arg1_180423;
                                                bool defunc_0_leq_res_t_res_180435 = sle64(leq_arg0_180432, leq_arg1_180424);
                                                bool defunc_0_leq_res_180436 = sle64(leq_arg0_180433, leq_arg1_180425);
                                                bool x_180437 = cond_180434 && defunc_0_leq_res_t_res_180435;
                                                bool x_180438 = !cond_180434;
                                                bool y_180439 = defunc_0_leq_res_180436 && x_180438;
                                                bool defunc_0_leq_res_180440 = x_180437 || y_180439;
                                                
                                                cond_f_res_177447 = defunc_0_leq_res_180440;
                                            } else {
                                                cond_f_res_177447 = 0;
                                            }
                                            cond_177445 = cond_f_res_177447;
                                        }
                                        
                                        int64_t loopres_177472;
                                        int8_t loopres_177473;
                                        int64_t loopres_177474;
                                        int64_t loopres_177475;
                                        
                                        if (cond_177445) {
                                            bool x_180442 = sle64((int64_t) 0, i_177439);
                                            bool y_180443 = slt64(i_177439, j_m_i_177403);
                                            bool bounds_check_180444 = x_180442 && y_180443;
                                            bool index_certs_180445;
                                            
                                            if (!bounds_check_180444) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180441 = add64((int64_t) 1, i_177439);
                                            int64_t slice_180446 = defunc_0_f_res_177379 + i_177439;
                                            int64_t slice_180447 = start_177156 + slice_180446;
                                            int8_t tmp_180448 = ((int8_t *) mem_param_181222.mem)[slice_180447];
                                            int64_t tmp_180449 = ((int64_t *) mem_param_181225.mem)[slice_180447];
                                            int64_t tmp_180450 = ((int64_t *) mem_param_181228.mem)[slice_180447];
                                            
                                            loopres_177472 = tmp_180441;
                                            loopres_177473 = tmp_180448;
                                            loopres_177474 = tmp_180449;
                                            loopres_177475 = tmp_180450;
                                        } else {
                                            bool x_177486 = sle64((int64_t) 0, j_177443);
                                            bool y_177487 = slt64(j_177443, j_m_i_177390);
                                            bool bounds_check_177488 = x_177486 && y_177487;
                                            bool index_certs_177489;
                                            
                                            if (!bounds_check_177488) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177490 = merge_sequential_arg2_177388 + j_177443;
                                            int64_t slice_177491 = start_177156 + slice_177490;
                                            int8_t tmp_177492 = ((int8_t *) mem_param_181222.mem)[slice_177491];
                                            int64_t tmp_177493 = ((int64_t *) mem_param_181225.mem)[slice_177491];
                                            int64_t tmp_177494 = ((int64_t *) mem_param_181228.mem)[slice_177491];
                                            
                                            loopres_177472 = i_177439;
                                            loopres_177473 = tmp_177492;
                                            loopres_177474 = tmp_177493;
                                            loopres_177475 = tmp_177494;
                                        }
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177473;
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177474;
                                        ((int64_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177475;
                                        
                                        int64_t i_tmp_182655 = loopres_177472;
                                        
                                        i_177439 = i_tmp_182655;
                                    }
                                    data_177434 = i_177439;
                                }
                                if (memblock_alloc(ctx, &mem_181321, flat_dim_177106, "mem_181321")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181321.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint8_t *) mem_181266, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181325, bytes_181268, "mem_181325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181325.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181269, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181329, bytes_181268, "mem_181329")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181329.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181272, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181321, "mem_181321") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181325, "mem_181325") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181329, "mem_181329") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181230, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181233, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181236, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181356.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181376, bytes_181229, "mem_181376")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181376.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint8_t *) mem_181230, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181380, bytes_181232, "mem_181380")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181380.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181233, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181384, bytes_181232, "mem_181384")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181384.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181236, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        
                        bool loop_cond_177508 = slt64(next_stride_177083, flat_dim_176915);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182622, &mem_181376, "mem_181376") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182623, &mem_181380, "mem_181380") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182624, &mem_181384, "mem_181384") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182625 = bytes_181229;
                        bool loop_while_tmp_182626 = loop_cond_177508;
                        int64_t stride_tmp_182630 = next_stride_177083;
                        
                        if (memblock_set(ctx, &mem_param_181222, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181225, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181228, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177077 = loop_dz2084Uz2082U_tmp_182625;
                        loop_while_177078 = loop_while_tmp_182626;
                        stride_177082 = stride_tmp_182630;
                    }
                    if (memblock_set(ctx, &ext_mem_181394, &mem_param_181222, "mem_param_181222") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181393, &mem_param_181225, "mem_param_181225") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181392, &mem_param_181228, "mem_param_181228") != 0)
                        return 1;
                    data_177071 = loop_dz2084Uz2082U_177077;
                    data_177072 = loop_while_177078;
                    data_177076 = stride_177082;
                    if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
                        return 1;
                    
                    bool empty_slice_177509 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177510 = sle64((int64_t) 0, zs_lhs_176899);
                    bool i_p_m_t_s_leq_w_177511 = slt64(zs_lhs_176899, data_177071);
                    bool y_177512 = zzero_leq_i_p_m_t_s_177510 && i_p_m_t_s_leq_w_177511;
                    bool ok_or_empty_177513 = empty_slice_177509 || y_177512;
                    bool index_certs_177514;
                    
                    if (!ok_or_empty_177513) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] out of bounds for array of shape [", (long long) data_177071, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181403, &ext_mem_181394, "ext_mem_181394") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &ext_mem_181393, "ext_mem_181393") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &ext_mem_181392, "ext_mem_181392") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181400.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181397.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
                    return 1;
                
                bool loop_cond_177550 = slt64(ubs_176842, threads_142253);
                bool loop_while_tmp_182589 = loop_cond_177550;
                int64_t p_tmp_182590 = ubs_176842;
                
                loop_while_176831 = loop_while_tmp_182589;
                p_176832 = p_tmp_182590;
            }
            defunc_0_mergeFunc_seq_res_176826 = loop_while_176831;
            defunc_0_mergeFunc_seq_res_176827 = p_176832;
            
            int64_t index_concat_branch_178367;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180465 = ((int64_t *) mem_181069)[index_concat_i_178364];
                
                index_concat_branch_178367 = index_concat_180465;
            } else {
                index_concat_branch_178367 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178361;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180466 = ((int64_t *) mem_181071)[index_concat_i_178364];
                
                index_concat_branch_178361 = index_concat_180466;
            } else {
                index_concat_branch_178361 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181084, "mem_181084") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181086, "mem_181086") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181088, "mem_181088") != 0)
                return 1;
            loopres_175590 = index_concat_branch_178367;
            loopres_175591 = index_concat_branch_178361;
        }
        for (int64_t i_180858 = 0; i_180858 < window_sizze_142252; i_180858++) {
            int8_t eta_p_177558 = ((int8_t *) ext_mem_181822.mem)[i_180858];
            int64_t eta_p_177559 = ((int64_t *) ext_mem_181819.mem)[i_180858];
            bool cond_177560 = eta_p_177558 == (int8_t) 0;
            int64_t tmp_177561;
            
            if (cond_177560) {
                int64_t tmp_t_res_180469 = add64(p_175562, eta_p_177559);
                
                tmp_177561 = tmp_t_res_180469;
            } else {
                int64_t tmp_f_res_177563 = add64(p_175563, eta_p_177559);
                
                tmp_177561 = tmp_f_res_177563;
            }
            ((int64_t *) mem_181056.mem)[ind_bottom_175566 + i_180858] = tmp_177561;
        }
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        
        int64_t next_lbs_177564 = add64(p_175562, loopres_175590);
        int64_t next_lbs_177565 = add64(p_175563, loopres_175591);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142252});
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181816.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142252});
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        
        bool cond_177579 = slt64(next_lbs_177564, zl_rhs_175545);
        bool loop_cond_t_res_177580 = slt64(next_lbs_177565, zl_rhs_175547);
        bool x_177581 = cond_177579 && loop_cond_t_res_177580;
        bool loop_while_tmp_182473 = x_177581;
        int64_t p_tmp_182477 = next_lbs_177564;
        int64_t p_tmp_182478 = next_lbs_177565;
        
        loop_while_175558 = loop_while_tmp_182473;
        p_175562 = p_tmp_182477;
        p_175563 = p_tmp_182478;
    }
    defunc_0_merge_pipeline_res_175552 = loop_while_175558;
    defunc_0_merge_pipeline_res_175556 = p_175562;
    defunc_0_merge_pipeline_res_175557 = p_175563;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 = sub64(nb_142251, defunc_0_merge_pipeline_res_175557);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 = sub64(na_142250, defunc_0_merge_pipeline_res_175556);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    bool empty_slice_177585 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 == (int64_t) 0;
    int64_t m_177586 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 1);
    int64_t i_p_m_t_s_177587 = add64(defunc_0_merge_pipeline_res_175556, m_177586);
    bool zzero_leq_i_p_m_t_s_177588 = sle64((int64_t) 0, i_p_m_t_s_177587);
    bool i_p_m_t_s_leq_w_177589 = slt64(i_p_m_t_s_177587, na_142250);
    bool zzero_lte_i_177590 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175556);
    bool i_lte_j_177591 = sle64(defunc_0_merge_pipeline_res_175556, na_142250);
    bool y_177592 = i_p_m_t_s_leq_w_177589 && zzero_lte_i_177590;
    bool y_177593 = zzero_leq_i_p_m_t_s_177588 && y_177592;
    bool forwards_ok_177594 = i_lte_j_177591 && y_177593;
    bool ok_or_empty_177595 = empty_slice_177585 || forwards_ok_177594;
    bool index_certs_177596;
    
    if (!ok_or_empty_177595) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175556, ":", (long long) na_142250, "] out of bounds for array of shape [", (long long) na_142250, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177600 = slt64(na_142250, defunc_0_merge_pipeline_res_175556);
    bool valid_177601 = !bounds_invalid_upwards_177600;
    bool range_valid_c_177602;
    
    if (!valid_177601) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175556, "..<", (long long) na_142250, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177606 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 == (int64_t) 0;
    int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, (int64_t) 1);
    int64_t i_p_m_t_s_177608 = add64(defunc_0_merge_pipeline_res_175557, m_177607);
    bool zzero_leq_i_p_m_t_s_177609 = sle64((int64_t) 0, i_p_m_t_s_177608);
    bool i_p_m_t_s_leq_w_177610 = slt64(i_p_m_t_s_177608, nb_142251);
    bool zzero_lte_i_177611 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175557);
    bool i_lte_j_177612 = sle64(defunc_0_merge_pipeline_res_175557, nb_142251);
    bool y_177613 = i_p_m_t_s_leq_w_177610 && zzero_lte_i_177611;
    bool y_177614 = zzero_leq_i_p_m_t_s_177609 && y_177613;
    bool forwards_ok_177615 = i_lte_j_177612 && y_177614;
    bool ok_or_empty_177616 = empty_slice_177606 || forwards_ok_177615;
    bool index_certs_177617;
    
    if (!ok_or_empty_177616) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175557, ":", (long long) nb_142251, "] out of bounds for array of shape [", (long long) nb_142251, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177621 = slt64(nb_142251, defunc_0_merge_pipeline_res_175557);
    bool valid_177622 = !bounds_invalid_upwards_177621;
    bool range_valid_c_177623;
    
    if (!valid_177622) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175557, "..<", (long long) nb_142251, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181847 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool cond_177630 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zs_lhs_177631 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zp_rhs_177632 = sdiv_safe64(zs_lhs_177631, (int64_t) 20);
    int64_t min_num_blocks_177633 = add64((int64_t) 1, zp_rhs_177632);
    bool loop_cond_177634 = slt64((int64_t) 1, min_num_blocks_177633);
    bool smallest_pow_2_geq_than_res_177635;
    int64_t smallest_pow_2_geq_than_res_177636;
    bool loop_while_177637;
    int64_t x_177638;
    
    loop_while_177637 = loop_cond_177634;
    x_177638 = (int64_t) 1;
    while (loop_while_177637) {
        int64_t loopres_177639 = mul64((int64_t) 2, x_177638);
        bool loop_cond_177640 = slt64(loopres_177639, min_num_blocks_177633);
        bool loop_while_tmp_182660 = loop_cond_177640;
        int64_t x_tmp_182661 = loopres_177639;
        
        loop_while_177637 = loop_while_tmp_182660;
        x_177638 = x_tmp_182661;
    }
    smallest_pow_2_geq_than_res_177635 = loop_while_177637;
    smallest_pow_2_geq_than_res_177636 = x_177638;
    
    bool zzero_177641 = smallest_pow_2_geq_than_res_177636 == (int64_t) 0;
    bool nonzzero_177642 = !zzero_177641;
    bool protect_assert_disj_177643 = cond_177630 || nonzzero_177642;
    bool nonzzero_cert_177644;
    
    if (!protect_assert_disj_177643) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177645 = sdiv_safe64(zs_lhs_177631, smallest_pow_2_geq_than_res_177636);
    int64_t block_sizze_177646 = add64((int64_t) 1, zp_rhs_177645);
    bool y_177653 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool protect_assert_disj_182175 = cond_177630 || y_177653;
    bool index_certs_177654;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177680 = slt64(smallest_pow_2_geq_than_res_177636, (int64_t) 0);
    bool valid_177681 = !bounds_invalid_upwards_177680;
    bool protect_assert_disj_182185 = cond_177630 || valid_177681;
    bool range_valid_c_177682;
    
    if (!protect_assert_disj_182185) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177684 = slt64(block_sizze_177646, (int64_t) 0);
    bool valid_177685 = !bounds_invalid_upwards_177684;
    bool protect_assert_disj_182187 = cond_177630 || valid_177685;
    bool range_valid_c_177686;
    
    if (!protect_assert_disj_182187) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177646, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177688 = sle64(block_sizze_177646, (int64_t) 1);
    int64_t tmp_177689 = sub64(block_sizze_177646, (int64_t) 2);
    bool bounds_invalid_upwards_177690 = slt64(tmp_177689, (int64_t) 0);
    bool valid_177692 = !bounds_invalid_upwards_177690;
    bool protect_assert_disj_177693 = cond_177688 || valid_177692;
    bool protect_assert_disj_182189 = cond_177630 || protect_assert_disj_177693;
    bool range_valid_c_177694;
    
    if (!protect_assert_disj_182189) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177689, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178255 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178257 = sle64((int64_t) 0, zs_lhs_177631);
    bool i_p_m_t_s_leq_w_178258 = slt64(zs_lhs_177631, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool y_178259 = zzero_leq_i_p_m_t_s_178257 && i_p_m_t_s_leq_w_178258;
    bool ok_or_empty_178260 = empty_slice_178255 || y_178259;
    bool index_certs_178261;
    
    if (!ok_or_empty_178260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178262 = add64(defunc_0_merge_pipeline_res_175556, defunc_0_merge_pipeline_res_175557);
    int64_t j_m_i_178263 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, final_buffer_178262);
    bool empty_slice_178264 = j_m_i_178263 == (int64_t) 0;
    int64_t m_178265 = sub64(j_m_i_178263, (int64_t) 1);
    int64_t i_p_m_t_s_178266 = add64(final_buffer_178262, m_178265);
    bool zzero_leq_i_p_m_t_s_178267 = sle64((int64_t) 0, i_p_m_t_s_178266);
    bool i_p_m_t_s_leq_w_178268 = slt64(i_p_m_t_s_178266, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool zzero_lte_i_178269 = sle64((int64_t) 0, final_buffer_178262);
    bool i_lte_j_178270 = sle64(final_buffer_178262, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool y_178271 = i_p_m_t_s_leq_w_178268 && zzero_lte_i_178269;
    bool y_178272 = zzero_leq_i_p_m_t_s_178267 && y_178271;
    bool forwards_ok_178273 = i_lte_j_178270 && y_178272;
    bool ok_or_empty_178274 = empty_slice_178264 || forwards_ok_178273;
    bool index_certs_178275;
    
    if (!ok_or_empty_178274) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178262, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178276 = j_m_i_178263 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool empty_or_match_cert_178277;
    
    if (!dim_match_178276) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178263, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181846, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "mem_181846")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182662 = 0; nest_i_182662 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; nest_i_182662++) {
        ((int8_t *) mem_181846.mem)[nest_i_182662] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181848, bytes_181847, "mem_181848")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182663 = 0; i_182663 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; i_182663++) {
        int64_t x_182664 = defunc_0_merge_pipeline_res_175556 + i_182663 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[i_182663] = x_182664;
    }
    for (int64_t nest_i_182665 = 0; nest_i_182665 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; nest_i_182665++) {
        ((int8_t *) mem_181846.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + nest_i_182665] = (int8_t) 1;
    }
    for (int64_t i_182666 = 0; i_182666 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; i_182666++) {
        int64_t x_182667 = defunc_0_merge_pipeline_res_175557 + i_182666 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + i_182666] = x_182667;
    }
    
    int64_t tmp_offs_182668 = (int64_t) 0;
    
    if (!(tmp_offs_182668 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182668 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t tmp_offs_182669 = (int64_t) 0;
    
    if (!(tmp_offs_182669 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182669 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    if (memblock_alloc(ctx, &mem_181850, bytes_181847, "mem_181850")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182670 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181052.mem, defunc_0_merge_pipeline_res_175556, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181053.mem, defunc_0_merge_pipeline_res_175557, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t flat_dim_177647 = smallest_pow_2_geq_than_res_177636 * block_sizze_177646;
    bool x_182170 = !cond_177630;
    int64_t greatest_divisor_leq_than_arg1_177651 = mul64((int64_t) 2, block_sizze_177646);
    int64_t merge_block_sizze_177652;
    
    if (x_182170) {
        int64_t x_182172;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182172, (int64_t) 8, greatest_divisor_leq_than_arg1_177651) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177652 = x_182172;
    } else {
        merge_block_sizze_177652 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178327 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 0);
    int8_t index_concat_branch_178331 = btoi_bool_i8(index_concat_cmp_178327);
    int64_t index_concat_i_180471 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    int64_t index_primexp_180472 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180471);
    int64_t index_concat_branch_178325;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178325 = index_primexp_180472;
    } else {
        index_concat_branch_178325 = defunc_0_merge_pipeline_res_175556;
    }
    
    bool x_182166 = !index_concat_cmp_178327;
    bool protect_cond_conj_182176 = x_182166 && x_182170;
    int64_t index_concat_178318;
    
    if (protect_cond_conj_182176) {
        int64_t x_182168 = ((int64_t *) a_list_mem_181052.mem)[defunc_0_merge_pipeline_res_175556];
        
        index_concat_178318 = x_182168;
    } else {
        index_concat_178318 = (int64_t) 0;
    }
    
    bool protect_cond_conj_182177 = index_concat_cmp_178327 && x_182170;
    int64_t index_concat_180475;
    
    if (protect_cond_conj_182177) {
        int64_t x_182164 = ((int64_t *) b_list_mem_181053.mem)[index_primexp_180472];
        
        index_concat_180475 = x_182164;
    } else {
        index_concat_180475 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_178319;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178319 = index_concat_180475;
    } else {
        index_concat_branch_178319 = index_concat_178318;
    }
    
    int8_t defunc_0_reduce_res_180706;
    int64_t defunc_0_reduce_res_180707;
    int64_t defunc_0_reduce_res_180708;
    
    if (x_182170) {
        int8_t x_182178;
        int64_t x_182179;
        int64_t x_182180;
        int8_t redout_180860;
        int64_t redout_180861;
        int64_t redout_180862;
        
        redout_180860 = index_concat_branch_178331;
        redout_180861 = index_concat_branch_178325;
        redout_180862 = index_concat_branch_178319;
        for (int64_t i_180863 = 0; i_180863 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584; i_180863++) {
            bool index_concat_cmp_180934 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, i_180863);
            int8_t index_concat_branch_180938 = btoi_bool_i8(index_concat_cmp_180934);
            int64_t index_concat_branch_180932;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180929 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t index_primexp_181022 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180929);
                
                index_concat_branch_180932 = index_primexp_181022;
            } else {
                int64_t index_primexp_181024 = add64(defunc_0_merge_pipeline_res_175556, i_180863);
                
                index_concat_branch_180932 = index_primexp_181024;
            }
            
            int64_t index_concat_branch_180926;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180923 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t slice_181019 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180923;
                int64_t index_concat_180924 = ((int64_t *) b_list_mem_181053.mem)[slice_181019];
                
                index_concat_branch_180926 = index_concat_180924;
            } else {
                int64_t slice_181020 = defunc_0_merge_pipeline_res_175556 + i_180863;
                int64_t index_concat_180925 = ((int64_t *) a_list_mem_181052.mem)[slice_181020];
                
                index_concat_branch_180926 = index_concat_180925;
            }
            
            bool eq_x_y_181037 = redout_180860 == (int8_t) 1;
            bool eq_x_zz_181038 = redout_180860 == (int8_t) 0;
            bool p_and_eq_x_y_181039 = index_concat_cmp_180934 && eq_x_y_181037;
            bool not_p_181040 = !index_concat_cmp_180934;
            bool p_and_eq_x_y_181041 = eq_x_zz_181038 && not_p_181040;
            bool cond_177670 = p_and_eq_x_y_181039 || p_and_eq_x_y_181041;
            bool defunc_0_leq_res_t_res_177671 = sle64(redout_180861, index_concat_branch_180932);
            bool defunc_0_leq_res_177672 = sle64(redout_180862, index_concat_branch_180926);
            bool x_177673 = cond_177670 && defunc_0_leq_res_t_res_177671;
            bool x_177674 = !cond_177670;
            bool y_177675 = defunc_0_leq_res_177672 && x_177674;
            bool defunc_0_leq_res_177676 = x_177673 || y_177675;
            int8_t defunc_0_op_res_177677;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177677 = index_concat_branch_180938;
            } else {
                defunc_0_op_res_177677 = redout_180860;
            }
            
            int64_t defunc_0_op_res_177678;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177678 = index_concat_branch_180932;
            } else {
                defunc_0_op_res_177678 = redout_180861;
            }
            
            int64_t defunc_0_op_res_177679;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177679 = index_concat_branch_180926;
            } else {
                defunc_0_op_res_177679 = redout_180862;
            }
            
            int8_t redout_tmp_182671 = defunc_0_op_res_177677;
            int64_t redout_tmp_182672 = defunc_0_op_res_177678;
            int64_t redout_tmp_182673 = defunc_0_op_res_177679;
            
            redout_180860 = redout_tmp_182671;
            redout_180861 = redout_tmp_182672;
            redout_180862 = redout_tmp_182673;
        }
        x_182178 = redout_180860;
        x_182179 = redout_180861;
        x_182180 = redout_180862;
        defunc_0_reduce_res_180706 = x_182178;
        defunc_0_reduce_res_180707 = x_182179;
        defunc_0_reduce_res_180708 = x_182180;
    } else {
        defunc_0_reduce_res_180706 = (int8_t) 0;
        defunc_0_reduce_res_180707 = (int64_t) 0;
        defunc_0_reduce_res_180708 = (int64_t) 0;
    }
    
    int64_t distance_177691 = add64((int64_t) 1, tmp_177689);
    int64_t binop_x_181853 = (int64_t) 8 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181854 = block_sizze_177646 * binop_x_181853;
    int64_t bytes_181872 = (int64_t) 8 * block_sizze_177646;
    bool loop_cond_177800 = slt64(block_sizze_177646, flat_dim_177647);
    bool zzero_177801 = merge_block_sizze_177652 == (int64_t) 0;
    bool nonzzero_177802 = !zzero_177801;
    
    if (cond_177630) {
        if (memblock_set(ctx, &ext_mem_182145, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &mem_181850, "mem_181850") != 0)
            return 1;
    } else {
        if (mem_181852_cached_sizze_182992 < flat_dim_177647) {
            err = lexical_realloc(ctx, &mem_181852, &mem_181852_cached_sizze_182992, flat_dim_177647);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182993 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182993, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181858_cached_sizze_182994 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181858, &mem_181858_cached_sizze_182994, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181871_cached_sizze_182995 < block_sizze_177646) {
            err = lexical_realloc(ctx, &mem_181871, &mem_181871_cached_sizze_182995, block_sizze_177646);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181873_cached_sizze_182996 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181873, &mem_181873_cached_sizze_182996, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181875_cached_sizze_182997 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181875, &mem_181875_cached_sizze_182997, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180880 = 0; i_180880 < smallest_pow_2_geq_than_res_177636; i_180880++) {
            int64_t zp_lhs_177699 = mul64(block_sizze_177646, i_180880);
            
            for (int64_t i_180870 = 0; i_180870 < block_sizze_177646; i_180870++) {
                int64_t k_177704 = add64(zp_lhs_177699, i_180870);
                bool cond_177705 = slt64(k_177704, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
                int8_t lifted_lambda_res_177706;
                int64_t lifted_lambda_res_177707;
                int64_t lifted_lambda_res_177708;
                
                if (cond_177705) {
                    bool x_180481 = sle64((int64_t) 0, k_177704);
                    bool bounds_check_180482 = cond_177705 && x_180481;
                    bool index_certs_180483;
                    
                    if (!bounds_check_180482) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177704, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180484 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, k_177704);
                    int8_t index_concat_branch_180485 = btoi_bool_i8(index_concat_cmp_180484);
                    int64_t index_concat_branch_180486;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180487 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t index_primexp_180488 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180487);
                        
                        index_concat_branch_180486 = index_primexp_180488;
                    } else {
                        int64_t index_primexp_180489 = add64(defunc_0_merge_pipeline_res_175556, k_177704);
                        
                        index_concat_branch_180486 = index_primexp_180489;
                    }
                    
                    int64_t index_concat_branch_180490;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180491 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t slice_180492 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180491;
                        int64_t index_concat_180493 = ((int64_t *) b_list_mem_181053.mem)[slice_180492];
                        
                        index_concat_branch_180490 = index_concat_180493;
                    } else {
                        int64_t slice_180494 = defunc_0_merge_pipeline_res_175556 + k_177704;
                        int64_t index_concat_180495 = ((int64_t *) a_list_mem_181052.mem)[slice_180494];
                        
                        index_concat_branch_180490 = index_concat_180495;
                    }
                    lifted_lambda_res_177706 = index_concat_branch_180485;
                    lifted_lambda_res_177707 = index_concat_branch_180486;
                    lifted_lambda_res_177708 = index_concat_branch_180490;
                } else {
                    lifted_lambda_res_177706 = defunc_0_reduce_res_180706;
                    lifted_lambda_res_177707 = defunc_0_reduce_res_180707;
                    lifted_lambda_res_177708 = defunc_0_reduce_res_180708;
                }
                ((int8_t *) mem_181871)[i_180870] = lifted_lambda_res_177706;
                ((int64_t *) mem_181873)[i_180870] = lifted_lambda_res_177707;
                ((int64_t *) mem_181875)[i_180870] = lifted_lambda_res_177708;
            }
            if (!cond_177688) {
                for (int64_t i_177721 = 0; i_177721 < distance_177691; i_177721++) {
                    int64_t gt_arg1_177725 = add64((int64_t) 1, i_177721);
                    bool x_177726 = sle64((int64_t) 0, gt_arg1_177725);
                    bool y_177727 = slt64(gt_arg1_177725, block_sizze_177646);
                    bool bounds_check_177728 = x_177726 && y_177727;
                    bool index_certs_177729;
                    
                    if (!bounds_check_177728) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177725, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177733 = slt64(i_177721, block_sizze_177646);
                    bool index_certs_177734;
                    
                    if (!y_177733) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177721, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177730 = ((int8_t *) mem_181871)[gt_arg1_177725];
                    int64_t gt_arg1_177731 = ((int64_t *) mem_181873)[gt_arg1_177725];
                    int64_t gt_arg1_177732 = ((int64_t *) mem_181875)[gt_arg1_177725];
                    int8_t gt_arg0_177735 = ((int8_t *) mem_181871)[i_177721];
                    int64_t gt_arg0_177736 = ((int64_t *) mem_181873)[i_177721];
                    int64_t gt_arg0_177737 = ((int64_t *) mem_181875)[i_177721];
                    bool cond_177738 = gt_arg0_177735 == gt_arg1_177730;
                    bool defunc_0_leq_res_t_res_177739 = sle64(gt_arg0_177736, gt_arg1_177731);
                    bool defunc_0_leq_res_177740 = sle64(gt_arg0_177737, gt_arg1_177732);
                    bool x_177741 = cond_177738 && defunc_0_leq_res_t_res_177739;
                    bool x_177742 = !cond_177738;
                    bool y_177743 = defunc_0_leq_res_177740 && x_177742;
                    bool defunc_0_leq_res_177744 = x_177741 || y_177743;
                    bool defunc_0_lifted_gt_res_177745 = !defunc_0_leq_res_177744;
                    bool s_177746;
                    int64_t s_177750;
                    bool loop_while_177751;
                    int64_t j_177755;
                    
                    loop_while_177751 = defunc_0_lifted_gt_res_177745;
                    j_177755 = i_177721;
                    while (loop_while_177751) {
                        bool x_177756 = sle64((int64_t) 0, j_177755);
                        bool y_177757 = slt64(j_177755, block_sizze_177646);
                        bool bounds_check_177758 = x_177756 && y_177757;
                        bool index_certs_177759;
                        
                        if (!bounds_check_177758) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177755, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177763 = add64((int64_t) 1, j_177755);
                        bool x_177764 = sle64((int64_t) 0, copy_arg0_177763);
                        bool y_177765 = slt64(copy_arg0_177763, block_sizze_177646);
                        bool bounds_check_177766 = x_177764 && y_177765;
                        bool index_certs_177767;
                        
                        if (!bounds_check_177766) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177763, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177760 = ((int8_t *) mem_181871)[j_177755];
                        int64_t copy_arg0_177761 = ((int64_t *) mem_181873)[j_177755];
                        int64_t copy_arg0_177762 = ((int64_t *) mem_181875)[j_177755];
                        int8_t copy_arg0_177768 = ((int8_t *) mem_181871)[copy_arg0_177763];
                        int64_t copy_arg0_177769 = ((int64_t *) mem_181873)[copy_arg0_177763];
                        int64_t copy_arg0_177770 = ((int64_t *) mem_181875)[copy_arg0_177763];
                        
                        ((int8_t *) mem_181871)[j_177755] = copy_arg0_177768;
                        ((int64_t *) mem_181873)[j_177755] = copy_arg0_177769;
                        ((int64_t *) mem_181875)[j_177755] = copy_arg0_177770;
                        ((int8_t *) mem_181871)[copy_arg0_177763] = copy_arg0_177760;
                        ((int64_t *) mem_181873)[copy_arg0_177763] = copy_arg0_177761;
                        ((int64_t *) mem_181875)[copy_arg0_177763] = copy_arg0_177762;
                        
                        int64_t tmp_177777 = sub64(j_177755, (int64_t) 1);
                        bool cond_177778 = sle64((int64_t) 0, tmp_177777);
                        bool loop_cond_177779;
                        
                        if (cond_177778) {
                            bool y_180499 = slt64(tmp_177777, block_sizze_177646);
                            bool bounds_check_180500 = cond_177778 && y_180499;
                            bool index_certs_180501;
                            
                            if (!bounds_check_180500) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177777, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180496 = ((int8_t *) mem_181871)[j_177755];
                            int64_t gt_arg1_180497 = ((int64_t *) mem_181873)[j_177755];
                            int64_t gt_arg1_180498 = ((int64_t *) mem_181875)[j_177755];
                            int8_t gt_arg0_180502 = ((int8_t *) mem_181871)[tmp_177777];
                            int64_t gt_arg0_180503 = ((int64_t *) mem_181873)[tmp_177777];
                            int64_t gt_arg0_180504 = ((int64_t *) mem_181875)[tmp_177777];
                            bool cond_180505 = gt_arg0_180502 == gt_arg1_180496;
                            bool defunc_0_leq_res_t_res_180506 = sle64(gt_arg0_180503, gt_arg1_180497);
                            bool defunc_0_leq_res_180507 = sle64(gt_arg0_180504, gt_arg1_180498);
                            bool x_180508 = cond_180505 && defunc_0_leq_res_t_res_180506;
                            bool x_180509 = !cond_180505;
                            bool y_180510 = defunc_0_leq_res_180507 && x_180509;
                            bool defunc_0_leq_res_180511 = x_180508 || y_180510;
                            bool defunc_0_lifted_gt_res_180512 = !defunc_0_leq_res_180511;
                            
                            loop_cond_177779 = defunc_0_lifted_gt_res_180512;
                        } else {
                            loop_cond_177779 = 0;
                        }
                        
                        bool loop_while_tmp_182683 = loop_cond_177779;
                        int64_t j_tmp_182687 = tmp_177777;
                        
                        loop_while_177751 = loop_while_tmp_182683;
                        j_177755 = j_tmp_182687;
                    }
                    s_177746 = loop_while_177751;
                    s_177750 = j_177755;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181852, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181871, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181855, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181873, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181858, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181875, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
        }
        if (memblock_alloc(ctx, &mem_181952, flat_dim_177647, "mem_181952")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181952.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint8_t *) mem_181852, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181956, bytes_181854, "mem_181956")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181956.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181960, bytes_181854, "mem_181960")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181960.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181858, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        
        int64_t data_177803;
        bool data_177804;
        int64_t data_177808;
        int64_t loop_dz2084Uz2082U_177809;
        bool loop_while_177810;
        int64_t stride_177814;
        
        if (memblock_set(ctx, &mem_param_181964, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181967, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181970, &mem_181960, "mem_181960") != 0)
            return 1;
        loop_dz2084Uz2082U_177809 = flat_dim_177647;
        loop_while_177810 = loop_cond_177800;
        stride_177814 = block_sizze_177646;
        while (loop_while_177810) {
            int64_t next_stride_177815 = mul64((int64_t) 2, stride_177814);
            bool zzero_177816 = next_stride_177815 == (int64_t) 0;
            bool nonzzero_177817 = !zzero_177816;
            bool nonzzero_cert_177818;
            
            if (!nonzzero_177817) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177819 = sdiv64(flat_dim_177647, next_stride_177815);
            bool bounds_invalid_upwards_177820 = slt64(num_merges_177819, (int64_t) 0);
            bool valid_177821 = !bounds_invalid_upwards_177820;
            bool range_valid_c_177822;
            
            if (!valid_177821) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177819, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177824 = sub64(next_stride_177815, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177825 = sle64((int64_t) 0, m_177824);
            bool cond_177827 = slt64(next_stride_177815, (int64_t) 10);
            bool protect_assert_disj_177828 = nonzzero_177802 || cond_177827;
            bool nonzzero_cert_177829;
            
            if (!protect_assert_disj_177828) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177830 = smod_safe64(next_stride_177815, merge_block_sizze_177652);
            bool num_blocks_177831 = zeze_lhs_177830 == (int64_t) 0;
            bool protect_assert_disj_177832 = cond_177827 || num_blocks_177831;
            bool assert_c_177833;
            
            if (!protect_assert_disj_177832) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177835 = sdiv_safe64(next_stride_177815, merge_block_sizze_177652);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836 = add64((int64_t) 1, num_blocks_177835);
            int64_t j_m_i_177837 = sub64(next_stride_177815, stride_177814);
            int64_t flat_dim_177838 = merge_block_sizze_177652 * num_blocks_177835;
            bool bounds_invalid_upwards_177839 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, (int64_t) 0);
            bool empty_slice_177840 = j_m_i_177837 == (int64_t) 0;
            int64_t m_177841 = sub64(j_m_i_177837, (int64_t) 1);
            bool zzero_lte_i_177842 = sle64((int64_t) 0, stride_177814);
            bool i_lte_j_177843 = sle64(stride_177814, next_stride_177815);
            bool empty_slice_177844 = stride_177814 == (int64_t) 0;
            int64_t m_177845 = sub64(stride_177814, (int64_t) 1);
            bool bounds_invalid_upwards_177846 = slt64(num_blocks_177835, (int64_t) 0);
            bool cond_177847 = slt64((int64_t) 0, stride_177814);
            bool valid_177848 = !bounds_invalid_upwards_177839;
            int64_t i_p_m_t_s_177849 = add64(stride_177814, m_177841);
            bool zzero_leq_i_p_m_t_s_177850 = sle64((int64_t) 0, m_177845);
            bool i_p_m_t_s_leq_w_177851 = slt64(m_177845, next_stride_177815);
            bool valid_177852 = !bounds_invalid_upwards_177846;
            bool i_p_m_t_s_leq_w_177853 = slt64(m_177824, flat_dim_177838);
            bool y_177854 = slt64((int64_t) 0, j_m_i_177837);
            bool protect_assert_disj_177855 = cond_177827 || valid_177848;
            bool range_valid_c_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177857 = sle64((int64_t) 0, i_p_m_t_s_177849);
            bool i_p_m_t_s_leq_w_177858 = slt64(i_p_m_t_s_177849, next_stride_177815);
            bool y_177859 = zzero_leq_i_p_m_t_s_177850 && i_p_m_t_s_leq_w_177851;
            bool protect_assert_disj_177860 = cond_177827 || valid_177852;
            bool range_valid_c_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177835, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177862 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177853;
            bool y_177863 = zzero_lte_i_177842 && i_p_m_t_s_leq_w_177858;
            bool forwards_ok_177864 = zzero_lte_i_177842 && y_177859;
            bool ok_or_empty_177865 = zzero_177816 || y_177862;
            bool protect_assert_disj_177866 = cond_177847 || y_177854;
            bool y_177867 = zzero_leq_i_p_m_t_s_177857 && y_177863;
            bool ok_or_empty_177868 = empty_slice_177844 || forwards_ok_177864;
            bool protect_assert_disj_177869 = cond_177827 || ok_or_empty_177865;
            bool index_certs_177870;
            
            if (!protect_assert_disj_177869) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) flat_dim_177838, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177871 = !cond_177827;
            bool protect_assert_disj_177872 = protect_assert_disj_177866 || loop_not_taken_177871;
            bool index_certs_177873;
            
            if (!protect_assert_disj_177872) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177874 = i_lte_j_177843 && y_177867;
            bool protect_assert_disj_177875 = cond_177827 || ok_or_empty_177868;
            bool index_certs_177876;
            
            if (!protect_assert_disj_177875) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177877 = ok_or_empty_177868 || loop_not_taken_177871;
            bool index_certs_177878;
            
            if (!protect_assert_disj_177877) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177879 = empty_slice_177840 || forwards_ok_177874;
            bool protect_assert_disj_177880 = cond_177827 || ok_or_empty_177879;
            bool index_certs_177881;
            
            if (!protect_assert_disj_177880) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177882 = loop_not_taken_177871 || ok_or_empty_177879;
            bool index_certs_177883;
            
            if (!protect_assert_disj_177882) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181971 = next_stride_177815 * num_merges_177819;
            int64_t binop_x_181973 = (int64_t) 8 * num_merges_177819;
            int64_t bytes_181974 = next_stride_177815 * binop_x_181973;
            bool i_lte_j_177826 = sle64((int64_t) 0, next_stride_177815);
            
            if (mem_181972_cached_sizze_182998 < bytes_181971) {
                err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182998, bytes_181971);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181975_cached_sizze_182999 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181975, &mem_181975_cached_sizze_182999, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181978_cached_sizze_183000 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181978, &mem_181978_cached_sizze_183000, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181991 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836;
            int64_t binop_x_182009 = (int64_t) 8 * num_blocks_177835;
            int64_t bytes_182010 = merge_block_sizze_177652 * binop_x_182009;
            int64_t bytes_182074 = (int64_t) 16 * stride_177814;
            
            for (int64_t i_180907 = 0; i_180907 < num_merges_177819; i_180907++) {
                int64_t start_177888 = mul64(next_stride_177815, i_180907);
                int64_t j_m_i_177889 = sub64(loop_dz2084Uz2082U_177809, start_177888);
                bool empty_slice_177890 = j_m_i_177889 == (int64_t) 0;
                int64_t m_177891 = sub64(j_m_i_177889, (int64_t) 1);
                int64_t i_p_m_t_s_177892 = add64(start_177888, m_177891);
                bool zzero_leq_i_p_m_t_s_177893 = sle64((int64_t) 0, i_p_m_t_s_177892);
                bool i_p_m_t_s_leq_w_177894 = slt64(i_p_m_t_s_177892, loop_dz2084Uz2082U_177809);
                bool zzero_lte_i_177895 = sle64((int64_t) 0, start_177888);
                bool i_lte_j_177896 = sle64(start_177888, loop_dz2084Uz2082U_177809);
                bool y_177897 = i_p_m_t_s_leq_w_177894 && zzero_lte_i_177895;
                bool y_177898 = zzero_leq_i_p_m_t_s_177893 && y_177897;
                bool forwards_ok_177899 = i_lte_j_177896 && y_177898;
                bool ok_or_empty_177900 = empty_slice_177890 || forwards_ok_177899;
                bool index_certs_177901;
                
                if (!ok_or_empty_177900) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177888, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177809, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177902 = slt64(m_177824, j_m_i_177889);
                bool y_177903 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177902;
                bool forwards_ok_177904 = i_lte_j_177826 && y_177903;
                bool ok_or_empty_177905 = zzero_177816 || forwards_ok_177904;
                bool index_certs_177906;
                
                if (!ok_or_empty_177905) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) j_m_i_177889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177827) {
                    int8_t dummy_180551;
                    int64_t dummy_180552;
                    int64_t dummy_180553;
                    
                    if (cond_177847) {
                        int8_t head_res_180554 = ((int8_t *) mem_param_181964.mem)[start_177888];
                        int64_t head_res_180555 = ((int64_t *) mem_param_181967.mem)[start_177888];
                        int64_t head_res_180556 = ((int64_t *) mem_param_181970.mem)[start_177888];
                        
                        dummy_180551 = head_res_180554;
                        dummy_180552 = head_res_180555;
                        dummy_180553 = head_res_180556;
                    } else {
                        int64_t slice_180557 = stride_177814 + start_177888;
                        int8_t head_res_180558 = ((int8_t *) mem_param_181964.mem)[slice_180557];
                        int64_t head_res_180559 = ((int64_t *) mem_param_181967.mem)[slice_180557];
                        int64_t head_res_180560 = ((int64_t *) mem_param_181970.mem)[slice_180557];
                        
                        dummy_180551 = head_res_180558;
                        dummy_180552 = head_res_180559;
                        dummy_180553 = head_res_180560;
                    }
                    if (memblock_alloc(ctx, &mem_182073, next_stride_177815, "mem_182073")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182700 = 0; nest_i_182700 < next_stride_177815; nest_i_182700++) {
                        ((int8_t *) mem_182073.mem)[nest_i_182700] = dummy_180551;
                    }
                    if (memblock_alloc(ctx, &mem_182075, bytes_182074, "mem_182075")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182701 = 0; nest_i_182701 < next_stride_177815; nest_i_182701++) {
                        ((int64_t *) mem_182075.mem)[nest_i_182701] = dummy_180552;
                    }
                    if (memblock_alloc(ctx, &mem_182077, bytes_182074, "mem_182077")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182702 = 0; nest_i_182702 < next_stride_177815; nest_i_182702++) {
                        ((int64_t *) mem_182077.mem)[nest_i_182702] = dummy_180553;
                    }
                    
                    int64_t data_180564;
                    int64_t i_180569 = (int64_t) 0;
                    
                    for (int64_t k_180568 = 0; k_180568 < next_stride_177815; k_180568++) {
                        int64_t j_180573 = sub64(k_180568, i_180569);
                        bool cond_180574 = j_180573 == j_m_i_177837;
                        bool cond_180575;
                        
                        if (cond_180574) {
                            cond_180575 = 1;
                        } else {
                            bool cond_180576 = slt64(i_180569, stride_177814);
                            bool cond_f_res_180577;
                            
                            if (cond_180576) {
                                bool x_180578 = sle64((int64_t) 0, j_180573);
                                bool y_180579 = slt64(j_180573, j_m_i_177837);
                                bool bounds_check_180580 = x_180578 && y_180579;
                                bool index_certs_180581;
                                
                                if (!bounds_check_180580) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180587 = sle64((int64_t) 0, i_180569);
                                bool bounds_check_180588 = cond_180576 && x_180587;
                                bool index_certs_180589;
                                
                                if (!bounds_check_180588) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180582 = stride_177814 + j_180573;
                                int64_t slice_180583 = start_177888 + slice_180582;
                                int8_t leq_arg1_180584 = ((int8_t *) mem_param_181964.mem)[slice_180583];
                                int64_t leq_arg1_180585 = ((int64_t *) mem_param_181967.mem)[slice_180583];
                                int64_t leq_arg1_180586 = ((int64_t *) mem_param_181970.mem)[slice_180583];
                                int64_t slice_180590 = start_177888 + i_180569;
                                int8_t leq_arg0_180591 = ((int8_t *) mem_param_181964.mem)[slice_180590];
                                int64_t leq_arg0_180592 = ((int64_t *) mem_param_181967.mem)[slice_180590];
                                int64_t leq_arg0_180593 = ((int64_t *) mem_param_181970.mem)[slice_180590];
                                bool cond_180594 = leq_arg0_180591 == leq_arg1_180584;
                                bool defunc_0_leq_res_t_res_180595 = sle64(leq_arg0_180592, leq_arg1_180585);
                                bool defunc_0_leq_res_180596 = sle64(leq_arg0_180593, leq_arg1_180586);
                                bool x_180597 = cond_180594 && defunc_0_leq_res_t_res_180595;
                                bool x_180598 = !cond_180594;
                                bool y_180599 = defunc_0_leq_res_180596 && x_180598;
                                bool defunc_0_leq_res_180600 = x_180597 || y_180599;
                                
                                cond_f_res_180577 = defunc_0_leq_res_180600;
                            } else {
                                cond_f_res_180577 = 0;
                            }
                            cond_180575 = cond_f_res_180577;
                        }
                        
                        int64_t loopres_180601;
                        int8_t loopres_180602;
                        int64_t loopres_180603;
                        int64_t loopres_180604;
                        
                        if (cond_180575) {
                            bool x_180606 = sle64((int64_t) 0, i_180569);
                            bool y_180607 = slt64(i_180569, stride_177814);
                            bool bounds_check_180608 = x_180606 && y_180607;
                            bool index_certs_180609;
                            
                            if (!bounds_check_180608) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180605 = add64((int64_t) 1, i_180569);
                            int64_t slice_180610 = start_177888 + i_180569;
                            int8_t tmp_180611 = ((int8_t *) mem_param_181964.mem)[slice_180610];
                            int64_t tmp_180612 = ((int64_t *) mem_param_181967.mem)[slice_180610];
                            int64_t tmp_180613 = ((int64_t *) mem_param_181970.mem)[slice_180610];
                            
                            loopres_180601 = tmp_180605;
                            loopres_180602 = tmp_180611;
                            loopres_180603 = tmp_180612;
                            loopres_180604 = tmp_180613;
                        } else {
                            bool x_180614 = sle64((int64_t) 0, j_180573);
                            bool y_180615 = slt64(j_180573, j_m_i_177837);
                            bool bounds_check_180616 = x_180614 && y_180615;
                            bool index_certs_180617;
                            
                            if (!bounds_check_180616) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180618 = stride_177814 + j_180573;
                            int64_t slice_180619 = start_177888 + slice_180618;
                            int8_t tmp_180620 = ((int8_t *) mem_param_181964.mem)[slice_180619];
                            int64_t tmp_180621 = ((int64_t *) mem_param_181967.mem)[slice_180619];
                            int64_t tmp_180622 = ((int64_t *) mem_param_181970.mem)[slice_180619];
                            
                            loopres_180601 = i_180569;
                            loopres_180602 = tmp_180620;
                            loopres_180603 = tmp_180621;
                            loopres_180604 = tmp_180622;
                        }
                        ((int8_t *) mem_182073.mem)[k_180568] = loopres_180602;
                        ((int64_t *) mem_182075.mem)[k_180568] = loopres_180603;
                        ((int64_t *) mem_182077.mem)[k_180568] = loopres_180604;
                        
                        int64_t i_tmp_182703 = loopres_180601;
                        
                        i_180569 = i_tmp_182703;
                    }
                    data_180564 = i_180569;
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182073, "mem_182073") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182075, "mem_182075") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182077, "mem_182077") != 0)
                        return 1;
                } else {
                    if (mem_181992_cached_sizze_183001 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181992, &mem_181992_cached_sizze_183001, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_183002 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_183002, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180888 = 0; i_180888 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836; i_180888++) {
                        int64_t split_count_arg3_177989 = mul64(merge_block_sizze_177652, i_180888);
                        int64_t defunc_0_split_count_res_177990;
                        int64_t defunc_0_split_count_res_177991;
                        int64_t defunc_0_split_count_res_177992;
                        int64_t defunc_0_split_count_res_177993;
                        int64_t defunc_0_split_count_res_177994;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177990, &defunc_0_split_count_res_177991, &defunc_0_split_count_res_177992, &defunc_0_split_count_res_177993, &defunc_0_split_count_res_177994, (int64_t) 0, stride_177814, (int64_t) 0, j_m_i_177837, split_count_arg3_177989) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177995 = slt64((int64_t) 0, defunc_0_split_count_res_177994);
                        bool defunc_0_split_count_res_177996;
                        int64_t defunc_0_split_count_res_177997;
                        int64_t defunc_0_split_count_res_177998;
                        int64_t defunc_0_split_count_res_177999;
                        int64_t defunc_0_split_count_res_178000;
                        int64_t defunc_0_split_count_res_178001;
                        bool loop_while_178002;
                        int64_t ss_178003;
                        int64_t ss_178004;
                        int64_t tt_178005;
                        int64_t tt_178006;
                        int64_t count_178007;
                        
                        loop_while_178002 = loop_cond_177995;
                        ss_178003 = defunc_0_split_count_res_177990;
                        ss_178004 = defunc_0_split_count_res_177991;
                        tt_178005 = defunc_0_split_count_res_177992;
                        tt_178006 = defunc_0_split_count_res_177993;
                        count_178007 = defunc_0_split_count_res_177994;
                        while (loop_while_178002) {
                            int64_t zlze_lhs_178008 = sub64(ss_178004, ss_178003);
                            bool cond_178009 = sle64(zlze_lhs_178008, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178010;
                            int64_t defunc_0_lifted_step_res_178011;
                            int64_t defunc_0_lifted_step_res_178012;
                            int64_t defunc_0_lifted_step_res_178013;
                            
                            if (cond_178009) {
                                int64_t tmp_180626 = add64(tt_178005, count_178007);
                                
                                defunc_0_lifted_step_res_178010 = ss_178003;
                                defunc_0_lifted_step_res_178011 = tmp_180626;
                                defunc_0_lifted_step_res_178012 = tt_178006;
                                defunc_0_lifted_step_res_178013 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178015 = sub64(tt_178006, tt_178005);
                                bool cond_178016 = sle64(zlze_lhs_178015, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178017;
                                int64_t defunc_0_lifted_step_res_f_res_178018;
                                int64_t defunc_0_lifted_step_res_f_res_178019;
                                int64_t defunc_0_lifted_step_res_f_res_178020;
                                
                                if (cond_178016) {
                                    int64_t tmp_180627 = add64(ss_178003, count_178007);
                                    
                                    defunc_0_lifted_step_res_f_res_178017 = tmp_180627;
                                    defunc_0_lifted_step_res_f_res_178018 = tt_178005;
                                    defunc_0_lifted_step_res_f_res_178019 = tt_178006;
                                    defunc_0_lifted_step_res_f_res_178020 = (int64_t) 0;
                                } else {
                                    bool cond_178022 = count_178007 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178023;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178024;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178025;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178026;
                                    
                                    if (cond_178022) {
                                        bool x_180629 = sle64((int64_t) 0, ss_178003);
                                        bool y_180630 = slt64(ss_178003, stride_177814);
                                        bool bounds_check_180631 = x_180629 && y_180630;
                                        bool index_certs_180632;
                                        
                                        if (!bounds_check_180631) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178003, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180637 = sle64((int64_t) 0, tt_178005);
                                        bool y_180638 = slt64(tt_178005, j_m_i_177837);
                                        bool bounds_check_180639 = x_180637 && y_180638;
                                        bool index_certs_180640;
                                        
                                        if (!bounds_check_180639) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178005, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180633 = start_177888 + ss_178003;
                                        int8_t leq_arg1_180634 = ((int8_t *) mem_param_181964.mem)[slice_180633];
                                        int64_t leq_arg1_180635 = ((int64_t *) mem_param_181967.mem)[slice_180633];
                                        int64_t leq_arg1_180636 = ((int64_t *) mem_param_181970.mem)[slice_180633];
                                        int64_t slice_180641 = stride_177814 + tt_178005;
                                        int64_t slice_180642 = start_177888 + slice_180641;
                                        int8_t leq_arg0_180643 = ((int8_t *) mem_param_181964.mem)[slice_180642];
                                        int64_t leq_arg0_180644 = ((int64_t *) mem_param_181967.mem)[slice_180642];
                                        int64_t leq_arg0_180645 = ((int64_t *) mem_param_181970.mem)[slice_180642];
                                        bool cond_180646 = leq_arg0_180643 == leq_arg1_180634;
                                        bool defunc_0_leq_res_t_res_180647 = sle64(leq_arg0_180644, leq_arg1_180635);
                                        bool defunc_0_leq_res_180648 = sle64(leq_arg0_180645, leq_arg1_180636);
                                        bool x_180649 = cond_180646 && defunc_0_leq_res_t_res_180647;
                                        bool x_180650 = !cond_180646;
                                        bool y_180651 = defunc_0_leq_res_180648 && x_180650;
                                        bool defunc_0_leq_res_180652 = x_180649 || y_180651;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        
                                        if (defunc_0_leq_res_180652) {
                                            int64_t tmp_180655 = add64((int64_t) 1, tt_178005);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = ss_178003;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tmp_180655;
                                        } else {
                                            int64_t tmp_180656 = add64((int64_t) 1, ss_178003);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = tmp_180656;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tt_178005;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = tt_178006;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = (int64_t) 0;
                                    } else {
                                        int64_t m_178055 = sdiv64(count_178007, (int64_t) 2);
                                        int64_t n_178056 = sub64(count_178007, m_178055);
                                        bool cond_178057 = n_178056 == (int64_t) 0;
                                        int64_t zgze_lhs_178058 = add64(ss_178003, m_178055);
                                        bool cond_f_res_178059 = sle64(ss_178004, zgze_lhs_178058);
                                        bool x_178060 = !cond_178057;
                                        bool y_178061 = cond_f_res_178059 && x_178060;
                                        bool cond_178062 = cond_178057 || y_178061;
                                        bool leq_y_x_178063;
                                        
                                        if (cond_178062) {
                                            leq_y_x_178063 = 1;
                                        } else {
                                            bool x_178064 = sle64((int64_t) 0, zgze_lhs_178058);
                                            bool y_178065 = slt64(zgze_lhs_178058, stride_177814);
                                            bool bounds_check_178066 = x_178064 && y_178065;
                                            bool index_certs_178067;
                                            
                                            if (!bounds_check_178066) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178058, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178072 = add64(tt_178005, n_178056);
                                            int64_t leq_arg0_178073 = sub64(zm_lhs_178072, (int64_t) 1);
                                            bool x_178074 = sle64((int64_t) 0, leq_arg0_178073);
                                            bool y_178075 = slt64(leq_arg0_178073, j_m_i_177837);
                                            bool bounds_check_178076 = x_178074 && y_178075;
                                            bool index_certs_178077;
                                            
                                            if (!bounds_check_178076) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178073, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178068 = start_177888 + zgze_lhs_178058;
                                            int8_t leq_arg1_178069 = ((int8_t *) mem_param_181964.mem)[slice_178068];
                                            int64_t leq_arg1_178070 = ((int64_t *) mem_param_181967.mem)[slice_178068];
                                            int64_t leq_arg1_178071 = ((int64_t *) mem_param_181970.mem)[slice_178068];
                                            int64_t slice_178078 = stride_177814 + leq_arg0_178073;
                                            int64_t slice_178079 = start_177888 + slice_178078;
                                            int8_t leq_arg0_178080 = ((int8_t *) mem_param_181964.mem)[slice_178079];
                                            int64_t leq_arg0_178081 = ((int64_t *) mem_param_181967.mem)[slice_178079];
                                            int64_t leq_arg0_178082 = ((int64_t *) mem_param_181970.mem)[slice_178079];
                                            bool cond_178083 = leq_arg0_178080 == leq_arg1_178069;
                                            bool defunc_0_leq_res_t_res_178084 = sle64(leq_arg0_178081, leq_arg1_178070);
                                            bool defunc_0_leq_res_178085 = sle64(leq_arg0_178082, leq_arg1_178071);
                                            bool x_178086 = cond_178083 && defunc_0_leq_res_t_res_178084;
                                            bool x_178087 = !cond_178083;
                                            bool y_178088 = defunc_0_leq_res_178085 && x_178087;
                                            bool defunc_0_leq_res_178089 = x_178086 || y_178088;
                                            
                                            leq_y_x_178063 = defunc_0_leq_res_178089;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                        
                                        if (leq_y_x_178063) {
                                            int64_t tmp_180657 = add64(tt_178005, n_178056);
                                            int64_t tmp_180658 = sub64(count_178007, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tmp_180657;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tt_178006;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = tmp_180658;
                                        } else {
                                            int64_t tmp_178095 = add64(tt_178005, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tt_178005;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tmp_178095;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = count_178007;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = ss_178003;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                    }
                                    defunc_0_lifted_step_res_f_res_178017 = defunc_0_lifted_step_res_f_res_f_res_178023;
                                    defunc_0_lifted_step_res_f_res_178018 = defunc_0_lifted_step_res_f_res_f_res_178024;
                                    defunc_0_lifted_step_res_f_res_178019 = defunc_0_lifted_step_res_f_res_f_res_178025;
                                    defunc_0_lifted_step_res_f_res_178020 = defunc_0_lifted_step_res_f_res_f_res_178026;
                                }
                                defunc_0_lifted_step_res_178010 = defunc_0_lifted_step_res_f_res_178017;
                                defunc_0_lifted_step_res_178011 = defunc_0_lifted_step_res_f_res_178018;
                                defunc_0_lifted_step_res_178012 = defunc_0_lifted_step_res_f_res_178019;
                                defunc_0_lifted_step_res_178013 = defunc_0_lifted_step_res_f_res_178020;
                            }
                            
                            int64_t loopres_178096;
                            int64_t loopres_178097;
                            int64_t loopres_178098;
                            int64_t loopres_178099;
                            int64_t loopres_178100;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_178096, &loopres_178097, &loopres_178098, &loopres_178099, &loopres_178100, defunc_0_lifted_step_res_178010, ss_178004, defunc_0_lifted_step_res_178011, defunc_0_lifted_step_res_178012, defunc_0_lifted_step_res_178013) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178101 = slt64((int64_t) 0, loopres_178100);
                            bool loop_while_tmp_182709 = loop_cond_178101;
                            int64_t ss_tmp_182710 = loopres_178096;
                            int64_t ss_tmp_182711 = loopres_178097;
                            int64_t tt_tmp_182712 = loopres_178098;
                            int64_t tt_tmp_182713 = loopres_178099;
                            int64_t count_tmp_182714 = loopres_178100;
                            
                            loop_while_178002 = loop_while_tmp_182709;
                            ss_178003 = ss_tmp_182710;
                            ss_178004 = ss_tmp_182711;
                            tt_178005 = tt_tmp_182712;
                            tt_178006 = tt_tmp_182713;
                            count_178007 = count_tmp_182714;
                        }
                        defunc_0_split_count_res_177996 = loop_while_178002;
                        defunc_0_split_count_res_177997 = ss_178003;
                        defunc_0_split_count_res_177998 = ss_178004;
                        defunc_0_split_count_res_177999 = tt_178005;
                        defunc_0_split_count_res_178000 = tt_178006;
                        defunc_0_split_count_res_178001 = count_178007;
                        ((int64_t *) mem_181992)[i_180888] = defunc_0_split_count_res_177997;
                        ((int64_t *) mem_181994)[i_180888] = defunc_0_split_count_res_177999;
                    }
                    if (mem_182008_cached_sizze_183003 < flat_dim_177838) {
                        err = lexical_realloc(ctx, &mem_182008, &mem_182008_cached_sizze_183003, flat_dim_177838);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182011_cached_sizze_183004 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182011, &mem_182011_cached_sizze_183004, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182014_cached_sizze_183005 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182014, &mem_182014_cached_sizze_183005, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180897 = 0; i_180897 < num_blocks_177835; i_180897++) {
                        bool y_178108 = slt64(i_180897, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool index_certs_178110;
                        
                        if (!y_178108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178111 = ((int64_t *) mem_181992)[i_180897];
                        int64_t defunc_0_f_res_178112 = ((int64_t *) mem_181994)[i_180897];
                        int64_t tmp_178113 = add64((int64_t) 1, i_180897);
                        bool x_178114 = sle64((int64_t) 0, tmp_178113);
                        bool y_178115 = slt64(tmp_178113, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool bounds_check_178116 = x_178114 && y_178115;
                        bool index_certs_178117;
                        
                        if (!bounds_check_178116) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178113, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178118 = ((int64_t *) mem_181992)[tmp_178113];
                        int64_t defunc_0_f_res_178119 = ((int64_t *) mem_181994)[tmp_178113];
                        int64_t merge_sequential_arg2_178120 = add64(stride_177814, defunc_0_f_res_178112);
                        int64_t merge_sequential_arg2_178121 = add64(stride_177814, defunc_0_f_res_178119);
                        int64_t j_m_i_178122 = sub64(merge_sequential_arg2_178121, merge_sequential_arg2_178120);
                        bool empty_slice_178123 = j_m_i_178122 == (int64_t) 0;
                        int64_t m_178124 = sub64(j_m_i_178122, (int64_t) 1);
                        int64_t i_p_m_t_s_178125 = add64(merge_sequential_arg2_178120, m_178124);
                        bool zzero_leq_i_p_m_t_s_178126 = sle64((int64_t) 0, i_p_m_t_s_178125);
                        bool i_p_m_t_s_leq_w_178127 = slt64(i_p_m_t_s_178125, next_stride_177815);
                        bool zzero_lte_i_178128 = sle64((int64_t) 0, merge_sequential_arg2_178120);
                        bool i_lte_j_178129 = sle64(merge_sequential_arg2_178120, merge_sequential_arg2_178121);
                        bool y_178130 = i_p_m_t_s_leq_w_178127 && zzero_lte_i_178128;
                        bool y_178131 = zzero_leq_i_p_m_t_s_178126 && y_178130;
                        bool forwards_ok_178132 = i_lte_j_178129 && y_178131;
                        bool ok_or_empty_178133 = empty_slice_178123 || forwards_ok_178132;
                        bool index_certs_178134;
                        
                        if (!ok_or_empty_178133) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178120, ":", (long long) merge_sequential_arg2_178121, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178135 = sub64(defunc_0_f_res_178118, defunc_0_f_res_178111);
                        bool empty_slice_178136 = j_m_i_178135 == (int64_t) 0;
                        int64_t m_178137 = sub64(j_m_i_178135, (int64_t) 1);
                        int64_t i_p_m_t_s_178138 = add64(defunc_0_f_res_178111, m_178137);
                        bool zzero_leq_i_p_m_t_s_178139 = sle64((int64_t) 0, i_p_m_t_s_178138);
                        bool i_p_m_t_s_leq_w_178140 = slt64(i_p_m_t_s_178138, next_stride_177815);
                        bool zzero_lte_i_178141 = sle64((int64_t) 0, defunc_0_f_res_178111);
                        bool i_lte_j_178142 = sle64(defunc_0_f_res_178111, defunc_0_f_res_178118);
                        bool y_178143 = i_p_m_t_s_leq_w_178140 && zzero_lte_i_178141;
                        bool y_178144 = zzero_leq_i_p_m_t_s_178139 && y_178143;
                        bool forwards_ok_178145 = i_lte_j_178142 && y_178144;
                        bool ok_or_empty_178146 = empty_slice_178136 || forwards_ok_178145;
                        bool index_certs_178147;
                        
                        if (!ok_or_empty_178146) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178111, ":", (long long) defunc_0_f_res_178118, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178148 = slt64((int64_t) 0, j_m_i_178135);
                        int8_t dummy_178149;
                        int64_t dummy_178150;
                        int64_t dummy_178151;
                        
                        if (cond_178148) {
                            bool index_certs_180659;
                            
                            if (!cond_178148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180660 = start_177888 + defunc_0_f_res_178111;
                            int8_t head_res_180661 = ((int8_t *) mem_param_181964.mem)[slice_180660];
                            int64_t head_res_180662 = ((int64_t *) mem_param_181967.mem)[slice_180660];
                            int64_t head_res_180663 = ((int64_t *) mem_param_181970.mem)[slice_180660];
                            
                            dummy_178149 = head_res_180661;
                            dummy_178150 = head_res_180662;
                            dummy_178151 = head_res_180663;
                        } else {
                            bool y_178157 = slt64((int64_t) 0, j_m_i_178122);
                            bool index_certs_178158;
                            
                            if (!y_178157) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178159 = start_177888 + merge_sequential_arg2_178120;
                            int8_t head_res_178160 = ((int8_t *) mem_param_181964.mem)[slice_178159];
                            int64_t head_res_178161 = ((int64_t *) mem_param_181967.mem)[slice_178159];
                            int64_t head_res_178162 = ((int64_t *) mem_param_181970.mem)[slice_178159];
                            
                            dummy_178149 = head_res_178160;
                            dummy_178150 = head_res_178161;
                            dummy_178151 = head_res_178162;
                        }
                        for (int64_t nest_i_182718 = 0; nest_i_182718 < merge_block_sizze_177652; nest_i_182718++) {
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + nest_i_182718] = dummy_178149;
                        }
                        for (int64_t nest_i_182719 = 0; nest_i_182719 < merge_block_sizze_177652; nest_i_182719++) {
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + nest_i_182719] = dummy_178150;
                        }
                        for (int64_t nest_i_182720 = 0; nest_i_182720 < merge_block_sizze_177652; nest_i_182720++) {
                            ((int64_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + nest_i_182720] = dummy_178151;
                        }
                        
                        int64_t data_178166;
                        int64_t i_178171 = (int64_t) 0;
                        
                        for (int64_t k_178170 = 0; k_178170 < merge_block_sizze_177652; k_178170++) {
                            int64_t j_178175 = sub64(k_178170, i_178171);
                            bool cond_178176 = j_178175 == j_m_i_178122;
                            bool cond_178177;
                            
                            if (cond_178176) {
                                cond_178177 = 1;
                            } else {
                                bool cond_178178 = slt64(i_178171, j_m_i_178135);
                                bool cond_f_res_178179;
                                
                                if (cond_178178) {
                                    bool x_180664 = sle64((int64_t) 0, j_178175);
                                    bool y_180665 = slt64(j_178175, j_m_i_178122);
                                    bool bounds_check_180666 = x_180664 && y_180665;
                                    bool index_certs_180667;
                                    
                                    if (!bounds_check_180666) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180673 = sle64((int64_t) 0, i_178171);
                                    bool bounds_check_180674 = cond_178178 && x_180673;
                                    bool index_certs_180675;
                                    
                                    if (!bounds_check_180674) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180668 = merge_sequential_arg2_178120 + j_178175;
                                    int64_t slice_180669 = start_177888 + slice_180668;
                                    int8_t leq_arg1_180670 = ((int8_t *) mem_param_181964.mem)[slice_180669];
                                    int64_t leq_arg1_180671 = ((int64_t *) mem_param_181967.mem)[slice_180669];
                                    int64_t leq_arg1_180672 = ((int64_t *) mem_param_181970.mem)[slice_180669];
                                    int64_t slice_180676 = defunc_0_f_res_178111 + i_178171;
                                    int64_t slice_180677 = start_177888 + slice_180676;
                                    int8_t leq_arg0_180678 = ((int8_t *) mem_param_181964.mem)[slice_180677];
                                    int64_t leq_arg0_180679 = ((int64_t *) mem_param_181967.mem)[slice_180677];
                                    int64_t leq_arg0_180680 = ((int64_t *) mem_param_181970.mem)[slice_180677];
                                    bool cond_180681 = leq_arg0_180678 == leq_arg1_180670;
                                    bool defunc_0_leq_res_t_res_180682 = sle64(leq_arg0_180679, leq_arg1_180671);
                                    bool defunc_0_leq_res_180683 = sle64(leq_arg0_180680, leq_arg1_180672);
                                    bool x_180684 = cond_180681 && defunc_0_leq_res_t_res_180682;
                                    bool x_180685 = !cond_180681;
                                    bool y_180686 = defunc_0_leq_res_180683 && x_180685;
                                    bool defunc_0_leq_res_180687 = x_180684 || y_180686;
                                    
                                    cond_f_res_178179 = defunc_0_leq_res_180687;
                                } else {
                                    cond_f_res_178179 = 0;
                                }
                                cond_178177 = cond_f_res_178179;
                            }
                            
                            int64_t loopres_178204;
                            int8_t loopres_178205;
                            int64_t loopres_178206;
                            int64_t loopres_178207;
                            
                            if (cond_178177) {
                                bool x_180689 = sle64((int64_t) 0, i_178171);
                                bool y_180690 = slt64(i_178171, j_m_i_178135);
                                bool bounds_check_180691 = x_180689 && y_180690;
                                bool index_certs_180692;
                                
                                if (!bounds_check_180691) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180688 = add64((int64_t) 1, i_178171);
                                int64_t slice_180693 = defunc_0_f_res_178111 + i_178171;
                                int64_t slice_180694 = start_177888 + slice_180693;
                                int8_t tmp_180695 = ((int8_t *) mem_param_181964.mem)[slice_180694];
                                int64_t tmp_180696 = ((int64_t *) mem_param_181967.mem)[slice_180694];
                                int64_t tmp_180697 = ((int64_t *) mem_param_181970.mem)[slice_180694];
                                
                                loopres_178204 = tmp_180688;
                                loopres_178205 = tmp_180695;
                                loopres_178206 = tmp_180696;
                                loopres_178207 = tmp_180697;
                            } else {
                                bool x_178218 = sle64((int64_t) 0, j_178175);
                                bool y_178219 = slt64(j_178175, j_m_i_178122);
                                bool bounds_check_178220 = x_178218 && y_178219;
                                bool index_certs_178221;
                                
                                if (!bounds_check_178220) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178222 = merge_sequential_arg2_178120 + j_178175;
                                int64_t slice_178223 = start_177888 + slice_178222;
                                int8_t tmp_178224 = ((int8_t *) mem_param_181964.mem)[slice_178223];
                                int64_t tmp_178225 = ((int64_t *) mem_param_181967.mem)[slice_178223];
                                int64_t tmp_178226 = ((int64_t *) mem_param_181970.mem)[slice_178223];
                                
                                loopres_178204 = i_178171;
                                loopres_178205 = tmp_178224;
                                loopres_178206 = tmp_178225;
                                loopres_178207 = tmp_178226;
                            }
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178205;
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178206;
                            ((int64_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178207;
                            
                            int64_t i_tmp_182721 = loopres_178204;
                            
                            i_178171 = i_tmp_182721;
                        }
                        data_178166 = i_178171;
                    }
                    if (memblock_alloc(ctx, &mem_182063, flat_dim_177838, "mem_182063")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182063.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint8_t *) mem_182008, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182067, bytes_182010, "mem_182067")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182067.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182011, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182071, bytes_182010, "mem_182071")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182071.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182014, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182063, "mem_182063") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182067, "mem_182067") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182071, "mem_182071") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181972, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181975, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181978, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182098.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182118, bytes_181971, "mem_182118")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182118.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint8_t *) mem_181972, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182122, bytes_181974, "mem_182122")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182122.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181975, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182126, bytes_181974, "mem_182126")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182126.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181978, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            
            bool loop_cond_178240 = slt64(next_stride_177815, flat_dim_177647);
            
            if (memblock_set(ctx, &mem_param_tmp_182688, &mem_182118, "mem_182118") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182689, &mem_182122, "mem_182122") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182690, &mem_182126, "mem_182126") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182691 = bytes_181971;
            bool loop_while_tmp_182692 = loop_cond_178240;
            int64_t stride_tmp_182696 = next_stride_177815;
            
            if (memblock_set(ctx, &mem_param_181964, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181967, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181970, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
                return 1;
            loop_dz2084Uz2082U_177809 = loop_dz2084Uz2082U_tmp_182691;
            loop_while_177810 = loop_while_tmp_182692;
            stride_177814 = stride_tmp_182696;
        }
        if (memblock_set(ctx, &ext_mem_182136, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182135, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182134, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        data_177803 = loop_dz2084Uz2082U_177809;
        data_177804 = loop_while_177810;
        data_177808 = stride_177814;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178243 = slt64(zs_lhs_177631, data_177803);
        bool y_178244 = i_p_m_t_s_leq_w_178243 && zzero_leq_i_p_m_t_s_178257;
        bool ok_or_empty_178245 = y_178244 || empty_slice_178255;
        bool index_certs_178246;
        
        if (!ok_or_empty_178245) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) data_177803, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182145, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182145.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181056.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181058.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182139.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181056, "mem_181056") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182468, &mem_181058, "mem_181058") != 0)
        return 1;
    prim_out_182469 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    if (memblock_set(ctx, &*mem_out_p_182952, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182953, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182954, &mem_out_182468, "mem_out_182468") != 0)
        return 1;
    *out_prim_out_182955 = prim_out_182469;
    
  cleanup:
    {
        free(mem_181069);
        free(mem_181071);
        free(mem_181110);
        free(mem_181113);
        free(mem_181116);
        free(mem_181129);
        free(mem_181131);
        free(mem_181133);
        free(mem_181230);
        free(mem_181233);
        free(mem_181236);
        free(mem_181250);
        free(mem_181252);
        free(mem_181266);
        free(mem_181269);
        free(mem_181272);
        free(mem_181414);
        free(mem_181416);
        free(mem_181431);
        free(mem_181433);
        free(mem_181436);
        free(mem_181439);
        free(mem_181473);
        free(mem_181476);
        free(mem_181479);
        free(mem_181492);
        free(mem_181494);
        free(mem_181496);
        free(mem_181593);
        free(mem_181596);
        free(mem_181599);
        free(mem_181613);
        free(mem_181615);
        free(mem_181629);
        free(mem_181632);
        free(mem_181635);
        free(mem_181852);
        free(mem_181855);
        free(mem_181858);
        free(mem_181871);
        free(mem_181873);
        free(mem_181875);
        free(mem_181972);
        free(mem_181975);
        free(mem_181978);
        free(mem_181992);
        free(mem_181994);
        free(mem_182008);
        free(mem_182011);
        free(mem_182014);
        if (memblock_unref(ctx, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182126, "mem_182126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182122, "mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182118, "mem_182118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182071, "mem_182071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182067, "mem_182067") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182063, "mem_182063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182077, "mem_182077") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182075, "mem_182075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182073, "mem_182073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181384, "mem_181384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181380, "mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181376, "mem_181376") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181329, "mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181325, "mem_181325") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181321, "mem_181321") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181335, "mem_181335") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181333, "mem_181333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181228, "mem_param_181228") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181225, "mem_param_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181222, "mem_param_181222") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181392, "ext_mem_181392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181393, "ext_mem_181393") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181394, "ext_mem_181394") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181795, "mem_181795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181794, "mem_181794") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181792, "mem_181792") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181747, "mem_181747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181743, "mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181739, "mem_181739") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181692, "mem_181692") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181688, "mem_181688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181684, "mem_181684") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181698, "mem_181698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181696, "mem_181696") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181694, "mem_181694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181591, "mem_param_181591") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181588, "mem_param_181588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181585, "mem_param_181585") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181755, "ext_mem_181755") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181756, "ext_mem_181756") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181757, "ext_mem_181757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181058, "mem_181058") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182468, "mem_out_182468") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_183006, struct memblock *mem_out_p_183007, struct memblock *mem_out_p_183008, int64_t *out_prim_out_183009, struct memblock a_list_mem_181052, struct memblock b_list_mem_181053, int64_t na_121204, int64_t nb_121205, int64_t window_sizze_121206, int64_t threads_121207, bool inParallel_121210)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181069_cached_sizze_183010 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183011 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181110_cached_sizze_183012 = 0;
    unsigned char *mem_181110 = NULL;
    int64_t mem_181113_cached_sizze_183013 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181116_cached_sizze_183014 = 0;
    unsigned char *mem_181116 = NULL;
    int64_t mem_181129_cached_sizze_183015 = 0;
    unsigned char *mem_181129 = NULL;
    int64_t mem_181131_cached_sizze_183016 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181133_cached_sizze_183017 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181230_cached_sizze_183018 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181233_cached_sizze_183019 = 0;
    unsigned char *mem_181233 = NULL;
    int64_t mem_181236_cached_sizze_183020 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181250_cached_sizze_183021 = 0;
    unsigned char *mem_181250 = NULL;
    int64_t mem_181252_cached_sizze_183022 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181266_cached_sizze_183023 = 0;
    unsigned char *mem_181266 = NULL;
    int64_t mem_181269_cached_sizze_183024 = 0;
    unsigned char *mem_181269 = NULL;
    int64_t mem_181272_cached_sizze_183025 = 0;
    unsigned char *mem_181272 = NULL;
    int64_t mem_181414_cached_sizze_183026 = 0;
    unsigned char *mem_181414 = NULL;
    int64_t mem_181416_cached_sizze_183027 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181431_cached_sizze_183028 = 0;
    unsigned char *mem_181431 = NULL;
    int64_t mem_181433_cached_sizze_183029 = 0;
    unsigned char *mem_181433 = NULL;
    int64_t mem_181436_cached_sizze_183030 = 0;
    unsigned char *mem_181436 = NULL;
    int64_t mem_181439_cached_sizze_183031 = 0;
    unsigned char *mem_181439 = NULL;
    int64_t mem_181473_cached_sizze_183032 = 0;
    unsigned char *mem_181473 = NULL;
    int64_t mem_181476_cached_sizze_183033 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181479_cached_sizze_183034 = 0;
    unsigned char *mem_181479 = NULL;
    int64_t mem_181492_cached_sizze_183035 = 0;
    unsigned char *mem_181492 = NULL;
    int64_t mem_181494_cached_sizze_183036 = 0;
    unsigned char *mem_181494 = NULL;
    int64_t mem_181496_cached_sizze_183037 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181593_cached_sizze_183038 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181596_cached_sizze_183039 = 0;
    unsigned char *mem_181596 = NULL;
    int64_t mem_181599_cached_sizze_183040 = 0;
    unsigned char *mem_181599 = NULL;
    int64_t mem_181613_cached_sizze_183041 = 0;
    unsigned char *mem_181613 = NULL;
    int64_t mem_181615_cached_sizze_183042 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181629_cached_sizze_183043 = 0;
    unsigned char *mem_181629 = NULL;
    int64_t mem_181632_cached_sizze_183044 = 0;
    unsigned char *mem_181632 = NULL;
    int64_t mem_181635_cached_sizze_183045 = 0;
    unsigned char *mem_181635 = NULL;
    int64_t mem_181852_cached_sizze_183046 = 0;
    unsigned char *mem_181852 = NULL;
    int64_t mem_181855_cached_sizze_183047 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181858_cached_sizze_183048 = 0;
    unsigned char *mem_181858 = NULL;
    int64_t mem_181871_cached_sizze_183049 = 0;
    unsigned char *mem_181871 = NULL;
    int64_t mem_181873_cached_sizze_183050 = 0;
    unsigned char *mem_181873 = NULL;
    int64_t mem_181875_cached_sizze_183051 = 0;
    unsigned char *mem_181875 = NULL;
    int64_t mem_181972_cached_sizze_183052 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181975_cached_sizze_183053 = 0;
    unsigned char *mem_181975 = NULL;
    int64_t mem_181978_cached_sizze_183054 = 0;
    unsigned char *mem_181978 = NULL;
    int64_t mem_181992_cached_sizze_183055 = 0;
    unsigned char *mem_181992 = NULL;
    int64_t mem_181994_cached_sizze_183056 = 0;
    unsigned char *mem_181994 = NULL;
    int64_t mem_182008_cached_sizze_183057 = 0;
    unsigned char *mem_182008 = NULL;
    int64_t mem_182011_cached_sizze_183058 = 0;
    unsigned char *mem_182011 = NULL;
    int64_t mem_182014_cached_sizze_183059 = 0;
    unsigned char *mem_182014 = NULL;
    struct memblock mem_param_tmp_182690;
    
    mem_param_tmp_182690.references = NULL;
    
    struct memblock mem_param_tmp_182689;
    
    mem_param_tmp_182689.references = NULL;
    
    struct memblock mem_param_tmp_182688;
    
    mem_param_tmp_182688.references = NULL;
    
    struct memblock mem_182126;
    
    mem_182126.references = NULL;
    
    struct memblock mem_182122;
    
    mem_182122.references = NULL;
    
    struct memblock mem_182118;
    
    mem_182118.references = NULL;
    
    struct memblock mem_182071;
    
    mem_182071.references = NULL;
    
    struct memblock mem_182067;
    
    mem_182067.references = NULL;
    
    struct memblock mem_182063;
    
    mem_182063.references = NULL;
    
    struct memblock mem_182077;
    
    mem_182077.references = NULL;
    
    struct memblock mem_182075;
    
    mem_182075.references = NULL;
    
    struct memblock mem_182073;
    
    mem_182073.references = NULL;
    
    struct memblock ext_mem_182098;
    
    ext_mem_182098.references = NULL;
    
    struct memblock ext_mem_182101;
    
    ext_mem_182101.references = NULL;
    
    struct memblock ext_mem_182104;
    
    ext_mem_182104.references = NULL;
    
    struct memblock mem_param_181970;
    
    mem_param_181970.references = NULL;
    
    struct memblock mem_param_181967;
    
    mem_param_181967.references = NULL;
    
    struct memblock mem_param_181964;
    
    mem_param_181964.references = NULL;
    
    struct memblock ext_mem_182134;
    
    ext_mem_182134.references = NULL;
    
    struct memblock ext_mem_182135;
    
    ext_mem_182135.references = NULL;
    
    struct memblock ext_mem_182136;
    
    ext_mem_182136.references = NULL;
    
    struct memblock mem_181960;
    
    mem_181960.references = NULL;
    
    struct memblock mem_181956;
    
    mem_181956.references = NULL;
    
    struct memblock mem_181952;
    
    mem_181952.references = NULL;
    
    struct memblock ext_mem_182139;
    
    ext_mem_182139.references = NULL;
    
    struct memblock ext_mem_182142;
    
    ext_mem_182142.references = NULL;
    
    struct memblock ext_mem_182145;
    
    ext_mem_182145.references = NULL;
    
    struct memblock mem_181850;
    
    mem_181850.references = NULL;
    
    struct memblock mem_181848;
    
    mem_181848.references = NULL;
    
    struct memblock mem_181846;
    
    mem_181846.references = NULL;
    
    struct memblock mem_param_tmp_182624;
    
    mem_param_tmp_182624.references = NULL;
    
    struct memblock mem_param_tmp_182623;
    
    mem_param_tmp_182623.references = NULL;
    
    struct memblock mem_param_tmp_182622;
    
    mem_param_tmp_182622.references = NULL;
    
    struct memblock mem_181384;
    
    mem_181384.references = NULL;
    
    struct memblock mem_181380;
    
    mem_181380.references = NULL;
    
    struct memblock mem_181376;
    
    mem_181376.references = NULL;
    
    struct memblock mem_181329;
    
    mem_181329.references = NULL;
    
    struct memblock mem_181325;
    
    mem_181325.references = NULL;
    
    struct memblock mem_181321;
    
    mem_181321.references = NULL;
    
    struct memblock mem_181335;
    
    mem_181335.references = NULL;
    
    struct memblock mem_181333;
    
    mem_181333.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock ext_mem_181356;
    
    ext_mem_181356.references = NULL;
    
    struct memblock ext_mem_181359;
    
    ext_mem_181359.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock mem_param_181228;
    
    mem_param_181228.references = NULL;
    
    struct memblock mem_param_181225;
    
    mem_param_181225.references = NULL;
    
    struct memblock mem_param_181222;
    
    mem_param_181222.references = NULL;
    
    struct memblock ext_mem_181392;
    
    ext_mem_181392.references = NULL;
    
    struct memblock ext_mem_181393;
    
    ext_mem_181393.references = NULL;
    
    struct memblock ext_mem_181394;
    
    ext_mem_181394.references = NULL;
    
    struct memblock mem_181218;
    
    mem_181218.references = NULL;
    
    struct memblock mem_181214;
    
    mem_181214.references = NULL;
    
    struct memblock mem_181210;
    
    mem_181210.references = NULL;
    
    struct memblock ext_mem_181397;
    
    ext_mem_181397.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181403;
    
    ext_mem_181403.references = NULL;
    
    struct memblock mem_181108;
    
    mem_181108.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock mem_181104;
    
    mem_181104.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181795;
    
    mem_181795.references = NULL;
    
    struct memblock mem_181794;
    
    mem_181794.references = NULL;
    
    struct memblock mem_181792;
    
    mem_181792.references = NULL;
    
    struct memblock mem_param_tmp_182530;
    
    mem_param_tmp_182530.references = NULL;
    
    struct memblock mem_param_tmp_182529;
    
    mem_param_tmp_182529.references = NULL;
    
    struct memblock mem_param_tmp_182528;
    
    mem_param_tmp_182528.references = NULL;
    
    struct memblock mem_181747;
    
    mem_181747.references = NULL;
    
    struct memblock mem_181743;
    
    mem_181743.references = NULL;
    
    struct memblock mem_181739;
    
    mem_181739.references = NULL;
    
    struct memblock mem_181692;
    
    mem_181692.references = NULL;
    
    struct memblock mem_181688;
    
    mem_181688.references = NULL;
    
    struct memblock mem_181684;
    
    mem_181684.references = NULL;
    
    struct memblock mem_181698;
    
    mem_181698.references = NULL;
    
    struct memblock mem_181696;
    
    mem_181696.references = NULL;
    
    struct memblock mem_181694;
    
    mem_181694.references = NULL;
    
    struct memblock ext_mem_181719;
    
    ext_mem_181719.references = NULL;
    
    struct memblock ext_mem_181722;
    
    ext_mem_181722.references = NULL;
    
    struct memblock ext_mem_181725;
    
    ext_mem_181725.references = NULL;
    
    struct memblock mem_param_181591;
    
    mem_param_181591.references = NULL;
    
    struct memblock mem_param_181588;
    
    mem_param_181588.references = NULL;
    
    struct memblock mem_param_181585;
    
    mem_param_181585.references = NULL;
    
    struct memblock ext_mem_181755;
    
    ext_mem_181755.references = NULL;
    
    struct memblock ext_mem_181756;
    
    ext_mem_181756.references = NULL;
    
    struct memblock ext_mem_181757;
    
    ext_mem_181757.references = NULL;
    
    struct memblock mem_181581;
    
    mem_181581.references = NULL;
    
    struct memblock mem_181577;
    
    mem_181577.references = NULL;
    
    struct memblock mem_181573;
    
    mem_181573.references = NULL;
    
    struct memblock ext_mem_181760;
    
    ext_mem_181760.references = NULL;
    
    struct memblock ext_mem_181763;
    
    ext_mem_181763.references = NULL;
    
    struct memblock ext_mem_181766;
    
    ext_mem_181766.references = NULL;
    
    struct memblock mem_181471;
    
    mem_181471.references = NULL;
    
    struct memblock mem_181469;
    
    mem_181469.references = NULL;
    
    struct memblock mem_181467;
    
    mem_181467.references = NULL;
    
    struct memblock ext_mem_181816;
    
    ext_mem_181816.references = NULL;
    
    struct memblock ext_mem_181819;
    
    ext_mem_181819.references = NULL;
    
    struct memblock ext_mem_181822;
    
    ext_mem_181822.references = NULL;
    
    struct memblock mem_181058;
    
    mem_181058.references = NULL;
    
    struct memblock mem_181056;
    
    mem_181056.references = NULL;
    
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t prim_out_182469;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541 = add64(na_121204, nb_121205);
    
    if (memblock_alloc(ctx, &mem_181054, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182470 = 0; nest_i_182470 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182470++) {
        ((int8_t *) mem_181054.mem)[nest_i_182470] = (int8_t) -1;
    }
    
    int64_t bytes_181055 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181056, bytes_181055, "mem_181056")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182471 = 0; nest_i_182471 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182471++) {
        ((int64_t *) mem_181056.mem)[nest_i_182471] = (int64_t) -1;
    }
    
    int64_t bytes_181057 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    
    if (memblock_alloc(ctx, &mem_181058, bytes_181057, "mem_181058")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182472 = 0; nest_i_182472 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541; nest_i_182472++) {
        ((int16_t *) mem_181058.mem)[nest_i_182472] = (int16_t) 0;
    }
    
    int64_t zl_rhs_175545 = sub64(na_121204, window_sizze_121206);
    bool cond_175546 = slt64((int64_t) 0, zl_rhs_175545);
    int64_t zl_rhs_175547 = sub64(nb_121205, window_sizze_121206);
    bool loop_cond_t_res_175548 = slt64((int64_t) 0, zl_rhs_175547);
    bool x_175549 = cond_175546 && loop_cond_t_res_175548;
    bool empty_slice_175550 = window_sizze_121206 == (int64_t) 0;
    int64_t m_175551 = sub64(window_sizze_121206, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576 = add64((int64_t) 1, threads_121207);
    int64_t partitionFunc_arg0_176577 = mul64((int64_t) 2, threads_121207);
    bool y_176579 = slt64((int64_t) 0, window_sizze_121206);
    bool loop_cond_176825 = slt64((int64_t) 0, threads_121207);
    bool zzero_175596 = threads_121207 == (int64_t) 0;
    bool nonzzero_175597 = !zzero_175596;
    bool loop_not_taken_178354 = !inParallel_121210;
    bool protect_assert_disj_178355 = nonzzero_175597 || loop_not_taken_178354;
    bool loop_not_taken_178444 = !x_175549;
    bool protect_assert_disj_178445 = protect_assert_disj_178355 || loop_not_taken_178444;
    bool nonzzero_cert_175598;
    
    if (!protect_assert_disj_178445) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175599 = sdiv_safe64(window_sizze_121206, threads_121207);
    int64_t perThread_175600 = add64((int64_t) 1, zp_rhs_175599);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601 = mul64(threads_121207, perThread_175600);
    bool protect_assert_disj_178491 = inParallel_121210 || y_176579;
    bool protect_assert_disj_178495 = loop_not_taken_178444 || protect_assert_disj_178491;
    bool index_certs_176580;
    
    if (!protect_assert_disj_178495) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176595 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, (int64_t) 1);
    bool y_177552 = slt64(threads_121207, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
    bool protect_assert_disj_178460 = y_176579 || loop_not_taken_178354;
    bool protect_assert_disj_178499 = loop_not_taken_178444 || protect_assert_disj_178460;
    bool index_certs_175604;
    
    if (!protect_assert_disj_178499) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176597 = !bounds_invalid_upwards_176595;
    bool protect_assert_disj_178507 = inParallel_121210 || y_177552;
    bool protect_assert_disj_178509 = loop_not_taken_178444 || protect_assert_disj_178507;
    bool index_certs_177554;
    
    if (!protect_assert_disj_178509) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121207, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178503 = y_177552 || loop_not_taken_178354;
    bool protect_assert_disj_178511 = loop_not_taken_178444 || protect_assert_disj_178503;
    bool index_certs_176558;
    
    if (!protect_assert_disj_178511) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121207, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178519 = inParallel_121210 || valid_176597;
    bool protect_assert_disj_178521 = loop_not_taken_178444 || protect_assert_disj_178519;
    bool range_valid_c_176598;
    
    if (!protect_assert_disj_178521) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178363 = sle64((int64_t) 1, threads_121207);
    bool protect_assert_disj_178515 = valid_176597 || loop_not_taken_178354;
    bool protect_assert_disj_178523 = loop_not_taken_178444 || protect_assert_disj_178515;
    bool range_valid_c_175611;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176600 = add64(window_sizze_121206, window_sizze_121206);
    bool zzero_176601 = partitionFunc_arg0_176577 == (int64_t) 0;
    int64_t index_concat_i_178364 = sub64(threads_121207, (int64_t) 1);
    bool nonzzero_176602 = !zzero_176601;
    bool protect_assert_disj_178531 = inParallel_121210 || nonzzero_176602;
    bool protect_assert_disj_178537 = loop_not_taken_178444 || protect_assert_disj_178531;
    bool nonzzero_cert_176603;
    
    if (!protect_assert_disj_178537) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178527 = nonzzero_176602 || loop_not_taken_178354;
    bool protect_assert_disj_178543 = loop_not_taken_178444 || protect_assert_disj_178527;
    bool nonzzero_cert_175616;
    
    if (!protect_assert_disj_178543) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181068 = (int64_t) 8 * threads_121207;
    int64_t bytes_181085 = (int64_t) 8 * window_sizze_121206;
    int64_t bytes_181087 = (int64_t) 2 * window_sizze_121206;
    int64_t bytes_181430 = perThread_175600 * bytes_181068;
    int64_t bytes_181438 = perThread_175600 * partitionFunc_arg0_176577;
    bool defunc_0_merge_pipeline_res_175552;
    int64_t defunc_0_merge_pipeline_res_175556;
    int64_t defunc_0_merge_pipeline_res_175557;
    bool loop_while_175558;
    int64_t p_175562;
    int64_t p_175563;
    
    loop_while_175558 = x_175549;
    p_175562 = (int64_t) 0;
    p_175563 = (int64_t) 0;
    while (loop_while_175558) {
        int64_t ubs_175564 = add64(window_sizze_121206, p_175562);
        int64_t ubs_175565 = add64(window_sizze_121206, p_175563);
        int64_t ind_bottom_175566 = add64(p_175562, p_175563);
        int64_t ind_top_175567 = add64(window_sizze_121206, ind_bottom_175566);
        int64_t i_p_m_t_s_175568 = add64(m_175551, p_175562);
        bool zzero_leq_i_p_m_t_s_175569 = sle64((int64_t) 0, i_p_m_t_s_175568);
        bool i_p_m_t_s_leq_w_175570 = slt64(i_p_m_t_s_175568, na_121204);
        bool zzero_lte_i_175571 = sle64((int64_t) 0, p_175562);
        bool i_lte_j_175572 = sle64(p_175562, ubs_175564);
        bool y_175573 = i_p_m_t_s_leq_w_175570 && zzero_lte_i_175571;
        bool y_175574 = zzero_leq_i_p_m_t_s_175569 && y_175573;
        bool forwards_ok_175575 = i_lte_j_175572 && y_175574;
        bool ok_or_empty_175576 = empty_slice_175550 || forwards_ok_175575;
        bool index_certs_175577;
        
        if (!ok_or_empty_175576) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175562, ":", (long long) ubs_175564, "] out of bounds for array of shape [", (long long) na_121204, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175579 = add64(m_175551, p_175563);
        bool zzero_leq_i_p_m_t_s_175580 = sle64((int64_t) 0, i_p_m_t_s_175579);
        bool i_p_m_t_s_leq_w_175581 = slt64(i_p_m_t_s_175579, nb_121205);
        bool zzero_lte_i_175582 = sle64((int64_t) 0, p_175563);
        bool i_lte_j_175583 = sle64(p_175563, ubs_175565);
        bool y_175584 = i_p_m_t_s_leq_w_175581 && zzero_lte_i_175582;
        bool y_175585 = zzero_leq_i_p_m_t_s_175580 && y_175584;
        bool forwards_ok_175586 = i_lte_j_175583 && y_175585;
        bool ok_or_empty_175587 = empty_slice_175550 || forwards_ok_175586;
        bool index_certs_175588;
        
        if (!ok_or_empty_175587) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175563, ":", (long long) ubs_175565, "] out of bounds for array of shape [", (long long) nb_121205, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177566 = add64(m_175551, ind_bottom_175566);
        bool zzero_leq_i_p_m_t_s_177567 = sle64((int64_t) 0, i_p_m_t_s_177566);
        bool i_p_m_t_s_leq_w_177568 = slt64(i_p_m_t_s_177566, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
        bool zzero_lte_i_177569 = sle64((int64_t) 0, ind_bottom_175566);
        bool i_lte_j_177570 = sle64(ind_bottom_175566, ind_top_175567);
        bool y_177571 = i_p_m_t_s_leq_w_177568 && zzero_lte_i_177569;
        bool y_177572 = zzero_leq_i_p_m_t_s_177567 && y_177571;
        bool forwards_ok_177573 = i_lte_j_177570 && y_177572;
        bool ok_or_empty_177574 = empty_slice_175550 || forwards_ok_177573;
        bool index_certs_177575;
        
        if (!ok_or_empty_177574) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175566, ":", (long long) ind_top_175567, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175590;
        int64_t loopres_175591;
        
        if (inParallel_121210) {
            int16_t leq_lhs_179024 = ((int16_t *) a_list_mem_181052.mem)[p_175562];
            int16_t leq_rhs_179025 = ((int16_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_179026 = sle16(leq_lhs_179024, leq_rhs_179025);
            int16_t lowest_179027;
            
            if (defunc_0_leq_res_179026) {
                lowest_179027 = leq_lhs_179024;
            } else {
                lowest_179027 = leq_rhs_179025;
            }
            if (mem_181414_cached_sizze_183026 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181414, &mem_181414_cached_sizze_183026, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_183027 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_183027, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180716 = 0; i_180716 < threads_121207; i_180716++) {
                int64_t index_primexp_180988 = add64((int64_t) 1, i_180716);
                int64_t zs_lhs_179032 = mul64(zt_rhs_176600, index_primexp_180988);
                int64_t index_179033 = sdiv64(zs_lhs_179032, partitionFunc_arg0_176577);
                bool cond_179034 = slt64(window_sizze_121206, index_179033);
                int64_t loop_over_179035;
                
                if (cond_179034) {
                    loop_over_179035 = window_sizze_121206;
                } else {
                    loop_over_179035 = index_179033;
                }
                
                int64_t loop_over_179036;
                
                if (cond_179034) {
                    int64_t loop_over_t_res_179037 = sub64(index_179033, window_sizze_121206);
                    
                    loop_over_179036 = loop_over_t_res_179037;
                } else {
                    loop_over_179036 = (int64_t) 0;
                }
                
                int64_t loop_over_179038;
                
                if (cond_179034) {
                    int64_t zm_lhs_179039 = sub64(index_179033, window_sizze_121206);
                    int64_t loop_over_t_res_179040 = sub64(zm_lhs_179039, (int64_t) 1);
                    
                    loop_over_179038 = loop_over_t_res_179040;
                } else {
                    loop_over_179038 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179041;
                int64_t defunc_0_f_res_179042;
                int64_t defunc_0_f_res_179043;
                int64_t defunc_0_f_res_179044;
                bool loop_while_179045;
                int64_t p_179046;
                int64_t p_179047;
                int64_t p_179048;
                
                loop_while_179045 = 1;
                p_179046 = loop_over_179038;
                p_179047 = loop_over_179035;
                p_179048 = loop_over_179036;
                while (loop_while_179045) {
                    int64_t zs_lhs_179049 = sub64(p_179047, p_179046);
                    int64_t offset_179050 = sdiv64(zs_lhs_179049, (int64_t) 2);
                    int64_t ai_179051 = sub64(p_179047, offset_179050);
                    int64_t max_arg1_179052 = add64(p_179048, offset_179050);
                    int64_t max_res_179053 = smax64((int64_t) 0, max_arg1_179052);
                    bool cond_179054 = slt64((int64_t) 0, max_res_179053);
                    int16_t b_prev_179055;
                    
                    if (cond_179054) {
                        int64_t tmp_179056 = sub64(max_res_179053, (int64_t) 1);
                        bool x_179057 = sle64((int64_t) 0, tmp_179056);
                        bool y_179058 = slt64(tmp_179056, window_sizze_121206);
                        bool bounds_check_179059 = x_179057 && y_179058;
                        bool index_certs_179060;
                        
                        if (!bounds_check_179059) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179056, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179061 = p_175563 + tmp_179056;
                        int16_t b_prev_t_res_179062 = ((int16_t *) b_list_mem_181053.mem)[slice_179061];
                        
                        b_prev_179055 = b_prev_t_res_179062;
                    } else {
                        b_prev_179055 = lowest_179027;
                    }
                    
                    bool cond_179063 = sle64(ai_179051, (int64_t) 0);
                    int64_t loopres_179064;
                    int64_t loopres_179065;
                    int64_t loopres_179066;
                    bool loopres_179067;
                    
                    if (cond_179063) {
                        loopres_179064 = p_179046;
                        loopres_179065 = (int64_t) 0;
                        loopres_179066 = max_res_179053;
                        loopres_179067 = 0;
                    } else {
                        bool cond_179068 = sle64(window_sizze_121206, max_res_179053);
                        int64_t loopres_f_res_179069;
                        int64_t loopres_f_res_179070;
                        int64_t loopres_f_res_179071;
                        bool loopres_f_res_179072;
                        
                        if (cond_179068) {
                            int64_t min_res_179074 = smin64(m_175551, ai_179051);
                            bool x_179075 = sle64((int64_t) 0, m_175551);
                            bool y_179076 = slt64(m_175551, window_sizze_121206);
                            bool bounds_check_179077 = x_179075 && y_179076;
                            bool index_certs_179078;
                            
                            if (!bounds_check_179077) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179081 = sle64((int64_t) 0, min_res_179074);
                            bool y_179082 = slt64(min_res_179074, window_sizze_121206);
                            bool bounds_check_179083 = x_179081 && y_179082;
                            bool index_certs_179084;
                            
                            if (!bounds_check_179083) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179074, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_179080 = ((int16_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_179085 = p_175562 + min_res_179074;
                            int16_t leq_rhs_179086 = ((int16_t *) a_list_mem_181052.mem)[slice_179085];
                            bool defunc_0_leq_res_179087 = sle16(leq_lhs_179080, leq_rhs_179086);
                            int64_t loopres_f_res_t_res_179088;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179088 = ai_179051;
                            } else {
                                loopres_f_res_t_res_179088 = p_179047;
                            }
                            
                            bool x_179089 = !defunc_0_leq_res_179087;
                            int64_t loopres_f_res_t_res_179090;
                            
                            if (defunc_0_leq_res_179087) {
                                loopres_f_res_t_res_179090 = window_sizze_121206;
                            } else {
                                int64_t tmp_179091 = sub64(m_175551, offset_179050);
                                
                                loopres_f_res_t_res_179090 = tmp_179091;
                            }
                            loopres_f_res_179069 = p_179046;
                            loopres_f_res_179070 = loopres_f_res_t_res_179088;
                            loopres_f_res_179071 = loopres_f_res_t_res_179090;
                            loopres_f_res_179072 = x_179089;
                        } else {
                            bool cond_179092 = sle64(window_sizze_121206, ai_179051);
                            int64_t loopres_f_res_f_res_179093;
                            int64_t loopres_f_res_f_res_179094;
                            int64_t loopres_f_res_f_res_179095;
                            bool loopres_f_res_f_res_179096;
                            
                            if (cond_179092) {
                                int64_t min_res_179098 = smin64(m_175551, max_res_179053);
                                bool x_179099 = sle64((int64_t) 0, m_175551);
                                bool y_179100 = slt64(m_175551, window_sizze_121206);
                                bool bounds_check_179101 = x_179099 && y_179100;
                                bool index_certs_179102;
                                
                                if (!bounds_check_179101) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179105 = sle64((int64_t) 0, min_res_179098);
                                bool y_179106 = slt64(min_res_179098, window_sizze_121206);
                                bool bounds_check_179107 = x_179105 && y_179106;
                                bool index_certs_179108;
                                
                                if (!bounds_check_179107) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179098, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_179104 = ((int16_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_179109 = p_175563 + min_res_179098;
                                int16_t leq_rhs_179110 = ((int16_t *) b_list_mem_181053.mem)[slice_179109];
                                bool defunc_0_leq_res_179111 = sle16(leq_lhs_179104, leq_rhs_179110);
                                int64_t loopres_f_res_f_res_t_res_179112;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179112 = max_res_179053;
                                } else {
                                    loopres_f_res_f_res_t_res_179112 = p_179048;
                                }
                                
                                bool x_179113 = !defunc_0_leq_res_179111;
                                int64_t loopres_f_res_f_res_t_res_179114;
                                
                                if (defunc_0_leq_res_179111) {
                                    loopres_f_res_f_res_t_res_179114 = window_sizze_121206;
                                } else {
                                    loopres_f_res_f_res_t_res_179114 = m_175551;
                                }
                                loopres_f_res_f_res_179093 = p_179046;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_t_res_179114;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_t_res_179112;
                                loopres_f_res_f_res_179096 = x_179113;
                            } else {
                                bool cond_179115 = sle64(p_179047, p_179046);
                                int64_t loopres_f_res_f_res_f_res_179116;
                                int64_t loopres_f_res_f_res_f_res_179117;
                                int64_t loopres_f_res_f_res_f_res_179118;
                                bool loopres_f_res_f_res_f_res_179119;
                                
                                if (cond_179115) {
                                    bool cond_179120 = slt64(ai_179051, window_sizze_121206);
                                    int64_t ai_179121;
                                    
                                    if (cond_179120) {
                                        ai_179121 = ai_179051;
                                    } else {
                                        ai_179121 = m_175551;
                                    }
                                    
                                    bool x_179134 = sle64((int64_t) 0, ai_179121);
                                    bool y_179135 = slt64(ai_179121, window_sizze_121206);
                                    bool bounds_check_179136 = x_179134 && y_179135;
                                    bool index_certs_179137;
                                    
                                    if (!bounds_check_179136) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179121, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179123;
                                    
                                    if (cond_179054) {
                                        int64_t tmp_179124 = sub64(max_res_179053, (int64_t) 1);
                                        bool x_179125 = sle64((int64_t) 0, tmp_179124);
                                        bool y_179126 = slt64(tmp_179124, window_sizze_121206);
                                        bool bounds_check_179127 = x_179125 && y_179126;
                                        bool index_certs_179128;
                                        
                                        if (!bounds_check_179127) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179124, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179129 = p_175563 + tmp_179124;
                                        int16_t b_prev_t_res_179130 = ((int16_t *) b_list_mem_181053.mem)[slice_179129];
                                        
                                        b_prev_179123 = b_prev_t_res_179130;
                                    } else {
                                        bool index_certs_179132;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179123 = leq_rhs_179025;
                                    }
                                    
                                    int64_t slice_179138 = p_175562 + ai_179121;
                                    int16_t gt_lhs_179139 = ((int16_t *) a_list_mem_181052.mem)[slice_179138];
                                    bool defunc_0_gt_res_179140 = slt16(b_prev_179123, gt_lhs_179139);
                                    int64_t defunc_0_partFunc_sequential_search_res_179141;
                                    int64_t defunc_0_partFunc_sequential_search_res_179142;
                                    
                                    if (defunc_0_gt_res_179140) {
                                        int64_t zl_rhs_179143 = sub64(window_sizze_121206, max_res_179053);
                                        bool loop_cond_179144 = slt64((int64_t) 0, zl_rhs_179143);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179145;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179147;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179148;
                                        bool loop_while_179149;
                                        int64_t p_179150;
                                        int64_t p_179151;
                                        int64_t p_179152;
                                        
                                        loop_while_179149 = loop_cond_179144;
                                        p_179150 = ai_179121;
                                        p_179151 = max_res_179053;
                                        p_179152 = (int64_t) 0;
                                        while (loop_while_179149) {
                                            int64_t i_a_179153 = sub64(ai_179121, p_179152);
                                            int64_t i_b_179154 = add64(max_res_179053, p_179152);
                                            int64_t leq_lhs_179155 = sub64(i_a_179153, (int64_t) 1);
                                            bool x_179156 = sle64((int64_t) 0, leq_lhs_179155);
                                            bool y_179157 = slt64(leq_lhs_179155, window_sizze_121206);
                                            bool bounds_check_179158 = x_179156 && y_179157;
                                            bool index_certs_179159;
                                            
                                            if (!bounds_check_179158) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179155, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179162 = sle64((int64_t) 0, i_b_179154);
                                            bool y_179163 = slt64(i_b_179154, window_sizze_121206);
                                            bool bounds_check_179164 = x_179162 && y_179163;
                                            bool index_certs_179165;
                                            
                                            if (!bounds_check_179164) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179154, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179160 = p_175562 + leq_lhs_179155;
                                            int16_t leq_lhs_179161 = ((int16_t *) a_list_mem_181052.mem)[slice_179160];
                                            int64_t slice_179166 = p_175563 + i_b_179154;
                                            int16_t leq_rhs_179167 = ((int16_t *) b_list_mem_181053.mem)[slice_179166];
                                            bool defunc_0_leq_res_179168 = sle16(leq_lhs_179161, leq_rhs_179167);
                                            int64_t loopres_179169;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179169 = i_a_179153;
                                            } else {
                                                loopres_179169 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179170;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179170 = i_b_179154;
                                            } else {
                                                loopres_179170 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179171;
                                            
                                            if (defunc_0_leq_res_179168) {
                                                loopres_179171 = zl_rhs_179143;
                                            } else {
                                                int64_t tmp_179172 = add64((int64_t) 1, p_179152);
                                                
                                                loopres_179171 = tmp_179172;
                                            }
                                            
                                            bool loop_cond_179173 = slt64(loopres_179171, zl_rhs_179143);
                                            bool loop_while_tmp_182485 = loop_cond_179173;
                                            int64_t p_tmp_182486 = loopres_179169;
                                            int64_t p_tmp_182487 = loopres_179170;
                                            int64_t p_tmp_182488 = loopres_179171;
                                            
                                            loop_while_179149 = loop_while_tmp_182485;
                                            p_179150 = p_tmp_182486;
                                            p_179151 = p_tmp_182487;
                                            p_179152 = p_tmp_182488;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179145 = loop_while_179149;
                                        defunc_0_partFunc_sequential_search_res_t_res_179146 = p_179150;
                                        defunc_0_partFunc_sequential_search_res_t_res_179147 = p_179151;
                                        defunc_0_partFunc_sequential_search_res_t_res_179148 = p_179152;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_t_res_179146;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_t_res_179147;
                                    } else {
                                        int64_t zl_rhs_179174 = sub64(max_res_179053, (int64_t) 1);
                                        bool loop_cond_179175 = slt64((int64_t) 0, zl_rhs_179174);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179176;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179178;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179179;
                                        bool loop_while_179180;
                                        int64_t p_179181;
                                        int64_t p_179182;
                                        int64_t p_179183;
                                        
                                        loop_while_179180 = loop_cond_179175;
                                        p_179181 = ai_179121;
                                        p_179182 = max_res_179053;
                                        p_179183 = (int64_t) 0;
                                        while (loop_while_179180) {
                                            int64_t zp_lhs_179184 = add64(ai_179121, p_179183);
                                            int64_t hi_a_179185 = add64((int64_t) 1, zp_lhs_179184);
                                            bool cond_179186 = slt64(hi_a_179185, window_sizze_121206);
                                            int64_t i_a_179187;
                                            
                                            if (cond_179186) {
                                                i_a_179187 = hi_a_179185;
                                            } else {
                                                i_a_179187 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_179189 = sub64(max_res_179053, p_179183);
                                            int64_t i_b_179190 = sub64(zm_lhs_179189, (int64_t) 1);
                                            bool x_179191 = sle64((int64_t) 0, i_a_179187);
                                            bool y_179192 = slt64(i_a_179187, window_sizze_121206);
                                            bool bounds_check_179193 = x_179191 && y_179192;
                                            bool index_certs_179194;
                                            
                                            if (!bounds_check_179193) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179187, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179197 = sle64((int64_t) 0, i_b_179190);
                                            bool y_179198 = slt64(i_b_179190, window_sizze_121206);
                                            bool bounds_check_179199 = x_179197 && y_179198;
                                            bool index_certs_179200;
                                            
                                            if (!bounds_check_179199) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179190, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179195 = p_175562 + i_a_179187;
                                            int16_t gt_lhs_179196 = ((int16_t *) a_list_mem_181052.mem)[slice_179195];
                                            int64_t slice_179201 = p_175563 + i_b_179190;
                                            int16_t gt_rhs_179202 = ((int16_t *) b_list_mem_181053.mem)[slice_179201];
                                            bool defunc_0_gt_res_179203 = slt16(gt_rhs_179202, gt_lhs_179196);
                                            int64_t loopres_179204;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179204 = i_a_179187;
                                            } else {
                                                loopres_179204 = ai_179121;
                                            }
                                            
                                            int64_t loopres_179205;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179205 = zm_lhs_179189;
                                            } else {
                                                loopres_179205 = max_res_179053;
                                            }
                                            
                                            int64_t loopres_179206;
                                            
                                            if (defunc_0_gt_res_179203) {
                                                loopres_179206 = zl_rhs_179174;
                                            } else {
                                                int64_t tmp_179207 = add64((int64_t) 1, p_179183);
                                                
                                                loopres_179206 = tmp_179207;
                                            }
                                            
                                            bool loop_cond_179208 = slt64(loopres_179206, zl_rhs_179174);
                                            bool loop_while_tmp_182489 = loop_cond_179208;
                                            int64_t p_tmp_182490 = loopres_179204;
                                            int64_t p_tmp_182491 = loopres_179205;
                                            int64_t p_tmp_182492 = loopres_179206;
                                            
                                            loop_while_179180 = loop_while_tmp_182489;
                                            p_179181 = p_tmp_182490;
                                            p_179182 = p_tmp_182491;
                                            p_179183 = p_tmp_182492;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179176 = loop_while_179180;
                                        defunc_0_partFunc_sequential_search_res_f_res_179177 = p_179181;
                                        defunc_0_partFunc_sequential_search_res_f_res_179178 = p_179182;
                                        defunc_0_partFunc_sequential_search_res_f_res_179179 = p_179183;
                                        defunc_0_partFunc_sequential_search_res_179141 = defunc_0_partFunc_sequential_search_res_f_res_179177;
                                        defunc_0_partFunc_sequential_search_res_179142 = defunc_0_partFunc_sequential_search_res_f_res_179178;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = p_179046;
                                    loopres_f_res_f_res_f_res_179117 = defunc_0_partFunc_sequential_search_res_179141;
                                    loopres_f_res_f_res_f_res_179118 = defunc_0_partFunc_sequential_search_res_179142;
                                    loopres_f_res_f_res_f_res_179119 = 0;
                                } else {
                                    bool x_179209 = sle64((int64_t) 0, ai_179051);
                                    bool y_179210 = slt64(ai_179051, window_sizze_121206);
                                    bool bounds_check_179211 = x_179209 && y_179210;
                                    bool index_certs_179212;
                                    
                                    if (!bounds_check_179211) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179051, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179213 = p_175562 + ai_179051;
                                    int16_t gt_lhs_179214 = ((int16_t *) a_list_mem_181052.mem)[slice_179213];
                                    bool defunc_0_gt_res_179215 = slt16(b_prev_179055, gt_lhs_179214);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179216;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179217;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179218;
                                    bool loopres_f_res_f_res_f_res_f_res_179219;
                                    
                                    if (defunc_0_gt_res_179215) {
                                        int64_t leq_lhs_179220 = sub64(ai_179051, (int64_t) 1);
                                        bool x_179221 = sle64((int64_t) 0, leq_lhs_179220);
                                        bool y_179222 = slt64(leq_lhs_179220, window_sizze_121206);
                                        bool bounds_check_179223 = x_179221 && y_179222;
                                        bool index_certs_179224;
                                        
                                        if (!bounds_check_179223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179220, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179227 = sle64((int64_t) 0, max_res_179053);
                                        bool y_179228 = slt64(max_res_179053, window_sizze_121206);
                                        bool bounds_check_179229 = x_179227 && y_179228;
                                        bool index_certs_179230;
                                        
                                        if (!bounds_check_179229) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179053, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179225 = p_175562 + leq_lhs_179220;
                                        int16_t leq_lhs_179226 = ((int16_t *) a_list_mem_181052.mem)[slice_179225];
                                        int64_t slice_179231 = p_175563 + max_res_179053;
                                        int16_t leq_rhs_179232 = ((int16_t *) b_list_mem_181053.mem)[slice_179231];
                                        bool defunc_0_leq_res_179233 = sle16(leq_lhs_179226, leq_rhs_179232);
                                        bool x_179234 = !defunc_0_leq_res_179233;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = ai_179051;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179235 = leq_lhs_179220;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        
                                        if (defunc_0_leq_res_179233) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = max_res_179053;
                                        } else {
                                            int64_t tmp_179237 = add64((int64_t) 1, max_res_179053);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179236 = tmp_179237;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179216 = p_179046;
                                        loopres_f_res_f_res_f_res_f_res_179217 = loopres_f_res_f_res_f_res_f_res_t_res_179235;
                                        loopres_f_res_f_res_f_res_f_res_179218 = loopres_f_res_f_res_f_res_f_res_t_res_179236;
                                        loopres_f_res_f_res_f_res_f_res_179219 = x_179234;
                                    } else {
                                        int64_t tmp_179238 = add64((int64_t) 1, ai_179051);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179216 = tmp_179238;
                                        loopres_f_res_f_res_f_res_f_res_179217 = p_179047;
                                        loopres_f_res_f_res_f_res_f_res_179218 = p_179048;
                                        loopres_f_res_f_res_f_res_f_res_179219 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179116 = loopres_f_res_f_res_f_res_f_res_179216;
                                    loopres_f_res_f_res_f_res_179117 = loopres_f_res_f_res_f_res_f_res_179217;
                                    loopres_f_res_f_res_f_res_179118 = loopres_f_res_f_res_f_res_f_res_179218;
                                    loopres_f_res_f_res_f_res_179119 = loopres_f_res_f_res_f_res_f_res_179219;
                                }
                                loopres_f_res_f_res_179093 = loopres_f_res_f_res_f_res_179116;
                                loopres_f_res_f_res_179094 = loopres_f_res_f_res_f_res_179117;
                                loopres_f_res_f_res_179095 = loopres_f_res_f_res_f_res_179118;
                                loopres_f_res_f_res_179096 = loopres_f_res_f_res_f_res_179119;
                            }
                            loopres_f_res_179069 = loopres_f_res_f_res_179093;
                            loopres_f_res_179070 = loopres_f_res_f_res_179094;
                            loopres_f_res_179071 = loopres_f_res_f_res_179095;
                            loopres_f_res_179072 = loopres_f_res_f_res_179096;
                        }
                        loopres_179064 = loopres_f_res_179069;
                        loopres_179065 = loopres_f_res_179070;
                        loopres_179066 = loopres_f_res_179071;
                        loopres_179067 = loopres_f_res_179072;
                    }
                    
                    bool loop_while_tmp_182481 = loopres_179067;
                    int64_t p_tmp_182482 = loopres_179064;
                    int64_t p_tmp_182483 = loopres_179065;
                    int64_t p_tmp_182484 = loopres_179066;
                    
                    loop_while_179045 = loop_while_tmp_182481;
                    p_179046 = p_tmp_182482;
                    p_179047 = p_tmp_182483;
                    p_179048 = p_tmp_182484;
                }
                defunc_0_f_res_179041 = loop_while_179045;
                defunc_0_f_res_179042 = p_179046;
                defunc_0_f_res_179043 = p_179047;
                defunc_0_f_res_179044 = p_179048;
                ((int64_t *) mem_181414)[i_180716] = defunc_0_f_res_179043;
                ((int64_t *) mem_181416)[i_180716] = defunc_0_f_res_179044;
            }
            if (mem_181431_cached_sizze_183028 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181431, &mem_181431_cached_sizze_183028, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181433_cached_sizze_183029 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601) {
                err = lexical_realloc(ctx, &mem_181433, &mem_181433_cached_sizze_183029, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181436_cached_sizze_183030 < bytes_181430) {
                err = lexical_realloc(ctx, &mem_181436, &mem_181436_cached_sizze_183030, bytes_181430);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181439_cached_sizze_183031 < bytes_181438) {
                err = lexical_realloc(ctx, &mem_181439, &mem_181439_cached_sizze_183031, bytes_181438);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_121207; i_180782++) {
                bool y_179252 = slt64(i_180782, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool index_certs_179254;
                
                if (!y_179252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180782, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179255 = sle64((int64_t) 1, i_180782);
                int64_t index_concat_i_179256 = sub64(i_180782, (int64_t) 1);
                int64_t index_concat_179257;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179258 = ((int64_t *) mem_181414)[index_concat_i_179256];
                    
                    index_concat_179257 = x_179258;
                } else {
                    index_concat_179257 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179259;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179259 = index_concat_179257;
                } else {
                    index_concat_branch_179259 = (int64_t) 0;
                }
                
                int64_t index_concat_179260;
                
                if (index_concat_cmp_179255) {
                    int64_t x_179261 = ((int64_t *) mem_181416)[index_concat_i_179256];
                    
                    index_concat_179260 = x_179261;
                } else {
                    index_concat_179260 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179262;
                
                if (index_concat_cmp_179255) {
                    index_concat_branch_179262 = index_concat_179260;
                } else {
                    index_concat_branch_179262 = (int64_t) 0;
                }
                
                int64_t ubs_179263 = add64((int64_t) 1, i_180782);
                bool x_179264 = sle64((int64_t) 0, ubs_179263);
                bool y_179265 = slt64(ubs_179263, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_179266 = x_179264 && y_179265;
                bool index_certs_179267;
                
                if (!bounds_check_179266) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179263, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179268 = sle64((int64_t) 1, ubs_179263);
                int64_t index_concat_179269;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179270 = ((int64_t *) mem_181414)[i_180782];
                    
                    index_concat_179269 = x_179270;
                } else {
                    index_concat_179269 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179271;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179271 = index_concat_179269;
                } else {
                    index_concat_branch_179271 = (int64_t) 0;
                }
                
                int64_t index_concat_179272;
                
                if (index_concat_cmp_179268) {
                    int64_t x_179273 = ((int64_t *) mem_181416)[i_180782];
                    
                    index_concat_179272 = x_179273;
                } else {
                    index_concat_179272 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179274;
                
                if (index_concat_cmp_179268) {
                    index_concat_branch_179274 = index_concat_179272;
                } else {
                    index_concat_branch_179274 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 = sub64(index_concat_branch_179274, index_concat_branch_179262);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 = sub64(index_concat_branch_179271, index_concat_branch_179259);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t zm_lhs_179278 = add64(index_concat_branch_179271, index_concat_branch_179274);
                int64_t zm_rhs_179279 = add64(index_concat_branch_179259, index_concat_branch_179262);
                int64_t card_179280 = sub64(zm_lhs_179278, zm_rhs_179279);
                bool empty_slice_179281 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 == (int64_t) 0;
                int64_t m_179282 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 1);
                int64_t i_p_m_t_s_179283 = add64(index_concat_branch_179259, m_179282);
                bool zzero_leq_i_p_m_t_s_179284 = sle64((int64_t) 0, i_p_m_t_s_179283);
                bool i_p_m_t_s_leq_w_179285 = slt64(i_p_m_t_s_179283, window_sizze_121206);
                bool zzero_lte_i_179286 = sle64((int64_t) 0, index_concat_branch_179259);
                bool i_lte_j_179287 = sle64(index_concat_branch_179259, index_concat_branch_179271);
                bool y_179288 = i_p_m_t_s_leq_w_179285 && zzero_lte_i_179286;
                bool y_179289 = zzero_leq_i_p_m_t_s_179284 && y_179288;
                bool forwards_ok_179290 = i_lte_j_179287 && y_179289;
                bool ok_or_empty_179291 = empty_slice_179281 || forwards_ok_179290;
                bool index_certs_179292;
                
                if (!ok_or_empty_179291) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179259, ":", (long long) index_concat_branch_179271, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179293 = slt64(index_concat_branch_179271, index_concat_branch_179259);
                bool valid_179294 = !bounds_invalid_upwards_179293;
                bool range_valid_c_179295;
                
                if (!valid_179294) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179259, "..<", (long long) index_concat_branch_179271, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179300 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275 == (int64_t) 0;
                int64_t m_179301 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275, (int64_t) 1);
                int64_t i_p_m_t_s_179302 = add64(index_concat_branch_179262, m_179301);
                bool zzero_leq_i_p_m_t_s_179303 = sle64((int64_t) 0, i_p_m_t_s_179302);
                bool i_p_m_t_s_leq_w_179304 = slt64(i_p_m_t_s_179302, window_sizze_121206);
                bool zzero_lte_i_179305 = sle64((int64_t) 0, index_concat_branch_179262);
                bool i_lte_j_179306 = sle64(index_concat_branch_179262, index_concat_branch_179274);
                bool y_179307 = i_p_m_t_s_leq_w_179304 && zzero_lte_i_179305;
                bool y_179308 = zzero_leq_i_p_m_t_s_179303 && y_179307;
                bool forwards_ok_179309 = i_lte_j_179306 && y_179308;
                bool ok_or_empty_179310 = empty_slice_179300 || forwards_ok_179309;
                bool index_certs_179311;
                
                if (!ok_or_empty_179310) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179262, ":", (long long) index_concat_branch_179274, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179312 = slt64(index_concat_branch_179274, index_concat_branch_179262);
                bool valid_179313 = !bounds_invalid_upwards_179312;
                bool range_valid_c_179314;
                
                if (!valid_179313) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179262, "..<", (long long) index_concat_branch_179274, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181468 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                int64_t bytes_181470 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool cond_179322 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zs_lhs_179323 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, (int64_t) 1);
                int64_t zp_rhs_179324 = sdiv_safe64(zs_lhs_179323, (int64_t) 20);
                int64_t min_num_blocks_179325 = add64((int64_t) 1, zp_rhs_179324);
                bool loop_cond_179326 = slt64((int64_t) 1, min_num_blocks_179325);
                bool smallest_pow_2_geq_than_res_179327;
                int64_t smallest_pow_2_geq_than_res_179328;
                bool loop_while_179329;
                int64_t x_179330;
                
                loop_while_179329 = loop_cond_179326;
                x_179330 = (int64_t) 1;
                while (loop_while_179329) {
                    int64_t loopres_179331 = mul64((int64_t) 2, x_179330);
                    bool loop_cond_179332 = slt64(loopres_179331, min_num_blocks_179325);
                    bool loop_while_tmp_182497 = loop_cond_179332;
                    int64_t x_tmp_182498 = loopres_179331;
                    
                    loop_while_179329 = loop_while_tmp_182497;
                    x_179330 = x_tmp_182498;
                }
                smallest_pow_2_geq_than_res_179327 = loop_while_179329;
                smallest_pow_2_geq_than_res_179328 = x_179330;
                
                bool zzero_179333 = smallest_pow_2_geq_than_res_179328 == (int64_t) 0;
                bool nonzzero_179334 = !zzero_179333;
                bool protect_assert_disj_179335 = cond_179322 || nonzzero_179334;
                bool nonzzero_cert_179336;
                
                if (!protect_assert_disj_179335) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179337 = sdiv_safe64(zs_lhs_179323, smallest_pow_2_geq_than_res_179328);
                int64_t block_sizze_179338 = add64((int64_t) 1, zp_rhs_179337);
                bool y_179345 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                bool protect_assert_disj_182214 = cond_179322 || y_179345;
                bool index_certs_179346;
                
                if (!protect_assert_disj_182214) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179383 = slt64(smallest_pow_2_geq_than_res_179328, (int64_t) 0);
                bool valid_179384 = !bounds_invalid_upwards_179383;
                bool protect_assert_disj_182224 = cond_179322 || valid_179384;
                bool range_valid_c_179385;
                
                if (!protect_assert_disj_182224) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179328, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179387 = slt64(block_sizze_179338, (int64_t) 0);
                bool valid_179388 = !bounds_invalid_upwards_179387;
                bool protect_assert_disj_182226 = cond_179322 || valid_179388;
                bool range_valid_c_179389;
                
                if (!protect_assert_disj_182226) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179338, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179391 = sle64(block_sizze_179338, (int64_t) 1);
                int64_t tmp_179392 = sub64(block_sizze_179338, (int64_t) 2);
                bool bounds_invalid_upwards_179393 = slt64(tmp_179392, (int64_t) 0);
                bool valid_179395 = !bounds_invalid_upwards_179393;
                bool protect_assert_disj_179396 = cond_179391 || valid_179395;
                bool protect_assert_disj_182228 = cond_179322 || protect_assert_disj_179396;
                bool range_valid_c_179397;
                
                if (!protect_assert_disj_182228) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179392, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179977 = card_179280 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277;
                bool empty_or_match_cert_179978;
                
                if (!dim_match_179977) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] cannot match shape of type `[", (long long) card_179280, "](i8, i64, i16)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179979 = card_179280 == (int64_t) 0;
                int64_t m_179980 = sub64(card_179280, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179981 = sle64((int64_t) 0, m_179980);
                bool i_p_m_t_s_leq_w_179982 = slt64(m_179980, card_179280);
                bool y_179983 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179982;
                bool ok_or_empty_179984 = empty_slice_179979 || y_179983;
                bool index_certs_179985;
                
                if (!ok_or_empty_179984) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) card_179280, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179986 = slt64(m_179980, perThread_175600);
                bool y_179987 = zzero_leq_i_p_m_t_s_179981 && i_p_m_t_s_leq_w_179986;
                bool ok_or_empty_179988 = empty_slice_179979 || y_179987;
                bool index_certs_179989;
                
                if (!ok_or_empty_179988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182499 = 0; nest_i_182499 < perThread_175600; nest_i_182499++) {
                    ((int8_t *) mem_181433)[i_180782 * perThread_175600 + nest_i_182499] = (int8_t) -1;
                }
                for (int64_t nest_i_182500 = 0; nest_i_182500 < perThread_175600; nest_i_182500++) {
                    ((int64_t *) mem_181436)[i_180782 * perThread_175600 + nest_i_182500] = (int64_t) -1;
                }
                for (int64_t nest_i_182501 = 0; nest_i_182501 < perThread_175600; nest_i_182501++) {
                    ((int16_t *) mem_181439)[i_180782 * perThread_175600 + nest_i_182501] = (int16_t) 0;
                }
                
                int64_t slice_179296 = p_175562 + index_concat_branch_179259;
                
                if (memblock_alloc(ctx, &mem_181467, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "mem_181467")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182502 = 0; nest_i_182502 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; nest_i_182502++) {
                    ((int8_t *) mem_181467.mem)[nest_i_182502] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181469, bytes_181468, "mem_181469")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182503 = 0; i_182503 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276; i_182503++) {
                    int64_t x_182504 = index_concat_branch_179259 + i_182503 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[i_182503] = x_182504;
                }
                
                int64_t slice_179315 = p_175563 + index_concat_branch_179262;
                
                for (int64_t nest_i_182505 = 0; nest_i_182505 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; nest_i_182505++) {
                    ((int8_t *) mem_181467.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + nest_i_182505] = (int8_t) 1;
                }
                for (int64_t i_182506 = 0; i_182506 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275; i_182506++) {
                    int64_t x_182507 = index_concat_branch_179262 + i_182506 * (int64_t) 1;
                    
                    ((int64_t *) mem_181469.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276 + i_182506] = x_182507;
                }
                
                int64_t tmp_offs_182508 = (int64_t) 0;
                
                if (!(tmp_offs_182508 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182508 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181467.mem, tmp_offs_182508, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181467.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182508 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t tmp_offs_182509 = (int64_t) 0;
                
                if (!(tmp_offs_182509 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                if (!(tmp_offs_182509 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181469.mem, tmp_offs_182509, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181469.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                }
                tmp_offs_182509 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                if (memblock_alloc(ctx, &mem_181471, bytes_181470, "mem_181471")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182510 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181052.mem, slice_179296, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181471.mem, tmp_offs_182510, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181053.mem, slice_179315, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275});
                tmp_offs_182510 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179275;
                
                int64_t flat_dim_179339 = smallest_pow_2_geq_than_res_179328 * block_sizze_179338;
                bool x_182209 = !cond_179322;
                int64_t greatest_divisor_leq_than_arg1_179343 = mul64((int64_t) 2, block_sizze_179338);
                int64_t merge_block_sizze_179344;
                
                if (x_182209) {
                    int64_t x_182211;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182211, (int64_t) 8, greatest_divisor_leq_than_arg1_179343) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179344 = x_182211;
                } else {
                    merge_block_sizze_179344 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179347 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, (int64_t) 0);
                int8_t index_concat_branch_179348 = btoi_bool_i8(index_concat_cmp_179347);
                int64_t index_concat_i_179350 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                int64_t index_primexp_179351 = add64(index_concat_branch_179262, index_concat_i_179350);
                int64_t index_concat_branch_179349;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179349 = index_primexp_179351;
                } else {
                    index_concat_branch_179349 = index_concat_branch_179259;
                }
                
                bool x_182205 = !index_concat_cmp_179347;
                bool protect_cond_conj_182215 = x_182205 && x_182209;
                int16_t index_concat_179357;
                
                if (protect_cond_conj_182215) {
                    int16_t x_182207 = ((int16_t *) a_list_mem_181052.mem)[slice_179296];
                    
                    index_concat_179357 = x_182207;
                } else {
                    index_concat_179357 = (int16_t) 0;
                }
                
                int64_t slice_179355 = p_175563 + index_primexp_179351;
                bool protect_cond_conj_182216 = index_concat_cmp_179347 && x_182209;
                int16_t index_concat_179356;
                
                if (protect_cond_conj_182216) {
                    int16_t x_182203 = ((int16_t *) b_list_mem_181053.mem)[slice_179355];
                    
                    index_concat_179356 = x_182203;
                } else {
                    index_concat_179356 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_179352;
                
                if (index_concat_cmp_179347) {
                    index_concat_branch_179352 = index_concat_179356;
                } else {
                    index_concat_branch_179352 = index_concat_179357;
                }
                
                int8_t defunc_0_reduce_res_179358;
                int64_t defunc_0_reduce_res_179359;
                int16_t defunc_0_reduce_res_179360;
                
                if (x_182209) {
                    int8_t x_182217;
                    int64_t x_182218;
                    int16_t x_182219;
                    int8_t redout_180719;
                    int64_t redout_180720;
                    int16_t redout_180721;
                    
                    redout_180719 = index_concat_branch_179348;
                    redout_180720 = index_concat_branch_179349;
                    redout_180721 = index_concat_branch_179352;
                    for (int64_t i_180722 = 0; i_180722 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277; i_180722++) {
                        bool index_concat_cmp_180980 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, i_180722);
                        int8_t index_concat_branch_180984 = btoi_bool_i8(index_concat_cmp_180980);
                        int64_t index_concat_branch_180978;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180975 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t index_primexp_181028 = add64(index_concat_branch_179262, index_concat_i_180975);
                            
                            index_concat_branch_180978 = index_primexp_181028;
                        } else {
                            int64_t index_primexp_181030 = add64(index_concat_branch_179259, i_180722);
                            
                            index_concat_branch_180978 = index_primexp_181030;
                        }
                        
                        int16_t index_concat_branch_180972;
                        
                        if (index_concat_cmp_180980) {
                            int64_t index_concat_i_180969 = sub64(i_180722, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                            int64_t slice_181025 = slice_179315 + index_concat_i_180969;
                            int16_t index_concat_180970 = ((int16_t *) b_list_mem_181053.mem)[slice_181025];
                            
                            index_concat_branch_180972 = index_concat_180970;
                        } else {
                            int64_t slice_181026 = slice_179296 + i_180722;
                            int16_t index_concat_180971 = ((int16_t *) a_list_mem_181052.mem)[slice_181026];
                            
                            index_concat_branch_180972 = index_concat_180971;
                        }
                        
                        bool eq_x_y_181042 = redout_180719 == (int8_t) 1;
                        bool eq_x_zz_181043 = redout_180719 == (int8_t) 0;
                        bool p_and_eq_x_y_181044 = index_concat_cmp_180980 && eq_x_y_181042;
                        bool not_p_181045 = !index_concat_cmp_180980;
                        bool p_and_eq_x_y_181046 = eq_x_zz_181043 && not_p_181045;
                        bool cond_179370 = p_and_eq_x_y_181044 || p_and_eq_x_y_181046;
                        bool defunc_0_leq_res_t_res_179371 = sle64(redout_180720, index_concat_branch_180978);
                        bool defunc_0_leq_res_179372 = sle16(redout_180721, index_concat_branch_180972);
                        bool x_179373 = cond_179370 && defunc_0_leq_res_t_res_179371;
                        bool x_179374 = !cond_179370;
                        bool y_179375 = defunc_0_leq_res_179372 && x_179374;
                        bool defunc_0_leq_res_179376 = x_179373 || y_179375;
                        int8_t defunc_0_op_res_179377;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179377 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_179377 = redout_180719;
                        }
                        
                        int64_t defunc_0_op_res_179378;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179378 = index_concat_branch_180978;
                        } else {
                            defunc_0_op_res_179378 = redout_180720;
                        }
                        
                        int16_t defunc_0_op_res_179379;
                        
                        if (defunc_0_leq_res_179376) {
                            defunc_0_op_res_179379 = index_concat_branch_180972;
                        } else {
                            defunc_0_op_res_179379 = redout_180721;
                        }
                        
                        int8_t redout_tmp_182511 = defunc_0_op_res_179377;
                        int64_t redout_tmp_182512 = defunc_0_op_res_179378;
                        int16_t redout_tmp_182513 = defunc_0_op_res_179379;
                        
                        redout_180719 = redout_tmp_182511;
                        redout_180720 = redout_tmp_182512;
                        redout_180721 = redout_tmp_182513;
                    }
                    x_182217 = redout_180719;
                    x_182218 = redout_180720;
                    x_182219 = redout_180721;
                    defunc_0_reduce_res_179358 = x_182217;
                    defunc_0_reduce_res_179359 = x_182218;
                    defunc_0_reduce_res_179360 = x_182219;
                } else {
                    defunc_0_reduce_res_179358 = (int8_t) 0;
                    defunc_0_reduce_res_179359 = (int64_t) 0;
                    defunc_0_reduce_res_179360 = (int16_t) 0;
                }
                
                int64_t distance_179394 = add64((int64_t) 1, tmp_179392);
                int64_t binop_x_181474 = (int64_t) 8 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181475 = block_sizze_179338 * binop_x_181474;
                int64_t binop_x_181477 = (int64_t) 2 * smallest_pow_2_geq_than_res_179328;
                int64_t bytes_181478 = block_sizze_179338 * binop_x_181477;
                int64_t bytes_181493 = (int64_t) 8 * block_sizze_179338;
                bool loop_cond_179520 = slt64(block_sizze_179338, flat_dim_179339);
                bool zzero_179521 = merge_block_sizze_179344 == (int64_t) 0;
                bool nonzzero_179522 = !zzero_179521;
                
                if (cond_179322) {
                    if (memblock_set(ctx, &ext_mem_181766, &mem_181467, "mem_181467") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &mem_181469, "mem_181469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &mem_181471, "mem_181471") != 0)
                        return 1;
                } else {
                    if (mem_181473_cached_sizze_183032 < flat_dim_179339) {
                        err = lexical_realloc(ctx, &mem_181473, &mem_181473_cached_sizze_183032, flat_dim_179339);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_183033 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_183033, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181479_cached_sizze_183034 < bytes_181478) {
                        err = lexical_realloc(ctx, &mem_181479, &mem_181479_cached_sizze_183034, bytes_181478);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181492_cached_sizze_183035 < block_sizze_179338) {
                        err = lexical_realloc(ctx, &mem_181492, &mem_181492_cached_sizze_183035, block_sizze_179338);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181494_cached_sizze_183036 < bytes_181493) {
                        err = lexical_realloc(ctx, &mem_181494, &mem_181494_cached_sizze_183036, bytes_181493);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181496_cached_sizze_183037 < greatest_divisor_leq_than_arg1_179343) {
                        err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_183037, greatest_divisor_leq_than_arg1_179343);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180739 = 0; i_180739 < smallest_pow_2_geq_than_res_179328; i_180739++) {
                        int64_t zp_lhs_179402 = mul64(block_sizze_179338, i_180739);
                        
                        for (int64_t i_180729 = 0; i_180729 < block_sizze_179338; i_180729++) {
                            int64_t k_179407 = add64(zp_lhs_179402, i_180729);
                            bool cond_179408 = slt64(k_179407, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277);
                            int8_t lifted_lambda_res_179409;
                            int64_t lifted_lambda_res_179410;
                            int16_t lifted_lambda_res_179411;
                            
                            if (cond_179408) {
                                bool x_179412 = sle64((int64_t) 0, k_179407);
                                bool bounds_check_179413 = cond_179408 && x_179412;
                                bool index_certs_179414;
                                
                                if (!bounds_check_179413) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179407, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179415 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276, k_179407);
                                int8_t index_concat_branch_179416 = btoi_bool_i8(index_concat_cmp_179415);
                                int64_t index_concat_branch_179417;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179418 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t index_primexp_179419 = add64(index_concat_branch_179262, index_concat_i_179418);
                                    
                                    index_concat_branch_179417 = index_primexp_179419;
                                } else {
                                    int64_t index_primexp_179420 = add64(index_concat_branch_179259, k_179407);
                                    
                                    index_concat_branch_179417 = index_primexp_179420;
                                }
                                
                                int16_t index_concat_branch_179421;
                                
                                if (index_concat_cmp_179415) {
                                    int64_t index_concat_i_179422 = sub64(k_179407, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179276);
                                    int64_t slice_179423 = index_concat_branch_179262 + index_concat_i_179422;
                                    int64_t slice_179424 = p_175563 + slice_179423;
                                    int16_t index_concat_179425 = ((int16_t *) b_list_mem_181053.mem)[slice_179424];
                                    
                                    index_concat_branch_179421 = index_concat_179425;
                                } else {
                                    int64_t slice_179426 = index_concat_branch_179259 + k_179407;
                                    int64_t slice_179427 = p_175562 + slice_179426;
                                    int16_t index_concat_179428 = ((int16_t *) a_list_mem_181052.mem)[slice_179427];
                                    
                                    index_concat_branch_179421 = index_concat_179428;
                                }
                                lifted_lambda_res_179409 = index_concat_branch_179416;
                                lifted_lambda_res_179410 = index_concat_branch_179417;
                                lifted_lambda_res_179411 = index_concat_branch_179421;
                            } else {
                                lifted_lambda_res_179409 = defunc_0_reduce_res_179358;
                                lifted_lambda_res_179410 = defunc_0_reduce_res_179359;
                                lifted_lambda_res_179411 = defunc_0_reduce_res_179360;
                            }
                            ((int8_t *) mem_181492)[i_180729] = lifted_lambda_res_179409;
                            ((int64_t *) mem_181494)[i_180729] = lifted_lambda_res_179410;
                            ((int16_t *) mem_181496)[i_180729] = lifted_lambda_res_179411;
                        }
                        if (!cond_179391) {
                            for (int64_t i_179438 = 0; i_179438 < distance_179394; i_179438++) {
                                int64_t gt_arg1_179442 = add64((int64_t) 1, i_179438);
                                bool x_179443 = sle64((int64_t) 0, gt_arg1_179442);
                                bool y_179444 = slt64(gt_arg1_179442, block_sizze_179338);
                                bool bounds_check_179445 = x_179443 && y_179444;
                                bool index_certs_179446;
                                
                                if (!bounds_check_179445) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179442, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179450 = slt64(i_179438, block_sizze_179338);
                                bool index_certs_179451;
                                
                                if (!y_179450) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179438, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179447 = ((int8_t *) mem_181492)[gt_arg1_179442];
                                int64_t gt_arg1_179448 = ((int64_t *) mem_181494)[gt_arg1_179442];
                                int16_t gt_arg1_179449 = ((int16_t *) mem_181496)[gt_arg1_179442];
                                int8_t gt_arg0_179452 = ((int8_t *) mem_181492)[i_179438];
                                int64_t gt_arg0_179453 = ((int64_t *) mem_181494)[i_179438];
                                int16_t gt_arg0_179454 = ((int16_t *) mem_181496)[i_179438];
                                bool cond_179455 = gt_arg0_179452 == gt_arg1_179447;
                                bool defunc_0_leq_res_t_res_179456 = sle64(gt_arg0_179453, gt_arg1_179448);
                                bool defunc_0_leq_res_179457 = sle16(gt_arg0_179454, gt_arg1_179449);
                                bool x_179458 = cond_179455 && defunc_0_leq_res_t_res_179456;
                                bool x_179459 = !cond_179455;
                                bool y_179460 = defunc_0_leq_res_179457 && x_179459;
                                bool defunc_0_leq_res_179461 = x_179458 || y_179460;
                                bool defunc_0_lifted_gt_res_179462 = !defunc_0_leq_res_179461;
                                bool s_179463;
                                int64_t s_179467;
                                bool loop_while_179468;
                                int64_t j_179472;
                                
                                loop_while_179468 = defunc_0_lifted_gt_res_179462;
                                j_179472 = i_179438;
                                while (loop_while_179468) {
                                    bool x_179473 = sle64((int64_t) 0, j_179472);
                                    bool y_179474 = slt64(j_179472, block_sizze_179338);
                                    bool bounds_check_179475 = x_179473 && y_179474;
                                    bool index_certs_179476;
                                    
                                    if (!bounds_check_179475) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179472, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179480 = add64((int64_t) 1, j_179472);
                                    bool x_179481 = sle64((int64_t) 0, copy_arg0_179480);
                                    bool y_179482 = slt64(copy_arg0_179480, block_sizze_179338);
                                    bool bounds_check_179483 = x_179481 && y_179482;
                                    bool index_certs_179484;
                                    
                                    if (!bounds_check_179483) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179480, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179477 = ((int8_t *) mem_181492)[j_179472];
                                    int64_t copy_arg0_179478 = ((int64_t *) mem_181494)[j_179472];
                                    int16_t copy_arg0_179479 = ((int16_t *) mem_181496)[j_179472];
                                    int8_t copy_arg0_179485 = ((int8_t *) mem_181492)[copy_arg0_179480];
                                    int64_t copy_arg0_179486 = ((int64_t *) mem_181494)[copy_arg0_179480];
                                    int16_t copy_arg0_179487 = ((int16_t *) mem_181496)[copy_arg0_179480];
                                    
                                    ((int8_t *) mem_181492)[j_179472] = copy_arg0_179485;
                                    ((int64_t *) mem_181494)[j_179472] = copy_arg0_179486;
                                    ((int16_t *) mem_181496)[j_179472] = copy_arg0_179487;
                                    ((int8_t *) mem_181492)[copy_arg0_179480] = copy_arg0_179477;
                                    ((int64_t *) mem_181494)[copy_arg0_179480] = copy_arg0_179478;
                                    ((int16_t *) mem_181496)[copy_arg0_179480] = copy_arg0_179479;
                                    
                                    int64_t tmp_179494 = sub64(j_179472, (int64_t) 1);
                                    bool cond_179495 = sle64((int64_t) 0, tmp_179494);
                                    bool loop_cond_179496;
                                    
                                    if (cond_179495) {
                                        bool y_179500 = slt64(tmp_179494, block_sizze_179338);
                                        bool bounds_check_179501 = cond_179495 && y_179500;
                                        bool index_certs_179502;
                                        
                                        if (!bounds_check_179501) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179494, "] out of bounds for array of shape [", (long long) block_sizze_179338, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179497 = ((int8_t *) mem_181492)[j_179472];
                                        int64_t gt_arg1_179498 = ((int64_t *) mem_181494)[j_179472];
                                        int16_t gt_arg1_179499 = ((int16_t *) mem_181496)[j_179472];
                                        int8_t gt_arg0_179503 = ((int8_t *) mem_181492)[tmp_179494];
                                        int64_t gt_arg0_179504 = ((int64_t *) mem_181494)[tmp_179494];
                                        int16_t gt_arg0_179505 = ((int16_t *) mem_181496)[tmp_179494];
                                        bool cond_179506 = gt_arg0_179503 == gt_arg1_179497;
                                        bool defunc_0_leq_res_t_res_179507 = sle64(gt_arg0_179504, gt_arg1_179498);
                                        bool defunc_0_leq_res_179508 = sle16(gt_arg0_179505, gt_arg1_179499);
                                        bool x_179509 = cond_179506 && defunc_0_leq_res_t_res_179507;
                                        bool x_179510 = !cond_179506;
                                        bool y_179511 = defunc_0_leq_res_179508 && x_179510;
                                        bool defunc_0_leq_res_179512 = x_179509 || y_179511;
                                        bool defunc_0_lifted_gt_res_179513 = !defunc_0_leq_res_179512;
                                        
                                        loop_cond_179496 = defunc_0_lifted_gt_res_179513;
                                    } else {
                                        loop_cond_179496 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182523 = loop_cond_179496;
                                    int64_t j_tmp_182527 = tmp_179494;
                                    
                                    loop_while_179468 = loop_while_tmp_182523;
                                    j_179472 = j_tmp_182527;
                                }
                                s_179463 = loop_while_179468;
                                s_179467 = j_179472;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181473, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181492, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181476, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181494, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181479, i_180739 * block_sizze_179338, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181496, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179338});
                    }
                    if (memblock_alloc(ctx, &mem_181573, flat_dim_179339, "mem_181573")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181573.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint8_t *) mem_181473, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181577, bytes_181475, "mem_181577")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181577.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    if (memblock_alloc(ctx, &mem_181581, bytes_181478, "mem_181581")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181581.mem, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (uint16_t *) mem_181479, (int64_t) 0, (int64_t []) {block_sizze_179338, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179328, block_sizze_179338});
                    
                    int64_t data_179523;
                    bool data_179524;
                    int64_t data_179528;
                    int64_t loop_dz2084Uz2082U_179529;
                    bool loop_while_179530;
                    int64_t stride_179534;
                    
                    if (memblock_set(ctx, &mem_param_181585, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181588, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181591, &mem_181581, "mem_181581") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179529 = flat_dim_179339;
                    loop_while_179530 = loop_cond_179520;
                    stride_179534 = block_sizze_179338;
                    while (loop_while_179530) {
                        int64_t next_stride_179535 = mul64((int64_t) 2, stride_179534);
                        bool zzero_179536 = next_stride_179535 == (int64_t) 0;
                        bool nonzzero_179537 = !zzero_179536;
                        bool nonzzero_cert_179538;
                        
                        if (!nonzzero_179537) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179539 = sdiv64(flat_dim_179339, next_stride_179535);
                        bool bounds_invalid_upwards_179540 = slt64(num_merges_179539, (int64_t) 0);
                        bool valid_179541 = !bounds_invalid_upwards_179540;
                        bool range_valid_c_179542;
                        
                        if (!valid_179541) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179539, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179544 = sub64(next_stride_179535, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179545 = sle64((int64_t) 0, m_179544);
                        bool cond_179547 = slt64(next_stride_179535, (int64_t) 10);
                        bool protect_assert_disj_179548 = nonzzero_179522 || cond_179547;
                        bool nonzzero_cert_179549;
                        
                        if (!protect_assert_disj_179548) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179550 = smod_safe64(next_stride_179535, merge_block_sizze_179344);
                        bool num_blocks_179551 = zeze_lhs_179550 == (int64_t) 0;
                        bool protect_assert_disj_179552 = cond_179547 || num_blocks_179551;
                        bool assert_c_179553;
                        
                        if (!protect_assert_disj_179552) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179554 = sdiv_safe64(next_stride_179535, merge_block_sizze_179344);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555 = add64((int64_t) 1, num_blocks_179554);
                        int64_t j_m_i_179556 = sub64(next_stride_179535, stride_179534);
                        int64_t flat_dim_179557 = merge_block_sizze_179344 * num_blocks_179554;
                        bool bounds_invalid_upwards_179558 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, (int64_t) 0);
                        bool empty_slice_179559 = j_m_i_179556 == (int64_t) 0;
                        int64_t m_179560 = sub64(j_m_i_179556, (int64_t) 1);
                        bool zzero_lte_i_179561 = sle64((int64_t) 0, stride_179534);
                        bool i_lte_j_179562 = sle64(stride_179534, next_stride_179535);
                        bool empty_slice_179563 = stride_179534 == (int64_t) 0;
                        int64_t m_179564 = sub64(stride_179534, (int64_t) 1);
                        bool bounds_invalid_upwards_179565 = slt64(num_blocks_179554, (int64_t) 0);
                        bool cond_179566 = slt64((int64_t) 0, stride_179534);
                        bool valid_179567 = !bounds_invalid_upwards_179558;
                        int64_t i_p_m_t_s_179568 = add64(stride_179534, m_179560);
                        bool zzero_leq_i_p_m_t_s_179569 = sle64((int64_t) 0, m_179564);
                        bool i_p_m_t_s_leq_w_179570 = slt64(m_179564, next_stride_179535);
                        bool valid_179571 = !bounds_invalid_upwards_179565;
                        bool i_p_m_t_s_leq_w_179572 = slt64(m_179544, flat_dim_179557);
                        bool y_179573 = slt64((int64_t) 0, j_m_i_179556);
                        bool protect_assert_disj_179574 = cond_179547 || valid_179567;
                        bool range_valid_c_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179576 = sle64((int64_t) 0, i_p_m_t_s_179568);
                        bool i_p_m_t_s_leq_w_179577 = slt64(i_p_m_t_s_179568, next_stride_179535);
                        bool y_179578 = zzero_leq_i_p_m_t_s_179569 && i_p_m_t_s_leq_w_179570;
                        bool protect_assert_disj_179579 = cond_179547 || valid_179571;
                        bool range_valid_c_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179554, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179581 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179572;
                        bool y_179582 = zzero_lte_i_179561 && i_p_m_t_s_leq_w_179577;
                        bool forwards_ok_179583 = zzero_lte_i_179561 && y_179578;
                        bool ok_or_empty_179584 = zzero_179536 || y_179581;
                        bool protect_assert_disj_179585 = cond_179566 || y_179573;
                        bool y_179586 = zzero_leq_i_p_m_t_s_179576 && y_179582;
                        bool ok_or_empty_179587 = empty_slice_179563 || forwards_ok_179583;
                        bool protect_assert_disj_179588 = cond_179547 || ok_or_empty_179584;
                        bool index_certs_179589;
                        
                        if (!protect_assert_disj_179588) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) flat_dim_179557, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179590 = !cond_179547;
                        bool protect_assert_disj_179591 = protect_assert_disj_179585 || loop_not_taken_179590;
                        bool index_certs_179592;
                        
                        if (!protect_assert_disj_179591) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179593 = i_lte_j_179562 && y_179586;
                        bool protect_assert_disj_179594 = cond_179547 || ok_or_empty_179587;
                        bool index_certs_179595;
                        
                        if (!protect_assert_disj_179594) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179596 = ok_or_empty_179587 || loop_not_taken_179590;
                        bool index_certs_179597;
                        
                        if (!protect_assert_disj_179596) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179534, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179598 = empty_slice_179559 || forwards_ok_179593;
                        bool protect_assert_disj_179599 = cond_179547 || ok_or_empty_179598;
                        bool index_certs_179600;
                        
                        if (!protect_assert_disj_179599) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179601 = loop_not_taken_179590 || ok_or_empty_179598;
                        bool index_certs_179602;
                        
                        if (!protect_assert_disj_179601) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179534, ":] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181592 = next_stride_179535 * num_merges_179539;
                        int64_t binop_x_181594 = (int64_t) 8 * num_merges_179539;
                        int64_t bytes_181595 = next_stride_179535 * binop_x_181594;
                        int64_t binop_x_181597 = (int64_t) 2 * num_merges_179539;
                        int64_t bytes_181598 = next_stride_179535 * binop_x_181597;
                        bool i_lte_j_179546 = sle64((int64_t) 0, next_stride_179535);
                        
                        if (mem_181593_cached_sizze_183038 < bytes_181592) {
                            err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_183038, bytes_181592);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181596_cached_sizze_183039 < bytes_181595) {
                            err = lexical_realloc(ctx, &mem_181596, &mem_181596_cached_sizze_183039, bytes_181595);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181599_cached_sizze_183040 < bytes_181598) {
                            err = lexical_realloc(ctx, &mem_181599, &mem_181599_cached_sizze_183040, bytes_181598);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181612 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555;
                        int64_t binop_x_181630 = (int64_t) 8 * num_blocks_179554;
                        int64_t bytes_181631 = merge_block_sizze_179344 * binop_x_181630;
                        int64_t binop_x_181633 = (int64_t) 2 * num_blocks_179554;
                        int64_t bytes_181634 = merge_block_sizze_179344 * binop_x_181633;
                        int64_t bytes_181695 = (int64_t) 16 * stride_179534;
                        int64_t bytes_181697 = (int64_t) 4 * stride_179534;
                        
                        for (int64_t i_180766 = 0; i_180766 < num_merges_179539; i_180766++) {
                            int64_t start_179607 = mul64(next_stride_179535, i_180766);
                            int64_t j_m_i_179608 = sub64(loop_dz2084Uz2082U_179529, start_179607);
                            bool empty_slice_179609 = j_m_i_179608 == (int64_t) 0;
                            int64_t m_179610 = sub64(j_m_i_179608, (int64_t) 1);
                            int64_t i_p_m_t_s_179611 = add64(start_179607, m_179610);
                            bool zzero_leq_i_p_m_t_s_179612 = sle64((int64_t) 0, i_p_m_t_s_179611);
                            bool i_p_m_t_s_leq_w_179613 = slt64(i_p_m_t_s_179611, loop_dz2084Uz2082U_179529);
                            bool zzero_lte_i_179614 = sle64((int64_t) 0, start_179607);
                            bool i_lte_j_179615 = sle64(start_179607, loop_dz2084Uz2082U_179529);
                            bool y_179616 = i_p_m_t_s_leq_w_179613 && zzero_lte_i_179614;
                            bool y_179617 = zzero_leq_i_p_m_t_s_179612 && y_179616;
                            bool forwards_ok_179618 = i_lte_j_179615 && y_179617;
                            bool ok_or_empty_179619 = empty_slice_179609 || forwards_ok_179618;
                            bool index_certs_179620;
                            
                            if (!ok_or_empty_179619) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179607, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179529, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179621 = slt64(m_179544, j_m_i_179608);
                            bool y_179622 = zzero_leq_i_p_m_t_s_179545 && i_p_m_t_s_leq_w_179621;
                            bool forwards_ok_179623 = i_lte_j_179546 && y_179622;
                            bool ok_or_empty_179624 = zzero_179536 || forwards_ok_179623;
                            bool index_certs_179625;
                            
                            if (!ok_or_empty_179624) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179535, "] out of bounds for array of shape [", (long long) j_m_i_179608, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179547) {
                                int8_t dummy_179629;
                                int64_t dummy_179630;
                                int16_t dummy_179631;
                                
                                if (cond_179566) {
                                    int8_t head_res_179632 = ((int8_t *) mem_param_181585.mem)[start_179607];
                                    int64_t head_res_179633 = ((int64_t *) mem_param_181588.mem)[start_179607];
                                    int16_t head_res_179634 = ((int16_t *) mem_param_181591.mem)[start_179607];
                                    
                                    dummy_179629 = head_res_179632;
                                    dummy_179630 = head_res_179633;
                                    dummy_179631 = head_res_179634;
                                } else {
                                    int64_t slice_179635 = stride_179534 + start_179607;
                                    int8_t head_res_179636 = ((int8_t *) mem_param_181585.mem)[slice_179635];
                                    int64_t head_res_179637 = ((int64_t *) mem_param_181588.mem)[slice_179635];
                                    int16_t head_res_179638 = ((int16_t *) mem_param_181591.mem)[slice_179635];
                                    
                                    dummy_179629 = head_res_179636;
                                    dummy_179630 = head_res_179637;
                                    dummy_179631 = head_res_179638;
                                }
                                if (memblock_alloc(ctx, &mem_181694, next_stride_179535, "mem_181694")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182540 = 0; nest_i_182540 < next_stride_179535; nest_i_182540++) {
                                    ((int8_t *) mem_181694.mem)[nest_i_182540] = dummy_179629;
                                }
                                if (memblock_alloc(ctx, &mem_181696, bytes_181695, "mem_181696")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182541 = 0; nest_i_182541 < next_stride_179535; nest_i_182541++) {
                                    ((int64_t *) mem_181696.mem)[nest_i_182541] = dummy_179630;
                                }
                                if (memblock_alloc(ctx, &mem_181698, bytes_181697, "mem_181698")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182542 = 0; nest_i_182542 < next_stride_179535; nest_i_182542++) {
                                    ((int16_t *) mem_181698.mem)[nest_i_182542] = dummy_179631;
                                }
                                
                                int64_t data_179642;
                                int64_t i_179647 = (int64_t) 0;
                                
                                for (int64_t k_179646 = 0; k_179646 < next_stride_179535; k_179646++) {
                                    int64_t j_179651 = sub64(k_179646, i_179647);
                                    bool cond_179652 = j_179651 == j_m_i_179556;
                                    bool cond_179653;
                                    
                                    if (cond_179652) {
                                        cond_179653 = 1;
                                    } else {
                                        bool cond_179654 = slt64(i_179647, stride_179534);
                                        bool cond_f_res_179655;
                                        
                                        if (cond_179654) {
                                            bool x_179656 = sle64((int64_t) 0, j_179651);
                                            bool y_179657 = slt64(j_179651, j_m_i_179556);
                                            bool bounds_check_179658 = x_179656 && y_179657;
                                            bool index_certs_179659;
                                            
                                            if (!bounds_check_179658) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179665 = sle64((int64_t) 0, i_179647);
                                            bool bounds_check_179666 = cond_179654 && x_179665;
                                            bool index_certs_179667;
                                            
                                            if (!bounds_check_179666) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179660 = stride_179534 + j_179651;
                                            int64_t slice_179661 = start_179607 + slice_179660;
                                            int8_t leq_arg1_179662 = ((int8_t *) mem_param_181585.mem)[slice_179661];
                                            int64_t leq_arg1_179663 = ((int64_t *) mem_param_181588.mem)[slice_179661];
                                            int16_t leq_arg1_179664 = ((int16_t *) mem_param_181591.mem)[slice_179661];
                                            int64_t slice_179668 = start_179607 + i_179647;
                                            int8_t leq_arg0_179669 = ((int8_t *) mem_param_181585.mem)[slice_179668];
                                            int64_t leq_arg0_179670 = ((int64_t *) mem_param_181588.mem)[slice_179668];
                                            int16_t leq_arg0_179671 = ((int16_t *) mem_param_181591.mem)[slice_179668];
                                            bool cond_179672 = leq_arg0_179669 == leq_arg1_179662;
                                            bool defunc_0_leq_res_t_res_179673 = sle64(leq_arg0_179670, leq_arg1_179663);
                                            bool defunc_0_leq_res_179674 = sle16(leq_arg0_179671, leq_arg1_179664);
                                            bool x_179675 = cond_179672 && defunc_0_leq_res_t_res_179673;
                                            bool x_179676 = !cond_179672;
                                            bool y_179677 = defunc_0_leq_res_179674 && x_179676;
                                            bool defunc_0_leq_res_179678 = x_179675 || y_179677;
                                            
                                            cond_f_res_179655 = defunc_0_leq_res_179678;
                                        } else {
                                            cond_f_res_179655 = 0;
                                        }
                                        cond_179653 = cond_f_res_179655;
                                    }
                                    
                                    int64_t loopres_179679;
                                    int8_t loopres_179680;
                                    int64_t loopres_179681;
                                    int16_t loopres_179682;
                                    
                                    if (cond_179653) {
                                        bool x_179684 = sle64((int64_t) 0, i_179647);
                                        bool y_179685 = slt64(i_179647, stride_179534);
                                        bool bounds_check_179686 = x_179684 && y_179685;
                                        bool index_certs_179687;
                                        
                                        if (!bounds_check_179686) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179647, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179683 = add64((int64_t) 1, i_179647);
                                        int64_t slice_179688 = start_179607 + i_179647;
                                        int8_t tmp_179689 = ((int8_t *) mem_param_181585.mem)[slice_179688];
                                        int64_t tmp_179690 = ((int64_t *) mem_param_181588.mem)[slice_179688];
                                        int16_t tmp_179691 = ((int16_t *) mem_param_181591.mem)[slice_179688];
                                        
                                        loopres_179679 = tmp_179683;
                                        loopres_179680 = tmp_179689;
                                        loopres_179681 = tmp_179690;
                                        loopres_179682 = tmp_179691;
                                    } else {
                                        bool x_179692 = sle64((int64_t) 0, j_179651);
                                        bool y_179693 = slt64(j_179651, j_m_i_179556);
                                        bool bounds_check_179694 = x_179692 && y_179693;
                                        bool index_certs_179695;
                                        
                                        if (!bounds_check_179694) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179651, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179696 = stride_179534 + j_179651;
                                        int64_t slice_179697 = start_179607 + slice_179696;
                                        int8_t tmp_179698 = ((int8_t *) mem_param_181585.mem)[slice_179697];
                                        int64_t tmp_179699 = ((int64_t *) mem_param_181588.mem)[slice_179697];
                                        int16_t tmp_179700 = ((int16_t *) mem_param_181591.mem)[slice_179697];
                                        
                                        loopres_179679 = i_179647;
                                        loopres_179680 = tmp_179698;
                                        loopres_179681 = tmp_179699;
                                        loopres_179682 = tmp_179700;
                                    }
                                    ((int8_t *) mem_181694.mem)[k_179646] = loopres_179680;
                                    ((int64_t *) mem_181696.mem)[k_179646] = loopres_179681;
                                    ((int16_t *) mem_181698.mem)[k_179646] = loopres_179682;
                                    
                                    int64_t i_tmp_182543 = loopres_179679;
                                    
                                    i_179647 = i_tmp_182543;
                                }
                                data_179642 = i_179647;
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181694, "mem_181694") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181696, "mem_181696") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181698, "mem_181698") != 0)
                                    return 1;
                            } else {
                                if (mem_181613_cached_sizze_183041 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181613, &mem_181613_cached_sizze_183041, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_183042 < bytes_181612) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_183042, bytes_181612);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180747 = 0; i_180747 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555; i_180747++) {
                                    int64_t split_count_arg3_179708 = mul64(merge_block_sizze_179344, i_180747);
                                    int64_t defunc_0_split_count_res_179709;
                                    int64_t defunc_0_split_count_res_179710;
                                    int64_t defunc_0_split_count_res_179711;
                                    int64_t defunc_0_split_count_res_179712;
                                    int64_t defunc_0_split_count_res_179713;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_179709, &defunc_0_split_count_res_179710, &defunc_0_split_count_res_179711, &defunc_0_split_count_res_179712, &defunc_0_split_count_res_179713, (int64_t) 0, stride_179534, (int64_t) 0, j_m_i_179556, split_count_arg3_179708) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179714 = slt64((int64_t) 0, defunc_0_split_count_res_179713);
                                    bool defunc_0_split_count_res_179715;
                                    int64_t defunc_0_split_count_res_179716;
                                    int64_t defunc_0_split_count_res_179717;
                                    int64_t defunc_0_split_count_res_179718;
                                    int64_t defunc_0_split_count_res_179719;
                                    int64_t defunc_0_split_count_res_179720;
                                    bool loop_while_179721;
                                    int64_t ss_179722;
                                    int64_t ss_179723;
                                    int64_t tt_179724;
                                    int64_t tt_179725;
                                    int64_t count_179726;
                                    
                                    loop_while_179721 = loop_cond_179714;
                                    ss_179722 = defunc_0_split_count_res_179709;
                                    ss_179723 = defunc_0_split_count_res_179710;
                                    tt_179724 = defunc_0_split_count_res_179711;
                                    tt_179725 = defunc_0_split_count_res_179712;
                                    count_179726 = defunc_0_split_count_res_179713;
                                    while (loop_while_179721) {
                                        int64_t zlze_lhs_179727 = sub64(ss_179723, ss_179722);
                                        bool cond_179728 = sle64(zlze_lhs_179727, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179729;
                                        int64_t defunc_0_lifted_step_res_179730;
                                        int64_t defunc_0_lifted_step_res_179731;
                                        int64_t defunc_0_lifted_step_res_179732;
                                        
                                        if (cond_179728) {
                                            int64_t tmp_179733 = add64(tt_179724, count_179726);
                                            
                                            defunc_0_lifted_step_res_179729 = ss_179722;
                                            defunc_0_lifted_step_res_179730 = tmp_179733;
                                            defunc_0_lifted_step_res_179731 = tt_179725;
                                            defunc_0_lifted_step_res_179732 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179734 = sub64(tt_179725, tt_179724);
                                            bool cond_179735 = sle64(zlze_lhs_179734, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179736;
                                            int64_t defunc_0_lifted_step_res_f_res_179737;
                                            int64_t defunc_0_lifted_step_res_f_res_179738;
                                            int64_t defunc_0_lifted_step_res_f_res_179739;
                                            
                                            if (cond_179735) {
                                                int64_t tmp_179740 = add64(ss_179722, count_179726);
                                                
                                                defunc_0_lifted_step_res_f_res_179736 = tmp_179740;
                                                defunc_0_lifted_step_res_f_res_179737 = tt_179724;
                                                defunc_0_lifted_step_res_f_res_179738 = tt_179725;
                                                defunc_0_lifted_step_res_f_res_179739 = (int64_t) 0;
                                            } else {
                                                bool cond_179741 = count_179726 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179742;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179743;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179744;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179745;
                                                
                                                if (cond_179741) {
                                                    bool x_179746 = sle64((int64_t) 0, ss_179722);
                                                    bool y_179747 = slt64(ss_179722, stride_179534);
                                                    bool bounds_check_179748 = x_179746 && y_179747;
                                                    bool index_certs_179749;
                                                    
                                                    if (!bounds_check_179748) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179722, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179754 = sle64((int64_t) 0, tt_179724);
                                                    bool y_179755 = slt64(tt_179724, j_m_i_179556);
                                                    bool bounds_check_179756 = x_179754 && y_179755;
                                                    bool index_certs_179757;
                                                    
                                                    if (!bounds_check_179756) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179724, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179750 = start_179607 + ss_179722;
                                                    int8_t leq_arg1_179751 = ((int8_t *) mem_param_181585.mem)[slice_179750];
                                                    int64_t leq_arg1_179752 = ((int64_t *) mem_param_181588.mem)[slice_179750];
                                                    int16_t leq_arg1_179753 = ((int16_t *) mem_param_181591.mem)[slice_179750];
                                                    int64_t slice_179758 = stride_179534 + tt_179724;
                                                    int64_t slice_179759 = start_179607 + slice_179758;
                                                    int8_t leq_arg0_179760 = ((int8_t *) mem_param_181585.mem)[slice_179759];
                                                    int64_t leq_arg0_179761 = ((int64_t *) mem_param_181588.mem)[slice_179759];
                                                    int16_t leq_arg0_179762 = ((int16_t *) mem_param_181591.mem)[slice_179759];
                                                    bool cond_179763 = leq_arg0_179760 == leq_arg1_179751;
                                                    bool defunc_0_leq_res_t_res_179764 = sle64(leq_arg0_179761, leq_arg1_179752);
                                                    bool defunc_0_leq_res_179765 = sle16(leq_arg0_179762, leq_arg1_179753);
                                                    bool x_179766 = cond_179763 && defunc_0_leq_res_t_res_179764;
                                                    bool x_179767 = !cond_179763;
                                                    bool y_179768 = defunc_0_leq_res_179765 && x_179767;
                                                    bool defunc_0_leq_res_179769 = x_179766 || y_179768;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    
                                                    if (defunc_0_leq_res_179769) {
                                                        int64_t tmp_179772 = add64((int64_t) 1, tt_179724);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = ss_179722;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tmp_179772;
                                                    } else {
                                                        int64_t tmp_179773 = add64((int64_t) 1, ss_179722);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179770 = tmp_179773;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179771 = tt_179724;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = defunc_0_lifted_step_res_f_res_f_res_t_res_179770;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_t_res_179771;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = tt_179725;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179774 = sdiv64(count_179726, (int64_t) 2);
                                                    int64_t n_179775 = sub64(count_179726, m_179774);
                                                    bool cond_179776 = n_179775 == (int64_t) 0;
                                                    int64_t zgze_lhs_179777 = add64(ss_179722, m_179774);
                                                    bool cond_f_res_179778 = sle64(ss_179723, zgze_lhs_179777);
                                                    bool x_179779 = !cond_179776;
                                                    bool y_179780 = cond_f_res_179778 && x_179779;
                                                    bool cond_179781 = cond_179776 || y_179780;
                                                    bool leq_y_x_179782;
                                                    
                                                    if (cond_179781) {
                                                        leq_y_x_179782 = 1;
                                                    } else {
                                                        bool x_179783 = sle64((int64_t) 0, zgze_lhs_179777);
                                                        bool y_179784 = slt64(zgze_lhs_179777, stride_179534);
                                                        bool bounds_check_179785 = x_179783 && y_179784;
                                                        bool index_certs_179786;
                                                        
                                                        if (!bounds_check_179785) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179777, "] out of bounds for array of shape [", (long long) stride_179534, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179791 = add64(tt_179724, n_179775);
                                                        int64_t leq_arg0_179792 = sub64(zm_lhs_179791, (int64_t) 1);
                                                        bool x_179793 = sle64((int64_t) 0, leq_arg0_179792);
                                                        bool y_179794 = slt64(leq_arg0_179792, j_m_i_179556);
                                                        bool bounds_check_179795 = x_179793 && y_179794;
                                                        bool index_certs_179796;
                                                        
                                                        if (!bounds_check_179795) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179792, "] out of bounds for array of shape [", (long long) j_m_i_179556, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179787 = start_179607 + zgze_lhs_179777;
                                                        int8_t leq_arg1_179788 = ((int8_t *) mem_param_181585.mem)[slice_179787];
                                                        int64_t leq_arg1_179789 = ((int64_t *) mem_param_181588.mem)[slice_179787];
                                                        int16_t leq_arg1_179790 = ((int16_t *) mem_param_181591.mem)[slice_179787];
                                                        int64_t slice_179797 = stride_179534 + leq_arg0_179792;
                                                        int64_t slice_179798 = start_179607 + slice_179797;
                                                        int8_t leq_arg0_179799 = ((int8_t *) mem_param_181585.mem)[slice_179798];
                                                        int64_t leq_arg0_179800 = ((int64_t *) mem_param_181588.mem)[slice_179798];
                                                        int16_t leq_arg0_179801 = ((int16_t *) mem_param_181591.mem)[slice_179798];
                                                        bool cond_179802 = leq_arg0_179799 == leq_arg1_179788;
                                                        bool defunc_0_leq_res_t_res_179803 = sle64(leq_arg0_179800, leq_arg1_179789);
                                                        bool defunc_0_leq_res_179804 = sle16(leq_arg0_179801, leq_arg1_179790);
                                                        bool x_179805 = cond_179802 && defunc_0_leq_res_t_res_179803;
                                                        bool x_179806 = !cond_179802;
                                                        bool y_179807 = defunc_0_leq_res_179804 && x_179806;
                                                        bool defunc_0_leq_res_179808 = x_179805 || y_179807;
                                                        
                                                        leq_y_x_179782 = defunc_0_leq_res_179808;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                    
                                                    if (leq_y_x_179782) {
                                                        int64_t tmp_179812 = add64(tt_179724, n_179775);
                                                        int64_t tmp_179813 = sub64(count_179726, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tmp_179812;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tt_179725;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = tmp_179813;
                                                    } else {
                                                        int64_t tmp_179814 = add64(tt_179724, n_179775);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179809 = tt_179724;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179810 = tmp_179814;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179811 = count_179726;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179742 = ss_179722;
                                                    defunc_0_lifted_step_res_f_res_f_res_179743 = defunc_0_lifted_step_res_f_res_f_res_f_res_179809;
                                                    defunc_0_lifted_step_res_f_res_f_res_179744 = defunc_0_lifted_step_res_f_res_f_res_f_res_179810;
                                                    defunc_0_lifted_step_res_f_res_f_res_179745 = defunc_0_lifted_step_res_f_res_f_res_f_res_179811;
                                                }
                                                defunc_0_lifted_step_res_f_res_179736 = defunc_0_lifted_step_res_f_res_f_res_179742;
                                                defunc_0_lifted_step_res_f_res_179737 = defunc_0_lifted_step_res_f_res_f_res_179743;
                                                defunc_0_lifted_step_res_f_res_179738 = defunc_0_lifted_step_res_f_res_f_res_179744;
                                                defunc_0_lifted_step_res_f_res_179739 = defunc_0_lifted_step_res_f_res_f_res_179745;
                                            }
                                            defunc_0_lifted_step_res_179729 = defunc_0_lifted_step_res_f_res_179736;
                                            defunc_0_lifted_step_res_179730 = defunc_0_lifted_step_res_f_res_179737;
                                            defunc_0_lifted_step_res_179731 = defunc_0_lifted_step_res_f_res_179738;
                                            defunc_0_lifted_step_res_179732 = defunc_0_lifted_step_res_f_res_179739;
                                        }
                                        
                                        int64_t loopres_179815;
                                        int64_t loopres_179816;
                                        int64_t loopres_179817;
                                        int64_t loopres_179818;
                                        int64_t loopres_179819;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_179815, &loopres_179816, &loopres_179817, &loopres_179818, &loopres_179819, defunc_0_lifted_step_res_179729, ss_179723, defunc_0_lifted_step_res_179730, defunc_0_lifted_step_res_179731, defunc_0_lifted_step_res_179732) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179820 = slt64((int64_t) 0, loopres_179819);
                                        bool loop_while_tmp_182549 = loop_cond_179820;
                                        int64_t ss_tmp_182550 = loopres_179815;
                                        int64_t ss_tmp_182551 = loopres_179816;
                                        int64_t tt_tmp_182552 = loopres_179817;
                                        int64_t tt_tmp_182553 = loopres_179818;
                                        int64_t count_tmp_182554 = loopres_179819;
                                        
                                        loop_while_179721 = loop_while_tmp_182549;
                                        ss_179722 = ss_tmp_182550;
                                        ss_179723 = ss_tmp_182551;
                                        tt_179724 = tt_tmp_182552;
                                        tt_179725 = tt_tmp_182553;
                                        count_179726 = count_tmp_182554;
                                    }
                                    defunc_0_split_count_res_179715 = loop_while_179721;
                                    defunc_0_split_count_res_179716 = ss_179722;
                                    defunc_0_split_count_res_179717 = ss_179723;
                                    defunc_0_split_count_res_179718 = tt_179724;
                                    defunc_0_split_count_res_179719 = tt_179725;
                                    defunc_0_split_count_res_179720 = count_179726;
                                    ((int64_t *) mem_181613)[i_180747] = defunc_0_split_count_res_179716;
                                    ((int64_t *) mem_181615)[i_180747] = defunc_0_split_count_res_179718;
                                }
                                if (mem_181629_cached_sizze_183043 < flat_dim_179557) {
                                    err = lexical_realloc(ctx, &mem_181629, &mem_181629_cached_sizze_183043, flat_dim_179557);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181632_cached_sizze_183044 < bytes_181631) {
                                    err = lexical_realloc(ctx, &mem_181632, &mem_181632_cached_sizze_183044, bytes_181631);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181635_cached_sizze_183045 < bytes_181634) {
                                    err = lexical_realloc(ctx, &mem_181635, &mem_181635_cached_sizze_183045, bytes_181634);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180756 = 0; i_180756 < num_blocks_179554; i_180756++) {
                                    bool y_179829 = slt64(i_180756, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool index_certs_179831;
                                    
                                    if (!y_179829) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179832 = ((int64_t *) mem_181613)[i_180756];
                                    int64_t defunc_0_f_res_179833 = ((int64_t *) mem_181615)[i_180756];
                                    int64_t tmp_179834 = add64((int64_t) 1, i_180756);
                                    bool x_179835 = sle64((int64_t) 0, tmp_179834);
                                    bool y_179836 = slt64(tmp_179834, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555);
                                    bool bounds_check_179837 = x_179835 && y_179836;
                                    bool index_certs_179838;
                                    
                                    if (!bounds_check_179837) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179555, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179839 = ((int64_t *) mem_181613)[tmp_179834];
                                    int64_t defunc_0_f_res_179840 = ((int64_t *) mem_181615)[tmp_179834];
                                    int64_t merge_sequential_arg2_179841 = add64(stride_179534, defunc_0_f_res_179833);
                                    int64_t merge_sequential_arg2_179842 = add64(stride_179534, defunc_0_f_res_179840);
                                    int64_t j_m_i_179843 = sub64(merge_sequential_arg2_179842, merge_sequential_arg2_179841);
                                    bool empty_slice_179844 = j_m_i_179843 == (int64_t) 0;
                                    int64_t m_179845 = sub64(j_m_i_179843, (int64_t) 1);
                                    int64_t i_p_m_t_s_179846 = add64(merge_sequential_arg2_179841, m_179845);
                                    bool zzero_leq_i_p_m_t_s_179847 = sle64((int64_t) 0, i_p_m_t_s_179846);
                                    bool i_p_m_t_s_leq_w_179848 = slt64(i_p_m_t_s_179846, next_stride_179535);
                                    bool zzero_lte_i_179849 = sle64((int64_t) 0, merge_sequential_arg2_179841);
                                    bool i_lte_j_179850 = sle64(merge_sequential_arg2_179841, merge_sequential_arg2_179842);
                                    bool y_179851 = i_p_m_t_s_leq_w_179848 && zzero_lte_i_179849;
                                    bool y_179852 = zzero_leq_i_p_m_t_s_179847 && y_179851;
                                    bool forwards_ok_179853 = i_lte_j_179850 && y_179852;
                                    bool ok_or_empty_179854 = empty_slice_179844 || forwards_ok_179853;
                                    bool index_certs_179855;
                                    
                                    if (!ok_or_empty_179854) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179841, ":", (long long) merge_sequential_arg2_179842, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179856 = sub64(defunc_0_f_res_179839, defunc_0_f_res_179832);
                                    bool empty_slice_179857 = j_m_i_179856 == (int64_t) 0;
                                    int64_t m_179858 = sub64(j_m_i_179856, (int64_t) 1);
                                    int64_t i_p_m_t_s_179859 = add64(defunc_0_f_res_179832, m_179858);
                                    bool zzero_leq_i_p_m_t_s_179860 = sle64((int64_t) 0, i_p_m_t_s_179859);
                                    bool i_p_m_t_s_leq_w_179861 = slt64(i_p_m_t_s_179859, next_stride_179535);
                                    bool zzero_lte_i_179862 = sle64((int64_t) 0, defunc_0_f_res_179832);
                                    bool i_lte_j_179863 = sle64(defunc_0_f_res_179832, defunc_0_f_res_179839);
                                    bool y_179864 = i_p_m_t_s_leq_w_179861 && zzero_lte_i_179862;
                                    bool y_179865 = zzero_leq_i_p_m_t_s_179860 && y_179864;
                                    bool forwards_ok_179866 = i_lte_j_179863 && y_179865;
                                    bool ok_or_empty_179867 = empty_slice_179857 || forwards_ok_179866;
                                    bool index_certs_179868;
                                    
                                    if (!ok_or_empty_179867) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179832, ":", (long long) defunc_0_f_res_179839, "] out of bounds for array of shape [", (long long) next_stride_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179869 = slt64((int64_t) 0, j_m_i_179856);
                                    int8_t dummy_179870;
                                    int64_t dummy_179871;
                                    int16_t dummy_179872;
                                    
                                    if (cond_179869) {
                                        bool index_certs_179873;
                                        
                                        if (!cond_179869) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179874 = start_179607 + defunc_0_f_res_179832;
                                        int8_t head_res_179875 = ((int8_t *) mem_param_181585.mem)[slice_179874];
                                        int64_t head_res_179876 = ((int64_t *) mem_param_181588.mem)[slice_179874];
                                        int16_t head_res_179877 = ((int16_t *) mem_param_181591.mem)[slice_179874];
                                        
                                        dummy_179870 = head_res_179875;
                                        dummy_179871 = head_res_179876;
                                        dummy_179872 = head_res_179877;
                                    } else {
                                        bool y_179878 = slt64((int64_t) 0, j_m_i_179843);
                                        bool index_certs_179879;
                                        
                                        if (!y_179878) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179880 = start_179607 + merge_sequential_arg2_179841;
                                        int8_t head_res_179881 = ((int8_t *) mem_param_181585.mem)[slice_179880];
                                        int64_t head_res_179882 = ((int64_t *) mem_param_181588.mem)[slice_179880];
                                        int16_t head_res_179883 = ((int16_t *) mem_param_181591.mem)[slice_179880];
                                        
                                        dummy_179870 = head_res_179881;
                                        dummy_179871 = head_res_179882;
                                        dummy_179872 = head_res_179883;
                                    }
                                    for (int64_t nest_i_182558 = 0; nest_i_182558 < merge_block_sizze_179344; nest_i_182558++) {
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + nest_i_182558] = dummy_179870;
                                    }
                                    for (int64_t nest_i_182559 = 0; nest_i_182559 < merge_block_sizze_179344; nest_i_182559++) {
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + nest_i_182559] = dummy_179871;
                                    }
                                    for (int64_t nest_i_182560 = 0; nest_i_182560 < merge_block_sizze_179344; nest_i_182560++) {
                                        ((int16_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + nest_i_182560] = dummy_179872;
                                    }
                                    
                                    int64_t data_179887;
                                    int64_t i_179892 = (int64_t) 0;
                                    
                                    for (int64_t k_179891 = 0; k_179891 < merge_block_sizze_179344; k_179891++) {
                                        int64_t j_179896 = sub64(k_179891, i_179892);
                                        bool cond_179897 = j_179896 == j_m_i_179843;
                                        bool cond_179898;
                                        
                                        if (cond_179897) {
                                            cond_179898 = 1;
                                        } else {
                                            bool cond_179899 = slt64(i_179892, j_m_i_179856);
                                            bool cond_f_res_179900;
                                            
                                            if (cond_179899) {
                                                bool x_179901 = sle64((int64_t) 0, j_179896);
                                                bool y_179902 = slt64(j_179896, j_m_i_179843);
                                                bool bounds_check_179903 = x_179901 && y_179902;
                                                bool index_certs_179904;
                                                
                                                if (!bounds_check_179903) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179910 = sle64((int64_t) 0, i_179892);
                                                bool bounds_check_179911 = cond_179899 && x_179910;
                                                bool index_certs_179912;
                                                
                                                if (!bounds_check_179911) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179905 = merge_sequential_arg2_179841 + j_179896;
                                                int64_t slice_179906 = start_179607 + slice_179905;
                                                int8_t leq_arg1_179907 = ((int8_t *) mem_param_181585.mem)[slice_179906];
                                                int64_t leq_arg1_179908 = ((int64_t *) mem_param_181588.mem)[slice_179906];
                                                int16_t leq_arg1_179909 = ((int16_t *) mem_param_181591.mem)[slice_179906];
                                                int64_t slice_179913 = defunc_0_f_res_179832 + i_179892;
                                                int64_t slice_179914 = start_179607 + slice_179913;
                                                int8_t leq_arg0_179915 = ((int8_t *) mem_param_181585.mem)[slice_179914];
                                                int64_t leq_arg0_179916 = ((int64_t *) mem_param_181588.mem)[slice_179914];
                                                int16_t leq_arg0_179917 = ((int16_t *) mem_param_181591.mem)[slice_179914];
                                                bool cond_179918 = leq_arg0_179915 == leq_arg1_179907;
                                                bool defunc_0_leq_res_t_res_179919 = sle64(leq_arg0_179916, leq_arg1_179908);
                                                bool defunc_0_leq_res_179920 = sle16(leq_arg0_179917, leq_arg1_179909);
                                                bool x_179921 = cond_179918 && defunc_0_leq_res_t_res_179919;
                                                bool x_179922 = !cond_179918;
                                                bool y_179923 = defunc_0_leq_res_179920 && x_179922;
                                                bool defunc_0_leq_res_179924 = x_179921 || y_179923;
                                                
                                                cond_f_res_179900 = defunc_0_leq_res_179924;
                                            } else {
                                                cond_f_res_179900 = 0;
                                            }
                                            cond_179898 = cond_f_res_179900;
                                        }
                                        
                                        int64_t loopres_179925;
                                        int8_t loopres_179926;
                                        int64_t loopres_179927;
                                        int16_t loopres_179928;
                                        
                                        if (cond_179898) {
                                            bool x_179930 = sle64((int64_t) 0, i_179892);
                                            bool y_179931 = slt64(i_179892, j_m_i_179856);
                                            bool bounds_check_179932 = x_179930 && y_179931;
                                            bool index_certs_179933;
                                            
                                            if (!bounds_check_179932) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179892, "] out of bounds for array of shape [", (long long) j_m_i_179856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179929 = add64((int64_t) 1, i_179892);
                                            int64_t slice_179934 = defunc_0_f_res_179832 + i_179892;
                                            int64_t slice_179935 = start_179607 + slice_179934;
                                            int8_t tmp_179936 = ((int8_t *) mem_param_181585.mem)[slice_179935];
                                            int64_t tmp_179937 = ((int64_t *) mem_param_181588.mem)[slice_179935];
                                            int16_t tmp_179938 = ((int16_t *) mem_param_181591.mem)[slice_179935];
                                            
                                            loopres_179925 = tmp_179929;
                                            loopres_179926 = tmp_179936;
                                            loopres_179927 = tmp_179937;
                                            loopres_179928 = tmp_179938;
                                        } else {
                                            bool x_179939 = sle64((int64_t) 0, j_179896);
                                            bool y_179940 = slt64(j_179896, j_m_i_179843);
                                            bool bounds_check_179941 = x_179939 && y_179940;
                                            bool index_certs_179942;
                                            
                                            if (!bounds_check_179941) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179896, "] out of bounds for array of shape [", (long long) j_m_i_179843, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179943 = merge_sequential_arg2_179841 + j_179896;
                                            int64_t slice_179944 = start_179607 + slice_179943;
                                            int8_t tmp_179945 = ((int8_t *) mem_param_181585.mem)[slice_179944];
                                            int64_t tmp_179946 = ((int64_t *) mem_param_181588.mem)[slice_179944];
                                            int16_t tmp_179947 = ((int16_t *) mem_param_181591.mem)[slice_179944];
                                            
                                            loopres_179925 = i_179892;
                                            loopres_179926 = tmp_179945;
                                            loopres_179927 = tmp_179946;
                                            loopres_179928 = tmp_179947;
                                        }
                                        ((int8_t *) mem_181629)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179926;
                                        ((int64_t *) mem_181632)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179927;
                                        ((int16_t *) mem_181635)[i_180756 * merge_block_sizze_179344 + k_179891] = loopres_179928;
                                        
                                        int64_t i_tmp_182561 = loopres_179925;
                                        
                                        i_179892 = i_tmp_182561;
                                    }
                                    data_179887 = i_179892;
                                }
                                if (memblock_alloc(ctx, &mem_181684, flat_dim_179557, "mem_181684")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181684.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint8_t *) mem_181629, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181688, bytes_181631, "mem_181688")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181688.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint64_t *) mem_181632, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_alloc(ctx, &mem_181692, bytes_181634, "mem_181692")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181692.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (uint16_t *) mem_181635, (int64_t) 0, (int64_t []) {merge_block_sizze_179344, (int64_t) 1}, (int64_t []) {num_blocks_179554, merge_block_sizze_179344});
                                if (memblock_set(ctx, &ext_mem_181725, &mem_181684, "mem_181684") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181722, &mem_181688, "mem_181688") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181719, &mem_181692, "mem_181692") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181593, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181596, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181722.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181599, i_180766 * next_stride_179535, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179535});
                            if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181739, bytes_181592, "mem_181739")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181739.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint8_t *) mem_181593, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181743, bytes_181595, "mem_181743")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181743.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint64_t *) mem_181596, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        if (memblock_alloc(ctx, &mem_181747, bytes_181598, "mem_181747")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181747.mem, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (uint16_t *) mem_181599, (int64_t) 0, (int64_t []) {next_stride_179535, (int64_t) 1}, (int64_t []) {num_merges_179539, next_stride_179535});
                        
                        bool loop_cond_179967 = slt64(next_stride_179535, flat_dim_179339);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182528, &mem_181739, "mem_181739") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182529, &mem_181743, "mem_181743") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182530, &mem_181747, "mem_181747") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182531 = bytes_181592;
                        bool loop_while_tmp_182532 = loop_cond_179967;
                        int64_t stride_tmp_182536 = next_stride_179535;
                        
                        if (memblock_set(ctx, &mem_param_181585, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181588, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181591, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179529 = loop_dz2084Uz2082U_tmp_182531;
                        loop_while_179530 = loop_while_tmp_182532;
                        stride_179534 = stride_tmp_182536;
                    }
                    if (memblock_set(ctx, &ext_mem_181757, &mem_param_181585, "mem_param_181585") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181756, &mem_param_181588, "mem_param_181588") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181755, &mem_param_181591, "mem_param_181591") != 0)
                        return 1;
                    data_179523 = loop_dz2084Uz2082U_179529;
                    data_179524 = loop_while_179530;
                    data_179528 = stride_179534;
                    if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
                        return 1;
                    
                    bool empty_slice_179968 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179969 = sle64((int64_t) 0, zs_lhs_179323);
                    bool i_p_m_t_s_leq_w_179970 = slt64(zs_lhs_179323, data_179523);
                    bool y_179971 = zzero_leq_i_p_m_t_s_179969 && i_p_m_t_s_leq_w_179970;
                    bool ok_or_empty_179972 = empty_slice_179968 || y_179971;
                    bool index_certs_179973;
                    
                    if (!ok_or_empty_179972) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277, "] out of bounds for array of shape [", (long long) data_179523, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181766, &ext_mem_181757, "ext_mem_181757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181763, &ext_mem_181756, "ext_mem_181756") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181760, &ext_mem_181755, "ext_mem_181755") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181433, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181766.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181436, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181439, i_180782 * perThread_175600, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179277});
                if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
                    return 1;
                for (int64_t i_180772 = 0; i_180772 < perThread_175600; i_180772++) {
                    int64_t lifted_lambda_res_179995 = add64(zm_rhs_179279, i_180772);
                    
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + i_180772] = lifted_lambda_res_179995;
                }
                
                bool cond_179997 = card_179280 == zp_rhs_175599;
                
                if (cond_179997) {
                    bool y_179999 = slt64(card_179280, perThread_175600);
                    bool index_certs_180000;
                    
                    if (!y_179999) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179280, "] out of bounds for array of shape [", (long long) perThread_175600, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181431)[i_180782 * perThread_175600 + card_179280] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181792, bytes_181087, "mem_181792")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_121206; nest_i_182566++) {
                ((int16_t *) mem_181792.mem)[nest_i_182566] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181794, bytes_181085, "mem_181794")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_121206; nest_i_182567++) {
                ((int64_t *) mem_181794.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181795, window_sizze_121206, "mem_181795")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_121206; nest_i_182568++) {
                ((int8_t *) mem_181795.mem)[nest_i_182568] = (int8_t) -1;
            }
            for (int64_t write_iter_180787 = 0; write_iter_180787 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175601; write_iter_180787++) {
                int64_t new_index_180939 = squot64(write_iter_180787, perThread_175600);
                int64_t binop_y_180941 = perThread_175600 * new_index_180939;
                int64_t new_index_180942 = write_iter_180787 - binop_y_180941;
                int64_t write_iv_180791 = ((int64_t *) mem_181431)[new_index_180939 * perThread_175600 + new_index_180942];
                int8_t write_iv_180792 = ((int8_t *) mem_181433)[new_index_180939 * perThread_175600 + new_index_180942];
                int64_t write_iv_180793 = ((int64_t *) mem_181436)[new_index_180939 * perThread_175600 + new_index_180942];
                int16_t write_iv_180794 = ((int16_t *) mem_181439)[new_index_180939 * perThread_175600 + new_index_180942];
                
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_121206)) {
                    ((int8_t *) mem_181795.mem)[write_iv_180791] = write_iv_180792;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_121206)) {
                    ((int64_t *) mem_181794.mem)[write_iv_180791] = write_iv_180793;
                }
                if (sle64((int64_t) 0, write_iv_180791) && slt64(write_iv_180791, window_sizze_121206)) {
                    ((int16_t *) mem_181792.mem)[write_iv_180791] = write_iv_180794;
                }
            }
            
            int64_t index_concat_branch_180023;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180024 = ((int64_t *) mem_181414)[index_concat_i_178364];
                
                index_concat_branch_180023 = index_concat_180024;
            } else {
                index_concat_branch_180023 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180025;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180026 = ((int64_t *) mem_181416)[index_concat_i_178364];
                
                index_concat_branch_180025 = index_concat_180026;
            } else {
                index_concat_branch_180025 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181795, "mem_181795") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181794, "mem_181794") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181792, "mem_181792") != 0)
                return 1;
            loopres_175590 = index_concat_branch_180023;
            loopres_175591 = index_concat_branch_180025;
        } else {
            int16_t leq_lhs_176581 = ((int16_t *) a_list_mem_181052.mem)[p_175562];
            int16_t leq_rhs_176584 = ((int16_t *) b_list_mem_181053.mem)[p_175563];
            bool defunc_0_leq_res_176585 = sle16(leq_lhs_176581, leq_rhs_176584);
            int16_t lowest_176586;
            
            if (defunc_0_leq_res_176585) {
                bool index_certs_180027;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_lhs_176581;
            } else {
                bool index_certs_176591;
                
                if (!y_176579) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176586 = leq_rhs_176584;
            }
            if (mem_181069_cached_sizze_183010 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183010, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181071_cached_sizze_183011 < bytes_181068) {
                err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183011, bytes_181068);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180802 = 0; i_180802 < threads_121207; i_180802++) {
                int64_t index_primexp_181018 = add64((int64_t) 1, i_180802);
                int64_t zs_lhs_176607 = mul64(zt_rhs_176600, index_primexp_181018);
                int64_t index_176608 = sdiv64(zs_lhs_176607, partitionFunc_arg0_176577);
                bool cond_176609 = slt64(window_sizze_121206, index_176608);
                int64_t loop_over_176610;
                
                if (cond_176609) {
                    loop_over_176610 = window_sizze_121206;
                } else {
                    loop_over_176610 = index_176608;
                }
                
                int64_t loop_over_176611;
                
                if (cond_176609) {
                    int64_t loop_over_t_res_180028 = sub64(index_176608, window_sizze_121206);
                    
                    loop_over_176611 = loop_over_t_res_180028;
                } else {
                    loop_over_176611 = (int64_t) 0;
                }
                
                int64_t loop_over_176613;
                
                if (cond_176609) {
                    int64_t zm_lhs_180029 = sub64(index_176608, window_sizze_121206);
                    int64_t loop_over_t_res_180030 = sub64(zm_lhs_180029, (int64_t) 1);
                    
                    loop_over_176613 = loop_over_t_res_180030;
                } else {
                    loop_over_176613 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176616;
                int64_t defunc_0_f_res_176617;
                int64_t defunc_0_f_res_176618;
                int64_t defunc_0_f_res_176619;
                bool loop_while_176620;
                int64_t p_176621;
                int64_t p_176622;
                int64_t p_176623;
                
                loop_while_176620 = 1;
                p_176621 = loop_over_176613;
                p_176622 = loop_over_176610;
                p_176623 = loop_over_176611;
                while (loop_while_176620) {
                    int64_t zs_lhs_176624 = sub64(p_176622, p_176621);
                    int64_t offset_176625 = sdiv64(zs_lhs_176624, (int64_t) 2);
                    int64_t ai_176626 = sub64(p_176622, offset_176625);
                    int64_t max_arg1_176627 = add64(p_176623, offset_176625);
                    int64_t max_res_176628 = smax64((int64_t) 0, max_arg1_176627);
                    bool cond_176629 = slt64((int64_t) 0, max_res_176628);
                    int16_t b_prev_176630;
                    
                    if (cond_176629) {
                        int64_t tmp_180031 = sub64(max_res_176628, (int64_t) 1);
                        bool x_180032 = sle64((int64_t) 0, tmp_180031);
                        bool y_180033 = slt64(tmp_180031, window_sizze_121206);
                        bool bounds_check_180034 = x_180032 && y_180033;
                        bool index_certs_180035;
                        
                        if (!bounds_check_180034) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180031, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180036 = p_175563 + tmp_180031;
                        int16_t b_prev_t_res_180037 = ((int16_t *) b_list_mem_181053.mem)[slice_180036];
                        
                        b_prev_176630 = b_prev_t_res_180037;
                    } else {
                        b_prev_176630 = lowest_176586;
                    }
                    
                    bool cond_176637 = sle64(ai_176626, (int64_t) 0);
                    int64_t loopres_176638;
                    int64_t loopres_176639;
                    int64_t loopres_176640;
                    bool loopres_176641;
                    
                    if (cond_176637) {
                        loopres_176638 = p_176621;
                        loopres_176639 = (int64_t) 0;
                        loopres_176640 = max_res_176628;
                        loopres_176641 = 0;
                    } else {
                        bool cond_176642 = sle64(window_sizze_121206, max_res_176628);
                        int64_t loopres_f_res_176643;
                        int64_t loopres_f_res_176644;
                        int64_t loopres_f_res_176645;
                        bool loopres_f_res_176646;
                        
                        if (cond_176642) {
                            int64_t min_res_180039 = smin64(m_175551, ai_176626);
                            bool x_180040 = sle64((int64_t) 0, m_175551);
                            bool y_180041 = slt64(m_175551, window_sizze_121206);
                            bool bounds_check_180042 = x_180040 && y_180041;
                            bool index_certs_180043;
                            
                            if (!bounds_check_180042) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180046 = sle64((int64_t) 0, min_res_180039);
                            bool y_180047 = slt64(min_res_180039, window_sizze_121206);
                            bool bounds_check_180048 = x_180046 && y_180047;
                            bool index_certs_180049;
                            
                            if (!bounds_check_180048) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180039, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_180045 = ((int16_t *) b_list_mem_181053.mem)[i_p_m_t_s_175579];
                            int64_t slice_180050 = p_175562 + min_res_180039;
                            int16_t leq_rhs_180051 = ((int16_t *) a_list_mem_181052.mem)[slice_180050];
                            bool defunc_0_leq_res_180052 = sle16(leq_lhs_180045, leq_rhs_180051);
                            int64_t loopres_f_res_t_res_180053;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180053 = ai_176626;
                            } else {
                                loopres_f_res_t_res_180053 = p_176622;
                            }
                            
                            bool x_180054 = !defunc_0_leq_res_180052;
                            int64_t loopres_f_res_t_res_180055;
                            
                            if (defunc_0_leq_res_180052) {
                                loopres_f_res_t_res_180055 = window_sizze_121206;
                            } else {
                                int64_t tmp_180056 = sub64(m_175551, offset_176625);
                                
                                loopres_f_res_t_res_180055 = tmp_180056;
                            }
                            loopres_f_res_176643 = p_176621;
                            loopres_f_res_176644 = loopres_f_res_t_res_180053;
                            loopres_f_res_176645 = loopres_f_res_t_res_180055;
                            loopres_f_res_176646 = x_180054;
                        } else {
                            bool cond_176664 = sle64(window_sizze_121206, ai_176626);
                            int64_t loopres_f_res_f_res_176665;
                            int64_t loopres_f_res_f_res_176666;
                            int64_t loopres_f_res_f_res_176667;
                            bool loopres_f_res_f_res_176668;
                            
                            if (cond_176664) {
                                int64_t min_res_180058 = smin64(m_175551, max_res_176628);
                                bool x_180059 = sle64((int64_t) 0, m_175551);
                                bool y_180060 = slt64(m_175551, window_sizze_121206);
                                bool bounds_check_180061 = x_180059 && y_180060;
                                bool index_certs_180062;
                                
                                if (!bounds_check_180061) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175551, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180065 = sle64((int64_t) 0, min_res_180058);
                                bool y_180066 = slt64(min_res_180058, window_sizze_121206);
                                bool bounds_check_180067 = x_180065 && y_180066;
                                bool index_certs_180068;
                                
                                if (!bounds_check_180067) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180058, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_180064 = ((int16_t *) a_list_mem_181052.mem)[i_p_m_t_s_175568];
                                int64_t slice_180069 = p_175563 + min_res_180058;
                                int16_t leq_rhs_180070 = ((int16_t *) b_list_mem_181053.mem)[slice_180069];
                                bool defunc_0_leq_res_180071 = sle16(leq_lhs_180064, leq_rhs_180070);
                                int64_t loopres_f_res_f_res_t_res_180072;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180072 = max_res_176628;
                                } else {
                                    loopres_f_res_f_res_t_res_180072 = p_176623;
                                }
                                
                                bool x_180073 = !defunc_0_leq_res_180071;
                                int64_t loopres_f_res_f_res_t_res_180074;
                                
                                if (defunc_0_leq_res_180071) {
                                    loopres_f_res_f_res_t_res_180074 = window_sizze_121206;
                                } else {
                                    loopres_f_res_f_res_t_res_180074 = m_175551;
                                }
                                loopres_f_res_f_res_176665 = p_176621;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_t_res_180074;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_t_res_180072;
                                loopres_f_res_f_res_176668 = x_180073;
                            } else {
                                bool cond_176685 = sle64(p_176622, p_176621);
                                int64_t loopres_f_res_f_res_f_res_176686;
                                int64_t loopres_f_res_f_res_f_res_176687;
                                int64_t loopres_f_res_f_res_f_res_176688;
                                bool loopres_f_res_f_res_f_res_176689;
                                
                                if (cond_176685) {
                                    bool cond_180113 = slt64(ai_176626, window_sizze_121206);
                                    int64_t ai_180114;
                                    
                                    if (cond_180113) {
                                        ai_180114 = ai_176626;
                                    } else {
                                        ai_180114 = m_175551;
                                    }
                                    
                                    bool x_180127 = sle64((int64_t) 0, ai_180114);
                                    bool y_180128 = slt64(ai_180114, window_sizze_121206);
                                    bool bounds_check_180129 = x_180127 && y_180128;
                                    bool index_certs_180130;
                                    
                                    if (!bounds_check_180129) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180114, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_180116;
                                    
                                    if (cond_176629) {
                                        int64_t tmp_180117 = sub64(max_res_176628, (int64_t) 1);
                                        bool x_180118 = sle64((int64_t) 0, tmp_180117);
                                        bool y_180119 = slt64(tmp_180117, window_sizze_121206);
                                        bool bounds_check_180120 = x_180118 && y_180119;
                                        bool index_certs_180121;
                                        
                                        if (!bounds_check_180120) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180117, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180122 = p_175563 + tmp_180117;
                                        int16_t b_prev_t_res_180123 = ((int16_t *) b_list_mem_181053.mem)[slice_180122];
                                        
                                        b_prev_180116 = b_prev_t_res_180123;
                                    } else {
                                        bool index_certs_180125;
                                        
                                        if (!y_176579) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180116 = leq_rhs_176584;
                                    }
                                    
                                    int64_t slice_180131 = p_175562 + ai_180114;
                                    int16_t gt_lhs_180132 = ((int16_t *) a_list_mem_181052.mem)[slice_180131];
                                    bool defunc_0_gt_res_180133 = slt16(b_prev_180116, gt_lhs_180132);
                                    int64_t defunc_0_partFunc_sequential_search_res_180134;
                                    int64_t defunc_0_partFunc_sequential_search_res_180135;
                                    
                                    if (defunc_0_gt_res_180133) {
                                        int64_t zl_rhs_180136 = sub64(window_sizze_121206, max_res_176628);
                                        bool loop_cond_180137 = slt64((int64_t) 0, zl_rhs_180136);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180138;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180140;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180141;
                                        bool loop_while_180142;
                                        int64_t p_180143;
                                        int64_t p_180144;
                                        int64_t p_180145;
                                        
                                        loop_while_180142 = loop_cond_180137;
                                        p_180143 = ai_180114;
                                        p_180144 = max_res_176628;
                                        p_180145 = (int64_t) 0;
                                        while (loop_while_180142) {
                                            int64_t i_a_180146 = sub64(ai_180114, p_180145);
                                            int64_t i_b_180147 = add64(max_res_176628, p_180145);
                                            int64_t leq_lhs_180148 = sub64(i_a_180146, (int64_t) 1);
                                            bool x_180149 = sle64((int64_t) 0, leq_lhs_180148);
                                            bool y_180150 = slt64(leq_lhs_180148, window_sizze_121206);
                                            bool bounds_check_180151 = x_180149 && y_180150;
                                            bool index_certs_180152;
                                            
                                            if (!bounds_check_180151) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180148, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180155 = sle64((int64_t) 0, i_b_180147);
                                            bool y_180156 = slt64(i_b_180147, window_sizze_121206);
                                            bool bounds_check_180157 = x_180155 && y_180156;
                                            bool index_certs_180158;
                                            
                                            if (!bounds_check_180157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180147, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180153 = p_175562 + leq_lhs_180148;
                                            int16_t leq_lhs_180154 = ((int16_t *) a_list_mem_181052.mem)[slice_180153];
                                            int64_t slice_180159 = p_175563 + i_b_180147;
                                            int16_t leq_rhs_180160 = ((int16_t *) b_list_mem_181053.mem)[slice_180159];
                                            bool defunc_0_leq_res_180161 = sle16(leq_lhs_180154, leq_rhs_180160);
                                            int64_t loopres_180162;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180162 = i_a_180146;
                                            } else {
                                                loopres_180162 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180163;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180163 = i_b_180147;
                                            } else {
                                                loopres_180163 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180164;
                                            
                                            if (defunc_0_leq_res_180161) {
                                                loopres_180164 = zl_rhs_180136;
                                            } else {
                                                int64_t tmp_180165 = add64((int64_t) 1, p_180145);
                                                
                                                loopres_180164 = tmp_180165;
                                            }
                                            
                                            bool loop_cond_180166 = slt64(loopres_180164, zl_rhs_180136);
                                            bool loop_while_tmp_182578 = loop_cond_180166;
                                            int64_t p_tmp_182579 = loopres_180162;
                                            int64_t p_tmp_182580 = loopres_180163;
                                            int64_t p_tmp_182581 = loopres_180164;
                                            
                                            loop_while_180142 = loop_while_tmp_182578;
                                            p_180143 = p_tmp_182579;
                                            p_180144 = p_tmp_182580;
                                            p_180145 = p_tmp_182581;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180138 = loop_while_180142;
                                        defunc_0_partFunc_sequential_search_res_t_res_180139 = p_180143;
                                        defunc_0_partFunc_sequential_search_res_t_res_180140 = p_180144;
                                        defunc_0_partFunc_sequential_search_res_t_res_180141 = p_180145;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_t_res_180139;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_t_res_180140;
                                    } else {
                                        int64_t zl_rhs_180167 = sub64(max_res_176628, (int64_t) 1);
                                        bool loop_cond_180168 = slt64((int64_t) 0, zl_rhs_180167);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180169;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180171;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180172;
                                        bool loop_while_180173;
                                        int64_t p_180174;
                                        int64_t p_180175;
                                        int64_t p_180176;
                                        
                                        loop_while_180173 = loop_cond_180168;
                                        p_180174 = ai_180114;
                                        p_180175 = max_res_176628;
                                        p_180176 = (int64_t) 0;
                                        while (loop_while_180173) {
                                            int64_t zp_lhs_180177 = add64(ai_180114, p_180176);
                                            int64_t hi_a_180178 = add64((int64_t) 1, zp_lhs_180177);
                                            bool cond_180179 = slt64(hi_a_180178, window_sizze_121206);
                                            int64_t i_a_180180;
                                            
                                            if (cond_180179) {
                                                i_a_180180 = hi_a_180178;
                                            } else {
                                                i_a_180180 = m_175551;
                                            }
                                            
                                            int64_t zm_lhs_180182 = sub64(max_res_176628, p_180176);
                                            int64_t i_b_180183 = sub64(zm_lhs_180182, (int64_t) 1);
                                            bool x_180184 = sle64((int64_t) 0, i_a_180180);
                                            bool y_180185 = slt64(i_a_180180, window_sizze_121206);
                                            bool bounds_check_180186 = x_180184 && y_180185;
                                            bool index_certs_180187;
                                            
                                            if (!bounds_check_180186) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180180, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180190 = sle64((int64_t) 0, i_b_180183);
                                            bool y_180191 = slt64(i_b_180183, window_sizze_121206);
                                            bool bounds_check_180192 = x_180190 && y_180191;
                                            bool index_certs_180193;
                                            
                                            if (!bounds_check_180192) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180183, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180188 = p_175562 + i_a_180180;
                                            int16_t gt_lhs_180189 = ((int16_t *) a_list_mem_181052.mem)[slice_180188];
                                            int64_t slice_180194 = p_175563 + i_b_180183;
                                            int16_t gt_rhs_180195 = ((int16_t *) b_list_mem_181053.mem)[slice_180194];
                                            bool defunc_0_gt_res_180196 = slt16(gt_rhs_180195, gt_lhs_180189);
                                            int64_t loopres_180197;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180197 = i_a_180180;
                                            } else {
                                                loopres_180197 = ai_180114;
                                            }
                                            
                                            int64_t loopres_180198;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180198 = zm_lhs_180182;
                                            } else {
                                                loopres_180198 = max_res_176628;
                                            }
                                            
                                            int64_t loopres_180199;
                                            
                                            if (defunc_0_gt_res_180196) {
                                                loopres_180199 = zl_rhs_180167;
                                            } else {
                                                int64_t tmp_180200 = add64((int64_t) 1, p_180176);
                                                
                                                loopres_180199 = tmp_180200;
                                            }
                                            
                                            bool loop_cond_180201 = slt64(loopres_180199, zl_rhs_180167);
                                            bool loop_while_tmp_182582 = loop_cond_180201;
                                            int64_t p_tmp_182583 = loopres_180197;
                                            int64_t p_tmp_182584 = loopres_180198;
                                            int64_t p_tmp_182585 = loopres_180199;
                                            
                                            loop_while_180173 = loop_while_tmp_182582;
                                            p_180174 = p_tmp_182583;
                                            p_180175 = p_tmp_182584;
                                            p_180176 = p_tmp_182585;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180169 = loop_while_180173;
                                        defunc_0_partFunc_sequential_search_res_f_res_180170 = p_180174;
                                        defunc_0_partFunc_sequential_search_res_f_res_180171 = p_180175;
                                        defunc_0_partFunc_sequential_search_res_f_res_180172 = p_180176;
                                        defunc_0_partFunc_sequential_search_res_180134 = defunc_0_partFunc_sequential_search_res_f_res_180170;
                                        defunc_0_partFunc_sequential_search_res_180135 = defunc_0_partFunc_sequential_search_res_f_res_180171;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = p_176621;
                                    loopres_f_res_f_res_f_res_176687 = defunc_0_partFunc_sequential_search_res_180134;
                                    loopres_f_res_f_res_f_res_176688 = defunc_0_partFunc_sequential_search_res_180135;
                                    loopres_f_res_f_res_f_res_176689 = 0;
                                } else {
                                    bool x_176773 = sle64((int64_t) 0, ai_176626);
                                    bool y_176774 = slt64(ai_176626, window_sizze_121206);
                                    bool bounds_check_176775 = x_176773 && y_176774;
                                    bool index_certs_176776;
                                    
                                    if (!bounds_check_176775) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176626, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178442 = p_175562 + ai_176626;
                                    int16_t gt_lhs_176777 = ((int16_t *) a_list_mem_181052.mem)[slice_178442];
                                    bool defunc_0_gt_res_176778 = slt16(b_prev_176630, gt_lhs_176777);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176779;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176780;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176781;
                                    bool loopres_f_res_f_res_f_res_f_res_176782;
                                    
                                    if (defunc_0_gt_res_176778) {
                                        int64_t leq_lhs_180202 = sub64(ai_176626, (int64_t) 1);
                                        bool x_180203 = sle64((int64_t) 0, leq_lhs_180202);
                                        bool y_180204 = slt64(leq_lhs_180202, window_sizze_121206);
                                        bool bounds_check_180205 = x_180203 && y_180204;
                                        bool index_certs_180206;
                                        
                                        if (!bounds_check_180205) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180202, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180209 = sle64((int64_t) 0, max_res_176628);
                                        bool y_180210 = slt64(max_res_176628, window_sizze_121206);
                                        bool bounds_check_180211 = x_180209 && y_180210;
                                        bool index_certs_180212;
                                        
                                        if (!bounds_check_180211) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176628, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180207 = p_175562 + leq_lhs_180202;
                                        int16_t leq_lhs_180208 = ((int16_t *) a_list_mem_181052.mem)[slice_180207];
                                        int64_t slice_180213 = p_175563 + max_res_176628;
                                        int16_t leq_rhs_180214 = ((int16_t *) b_list_mem_181053.mem)[slice_180213];
                                        bool defunc_0_leq_res_180215 = sle16(leq_lhs_180208, leq_rhs_180214);
                                        bool x_180216 = !defunc_0_leq_res_180215;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = ai_176626;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180217 = leq_lhs_180202;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        
                                        if (defunc_0_leq_res_180215) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = max_res_176628;
                                        } else {
                                            int64_t tmp_180219 = add64((int64_t) 1, max_res_176628);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180218 = tmp_180219;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176779 = p_176621;
                                        loopres_f_res_f_res_f_res_f_res_176780 = loopres_f_res_f_res_f_res_f_res_t_res_180217;
                                        loopres_f_res_f_res_f_res_f_res_176781 = loopres_f_res_f_res_f_res_f_res_t_res_180218;
                                        loopres_f_res_f_res_f_res_f_res_176782 = x_180216;
                                    } else {
                                        int64_t tmp_176799 = add64((int64_t) 1, ai_176626);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176779 = tmp_176799;
                                        loopres_f_res_f_res_f_res_f_res_176780 = p_176622;
                                        loopres_f_res_f_res_f_res_f_res_176781 = p_176623;
                                        loopres_f_res_f_res_f_res_f_res_176782 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176686 = loopres_f_res_f_res_f_res_f_res_176779;
                                    loopres_f_res_f_res_f_res_176687 = loopres_f_res_f_res_f_res_f_res_176780;
                                    loopres_f_res_f_res_f_res_176688 = loopres_f_res_f_res_f_res_f_res_176781;
                                    loopres_f_res_f_res_f_res_176689 = loopres_f_res_f_res_f_res_f_res_176782;
                                }
                                loopres_f_res_f_res_176665 = loopres_f_res_f_res_f_res_176686;
                                loopres_f_res_f_res_176666 = loopres_f_res_f_res_f_res_176687;
                                loopres_f_res_f_res_176667 = loopres_f_res_f_res_f_res_176688;
                                loopres_f_res_f_res_176668 = loopres_f_res_f_res_f_res_176689;
                            }
                            loopres_f_res_176643 = loopres_f_res_f_res_176665;
                            loopres_f_res_176644 = loopres_f_res_f_res_176666;
                            loopres_f_res_176645 = loopres_f_res_f_res_176667;
                            loopres_f_res_176646 = loopres_f_res_f_res_176668;
                        }
                        loopres_176638 = loopres_f_res_176643;
                        loopres_176639 = loopres_f_res_176644;
                        loopres_176640 = loopres_f_res_176645;
                        loopres_176641 = loopres_f_res_176646;
                    }
                    
                    bool loop_while_tmp_182574 = loopres_176641;
                    int64_t p_tmp_182575 = loopres_176638;
                    int64_t p_tmp_182576 = loopres_176639;
                    int64_t p_tmp_182577 = loopres_176640;
                    
                    loop_while_176620 = loop_while_tmp_182574;
                    p_176621 = p_tmp_182575;
                    p_176622 = p_tmp_182576;
                    p_176623 = p_tmp_182577;
                }
                defunc_0_f_res_176616 = loop_while_176620;
                defunc_0_f_res_176617 = p_176621;
                defunc_0_f_res_176618 = p_176622;
                defunc_0_f_res_176619 = p_176623;
                ((int64_t *) mem_181069)[i_180802] = defunc_0_f_res_176618;
                ((int64_t *) mem_181071)[i_180802] = defunc_0_f_res_176619;
            }
            if (memblock_alloc(ctx, &mem_181084, window_sizze_121206, "mem_181084")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182586 = 0; nest_i_182586 < window_sizze_121206; nest_i_182586++) {
                ((int8_t *) mem_181084.mem)[nest_i_182586] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182587 = 0; nest_i_182587 < window_sizze_121206; nest_i_182587++) {
                ((int64_t *) mem_181086.mem)[nest_i_182587] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182588 = 0; nest_i_182588 < window_sizze_121206; nest_i_182588++) {
                ((int16_t *) mem_181088.mem)[nest_i_182588] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176826;
            int64_t defunc_0_mergeFunc_seq_res_176827;
            bool loop_while_176831;
            int64_t p_176832;
            
            loop_while_176831 = loop_cond_176825;
            p_176832 = (int64_t) 0;
            while (loop_while_176831) {
                bool x_176836 = sle64((int64_t) 0, p_176832);
                bool y_176837 = slt64(p_176832, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176838 = x_176836 && y_176837;
                bool index_certs_176839;
                
                if (!bounds_check_176838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176832, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178425 = sle64((int64_t) 1, p_176832);
                int64_t index_concat_i_178426 = sub64(p_176832, (int64_t) 1);
                int64_t index_concat_178427;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180220 = ((int64_t *) mem_181069)[index_concat_i_178426];
                    
                    index_concat_178427 = x_180220;
                } else {
                    index_concat_178427 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178429;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178429 = index_concat_178427;
                } else {
                    index_concat_branch_178429 = (int64_t) 0;
                }
                
                int64_t index_concat_178421;
                
                if (index_concat_cmp_178425) {
                    int64_t x_180221 = ((int64_t *) mem_181071)[index_concat_i_178426];
                    
                    index_concat_178421 = x_180221;
                } else {
                    index_concat_178421 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178423;
                
                if (index_concat_cmp_178425) {
                    index_concat_branch_178423 = index_concat_178421;
                } else {
                    index_concat_branch_178423 = (int64_t) 0;
                }
                
                int64_t ubs_176842 = add64((int64_t) 1, p_176832);
                bool x_176843 = sle64((int64_t) 0, ubs_176842);
                bool y_176844 = slt64(ubs_176842, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576);
                bool bounds_check_176845 = x_176843 && y_176844;
                bool index_certs_176846;
                
                if (!bounds_check_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176576, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178413 = sle64((int64_t) 1, ubs_176842);
                int64_t index_concat_178415;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180222 = ((int64_t *) mem_181069)[p_176832];
                    
                    index_concat_178415 = x_180222;
                } else {
                    index_concat_178415 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178417;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178417 = index_concat_178415;
                } else {
                    index_concat_branch_178417 = (int64_t) 0;
                }
                
                int64_t index_concat_178409;
                
                if (index_concat_cmp_178413) {
                    int64_t x_180223 = ((int64_t *) mem_181071)[p_176832];
                    
                    index_concat_178409 = x_180223;
                } else {
                    index_concat_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178411;
                
                if (index_concat_cmp_178413) {
                    index_concat_branch_178411 = index_concat_178409;
                } else {
                    index_concat_branch_178411 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 = sub64(index_concat_branch_178411, index_concat_branch_178423);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 = sub64(index_concat_branch_178417, index_concat_branch_178429);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t ind_bottom_176852 = add64(index_concat_branch_178423, index_concat_branch_178429);
                int64_t ind_top_176853 = add64(index_concat_branch_178411, index_concat_branch_178417);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 = sub64(ind_top_176853, ind_bottom_176852);
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178429);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_121206);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178429);
                bool i_lte_j_176861 = sle64(index_concat_branch_178429, index_concat_branch_178417);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178429, ":", (long long) index_concat_branch_178417, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178417, index_concat_branch_178429);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178429, "..<", (long long) index_concat_branch_178417, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176875 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849 == (int64_t) 0;
                int64_t m_176876 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849, (int64_t) 1);
                int64_t i_p_m_t_s_176877 = add64(m_176876, index_concat_branch_178423);
                bool zzero_leq_i_p_m_t_s_176878 = sle64((int64_t) 0, i_p_m_t_s_176877);
                bool i_p_m_t_s_leq_w_176879 = slt64(i_p_m_t_s_176877, window_sizze_121206);
                bool zzero_lte_i_176880 = sle64((int64_t) 0, index_concat_branch_178423);
                bool i_lte_j_176881 = sle64(index_concat_branch_178423, index_concat_branch_178411);
                bool y_176882 = i_p_m_t_s_leq_w_176879 && zzero_lte_i_176880;
                bool y_176883 = zzero_leq_i_p_m_t_s_176878 && y_176882;
                bool forwards_ok_176884 = i_lte_j_176881 && y_176883;
                bool ok_or_empty_176885 = empty_slice_176875 || forwards_ok_176884;
                bool index_certs_176886;
                
                if (!ok_or_empty_176885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178423, ":", (long long) index_concat_branch_178411, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176887 = slt64(index_concat_branch_178411, index_concat_branch_178423);
                bool valid_176888 = !bounds_invalid_upwards_176887;
                bool range_valid_c_176889;
                
                if (!valid_176888) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178423, "..<", (long long) index_concat_branch_178411, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181105 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                int64_t bytes_181107 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool cond_176898 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zs_lhs_176899 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, (int64_t) 1);
                int64_t zp_rhs_176900 = sdiv_safe64(zs_lhs_176899, (int64_t) 20);
                int64_t min_num_blocks_176901 = add64((int64_t) 1, zp_rhs_176900);
                bool loop_cond_176902 = slt64((int64_t) 1, min_num_blocks_176901);
                bool smallest_pow_2_geq_than_res_176903;
                int64_t smallest_pow_2_geq_than_res_176904;
                bool loop_while_176905;
                int64_t x_176906;
                
                loop_while_176905 = loop_cond_176902;
                x_176906 = (int64_t) 1;
                while (loop_while_176905) {
                    int64_t loopres_176907 = mul64((int64_t) 2, x_176906);
                    bool loop_cond_176908 = slt64(loopres_176907, min_num_blocks_176901);
                    bool loop_while_tmp_182594 = loop_cond_176908;
                    int64_t x_tmp_182595 = loopres_176907;
                    
                    loop_while_176905 = loop_while_tmp_182594;
                    x_176906 = x_tmp_182595;
                }
                smallest_pow_2_geq_than_res_176903 = loop_while_176905;
                smallest_pow_2_geq_than_res_176904 = x_176906;
                
                bool zzero_176909 = smallest_pow_2_geq_than_res_176904 == (int64_t) 0;
                bool nonzzero_176910 = !zzero_176909;
                bool protect_assert_disj_176911 = cond_176898 || nonzzero_176910;
                bool nonzzero_cert_176912;
                
                if (!protect_assert_disj_176911) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176913 = sdiv_safe64(zs_lhs_176899, smallest_pow_2_geq_than_res_176904);
                int64_t block_sizze_176914 = add64((int64_t) 1, zp_rhs_176913);
                bool y_176921 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                bool protect_assert_disj_182258 = cond_176898 || y_176921;
                bool index_certs_176922;
                
                if (!protect_assert_disj_182258) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(smallest_pow_2_geq_than_res_176904, (int64_t) 0);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool protect_assert_disj_182268 = cond_176898 || valid_176949;
                bool range_valid_c_176950;
                
                if (!protect_assert_disj_182268) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176904, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176952 = slt64(block_sizze_176914, (int64_t) 0);
                bool valid_176953 = !bounds_invalid_upwards_176952;
                bool protect_assert_disj_182270 = cond_176898 || valid_176953;
                bool range_valid_c_176954;
                
                if (!protect_assert_disj_182270) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176914, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176956 = sle64(block_sizze_176914, (int64_t) 1);
                int64_t tmp_176957 = sub64(block_sizze_176914, (int64_t) 2);
                bool bounds_invalid_upwards_176958 = slt64(tmp_176957, (int64_t) 0);
                bool valid_176960 = !bounds_invalid_upwards_176958;
                bool protect_assert_disj_176961 = cond_176956 || valid_176960;
                bool protect_assert_disj_182272 = cond_176898 || protect_assert_disj_176961;
                bool range_valid_c_176962;
                
                if (!protect_assert_disj_182272) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176957, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177523 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851;
                bool empty_or_match_cert_177524;
                
                if (!dim_match_177523) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "](i8, i64, i16)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177525 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854 == (int64_t) 0;
                int64_t m_177526 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177527 = sle64((int64_t) 0, m_177526);
                bool i_p_m_t_s_leq_w_177528 = slt64(m_177526, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854);
                bool y_177529 = zzero_leq_i_p_m_t_s_177527 && i_p_m_t_s_leq_w_177528;
                bool ok_or_empty_177530 = empty_slice_177525 || y_177529;
                bool index_certs_177531;
                
                if (!ok_or_empty_177530) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177532 = add64(ind_bottom_176852, m_177526);
                bool zzero_leq_i_p_m_t_s_177533 = sle64((int64_t) 0, i_p_m_t_s_177532);
                bool i_p_m_t_s_leq_w_177534 = slt64(i_p_m_t_s_177532, window_sizze_121206);
                bool zzero_lte_i_177535 = sle64((int64_t) 0, ind_bottom_176852);
                bool i_lte_j_177536 = sle64(ind_bottom_176852, ind_top_176853);
                bool y_177537 = i_p_m_t_s_leq_w_177534 && zzero_lte_i_177535;
                bool y_177538 = zzero_leq_i_p_m_t_s_177533 && y_177537;
                bool forwards_ok_177539 = i_lte_j_177536 && y_177538;
                bool ok_or_empty_177540 = empty_slice_177525 || forwards_ok_177539;
                bool index_certs_177541;
                
                if (!ok_or_empty_177540) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176852, ":", (long long) ind_top_176853, "] out of bounds for array of shape [", (long long) window_sizze_121206, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178405 = p_175562 + index_concat_branch_178429;
                
                if (memblock_alloc(ctx, &mem_181104, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "mem_181104")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182596 = 0; nest_i_182596 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; nest_i_182596++) {
                    ((int8_t *) mem_181104.mem)[nest_i_182596] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181106, bytes_181105, "mem_181106")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182597 = 0; i_182597 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850; i_182597++) {
                    int64_t x_182598 = index_concat_branch_178429 + i_182597 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[i_182597] = x_182598;
                }
                
                int64_t slice_178404 = p_175563 + index_concat_branch_178423;
                
                for (int64_t nest_i_182599 = 0; nest_i_182599 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; nest_i_182599++) {
                    ((int8_t *) mem_181104.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + nest_i_182599] = (int8_t) 1;
                }
                for (int64_t i_182600 = 0; i_182600 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849; i_182600++) {
                    int64_t x_182601 = index_concat_branch_178423 + i_182600 * (int64_t) 1;
                    
                    ((int64_t *) mem_181106.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850 + i_182600] = x_182601;
                }
                
                int64_t tmp_offs_182602 = (int64_t) 0;
                
                if (!(tmp_offs_182602 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182602 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181104.mem, tmp_offs_182602, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181104.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182602 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t tmp_offs_182603 = (int64_t) 0;
                
                if (!(tmp_offs_182603 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                if (!(tmp_offs_182603 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181106.mem, tmp_offs_182603, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181106.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                }
                tmp_offs_182603 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                if (memblock_alloc(ctx, &mem_181108, bytes_181107, "mem_181108")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182604 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181052.mem, slice_178405, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181108.mem, tmp_offs_182604, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181053.mem, slice_178404, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849});
                tmp_offs_182604 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176849;
                
                int64_t flat_dim_176915 = smallest_pow_2_geq_than_res_176904 * block_sizze_176914;
                bool x_182253 = !cond_176898;
                int64_t greatest_divisor_leq_than_arg1_176919 = mul64((int64_t) 2, block_sizze_176914);
                int64_t merge_block_sizze_176920;
                
                if (x_182253) {
                    int64_t x_182255;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182255, (int64_t) 8, greatest_divisor_leq_than_arg1_176919) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176920 = x_182255;
                } else {
                    merge_block_sizze_176920 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178399 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, (int64_t) 0);
                int8_t index_concat_branch_178403 = btoi_bool_i8(index_concat_cmp_178399);
                int64_t index_concat_i_180224 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                int64_t index_primexp_180225 = add64(index_concat_branch_178423, index_concat_i_180224);
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178397 = index_primexp_180225;
                } else {
                    index_concat_branch_178397 = index_concat_branch_178429;
                }
                
                bool x_182249 = !index_concat_cmp_178399;
                bool protect_cond_conj_182259 = x_182249 && x_182253;
                int16_t index_concat_178390;
                
                if (protect_cond_conj_182259) {
                    int16_t x_182251 = ((int16_t *) a_list_mem_181052.mem)[slice_178405];
                    
                    index_concat_178390 = x_182251;
                } else {
                    index_concat_178390 = (int16_t) 0;
                }
                
                int64_t slice_180227 = slice_178404 + index_concat_i_180224;
                bool protect_cond_conj_182260 = index_concat_cmp_178399 && x_182253;
                int16_t index_concat_180228;
                
                if (protect_cond_conj_182260) {
                    int16_t x_182247 = ((int16_t *) b_list_mem_181053.mem)[slice_180227];
                    
                    index_concat_180228 = x_182247;
                } else {
                    index_concat_180228 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178391;
                
                if (index_concat_cmp_178399) {
                    index_concat_branch_178391 = index_concat_180228;
                } else {
                    index_concat_branch_178391 = index_concat_178390;
                }
                
                int8_t defunc_0_reduce_res_180459;
                int64_t defunc_0_reduce_res_180460;
                int16_t defunc_0_reduce_res_180461;
                
                if (x_182253) {
                    int8_t x_182261;
                    int64_t x_182262;
                    int16_t x_182263;
                    int8_t redout_180805;
                    int64_t redout_180806;
                    int16_t redout_180807;
                    
                    redout_180805 = index_concat_branch_178403;
                    redout_180806 = index_concat_branch_178397;
                    redout_180807 = index_concat_branch_178391;
                    for (int64_t i_180808 = 0; i_180808 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851; i_180808++) {
                        bool index_concat_cmp_181012 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, i_180808);
                        int8_t index_concat_branch_181016 = btoi_bool_i8(index_concat_cmp_181012);
                        int64_t index_concat_branch_181010;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181007 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t index_primexp_181034 = add64(index_concat_branch_178423, index_concat_i_181007);
                            
                            index_concat_branch_181010 = index_primexp_181034;
                        } else {
                            int64_t index_primexp_181036 = add64(index_concat_branch_178429, i_180808);
                            
                            index_concat_branch_181010 = index_primexp_181036;
                        }
                        
                        int16_t index_concat_branch_181004;
                        
                        if (index_concat_cmp_181012) {
                            int64_t index_concat_i_181001 = sub64(i_180808, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                            int64_t slice_181031 = slice_178404 + index_concat_i_181001;
                            int16_t index_concat_181002 = ((int16_t *) b_list_mem_181053.mem)[slice_181031];
                            
                            index_concat_branch_181004 = index_concat_181002;
                        } else {
                            int64_t slice_181032 = slice_178405 + i_180808;
                            int16_t index_concat_181003 = ((int16_t *) a_list_mem_181052.mem)[slice_181032];
                            
                            index_concat_branch_181004 = index_concat_181003;
                        }
                        
                        bool eq_x_y_181047 = redout_180805 == (int8_t) 1;
                        bool eq_x_zz_181048 = redout_180805 == (int8_t) 0;
                        bool p_and_eq_x_y_181049 = index_concat_cmp_181012 && eq_x_y_181047;
                        bool not_p_181050 = !index_concat_cmp_181012;
                        bool p_and_eq_x_y_181051 = eq_x_zz_181048 && not_p_181050;
                        bool cond_176938 = p_and_eq_x_y_181049 || p_and_eq_x_y_181051;
                        bool defunc_0_leq_res_t_res_176939 = sle64(redout_180806, index_concat_branch_181010);
                        bool defunc_0_leq_res_176940 = sle16(redout_180807, index_concat_branch_181004);
                        bool x_176941 = cond_176938 && defunc_0_leq_res_t_res_176939;
                        bool x_176942 = !cond_176938;
                        bool y_176943 = defunc_0_leq_res_176940 && x_176942;
                        bool defunc_0_leq_res_176944 = x_176941 || y_176943;
                        int8_t defunc_0_op_res_176945;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176945 = index_concat_branch_181016;
                        } else {
                            defunc_0_op_res_176945 = redout_180805;
                        }
                        
                        int64_t defunc_0_op_res_176946;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176946 = index_concat_branch_181010;
                        } else {
                            defunc_0_op_res_176946 = redout_180806;
                        }
                        
                        int16_t defunc_0_op_res_176947;
                        
                        if (defunc_0_leq_res_176944) {
                            defunc_0_op_res_176947 = index_concat_branch_181004;
                        } else {
                            defunc_0_op_res_176947 = redout_180807;
                        }
                        
                        int8_t redout_tmp_182605 = defunc_0_op_res_176945;
                        int64_t redout_tmp_182606 = defunc_0_op_res_176946;
                        int16_t redout_tmp_182607 = defunc_0_op_res_176947;
                        
                        redout_180805 = redout_tmp_182605;
                        redout_180806 = redout_tmp_182606;
                        redout_180807 = redout_tmp_182607;
                    }
                    x_182261 = redout_180805;
                    x_182262 = redout_180806;
                    x_182263 = redout_180807;
                    defunc_0_reduce_res_180459 = x_182261;
                    defunc_0_reduce_res_180460 = x_182262;
                    defunc_0_reduce_res_180461 = x_182263;
                } else {
                    defunc_0_reduce_res_180459 = (int8_t) 0;
                    defunc_0_reduce_res_180460 = (int64_t) 0;
                    defunc_0_reduce_res_180461 = (int16_t) 0;
                }
                
                int64_t distance_176959 = add64((int64_t) 1, tmp_176957);
                int64_t binop_x_181111 = (int64_t) 8 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181112 = block_sizze_176914 * binop_x_181111;
                int64_t binop_x_181114 = (int64_t) 2 * smallest_pow_2_geq_than_res_176904;
                int64_t bytes_181115 = block_sizze_176914 * binop_x_181114;
                int64_t bytes_181130 = (int64_t) 8 * block_sizze_176914;
                bool loop_cond_177068 = slt64(block_sizze_176914, flat_dim_176915);
                bool zzero_177069 = merge_block_sizze_176920 == (int64_t) 0;
                bool nonzzero_177070 = !zzero_177069;
                
                if (cond_176898) {
                    if (memblock_set(ctx, &ext_mem_181403, &mem_181104, "mem_181104") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_181106, "mem_181106") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &mem_181108, "mem_181108") != 0)
                        return 1;
                } else {
                    if (mem_181110_cached_sizze_183012 < flat_dim_176915) {
                        err = lexical_realloc(ctx, &mem_181110, &mem_181110_cached_sizze_183012, flat_dim_176915);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_183013 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_183013, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181116_cached_sizze_183014 < bytes_181115) {
                        err = lexical_realloc(ctx, &mem_181116, &mem_181116_cached_sizze_183014, bytes_181115);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181129_cached_sizze_183015 < block_sizze_176914) {
                        err = lexical_realloc(ctx, &mem_181129, &mem_181129_cached_sizze_183015, block_sizze_176914);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181131_cached_sizze_183016 < bytes_181130) {
                        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183016, bytes_181130);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181133_cached_sizze_183017 < greatest_divisor_leq_than_arg1_176919) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_183017, greatest_divisor_leq_than_arg1_176919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180825 = 0; i_180825 < smallest_pow_2_geq_than_res_176904; i_180825++) {
                        int64_t zp_lhs_176967 = mul64(block_sizze_176914, i_180825);
                        
                        for (int64_t i_180815 = 0; i_180815 < block_sizze_176914; i_180815++) {
                            int64_t k_176972 = add64(zp_lhs_176967, i_180815);
                            bool cond_176973 = slt64(k_176972, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851);
                            int8_t lifted_lambda_res_176974;
                            int64_t lifted_lambda_res_176975;
                            int16_t lifted_lambda_res_176976;
                            
                            if (cond_176973) {
                                bool x_180234 = sle64((int64_t) 0, k_176972);
                                bool bounds_check_180235 = cond_176973 && x_180234;
                                bool index_certs_180236;
                                
                                if (!bounds_check_180235) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176972, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180237 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850, k_176972);
                                int8_t index_concat_branch_180238 = btoi_bool_i8(index_concat_cmp_180237);
                                int64_t index_concat_branch_180239;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180240 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t index_primexp_180241 = add64(index_concat_branch_178423, index_concat_i_180240);
                                    
                                    index_concat_branch_180239 = index_primexp_180241;
                                } else {
                                    int64_t index_primexp_180242 = add64(k_176972, index_concat_branch_178429);
                                    
                                    index_concat_branch_180239 = index_primexp_180242;
                                }
                                
                                int16_t index_concat_branch_180243;
                                
                                if (index_concat_cmp_180237) {
                                    int64_t index_concat_i_180244 = sub64(k_176972, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176850);
                                    int64_t slice_180245 = slice_178404 + index_concat_i_180244;
                                    int16_t index_concat_180246 = ((int16_t *) b_list_mem_181053.mem)[slice_180245];
                                    
                                    index_concat_branch_180243 = index_concat_180246;
                                } else {
                                    int64_t slice_180247 = k_176972 + slice_178405;
                                    int16_t index_concat_180248 = ((int16_t *) a_list_mem_181052.mem)[slice_180247];
                                    
                                    index_concat_branch_180243 = index_concat_180248;
                                }
                                lifted_lambda_res_176974 = index_concat_branch_180238;
                                lifted_lambda_res_176975 = index_concat_branch_180239;
                                lifted_lambda_res_176976 = index_concat_branch_180243;
                            } else {
                                lifted_lambda_res_176974 = defunc_0_reduce_res_180459;
                                lifted_lambda_res_176975 = defunc_0_reduce_res_180460;
                                lifted_lambda_res_176976 = defunc_0_reduce_res_180461;
                            }
                            ((int8_t *) mem_181129)[i_180815] = lifted_lambda_res_176974;
                            ((int64_t *) mem_181131)[i_180815] = lifted_lambda_res_176975;
                            ((int16_t *) mem_181133)[i_180815] = lifted_lambda_res_176976;
                        }
                        if (!cond_176956) {
                            for (int64_t i_176989 = 0; i_176989 < distance_176959; i_176989++) {
                                int64_t gt_arg1_176993 = add64((int64_t) 1, i_176989);
                                bool x_176994 = sle64((int64_t) 0, gt_arg1_176993);
                                bool y_176995 = slt64(gt_arg1_176993, block_sizze_176914);
                                bool bounds_check_176996 = x_176994 && y_176995;
                                bool index_certs_176997;
                                
                                if (!bounds_check_176996) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176993, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177001 = slt64(i_176989, block_sizze_176914);
                                bool index_certs_177002;
                                
                                if (!y_177001) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176989, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176998 = ((int8_t *) mem_181129)[gt_arg1_176993];
                                int64_t gt_arg1_176999 = ((int64_t *) mem_181131)[gt_arg1_176993];
                                int16_t gt_arg1_177000 = ((int16_t *) mem_181133)[gt_arg1_176993];
                                int8_t gt_arg0_177003 = ((int8_t *) mem_181129)[i_176989];
                                int64_t gt_arg0_177004 = ((int64_t *) mem_181131)[i_176989];
                                int16_t gt_arg0_177005 = ((int16_t *) mem_181133)[i_176989];
                                bool cond_177006 = gt_arg0_177003 == gt_arg1_176998;
                                bool defunc_0_leq_res_t_res_177007 = sle64(gt_arg0_177004, gt_arg1_176999);
                                bool defunc_0_leq_res_177008 = sle16(gt_arg0_177005, gt_arg1_177000);
                                bool x_177009 = cond_177006 && defunc_0_leq_res_t_res_177007;
                                bool x_177010 = !cond_177006;
                                bool y_177011 = defunc_0_leq_res_177008 && x_177010;
                                bool defunc_0_leq_res_177012 = x_177009 || y_177011;
                                bool defunc_0_lifted_gt_res_177013 = !defunc_0_leq_res_177012;
                                bool s_177014;
                                int64_t s_177018;
                                bool loop_while_177019;
                                int64_t j_177023;
                                
                                loop_while_177019 = defunc_0_lifted_gt_res_177013;
                                j_177023 = i_176989;
                                while (loop_while_177019) {
                                    bool x_177024 = sle64((int64_t) 0, j_177023);
                                    bool y_177025 = slt64(j_177023, block_sizze_176914);
                                    bool bounds_check_177026 = x_177024 && y_177025;
                                    bool index_certs_177027;
                                    
                                    if (!bounds_check_177026) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177023, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177031 = add64((int64_t) 1, j_177023);
                                    bool x_177032 = sle64((int64_t) 0, copy_arg0_177031);
                                    bool y_177033 = slt64(copy_arg0_177031, block_sizze_176914);
                                    bool bounds_check_177034 = x_177032 && y_177033;
                                    bool index_certs_177035;
                                    
                                    if (!bounds_check_177034) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177031, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177028 = ((int8_t *) mem_181129)[j_177023];
                                    int64_t copy_arg0_177029 = ((int64_t *) mem_181131)[j_177023];
                                    int16_t copy_arg0_177030 = ((int16_t *) mem_181133)[j_177023];
                                    int8_t copy_arg0_177036 = ((int8_t *) mem_181129)[copy_arg0_177031];
                                    int64_t copy_arg0_177037 = ((int64_t *) mem_181131)[copy_arg0_177031];
                                    int16_t copy_arg0_177038 = ((int16_t *) mem_181133)[copy_arg0_177031];
                                    
                                    ((int8_t *) mem_181129)[j_177023] = copy_arg0_177036;
                                    ((int64_t *) mem_181131)[j_177023] = copy_arg0_177037;
                                    ((int16_t *) mem_181133)[j_177023] = copy_arg0_177038;
                                    ((int8_t *) mem_181129)[copy_arg0_177031] = copy_arg0_177028;
                                    ((int64_t *) mem_181131)[copy_arg0_177031] = copy_arg0_177029;
                                    ((int16_t *) mem_181133)[copy_arg0_177031] = copy_arg0_177030;
                                    
                                    int64_t tmp_177045 = sub64(j_177023, (int64_t) 1);
                                    bool cond_177046 = sle64((int64_t) 0, tmp_177045);
                                    bool loop_cond_177047;
                                    
                                    if (cond_177046) {
                                        bool y_180252 = slt64(tmp_177045, block_sizze_176914);
                                        bool bounds_check_180253 = cond_177046 && y_180252;
                                        bool index_certs_180254;
                                        
                                        if (!bounds_check_180253) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177045, "] out of bounds for array of shape [", (long long) block_sizze_176914, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180249 = ((int8_t *) mem_181129)[j_177023];
                                        int64_t gt_arg1_180250 = ((int64_t *) mem_181131)[j_177023];
                                        int16_t gt_arg1_180251 = ((int16_t *) mem_181133)[j_177023];
                                        int8_t gt_arg0_180255 = ((int8_t *) mem_181129)[tmp_177045];
                                        int64_t gt_arg0_180256 = ((int64_t *) mem_181131)[tmp_177045];
                                        int16_t gt_arg0_180257 = ((int16_t *) mem_181133)[tmp_177045];
                                        bool cond_180258 = gt_arg0_180255 == gt_arg1_180249;
                                        bool defunc_0_leq_res_t_res_180259 = sle64(gt_arg0_180256, gt_arg1_180250);
                                        bool defunc_0_leq_res_180260 = sle16(gt_arg0_180257, gt_arg1_180251);
                                        bool x_180261 = cond_180258 && defunc_0_leq_res_t_res_180259;
                                        bool x_180262 = !cond_180258;
                                        bool y_180263 = defunc_0_leq_res_180260 && x_180262;
                                        bool defunc_0_leq_res_180264 = x_180261 || y_180263;
                                        bool defunc_0_lifted_gt_res_180265 = !defunc_0_leq_res_180264;
                                        
                                        loop_cond_177047 = defunc_0_lifted_gt_res_180265;
                                    } else {
                                        loop_cond_177047 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182617 = loop_cond_177047;
                                    int64_t j_tmp_182621 = tmp_177045;
                                    
                                    loop_while_177019 = loop_while_tmp_182617;
                                    j_177023 = j_tmp_182621;
                                }
                                s_177014 = loop_while_177019;
                                s_177018 = j_177023;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181110, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181129, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181131, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181116, i_180825 * block_sizze_176914, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181133, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176914});
                    }
                    if (memblock_alloc(ctx, &mem_181210, flat_dim_176915, "mem_181210")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181210.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint8_t *) mem_181110, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181214, bytes_181112, "mem_181214")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181214.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    if (memblock_alloc(ctx, &mem_181218, bytes_181115, "mem_181218")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181218.mem, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (uint16_t *) mem_181116, (int64_t) 0, (int64_t []) {block_sizze_176914, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176904, block_sizze_176914});
                    
                    int64_t data_177071;
                    bool data_177072;
                    int64_t data_177076;
                    int64_t loop_dz2084Uz2082U_177077;
                    bool loop_while_177078;
                    int64_t stride_177082;
                    
                    if (memblock_set(ctx, &mem_param_181222, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181225, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181228, &mem_181218, "mem_181218") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177077 = flat_dim_176915;
                    loop_while_177078 = loop_cond_177068;
                    stride_177082 = block_sizze_176914;
                    while (loop_while_177078) {
                        int64_t next_stride_177083 = mul64((int64_t) 2, stride_177082);
                        bool zzero_177084 = next_stride_177083 == (int64_t) 0;
                        bool nonzzero_177085 = !zzero_177084;
                        bool nonzzero_cert_177086;
                        
                        if (!nonzzero_177085) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177087 = sdiv64(flat_dim_176915, next_stride_177083);
                        bool bounds_invalid_upwards_177088 = slt64(num_merges_177087, (int64_t) 0);
                        bool valid_177089 = !bounds_invalid_upwards_177088;
                        bool range_valid_c_177090;
                        
                        if (!valid_177089) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177087, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177092 = sub64(next_stride_177083, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177093 = sle64((int64_t) 0, m_177092);
                        bool cond_177095 = slt64(next_stride_177083, (int64_t) 10);
                        bool protect_assert_disj_177096 = nonzzero_177070 || cond_177095;
                        bool nonzzero_cert_177097;
                        
                        if (!protect_assert_disj_177096) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177098 = smod_safe64(next_stride_177083, merge_block_sizze_176920);
                        bool num_blocks_177099 = zeze_lhs_177098 == (int64_t) 0;
                        bool protect_assert_disj_177100 = cond_177095 || num_blocks_177099;
                        bool assert_c_177101;
                        
                        if (!protect_assert_disj_177100) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177103 = sdiv_safe64(next_stride_177083, merge_block_sizze_176920);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104 = add64((int64_t) 1, num_blocks_177103);
                        int64_t j_m_i_177105 = sub64(next_stride_177083, stride_177082);
                        int64_t flat_dim_177106 = merge_block_sizze_176920 * num_blocks_177103;
                        bool bounds_invalid_upwards_177107 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, (int64_t) 0);
                        bool empty_slice_177108 = j_m_i_177105 == (int64_t) 0;
                        int64_t m_177109 = sub64(j_m_i_177105, (int64_t) 1);
                        bool zzero_lte_i_177110 = sle64((int64_t) 0, stride_177082);
                        bool i_lte_j_177111 = sle64(stride_177082, next_stride_177083);
                        bool empty_slice_177112 = stride_177082 == (int64_t) 0;
                        int64_t m_177113 = sub64(stride_177082, (int64_t) 1);
                        bool bounds_invalid_upwards_177114 = slt64(num_blocks_177103, (int64_t) 0);
                        bool cond_177115 = slt64((int64_t) 0, stride_177082);
                        bool valid_177116 = !bounds_invalid_upwards_177107;
                        int64_t i_p_m_t_s_177117 = add64(stride_177082, m_177109);
                        bool zzero_leq_i_p_m_t_s_177118 = sle64((int64_t) 0, m_177113);
                        bool i_p_m_t_s_leq_w_177119 = slt64(m_177113, next_stride_177083);
                        bool valid_177120 = !bounds_invalid_upwards_177114;
                        bool i_p_m_t_s_leq_w_177121 = slt64(m_177092, flat_dim_177106);
                        bool y_177122 = slt64((int64_t) 0, j_m_i_177105);
                        bool protect_assert_disj_177123 = cond_177095 || valid_177116;
                        bool range_valid_c_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177125 = sle64((int64_t) 0, i_p_m_t_s_177117);
                        bool i_p_m_t_s_leq_w_177126 = slt64(i_p_m_t_s_177117, next_stride_177083);
                        bool y_177127 = zzero_leq_i_p_m_t_s_177118 && i_p_m_t_s_leq_w_177119;
                        bool protect_assert_disj_177128 = cond_177095 || valid_177120;
                        bool range_valid_c_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177103, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177130 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177121;
                        bool y_177131 = zzero_lte_i_177110 && i_p_m_t_s_leq_w_177126;
                        bool forwards_ok_177132 = zzero_lte_i_177110 && y_177127;
                        bool ok_or_empty_177133 = zzero_177084 || y_177130;
                        bool protect_assert_disj_177134 = cond_177115 || y_177122;
                        bool y_177135 = zzero_leq_i_p_m_t_s_177125 && y_177131;
                        bool ok_or_empty_177136 = empty_slice_177112 || forwards_ok_177132;
                        bool protect_assert_disj_177137 = cond_177095 || ok_or_empty_177133;
                        bool index_certs_177138;
                        
                        if (!protect_assert_disj_177137) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) flat_dim_177106, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177139 = !cond_177095;
                        bool protect_assert_disj_177140 = protect_assert_disj_177134 || loop_not_taken_177139;
                        bool index_certs_177141;
                        
                        if (!protect_assert_disj_177140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177142 = i_lte_j_177111 && y_177135;
                        bool protect_assert_disj_177143 = cond_177095 || ok_or_empty_177136;
                        bool index_certs_177144;
                        
                        if (!protect_assert_disj_177143) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177145 = ok_or_empty_177136 || loop_not_taken_177139;
                        bool index_certs_177146;
                        
                        if (!protect_assert_disj_177145) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177082, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177147 = empty_slice_177108 || forwards_ok_177142;
                        bool protect_assert_disj_177148 = cond_177095 || ok_or_empty_177147;
                        bool index_certs_177149;
                        
                        if (!protect_assert_disj_177148) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177150 = loop_not_taken_177139 || ok_or_empty_177147;
                        bool index_certs_177151;
                        
                        if (!protect_assert_disj_177150) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177082, ":] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181229 = next_stride_177083 * num_merges_177087;
                        int64_t binop_x_181231 = (int64_t) 8 * num_merges_177087;
                        int64_t bytes_181232 = next_stride_177083 * binop_x_181231;
                        int64_t binop_x_181234 = (int64_t) 2 * num_merges_177087;
                        int64_t bytes_181235 = next_stride_177083 * binop_x_181234;
                        bool i_lte_j_177094 = sle64((int64_t) 0, next_stride_177083);
                        
                        if (mem_181230_cached_sizze_183018 < bytes_181229) {
                            err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_183018, bytes_181229);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181233_cached_sizze_183019 < bytes_181232) {
                            err = lexical_realloc(ctx, &mem_181233, &mem_181233_cached_sizze_183019, bytes_181232);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181236_cached_sizze_183020 < bytes_181235) {
                            err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_183020, bytes_181235);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181249 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104;
                        int64_t binop_x_181267 = (int64_t) 8 * num_blocks_177103;
                        int64_t bytes_181268 = merge_block_sizze_176920 * binop_x_181267;
                        int64_t binop_x_181270 = (int64_t) 2 * num_blocks_177103;
                        int64_t bytes_181271 = merge_block_sizze_176920 * binop_x_181270;
                        int64_t bytes_181332 = (int64_t) 16 * stride_177082;
                        int64_t bytes_181334 = (int64_t) 4 * stride_177082;
                        
                        for (int64_t i_180852 = 0; i_180852 < num_merges_177087; i_180852++) {
                            int64_t start_177156 = mul64(next_stride_177083, i_180852);
                            int64_t j_m_i_177157 = sub64(loop_dz2084Uz2082U_177077, start_177156);
                            bool empty_slice_177158 = j_m_i_177157 == (int64_t) 0;
                            int64_t m_177159 = sub64(j_m_i_177157, (int64_t) 1);
                            int64_t i_p_m_t_s_177160 = add64(start_177156, m_177159);
                            bool zzero_leq_i_p_m_t_s_177161 = sle64((int64_t) 0, i_p_m_t_s_177160);
                            bool i_p_m_t_s_leq_w_177162 = slt64(i_p_m_t_s_177160, loop_dz2084Uz2082U_177077);
                            bool zzero_lte_i_177163 = sle64((int64_t) 0, start_177156);
                            bool i_lte_j_177164 = sle64(start_177156, loop_dz2084Uz2082U_177077);
                            bool y_177165 = i_p_m_t_s_leq_w_177162 && zzero_lte_i_177163;
                            bool y_177166 = zzero_leq_i_p_m_t_s_177161 && y_177165;
                            bool forwards_ok_177167 = i_lte_j_177164 && y_177166;
                            bool ok_or_empty_177168 = empty_slice_177158 || forwards_ok_177167;
                            bool index_certs_177169;
                            
                            if (!ok_or_empty_177168) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177156, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177077, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177170 = slt64(m_177092, j_m_i_177157);
                            bool y_177171 = zzero_leq_i_p_m_t_s_177093 && i_p_m_t_s_leq_w_177170;
                            bool forwards_ok_177172 = i_lte_j_177094 && y_177171;
                            bool ok_or_empty_177173 = zzero_177084 || forwards_ok_177172;
                            bool index_certs_177174;
                            
                            if (!ok_or_empty_177173) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177083, "] out of bounds for array of shape [", (long long) j_m_i_177157, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177095) {
                                int8_t dummy_180304;
                                int64_t dummy_180305;
                                int16_t dummy_180306;
                                
                                if (cond_177115) {
                                    int8_t head_res_180307 = ((int8_t *) mem_param_181222.mem)[start_177156];
                                    int64_t head_res_180308 = ((int64_t *) mem_param_181225.mem)[start_177156];
                                    int16_t head_res_180309 = ((int16_t *) mem_param_181228.mem)[start_177156];
                                    
                                    dummy_180304 = head_res_180307;
                                    dummy_180305 = head_res_180308;
                                    dummy_180306 = head_res_180309;
                                } else {
                                    int64_t slice_180310 = stride_177082 + start_177156;
                                    int8_t head_res_180311 = ((int8_t *) mem_param_181222.mem)[slice_180310];
                                    int64_t head_res_180312 = ((int64_t *) mem_param_181225.mem)[slice_180310];
                                    int16_t head_res_180313 = ((int16_t *) mem_param_181228.mem)[slice_180310];
                                    
                                    dummy_180304 = head_res_180311;
                                    dummy_180305 = head_res_180312;
                                    dummy_180306 = head_res_180313;
                                }
                                if (memblock_alloc(ctx, &mem_181331, next_stride_177083, "mem_181331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182634 = 0; nest_i_182634 < next_stride_177083; nest_i_182634++) {
                                    ((int8_t *) mem_181331.mem)[nest_i_182634] = dummy_180304;
                                }
                                if (memblock_alloc(ctx, &mem_181333, bytes_181332, "mem_181333")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182635 = 0; nest_i_182635 < next_stride_177083; nest_i_182635++) {
                                    ((int64_t *) mem_181333.mem)[nest_i_182635] = dummy_180305;
                                }
                                if (memblock_alloc(ctx, &mem_181335, bytes_181334, "mem_181335")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182636 = 0; nest_i_182636 < next_stride_177083; nest_i_182636++) {
                                    ((int16_t *) mem_181335.mem)[nest_i_182636] = dummy_180306;
                                }
                                
                                int64_t data_180317;
                                int64_t i_180322 = (int64_t) 0;
                                
                                for (int64_t k_180321 = 0; k_180321 < next_stride_177083; k_180321++) {
                                    int64_t j_180326 = sub64(k_180321, i_180322);
                                    bool cond_180327 = j_180326 == j_m_i_177105;
                                    bool cond_180328;
                                    
                                    if (cond_180327) {
                                        cond_180328 = 1;
                                    } else {
                                        bool cond_180329 = slt64(i_180322, stride_177082);
                                        bool cond_f_res_180330;
                                        
                                        if (cond_180329) {
                                            bool x_180331 = sle64((int64_t) 0, j_180326);
                                            bool y_180332 = slt64(j_180326, j_m_i_177105);
                                            bool bounds_check_180333 = x_180331 && y_180332;
                                            bool index_certs_180334;
                                            
                                            if (!bounds_check_180333) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180340 = sle64((int64_t) 0, i_180322);
                                            bool bounds_check_180341 = cond_180329 && x_180340;
                                            bool index_certs_180342;
                                            
                                            if (!bounds_check_180341) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180335 = stride_177082 + j_180326;
                                            int64_t slice_180336 = start_177156 + slice_180335;
                                            int8_t leq_arg1_180337 = ((int8_t *) mem_param_181222.mem)[slice_180336];
                                            int64_t leq_arg1_180338 = ((int64_t *) mem_param_181225.mem)[slice_180336];
                                            int16_t leq_arg1_180339 = ((int16_t *) mem_param_181228.mem)[slice_180336];
                                            int64_t slice_180343 = start_177156 + i_180322;
                                            int8_t leq_arg0_180344 = ((int8_t *) mem_param_181222.mem)[slice_180343];
                                            int64_t leq_arg0_180345 = ((int64_t *) mem_param_181225.mem)[slice_180343];
                                            int16_t leq_arg0_180346 = ((int16_t *) mem_param_181228.mem)[slice_180343];
                                            bool cond_180347 = leq_arg0_180344 == leq_arg1_180337;
                                            bool defunc_0_leq_res_t_res_180348 = sle64(leq_arg0_180345, leq_arg1_180338);
                                            bool defunc_0_leq_res_180349 = sle16(leq_arg0_180346, leq_arg1_180339);
                                            bool x_180350 = cond_180347 && defunc_0_leq_res_t_res_180348;
                                            bool x_180351 = !cond_180347;
                                            bool y_180352 = defunc_0_leq_res_180349 && x_180351;
                                            bool defunc_0_leq_res_180353 = x_180350 || y_180352;
                                            
                                            cond_f_res_180330 = defunc_0_leq_res_180353;
                                        } else {
                                            cond_f_res_180330 = 0;
                                        }
                                        cond_180328 = cond_f_res_180330;
                                    }
                                    
                                    int64_t loopres_180354;
                                    int8_t loopres_180355;
                                    int64_t loopres_180356;
                                    int16_t loopres_180357;
                                    
                                    if (cond_180328) {
                                        bool x_180359 = sle64((int64_t) 0, i_180322);
                                        bool y_180360 = slt64(i_180322, stride_177082);
                                        bool bounds_check_180361 = x_180359 && y_180360;
                                        bool index_certs_180362;
                                        
                                        if (!bounds_check_180361) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180322, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180358 = add64((int64_t) 1, i_180322);
                                        int64_t slice_180363 = start_177156 + i_180322;
                                        int8_t tmp_180364 = ((int8_t *) mem_param_181222.mem)[slice_180363];
                                        int64_t tmp_180365 = ((int64_t *) mem_param_181225.mem)[slice_180363];
                                        int16_t tmp_180366 = ((int16_t *) mem_param_181228.mem)[slice_180363];
                                        
                                        loopres_180354 = tmp_180358;
                                        loopres_180355 = tmp_180364;
                                        loopres_180356 = tmp_180365;
                                        loopres_180357 = tmp_180366;
                                    } else {
                                        bool x_180367 = sle64((int64_t) 0, j_180326);
                                        bool y_180368 = slt64(j_180326, j_m_i_177105);
                                        bool bounds_check_180369 = x_180367 && y_180368;
                                        bool index_certs_180370;
                                        
                                        if (!bounds_check_180369) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180326, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180371 = stride_177082 + j_180326;
                                        int64_t slice_180372 = start_177156 + slice_180371;
                                        int8_t tmp_180373 = ((int8_t *) mem_param_181222.mem)[slice_180372];
                                        int64_t tmp_180374 = ((int64_t *) mem_param_181225.mem)[slice_180372];
                                        int16_t tmp_180375 = ((int16_t *) mem_param_181228.mem)[slice_180372];
                                        
                                        loopres_180354 = i_180322;
                                        loopres_180355 = tmp_180373;
                                        loopres_180356 = tmp_180374;
                                        loopres_180357 = tmp_180375;
                                    }
                                    ((int8_t *) mem_181331.mem)[k_180321] = loopres_180355;
                                    ((int64_t *) mem_181333.mem)[k_180321] = loopres_180356;
                                    ((int16_t *) mem_181335.mem)[k_180321] = loopres_180357;
                                    
                                    int64_t i_tmp_182637 = loopres_180354;
                                    
                                    i_180322 = i_tmp_182637;
                                }
                                data_180317 = i_180322;
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181331, "mem_181331") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181333, "mem_181333") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181335, "mem_181335") != 0)
                                    return 1;
                            } else {
                                if (mem_181250_cached_sizze_183021 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181250, &mem_181250_cached_sizze_183021, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_183022 < bytes_181249) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_183022, bytes_181249);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180833 = 0; i_180833 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104; i_180833++) {
                                    int64_t split_count_arg3_177257 = mul64(merge_block_sizze_176920, i_180833);
                                    int64_t defunc_0_split_count_res_177258;
                                    int64_t defunc_0_split_count_res_177259;
                                    int64_t defunc_0_split_count_res_177260;
                                    int64_t defunc_0_split_count_res_177261;
                                    int64_t defunc_0_split_count_res_177262;
                                    
                                    if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177258, &defunc_0_split_count_res_177259, &defunc_0_split_count_res_177260, &defunc_0_split_count_res_177261, &defunc_0_split_count_res_177262, (int64_t) 0, stride_177082, (int64_t) 0, j_m_i_177105, split_count_arg3_177257) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177263 = slt64((int64_t) 0, defunc_0_split_count_res_177262);
                                    bool defunc_0_split_count_res_177264;
                                    int64_t defunc_0_split_count_res_177265;
                                    int64_t defunc_0_split_count_res_177266;
                                    int64_t defunc_0_split_count_res_177267;
                                    int64_t defunc_0_split_count_res_177268;
                                    int64_t defunc_0_split_count_res_177269;
                                    bool loop_while_177270;
                                    int64_t ss_177271;
                                    int64_t ss_177272;
                                    int64_t tt_177273;
                                    int64_t tt_177274;
                                    int64_t count_177275;
                                    
                                    loop_while_177270 = loop_cond_177263;
                                    ss_177271 = defunc_0_split_count_res_177258;
                                    ss_177272 = defunc_0_split_count_res_177259;
                                    tt_177273 = defunc_0_split_count_res_177260;
                                    tt_177274 = defunc_0_split_count_res_177261;
                                    count_177275 = defunc_0_split_count_res_177262;
                                    while (loop_while_177270) {
                                        int64_t zlze_lhs_177276 = sub64(ss_177272, ss_177271);
                                        bool cond_177277 = sle64(zlze_lhs_177276, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177278;
                                        int64_t defunc_0_lifted_step_res_177279;
                                        int64_t defunc_0_lifted_step_res_177280;
                                        int64_t defunc_0_lifted_step_res_177281;
                                        
                                        if (cond_177277) {
                                            int64_t tmp_180379 = add64(tt_177273, count_177275);
                                            
                                            defunc_0_lifted_step_res_177278 = ss_177271;
                                            defunc_0_lifted_step_res_177279 = tmp_180379;
                                            defunc_0_lifted_step_res_177280 = tt_177274;
                                            defunc_0_lifted_step_res_177281 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177283 = sub64(tt_177274, tt_177273);
                                            bool cond_177284 = sle64(zlze_lhs_177283, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177285;
                                            int64_t defunc_0_lifted_step_res_f_res_177286;
                                            int64_t defunc_0_lifted_step_res_f_res_177287;
                                            int64_t defunc_0_lifted_step_res_f_res_177288;
                                            
                                            if (cond_177284) {
                                                int64_t tmp_180380 = add64(ss_177271, count_177275);
                                                
                                                defunc_0_lifted_step_res_f_res_177285 = tmp_180380;
                                                defunc_0_lifted_step_res_f_res_177286 = tt_177273;
                                                defunc_0_lifted_step_res_f_res_177287 = tt_177274;
                                                defunc_0_lifted_step_res_f_res_177288 = (int64_t) 0;
                                            } else {
                                                bool cond_177290 = count_177275 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177291;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177292;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177293;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177294;
                                                
                                                if (cond_177290) {
                                                    bool x_180382 = sle64((int64_t) 0, ss_177271);
                                                    bool y_180383 = slt64(ss_177271, stride_177082);
                                                    bool bounds_check_180384 = x_180382 && y_180383;
                                                    bool index_certs_180385;
                                                    
                                                    if (!bounds_check_180384) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177271, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180390 = sle64((int64_t) 0, tt_177273);
                                                    bool y_180391 = slt64(tt_177273, j_m_i_177105);
                                                    bool bounds_check_180392 = x_180390 && y_180391;
                                                    bool index_certs_180393;
                                                    
                                                    if (!bounds_check_180392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177273, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180386 = start_177156 + ss_177271;
                                                    int8_t leq_arg1_180387 = ((int8_t *) mem_param_181222.mem)[slice_180386];
                                                    int64_t leq_arg1_180388 = ((int64_t *) mem_param_181225.mem)[slice_180386];
                                                    int16_t leq_arg1_180389 = ((int16_t *) mem_param_181228.mem)[slice_180386];
                                                    int64_t slice_180394 = stride_177082 + tt_177273;
                                                    int64_t slice_180395 = start_177156 + slice_180394;
                                                    int8_t leq_arg0_180396 = ((int8_t *) mem_param_181222.mem)[slice_180395];
                                                    int64_t leq_arg0_180397 = ((int64_t *) mem_param_181225.mem)[slice_180395];
                                                    int16_t leq_arg0_180398 = ((int16_t *) mem_param_181228.mem)[slice_180395];
                                                    bool cond_180399 = leq_arg0_180396 == leq_arg1_180387;
                                                    bool defunc_0_leq_res_t_res_180400 = sle64(leq_arg0_180397, leq_arg1_180388);
                                                    bool defunc_0_leq_res_180401 = sle16(leq_arg0_180398, leq_arg1_180389);
                                                    bool x_180402 = cond_180399 && defunc_0_leq_res_t_res_180400;
                                                    bool x_180403 = !cond_180399;
                                                    bool y_180404 = defunc_0_leq_res_180401 && x_180403;
                                                    bool defunc_0_leq_res_180405 = x_180402 || y_180404;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    
                                                    if (defunc_0_leq_res_180405) {
                                                        int64_t tmp_180408 = add64((int64_t) 1, tt_177273);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = ss_177271;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tmp_180408;
                                                    } else {
                                                        int64_t tmp_180409 = add64((int64_t) 1, ss_177271);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180406 = tmp_180409;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180407 = tt_177273;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = defunc_0_lifted_step_res_f_res_f_res_t_res_180406;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_t_res_180407;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = tt_177274;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177323 = sdiv64(count_177275, (int64_t) 2);
                                                    int64_t n_177324 = sub64(count_177275, m_177323);
                                                    bool cond_177325 = n_177324 == (int64_t) 0;
                                                    int64_t zgze_lhs_177326 = add64(ss_177271, m_177323);
                                                    bool cond_f_res_177327 = sle64(ss_177272, zgze_lhs_177326);
                                                    bool x_177328 = !cond_177325;
                                                    bool y_177329 = cond_f_res_177327 && x_177328;
                                                    bool cond_177330 = cond_177325 || y_177329;
                                                    bool leq_y_x_177331;
                                                    
                                                    if (cond_177330) {
                                                        leq_y_x_177331 = 1;
                                                    } else {
                                                        bool x_177332 = sle64((int64_t) 0, zgze_lhs_177326);
                                                        bool y_177333 = slt64(zgze_lhs_177326, stride_177082);
                                                        bool bounds_check_177334 = x_177332 && y_177333;
                                                        bool index_certs_177335;
                                                        
                                                        if (!bounds_check_177334) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177326, "] out of bounds for array of shape [", (long long) stride_177082, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177340 = add64(tt_177273, n_177324);
                                                        int64_t leq_arg0_177341 = sub64(zm_lhs_177340, (int64_t) 1);
                                                        bool x_177342 = sle64((int64_t) 0, leq_arg0_177341);
                                                        bool y_177343 = slt64(leq_arg0_177341, j_m_i_177105);
                                                        bool bounds_check_177344 = x_177342 && y_177343;
                                                        bool index_certs_177345;
                                                        
                                                        if (!bounds_check_177344) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177341, "] out of bounds for array of shape [", (long long) j_m_i_177105, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177336 = start_177156 + zgze_lhs_177326;
                                                        int8_t leq_arg1_177337 = ((int8_t *) mem_param_181222.mem)[slice_177336];
                                                        int64_t leq_arg1_177338 = ((int64_t *) mem_param_181225.mem)[slice_177336];
                                                        int16_t leq_arg1_177339 = ((int16_t *) mem_param_181228.mem)[slice_177336];
                                                        int64_t slice_177346 = stride_177082 + leq_arg0_177341;
                                                        int64_t slice_177347 = start_177156 + slice_177346;
                                                        int8_t leq_arg0_177348 = ((int8_t *) mem_param_181222.mem)[slice_177347];
                                                        int64_t leq_arg0_177349 = ((int64_t *) mem_param_181225.mem)[slice_177347];
                                                        int16_t leq_arg0_177350 = ((int16_t *) mem_param_181228.mem)[slice_177347];
                                                        bool cond_177351 = leq_arg0_177348 == leq_arg1_177337;
                                                        bool defunc_0_leq_res_t_res_177352 = sle64(leq_arg0_177349, leq_arg1_177338);
                                                        bool defunc_0_leq_res_177353 = sle16(leq_arg0_177350, leq_arg1_177339);
                                                        bool x_177354 = cond_177351 && defunc_0_leq_res_t_res_177352;
                                                        bool x_177355 = !cond_177351;
                                                        bool y_177356 = defunc_0_leq_res_177353 && x_177355;
                                                        bool defunc_0_leq_res_177357 = x_177354 || y_177356;
                                                        
                                                        leq_y_x_177331 = defunc_0_leq_res_177357;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                    
                                                    if (leq_y_x_177331) {
                                                        int64_t tmp_180410 = add64(tt_177273, n_177324);
                                                        int64_t tmp_180411 = sub64(count_177275, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tmp_180410;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tt_177274;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = tmp_180411;
                                                    } else {
                                                        int64_t tmp_177363 = add64(tt_177273, n_177324);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177358 = tt_177273;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177359 = tmp_177363;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177360 = count_177275;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177291 = ss_177271;
                                                    defunc_0_lifted_step_res_f_res_f_res_177292 = defunc_0_lifted_step_res_f_res_f_res_f_res_177358;
                                                    defunc_0_lifted_step_res_f_res_f_res_177293 = defunc_0_lifted_step_res_f_res_f_res_f_res_177359;
                                                    defunc_0_lifted_step_res_f_res_f_res_177294 = defunc_0_lifted_step_res_f_res_f_res_f_res_177360;
                                                }
                                                defunc_0_lifted_step_res_f_res_177285 = defunc_0_lifted_step_res_f_res_f_res_177291;
                                                defunc_0_lifted_step_res_f_res_177286 = defunc_0_lifted_step_res_f_res_f_res_177292;
                                                defunc_0_lifted_step_res_f_res_177287 = defunc_0_lifted_step_res_f_res_f_res_177293;
                                                defunc_0_lifted_step_res_f_res_177288 = defunc_0_lifted_step_res_f_res_f_res_177294;
                                            }
                                            defunc_0_lifted_step_res_177278 = defunc_0_lifted_step_res_f_res_177285;
                                            defunc_0_lifted_step_res_177279 = defunc_0_lifted_step_res_f_res_177286;
                                            defunc_0_lifted_step_res_177280 = defunc_0_lifted_step_res_f_res_177287;
                                            defunc_0_lifted_step_res_177281 = defunc_0_lifted_step_res_f_res_177288;
                                        }
                                        
                                        int64_t loopres_177364;
                                        int64_t loopres_177365;
                                        int64_t loopres_177366;
                                        int64_t loopres_177367;
                                        int64_t loopres_177368;
                                        
                                        if (futrts_lifted_normalizze_9082(ctx, &loopres_177364, &loopres_177365, &loopres_177366, &loopres_177367, &loopres_177368, defunc_0_lifted_step_res_177278, ss_177272, defunc_0_lifted_step_res_177279, defunc_0_lifted_step_res_177280, defunc_0_lifted_step_res_177281) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177369 = slt64((int64_t) 0, loopres_177368);
                                        bool loop_while_tmp_182643 = loop_cond_177369;
                                        int64_t ss_tmp_182644 = loopres_177364;
                                        int64_t ss_tmp_182645 = loopres_177365;
                                        int64_t tt_tmp_182646 = loopres_177366;
                                        int64_t tt_tmp_182647 = loopres_177367;
                                        int64_t count_tmp_182648 = loopres_177368;
                                        
                                        loop_while_177270 = loop_while_tmp_182643;
                                        ss_177271 = ss_tmp_182644;
                                        ss_177272 = ss_tmp_182645;
                                        tt_177273 = tt_tmp_182646;
                                        tt_177274 = tt_tmp_182647;
                                        count_177275 = count_tmp_182648;
                                    }
                                    defunc_0_split_count_res_177264 = loop_while_177270;
                                    defunc_0_split_count_res_177265 = ss_177271;
                                    defunc_0_split_count_res_177266 = ss_177272;
                                    defunc_0_split_count_res_177267 = tt_177273;
                                    defunc_0_split_count_res_177268 = tt_177274;
                                    defunc_0_split_count_res_177269 = count_177275;
                                    ((int64_t *) mem_181250)[i_180833] = defunc_0_split_count_res_177265;
                                    ((int64_t *) mem_181252)[i_180833] = defunc_0_split_count_res_177267;
                                }
                                if (mem_181266_cached_sizze_183023 < flat_dim_177106) {
                                    err = lexical_realloc(ctx, &mem_181266, &mem_181266_cached_sizze_183023, flat_dim_177106);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181269_cached_sizze_183024 < bytes_181268) {
                                    err = lexical_realloc(ctx, &mem_181269, &mem_181269_cached_sizze_183024, bytes_181268);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181272_cached_sizze_183025 < bytes_181271) {
                                    err = lexical_realloc(ctx, &mem_181272, &mem_181272_cached_sizze_183025, bytes_181271);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180842 = 0; i_180842 < num_blocks_177103; i_180842++) {
                                    bool y_177376 = slt64(i_180842, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool index_certs_177378;
                                    
                                    if (!y_177376) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180842, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177379 = ((int64_t *) mem_181250)[i_180842];
                                    int64_t defunc_0_f_res_177380 = ((int64_t *) mem_181252)[i_180842];
                                    int64_t tmp_177381 = add64((int64_t) 1, i_180842);
                                    bool x_177382 = sle64((int64_t) 0, tmp_177381);
                                    bool y_177383 = slt64(tmp_177381, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104);
                                    bool bounds_check_177384 = x_177382 && y_177383;
                                    bool index_certs_177385;
                                    
                                    if (!bounds_check_177384) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177381, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177104, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177386 = ((int64_t *) mem_181250)[tmp_177381];
                                    int64_t defunc_0_f_res_177387 = ((int64_t *) mem_181252)[tmp_177381];
                                    int64_t merge_sequential_arg2_177388 = add64(stride_177082, defunc_0_f_res_177380);
                                    int64_t merge_sequential_arg2_177389 = add64(stride_177082, defunc_0_f_res_177387);
                                    int64_t j_m_i_177390 = sub64(merge_sequential_arg2_177389, merge_sequential_arg2_177388);
                                    bool empty_slice_177391 = j_m_i_177390 == (int64_t) 0;
                                    int64_t m_177392 = sub64(j_m_i_177390, (int64_t) 1);
                                    int64_t i_p_m_t_s_177393 = add64(merge_sequential_arg2_177388, m_177392);
                                    bool zzero_leq_i_p_m_t_s_177394 = sle64((int64_t) 0, i_p_m_t_s_177393);
                                    bool i_p_m_t_s_leq_w_177395 = slt64(i_p_m_t_s_177393, next_stride_177083);
                                    bool zzero_lte_i_177396 = sle64((int64_t) 0, merge_sequential_arg2_177388);
                                    bool i_lte_j_177397 = sle64(merge_sequential_arg2_177388, merge_sequential_arg2_177389);
                                    bool y_177398 = i_p_m_t_s_leq_w_177395 && zzero_lte_i_177396;
                                    bool y_177399 = zzero_leq_i_p_m_t_s_177394 && y_177398;
                                    bool forwards_ok_177400 = i_lte_j_177397 && y_177399;
                                    bool ok_or_empty_177401 = empty_slice_177391 || forwards_ok_177400;
                                    bool index_certs_177402;
                                    
                                    if (!ok_or_empty_177401) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177388, ":", (long long) merge_sequential_arg2_177389, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177403 = sub64(defunc_0_f_res_177386, defunc_0_f_res_177379);
                                    bool empty_slice_177404 = j_m_i_177403 == (int64_t) 0;
                                    int64_t m_177405 = sub64(j_m_i_177403, (int64_t) 1);
                                    int64_t i_p_m_t_s_177406 = add64(defunc_0_f_res_177379, m_177405);
                                    bool zzero_leq_i_p_m_t_s_177407 = sle64((int64_t) 0, i_p_m_t_s_177406);
                                    bool i_p_m_t_s_leq_w_177408 = slt64(i_p_m_t_s_177406, next_stride_177083);
                                    bool zzero_lte_i_177409 = sle64((int64_t) 0, defunc_0_f_res_177379);
                                    bool i_lte_j_177410 = sle64(defunc_0_f_res_177379, defunc_0_f_res_177386);
                                    bool y_177411 = i_p_m_t_s_leq_w_177408 && zzero_lte_i_177409;
                                    bool y_177412 = zzero_leq_i_p_m_t_s_177407 && y_177411;
                                    bool forwards_ok_177413 = i_lte_j_177410 && y_177412;
                                    bool ok_or_empty_177414 = empty_slice_177404 || forwards_ok_177413;
                                    bool index_certs_177415;
                                    
                                    if (!ok_or_empty_177414) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177379, ":", (long long) defunc_0_f_res_177386, "] out of bounds for array of shape [", (long long) next_stride_177083, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177416 = slt64((int64_t) 0, j_m_i_177403);
                                    int8_t dummy_177417;
                                    int64_t dummy_177418;
                                    int16_t dummy_177419;
                                    
                                    if (cond_177416) {
                                        bool index_certs_180412;
                                        
                                        if (!cond_177416) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180413 = start_177156 + defunc_0_f_res_177379;
                                        int8_t head_res_180414 = ((int8_t *) mem_param_181222.mem)[slice_180413];
                                        int64_t head_res_180415 = ((int64_t *) mem_param_181225.mem)[slice_180413];
                                        int16_t head_res_180416 = ((int16_t *) mem_param_181228.mem)[slice_180413];
                                        
                                        dummy_177417 = head_res_180414;
                                        dummy_177418 = head_res_180415;
                                        dummy_177419 = head_res_180416;
                                    } else {
                                        bool y_177425 = slt64((int64_t) 0, j_m_i_177390);
                                        bool index_certs_177426;
                                        
                                        if (!y_177425) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177427 = start_177156 + merge_sequential_arg2_177388;
                                        int8_t head_res_177428 = ((int8_t *) mem_param_181222.mem)[slice_177427];
                                        int64_t head_res_177429 = ((int64_t *) mem_param_181225.mem)[slice_177427];
                                        int16_t head_res_177430 = ((int16_t *) mem_param_181228.mem)[slice_177427];
                                        
                                        dummy_177417 = head_res_177428;
                                        dummy_177418 = head_res_177429;
                                        dummy_177419 = head_res_177430;
                                    }
                                    for (int64_t nest_i_182652 = 0; nest_i_182652 < merge_block_sizze_176920; nest_i_182652++) {
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + nest_i_182652] = dummy_177417;
                                    }
                                    for (int64_t nest_i_182653 = 0; nest_i_182653 < merge_block_sizze_176920; nest_i_182653++) {
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + nest_i_182653] = dummy_177418;
                                    }
                                    for (int64_t nest_i_182654 = 0; nest_i_182654 < merge_block_sizze_176920; nest_i_182654++) {
                                        ((int16_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + nest_i_182654] = dummy_177419;
                                    }
                                    
                                    int64_t data_177434;
                                    int64_t i_177439 = (int64_t) 0;
                                    
                                    for (int64_t k_177438 = 0; k_177438 < merge_block_sizze_176920; k_177438++) {
                                        int64_t j_177443 = sub64(k_177438, i_177439);
                                        bool cond_177444 = j_177443 == j_m_i_177390;
                                        bool cond_177445;
                                        
                                        if (cond_177444) {
                                            cond_177445 = 1;
                                        } else {
                                            bool cond_177446 = slt64(i_177439, j_m_i_177403);
                                            bool cond_f_res_177447;
                                            
                                            if (cond_177446) {
                                                bool x_180417 = sle64((int64_t) 0, j_177443);
                                                bool y_180418 = slt64(j_177443, j_m_i_177390);
                                                bool bounds_check_180419 = x_180417 && y_180418;
                                                bool index_certs_180420;
                                                
                                                if (!bounds_check_180419) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180426 = sle64((int64_t) 0, i_177439);
                                                bool bounds_check_180427 = cond_177446 && x_180426;
                                                bool index_certs_180428;
                                                
                                                if (!bounds_check_180427) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180421 = merge_sequential_arg2_177388 + j_177443;
                                                int64_t slice_180422 = start_177156 + slice_180421;
                                                int8_t leq_arg1_180423 = ((int8_t *) mem_param_181222.mem)[slice_180422];
                                                int64_t leq_arg1_180424 = ((int64_t *) mem_param_181225.mem)[slice_180422];
                                                int16_t leq_arg1_180425 = ((int16_t *) mem_param_181228.mem)[slice_180422];
                                                int64_t slice_180429 = defunc_0_f_res_177379 + i_177439;
                                                int64_t slice_180430 = start_177156 + slice_180429;
                                                int8_t leq_arg0_180431 = ((int8_t *) mem_param_181222.mem)[slice_180430];
                                                int64_t leq_arg0_180432 = ((int64_t *) mem_param_181225.mem)[slice_180430];
                                                int16_t leq_arg0_180433 = ((int16_t *) mem_param_181228.mem)[slice_180430];
                                                bool cond_180434 = leq_arg0_180431 == leq_arg1_180423;
                                                bool defunc_0_leq_res_t_res_180435 = sle64(leq_arg0_180432, leq_arg1_180424);
                                                bool defunc_0_leq_res_180436 = sle16(leq_arg0_180433, leq_arg1_180425);
                                                bool x_180437 = cond_180434 && defunc_0_leq_res_t_res_180435;
                                                bool x_180438 = !cond_180434;
                                                bool y_180439 = defunc_0_leq_res_180436 && x_180438;
                                                bool defunc_0_leq_res_180440 = x_180437 || y_180439;
                                                
                                                cond_f_res_177447 = defunc_0_leq_res_180440;
                                            } else {
                                                cond_f_res_177447 = 0;
                                            }
                                            cond_177445 = cond_f_res_177447;
                                        }
                                        
                                        int64_t loopres_177472;
                                        int8_t loopres_177473;
                                        int64_t loopres_177474;
                                        int16_t loopres_177475;
                                        
                                        if (cond_177445) {
                                            bool x_180442 = sle64((int64_t) 0, i_177439);
                                            bool y_180443 = slt64(i_177439, j_m_i_177403);
                                            bool bounds_check_180444 = x_180442 && y_180443;
                                            bool index_certs_180445;
                                            
                                            if (!bounds_check_180444) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177439, "] out of bounds for array of shape [", (long long) j_m_i_177403, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180441 = add64((int64_t) 1, i_177439);
                                            int64_t slice_180446 = defunc_0_f_res_177379 + i_177439;
                                            int64_t slice_180447 = start_177156 + slice_180446;
                                            int8_t tmp_180448 = ((int8_t *) mem_param_181222.mem)[slice_180447];
                                            int64_t tmp_180449 = ((int64_t *) mem_param_181225.mem)[slice_180447];
                                            int16_t tmp_180450 = ((int16_t *) mem_param_181228.mem)[slice_180447];
                                            
                                            loopres_177472 = tmp_180441;
                                            loopres_177473 = tmp_180448;
                                            loopres_177474 = tmp_180449;
                                            loopres_177475 = tmp_180450;
                                        } else {
                                            bool x_177486 = sle64((int64_t) 0, j_177443);
                                            bool y_177487 = slt64(j_177443, j_m_i_177390);
                                            bool bounds_check_177488 = x_177486 && y_177487;
                                            bool index_certs_177489;
                                            
                                            if (!bounds_check_177488) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177443, "] out of bounds for array of shape [", (long long) j_m_i_177390, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177490 = merge_sequential_arg2_177388 + j_177443;
                                            int64_t slice_177491 = start_177156 + slice_177490;
                                            int8_t tmp_177492 = ((int8_t *) mem_param_181222.mem)[slice_177491];
                                            int64_t tmp_177493 = ((int64_t *) mem_param_181225.mem)[slice_177491];
                                            int16_t tmp_177494 = ((int16_t *) mem_param_181228.mem)[slice_177491];
                                            
                                            loopres_177472 = i_177439;
                                            loopres_177473 = tmp_177492;
                                            loopres_177474 = tmp_177493;
                                            loopres_177475 = tmp_177494;
                                        }
                                        ((int8_t *) mem_181266)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177473;
                                        ((int64_t *) mem_181269)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177474;
                                        ((int16_t *) mem_181272)[i_180842 * merge_block_sizze_176920 + k_177438] = loopres_177475;
                                        
                                        int64_t i_tmp_182655 = loopres_177472;
                                        
                                        i_177439 = i_tmp_182655;
                                    }
                                    data_177434 = i_177439;
                                }
                                if (memblock_alloc(ctx, &mem_181321, flat_dim_177106, "mem_181321")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181321.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint8_t *) mem_181266, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181325, bytes_181268, "mem_181325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181325.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint64_t *) mem_181269, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_alloc(ctx, &mem_181329, bytes_181271, "mem_181329")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181329.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (uint16_t *) mem_181272, (int64_t) 0, (int64_t []) {merge_block_sizze_176920, (int64_t) 1}, (int64_t []) {num_blocks_177103, merge_block_sizze_176920});
                                if (memblock_set(ctx, &ext_mem_181362, &mem_181321, "mem_181321") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181359, &mem_181325, "mem_181325") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181356, &mem_181329, "mem_181329") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181230, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181233, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181359.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181236, i_180852 * next_stride_177083, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181356.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177083});
                            if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181376, bytes_181229, "mem_181376")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181376.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint8_t *) mem_181230, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181380, bytes_181232, "mem_181380")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181380.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint64_t *) mem_181233, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        if (memblock_alloc(ctx, &mem_181384, bytes_181235, "mem_181384")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181384.mem, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (uint16_t *) mem_181236, (int64_t) 0, (int64_t []) {next_stride_177083, (int64_t) 1}, (int64_t []) {num_merges_177087, next_stride_177083});
                        
                        bool loop_cond_177508 = slt64(next_stride_177083, flat_dim_176915);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182622, &mem_181376, "mem_181376") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182623, &mem_181380, "mem_181380") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182624, &mem_181384, "mem_181384") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182625 = bytes_181229;
                        bool loop_while_tmp_182626 = loop_cond_177508;
                        int64_t stride_tmp_182630 = next_stride_177083;
                        
                        if (memblock_set(ctx, &mem_param_181222, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181225, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181228, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177077 = loop_dz2084Uz2082U_tmp_182625;
                        loop_while_177078 = loop_while_tmp_182626;
                        stride_177082 = stride_tmp_182630;
                    }
                    if (memblock_set(ctx, &ext_mem_181394, &mem_param_181222, "mem_param_181222") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181393, &mem_param_181225, "mem_param_181225") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181392, &mem_param_181228, "mem_param_181228") != 0)
                        return 1;
                    data_177071 = loop_dz2084Uz2082U_177077;
                    data_177072 = loop_while_177078;
                    data_177076 = stride_177082;
                    if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
                        return 1;
                    
                    bool empty_slice_177509 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177510 = sle64((int64_t) 0, zs_lhs_176899);
                    bool i_p_m_t_s_leq_w_177511 = slt64(zs_lhs_176899, data_177071);
                    bool y_177512 = zzero_leq_i_p_m_t_s_177510 && i_p_m_t_s_leq_w_177511;
                    bool ok_or_empty_177513 = empty_slice_177509 || y_177512;
                    bool index_certs_177514;
                    
                    if (!ok_or_empty_177513) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176851, "] out of bounds for array of shape [", (long long) data_177071, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181403, &ext_mem_181394, "ext_mem_181394") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &ext_mem_181393, "ext_mem_181393") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181397, &ext_mem_181392, "ext_mem_181392") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181403.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181400.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181088.mem, ind_bottom_176852, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181397.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176854});
                if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
                    return 1;
                
                bool loop_cond_177550 = slt64(ubs_176842, threads_121207);
                bool loop_while_tmp_182589 = loop_cond_177550;
                int64_t p_tmp_182590 = ubs_176842;
                
                loop_while_176831 = loop_while_tmp_182589;
                p_176832 = p_tmp_182590;
            }
            defunc_0_mergeFunc_seq_res_176826 = loop_while_176831;
            defunc_0_mergeFunc_seq_res_176827 = p_176832;
            
            int64_t index_concat_branch_178367;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180465 = ((int64_t *) mem_181069)[index_concat_i_178364];
                
                index_concat_branch_178367 = index_concat_180465;
            } else {
                index_concat_branch_178367 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178361;
            
            if (index_concat_cmp_178363) {
                int64_t index_concat_180466 = ((int64_t *) mem_181071)[index_concat_i_178364];
                
                index_concat_branch_178361 = index_concat_180466;
            } else {
                index_concat_branch_178361 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181822, &mem_181084, "mem_181084") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181819, &mem_181086, "mem_181086") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181816, &mem_181088, "mem_181088") != 0)
                return 1;
            loopres_175590 = index_concat_branch_178367;
            loopres_175591 = index_concat_branch_178361;
        }
        for (int64_t i_180858 = 0; i_180858 < window_sizze_121206; i_180858++) {
            int8_t eta_p_177558 = ((int8_t *) ext_mem_181822.mem)[i_180858];
            int64_t eta_p_177559 = ((int64_t *) ext_mem_181819.mem)[i_180858];
            bool cond_177560 = eta_p_177558 == (int8_t) 0;
            int64_t tmp_177561;
            
            if (cond_177560) {
                int64_t tmp_t_res_180469 = add64(p_175562, eta_p_177559);
                
                tmp_177561 = tmp_t_res_180469;
            } else {
                int64_t tmp_f_res_177563 = add64(p_175563, eta_p_177559);
                
                tmp_177561 = tmp_f_res_177563;
            }
            ((int64_t *) mem_181056.mem)[ind_bottom_175566 + i_180858] = tmp_177561;
        }
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        
        int64_t next_lbs_177564 = add64(p_175562, loopres_175590);
        int64_t next_lbs_177565 = add64(p_175563, loopres_175591);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181822.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121206});
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181058.mem, ind_bottom_175566, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181816.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121206});
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        
        bool cond_177579 = slt64(next_lbs_177564, zl_rhs_175545);
        bool loop_cond_t_res_177580 = slt64(next_lbs_177565, zl_rhs_175547);
        bool x_177581 = cond_177579 && loop_cond_t_res_177580;
        bool loop_while_tmp_182473 = x_177581;
        int64_t p_tmp_182477 = next_lbs_177564;
        int64_t p_tmp_182478 = next_lbs_177565;
        
        loop_while_175558 = loop_while_tmp_182473;
        p_175562 = p_tmp_182477;
        p_175563 = p_tmp_182478;
    }
    defunc_0_merge_pipeline_res_175552 = loop_while_175558;
    defunc_0_merge_pipeline_res_175556 = p_175562;
    defunc_0_merge_pipeline_res_175557 = p_175563;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 = sub64(nb_121205, defunc_0_merge_pipeline_res_175557);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 = sub64(na_121204, defunc_0_merge_pipeline_res_175556);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    bool empty_slice_177585 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 == (int64_t) 0;
    int64_t m_177586 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 1);
    int64_t i_p_m_t_s_177587 = add64(defunc_0_merge_pipeline_res_175556, m_177586);
    bool zzero_leq_i_p_m_t_s_177588 = sle64((int64_t) 0, i_p_m_t_s_177587);
    bool i_p_m_t_s_leq_w_177589 = slt64(i_p_m_t_s_177587, na_121204);
    bool zzero_lte_i_177590 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175556);
    bool i_lte_j_177591 = sle64(defunc_0_merge_pipeline_res_175556, na_121204);
    bool y_177592 = i_p_m_t_s_leq_w_177589 && zzero_lte_i_177590;
    bool y_177593 = zzero_leq_i_p_m_t_s_177588 && y_177592;
    bool forwards_ok_177594 = i_lte_j_177591 && y_177593;
    bool ok_or_empty_177595 = empty_slice_177585 || forwards_ok_177594;
    bool index_certs_177596;
    
    if (!ok_or_empty_177595) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175556, ":", (long long) na_121204, "] out of bounds for array of shape [", (long long) na_121204, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177600 = slt64(na_121204, defunc_0_merge_pipeline_res_175556);
    bool valid_177601 = !bounds_invalid_upwards_177600;
    bool range_valid_c_177602;
    
    if (!valid_177601) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175556, "..<", (long long) na_121204, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177606 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582 == (int64_t) 0;
    int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582, (int64_t) 1);
    int64_t i_p_m_t_s_177608 = add64(defunc_0_merge_pipeline_res_175557, m_177607);
    bool zzero_leq_i_p_m_t_s_177609 = sle64((int64_t) 0, i_p_m_t_s_177608);
    bool i_p_m_t_s_leq_w_177610 = slt64(i_p_m_t_s_177608, nb_121205);
    bool zzero_lte_i_177611 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175557);
    bool i_lte_j_177612 = sle64(defunc_0_merge_pipeline_res_175557, nb_121205);
    bool y_177613 = i_p_m_t_s_leq_w_177610 && zzero_lte_i_177611;
    bool y_177614 = zzero_leq_i_p_m_t_s_177609 && y_177613;
    bool forwards_ok_177615 = i_lte_j_177612 && y_177614;
    bool ok_or_empty_177616 = empty_slice_177606 || forwards_ok_177615;
    bool index_certs_177617;
    
    if (!ok_or_empty_177616) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175557, ":", (long long) nb_121205, "] out of bounds for array of shape [", (long long) nb_121205, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177621 = slt64(nb_121205, defunc_0_merge_pipeline_res_175557);
    bool valid_177622 = !bounds_invalid_upwards_177621;
    bool range_valid_c_177623;
    
    if (!valid_177622) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175557, "..<", (long long) nb_121205, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181847 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    int64_t bytes_181849 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool cond_177630 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zs_lhs_177631 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, (int64_t) 1);
    int64_t zp_rhs_177632 = sdiv_safe64(zs_lhs_177631, (int64_t) 20);
    int64_t min_num_blocks_177633 = add64((int64_t) 1, zp_rhs_177632);
    bool loop_cond_177634 = slt64((int64_t) 1, min_num_blocks_177633);
    bool smallest_pow_2_geq_than_res_177635;
    int64_t smallest_pow_2_geq_than_res_177636;
    bool loop_while_177637;
    int64_t x_177638;
    
    loop_while_177637 = loop_cond_177634;
    x_177638 = (int64_t) 1;
    while (loop_while_177637) {
        int64_t loopres_177639 = mul64((int64_t) 2, x_177638);
        bool loop_cond_177640 = slt64(loopres_177639, min_num_blocks_177633);
        bool loop_while_tmp_182660 = loop_cond_177640;
        int64_t x_tmp_182661 = loopres_177639;
        
        loop_while_177637 = loop_while_tmp_182660;
        x_177638 = x_tmp_182661;
    }
    smallest_pow_2_geq_than_res_177635 = loop_while_177637;
    smallest_pow_2_geq_than_res_177636 = x_177638;
    
    bool zzero_177641 = smallest_pow_2_geq_than_res_177636 == (int64_t) 0;
    bool nonzzero_177642 = !zzero_177641;
    bool protect_assert_disj_177643 = cond_177630 || nonzzero_177642;
    bool nonzzero_cert_177644;
    
    if (!protect_assert_disj_177643) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177645 = sdiv_safe64(zs_lhs_177631, smallest_pow_2_geq_than_res_177636);
    int64_t block_sizze_177646 = add64((int64_t) 1, zp_rhs_177645);
    bool y_177653 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool protect_assert_disj_182175 = cond_177630 || y_177653;
    bool index_certs_177654;
    
    if (!protect_assert_disj_182175) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177680 = slt64(smallest_pow_2_geq_than_res_177636, (int64_t) 0);
    bool valid_177681 = !bounds_invalid_upwards_177680;
    bool protect_assert_disj_182185 = cond_177630 || valid_177681;
    bool range_valid_c_177682;
    
    if (!protect_assert_disj_182185) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177684 = slt64(block_sizze_177646, (int64_t) 0);
    bool valid_177685 = !bounds_invalid_upwards_177684;
    bool protect_assert_disj_182187 = cond_177630 || valid_177685;
    bool range_valid_c_177686;
    
    if (!protect_assert_disj_182187) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177646, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177688 = sle64(block_sizze_177646, (int64_t) 1);
    int64_t tmp_177689 = sub64(block_sizze_177646, (int64_t) 2);
    bool bounds_invalid_upwards_177690 = slt64(tmp_177689, (int64_t) 0);
    bool valid_177692 = !bounds_invalid_upwards_177690;
    bool protect_assert_disj_177693 = cond_177688 || valid_177692;
    bool protect_assert_disj_182189 = cond_177630 || protect_assert_disj_177693;
    bool range_valid_c_177694;
    
    if (!protect_assert_disj_182189) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177689, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178255 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178257 = sle64((int64_t) 0, zs_lhs_177631);
    bool i_p_m_t_s_leq_w_178258 = slt64(zs_lhs_177631, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
    bool y_178259 = zzero_leq_i_p_m_t_s_178257 && i_p_m_t_s_leq_w_178258;
    bool ok_or_empty_178260 = empty_slice_178255 || y_178259;
    bool index_certs_178261;
    
    if (!ok_or_empty_178260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178262 = add64(defunc_0_merge_pipeline_res_175556, defunc_0_merge_pipeline_res_175557);
    int64_t j_m_i_178263 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, final_buffer_178262);
    bool empty_slice_178264 = j_m_i_178263 == (int64_t) 0;
    int64_t m_178265 = sub64(j_m_i_178263, (int64_t) 1);
    int64_t i_p_m_t_s_178266 = add64(final_buffer_178262, m_178265);
    bool zzero_leq_i_p_m_t_s_178267 = sle64((int64_t) 0, i_p_m_t_s_178266);
    bool i_p_m_t_s_leq_w_178268 = slt64(i_p_m_t_s_178266, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool zzero_lte_i_178269 = sle64((int64_t) 0, final_buffer_178262);
    bool i_lte_j_178270 = sle64(final_buffer_178262, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541);
    bool y_178271 = i_p_m_t_s_leq_w_178268 && zzero_lte_i_178269;
    bool y_178272 = zzero_leq_i_p_m_t_s_178267 && y_178271;
    bool forwards_ok_178273 = i_lte_j_178270 && y_178272;
    bool ok_or_empty_178274 = empty_slice_178264 || forwards_ok_178273;
    bool index_certs_178275;
    
    if (!ok_or_empty_178274) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178262, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178276 = j_m_i_178263 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584;
    bool empty_or_match_cert_178277;
    
    if (!dim_match_178276) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178263, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181846, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "mem_181846")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182662 = 0; nest_i_182662 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; nest_i_182662++) {
        ((int8_t *) mem_181846.mem)[nest_i_182662] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181848, bytes_181847, "mem_181848")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182663 = 0; i_182663 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583; i_182663++) {
        int64_t x_182664 = defunc_0_merge_pipeline_res_175556 + i_182663 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[i_182663] = x_182664;
    }
    for (int64_t nest_i_182665 = 0; nest_i_182665 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; nest_i_182665++) {
        ((int8_t *) mem_181846.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + nest_i_182665] = (int8_t) 1;
    }
    for (int64_t i_182666 = 0; i_182666 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582; i_182666++) {
        int64_t x_182667 = defunc_0_merge_pipeline_res_175557 + i_182666 * (int64_t) 1;
        
        ((int64_t *) mem_181848.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583 + i_182666] = x_182667;
    }
    
    int64_t tmp_offs_182668 = (int64_t) 0;
    
    if (!(tmp_offs_182668 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182668 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181846.mem, tmp_offs_182668, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181846.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182668 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t tmp_offs_182669 = (int64_t) 0;
    
    if (!(tmp_offs_182669 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    if (!(tmp_offs_182669 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181848.mem, tmp_offs_182669, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181848.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    }
    tmp_offs_182669 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    if (memblock_alloc(ctx, &mem_181850, bytes_181849, "mem_181850")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182670 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181052.mem, defunc_0_merge_pipeline_res_175556, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181850.mem, tmp_offs_182670, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181053.mem, defunc_0_merge_pipeline_res_175557, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582});
    tmp_offs_182670 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177582;
    
    int64_t flat_dim_177647 = smallest_pow_2_geq_than_res_177636 * block_sizze_177646;
    bool x_182170 = !cond_177630;
    int64_t greatest_divisor_leq_than_arg1_177651 = mul64((int64_t) 2, block_sizze_177646);
    int64_t merge_block_sizze_177652;
    
    if (x_182170) {
        int64_t x_182172;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182172, (int64_t) 8, greatest_divisor_leq_than_arg1_177651) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177652 = x_182172;
    } else {
        merge_block_sizze_177652 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178327 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, (int64_t) 0);
    int8_t index_concat_branch_178331 = btoi_bool_i8(index_concat_cmp_178327);
    int64_t index_concat_i_180471 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
    int64_t index_primexp_180472 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180471);
    int64_t index_concat_branch_178325;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178325 = index_primexp_180472;
    } else {
        index_concat_branch_178325 = defunc_0_merge_pipeline_res_175556;
    }
    
    bool x_182166 = !index_concat_cmp_178327;
    bool protect_cond_conj_182176 = x_182166 && x_182170;
    int16_t index_concat_178318;
    
    if (protect_cond_conj_182176) {
        int16_t x_182168 = ((int16_t *) a_list_mem_181052.mem)[defunc_0_merge_pipeline_res_175556];
        
        index_concat_178318 = x_182168;
    } else {
        index_concat_178318 = (int16_t) 0;
    }
    
    bool protect_cond_conj_182177 = index_concat_cmp_178327 && x_182170;
    int16_t index_concat_180475;
    
    if (protect_cond_conj_182177) {
        int16_t x_182164 = ((int16_t *) b_list_mem_181053.mem)[index_primexp_180472];
        
        index_concat_180475 = x_182164;
    } else {
        index_concat_180475 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_178319;
    
    if (index_concat_cmp_178327) {
        index_concat_branch_178319 = index_concat_180475;
    } else {
        index_concat_branch_178319 = index_concat_178318;
    }
    
    int8_t defunc_0_reduce_res_180706;
    int64_t defunc_0_reduce_res_180707;
    int16_t defunc_0_reduce_res_180708;
    
    if (x_182170) {
        int8_t x_182178;
        int64_t x_182179;
        int16_t x_182180;
        int8_t redout_180860;
        int64_t redout_180861;
        int16_t redout_180862;
        
        redout_180860 = index_concat_branch_178331;
        redout_180861 = index_concat_branch_178325;
        redout_180862 = index_concat_branch_178319;
        for (int64_t i_180863 = 0; i_180863 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584; i_180863++) {
            bool index_concat_cmp_180934 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, i_180863);
            int8_t index_concat_branch_180938 = btoi_bool_i8(index_concat_cmp_180934);
            int64_t index_concat_branch_180932;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180929 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t index_primexp_181022 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180929);
                
                index_concat_branch_180932 = index_primexp_181022;
            } else {
                int64_t index_primexp_181024 = add64(defunc_0_merge_pipeline_res_175556, i_180863);
                
                index_concat_branch_180932 = index_primexp_181024;
            }
            
            int16_t index_concat_branch_180926;
            
            if (index_concat_cmp_180934) {
                int64_t index_concat_i_180923 = sub64(i_180863, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                int64_t slice_181019 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180923;
                int16_t index_concat_180924 = ((int16_t *) b_list_mem_181053.mem)[slice_181019];
                
                index_concat_branch_180926 = index_concat_180924;
            } else {
                int64_t slice_181020 = defunc_0_merge_pipeline_res_175556 + i_180863;
                int16_t index_concat_180925 = ((int16_t *) a_list_mem_181052.mem)[slice_181020];
                
                index_concat_branch_180926 = index_concat_180925;
            }
            
            bool eq_x_y_181037 = redout_180860 == (int8_t) 1;
            bool eq_x_zz_181038 = redout_180860 == (int8_t) 0;
            bool p_and_eq_x_y_181039 = index_concat_cmp_180934 && eq_x_y_181037;
            bool not_p_181040 = !index_concat_cmp_180934;
            bool p_and_eq_x_y_181041 = eq_x_zz_181038 && not_p_181040;
            bool cond_177670 = p_and_eq_x_y_181039 || p_and_eq_x_y_181041;
            bool defunc_0_leq_res_t_res_177671 = sle64(redout_180861, index_concat_branch_180932);
            bool defunc_0_leq_res_177672 = sle16(redout_180862, index_concat_branch_180926);
            bool x_177673 = cond_177670 && defunc_0_leq_res_t_res_177671;
            bool x_177674 = !cond_177670;
            bool y_177675 = defunc_0_leq_res_177672 && x_177674;
            bool defunc_0_leq_res_177676 = x_177673 || y_177675;
            int8_t defunc_0_op_res_177677;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177677 = index_concat_branch_180938;
            } else {
                defunc_0_op_res_177677 = redout_180860;
            }
            
            int64_t defunc_0_op_res_177678;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177678 = index_concat_branch_180932;
            } else {
                defunc_0_op_res_177678 = redout_180861;
            }
            
            int16_t defunc_0_op_res_177679;
            
            if (defunc_0_leq_res_177676) {
                defunc_0_op_res_177679 = index_concat_branch_180926;
            } else {
                defunc_0_op_res_177679 = redout_180862;
            }
            
            int8_t redout_tmp_182671 = defunc_0_op_res_177677;
            int64_t redout_tmp_182672 = defunc_0_op_res_177678;
            int16_t redout_tmp_182673 = defunc_0_op_res_177679;
            
            redout_180860 = redout_tmp_182671;
            redout_180861 = redout_tmp_182672;
            redout_180862 = redout_tmp_182673;
        }
        x_182178 = redout_180860;
        x_182179 = redout_180861;
        x_182180 = redout_180862;
        defunc_0_reduce_res_180706 = x_182178;
        defunc_0_reduce_res_180707 = x_182179;
        defunc_0_reduce_res_180708 = x_182180;
    } else {
        defunc_0_reduce_res_180706 = (int8_t) 0;
        defunc_0_reduce_res_180707 = (int64_t) 0;
        defunc_0_reduce_res_180708 = (int16_t) 0;
    }
    
    int64_t distance_177691 = add64((int64_t) 1, tmp_177689);
    int64_t binop_x_181853 = (int64_t) 8 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181854 = block_sizze_177646 * binop_x_181853;
    int64_t binop_x_181856 = (int64_t) 2 * smallest_pow_2_geq_than_res_177636;
    int64_t bytes_181857 = block_sizze_177646 * binop_x_181856;
    int64_t bytes_181872 = (int64_t) 8 * block_sizze_177646;
    bool loop_cond_177800 = slt64(block_sizze_177646, flat_dim_177647);
    bool zzero_177801 = merge_block_sizze_177652 == (int64_t) 0;
    bool nonzzero_177802 = !zzero_177801;
    
    if (cond_177630) {
        if (memblock_set(ctx, &ext_mem_182145, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &mem_181850, "mem_181850") != 0)
            return 1;
    } else {
        if (mem_181852_cached_sizze_183046 < flat_dim_177647) {
            err = lexical_realloc(ctx, &mem_181852, &mem_181852_cached_sizze_183046, flat_dim_177647);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_183047 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_183047, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181858_cached_sizze_183048 < bytes_181857) {
            err = lexical_realloc(ctx, &mem_181858, &mem_181858_cached_sizze_183048, bytes_181857);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181871_cached_sizze_183049 < block_sizze_177646) {
            err = lexical_realloc(ctx, &mem_181871, &mem_181871_cached_sizze_183049, block_sizze_177646);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181873_cached_sizze_183050 < bytes_181872) {
            err = lexical_realloc(ctx, &mem_181873, &mem_181873_cached_sizze_183050, bytes_181872);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181875_cached_sizze_183051 < greatest_divisor_leq_than_arg1_177651) {
            err = lexical_realloc(ctx, &mem_181875, &mem_181875_cached_sizze_183051, greatest_divisor_leq_than_arg1_177651);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180880 = 0; i_180880 < smallest_pow_2_geq_than_res_177636; i_180880++) {
            int64_t zp_lhs_177699 = mul64(block_sizze_177646, i_180880);
            
            for (int64_t i_180870 = 0; i_180870 < block_sizze_177646; i_180870++) {
                int64_t k_177704 = add64(zp_lhs_177699, i_180870);
                bool cond_177705 = slt64(k_177704, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584);
                int8_t lifted_lambda_res_177706;
                int64_t lifted_lambda_res_177707;
                int16_t lifted_lambda_res_177708;
                
                if (cond_177705) {
                    bool x_180481 = sle64((int64_t) 0, k_177704);
                    bool bounds_check_180482 = cond_177705 && x_180481;
                    bool index_certs_180483;
                    
                    if (!bounds_check_180482) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177704, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180484 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583, k_177704);
                    int8_t index_concat_branch_180485 = btoi_bool_i8(index_concat_cmp_180484);
                    int64_t index_concat_branch_180486;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180487 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t index_primexp_180488 = add64(defunc_0_merge_pipeline_res_175557, index_concat_i_180487);
                        
                        index_concat_branch_180486 = index_primexp_180488;
                    } else {
                        int64_t index_primexp_180489 = add64(defunc_0_merge_pipeline_res_175556, k_177704);
                        
                        index_concat_branch_180486 = index_primexp_180489;
                    }
                    
                    int16_t index_concat_branch_180490;
                    
                    if (index_concat_cmp_180484) {
                        int64_t index_concat_i_180491 = sub64(k_177704, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177583);
                        int64_t slice_180492 = defunc_0_merge_pipeline_res_175557 + index_concat_i_180491;
                        int16_t index_concat_180493 = ((int16_t *) b_list_mem_181053.mem)[slice_180492];
                        
                        index_concat_branch_180490 = index_concat_180493;
                    } else {
                        int64_t slice_180494 = defunc_0_merge_pipeline_res_175556 + k_177704;
                        int16_t index_concat_180495 = ((int16_t *) a_list_mem_181052.mem)[slice_180494];
                        
                        index_concat_branch_180490 = index_concat_180495;
                    }
                    lifted_lambda_res_177706 = index_concat_branch_180485;
                    lifted_lambda_res_177707 = index_concat_branch_180486;
                    lifted_lambda_res_177708 = index_concat_branch_180490;
                } else {
                    lifted_lambda_res_177706 = defunc_0_reduce_res_180706;
                    lifted_lambda_res_177707 = defunc_0_reduce_res_180707;
                    lifted_lambda_res_177708 = defunc_0_reduce_res_180708;
                }
                ((int8_t *) mem_181871)[i_180870] = lifted_lambda_res_177706;
                ((int64_t *) mem_181873)[i_180870] = lifted_lambda_res_177707;
                ((int16_t *) mem_181875)[i_180870] = lifted_lambda_res_177708;
            }
            if (!cond_177688) {
                for (int64_t i_177721 = 0; i_177721 < distance_177691; i_177721++) {
                    int64_t gt_arg1_177725 = add64((int64_t) 1, i_177721);
                    bool x_177726 = sle64((int64_t) 0, gt_arg1_177725);
                    bool y_177727 = slt64(gt_arg1_177725, block_sizze_177646);
                    bool bounds_check_177728 = x_177726 && y_177727;
                    bool index_certs_177729;
                    
                    if (!bounds_check_177728) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177725, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177733 = slt64(i_177721, block_sizze_177646);
                    bool index_certs_177734;
                    
                    if (!y_177733) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177721, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177730 = ((int8_t *) mem_181871)[gt_arg1_177725];
                    int64_t gt_arg1_177731 = ((int64_t *) mem_181873)[gt_arg1_177725];
                    int16_t gt_arg1_177732 = ((int16_t *) mem_181875)[gt_arg1_177725];
                    int8_t gt_arg0_177735 = ((int8_t *) mem_181871)[i_177721];
                    int64_t gt_arg0_177736 = ((int64_t *) mem_181873)[i_177721];
                    int16_t gt_arg0_177737 = ((int16_t *) mem_181875)[i_177721];
                    bool cond_177738 = gt_arg0_177735 == gt_arg1_177730;
                    bool defunc_0_leq_res_t_res_177739 = sle64(gt_arg0_177736, gt_arg1_177731);
                    bool defunc_0_leq_res_177740 = sle16(gt_arg0_177737, gt_arg1_177732);
                    bool x_177741 = cond_177738 && defunc_0_leq_res_t_res_177739;
                    bool x_177742 = !cond_177738;
                    bool y_177743 = defunc_0_leq_res_177740 && x_177742;
                    bool defunc_0_leq_res_177744 = x_177741 || y_177743;
                    bool defunc_0_lifted_gt_res_177745 = !defunc_0_leq_res_177744;
                    bool s_177746;
                    int64_t s_177750;
                    bool loop_while_177751;
                    int64_t j_177755;
                    
                    loop_while_177751 = defunc_0_lifted_gt_res_177745;
                    j_177755 = i_177721;
                    while (loop_while_177751) {
                        bool x_177756 = sle64((int64_t) 0, j_177755);
                        bool y_177757 = slt64(j_177755, block_sizze_177646);
                        bool bounds_check_177758 = x_177756 && y_177757;
                        bool index_certs_177759;
                        
                        if (!bounds_check_177758) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177755, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177763 = add64((int64_t) 1, j_177755);
                        bool x_177764 = sle64((int64_t) 0, copy_arg0_177763);
                        bool y_177765 = slt64(copy_arg0_177763, block_sizze_177646);
                        bool bounds_check_177766 = x_177764 && y_177765;
                        bool index_certs_177767;
                        
                        if (!bounds_check_177766) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177763, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177760 = ((int8_t *) mem_181871)[j_177755];
                        int64_t copy_arg0_177761 = ((int64_t *) mem_181873)[j_177755];
                        int16_t copy_arg0_177762 = ((int16_t *) mem_181875)[j_177755];
                        int8_t copy_arg0_177768 = ((int8_t *) mem_181871)[copy_arg0_177763];
                        int64_t copy_arg0_177769 = ((int64_t *) mem_181873)[copy_arg0_177763];
                        int16_t copy_arg0_177770 = ((int16_t *) mem_181875)[copy_arg0_177763];
                        
                        ((int8_t *) mem_181871)[j_177755] = copy_arg0_177768;
                        ((int64_t *) mem_181873)[j_177755] = copy_arg0_177769;
                        ((int16_t *) mem_181875)[j_177755] = copy_arg0_177770;
                        ((int8_t *) mem_181871)[copy_arg0_177763] = copy_arg0_177760;
                        ((int64_t *) mem_181873)[copy_arg0_177763] = copy_arg0_177761;
                        ((int16_t *) mem_181875)[copy_arg0_177763] = copy_arg0_177762;
                        
                        int64_t tmp_177777 = sub64(j_177755, (int64_t) 1);
                        bool cond_177778 = sle64((int64_t) 0, tmp_177777);
                        bool loop_cond_177779;
                        
                        if (cond_177778) {
                            bool y_180499 = slt64(tmp_177777, block_sizze_177646);
                            bool bounds_check_180500 = cond_177778 && y_180499;
                            bool index_certs_180501;
                            
                            if (!bounds_check_180500) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177777, "] out of bounds for array of shape [", (long long) block_sizze_177646, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180496 = ((int8_t *) mem_181871)[j_177755];
                            int64_t gt_arg1_180497 = ((int64_t *) mem_181873)[j_177755];
                            int16_t gt_arg1_180498 = ((int16_t *) mem_181875)[j_177755];
                            int8_t gt_arg0_180502 = ((int8_t *) mem_181871)[tmp_177777];
                            int64_t gt_arg0_180503 = ((int64_t *) mem_181873)[tmp_177777];
                            int16_t gt_arg0_180504 = ((int16_t *) mem_181875)[tmp_177777];
                            bool cond_180505 = gt_arg0_180502 == gt_arg1_180496;
                            bool defunc_0_leq_res_t_res_180506 = sle64(gt_arg0_180503, gt_arg1_180497);
                            bool defunc_0_leq_res_180507 = sle16(gt_arg0_180504, gt_arg1_180498);
                            bool x_180508 = cond_180505 && defunc_0_leq_res_t_res_180506;
                            bool x_180509 = !cond_180505;
                            bool y_180510 = defunc_0_leq_res_180507 && x_180509;
                            bool defunc_0_leq_res_180511 = x_180508 || y_180510;
                            bool defunc_0_lifted_gt_res_180512 = !defunc_0_leq_res_180511;
                            
                            loop_cond_177779 = defunc_0_lifted_gt_res_180512;
                        } else {
                            loop_cond_177779 = 0;
                        }
                        
                        bool loop_while_tmp_182683 = loop_cond_177779;
                        int64_t j_tmp_182687 = tmp_177777;
                        
                        loop_while_177751 = loop_while_tmp_182683;
                        j_177755 = j_tmp_182687;
                    }
                    s_177746 = loop_while_177751;
                    s_177750 = j_177755;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181852, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181871, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181855, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181873, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181858, i_180880 * block_sizze_177646, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181875, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177646});
        }
        if (memblock_alloc(ctx, &mem_181952, flat_dim_177647, "mem_181952")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181952.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint8_t *) mem_181852, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181956, bytes_181854, "mem_181956")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181956.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        if (memblock_alloc(ctx, &mem_181960, bytes_181857, "mem_181960")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181960.mem, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (uint16_t *) mem_181858, (int64_t) 0, (int64_t []) {block_sizze_177646, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177636, block_sizze_177646});
        
        int64_t data_177803;
        bool data_177804;
        int64_t data_177808;
        int64_t loop_dz2084Uz2082U_177809;
        bool loop_while_177810;
        int64_t stride_177814;
        
        if (memblock_set(ctx, &mem_param_181964, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181967, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181970, &mem_181960, "mem_181960") != 0)
            return 1;
        loop_dz2084Uz2082U_177809 = flat_dim_177647;
        loop_while_177810 = loop_cond_177800;
        stride_177814 = block_sizze_177646;
        while (loop_while_177810) {
            int64_t next_stride_177815 = mul64((int64_t) 2, stride_177814);
            bool zzero_177816 = next_stride_177815 == (int64_t) 0;
            bool nonzzero_177817 = !zzero_177816;
            bool nonzzero_cert_177818;
            
            if (!nonzzero_177817) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177819 = sdiv64(flat_dim_177647, next_stride_177815);
            bool bounds_invalid_upwards_177820 = slt64(num_merges_177819, (int64_t) 0);
            bool valid_177821 = !bounds_invalid_upwards_177820;
            bool range_valid_c_177822;
            
            if (!valid_177821) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177819, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177824 = sub64(next_stride_177815, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177825 = sle64((int64_t) 0, m_177824);
            bool cond_177827 = slt64(next_stride_177815, (int64_t) 10);
            bool protect_assert_disj_177828 = nonzzero_177802 || cond_177827;
            bool nonzzero_cert_177829;
            
            if (!protect_assert_disj_177828) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177830 = smod_safe64(next_stride_177815, merge_block_sizze_177652);
            bool num_blocks_177831 = zeze_lhs_177830 == (int64_t) 0;
            bool protect_assert_disj_177832 = cond_177827 || num_blocks_177831;
            bool assert_c_177833;
            
            if (!protect_assert_disj_177832) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177835 = sdiv_safe64(next_stride_177815, merge_block_sizze_177652);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836 = add64((int64_t) 1, num_blocks_177835);
            int64_t j_m_i_177837 = sub64(next_stride_177815, stride_177814);
            int64_t flat_dim_177838 = merge_block_sizze_177652 * num_blocks_177835;
            bool bounds_invalid_upwards_177839 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, (int64_t) 0);
            bool empty_slice_177840 = j_m_i_177837 == (int64_t) 0;
            int64_t m_177841 = sub64(j_m_i_177837, (int64_t) 1);
            bool zzero_lte_i_177842 = sle64((int64_t) 0, stride_177814);
            bool i_lte_j_177843 = sle64(stride_177814, next_stride_177815);
            bool empty_slice_177844 = stride_177814 == (int64_t) 0;
            int64_t m_177845 = sub64(stride_177814, (int64_t) 1);
            bool bounds_invalid_upwards_177846 = slt64(num_blocks_177835, (int64_t) 0);
            bool cond_177847 = slt64((int64_t) 0, stride_177814);
            bool valid_177848 = !bounds_invalid_upwards_177839;
            int64_t i_p_m_t_s_177849 = add64(stride_177814, m_177841);
            bool zzero_leq_i_p_m_t_s_177850 = sle64((int64_t) 0, m_177845);
            bool i_p_m_t_s_leq_w_177851 = slt64(m_177845, next_stride_177815);
            bool valid_177852 = !bounds_invalid_upwards_177846;
            bool i_p_m_t_s_leq_w_177853 = slt64(m_177824, flat_dim_177838);
            bool y_177854 = slt64((int64_t) 0, j_m_i_177837);
            bool protect_assert_disj_177855 = cond_177827 || valid_177848;
            bool range_valid_c_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177857 = sle64((int64_t) 0, i_p_m_t_s_177849);
            bool i_p_m_t_s_leq_w_177858 = slt64(i_p_m_t_s_177849, next_stride_177815);
            bool y_177859 = zzero_leq_i_p_m_t_s_177850 && i_p_m_t_s_leq_w_177851;
            bool protect_assert_disj_177860 = cond_177827 || valid_177852;
            bool range_valid_c_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177835, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177862 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177853;
            bool y_177863 = zzero_lte_i_177842 && i_p_m_t_s_leq_w_177858;
            bool forwards_ok_177864 = zzero_lte_i_177842 && y_177859;
            bool ok_or_empty_177865 = zzero_177816 || y_177862;
            bool protect_assert_disj_177866 = cond_177847 || y_177854;
            bool y_177867 = zzero_leq_i_p_m_t_s_177857 && y_177863;
            bool ok_or_empty_177868 = empty_slice_177844 || forwards_ok_177864;
            bool protect_assert_disj_177869 = cond_177827 || ok_or_empty_177865;
            bool index_certs_177870;
            
            if (!protect_assert_disj_177869) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) flat_dim_177838, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177871 = !cond_177827;
            bool protect_assert_disj_177872 = protect_assert_disj_177866 || loop_not_taken_177871;
            bool index_certs_177873;
            
            if (!protect_assert_disj_177872) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177874 = i_lte_j_177843 && y_177867;
            bool protect_assert_disj_177875 = cond_177827 || ok_or_empty_177868;
            bool index_certs_177876;
            
            if (!protect_assert_disj_177875) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177877 = ok_or_empty_177868 || loop_not_taken_177871;
            bool index_certs_177878;
            
            if (!protect_assert_disj_177877) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177814, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177879 = empty_slice_177840 || forwards_ok_177874;
            bool protect_assert_disj_177880 = cond_177827 || ok_or_empty_177879;
            bool index_certs_177881;
            
            if (!protect_assert_disj_177880) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177882 = loop_not_taken_177871 || ok_or_empty_177879;
            bool index_certs_177883;
            
            if (!protect_assert_disj_177882) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177814, ":] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181971 = next_stride_177815 * num_merges_177819;
            int64_t binop_x_181973 = (int64_t) 8 * num_merges_177819;
            int64_t bytes_181974 = next_stride_177815 * binop_x_181973;
            int64_t binop_x_181976 = (int64_t) 2 * num_merges_177819;
            int64_t bytes_181977 = next_stride_177815 * binop_x_181976;
            bool i_lte_j_177826 = sle64((int64_t) 0, next_stride_177815);
            
            if (mem_181972_cached_sizze_183052 < bytes_181971) {
                err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_183052, bytes_181971);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181975_cached_sizze_183053 < bytes_181974) {
                err = lexical_realloc(ctx, &mem_181975, &mem_181975_cached_sizze_183053, bytes_181974);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181978_cached_sizze_183054 < bytes_181977) {
                err = lexical_realloc(ctx, &mem_181978, &mem_181978_cached_sizze_183054, bytes_181977);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181991 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836;
            int64_t binop_x_182009 = (int64_t) 8 * num_blocks_177835;
            int64_t bytes_182010 = merge_block_sizze_177652 * binop_x_182009;
            int64_t binop_x_182012 = (int64_t) 2 * num_blocks_177835;
            int64_t bytes_182013 = merge_block_sizze_177652 * binop_x_182012;
            int64_t bytes_182074 = (int64_t) 16 * stride_177814;
            int64_t bytes_182076 = (int64_t) 4 * stride_177814;
            
            for (int64_t i_180907 = 0; i_180907 < num_merges_177819; i_180907++) {
                int64_t start_177888 = mul64(next_stride_177815, i_180907);
                int64_t j_m_i_177889 = sub64(loop_dz2084Uz2082U_177809, start_177888);
                bool empty_slice_177890 = j_m_i_177889 == (int64_t) 0;
                int64_t m_177891 = sub64(j_m_i_177889, (int64_t) 1);
                int64_t i_p_m_t_s_177892 = add64(start_177888, m_177891);
                bool zzero_leq_i_p_m_t_s_177893 = sle64((int64_t) 0, i_p_m_t_s_177892);
                bool i_p_m_t_s_leq_w_177894 = slt64(i_p_m_t_s_177892, loop_dz2084Uz2082U_177809);
                bool zzero_lte_i_177895 = sle64((int64_t) 0, start_177888);
                bool i_lte_j_177896 = sle64(start_177888, loop_dz2084Uz2082U_177809);
                bool y_177897 = i_p_m_t_s_leq_w_177894 && zzero_lte_i_177895;
                bool y_177898 = zzero_leq_i_p_m_t_s_177893 && y_177897;
                bool forwards_ok_177899 = i_lte_j_177896 && y_177898;
                bool ok_or_empty_177900 = empty_slice_177890 || forwards_ok_177899;
                bool index_certs_177901;
                
                if (!ok_or_empty_177900) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177888, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177809, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177902 = slt64(m_177824, j_m_i_177889);
                bool y_177903 = zzero_leq_i_p_m_t_s_177825 && i_p_m_t_s_leq_w_177902;
                bool forwards_ok_177904 = i_lte_j_177826 && y_177903;
                bool ok_or_empty_177905 = zzero_177816 || forwards_ok_177904;
                bool index_certs_177906;
                
                if (!ok_or_empty_177905) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177815, "] out of bounds for array of shape [", (long long) j_m_i_177889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177827) {
                    int8_t dummy_180551;
                    int64_t dummy_180552;
                    int16_t dummy_180553;
                    
                    if (cond_177847) {
                        int8_t head_res_180554 = ((int8_t *) mem_param_181964.mem)[start_177888];
                        int64_t head_res_180555 = ((int64_t *) mem_param_181967.mem)[start_177888];
                        int16_t head_res_180556 = ((int16_t *) mem_param_181970.mem)[start_177888];
                        
                        dummy_180551 = head_res_180554;
                        dummy_180552 = head_res_180555;
                        dummy_180553 = head_res_180556;
                    } else {
                        int64_t slice_180557 = stride_177814 + start_177888;
                        int8_t head_res_180558 = ((int8_t *) mem_param_181964.mem)[slice_180557];
                        int64_t head_res_180559 = ((int64_t *) mem_param_181967.mem)[slice_180557];
                        int16_t head_res_180560 = ((int16_t *) mem_param_181970.mem)[slice_180557];
                        
                        dummy_180551 = head_res_180558;
                        dummy_180552 = head_res_180559;
                        dummy_180553 = head_res_180560;
                    }
                    if (memblock_alloc(ctx, &mem_182073, next_stride_177815, "mem_182073")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182700 = 0; nest_i_182700 < next_stride_177815; nest_i_182700++) {
                        ((int8_t *) mem_182073.mem)[nest_i_182700] = dummy_180551;
                    }
                    if (memblock_alloc(ctx, &mem_182075, bytes_182074, "mem_182075")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182701 = 0; nest_i_182701 < next_stride_177815; nest_i_182701++) {
                        ((int64_t *) mem_182075.mem)[nest_i_182701] = dummy_180552;
                    }
                    if (memblock_alloc(ctx, &mem_182077, bytes_182076, "mem_182077")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182702 = 0; nest_i_182702 < next_stride_177815; nest_i_182702++) {
                        ((int16_t *) mem_182077.mem)[nest_i_182702] = dummy_180553;
                    }
                    
                    int64_t data_180564;
                    int64_t i_180569 = (int64_t) 0;
                    
                    for (int64_t k_180568 = 0; k_180568 < next_stride_177815; k_180568++) {
                        int64_t j_180573 = sub64(k_180568, i_180569);
                        bool cond_180574 = j_180573 == j_m_i_177837;
                        bool cond_180575;
                        
                        if (cond_180574) {
                            cond_180575 = 1;
                        } else {
                            bool cond_180576 = slt64(i_180569, stride_177814);
                            bool cond_f_res_180577;
                            
                            if (cond_180576) {
                                bool x_180578 = sle64((int64_t) 0, j_180573);
                                bool y_180579 = slt64(j_180573, j_m_i_177837);
                                bool bounds_check_180580 = x_180578 && y_180579;
                                bool index_certs_180581;
                                
                                if (!bounds_check_180580) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180587 = sle64((int64_t) 0, i_180569);
                                bool bounds_check_180588 = cond_180576 && x_180587;
                                bool index_certs_180589;
                                
                                if (!bounds_check_180588) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180582 = stride_177814 + j_180573;
                                int64_t slice_180583 = start_177888 + slice_180582;
                                int8_t leq_arg1_180584 = ((int8_t *) mem_param_181964.mem)[slice_180583];
                                int64_t leq_arg1_180585 = ((int64_t *) mem_param_181967.mem)[slice_180583];
                                int16_t leq_arg1_180586 = ((int16_t *) mem_param_181970.mem)[slice_180583];
                                int64_t slice_180590 = start_177888 + i_180569;
                                int8_t leq_arg0_180591 = ((int8_t *) mem_param_181964.mem)[slice_180590];
                                int64_t leq_arg0_180592 = ((int64_t *) mem_param_181967.mem)[slice_180590];
                                int16_t leq_arg0_180593 = ((int16_t *) mem_param_181970.mem)[slice_180590];
                                bool cond_180594 = leq_arg0_180591 == leq_arg1_180584;
                                bool defunc_0_leq_res_t_res_180595 = sle64(leq_arg0_180592, leq_arg1_180585);
                                bool defunc_0_leq_res_180596 = sle16(leq_arg0_180593, leq_arg1_180586);
                                bool x_180597 = cond_180594 && defunc_0_leq_res_t_res_180595;
                                bool x_180598 = !cond_180594;
                                bool y_180599 = defunc_0_leq_res_180596 && x_180598;
                                bool defunc_0_leq_res_180600 = x_180597 || y_180599;
                                
                                cond_f_res_180577 = defunc_0_leq_res_180600;
                            } else {
                                cond_f_res_180577 = 0;
                            }
                            cond_180575 = cond_f_res_180577;
                        }
                        
                        int64_t loopres_180601;
                        int8_t loopres_180602;
                        int64_t loopres_180603;
                        int16_t loopres_180604;
                        
                        if (cond_180575) {
                            bool x_180606 = sle64((int64_t) 0, i_180569);
                            bool y_180607 = slt64(i_180569, stride_177814);
                            bool bounds_check_180608 = x_180606 && y_180607;
                            bool index_certs_180609;
                            
                            if (!bounds_check_180608) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180569, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180605 = add64((int64_t) 1, i_180569);
                            int64_t slice_180610 = start_177888 + i_180569;
                            int8_t tmp_180611 = ((int8_t *) mem_param_181964.mem)[slice_180610];
                            int64_t tmp_180612 = ((int64_t *) mem_param_181967.mem)[slice_180610];
                            int16_t tmp_180613 = ((int16_t *) mem_param_181970.mem)[slice_180610];
                            
                            loopres_180601 = tmp_180605;
                            loopres_180602 = tmp_180611;
                            loopres_180603 = tmp_180612;
                            loopres_180604 = tmp_180613;
                        } else {
                            bool x_180614 = sle64((int64_t) 0, j_180573);
                            bool y_180615 = slt64(j_180573, j_m_i_177837);
                            bool bounds_check_180616 = x_180614 && y_180615;
                            bool index_certs_180617;
                            
                            if (!bounds_check_180616) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180573, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180618 = stride_177814 + j_180573;
                            int64_t slice_180619 = start_177888 + slice_180618;
                            int8_t tmp_180620 = ((int8_t *) mem_param_181964.mem)[slice_180619];
                            int64_t tmp_180621 = ((int64_t *) mem_param_181967.mem)[slice_180619];
                            int16_t tmp_180622 = ((int16_t *) mem_param_181970.mem)[slice_180619];
                            
                            loopres_180601 = i_180569;
                            loopres_180602 = tmp_180620;
                            loopres_180603 = tmp_180621;
                            loopres_180604 = tmp_180622;
                        }
                        ((int8_t *) mem_182073.mem)[k_180568] = loopres_180602;
                        ((int64_t *) mem_182075.mem)[k_180568] = loopres_180603;
                        ((int16_t *) mem_182077.mem)[k_180568] = loopres_180604;
                        
                        int64_t i_tmp_182703 = loopres_180601;
                        
                        i_180569 = i_tmp_182703;
                    }
                    data_180564 = i_180569;
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182073, "mem_182073") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182075, "mem_182075") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182077, "mem_182077") != 0)
                        return 1;
                } else {
                    if (mem_181992_cached_sizze_183055 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181992, &mem_181992_cached_sizze_183055, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_183056 < bytes_181991) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_183056, bytes_181991);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180888 = 0; i_180888 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836; i_180888++) {
                        int64_t split_count_arg3_177989 = mul64(merge_block_sizze_177652, i_180888);
                        int64_t defunc_0_split_count_res_177990;
                        int64_t defunc_0_split_count_res_177991;
                        int64_t defunc_0_split_count_res_177992;
                        int64_t defunc_0_split_count_res_177993;
                        int64_t defunc_0_split_count_res_177994;
                        
                        if (futrts_lifted_normalizze_9082(ctx, &defunc_0_split_count_res_177990, &defunc_0_split_count_res_177991, &defunc_0_split_count_res_177992, &defunc_0_split_count_res_177993, &defunc_0_split_count_res_177994, (int64_t) 0, stride_177814, (int64_t) 0, j_m_i_177837, split_count_arg3_177989) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177995 = slt64((int64_t) 0, defunc_0_split_count_res_177994);
                        bool defunc_0_split_count_res_177996;
                        int64_t defunc_0_split_count_res_177997;
                        int64_t defunc_0_split_count_res_177998;
                        int64_t defunc_0_split_count_res_177999;
                        int64_t defunc_0_split_count_res_178000;
                        int64_t defunc_0_split_count_res_178001;
                        bool loop_while_178002;
                        int64_t ss_178003;
                        int64_t ss_178004;
                        int64_t tt_178005;
                        int64_t tt_178006;
                        int64_t count_178007;
                        
                        loop_while_178002 = loop_cond_177995;
                        ss_178003 = defunc_0_split_count_res_177990;
                        ss_178004 = defunc_0_split_count_res_177991;
                        tt_178005 = defunc_0_split_count_res_177992;
                        tt_178006 = defunc_0_split_count_res_177993;
                        count_178007 = defunc_0_split_count_res_177994;
                        while (loop_while_178002) {
                            int64_t zlze_lhs_178008 = sub64(ss_178004, ss_178003);
                            bool cond_178009 = sle64(zlze_lhs_178008, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178010;
                            int64_t defunc_0_lifted_step_res_178011;
                            int64_t defunc_0_lifted_step_res_178012;
                            int64_t defunc_0_lifted_step_res_178013;
                            
                            if (cond_178009) {
                                int64_t tmp_180626 = add64(tt_178005, count_178007);
                                
                                defunc_0_lifted_step_res_178010 = ss_178003;
                                defunc_0_lifted_step_res_178011 = tmp_180626;
                                defunc_0_lifted_step_res_178012 = tt_178006;
                                defunc_0_lifted_step_res_178013 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178015 = sub64(tt_178006, tt_178005);
                                bool cond_178016 = sle64(zlze_lhs_178015, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178017;
                                int64_t defunc_0_lifted_step_res_f_res_178018;
                                int64_t defunc_0_lifted_step_res_f_res_178019;
                                int64_t defunc_0_lifted_step_res_f_res_178020;
                                
                                if (cond_178016) {
                                    int64_t tmp_180627 = add64(ss_178003, count_178007);
                                    
                                    defunc_0_lifted_step_res_f_res_178017 = tmp_180627;
                                    defunc_0_lifted_step_res_f_res_178018 = tt_178005;
                                    defunc_0_lifted_step_res_f_res_178019 = tt_178006;
                                    defunc_0_lifted_step_res_f_res_178020 = (int64_t) 0;
                                } else {
                                    bool cond_178022 = count_178007 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178023;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178024;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178025;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178026;
                                    
                                    if (cond_178022) {
                                        bool x_180629 = sle64((int64_t) 0, ss_178003);
                                        bool y_180630 = slt64(ss_178003, stride_177814);
                                        bool bounds_check_180631 = x_180629 && y_180630;
                                        bool index_certs_180632;
                                        
                                        if (!bounds_check_180631) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178003, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180637 = sle64((int64_t) 0, tt_178005);
                                        bool y_180638 = slt64(tt_178005, j_m_i_177837);
                                        bool bounds_check_180639 = x_180637 && y_180638;
                                        bool index_certs_180640;
                                        
                                        if (!bounds_check_180639) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178005, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180633 = start_177888 + ss_178003;
                                        int8_t leq_arg1_180634 = ((int8_t *) mem_param_181964.mem)[slice_180633];
                                        int64_t leq_arg1_180635 = ((int64_t *) mem_param_181967.mem)[slice_180633];
                                        int16_t leq_arg1_180636 = ((int16_t *) mem_param_181970.mem)[slice_180633];
                                        int64_t slice_180641 = stride_177814 + tt_178005;
                                        int64_t slice_180642 = start_177888 + slice_180641;
                                        int8_t leq_arg0_180643 = ((int8_t *) mem_param_181964.mem)[slice_180642];
                                        int64_t leq_arg0_180644 = ((int64_t *) mem_param_181967.mem)[slice_180642];
                                        int16_t leq_arg0_180645 = ((int16_t *) mem_param_181970.mem)[slice_180642];
                                        bool cond_180646 = leq_arg0_180643 == leq_arg1_180634;
                                        bool defunc_0_leq_res_t_res_180647 = sle64(leq_arg0_180644, leq_arg1_180635);
                                        bool defunc_0_leq_res_180648 = sle16(leq_arg0_180645, leq_arg1_180636);
                                        bool x_180649 = cond_180646 && defunc_0_leq_res_t_res_180647;
                                        bool x_180650 = !cond_180646;
                                        bool y_180651 = defunc_0_leq_res_180648 && x_180650;
                                        bool defunc_0_leq_res_180652 = x_180649 || y_180651;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        
                                        if (defunc_0_leq_res_180652) {
                                            int64_t tmp_180655 = add64((int64_t) 1, tt_178005);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = ss_178003;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tmp_180655;
                                        } else {
                                            int64_t tmp_180656 = add64((int64_t) 1, ss_178003);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180653 = tmp_180656;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180654 = tt_178005;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = defunc_0_lifted_step_res_f_res_f_res_t_res_180653;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_t_res_180654;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = tt_178006;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = (int64_t) 0;
                                    } else {
                                        int64_t m_178055 = sdiv64(count_178007, (int64_t) 2);
                                        int64_t n_178056 = sub64(count_178007, m_178055);
                                        bool cond_178057 = n_178056 == (int64_t) 0;
                                        int64_t zgze_lhs_178058 = add64(ss_178003, m_178055);
                                        bool cond_f_res_178059 = sle64(ss_178004, zgze_lhs_178058);
                                        bool x_178060 = !cond_178057;
                                        bool y_178061 = cond_f_res_178059 && x_178060;
                                        bool cond_178062 = cond_178057 || y_178061;
                                        bool leq_y_x_178063;
                                        
                                        if (cond_178062) {
                                            leq_y_x_178063 = 1;
                                        } else {
                                            bool x_178064 = sle64((int64_t) 0, zgze_lhs_178058);
                                            bool y_178065 = slt64(zgze_lhs_178058, stride_177814);
                                            bool bounds_check_178066 = x_178064 && y_178065;
                                            bool index_certs_178067;
                                            
                                            if (!bounds_check_178066) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178058, "] out of bounds for array of shape [", (long long) stride_177814, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178072 = add64(tt_178005, n_178056);
                                            int64_t leq_arg0_178073 = sub64(zm_lhs_178072, (int64_t) 1);
                                            bool x_178074 = sle64((int64_t) 0, leq_arg0_178073);
                                            bool y_178075 = slt64(leq_arg0_178073, j_m_i_177837);
                                            bool bounds_check_178076 = x_178074 && y_178075;
                                            bool index_certs_178077;
                                            
                                            if (!bounds_check_178076) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178073, "] out of bounds for array of shape [", (long long) j_m_i_177837, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178068 = start_177888 + zgze_lhs_178058;
                                            int8_t leq_arg1_178069 = ((int8_t *) mem_param_181964.mem)[slice_178068];
                                            int64_t leq_arg1_178070 = ((int64_t *) mem_param_181967.mem)[slice_178068];
                                            int16_t leq_arg1_178071 = ((int16_t *) mem_param_181970.mem)[slice_178068];
                                            int64_t slice_178078 = stride_177814 + leq_arg0_178073;
                                            int64_t slice_178079 = start_177888 + slice_178078;
                                            int8_t leq_arg0_178080 = ((int8_t *) mem_param_181964.mem)[slice_178079];
                                            int64_t leq_arg0_178081 = ((int64_t *) mem_param_181967.mem)[slice_178079];
                                            int16_t leq_arg0_178082 = ((int16_t *) mem_param_181970.mem)[slice_178079];
                                            bool cond_178083 = leq_arg0_178080 == leq_arg1_178069;
                                            bool defunc_0_leq_res_t_res_178084 = sle64(leq_arg0_178081, leq_arg1_178070);
                                            bool defunc_0_leq_res_178085 = sle16(leq_arg0_178082, leq_arg1_178071);
                                            bool x_178086 = cond_178083 && defunc_0_leq_res_t_res_178084;
                                            bool x_178087 = !cond_178083;
                                            bool y_178088 = defunc_0_leq_res_178085 && x_178087;
                                            bool defunc_0_leq_res_178089 = x_178086 || y_178088;
                                            
                                            leq_y_x_178063 = defunc_0_leq_res_178089;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                        
                                        if (leq_y_x_178063) {
                                            int64_t tmp_180657 = add64(tt_178005, n_178056);
                                            int64_t tmp_180658 = sub64(count_178007, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tmp_180657;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tt_178006;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = tmp_180658;
                                        } else {
                                            int64_t tmp_178095 = add64(tt_178005, n_178056);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178090 = tt_178005;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178091 = tmp_178095;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178092 = count_178007;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178023 = ss_178003;
                                        defunc_0_lifted_step_res_f_res_f_res_178024 = defunc_0_lifted_step_res_f_res_f_res_f_res_178090;
                                        defunc_0_lifted_step_res_f_res_f_res_178025 = defunc_0_lifted_step_res_f_res_f_res_f_res_178091;
                                        defunc_0_lifted_step_res_f_res_f_res_178026 = defunc_0_lifted_step_res_f_res_f_res_f_res_178092;
                                    }
                                    defunc_0_lifted_step_res_f_res_178017 = defunc_0_lifted_step_res_f_res_f_res_178023;
                                    defunc_0_lifted_step_res_f_res_178018 = defunc_0_lifted_step_res_f_res_f_res_178024;
                                    defunc_0_lifted_step_res_f_res_178019 = defunc_0_lifted_step_res_f_res_f_res_178025;
                                    defunc_0_lifted_step_res_f_res_178020 = defunc_0_lifted_step_res_f_res_f_res_178026;
                                }
                                defunc_0_lifted_step_res_178010 = defunc_0_lifted_step_res_f_res_178017;
                                defunc_0_lifted_step_res_178011 = defunc_0_lifted_step_res_f_res_178018;
                                defunc_0_lifted_step_res_178012 = defunc_0_lifted_step_res_f_res_178019;
                                defunc_0_lifted_step_res_178013 = defunc_0_lifted_step_res_f_res_178020;
                            }
                            
                            int64_t loopres_178096;
                            int64_t loopres_178097;
                            int64_t loopres_178098;
                            int64_t loopres_178099;
                            int64_t loopres_178100;
                            
                            if (futrts_lifted_normalizze_9082(ctx, &loopres_178096, &loopres_178097, &loopres_178098, &loopres_178099, &loopres_178100, defunc_0_lifted_step_res_178010, ss_178004, defunc_0_lifted_step_res_178011, defunc_0_lifted_step_res_178012, defunc_0_lifted_step_res_178013) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178101 = slt64((int64_t) 0, loopres_178100);
                            bool loop_while_tmp_182709 = loop_cond_178101;
                            int64_t ss_tmp_182710 = loopres_178096;
                            int64_t ss_tmp_182711 = loopres_178097;
                            int64_t tt_tmp_182712 = loopres_178098;
                            int64_t tt_tmp_182713 = loopres_178099;
                            int64_t count_tmp_182714 = loopres_178100;
                            
                            loop_while_178002 = loop_while_tmp_182709;
                            ss_178003 = ss_tmp_182710;
                            ss_178004 = ss_tmp_182711;
                            tt_178005 = tt_tmp_182712;
                            tt_178006 = tt_tmp_182713;
                            count_178007 = count_tmp_182714;
                        }
                        defunc_0_split_count_res_177996 = loop_while_178002;
                        defunc_0_split_count_res_177997 = ss_178003;
                        defunc_0_split_count_res_177998 = ss_178004;
                        defunc_0_split_count_res_177999 = tt_178005;
                        defunc_0_split_count_res_178000 = tt_178006;
                        defunc_0_split_count_res_178001 = count_178007;
                        ((int64_t *) mem_181992)[i_180888] = defunc_0_split_count_res_177997;
                        ((int64_t *) mem_181994)[i_180888] = defunc_0_split_count_res_177999;
                    }
                    if (mem_182008_cached_sizze_183057 < flat_dim_177838) {
                        err = lexical_realloc(ctx, &mem_182008, &mem_182008_cached_sizze_183057, flat_dim_177838);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182011_cached_sizze_183058 < bytes_182010) {
                        err = lexical_realloc(ctx, &mem_182011, &mem_182011_cached_sizze_183058, bytes_182010);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182014_cached_sizze_183059 < bytes_182013) {
                        err = lexical_realloc(ctx, &mem_182014, &mem_182014_cached_sizze_183059, bytes_182013);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180897 = 0; i_180897 < num_blocks_177835; i_180897++) {
                        bool y_178108 = slt64(i_180897, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool index_certs_178110;
                        
                        if (!y_178108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178111 = ((int64_t *) mem_181992)[i_180897];
                        int64_t defunc_0_f_res_178112 = ((int64_t *) mem_181994)[i_180897];
                        int64_t tmp_178113 = add64((int64_t) 1, i_180897);
                        bool x_178114 = sle64((int64_t) 0, tmp_178113);
                        bool y_178115 = slt64(tmp_178113, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836);
                        bool bounds_check_178116 = x_178114 && y_178115;
                        bool index_certs_178117;
                        
                        if (!bounds_check_178116) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178113, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178118 = ((int64_t *) mem_181992)[tmp_178113];
                        int64_t defunc_0_f_res_178119 = ((int64_t *) mem_181994)[tmp_178113];
                        int64_t merge_sequential_arg2_178120 = add64(stride_177814, defunc_0_f_res_178112);
                        int64_t merge_sequential_arg2_178121 = add64(stride_177814, defunc_0_f_res_178119);
                        int64_t j_m_i_178122 = sub64(merge_sequential_arg2_178121, merge_sequential_arg2_178120);
                        bool empty_slice_178123 = j_m_i_178122 == (int64_t) 0;
                        int64_t m_178124 = sub64(j_m_i_178122, (int64_t) 1);
                        int64_t i_p_m_t_s_178125 = add64(merge_sequential_arg2_178120, m_178124);
                        bool zzero_leq_i_p_m_t_s_178126 = sle64((int64_t) 0, i_p_m_t_s_178125);
                        bool i_p_m_t_s_leq_w_178127 = slt64(i_p_m_t_s_178125, next_stride_177815);
                        bool zzero_lte_i_178128 = sle64((int64_t) 0, merge_sequential_arg2_178120);
                        bool i_lte_j_178129 = sle64(merge_sequential_arg2_178120, merge_sequential_arg2_178121);
                        bool y_178130 = i_p_m_t_s_leq_w_178127 && zzero_lte_i_178128;
                        bool y_178131 = zzero_leq_i_p_m_t_s_178126 && y_178130;
                        bool forwards_ok_178132 = i_lte_j_178129 && y_178131;
                        bool ok_or_empty_178133 = empty_slice_178123 || forwards_ok_178132;
                        bool index_certs_178134;
                        
                        if (!ok_or_empty_178133) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178120, ":", (long long) merge_sequential_arg2_178121, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178135 = sub64(defunc_0_f_res_178118, defunc_0_f_res_178111);
                        bool empty_slice_178136 = j_m_i_178135 == (int64_t) 0;
                        int64_t m_178137 = sub64(j_m_i_178135, (int64_t) 1);
                        int64_t i_p_m_t_s_178138 = add64(defunc_0_f_res_178111, m_178137);
                        bool zzero_leq_i_p_m_t_s_178139 = sle64((int64_t) 0, i_p_m_t_s_178138);
                        bool i_p_m_t_s_leq_w_178140 = slt64(i_p_m_t_s_178138, next_stride_177815);
                        bool zzero_lte_i_178141 = sle64((int64_t) 0, defunc_0_f_res_178111);
                        bool i_lte_j_178142 = sle64(defunc_0_f_res_178111, defunc_0_f_res_178118);
                        bool y_178143 = i_p_m_t_s_leq_w_178140 && zzero_lte_i_178141;
                        bool y_178144 = zzero_leq_i_p_m_t_s_178139 && y_178143;
                        bool forwards_ok_178145 = i_lte_j_178142 && y_178144;
                        bool ok_or_empty_178146 = empty_slice_178136 || forwards_ok_178145;
                        bool index_certs_178147;
                        
                        if (!ok_or_empty_178146) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178111, ":", (long long) defunc_0_f_res_178118, "] out of bounds for array of shape [", (long long) next_stride_177815, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178148 = slt64((int64_t) 0, j_m_i_178135);
                        int8_t dummy_178149;
                        int64_t dummy_178150;
                        int16_t dummy_178151;
                        
                        if (cond_178148) {
                            bool index_certs_180659;
                            
                            if (!cond_178148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180660 = start_177888 + defunc_0_f_res_178111;
                            int8_t head_res_180661 = ((int8_t *) mem_param_181964.mem)[slice_180660];
                            int64_t head_res_180662 = ((int64_t *) mem_param_181967.mem)[slice_180660];
                            int16_t head_res_180663 = ((int16_t *) mem_param_181970.mem)[slice_180660];
                            
                            dummy_178149 = head_res_180661;
                            dummy_178150 = head_res_180662;
                            dummy_178151 = head_res_180663;
                        } else {
                            bool y_178157 = slt64((int64_t) 0, j_m_i_178122);
                            bool index_certs_178158;
                            
                            if (!y_178157) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178159 = start_177888 + merge_sequential_arg2_178120;
                            int8_t head_res_178160 = ((int8_t *) mem_param_181964.mem)[slice_178159];
                            int64_t head_res_178161 = ((int64_t *) mem_param_181967.mem)[slice_178159];
                            int16_t head_res_178162 = ((int16_t *) mem_param_181970.mem)[slice_178159];
                            
                            dummy_178149 = head_res_178160;
                            dummy_178150 = head_res_178161;
                            dummy_178151 = head_res_178162;
                        }
                        for (int64_t nest_i_182718 = 0; nest_i_182718 < merge_block_sizze_177652; nest_i_182718++) {
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + nest_i_182718] = dummy_178149;
                        }
                        for (int64_t nest_i_182719 = 0; nest_i_182719 < merge_block_sizze_177652; nest_i_182719++) {
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + nest_i_182719] = dummy_178150;
                        }
                        for (int64_t nest_i_182720 = 0; nest_i_182720 < merge_block_sizze_177652; nest_i_182720++) {
                            ((int16_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + nest_i_182720] = dummy_178151;
                        }
                        
                        int64_t data_178166;
                        int64_t i_178171 = (int64_t) 0;
                        
                        for (int64_t k_178170 = 0; k_178170 < merge_block_sizze_177652; k_178170++) {
                            int64_t j_178175 = sub64(k_178170, i_178171);
                            bool cond_178176 = j_178175 == j_m_i_178122;
                            bool cond_178177;
                            
                            if (cond_178176) {
                                cond_178177 = 1;
                            } else {
                                bool cond_178178 = slt64(i_178171, j_m_i_178135);
                                bool cond_f_res_178179;
                                
                                if (cond_178178) {
                                    bool x_180664 = sle64((int64_t) 0, j_178175);
                                    bool y_180665 = slt64(j_178175, j_m_i_178122);
                                    bool bounds_check_180666 = x_180664 && y_180665;
                                    bool index_certs_180667;
                                    
                                    if (!bounds_check_180666) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180673 = sle64((int64_t) 0, i_178171);
                                    bool bounds_check_180674 = cond_178178 && x_180673;
                                    bool index_certs_180675;
                                    
                                    if (!bounds_check_180674) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180668 = merge_sequential_arg2_178120 + j_178175;
                                    int64_t slice_180669 = start_177888 + slice_180668;
                                    int8_t leq_arg1_180670 = ((int8_t *) mem_param_181964.mem)[slice_180669];
                                    int64_t leq_arg1_180671 = ((int64_t *) mem_param_181967.mem)[slice_180669];
                                    int16_t leq_arg1_180672 = ((int16_t *) mem_param_181970.mem)[slice_180669];
                                    int64_t slice_180676 = defunc_0_f_res_178111 + i_178171;
                                    int64_t slice_180677 = start_177888 + slice_180676;
                                    int8_t leq_arg0_180678 = ((int8_t *) mem_param_181964.mem)[slice_180677];
                                    int64_t leq_arg0_180679 = ((int64_t *) mem_param_181967.mem)[slice_180677];
                                    int16_t leq_arg0_180680 = ((int16_t *) mem_param_181970.mem)[slice_180677];
                                    bool cond_180681 = leq_arg0_180678 == leq_arg1_180670;
                                    bool defunc_0_leq_res_t_res_180682 = sle64(leq_arg0_180679, leq_arg1_180671);
                                    bool defunc_0_leq_res_180683 = sle16(leq_arg0_180680, leq_arg1_180672);
                                    bool x_180684 = cond_180681 && defunc_0_leq_res_t_res_180682;
                                    bool x_180685 = !cond_180681;
                                    bool y_180686 = defunc_0_leq_res_180683 && x_180685;
                                    bool defunc_0_leq_res_180687 = x_180684 || y_180686;
                                    
                                    cond_f_res_178179 = defunc_0_leq_res_180687;
                                } else {
                                    cond_f_res_178179 = 0;
                                }
                                cond_178177 = cond_f_res_178179;
                            }
                            
                            int64_t loopres_178204;
                            int8_t loopres_178205;
                            int64_t loopres_178206;
                            int16_t loopres_178207;
                            
                            if (cond_178177) {
                                bool x_180689 = sle64((int64_t) 0, i_178171);
                                bool y_180690 = slt64(i_178171, j_m_i_178135);
                                bool bounds_check_180691 = x_180689 && y_180690;
                                bool index_certs_180692;
                                
                                if (!bounds_check_180691) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178171, "] out of bounds for array of shape [", (long long) j_m_i_178135, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180688 = add64((int64_t) 1, i_178171);
                                int64_t slice_180693 = defunc_0_f_res_178111 + i_178171;
                                int64_t slice_180694 = start_177888 + slice_180693;
                                int8_t tmp_180695 = ((int8_t *) mem_param_181964.mem)[slice_180694];
                                int64_t tmp_180696 = ((int64_t *) mem_param_181967.mem)[slice_180694];
                                int16_t tmp_180697 = ((int16_t *) mem_param_181970.mem)[slice_180694];
                                
                                loopres_178204 = tmp_180688;
                                loopres_178205 = tmp_180695;
                                loopres_178206 = tmp_180696;
                                loopres_178207 = tmp_180697;
                            } else {
                                bool x_178218 = sle64((int64_t) 0, j_178175);
                                bool y_178219 = slt64(j_178175, j_m_i_178122);
                                bool bounds_check_178220 = x_178218 && y_178219;
                                bool index_certs_178221;
                                
                                if (!bounds_check_178220) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178175, "] out of bounds for array of shape [", (long long) j_m_i_178122, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178222 = merge_sequential_arg2_178120 + j_178175;
                                int64_t slice_178223 = start_177888 + slice_178222;
                                int8_t tmp_178224 = ((int8_t *) mem_param_181964.mem)[slice_178223];
                                int64_t tmp_178225 = ((int64_t *) mem_param_181967.mem)[slice_178223];
                                int16_t tmp_178226 = ((int16_t *) mem_param_181970.mem)[slice_178223];
                                
                                loopres_178204 = i_178171;
                                loopres_178205 = tmp_178224;
                                loopres_178206 = tmp_178225;
                                loopres_178207 = tmp_178226;
                            }
                            ((int8_t *) mem_182008)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178205;
                            ((int64_t *) mem_182011)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178206;
                            ((int16_t *) mem_182014)[i_180897 * merge_block_sizze_177652 + k_178170] = loopres_178207;
                            
                            int64_t i_tmp_182721 = loopres_178204;
                            
                            i_178171 = i_tmp_182721;
                        }
                        data_178166 = i_178171;
                    }
                    if (memblock_alloc(ctx, &mem_182063, flat_dim_177838, "mem_182063")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182063.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint8_t *) mem_182008, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182067, bytes_182010, "mem_182067")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182067.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint64_t *) mem_182011, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_alloc(ctx, &mem_182071, bytes_182013, "mem_182071")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_182071.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (uint16_t *) mem_182014, (int64_t) 0, (int64_t []) {merge_block_sizze_177652, (int64_t) 1}, (int64_t []) {num_blocks_177835, merge_block_sizze_177652});
                    if (memblock_set(ctx, &ext_mem_182104, &mem_182063, "mem_182063") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182101, &mem_182067, "mem_182067") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182098, &mem_182071, "mem_182071") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181972, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182104.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181975, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182101.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181978, i_180907 * next_stride_177815, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182098.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177815});
                if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182118, bytes_181971, "mem_182118")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182118.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint8_t *) mem_181972, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182122, bytes_181974, "mem_182122")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182122.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint64_t *) mem_181975, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            if (memblock_alloc(ctx, &mem_182126, bytes_181977, "mem_182126")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_182126.mem, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (uint16_t *) mem_181978, (int64_t) 0, (int64_t []) {next_stride_177815, (int64_t) 1}, (int64_t []) {num_merges_177819, next_stride_177815});
            
            bool loop_cond_178240 = slt64(next_stride_177815, flat_dim_177647);
            
            if (memblock_set(ctx, &mem_param_tmp_182688, &mem_182118, "mem_182118") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182689, &mem_182122, "mem_182122") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182690, &mem_182126, "mem_182126") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182691 = bytes_181971;
            bool loop_while_tmp_182692 = loop_cond_178240;
            int64_t stride_tmp_182696 = next_stride_177815;
            
            if (memblock_set(ctx, &mem_param_181964, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181967, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181970, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
                return 1;
            loop_dz2084Uz2082U_177809 = loop_dz2084Uz2082U_tmp_182691;
            loop_while_177810 = loop_while_tmp_182692;
            stride_177814 = stride_tmp_182696;
        }
        if (memblock_set(ctx, &ext_mem_182136, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182135, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182134, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        data_177803 = loop_dz2084Uz2082U_177809;
        data_177804 = loop_while_177810;
        data_177808 = stride_177814;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178243 = slt64(zs_lhs_177631, data_177803);
        bool y_178244 = i_p_m_t_s_leq_w_178243 && zzero_leq_i_p_m_t_s_178257;
        bool ok_or_empty_178245 = y_178244 || empty_slice_178255;
        bool index_certs_178246;
        
        if (!ok_or_empty_178245) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177584, "] out of bounds for array of shape [", (long long) data_177803, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182145, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182142, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182139, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181054.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182145.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181056.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181058.mem, final_buffer_178262, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182139.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178263});
    if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181056, "mem_181056") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182468, &mem_181058, "mem_181058") != 0)
        return 1;
    prim_out_182469 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175541;
    if (memblock_set(ctx, &*mem_out_p_183006, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183007, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183008, &mem_out_182468, "mem_out_182468") != 0)
        return 1;
    *out_prim_out_183009 = prim_out_182469;
    
  cleanup:
    {
        free(mem_181069);
        free(mem_181071);
        free(mem_181110);
        free(mem_181113);
        free(mem_181116);
        free(mem_181129);
        free(mem_181131);
        free(mem_181133);
        free(mem_181230);
        free(mem_181233);
        free(mem_181236);
        free(mem_181250);
        free(mem_181252);
        free(mem_181266);
        free(mem_181269);
        free(mem_181272);
        free(mem_181414);
        free(mem_181416);
        free(mem_181431);
        free(mem_181433);
        free(mem_181436);
        free(mem_181439);
        free(mem_181473);
        free(mem_181476);
        free(mem_181479);
        free(mem_181492);
        free(mem_181494);
        free(mem_181496);
        free(mem_181593);
        free(mem_181596);
        free(mem_181599);
        free(mem_181613);
        free(mem_181615);
        free(mem_181629);
        free(mem_181632);
        free(mem_181635);
        free(mem_181852);
        free(mem_181855);
        free(mem_181858);
        free(mem_181871);
        free(mem_181873);
        free(mem_181875);
        free(mem_181972);
        free(mem_181975);
        free(mem_181978);
        free(mem_181992);
        free(mem_181994);
        free(mem_182008);
        free(mem_182011);
        free(mem_182014);
        if (memblock_unref(ctx, &mem_param_tmp_182690, "mem_param_tmp_182690") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182689, "mem_param_tmp_182689") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182688, "mem_param_tmp_182688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182126, "mem_182126") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182122, "mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182118, "mem_182118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182071, "mem_182071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182067, "mem_182067") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182063, "mem_182063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182077, "mem_182077") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182075, "mem_182075") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182073, "mem_182073") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182098, "ext_mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182101, "ext_mem_182101") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182104, "ext_mem_182104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181970, "mem_param_181970") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181967, "mem_param_181967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181964, "mem_param_181964") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182134, "ext_mem_182134") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182135, "ext_mem_182135") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182136, "ext_mem_182136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181960, "mem_181960") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181956, "mem_181956") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181952, "mem_181952") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182139, "ext_mem_182139") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182142, "ext_mem_182142") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182145, "ext_mem_182145") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181850, "mem_181850") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181848, "mem_181848") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181846, "mem_181846") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182624, "mem_param_tmp_182624") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182623, "mem_param_tmp_182623") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182622, "mem_param_tmp_182622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181384, "mem_181384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181380, "mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181376, "mem_181376") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181329, "mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181325, "mem_181325") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181321, "mem_181321") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181335, "mem_181335") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181333, "mem_181333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181356, "ext_mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181359, "ext_mem_181359") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181228, "mem_param_181228") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181225, "mem_param_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181222, "mem_param_181222") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181392, "ext_mem_181392") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181393, "ext_mem_181393") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181394, "ext_mem_181394") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181218, "mem_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181214, "mem_181214") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181210, "mem_181210") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181397, "ext_mem_181397") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181403, "ext_mem_181403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181108, "mem_181108") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181104, "mem_181104") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181795, "mem_181795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181794, "mem_181794") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181792, "mem_181792") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182530, "mem_param_tmp_182530") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182529, "mem_param_tmp_182529") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182528, "mem_param_tmp_182528") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181747, "mem_181747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181743, "mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181739, "mem_181739") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181692, "mem_181692") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181688, "mem_181688") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181684, "mem_181684") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181698, "mem_181698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181696, "mem_181696") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181694, "mem_181694") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181719, "ext_mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181722, "ext_mem_181722") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181725, "ext_mem_181725") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181591, "mem_param_181591") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181588, "mem_param_181588") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181585, "mem_param_181585") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181755, "ext_mem_181755") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181756, "ext_mem_181756") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181757, "ext_mem_181757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181581, "mem_181581") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181577, "mem_181577") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181573, "mem_181573") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181760, "ext_mem_181760") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181763, "ext_mem_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181766, "ext_mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181471, "mem_181471") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181469, "mem_181469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181467, "mem_181467") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181816, "ext_mem_181816") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181819, "ext_mem_181819") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181822, "ext_mem_181822") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181058, "mem_181058") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181056, "mem_181056") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182468, "mem_out_182468") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183060, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109818, int64_t incr_109819, int64_t block_sizze_109820)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181087;
    
    mem_181087.references = NULL;
    
    struct memblock mem_param_tmp_182470;
    
    mem_param_tmp_182470.references = NULL;
    
    struct memblock mem_param_tmp_182469;
    
    mem_param_tmp_182469.references = NULL;
    
    struct memblock mem_181073;
    
    mem_181073.references = NULL;
    
    struct memblock mem_181071;
    
    mem_181071.references = NULL;
    
    struct memblock mem_param_181069;
    
    mem_param_181069.references = NULL;
    
    struct memblock mem_param_181066;
    
    mem_param_181066.references = NULL;
    
    struct memblock ext_mem_181084;
    
    ext_mem_181084.references = NULL;
    
    struct memblock ext_mem_181085;
    
    ext_mem_181085.references = NULL;
    
    struct memblock mem_181063;
    
    mem_181063.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_109818;
    bool zzero_164555 = block_sizze_109820 == (int64_t) 0;
    bool nonzzero_164556 = !zzero_164555;
    bool nonzzero_cert_164557;
    
    if (!nonzzero_164556) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180714 = 0; i_180714 < n_109818; i_180714++) {
        int64_t eta_p_164551 = ((int64_t *) is_mem_181052.mem)[i_180714];
        int64_t lifted_lambda_res_164552 = sub64(eta_p_164551, incr_109819);
        
        ((int64_t *) mem_181055.mem)[i_180714] = lifted_lambda_res_164552;
    }
    
    int64_t zm_lhs_164553 = add64(n_109818, block_sizze_109820);
    int64_t zs_lhs_164554 = sub64(zm_lhs_164553, (int64_t) 1);
    int64_t m_164558 = sdiv64(zs_lhs_164554, block_sizze_109820);
    
    if (memblock_alloc(ctx, &mem_181063, bytes_181054, "mem_181063")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182468 = 0; nest_i_182468 < n_109818; nest_i_182468++) {
        ((double *) mem_181063.mem)[nest_i_182468] = 0.0;
    }
    
    bool loop_cond_164560 = slt64((int64_t) 0, m_164558);
    bool partitioned_gather_res_164561;
    int64_t partitioned_gather_res_164564;
    bool loop_while_164565;
    int64_t p_164568;
    
    if (memblock_set(ctx, &mem_param_181066, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181069, &mem_181063, "mem_181063") != 0)
        return 1;
    loop_while_164565 = loop_cond_164560;
    p_164568 = (int64_t) 0;
    while (loop_while_164565) {
        int64_t lower_bound_164569 = mul64(block_sizze_109820, p_164568);
        int64_t min_arg1_164570 = add64(block_sizze_109820, lower_bound_164569);
        int64_t min_res_164571 = smin64(n_109818, min_arg1_164570);
        int64_t j_m_i_164572 = sub64(min_res_164571, lower_bound_164569);
        bool empty_slice_164573 = j_m_i_164572 == (int64_t) 0;
        int64_t m_164574 = sub64(j_m_i_164572, (int64_t) 1);
        int64_t i_p_m_t_s_164575 = add64(lower_bound_164569, m_164574);
        bool zzero_leq_i_p_m_t_s_164576 = sle64((int64_t) 0, i_p_m_t_s_164575);
        bool i_p_m_t_s_leq_w_164577 = slt64(i_p_m_t_s_164575, n_109818);
        bool zzero_lte_i_164578 = sle64((int64_t) 0, lower_bound_164569);
        bool i_lte_j_164579 = sle64(lower_bound_164569, min_res_164571);
        bool y_164580 = i_p_m_t_s_leq_w_164577 && zzero_lte_i_164578;
        bool y_164581 = zzero_leq_i_p_m_t_s_164576 && y_164580;
        bool forwards_ok_164582 = i_lte_j_164579 && y_164581;
        bool ok_or_empty_164583 = empty_slice_164573 || forwards_ok_164582;
        bool index_certs_164584;
        
        if (!ok_or_empty_164583) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164569, ":", (long long) min_res_164571, "] out of bounds for array of shape [", (long long) n_109818, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181071, bytes_181054, "mem_181071")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181071.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181066.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109818});
        if (memblock_alloc(ctx, &mem_181073, bytes_181054, "mem_181073")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180718 = 0; i_180718 < n_109818; i_180718++) {
            int64_t eta_p_164587 = ((int64_t *) mem_param_181066.mem)[i_180718];
            double eta_p_164588 = ((double *) mem_param_181069.mem)[i_180718];
            bool cond_164589 = sle64(lower_bound_164569, eta_p_164587);
            bool cond_t_res_164590 = slt64(eta_p_164587, min_res_164571);
            bool x_164591 = cond_164589 && cond_t_res_164590;
            double lifted_lambda_res_164592;
            
            if (x_164591) {
                int64_t tmp_178564 = sub64(eta_p_164587, lower_bound_164569);
                bool x_178565 = sle64((int64_t) 0, tmp_178564);
                bool y_178566 = slt64(tmp_178564, j_m_i_164572);
                bool bounds_check_178567 = x_178565 && y_178566;
                bool index_certs_178568;
                
                if (!bounds_check_178567) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178564, "] out of bounds for array of shape [", (long long) j_m_i_164572, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:63:1-65:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double tmp_178569 = ((double *) ys_mem_181053.mem)[eta_p_164587];
                
                lifted_lambda_res_164592 = tmp_178569;
            } else {
                lifted_lambda_res_164592 = eta_p_164588;
            }
            ((double *) mem_181073.mem)[i_180718] = lifted_lambda_res_164592;
        }
        
        int64_t tmp_164599 = add64((int64_t) 1, p_164568);
        bool loop_cond_164600 = slt64(tmp_164599, m_164558);
        
        if (memblock_set(ctx, &mem_param_tmp_182469, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182470, &mem_181073, "mem_181073") != 0)
            return 1;
        
        bool loop_while_tmp_182471 = loop_cond_164600;
        int64_t p_tmp_182474 = tmp_164599;
        
        if (memblock_set(ctx, &mem_param_181066, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181069, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        loop_while_164565 = loop_while_tmp_182471;
        p_164568 = p_tmp_182474;
    }
    if (memblock_set(ctx, &ext_mem_181085, &mem_param_181066, "mem_param_181066") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181084, &mem_param_181069, "mem_param_181069") != 0)
        return 1;
    partitioned_gather_res_164561 = loop_while_164565;
    partitioned_gather_res_164564 = p_164568;
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181087, bytes_181054, "mem_181087")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181087.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109818});
    if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181087, "mem_181087") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183060, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181087, "mem_181087") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181073, "mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181069, "mem_param_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181066, "mem_param_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181085, "ext_mem_181085") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183061, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109484, int64_t incr_109485, int64_t block_sizze_109486)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181087;
    
    mem_181087.references = NULL;
    
    struct memblock mem_param_tmp_182470;
    
    mem_param_tmp_182470.references = NULL;
    
    struct memblock mem_param_tmp_182469;
    
    mem_param_tmp_182469.references = NULL;
    
    struct memblock mem_181073;
    
    mem_181073.references = NULL;
    
    struct memblock mem_181071;
    
    mem_181071.references = NULL;
    
    struct memblock mem_param_181069;
    
    mem_param_181069.references = NULL;
    
    struct memblock mem_param_181066;
    
    mem_param_181066.references = NULL;
    
    struct memblock ext_mem_181084;
    
    ext_mem_181084.references = NULL;
    
    struct memblock ext_mem_181085;
    
    ext_mem_181085.references = NULL;
    
    struct memblock mem_181063;
    
    mem_181063.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_109484;
    bool zzero_164555 = block_sizze_109486 == (int64_t) 0;
    bool nonzzero_164556 = !zzero_164555;
    bool nonzzero_cert_164557;
    
    if (!nonzzero_164556) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181062 = (int64_t) 4 * n_109484;
    
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180714 = 0; i_180714 < n_109484; i_180714++) {
        int64_t eta_p_164551 = ((int64_t *) is_mem_181052.mem)[i_180714];
        int64_t lifted_lambda_res_164552 = sub64(eta_p_164551, incr_109485);
        
        ((int64_t *) mem_181055.mem)[i_180714] = lifted_lambda_res_164552;
    }
    
    int64_t zm_lhs_164553 = add64(n_109484, block_sizze_109486);
    int64_t zs_lhs_164554 = sub64(zm_lhs_164553, (int64_t) 1);
    int64_t m_164558 = sdiv64(zs_lhs_164554, block_sizze_109486);
    
    if (memblock_alloc(ctx, &mem_181063, bytes_181062, "mem_181063")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182468 = 0; nest_i_182468 < n_109484; nest_i_182468++) {
        ((float *) mem_181063.mem)[nest_i_182468] = 0.0F;
    }
    
    bool loop_cond_164560 = slt64((int64_t) 0, m_164558);
    bool partitioned_gather_res_164561;
    int64_t partitioned_gather_res_164564;
    bool loop_while_164565;
    int64_t p_164568;
    
    if (memblock_set(ctx, &mem_param_181066, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181069, &mem_181063, "mem_181063") != 0)
        return 1;
    loop_while_164565 = loop_cond_164560;
    p_164568 = (int64_t) 0;
    while (loop_while_164565) {
        int64_t lower_bound_164569 = mul64(block_sizze_109486, p_164568);
        int64_t min_arg1_164570 = add64(block_sizze_109486, lower_bound_164569);
        int64_t min_res_164571 = smin64(n_109484, min_arg1_164570);
        int64_t j_m_i_164572 = sub64(min_res_164571, lower_bound_164569);
        bool empty_slice_164573 = j_m_i_164572 == (int64_t) 0;
        int64_t m_164574 = sub64(j_m_i_164572, (int64_t) 1);
        int64_t i_p_m_t_s_164575 = add64(lower_bound_164569, m_164574);
        bool zzero_leq_i_p_m_t_s_164576 = sle64((int64_t) 0, i_p_m_t_s_164575);
        bool i_p_m_t_s_leq_w_164577 = slt64(i_p_m_t_s_164575, n_109484);
        bool zzero_lte_i_164578 = sle64((int64_t) 0, lower_bound_164569);
        bool i_lte_j_164579 = sle64(lower_bound_164569, min_res_164571);
        bool y_164580 = i_p_m_t_s_leq_w_164577 && zzero_lte_i_164578;
        bool y_164581 = zzero_leq_i_p_m_t_s_164576 && y_164580;
        bool forwards_ok_164582 = i_lte_j_164579 && y_164581;
        bool ok_or_empty_164583 = empty_slice_164573 || forwards_ok_164582;
        bool index_certs_164584;
        
        if (!ok_or_empty_164583) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164569, ":", (long long) min_res_164571, "] out of bounds for array of shape [", (long long) n_109484, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181071, bytes_181054, "mem_181071")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181071.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181066.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109484});
        if (memblock_alloc(ctx, &mem_181073, bytes_181062, "mem_181073")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180718 = 0; i_180718 < n_109484; i_180718++) {
            int64_t eta_p_164587 = ((int64_t *) mem_param_181066.mem)[i_180718];
            float eta_p_164588 = ((float *) mem_param_181069.mem)[i_180718];
            bool cond_164589 = sle64(lower_bound_164569, eta_p_164587);
            bool cond_t_res_164590 = slt64(eta_p_164587, min_res_164571);
            bool x_164591 = cond_164589 && cond_t_res_164590;
            float lifted_lambda_res_164592;
            
            if (x_164591) {
                int64_t tmp_178564 = sub64(eta_p_164587, lower_bound_164569);
                bool x_178565 = sle64((int64_t) 0, tmp_178564);
                bool y_178566 = slt64(tmp_178564, j_m_i_164572);
                bool bounds_check_178567 = x_178565 && y_178566;
                bool index_certs_178568;
                
                if (!bounds_check_178567) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178564, "] out of bounds for array of shape [", (long long) j_m_i_164572, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:59:1-61:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float tmp_178569 = ((float *) ys_mem_181053.mem)[eta_p_164587];
                
                lifted_lambda_res_164592 = tmp_178569;
            } else {
                lifted_lambda_res_164592 = eta_p_164588;
            }
            ((float *) mem_181073.mem)[i_180718] = lifted_lambda_res_164592;
        }
        
        int64_t tmp_164599 = add64((int64_t) 1, p_164568);
        bool loop_cond_164600 = slt64(tmp_164599, m_164558);
        
        if (memblock_set(ctx, &mem_param_tmp_182469, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182470, &mem_181073, "mem_181073") != 0)
            return 1;
        
        bool loop_while_tmp_182471 = loop_cond_164600;
        int64_t p_tmp_182474 = tmp_164599;
        
        if (memblock_set(ctx, &mem_param_181066, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181069, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        loop_while_164565 = loop_while_tmp_182471;
        p_164568 = p_tmp_182474;
    }
    if (memblock_set(ctx, &ext_mem_181085, &mem_param_181066, "mem_param_181066") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181084, &mem_param_181069, "mem_param_181069") != 0)
        return 1;
    partitioned_gather_res_164561 = loop_while_164565;
    partitioned_gather_res_164564 = p_164568;
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181087, bytes_181062, "mem_181087")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181087.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109484});
    if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181087, "mem_181087") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183061, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181087, "mem_181087") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181073, "mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181069, "mem_param_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181066, "mem_param_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181085, "ext_mem_181085") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183062, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_108820, int64_t incr_108821, int64_t block_sizze_108822)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181087;
    
    mem_181087.references = NULL;
    
    struct memblock mem_param_tmp_182470;
    
    mem_param_tmp_182470.references = NULL;
    
    struct memblock mem_param_tmp_182469;
    
    mem_param_tmp_182469.references = NULL;
    
    struct memblock mem_181073;
    
    mem_181073.references = NULL;
    
    struct memblock mem_181071;
    
    mem_181071.references = NULL;
    
    struct memblock mem_param_181069;
    
    mem_param_181069.references = NULL;
    
    struct memblock mem_param_181066;
    
    mem_param_181066.references = NULL;
    
    struct memblock ext_mem_181084;
    
    ext_mem_181084.references = NULL;
    
    struct memblock ext_mem_181085;
    
    ext_mem_181085.references = NULL;
    
    struct memblock mem_181063;
    
    mem_181063.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_108820;
    bool zzero_164555 = block_sizze_108822 == (int64_t) 0;
    bool nonzzero_164556 = !zzero_164555;
    bool nonzzero_cert_164557;
    
    if (!nonzzero_164556) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181062 = (int64_t) 4 * n_108820;
    
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180714 = 0; i_180714 < n_108820; i_180714++) {
        int64_t eta_p_164551 = ((int64_t *) is_mem_181052.mem)[i_180714];
        int64_t lifted_lambda_res_164552 = sub64(eta_p_164551, incr_108821);
        
        ((int64_t *) mem_181055.mem)[i_180714] = lifted_lambda_res_164552;
    }
    
    int64_t zm_lhs_164553 = add64(n_108820, block_sizze_108822);
    int64_t zs_lhs_164554 = sub64(zm_lhs_164553, (int64_t) 1);
    int64_t m_164558 = sdiv64(zs_lhs_164554, block_sizze_108822);
    
    if (memblock_alloc(ctx, &mem_181063, bytes_181062, "mem_181063")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182468 = 0; nest_i_182468 < n_108820; nest_i_182468++) {
        ((int32_t *) mem_181063.mem)[nest_i_182468] = 0;
    }
    
    bool loop_cond_164560 = slt64((int64_t) 0, m_164558);
    bool partitioned_gather_res_164561;
    int64_t partitioned_gather_res_164564;
    bool loop_while_164565;
    int64_t p_164568;
    
    if (memblock_set(ctx, &mem_param_181066, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181069, &mem_181063, "mem_181063") != 0)
        return 1;
    loop_while_164565 = loop_cond_164560;
    p_164568 = (int64_t) 0;
    while (loop_while_164565) {
        int64_t lower_bound_164569 = mul64(block_sizze_108822, p_164568);
        int64_t min_arg1_164570 = add64(block_sizze_108822, lower_bound_164569);
        int64_t min_res_164571 = smin64(n_108820, min_arg1_164570);
        int64_t j_m_i_164572 = sub64(min_res_164571, lower_bound_164569);
        bool empty_slice_164573 = j_m_i_164572 == (int64_t) 0;
        int64_t m_164574 = sub64(j_m_i_164572, (int64_t) 1);
        int64_t i_p_m_t_s_164575 = add64(lower_bound_164569, m_164574);
        bool zzero_leq_i_p_m_t_s_164576 = sle64((int64_t) 0, i_p_m_t_s_164575);
        bool i_p_m_t_s_leq_w_164577 = slt64(i_p_m_t_s_164575, n_108820);
        bool zzero_lte_i_164578 = sle64((int64_t) 0, lower_bound_164569);
        bool i_lte_j_164579 = sle64(lower_bound_164569, min_res_164571);
        bool y_164580 = i_p_m_t_s_leq_w_164577 && zzero_lte_i_164578;
        bool y_164581 = zzero_leq_i_p_m_t_s_164576 && y_164580;
        bool forwards_ok_164582 = i_lte_j_164579 && y_164581;
        bool ok_or_empty_164583 = empty_slice_164573 || forwards_ok_164582;
        bool index_certs_164584;
        
        if (!ok_or_empty_164583) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164569, ":", (long long) min_res_164571, "] out of bounds for array of shape [", (long long) n_108820, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181071, bytes_181054, "mem_181071")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181071.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181066.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108820});
        if (memblock_alloc(ctx, &mem_181073, bytes_181062, "mem_181073")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180718 = 0; i_180718 < n_108820; i_180718++) {
            int64_t eta_p_164587 = ((int64_t *) mem_param_181066.mem)[i_180718];
            int32_t eta_p_164588 = ((int32_t *) mem_param_181069.mem)[i_180718];
            bool cond_164589 = sle64(lower_bound_164569, eta_p_164587);
            bool cond_t_res_164590 = slt64(eta_p_164587, min_res_164571);
            bool x_164591 = cond_164589 && cond_t_res_164590;
            int32_t lifted_lambda_res_164592;
            
            if (x_164591) {
                int64_t tmp_178564 = sub64(eta_p_164587, lower_bound_164569);
                bool x_178565 = sle64((int64_t) 0, tmp_178564);
                bool y_178566 = slt64(tmp_178564, j_m_i_164572);
                bool bounds_check_178567 = x_178565 && y_178566;
                bool index_certs_178568;
                
                if (!bounds_check_178567) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178564, "] out of bounds for array of shape [", (long long) j_m_i_164572, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:51:1-53:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t tmp_178569 = ((int32_t *) ys_mem_181053.mem)[eta_p_164587];
                
                lifted_lambda_res_164592 = tmp_178569;
            } else {
                lifted_lambda_res_164592 = eta_p_164588;
            }
            ((int32_t *) mem_181073.mem)[i_180718] = lifted_lambda_res_164592;
        }
        
        int64_t tmp_164599 = add64((int64_t) 1, p_164568);
        bool loop_cond_164600 = slt64(tmp_164599, m_164558);
        
        if (memblock_set(ctx, &mem_param_tmp_182469, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182470, &mem_181073, "mem_181073") != 0)
            return 1;
        
        bool loop_while_tmp_182471 = loop_cond_164600;
        int64_t p_tmp_182474 = tmp_164599;
        
        if (memblock_set(ctx, &mem_param_181066, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181069, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        loop_while_164565 = loop_while_tmp_182471;
        p_164568 = p_tmp_182474;
    }
    if (memblock_set(ctx, &ext_mem_181085, &mem_param_181066, "mem_param_181066") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181084, &mem_param_181069, "mem_param_181069") != 0)
        return 1;
    partitioned_gather_res_164561 = loop_while_164565;
    partitioned_gather_res_164564 = p_164568;
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181087, bytes_181062, "mem_181087")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181087.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108820});
    if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181087, "mem_181087") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183062, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181087, "mem_181087") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181073, "mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181069, "mem_param_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181066, "mem_param_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181085, "ext_mem_181085") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183063, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_109150, int64_t incr_109151, int64_t block_sizze_109152)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181087;
    
    mem_181087.references = NULL;
    
    struct memblock mem_param_tmp_182470;
    
    mem_param_tmp_182470.references = NULL;
    
    struct memblock mem_param_tmp_182469;
    
    mem_param_tmp_182469.references = NULL;
    
    struct memblock mem_181073;
    
    mem_181073.references = NULL;
    
    struct memblock mem_181071;
    
    mem_181071.references = NULL;
    
    struct memblock mem_param_181069;
    
    mem_param_181069.references = NULL;
    
    struct memblock mem_param_181066;
    
    mem_param_181066.references = NULL;
    
    struct memblock ext_mem_181084;
    
    ext_mem_181084.references = NULL;
    
    struct memblock ext_mem_181085;
    
    ext_mem_181085.references = NULL;
    
    struct memblock mem_181063;
    
    mem_181063.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_109150;
    bool zzero_164555 = block_sizze_109152 == (int64_t) 0;
    bool nonzzero_164556 = !zzero_164555;
    bool nonzzero_cert_164557;
    
    if (!nonzzero_164556) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180714 = 0; i_180714 < n_109150; i_180714++) {
        int64_t eta_p_164551 = ((int64_t *) is_mem_181052.mem)[i_180714];
        int64_t lifted_lambda_res_164552 = sub64(eta_p_164551, incr_109151);
        
        ((int64_t *) mem_181055.mem)[i_180714] = lifted_lambda_res_164552;
    }
    
    int64_t zm_lhs_164553 = add64(n_109150, block_sizze_109152);
    int64_t zs_lhs_164554 = sub64(zm_lhs_164553, (int64_t) 1);
    int64_t m_164558 = sdiv64(zs_lhs_164554, block_sizze_109152);
    
    if (memblock_alloc(ctx, &mem_181063, bytes_181054, "mem_181063")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182468 = 0; nest_i_182468 < n_109150; nest_i_182468++) {
        ((int64_t *) mem_181063.mem)[nest_i_182468] = (int64_t) 0;
    }
    
    bool loop_cond_164560 = slt64((int64_t) 0, m_164558);
    bool partitioned_gather_res_164561;
    int64_t partitioned_gather_res_164564;
    bool loop_while_164565;
    int64_t p_164568;
    
    if (memblock_set(ctx, &mem_param_181066, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181069, &mem_181063, "mem_181063") != 0)
        return 1;
    loop_while_164565 = loop_cond_164560;
    p_164568 = (int64_t) 0;
    while (loop_while_164565) {
        int64_t lower_bound_164569 = mul64(block_sizze_109152, p_164568);
        int64_t min_arg1_164570 = add64(block_sizze_109152, lower_bound_164569);
        int64_t min_res_164571 = smin64(n_109150, min_arg1_164570);
        int64_t j_m_i_164572 = sub64(min_res_164571, lower_bound_164569);
        bool empty_slice_164573 = j_m_i_164572 == (int64_t) 0;
        int64_t m_164574 = sub64(j_m_i_164572, (int64_t) 1);
        int64_t i_p_m_t_s_164575 = add64(lower_bound_164569, m_164574);
        bool zzero_leq_i_p_m_t_s_164576 = sle64((int64_t) 0, i_p_m_t_s_164575);
        bool i_p_m_t_s_leq_w_164577 = slt64(i_p_m_t_s_164575, n_109150);
        bool zzero_lte_i_164578 = sle64((int64_t) 0, lower_bound_164569);
        bool i_lte_j_164579 = sle64(lower_bound_164569, min_res_164571);
        bool y_164580 = i_p_m_t_s_leq_w_164577 && zzero_lte_i_164578;
        bool y_164581 = zzero_leq_i_p_m_t_s_164576 && y_164580;
        bool forwards_ok_164582 = i_lte_j_164579 && y_164581;
        bool ok_or_empty_164583 = empty_slice_164573 || forwards_ok_164582;
        bool index_certs_164584;
        
        if (!ok_or_empty_164583) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164569, ":", (long long) min_res_164571, "] out of bounds for array of shape [", (long long) n_109150, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181071, bytes_181054, "mem_181071")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181071.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181066.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109150});
        if (memblock_alloc(ctx, &mem_181073, bytes_181054, "mem_181073")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180718 = 0; i_180718 < n_109150; i_180718++) {
            int64_t eta_p_164587 = ((int64_t *) mem_param_181066.mem)[i_180718];
            int64_t eta_p_164588 = ((int64_t *) mem_param_181069.mem)[i_180718];
            bool cond_164589 = sle64(lower_bound_164569, eta_p_164587);
            bool cond_t_res_164590 = slt64(eta_p_164587, min_res_164571);
            bool x_164591 = cond_164589 && cond_t_res_164590;
            int64_t lifted_lambda_res_164592;
            
            if (x_164591) {
                int64_t tmp_178564 = sub64(eta_p_164587, lower_bound_164569);
                bool x_178565 = sle64((int64_t) 0, tmp_178564);
                bool y_178566 = slt64(tmp_178564, j_m_i_164572);
                bool bounds_check_178567 = x_178565 && y_178566;
                bool index_certs_178568;
                
                if (!bounds_check_178567) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178564, "] out of bounds for array of shape [", (long long) j_m_i_164572, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:55:1-57:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t tmp_178569 = ((int64_t *) ys_mem_181053.mem)[eta_p_164587];
                
                lifted_lambda_res_164592 = tmp_178569;
            } else {
                lifted_lambda_res_164592 = eta_p_164588;
            }
            ((int64_t *) mem_181073.mem)[i_180718] = lifted_lambda_res_164592;
        }
        
        int64_t tmp_164599 = add64((int64_t) 1, p_164568);
        bool loop_cond_164600 = slt64(tmp_164599, m_164558);
        
        if (memblock_set(ctx, &mem_param_tmp_182469, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182470, &mem_181073, "mem_181073") != 0)
            return 1;
        
        bool loop_while_tmp_182471 = loop_cond_164600;
        int64_t p_tmp_182474 = tmp_164599;
        
        if (memblock_set(ctx, &mem_param_181066, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181069, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        loop_while_164565 = loop_while_tmp_182471;
        p_164568 = p_tmp_182474;
    }
    if (memblock_set(ctx, &ext_mem_181085, &mem_param_181066, "mem_param_181066") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181084, &mem_param_181069, "mem_param_181069") != 0)
        return 1;
    partitioned_gather_res_164561 = loop_while_164565;
    partitioned_gather_res_164564 = p_164568;
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181087, bytes_181054, "mem_181087")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181087.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109150});
    if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181087, "mem_181087") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183063, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181087, "mem_181087") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181073, "mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181069, "mem_param_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181066, "mem_param_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181085, "ext_mem_181085") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183064, struct memblock is_mem_181052, struct memblock ys_mem_181053, int64_t n_108486, int64_t incr_108487, int64_t block_sizze_108488)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181087;
    
    mem_181087.references = NULL;
    
    struct memblock mem_param_tmp_182470;
    
    mem_param_tmp_182470.references = NULL;
    
    struct memblock mem_param_tmp_182469;
    
    mem_param_tmp_182469.references = NULL;
    
    struct memblock mem_181073;
    
    mem_181073.references = NULL;
    
    struct memblock mem_181071;
    
    mem_181071.references = NULL;
    
    struct memblock mem_param_181069;
    
    mem_param_181069.references = NULL;
    
    struct memblock mem_param_181066;
    
    mem_param_181066.references = NULL;
    
    struct memblock ext_mem_181084;
    
    ext_mem_181084.references = NULL;
    
    struct memblock ext_mem_181085;
    
    ext_mem_181085.references = NULL;
    
    struct memblock mem_181063;
    
    mem_181063.references = NULL;
    
    struct memblock mem_181055;
    
    mem_181055.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t bytes_181054 = (int64_t) 8 * n_108486;
    bool zzero_164555 = block_sizze_108488 == (int64_t) 0;
    bool nonzzero_164556 = !zzero_164555;
    bool nonzzero_cert_164557;
    
    if (!nonzzero_164556) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181062 = (int64_t) 2 * n_108486;
    
    if (memblock_alloc(ctx, &mem_181055, bytes_181054, "mem_181055")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180714 = 0; i_180714 < n_108486; i_180714++) {
        int64_t eta_p_164551 = ((int64_t *) is_mem_181052.mem)[i_180714];
        int64_t lifted_lambda_res_164552 = sub64(eta_p_164551, incr_108487);
        
        ((int64_t *) mem_181055.mem)[i_180714] = lifted_lambda_res_164552;
    }
    
    int64_t zm_lhs_164553 = add64(n_108486, block_sizze_108488);
    int64_t zs_lhs_164554 = sub64(zm_lhs_164553, (int64_t) 1);
    int64_t m_164558 = sdiv64(zs_lhs_164554, block_sizze_108488);
    
    if (memblock_alloc(ctx, &mem_181063, bytes_181062, "mem_181063")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182468 = 0; nest_i_182468 < n_108486; nest_i_182468++) {
        ((int16_t *) mem_181063.mem)[nest_i_182468] = (int16_t) 0;
    }
    
    bool loop_cond_164560 = slt64((int64_t) 0, m_164558);
    bool partitioned_gather_res_164561;
    int64_t partitioned_gather_res_164564;
    bool loop_while_164565;
    int64_t p_164568;
    
    if (memblock_set(ctx, &mem_param_181066, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181069, &mem_181063, "mem_181063") != 0)
        return 1;
    loop_while_164565 = loop_cond_164560;
    p_164568 = (int64_t) 0;
    while (loop_while_164565) {
        int64_t lower_bound_164569 = mul64(block_sizze_108488, p_164568);
        int64_t min_arg1_164570 = add64(block_sizze_108488, lower_bound_164569);
        int64_t min_res_164571 = smin64(n_108486, min_arg1_164570);
        int64_t j_m_i_164572 = sub64(min_res_164571, lower_bound_164569);
        bool empty_slice_164573 = j_m_i_164572 == (int64_t) 0;
        int64_t m_164574 = sub64(j_m_i_164572, (int64_t) 1);
        int64_t i_p_m_t_s_164575 = add64(lower_bound_164569, m_164574);
        bool zzero_leq_i_p_m_t_s_164576 = sle64((int64_t) 0, i_p_m_t_s_164575);
        bool i_p_m_t_s_leq_w_164577 = slt64(i_p_m_t_s_164575, n_108486);
        bool zzero_lte_i_164578 = sle64((int64_t) 0, lower_bound_164569);
        bool i_lte_j_164579 = sle64(lower_bound_164569, min_res_164571);
        bool y_164580 = i_p_m_t_s_leq_w_164577 && zzero_lte_i_164578;
        bool y_164581 = zzero_leq_i_p_m_t_s_164576 && y_164580;
        bool forwards_ok_164582 = i_lte_j_164579 && y_164581;
        bool ok_or_empty_164583 = empty_slice_164573 || forwards_ok_164582;
        bool index_certs_164584;
        
        if (!ok_or_empty_164583) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164569, ":", (long long) min_res_164571, "] out of bounds for array of shape [", (long long) n_108486, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181071, bytes_181054, "mem_181071")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181071.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181066.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108486});
        if (memblock_alloc(ctx, &mem_181073, bytes_181062, "mem_181073")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180718 = 0; i_180718 < n_108486; i_180718++) {
            int64_t eta_p_164587 = ((int64_t *) mem_param_181066.mem)[i_180718];
            int16_t eta_p_164588 = ((int16_t *) mem_param_181069.mem)[i_180718];
            bool cond_164589 = sle64(lower_bound_164569, eta_p_164587);
            bool cond_t_res_164590 = slt64(eta_p_164587, min_res_164571);
            bool x_164591 = cond_164589 && cond_t_res_164590;
            int16_t lifted_lambda_res_164592;
            
            if (x_164591) {
                int64_t tmp_178564 = sub64(eta_p_164587, lower_bound_164569);
                bool x_178565 = sle64((int64_t) 0, tmp_178564);
                bool y_178566 = slt64(tmp_178564, j_m_i_164572);
                bool bounds_check_178567 = x_178565 && y_178566;
                bool index_certs_178568;
                
                if (!bounds_check_178567) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178564, "] out of bounds for array of shape [", (long long) j_m_i_164572, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:47:1-49:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t tmp_178569 = ((int16_t *) ys_mem_181053.mem)[eta_p_164587];
                
                lifted_lambda_res_164592 = tmp_178569;
            } else {
                lifted_lambda_res_164592 = eta_p_164588;
            }
            ((int16_t *) mem_181073.mem)[i_180718] = lifted_lambda_res_164592;
        }
        
        int64_t tmp_164599 = add64((int64_t) 1, p_164568);
        bool loop_cond_164600 = slt64(tmp_164599, m_164558);
        
        if (memblock_set(ctx, &mem_param_tmp_182469, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182470, &mem_181073, "mem_181073") != 0)
            return 1;
        
        bool loop_while_tmp_182471 = loop_cond_164600;
        int64_t p_tmp_182474 = tmp_164599;
        
        if (memblock_set(ctx, &mem_param_181066, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181069, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        loop_while_164565 = loop_while_tmp_182471;
        p_164568 = p_tmp_182474;
    }
    if (memblock_set(ctx, &ext_mem_181085, &mem_param_181066, "mem_param_181066") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181084, &mem_param_181069, "mem_param_181069") != 0)
        return 1;
    partitioned_gather_res_164561 = loop_while_164565;
    partitioned_gather_res_164564 = p_164568;
    if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181087, bytes_181062, "mem_181087")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181087.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108486});
    if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181087, "mem_181087") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183064, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181087, "mem_181087") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182470, "mem_param_tmp_182470") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182469, "mem_param_tmp_182469") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181073, "mem_181073") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181071, "mem_181071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181069, "mem_param_181069") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181066, "mem_param_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181084, "ext_mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181085, "ext_mem_181085") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181063, "mem_181063") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181055, "mem_181055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183065, struct memblock *mem_out_p_183066, struct memblock xs_mem_181052, int64_t n_96319, int64_t incr_96320, int16_t block_sizze_96321)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181055_cached_sizze_183067 = 0;
    unsigned char *mem_181055 = NULL;
    int64_t mem_181057_cached_sizze_183068 = 0;
    unsigned char *mem_181057 = NULL;
    int64_t mem_181065_cached_sizze_183069 = 0;
    unsigned char *mem_181065 = NULL;
    int64_t mem_181067_cached_sizze_183070 = 0;
    unsigned char *mem_181067 = NULL;
    int64_t mem_181069_cached_sizze_183071 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183072 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_183073 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181105_cached_sizze_183074 = 0;
    unsigned char *mem_181105 = NULL;
    int64_t mem_181107_cached_sizze_183075 = 0;
    unsigned char *mem_181107 = NULL;
    int64_t mem_181120_cached_sizze_183076 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181121_cached_sizze_183077 = 0;
    unsigned char *mem_181121 = NULL;
    int64_t mem_181128_cached_sizze_183078 = 0;
    unsigned char *mem_181128 = NULL;
    int64_t mem_181131_cached_sizze_183079 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181134_cached_sizze_183080 = 0;
    unsigned char *mem_181134 = NULL;
    int64_t mem_181137_cached_sizze_183081 = 0;
    unsigned char *mem_181137 = NULL;
    int64_t mem_181140_cached_sizze_183082 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181162_cached_sizze_183083 = 0;
    unsigned char *mem_181162 = NULL;
    int64_t mem_181164_cached_sizze_183084 = 0;
    unsigned char *mem_181164 = NULL;
    int64_t mem_181166_cached_sizze_183085 = 0;
    unsigned char *mem_181166 = NULL;
    int64_t mem_181168_cached_sizze_183086 = 0;
    unsigned char *mem_181168 = NULL;
    int64_t mem_181170_cached_sizze_183087 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181213_cached_sizze_183088 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181214_cached_sizze_183089 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181239_cached_sizze_183090 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181247_cached_sizze_183091 = 0;
    unsigned char *mem_181247 = NULL;
    struct memblock mem_181275;
    
    mem_181275.references = NULL;
    
    struct memblock mem_181273;
    
    mem_181273.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    bool cond_171786 = n_96319 == (int64_t) 0;
    int32_t iters_171787;
    
    if (cond_171786) {
        iters_171787 = 0;
    } else {
        iters_171787 = 32;
    }
    
    int64_t i16_res_171788 = sext_i16_i64(block_sizze_96321);
    bool zzero_171789 = i16_res_171788 == (int64_t) 0;
    bool nonzzero_171790 = !zzero_171789;
    bool nonzzero_cert_171791;
    
    if (!nonzzero_171790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:217:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171792 = sdiv64(n_96319, i16_res_171788);
    int64_t rest_171793 = smod64(n_96319, i16_res_171788);
    int64_t arg_171794 = mul64(i16_res_171788, n_blocks_171792);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795 = add64(rest_171793, arg_171794);
    bool dim_match_171796 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795 == n_96319;
    bool empty_or_match_cert_171797;
    
    if (!dim_match_171796) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_96319, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:217:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181054 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795;
    bool loop_nonempty_171801 = slt32(0, iters_171787);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 = add64((int64_t) 1, n_blocks_171792);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
    bool empty_slice_171804 = arg_171794 == (int64_t) 0;
    int64_t m_171805 = sub64(arg_171794, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171806 = sle64((int64_t) 0, m_171805);
    bool i_p_m_t_s_leq_w_171807 = slt64(m_171805, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool i_lte_j_171808 = sle64((int64_t) 0, arg_171794);
    bool y_171809 = zzero_leq_i_p_m_t_s_171806 && i_p_m_t_s_leq_w_171807;
    bool forwards_ok_171810 = i_lte_j_171808 && y_171809;
    bool ok_or_empty_171811 = empty_slice_171804 || forwards_ok_171810;
    bool loop_not_taken_171812 = !loop_nonempty_171801;
    bool protect_assert_disj_171813 = ok_or_empty_171811 || loop_not_taken_171812;
    bool index_certs_171814;
    
    if (!protect_assert_disj_171813) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171794, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171815 = rest_171793 == (int64_t) 0;
    int64_t m_171816 = sub64(rest_171793, (int64_t) 1);
    int64_t i_p_m_t_s_171817 = add64(arg_171794, m_171816);
    bool zzero_leq_i_p_m_t_s_171818 = sle64((int64_t) 0, i_p_m_t_s_171817);
    bool i_p_m_t_s_leq_w_171819 = slt64(i_p_m_t_s_171817, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool i_lte_j_171820 = sle64(arg_171794, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool y_171821 = zzero_leq_i_p_m_t_s_171818 && i_p_m_t_s_leq_w_171819;
    bool forwards_ok_171822 = i_lte_j_171820 && y_171821;
    bool ok_or_empty_171823 = empty_slice_171815 || forwards_ok_171822;
    bool protect_assert_disj_171824 = loop_not_taken_171812 || ok_or_empty_171823;
    bool index_certs_171825;
    
    if (!protect_assert_disj_171824) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171794, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171826 = sle64((int64_t) 0, n_blocks_171792);
    bool binop_y_171827 = sle64((int64_t) 0, i16_res_171788);
    bool binop_y_171828 = binop_x_171826 && binop_y_171827;
    bool protect_assert_disj_171829 = loop_not_taken_171812 || binop_y_171828;
    bool dim_ok_cert_171830;
    
    if (!protect_assert_disj_171829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171794, "] to array of shape [", (long long) n_blocks_171792, "][", (long long) i16_res_171788, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171831 = sub64(i16_res_171788, (int64_t) 1);
    bool x_171832 = sle64((int64_t) 0, tmp_171831);
    bool y_171833 = slt64(tmp_171831, i16_res_171788);
    bool bounds_check_171834 = x_171832 && y_171833;
    bool protect_assert_disj_171835 = zzero_171789 || bounds_check_171834;
    bool protect_assert_disj_171836 = loop_not_taken_171812 || protect_assert_disj_171835;
    bool index_certs_171837;
    
    if (!protect_assert_disj_171836) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171831, "] out of bounds for array of shape [", (long long) i16_res_171788, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171839 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803);
    bool protect_assert_disj_171840 = loop_not_taken_171812 || y_171839;
    bool index_certs_171841;
    
    if (!protect_assert_disj_171840) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171843 = nonzzero_171790 || loop_not_taken_171812;
    bool nonzzero_cert_171844;
    
    if (!protect_assert_disj_171843) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171845 = sle64((int64_t) 0, m_171816);
    bool y_171846 = slt64(m_171816, rest_171793);
    bool bounds_check_171847 = x_171845 && y_171846;
    bool protect_assert_disj_171848 = empty_slice_171815 || bounds_check_171847;
    bool protect_assert_disj_171849 = loop_not_taken_171812 || protect_assert_disj_171848;
    bool index_certs_171850;
    
    if (!protect_assert_disj_171849) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171816, "] out of bounds for array of shape [", (long long) rest_171793, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181064 = (int64_t) 2 * rest_171793;
    int64_t bytes_181104 = (int64_t) 8 * rest_171793;
    int64_t binop_x_181129 = (int64_t) 8 * n_blocks_171792;
    int64_t bytes_181130 = i16_res_171788 * binop_x_181129;
    int64_t bytes_181136 = (int64_t) 32 * n_blocks_171792;
    int64_t bytes_181161 = (int64_t) 2 * i16_res_171788;
    int64_t bytes_181238 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802;
    bool dim_match_172123 = n_96319 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795;
    bool empty_or_match_cert_172124;
    
    if (!dim_match_172123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "] cannot match shape of type `[", (long long) n_96319, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181272 = (int64_t) 8 * n_96319;
    
    if (futrts_indicesWithIncrement_9618(ctx, &ext_mem_181053, xs_mem_181052, n_96319, incr_96320) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181055_cached_sizze_183067 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181055, &mem_181055_cached_sizze_183067, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181055, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795});
    if (mem_181057_cached_sizze_183068 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181057, &mem_181057_cached_sizze_183068, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182468 = 0; i_182468 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795; i_182468++) {
        int64_t x_182469 = (int64_t) 0 + i_182468 * (int64_t) 1;
        
        ((int64_t *) mem_181057)[i_182468] = x_182469;
    }
    if (mem_181065_cached_sizze_183069 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181065, &mem_181065_cached_sizze_183069, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181067_cached_sizze_183070 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181067, &mem_181067_cached_sizze_183070, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181069_cached_sizze_183071 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183071, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181071_cached_sizze_183072 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183072, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181073_cached_sizze_183073 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_183073, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181105_cached_sizze_183074 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181105, &mem_181105_cached_sizze_183074, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181107_cached_sizze_183075 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181107, &mem_181107_cached_sizze_183075, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183076 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183076, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181121_cached_sizze_183077 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181121, &mem_181121_cached_sizze_183077, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181128_cached_sizze_183078 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181128, &mem_181128_cached_sizze_183078, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181131_cached_sizze_183079 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183079, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181134_cached_sizze_183080 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181134, &mem_181134_cached_sizze_183080, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181137_cached_sizze_183081 < bytes_181136) {
        err = lexical_realloc(ctx, &mem_181137, &mem_181137_cached_sizze_183081, bytes_181136);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181140_cached_sizze_183082 < binop_x_181129) {
        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_183082, binop_x_181129);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181162_cached_sizze_183083 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181162, &mem_181162_cached_sizze_183083, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181164_cached_sizze_183084 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181164, &mem_181164_cached_sizze_183084, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181166_cached_sizze_183085 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181166, &mem_181166_cached_sizze_183085, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181168_cached_sizze_183086 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181168, &mem_181168_cached_sizze_183086, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181170_cached_sizze_183087 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_183087, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181213_cached_sizze_183088 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_183088, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181214_cached_sizze_183089 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183089, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181239_cached_sizze_183090 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_183090, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183091 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183091, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171853 = 0; i_171853 < iters_171787; i_171853++) {
        int32_t blocked_radix_sort_step_arg1_171856 = mul32(2, i_171853);
        int32_t get_bit_arg0_171861 = add32(1, blocked_radix_sort_step_arg1_171856);
        int64_t unsign_arg0_171862 = zext_i32_i64(get_bit_arg0_171861);
        bool cond_f_res_171863 = get_bit_arg0_171861 == 63;
        int64_t unsign_arg0_171864 = zext_i32_i64(blocked_radix_sort_step_arg1_171856);
        bool cond_f_res_171865 = blocked_radix_sort_step_arg1_171856 == 63;
        int16_t discard_180732;
        int16_t discard_180733;
        int16_t discard_180734;
        int16_t discard_180735;
        int16_t scanacc_180717;
        int16_t scanacc_180718;
        int16_t scanacc_180719;
        int16_t scanacc_180720;
        
        scanacc_180717 = (int16_t) 0;
        scanacc_180718 = (int16_t) 0;
        scanacc_180719 = (int16_t) 0;
        scanacc_180720 = (int16_t) 0;
        for (int64_t i_180726 = 0; i_180726 < rest_171793; i_180726++) {
            int64_t slice_180939 = arg_171794 + i_180726;
            double eta_p_178648 = ((double *) mem_181055)[slice_180939];
            int64_t i64_arg0_178649 = futrts_to_bits64(eta_p_178648);
            int64_t unsign_arg0_178650 = ashr64(i64_arg0_178649, unsign_arg0_171862);
            int64_t unsign_arg0_178651 = (int64_t) 1 & unsign_arg0_178650;
            int32_t to_i32_res_178652 = zext_i64_i32(unsign_arg0_178651);
            int64_t unsign_arg0_178653 = ashr64(i64_arg0_178649, (int64_t) 63);
            int64_t unsign_arg0_178654 = (int64_t) 1 & unsign_arg0_178653;
            int32_t to_i32_res_178655 = zext_i64_i32(unsign_arg0_178654);
            bool cond_178656 = to_i32_res_178655 == 1;
            bool x_178657 = !cond_178656;
            bool y_178658 = cond_f_res_171863 && x_178657;
            bool cond_178659 = cond_178656 || y_178658;
            int32_t defunc_0_get_bit_res_178660;
            
            if (cond_178659) {
                int32_t defunc_0_get_bit_res_t_res_178790 = 1 ^ to_i32_res_178652;
                
                defunc_0_get_bit_res_178660 = defunc_0_get_bit_res_t_res_178790;
            } else {
                defunc_0_get_bit_res_178660 = to_i32_res_178652;
            }
            
            int32_t zp_lhs_178662 = mul32(2, defunc_0_get_bit_res_178660);
            int64_t unsign_arg0_178663 = ashr64(i64_arg0_178649, unsign_arg0_171864);
            int64_t unsign_arg0_178664 = (int64_t) 1 & unsign_arg0_178663;
            int32_t to_i32_res_178665 = zext_i64_i32(unsign_arg0_178664);
            bool y_178666 = cond_f_res_171865 && x_178657;
            bool cond_178667 = cond_178656 || y_178666;
            int32_t defunc_0_get_bit_res_178668;
            
            if (cond_178667) {
                int32_t defunc_0_get_bit_res_t_res_178791 = 1 ^ to_i32_res_178665;
                
                defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_t_res_178791;
            } else {
                defunc_0_get_bit_res_178668 = to_i32_res_178665;
            }
            
            int32_t i32_arg0_178670 = add32(zp_lhs_178662, defunc_0_get_bit_res_178668);
            int16_t i32_res_178671 = sext_i32_i16(i32_arg0_178670);
            int16_t defunc_0_f_res_178673;
            int16_t defunc_0_f_res_178674;
            int16_t defunc_0_f_res_178675;
            int16_t defunc_0_f_res_178676;
            
            if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178673, &defunc_0_f_res_178674, &defunc_0_f_res_178675, &defunc_0_f_res_178676, i32_res_178671) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171916 = add16(defunc_0_f_res_178673, scanacc_180717);
            int16_t defunc_0_op_res_171917 = add16(defunc_0_f_res_178674, scanacc_180718);
            int16_t defunc_0_op_res_171918 = add16(defunc_0_f_res_178675, scanacc_180719);
            int16_t defunc_0_op_res_171919 = add16(defunc_0_f_res_178676, scanacc_180720);
            
            ((int16_t *) mem_181065)[i_180726] = defunc_0_op_res_171916;
            ((int16_t *) mem_181067)[i_180726] = defunc_0_op_res_171917;
            ((int16_t *) mem_181069)[i_180726] = defunc_0_op_res_171918;
            ((int16_t *) mem_181071)[i_180726] = defunc_0_op_res_171919;
            ((int16_t *) mem_181073)[i_180726] = i32_res_178671;
            
            int16_t scanacc_tmp_182472 = defunc_0_op_res_171916;
            int16_t scanacc_tmp_182473 = defunc_0_op_res_171917;
            int16_t scanacc_tmp_182474 = defunc_0_op_res_171918;
            int16_t scanacc_tmp_182475 = defunc_0_op_res_171919;
            
            scanacc_180717 = scanacc_tmp_182472;
            scanacc_180718 = scanacc_tmp_182473;
            scanacc_180719 = scanacc_tmp_182474;
            scanacc_180720 = scanacc_tmp_182475;
        }
        discard_180732 = scanacc_180717;
        discard_180733 = scanacc_180718;
        discard_180734 = scanacc_180719;
        discard_180735 = scanacc_180720;
        
        int16_t defunc_0_radix_sort_step_i16_res_171920;
        int16_t defunc_0_radix_sort_step_i16_res_171921;
        int16_t defunc_0_radix_sort_step_i16_res_171922;
        int16_t defunc_0_radix_sort_step_i16_res_171923;
        
        if (empty_slice_171815) {
            defunc_0_radix_sort_step_i16_res_171920 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171921 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171922 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171923 = (int16_t) 0;
        } else {
            int16_t last_res_171924 = ((int16_t *) mem_181065)[m_171816];
            int16_t last_res_171925 = ((int16_t *) mem_181067)[m_171816];
            int16_t last_res_171926 = ((int16_t *) mem_181069)[m_171816];
            int16_t last_res_171927 = ((int16_t *) mem_181071)[m_171816];
            
            defunc_0_radix_sort_step_i16_res_171920 = last_res_171924;
            defunc_0_radix_sort_step_i16_res_171921 = last_res_171925;
            defunc_0_radix_sort_step_i16_res_171922 = last_res_171926;
            defunc_0_radix_sort_step_i16_res_171923 = last_res_171927;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181105, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + (int64_t) 1 * arg_171794, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171793});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181107, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181055, (int64_t) 0 + (int64_t) 1 * arg_171794, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171793});
        for (int64_t write_iter_180736 = 0; write_iter_180736 < rest_171793; write_iter_180736++) {
            int16_t write_iv_180739 = ((int16_t *) mem_181073)[write_iter_180736];
            int16_t write_iv_180740 = ((int16_t *) mem_181065)[write_iter_180736];
            int16_t write_iv_180741 = ((int16_t *) mem_181067)[write_iter_180736];
            int16_t write_iv_180742 = ((int16_t *) mem_181069)[write_iter_180736];
            int16_t write_iv_180743 = ((int16_t *) mem_181071)[write_iter_180736];
            int64_t slice_180938 = arg_171794 + write_iter_180736;
            double write_iv_180744 = ((double *) mem_181055)[slice_180938];
            int64_t write_iv_180745 = ((int64_t *) mem_181057)[slice_180938];
            int64_t defunc_0_f_res_178632;
            
            if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178632, defunc_0_radix_sort_step_i16_res_171920, defunc_0_radix_sort_step_i16_res_171921, defunc_0_radix_sort_step_i16_res_171922, write_iv_180739, write_iv_180740, write_iv_180741, write_iv_180742, write_iv_180743) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178632) && slt64(defunc_0_f_res_178632, rest_171793)) {
                ((double *) mem_181107)[defunc_0_f_res_178632] = write_iv_180744;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178632) && slt64(defunc_0_f_res_178632, rest_171793)) {
                ((int64_t *) mem_181105)[defunc_0_f_res_178632] = write_iv_180745;
            }
        }
        ((int16_t *) mem_181120)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171920;
        ((int16_t *) mem_181120)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171921;
        ((int16_t *) mem_181120)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171922;
        ((int16_t *) mem_181120)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171923;
        for (int64_t i_180750 = 0; i_180750 < (int64_t) 4; i_180750++) {
            int16_t eta_p_171944 = ((int16_t *) mem_181120)[i_180750];
            int64_t i16_res_171945 = sext_i16_i64(eta_p_171944);
            
            ((int64_t *) mem_181121)[i_180750] = i16_res_171945;
        }
        
        int16_t tmp_171946 = add16(defunc_0_radix_sort_step_i16_res_171920, defunc_0_radix_sort_step_i16_res_171921);
        int16_t tmp_171947 = add16(defunc_0_radix_sort_step_i16_res_171922, tmp_171946);
        
        ((int16_t *) mem_181128)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181128)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171920;
        ((int16_t *) mem_181128)[(int64_t) 2] = tmp_171946;
        ((int16_t *) mem_181128)[(int64_t) 3] = tmp_171947;
        for (int64_t i_180800 = 0; i_180800 < n_blocks_171792; i_180800++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181131, i_180800 * i16_res_171788, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181055, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_171788), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171788});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181134, i_180800 * i16_res_171788, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_171788), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171788});
            
            int64_t binop_x_180952 = i16_res_171788 * i_180800;
            int16_t discard_180772;
            int16_t discard_180773;
            int16_t discard_180774;
            int16_t discard_180775;
            int16_t scanacc_180757;
            int16_t scanacc_180758;
            int16_t scanacc_180759;
            int16_t scanacc_180760;
            
            scanacc_180757 = (int16_t) 0;
            scanacc_180758 = (int16_t) 0;
            scanacc_180759 = (int16_t) 0;
            scanacc_180760 = (int16_t) 0;
            for (int64_t i_180766 = 0; i_180766 < i16_res_171788; i_180766++) {
                int64_t new_index_180953 = i_180766 + binop_x_180952;
                double eta_p_178707 = ((double *) mem_181055)[new_index_180953];
                int64_t i64_arg0_178708 = futrts_to_bits64(eta_p_178707);
                int64_t unsign_arg0_178709 = ashr64(i64_arg0_178708, unsign_arg0_171862);
                int64_t unsign_arg0_178710 = (int64_t) 1 & unsign_arg0_178709;
                int32_t to_i32_res_178711 = zext_i64_i32(unsign_arg0_178710);
                int64_t unsign_arg0_178712 = ashr64(i64_arg0_178708, (int64_t) 63);
                int64_t unsign_arg0_178713 = (int64_t) 1 & unsign_arg0_178712;
                int32_t to_i32_res_178714 = zext_i64_i32(unsign_arg0_178713);
                bool cond_178715 = to_i32_res_178714 == 1;
                bool x_178716 = !cond_178715;
                bool y_178717 = cond_f_res_171863 && x_178716;
                bool cond_178718 = cond_178715 || y_178717;
                int32_t defunc_0_get_bit_res_178719;
                
                if (cond_178718) {
                    int32_t defunc_0_get_bit_res_t_res_178792 = 1 ^ to_i32_res_178711;
                    
                    defunc_0_get_bit_res_178719 = defunc_0_get_bit_res_t_res_178792;
                } else {
                    defunc_0_get_bit_res_178719 = to_i32_res_178711;
                }
                
                int32_t zp_lhs_178721 = mul32(2, defunc_0_get_bit_res_178719);
                int64_t unsign_arg0_178722 = ashr64(i64_arg0_178708, unsign_arg0_171864);
                int64_t unsign_arg0_178723 = (int64_t) 1 & unsign_arg0_178722;
                int32_t to_i32_res_178724 = zext_i64_i32(unsign_arg0_178723);
                bool y_178725 = cond_f_res_171865 && x_178716;
                bool cond_178726 = cond_178715 || y_178725;
                int32_t defunc_0_get_bit_res_178727;
                
                if (cond_178726) {
                    int32_t defunc_0_get_bit_res_t_res_178793 = 1 ^ to_i32_res_178724;
                    
                    defunc_0_get_bit_res_178727 = defunc_0_get_bit_res_t_res_178793;
                } else {
                    defunc_0_get_bit_res_178727 = to_i32_res_178724;
                }
                
                int32_t i32_arg0_178729 = add32(zp_lhs_178721, defunc_0_get_bit_res_178727);
                int16_t i32_res_178730 = sext_i32_i16(i32_arg0_178729);
                int16_t defunc_0_f_res_178732;
                int16_t defunc_0_f_res_178733;
                int16_t defunc_0_f_res_178734;
                int16_t defunc_0_f_res_178735;
                
                if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178732, &defunc_0_f_res_178733, &defunc_0_f_res_178734, &defunc_0_f_res_178735, i32_res_178730) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172011 = add16(defunc_0_f_res_178732, scanacc_180757);
                int16_t defunc_0_op_res_172012 = add16(defunc_0_f_res_178733, scanacc_180758);
                int16_t defunc_0_op_res_172013 = add16(defunc_0_f_res_178734, scanacc_180759);
                int16_t defunc_0_op_res_172014 = add16(defunc_0_f_res_178735, scanacc_180760);
                
                ((int16_t *) mem_181162)[i_180766] = defunc_0_op_res_172011;
                ((int16_t *) mem_181164)[i_180766] = defunc_0_op_res_172012;
                ((int16_t *) mem_181166)[i_180766] = defunc_0_op_res_172013;
                ((int16_t *) mem_181168)[i_180766] = defunc_0_op_res_172014;
                ((int16_t *) mem_181170)[i_180766] = i32_res_178730;
                
                int16_t scanacc_tmp_182488 = defunc_0_op_res_172011;
                int16_t scanacc_tmp_182489 = defunc_0_op_res_172012;
                int16_t scanacc_tmp_182490 = defunc_0_op_res_172013;
                int16_t scanacc_tmp_182491 = defunc_0_op_res_172014;
                
                scanacc_180757 = scanacc_tmp_182488;
                scanacc_180758 = scanacc_tmp_182489;
                scanacc_180759 = scanacc_tmp_182490;
                scanacc_180760 = scanacc_tmp_182491;
            }
            discard_180772 = scanacc_180757;
            discard_180773 = scanacc_180758;
            discard_180774 = scanacc_180759;
            discard_180775 = scanacc_180760;
            
            int16_t defunc_0_f_res_172015;
            int16_t defunc_0_f_res_172016;
            int16_t defunc_0_f_res_172017;
            int16_t defunc_0_f_res_172018;
            
            if (zzero_171789) {
                defunc_0_f_res_172015 = (int16_t) 0;
                defunc_0_f_res_172016 = (int16_t) 0;
                defunc_0_f_res_172017 = (int16_t) 0;
                defunc_0_f_res_172018 = (int16_t) 0;
            } else {
                int16_t last_res_172019 = ((int16_t *) mem_181162)[tmp_171831];
                int16_t last_res_172020 = ((int16_t *) mem_181164)[tmp_171831];
                int16_t last_res_172021 = ((int16_t *) mem_181166)[tmp_171831];
                int16_t last_res_172022 = ((int16_t *) mem_181168)[tmp_171831];
                
                defunc_0_f_res_172015 = last_res_172019;
                defunc_0_f_res_172016 = last_res_172020;
                defunc_0_f_res_172017 = last_res_172021;
                defunc_0_f_res_172018 = last_res_172022;
            }
            for (int64_t write_iter_180776 = 0; write_iter_180776 < i16_res_171788; write_iter_180776++) {
                int16_t write_iv_180779 = ((int16_t *) mem_181170)[write_iter_180776];
                int16_t write_iv_180780 = ((int16_t *) mem_181162)[write_iter_180776];
                int16_t write_iv_180781 = ((int16_t *) mem_181164)[write_iter_180776];
                int16_t write_iv_180782 = ((int16_t *) mem_181166)[write_iter_180776];
                int16_t write_iv_180783 = ((int16_t *) mem_181168)[write_iter_180776];
                int64_t new_index_180949 = write_iter_180776 + binop_x_180952;
                double write_iv_180784 = ((double *) mem_181055)[new_index_180949];
                int64_t write_iv_180785 = ((int64_t *) mem_181057)[new_index_180949];
                int64_t defunc_0_f_res_178691;
                
                if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178691, defunc_0_f_res_172015, defunc_0_f_res_172016, defunc_0_f_res_172017, write_iv_180779, write_iv_180780, write_iv_180781, write_iv_180782, write_iv_180783) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178691) && slt64(defunc_0_f_res_178691, i16_res_171788)) {
                    ((double *) mem_181131)[i_180800 * i16_res_171788 + defunc_0_f_res_178691] = write_iv_180784;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178691) && slt64(defunc_0_f_res_178691, i16_res_171788)) {
                    ((int64_t *) mem_181134)[i_180800 * i16_res_171788 + defunc_0_f_res_178691] = write_iv_180785;
                }
            }
            ((int16_t *) mem_181213)[(int64_t) 0] = defunc_0_f_res_172015;
            ((int16_t *) mem_181213)[(int64_t) 1] = defunc_0_f_res_172016;
            ((int16_t *) mem_181213)[(int64_t) 2] = defunc_0_f_res_172017;
            ((int16_t *) mem_181213)[(int64_t) 3] = defunc_0_f_res_172018;
            for (int64_t i_180790 = 0; i_180790 < (int64_t) 4; i_180790++) {
                int16_t eta_p_172037 = ((int16_t *) mem_181213)[i_180790];
                int64_t i16_res_172038 = sext_i16_i64(eta_p_172037);
                
                ((int64_t *) mem_181214)[i_180790] = i16_res_172038;
            }
            
            int16_t tmp_172039 = add16(defunc_0_f_res_172015, defunc_0_f_res_172016);
            int16_t tmp_172040 = add16(defunc_0_f_res_172017, tmp_172039);
            
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172015;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 2] = tmp_172039;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 3] = tmp_172040;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137, i_180800 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180812;
        int64_t scanacc_180808 = (int64_t) 0;
        
        for (int64_t i_180810 = 0; i_180810 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803; i_180810++) {
            int64_t new_index_180927 = squot64(i_180810, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
            int64_t binop_y_180929 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 * new_index_180927;
            int64_t new_index_180930 = i_180810 - binop_y_180929;
            bool index_concat_cmp_180932 = sle64(n_blocks_171792, new_index_180930);
            int64_t index_concat_branch_180936;
            
            if (index_concat_cmp_180932) {
                int64_t index_concat_180934 = ((int64_t *) mem_181121)[new_index_180927];
                
                index_concat_branch_180936 = index_concat_180934;
            } else {
                int64_t index_concat_180935 = ((int64_t *) mem_181137)[new_index_180930 * (int64_t) 4 + new_index_180927];
                
                index_concat_branch_180936 = index_concat_180935;
            }
            
            int64_t defunc_0_op_res_172054 = add64(scanacc_180808, index_concat_branch_180936);
            
            ((int64_t *) mem_181239)[i_180810] = defunc_0_op_res_172054;
            
            int64_t scanacc_tmp_182500 = defunc_0_op_res_172054;
            
            scanacc_180808 = scanacc_tmp_182500;
        }
        discard_180812 = scanacc_180808;
        for (int64_t i_180815 = 0; i_180815 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803; i_180815++) {
            int64_t zv_lhs_172057 = add64((int64_t) -1, i_180815);
            int64_t tmp_172058 = smod64(zv_lhs_172057, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803);
            int64_t lifted_lambda_res_172059 = ((int64_t *) mem_181239)[tmp_172058];
            
            ((int64_t *) mem_181247)[i_180815] = lifted_lambda_res_172059;
        }
        ((int64_t *) mem_181247)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180817 = 0; write_iter_180817 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795; write_iter_180817++) {
            bool index_concat_cmp_180918 = sle64(arg_171794, write_iter_180817);
            double index_concat_branch_178573;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_178802 = sub64(write_iter_180817, arg_171794);
                double index_concat_178803 = ((double *) mem_181107)[index_concat_i_178802];
                
                index_concat_branch_178573 = index_concat_178803;
            } else {
                int64_t new_index_178576 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_178577 = i16_res_171788 * new_index_178576;
                int64_t new_index_178578 = write_iter_180817 - binop_y_178577;
                double index_concat_178579 = ((double *) mem_181131)[new_index_178576 * i16_res_171788 + new_index_178578];
                
                index_concat_branch_178573 = index_concat_178579;
            }
            
            int64_t i64_arg0_178580 = futrts_to_bits64(index_concat_branch_178573);
            int64_t unsign_arg0_178581 = ashr64(i64_arg0_178580, (int64_t) 63);
            int64_t unsign_arg0_178582 = (int64_t) 1 & unsign_arg0_178581;
            int32_t to_i32_res_178583 = zext_i64_i32(unsign_arg0_178582);
            bool cond_178584 = to_i32_res_178583 == 1;
            bool x_178585 = !cond_178584;
            int32_t zlzb_rhs_178586;
            int32_t acc_178588 = 0;
            
            for (int32_t i_178587 = 0; i_178587 < 2; i_178587++) {
                int32_t get_bit_arg0_178589 = add32(blocked_radix_sort_step_arg1_171856, i_178587);
                int64_t unsign_arg0_178590 = zext_i32_i64(get_bit_arg0_178589);
                int64_t unsign_arg0_178591 = ashr64(i64_arg0_178580, unsign_arg0_178590);
                int64_t unsign_arg0_178592 = (int64_t) 1 & unsign_arg0_178591;
                int32_t to_i32_res_178593 = zext_i64_i32(unsign_arg0_178592);
                bool cond_f_res_178594 = get_bit_arg0_178589 == 63;
                bool y_178595 = x_178585 && cond_f_res_178594;
                bool cond_178596 = cond_178584 || y_178595;
                int32_t defunc_0_get_bit_res_178597;
                
                if (cond_178596) {
                    int32_t defunc_0_get_bit_res_t_res_178804 = 1 ^ to_i32_res_178593;
                    
                    defunc_0_get_bit_res_178597 = defunc_0_get_bit_res_t_res_178804;
                } else {
                    defunc_0_get_bit_res_178597 = to_i32_res_178593;
                }
                
                int32_t zp_rhs_178599 = shl32(defunc_0_get_bit_res_178597, i_178587);
                int32_t loopres_178600 = add32(acc_178588, zp_rhs_178599);
                int32_t acc_tmp_182505 = loopres_178600;
                
                acc_178588 = acc_tmp_182505;
            }
            zlzb_rhs_178586 = acc_178588;
            
            int64_t i32_res_178601 = sext_i32_i64(zlzb_rhs_178586);
            int64_t block_idx_178602 = sdiv64(write_iter_180817, i16_res_171788);
            bool x_178603 = sle64((int64_t) 0, block_idx_178602);
            bool y_178604 = slt64(block_idx_178602, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
            bool bounds_check_178605 = x_178603 && y_178604;
            bool index_certs_178606;
            
            if (!bounds_check_178605) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178602, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178607 = sle64((int64_t) 0, i32_res_178601);
            bool y_178608 = slt64(i32_res_178601, (int64_t) 4);
            bool bounds_check_178609 = x_178607 && y_178608;
            bool index_certs_178610;
            
            if (!bounds_check_178609) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178601, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_180922;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180919 = sub64(write_iter_180817, arg_171794);
                double index_concat_180920 = ((double *) mem_181107)[index_concat_i_180919];
                
                index_concat_branch_180922 = index_concat_180920;
            } else {
                int64_t new_index_180944 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_180946 = i16_res_171788 * new_index_180944;
                int64_t new_index_180947 = write_iter_180817 - binop_y_180946;
                double index_concat_180921 = ((double *) mem_181131)[new_index_180944 * i16_res_171788 + new_index_180947];
                
                index_concat_branch_180922 = index_concat_180921;
            }
            
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180913 = sub64(write_iter_180817, arg_171794);
                int64_t index_concat_180914 = ((int64_t *) mem_181105)[index_concat_i_180913];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t new_index_180940 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_180942 = i16_res_171788 * new_index_180940;
                int64_t new_index_180943 = write_iter_180817 - binop_y_180942;
                int64_t index_concat_180915 = ((int64_t *) mem_181134)[new_index_180940 * i16_res_171788 + new_index_180943];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t binop_x_178611 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 * i32_res_178601;
            int64_t new_index_178612 = block_idx_178602 + binop_x_178611;
            int64_t new_offset_178613 = ((int64_t *) mem_181247)[new_index_178612];
            bool index_concat_cmp_178614 = sle64(n_blocks_171792, block_idx_178602);
            int16_t index_concat_branch_178615;
            
            if (index_concat_cmp_178614) {
                int16_t index_concat_178805 = ((int16_t *) mem_181128)[i32_res_178601];
                
                index_concat_branch_178615 = index_concat_178805;
            } else {
                int16_t index_concat_178617 = ((int16_t *) mem_181140)[block_idx_178602 * (int64_t) 4 + i32_res_178601];
                
                index_concat_branch_178615 = index_concat_178617;
            }
            
            int64_t i16_res_178618 = sext_i16_i64(index_concat_branch_178615);
            int64_t zp_lhs_178619 = mul64(i16_res_171788, block_idx_178602);
            int64_t old_offset_178620 = add64(i16_res_178618, zp_lhs_178619);
            int64_t zp_lhs_178621 = sub64(write_iter_180817, old_offset_178620);
            int64_t idx_178622 = add64(new_offset_178613, zp_lhs_178621);
            
            if (sle64((int64_t) 0, idx_178622) && slt64(idx_178622, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795)) {
                ((double *) mem_181055)[idx_178622] = index_concat_branch_180922;
            }
            if (sle64((int64_t) 0, idx_178622) && slt64(idx_178622, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795)) {
                ((int64_t *) mem_181057)[idx_178622] = index_concat_branch_180916;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181273, bytes_181272, "mem_181273")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181275, bytes_181272, "mem_181275")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180829 = 0; i_180829 < n_96319; i_180829++) {
        int64_t eta_p_172128 = ((int64_t *) mem_181057)[i_180829];
        bool x_172129 = sle64((int64_t) 0, eta_p_172128);
        bool y_172130 = slt64(eta_p_172128, n_96319);
        bool bounds_check_172131 = x_172129 && y_172130;
        bool index_certs_172132;
        
        if (!bounds_check_172131) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172128, "] out of bounds for array of shape [", (long long) n_96319, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:217:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172133 = ((int64_t *) ext_mem_181053.mem)[eta_p_172128];
        double lifted_lambda_res_172134 = ((double *) xs_mem_181052.mem)[eta_p_172128];
        
        ((int64_t *) mem_181273.mem)[i_180829] = lifted_lambda_res_172133;
        ((double *) mem_181275.mem)[i_180829] = lifted_lambda_res_172134;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181273, "mem_181273") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181275, "mem_181275") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183065, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183066, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181055);
        free(mem_181057);
        free(mem_181065);
        free(mem_181067);
        free(mem_181069);
        free(mem_181071);
        free(mem_181073);
        free(mem_181105);
        free(mem_181107);
        free(mem_181120);
        free(mem_181121);
        free(mem_181128);
        free(mem_181131);
        free(mem_181134);
        free(mem_181137);
        free(mem_181140);
        free(mem_181162);
        free(mem_181164);
        free(mem_181166);
        free(mem_181168);
        free(mem_181170);
        free(mem_181213);
        free(mem_181214);
        free(mem_181239);
        free(mem_181247);
        if (memblock_unref(ctx, &mem_181275, "mem_181275") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181273, "mem_181273") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183092, struct memblock *mem_out_p_183093, struct memblock xs_mem_181052, int64_t n_93564, int64_t incr_93565, int16_t block_sizze_93566)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181055_cached_sizze_183094 = 0;
    unsigned char *mem_181055 = NULL;
    int64_t mem_181057_cached_sizze_183095 = 0;
    unsigned char *mem_181057 = NULL;
    int64_t mem_181065_cached_sizze_183096 = 0;
    unsigned char *mem_181065 = NULL;
    int64_t mem_181067_cached_sizze_183097 = 0;
    unsigned char *mem_181067 = NULL;
    int64_t mem_181069_cached_sizze_183098 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183099 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_183100 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181105_cached_sizze_183101 = 0;
    unsigned char *mem_181105 = NULL;
    int64_t mem_181107_cached_sizze_183102 = 0;
    unsigned char *mem_181107 = NULL;
    int64_t mem_181120_cached_sizze_183103 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181121_cached_sizze_183104 = 0;
    unsigned char *mem_181121 = NULL;
    int64_t mem_181128_cached_sizze_183105 = 0;
    unsigned char *mem_181128 = NULL;
    int64_t mem_181131_cached_sizze_183106 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181134_cached_sizze_183107 = 0;
    unsigned char *mem_181134 = NULL;
    int64_t mem_181137_cached_sizze_183108 = 0;
    unsigned char *mem_181137 = NULL;
    int64_t mem_181140_cached_sizze_183109 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181162_cached_sizze_183110 = 0;
    unsigned char *mem_181162 = NULL;
    int64_t mem_181164_cached_sizze_183111 = 0;
    unsigned char *mem_181164 = NULL;
    int64_t mem_181166_cached_sizze_183112 = 0;
    unsigned char *mem_181166 = NULL;
    int64_t mem_181168_cached_sizze_183113 = 0;
    unsigned char *mem_181168 = NULL;
    int64_t mem_181170_cached_sizze_183114 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181213_cached_sizze_183115 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181214_cached_sizze_183116 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181239_cached_sizze_183117 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181247_cached_sizze_183118 = 0;
    unsigned char *mem_181247 = NULL;
    struct memblock mem_181275;
    
    mem_181275.references = NULL;
    
    struct memblock mem_181273;
    
    mem_181273.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    bool cond_171786 = n_93564 == (int64_t) 0;
    int32_t iters_171787;
    
    if (cond_171786) {
        iters_171787 = 0;
    } else {
        iters_171787 = 16;
    }
    
    int64_t i16_res_171788 = sext_i16_i64(block_sizze_93566);
    bool zzero_171789 = i16_res_171788 == (int64_t) 0;
    bool nonzzero_171790 = !zzero_171789;
    bool nonzzero_cert_171791;
    
    if (!nonzzero_171790) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:217:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171792 = sdiv64(n_93564, i16_res_171788);
    int64_t rest_171793 = smod64(n_93564, i16_res_171788);
    int64_t arg_171794 = mul64(i16_res_171788, n_blocks_171792);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795 = add64(rest_171793, arg_171794);
    bool dim_match_171796 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795 == n_93564;
    bool empty_or_match_cert_171797;
    
    if (!dim_match_171796) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_93564, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:217:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181054 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795;
    int64_t bytes_181056 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795;
    bool loop_nonempty_171801 = slt32(0, iters_171787);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 = add64((int64_t) 1, n_blocks_171792);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
    bool empty_slice_171804 = arg_171794 == (int64_t) 0;
    int64_t m_171805 = sub64(arg_171794, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171806 = sle64((int64_t) 0, m_171805);
    bool i_p_m_t_s_leq_w_171807 = slt64(m_171805, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool i_lte_j_171808 = sle64((int64_t) 0, arg_171794);
    bool y_171809 = zzero_leq_i_p_m_t_s_171806 && i_p_m_t_s_leq_w_171807;
    bool forwards_ok_171810 = i_lte_j_171808 && y_171809;
    bool ok_or_empty_171811 = empty_slice_171804 || forwards_ok_171810;
    bool loop_not_taken_171812 = !loop_nonempty_171801;
    bool protect_assert_disj_171813 = ok_or_empty_171811 || loop_not_taken_171812;
    bool index_certs_171814;
    
    if (!protect_assert_disj_171813) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171794, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171815 = rest_171793 == (int64_t) 0;
    int64_t m_171816 = sub64(rest_171793, (int64_t) 1);
    int64_t i_p_m_t_s_171817 = add64(arg_171794, m_171816);
    bool zzero_leq_i_p_m_t_s_171818 = sle64((int64_t) 0, i_p_m_t_s_171817);
    bool i_p_m_t_s_leq_w_171819 = slt64(i_p_m_t_s_171817, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool i_lte_j_171820 = sle64(arg_171794, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795);
    bool y_171821 = zzero_leq_i_p_m_t_s_171818 && i_p_m_t_s_leq_w_171819;
    bool forwards_ok_171822 = i_lte_j_171820 && y_171821;
    bool ok_or_empty_171823 = empty_slice_171815 || forwards_ok_171822;
    bool protect_assert_disj_171824 = loop_not_taken_171812 || ok_or_empty_171823;
    bool index_certs_171825;
    
    if (!protect_assert_disj_171824) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171794, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171826 = sle64((int64_t) 0, n_blocks_171792);
    bool binop_y_171827 = sle64((int64_t) 0, i16_res_171788);
    bool binop_y_171828 = binop_x_171826 && binop_y_171827;
    bool protect_assert_disj_171829 = loop_not_taken_171812 || binop_y_171828;
    bool dim_ok_cert_171830;
    
    if (!protect_assert_disj_171829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171794, "] to array of shape [", (long long) n_blocks_171792, "][", (long long) i16_res_171788, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171831 = sub64(i16_res_171788, (int64_t) 1);
    bool x_171832 = sle64((int64_t) 0, tmp_171831);
    bool y_171833 = slt64(tmp_171831, i16_res_171788);
    bool bounds_check_171834 = x_171832 && y_171833;
    bool protect_assert_disj_171835 = zzero_171789 || bounds_check_171834;
    bool protect_assert_disj_171836 = loop_not_taken_171812 || protect_assert_disj_171835;
    bool index_certs_171837;
    
    if (!protect_assert_disj_171836) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171831, "] out of bounds for array of shape [", (long long) i16_res_171788, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171839 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803);
    bool protect_assert_disj_171840 = loop_not_taken_171812 || y_171839;
    bool index_certs_171841;
    
    if (!protect_assert_disj_171840) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171843 = nonzzero_171790 || loop_not_taken_171812;
    bool nonzzero_cert_171844;
    
    if (!protect_assert_disj_171843) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171845 = sle64((int64_t) 0, m_171816);
    bool y_171846 = slt64(m_171816, rest_171793);
    bool bounds_check_171847 = x_171845 && y_171846;
    bool protect_assert_disj_171848 = empty_slice_171815 || bounds_check_171847;
    bool protect_assert_disj_171849 = loop_not_taken_171812 || protect_assert_disj_171848;
    bool index_certs_171850;
    
    if (!protect_assert_disj_171849) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171816, "] out of bounds for array of shape [", (long long) rest_171793, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:217:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181064 = (int64_t) 2 * rest_171793;
    int64_t bytes_181104 = (int64_t) 8 * rest_171793;
    int64_t bytes_181106 = (int64_t) 4 * rest_171793;
    int64_t binop_x_181129 = (int64_t) 4 * n_blocks_171792;
    int64_t bytes_181130 = i16_res_171788 * binop_x_181129;
    int64_t binop_x_181132 = (int64_t) 8 * n_blocks_171792;
    int64_t bytes_181133 = i16_res_171788 * binop_x_181132;
    int64_t bytes_181136 = (int64_t) 32 * n_blocks_171792;
    int64_t bytes_181161 = (int64_t) 2 * i16_res_171788;
    int64_t bytes_181238 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802;
    bool dim_match_172112 = n_93564 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795;
    bool empty_or_match_cert_172113;
    
    if (!dim_match_172112) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795, "] cannot match shape of type `[", (long long) n_93564, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181272 = (int64_t) 8 * n_93564;
    int64_t bytes_181274 = (int64_t) 4 * n_93564;
    
    if (futrts_indicesWithIncrement_9509(ctx, &ext_mem_181053, xs_mem_181052, n_93564, incr_93565) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181055_cached_sizze_183094 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181055, &mem_181055_cached_sizze_183094, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181055, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795});
    if (mem_181057_cached_sizze_183095 < bytes_181056) {
        err = lexical_realloc(ctx, &mem_181057, &mem_181057_cached_sizze_183095, bytes_181056);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182468 = 0; i_182468 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795; i_182468++) {
        int64_t x_182469 = (int64_t) 0 + i_182468 * (int64_t) 1;
        
        ((int64_t *) mem_181057)[i_182468] = x_182469;
    }
    if (mem_181065_cached_sizze_183096 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181065, &mem_181065_cached_sizze_183096, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181067_cached_sizze_183097 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181067, &mem_181067_cached_sizze_183097, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181069_cached_sizze_183098 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183098, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181071_cached_sizze_183099 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183099, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181073_cached_sizze_183100 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_183100, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181105_cached_sizze_183101 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181105, &mem_181105_cached_sizze_183101, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181107_cached_sizze_183102 < bytes_181106) {
        err = lexical_realloc(ctx, &mem_181107, &mem_181107_cached_sizze_183102, bytes_181106);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183103 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183103, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181121_cached_sizze_183104 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181121, &mem_181121_cached_sizze_183104, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181128_cached_sizze_183105 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181128, &mem_181128_cached_sizze_183105, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181131_cached_sizze_183106 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183106, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181134_cached_sizze_183107 < bytes_181133) {
        err = lexical_realloc(ctx, &mem_181134, &mem_181134_cached_sizze_183107, bytes_181133);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181137_cached_sizze_183108 < bytes_181136) {
        err = lexical_realloc(ctx, &mem_181137, &mem_181137_cached_sizze_183108, bytes_181136);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181140_cached_sizze_183109 < binop_x_181132) {
        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_183109, binop_x_181132);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181162_cached_sizze_183110 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181162, &mem_181162_cached_sizze_183110, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181164_cached_sizze_183111 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181164, &mem_181164_cached_sizze_183111, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181166_cached_sizze_183112 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181166, &mem_181166_cached_sizze_183112, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181168_cached_sizze_183113 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181168, &mem_181168_cached_sizze_183113, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181170_cached_sizze_183114 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_183114, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181213_cached_sizze_183115 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_183115, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181214_cached_sizze_183116 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183116, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181239_cached_sizze_183117 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_183117, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183118 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183118, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171853 = 0; i_171853 < iters_171787; i_171853++) {
        int32_t blocked_radix_sort_step_arg1_171856 = mul32(2, i_171853);
        int32_t get_bit_arg0_171861 = add32(1, blocked_radix_sort_step_arg1_171856);
        bool cond_f_res_171862 = get_bit_arg0_171861 == 31;
        bool cond_f_res_171863 = blocked_radix_sort_step_arg1_171856 == 31;
        int16_t discard_180732;
        int16_t discard_180733;
        int16_t discard_180734;
        int16_t discard_180735;
        int16_t scanacc_180717;
        int16_t scanacc_180718;
        int16_t scanacc_180719;
        int16_t scanacc_180720;
        
        scanacc_180717 = (int16_t) 0;
        scanacc_180718 = (int16_t) 0;
        scanacc_180719 = (int16_t) 0;
        scanacc_180720 = (int16_t) 0;
        for (int64_t i_180726 = 0; i_180726 < rest_171793; i_180726++) {
            int64_t slice_180939 = arg_171794 + i_180726;
            float eta_p_178645 = ((float *) mem_181055)[slice_180939];
            int32_t i32_arg0_178646 = futrts_to_bits32(eta_p_178645);
            int32_t unsign_arg0_178647 = ashr32(i32_arg0_178646, get_bit_arg0_171861);
            int32_t unsign_arg0_178648 = 1 & unsign_arg0_178647;
            int32_t unsign_arg0_178649 = ashr32(i32_arg0_178646, 31);
            int32_t unsign_arg0_178650 = 1 & unsign_arg0_178649;
            bool cond_178651 = unsign_arg0_178650 == 1;
            bool x_178652 = !cond_178651;
            bool y_178653 = cond_f_res_171862 && x_178652;
            bool cond_178654 = cond_178651 || y_178653;
            int32_t defunc_0_get_bit_res_178655;
            
            if (cond_178654) {
                int32_t defunc_0_get_bit_res_t_res_178781 = 1 ^ unsign_arg0_178648;
                
                defunc_0_get_bit_res_178655 = defunc_0_get_bit_res_t_res_178781;
            } else {
                defunc_0_get_bit_res_178655 = unsign_arg0_178648;
            }
            
            int32_t zp_lhs_178657 = mul32(2, defunc_0_get_bit_res_178655);
            int32_t unsign_arg0_178658 = ashr32(i32_arg0_178646, blocked_radix_sort_step_arg1_171856);
            int32_t unsign_arg0_178659 = 1 & unsign_arg0_178658;
            bool y_178660 = cond_f_res_171863 && x_178652;
            bool cond_178661 = cond_178651 || y_178660;
            int32_t defunc_0_get_bit_res_178662;
            
            if (cond_178661) {
                int32_t defunc_0_get_bit_res_t_res_178782 = 1 ^ unsign_arg0_178659;
                
                defunc_0_get_bit_res_178662 = defunc_0_get_bit_res_t_res_178782;
            } else {
                defunc_0_get_bit_res_178662 = unsign_arg0_178659;
            }
            
            int32_t i32_arg0_178664 = add32(zp_lhs_178657, defunc_0_get_bit_res_178662);
            int16_t i32_res_178665 = sext_i32_i16(i32_arg0_178664);
            int16_t defunc_0_f_res_178667;
            int16_t defunc_0_f_res_178668;
            int16_t defunc_0_f_res_178669;
            int16_t defunc_0_f_res_178670;
            
            if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178667, &defunc_0_f_res_178668, &defunc_0_f_res_178669, &defunc_0_f_res_178670, i32_res_178665) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171911 = add16(defunc_0_f_res_178667, scanacc_180717);
            int16_t defunc_0_op_res_171912 = add16(defunc_0_f_res_178668, scanacc_180718);
            int16_t defunc_0_op_res_171913 = add16(defunc_0_f_res_178669, scanacc_180719);
            int16_t defunc_0_op_res_171914 = add16(defunc_0_f_res_178670, scanacc_180720);
            
            ((int16_t *) mem_181065)[i_180726] = defunc_0_op_res_171911;
            ((int16_t *) mem_181067)[i_180726] = defunc_0_op_res_171912;
            ((int16_t *) mem_181069)[i_180726] = defunc_0_op_res_171913;
            ((int16_t *) mem_181071)[i_180726] = defunc_0_op_res_171914;
            ((int16_t *) mem_181073)[i_180726] = i32_res_178665;
            
            int16_t scanacc_tmp_182472 = defunc_0_op_res_171911;
            int16_t scanacc_tmp_182473 = defunc_0_op_res_171912;
            int16_t scanacc_tmp_182474 = defunc_0_op_res_171913;
            int16_t scanacc_tmp_182475 = defunc_0_op_res_171914;
            
            scanacc_180717 = scanacc_tmp_182472;
            scanacc_180718 = scanacc_tmp_182473;
            scanacc_180719 = scanacc_tmp_182474;
            scanacc_180720 = scanacc_tmp_182475;
        }
        discard_180732 = scanacc_180717;
        discard_180733 = scanacc_180718;
        discard_180734 = scanacc_180719;
        discard_180735 = scanacc_180720;
        
        int16_t defunc_0_radix_sort_step_i16_res_171915;
        int16_t defunc_0_radix_sort_step_i16_res_171916;
        int16_t defunc_0_radix_sort_step_i16_res_171917;
        int16_t defunc_0_radix_sort_step_i16_res_171918;
        
        if (empty_slice_171815) {
            defunc_0_radix_sort_step_i16_res_171915 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171916 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171917 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171918 = (int16_t) 0;
        } else {
            int16_t last_res_171919 = ((int16_t *) mem_181065)[m_171816];
            int16_t last_res_171920 = ((int16_t *) mem_181067)[m_171816];
            int16_t last_res_171921 = ((int16_t *) mem_181069)[m_171816];
            int16_t last_res_171922 = ((int16_t *) mem_181071)[m_171816];
            
            defunc_0_radix_sort_step_i16_res_171915 = last_res_171919;
            defunc_0_radix_sort_step_i16_res_171916 = last_res_171920;
            defunc_0_radix_sort_step_i16_res_171917 = last_res_171921;
            defunc_0_radix_sort_step_i16_res_171918 = last_res_171922;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181105, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + (int64_t) 1 * arg_171794, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171793});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181107, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181055, (int64_t) 0 + (int64_t) 1 * arg_171794, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171793});
        for (int64_t write_iter_180736 = 0; write_iter_180736 < rest_171793; write_iter_180736++) {
            int16_t write_iv_180739 = ((int16_t *) mem_181073)[write_iter_180736];
            int16_t write_iv_180740 = ((int16_t *) mem_181065)[write_iter_180736];
            int16_t write_iv_180741 = ((int16_t *) mem_181067)[write_iter_180736];
            int16_t write_iv_180742 = ((int16_t *) mem_181069)[write_iter_180736];
            int16_t write_iv_180743 = ((int16_t *) mem_181071)[write_iter_180736];
            int64_t slice_180938 = arg_171794 + write_iter_180736;
            float write_iv_180744 = ((float *) mem_181055)[slice_180938];
            int64_t write_iv_180745 = ((int64_t *) mem_181057)[slice_180938];
            int64_t defunc_0_f_res_178629;
            
            if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178629, defunc_0_radix_sort_step_i16_res_171915, defunc_0_radix_sort_step_i16_res_171916, defunc_0_radix_sort_step_i16_res_171917, write_iv_180739, write_iv_180740, write_iv_180741, write_iv_180742, write_iv_180743) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178629) && slt64(defunc_0_f_res_178629, rest_171793)) {
                ((float *) mem_181107)[defunc_0_f_res_178629] = write_iv_180744;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178629) && slt64(defunc_0_f_res_178629, rest_171793)) {
                ((int64_t *) mem_181105)[defunc_0_f_res_178629] = write_iv_180745;
            }
        }
        ((int16_t *) mem_181120)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171915;
        ((int16_t *) mem_181120)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171916;
        ((int16_t *) mem_181120)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171917;
        ((int16_t *) mem_181120)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171918;
        for (int64_t i_180750 = 0; i_180750 < (int64_t) 4; i_180750++) {
            int16_t eta_p_171939 = ((int16_t *) mem_181120)[i_180750];
            int64_t i16_res_171940 = sext_i16_i64(eta_p_171939);
            
            ((int64_t *) mem_181121)[i_180750] = i16_res_171940;
        }
        
        int16_t tmp_171941 = add16(defunc_0_radix_sort_step_i16_res_171915, defunc_0_radix_sort_step_i16_res_171916);
        int16_t tmp_171942 = add16(defunc_0_radix_sort_step_i16_res_171917, tmp_171941);
        
        ((int16_t *) mem_181128)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181128)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171915;
        ((int16_t *) mem_181128)[(int64_t) 2] = tmp_171941;
        ((int16_t *) mem_181128)[(int64_t) 3] = tmp_171942;
        for (int64_t i_180800 = 0; i_180800 < n_blocks_171792; i_180800++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181131, i_180800 * i16_res_171788, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181055, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_171788), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171788});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181134, i_180800 * i16_res_171788, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_171788), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171788});
            
            int64_t binop_x_180952 = i16_res_171788 * i_180800;
            int16_t discard_180772;
            int16_t discard_180773;
            int16_t discard_180774;
            int16_t discard_180775;
            int16_t scanacc_180757;
            int16_t scanacc_180758;
            int16_t scanacc_180759;
            int16_t scanacc_180760;
            
            scanacc_180757 = (int16_t) 0;
            scanacc_180758 = (int16_t) 0;
            scanacc_180759 = (int16_t) 0;
            scanacc_180760 = (int16_t) 0;
            for (int64_t i_180766 = 0; i_180766 < i16_res_171788; i_180766++) {
                int64_t new_index_180953 = i_180766 + binop_x_180952;
                float eta_p_178701 = ((float *) mem_181055)[new_index_180953];
                int32_t i32_arg0_178702 = futrts_to_bits32(eta_p_178701);
                int32_t unsign_arg0_178703 = ashr32(i32_arg0_178702, get_bit_arg0_171861);
                int32_t unsign_arg0_178704 = 1 & unsign_arg0_178703;
                int32_t unsign_arg0_178705 = ashr32(i32_arg0_178702, 31);
                int32_t unsign_arg0_178706 = 1 & unsign_arg0_178705;
                bool cond_178707 = unsign_arg0_178706 == 1;
                bool x_178708 = !cond_178707;
                bool y_178709 = cond_f_res_171862 && x_178708;
                bool cond_178710 = cond_178707 || y_178709;
                int32_t defunc_0_get_bit_res_178711;
                
                if (cond_178710) {
                    int32_t defunc_0_get_bit_res_t_res_178783 = 1 ^ unsign_arg0_178704;
                    
                    defunc_0_get_bit_res_178711 = defunc_0_get_bit_res_t_res_178783;
                } else {
                    defunc_0_get_bit_res_178711 = unsign_arg0_178704;
                }
                
                int32_t zp_lhs_178713 = mul32(2, defunc_0_get_bit_res_178711);
                int32_t unsign_arg0_178714 = ashr32(i32_arg0_178702, blocked_radix_sort_step_arg1_171856);
                int32_t unsign_arg0_178715 = 1 & unsign_arg0_178714;
                bool y_178716 = cond_f_res_171863 && x_178708;
                bool cond_178717 = cond_178707 || y_178716;
                int32_t defunc_0_get_bit_res_178718;
                
                if (cond_178717) {
                    int32_t defunc_0_get_bit_res_t_res_178784 = 1 ^ unsign_arg0_178715;
                    
                    defunc_0_get_bit_res_178718 = defunc_0_get_bit_res_t_res_178784;
                } else {
                    defunc_0_get_bit_res_178718 = unsign_arg0_178715;
                }
                
                int32_t i32_arg0_178720 = add32(zp_lhs_178713, defunc_0_get_bit_res_178718);
                int16_t i32_res_178721 = sext_i32_i16(i32_arg0_178720);
                int16_t defunc_0_f_res_178723;
                int16_t defunc_0_f_res_178724;
                int16_t defunc_0_f_res_178725;
                int16_t defunc_0_f_res_178726;
                
                if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178723, &defunc_0_f_res_178724, &defunc_0_f_res_178725, &defunc_0_f_res_178726, i32_res_178721) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172003 = add16(defunc_0_f_res_178723, scanacc_180757);
                int16_t defunc_0_op_res_172004 = add16(defunc_0_f_res_178724, scanacc_180758);
                int16_t defunc_0_op_res_172005 = add16(defunc_0_f_res_178725, scanacc_180759);
                int16_t defunc_0_op_res_172006 = add16(defunc_0_f_res_178726, scanacc_180760);
                
                ((int16_t *) mem_181162)[i_180766] = defunc_0_op_res_172003;
                ((int16_t *) mem_181164)[i_180766] = defunc_0_op_res_172004;
                ((int16_t *) mem_181166)[i_180766] = defunc_0_op_res_172005;
                ((int16_t *) mem_181168)[i_180766] = defunc_0_op_res_172006;
                ((int16_t *) mem_181170)[i_180766] = i32_res_178721;
                
                int16_t scanacc_tmp_182488 = defunc_0_op_res_172003;
                int16_t scanacc_tmp_182489 = defunc_0_op_res_172004;
                int16_t scanacc_tmp_182490 = defunc_0_op_res_172005;
                int16_t scanacc_tmp_182491 = defunc_0_op_res_172006;
                
                scanacc_180757 = scanacc_tmp_182488;
                scanacc_180758 = scanacc_tmp_182489;
                scanacc_180759 = scanacc_tmp_182490;
                scanacc_180760 = scanacc_tmp_182491;
            }
            discard_180772 = scanacc_180757;
            discard_180773 = scanacc_180758;
            discard_180774 = scanacc_180759;
            discard_180775 = scanacc_180760;
            
            int16_t defunc_0_f_res_172007;
            int16_t defunc_0_f_res_172008;
            int16_t defunc_0_f_res_172009;
            int16_t defunc_0_f_res_172010;
            
            if (zzero_171789) {
                defunc_0_f_res_172007 = (int16_t) 0;
                defunc_0_f_res_172008 = (int16_t) 0;
                defunc_0_f_res_172009 = (int16_t) 0;
                defunc_0_f_res_172010 = (int16_t) 0;
            } else {
                int16_t last_res_172011 = ((int16_t *) mem_181162)[tmp_171831];
                int16_t last_res_172012 = ((int16_t *) mem_181164)[tmp_171831];
                int16_t last_res_172013 = ((int16_t *) mem_181166)[tmp_171831];
                int16_t last_res_172014 = ((int16_t *) mem_181168)[tmp_171831];
                
                defunc_0_f_res_172007 = last_res_172011;
                defunc_0_f_res_172008 = last_res_172012;
                defunc_0_f_res_172009 = last_res_172013;
                defunc_0_f_res_172010 = last_res_172014;
            }
            for (int64_t write_iter_180776 = 0; write_iter_180776 < i16_res_171788; write_iter_180776++) {
                int16_t write_iv_180779 = ((int16_t *) mem_181170)[write_iter_180776];
                int16_t write_iv_180780 = ((int16_t *) mem_181162)[write_iter_180776];
                int16_t write_iv_180781 = ((int16_t *) mem_181164)[write_iter_180776];
                int16_t write_iv_180782 = ((int16_t *) mem_181166)[write_iter_180776];
                int16_t write_iv_180783 = ((int16_t *) mem_181168)[write_iter_180776];
                int64_t new_index_180949 = write_iter_180776 + binop_x_180952;
                float write_iv_180784 = ((float *) mem_181055)[new_index_180949];
                int64_t write_iv_180785 = ((int64_t *) mem_181057)[new_index_180949];
                int64_t defunc_0_f_res_178685;
                
                if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178685, defunc_0_f_res_172007, defunc_0_f_res_172008, defunc_0_f_res_172009, write_iv_180779, write_iv_180780, write_iv_180781, write_iv_180782, write_iv_180783) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178685) && slt64(defunc_0_f_res_178685, i16_res_171788)) {
                    ((float *) mem_181131)[i_180800 * i16_res_171788 + defunc_0_f_res_178685] = write_iv_180784;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178685) && slt64(defunc_0_f_res_178685, i16_res_171788)) {
                    ((int64_t *) mem_181134)[i_180800 * i16_res_171788 + defunc_0_f_res_178685] = write_iv_180785;
                }
            }
            ((int16_t *) mem_181213)[(int64_t) 0] = defunc_0_f_res_172007;
            ((int16_t *) mem_181213)[(int64_t) 1] = defunc_0_f_res_172008;
            ((int16_t *) mem_181213)[(int64_t) 2] = defunc_0_f_res_172009;
            ((int16_t *) mem_181213)[(int64_t) 3] = defunc_0_f_res_172010;
            for (int64_t i_180790 = 0; i_180790 < (int64_t) 4; i_180790++) {
                int16_t eta_p_172029 = ((int16_t *) mem_181213)[i_180790];
                int64_t i16_res_172030 = sext_i16_i64(eta_p_172029);
                
                ((int64_t *) mem_181214)[i_180790] = i16_res_172030;
            }
            
            int16_t tmp_172031 = add16(defunc_0_f_res_172007, defunc_0_f_res_172008);
            int16_t tmp_172032 = add16(defunc_0_f_res_172009, tmp_172031);
            
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172007;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 2] = tmp_172031;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 3] = tmp_172032;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137, i_180800 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180812;
        int64_t scanacc_180808 = (int64_t) 0;
        
        for (int64_t i_180810 = 0; i_180810 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803; i_180810++) {
            int64_t new_index_180927 = squot64(i_180810, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
            int64_t binop_y_180929 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 * new_index_180927;
            int64_t new_index_180930 = i_180810 - binop_y_180929;
            bool index_concat_cmp_180932 = sle64(n_blocks_171792, new_index_180930);
            int64_t index_concat_branch_180936;
            
            if (index_concat_cmp_180932) {
                int64_t index_concat_180934 = ((int64_t *) mem_181121)[new_index_180927];
                
                index_concat_branch_180936 = index_concat_180934;
            } else {
                int64_t index_concat_180935 = ((int64_t *) mem_181137)[new_index_180930 * (int64_t) 4 + new_index_180927];
                
                index_concat_branch_180936 = index_concat_180935;
            }
            
            int64_t defunc_0_op_res_172046 = add64(scanacc_180808, index_concat_branch_180936);
            
            ((int64_t *) mem_181239)[i_180810] = defunc_0_op_res_172046;
            
            int64_t scanacc_tmp_182500 = defunc_0_op_res_172046;
            
            scanacc_180808 = scanacc_tmp_182500;
        }
        discard_180812 = scanacc_180808;
        for (int64_t i_180815 = 0; i_180815 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803; i_180815++) {
            int64_t zv_lhs_172049 = add64((int64_t) -1, i_180815);
            int64_t tmp_172050 = smod64(zv_lhs_172049, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171803);
            int64_t lifted_lambda_res_172051 = ((int64_t *) mem_181239)[tmp_172050];
            
            ((int64_t *) mem_181247)[i_180815] = lifted_lambda_res_172051;
        }
        ((int64_t *) mem_181247)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180817 = 0; write_iter_180817 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795; write_iter_180817++) {
            bool index_concat_cmp_180918 = sle64(arg_171794, write_iter_180817);
            float index_concat_branch_178573;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_178793 = sub64(write_iter_180817, arg_171794);
                float index_concat_178794 = ((float *) mem_181107)[index_concat_i_178793];
                
                index_concat_branch_178573 = index_concat_178794;
            } else {
                int64_t new_index_178576 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_178577 = i16_res_171788 * new_index_178576;
                int64_t new_index_178578 = write_iter_180817 - binop_y_178577;
                float index_concat_178579 = ((float *) mem_181131)[new_index_178576 * i16_res_171788 + new_index_178578];
                
                index_concat_branch_178573 = index_concat_178579;
            }
            
            int32_t i32_arg0_178580 = futrts_to_bits32(index_concat_branch_178573);
            int32_t unsign_arg0_178581 = ashr32(i32_arg0_178580, 31);
            int32_t unsign_arg0_178582 = 1 & unsign_arg0_178581;
            bool cond_178583 = unsign_arg0_178582 == 1;
            bool x_178584 = !cond_178583;
            int32_t zlzb_rhs_178585;
            int32_t acc_178587 = 0;
            
            for (int32_t i_178586 = 0; i_178586 < 2; i_178586++) {
                int32_t get_bit_arg0_178588 = add32(blocked_radix_sort_step_arg1_171856, i_178586);
                int32_t unsign_arg0_178589 = ashr32(i32_arg0_178580, get_bit_arg0_178588);
                int32_t unsign_arg0_178590 = 1 & unsign_arg0_178589;
                bool cond_f_res_178591 = get_bit_arg0_178588 == 31;
                bool y_178592 = x_178584 && cond_f_res_178591;
                bool cond_178593 = cond_178583 || y_178592;
                int32_t defunc_0_get_bit_res_178594;
                
                if (cond_178593) {
                    int32_t defunc_0_get_bit_res_t_res_178795 = 1 ^ unsign_arg0_178590;
                    
                    defunc_0_get_bit_res_178594 = defunc_0_get_bit_res_t_res_178795;
                } else {
                    defunc_0_get_bit_res_178594 = unsign_arg0_178590;
                }
                
                int32_t zp_rhs_178596 = shl32(defunc_0_get_bit_res_178594, i_178586);
                int32_t loopres_178597 = add32(acc_178587, zp_rhs_178596);
                int32_t acc_tmp_182505 = loopres_178597;
                
                acc_178587 = acc_tmp_182505;
            }
            zlzb_rhs_178585 = acc_178587;
            
            int64_t i32_res_178598 = sext_i32_i64(zlzb_rhs_178585);
            int64_t block_idx_178599 = sdiv64(write_iter_180817, i16_res_171788);
            bool x_178600 = sle64((int64_t) 0, block_idx_178599);
            bool y_178601 = slt64(block_idx_178599, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802);
            bool bounds_check_178602 = x_178600 && y_178601;
            bool index_certs_178603;
            
            if (!bounds_check_178602) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178599, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178604 = sle64((int64_t) 0, i32_res_178598);
            bool y_178605 = slt64(i32_res_178598, (int64_t) 4);
            bool bounds_check_178606 = x_178604 && y_178605;
            bool index_certs_178607;
            
            if (!bounds_check_178606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178598, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:217:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_180922;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180919 = sub64(write_iter_180817, arg_171794);
                float index_concat_180920 = ((float *) mem_181107)[index_concat_i_180919];
                
                index_concat_branch_180922 = index_concat_180920;
            } else {
                int64_t new_index_180944 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_180946 = i16_res_171788 * new_index_180944;
                int64_t new_index_180947 = write_iter_180817 - binop_y_180946;
                float index_concat_180921 = ((float *) mem_181131)[new_index_180944 * i16_res_171788 + new_index_180947];
                
                index_concat_branch_180922 = index_concat_180921;
            }
            
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180913 = sub64(write_iter_180817, arg_171794);
                int64_t index_concat_180914 = ((int64_t *) mem_181105)[index_concat_i_180913];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t new_index_180940 = squot64(write_iter_180817, i16_res_171788);
                int64_t binop_y_180942 = i16_res_171788 * new_index_180940;
                int64_t new_index_180943 = write_iter_180817 - binop_y_180942;
                int64_t index_concat_180915 = ((int64_t *) mem_181134)[new_index_180940 * i16_res_171788 + new_index_180943];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t binop_x_178608 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171802 * i32_res_178598;
            int64_t new_index_178609 = block_idx_178599 + binop_x_178608;
            int64_t new_offset_178610 = ((int64_t *) mem_181247)[new_index_178609];
            bool index_concat_cmp_178611 = sle64(n_blocks_171792, block_idx_178599);
            int16_t index_concat_branch_178612;
            
            if (index_concat_cmp_178611) {
                int16_t index_concat_178796 = ((int16_t *) mem_181128)[i32_res_178598];
                
                index_concat_branch_178612 = index_concat_178796;
            } else {
                int16_t index_concat_178614 = ((int16_t *) mem_181140)[block_idx_178599 * (int64_t) 4 + i32_res_178598];
                
                index_concat_branch_178612 = index_concat_178614;
            }
            
            int64_t i16_res_178615 = sext_i16_i64(index_concat_branch_178612);
            int64_t zp_lhs_178616 = mul64(i16_res_171788, block_idx_178599);
            int64_t old_offset_178617 = add64(i16_res_178615, zp_lhs_178616);
            int64_t zp_lhs_178618 = sub64(write_iter_180817, old_offset_178617);
            int64_t idx_178619 = add64(new_offset_178610, zp_lhs_178618);
            
            if (sle64((int64_t) 0, idx_178619) && slt64(idx_178619, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795)) {
                ((float *) mem_181055)[idx_178619] = index_concat_branch_180922;
            }
            if (sle64((int64_t) 0, idx_178619) && slt64(idx_178619, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171795)) {
                ((int64_t *) mem_181057)[idx_178619] = index_concat_branch_180916;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181273, bytes_181272, "mem_181273")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181275, bytes_181274, "mem_181275")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180829 = 0; i_180829 < n_93564; i_180829++) {
        int64_t eta_p_172117 = ((int64_t *) mem_181057)[i_180829];
        bool x_172118 = sle64((int64_t) 0, eta_p_172117);
        bool y_172119 = slt64(eta_p_172117, n_93564);
        bool bounds_check_172120 = x_172118 && y_172119;
        bool index_certs_172121;
        
        if (!bounds_check_172120) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172117, "] out of bounds for array of shape [", (long long) n_93564, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:217:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172122 = ((int64_t *) ext_mem_181053.mem)[eta_p_172117];
        float lifted_lambda_res_172123 = ((float *) xs_mem_181052.mem)[eta_p_172117];
        
        ((int64_t *) mem_181273.mem)[i_180829] = lifted_lambda_res_172122;
        ((float *) mem_181275.mem)[i_180829] = lifted_lambda_res_172123;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181273, "mem_181273") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181275, "mem_181275") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183092, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183093, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181055);
        free(mem_181057);
        free(mem_181065);
        free(mem_181067);
        free(mem_181069);
        free(mem_181071);
        free(mem_181073);
        free(mem_181105);
        free(mem_181107);
        free(mem_181120);
        free(mem_181121);
        free(mem_181128);
        free(mem_181131);
        free(mem_181134);
        free(mem_181137);
        free(mem_181140);
        free(mem_181162);
        free(mem_181164);
        free(mem_181166);
        free(mem_181168);
        free(mem_181170);
        free(mem_181213);
        free(mem_181214);
        free(mem_181239);
        free(mem_181247);
        if (memblock_unref(ctx, &mem_181275, "mem_181275") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181273, "mem_181273") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183119, struct memblock *mem_out_p_183120, struct memblock xs_mem_181052, int64_t n_88213, int64_t incr_88214, int16_t block_sizze_88215)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181055_cached_sizze_183121 = 0;
    unsigned char *mem_181055 = NULL;
    int64_t mem_181057_cached_sizze_183122 = 0;
    unsigned char *mem_181057 = NULL;
    int64_t mem_181065_cached_sizze_183123 = 0;
    unsigned char *mem_181065 = NULL;
    int64_t mem_181067_cached_sizze_183124 = 0;
    unsigned char *mem_181067 = NULL;
    int64_t mem_181069_cached_sizze_183125 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183126 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_183127 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181105_cached_sizze_183128 = 0;
    unsigned char *mem_181105 = NULL;
    int64_t mem_181107_cached_sizze_183129 = 0;
    unsigned char *mem_181107 = NULL;
    int64_t mem_181120_cached_sizze_183130 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181121_cached_sizze_183131 = 0;
    unsigned char *mem_181121 = NULL;
    int64_t mem_181128_cached_sizze_183132 = 0;
    unsigned char *mem_181128 = NULL;
    int64_t mem_181131_cached_sizze_183133 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181134_cached_sizze_183134 = 0;
    unsigned char *mem_181134 = NULL;
    int64_t mem_181137_cached_sizze_183135 = 0;
    unsigned char *mem_181137 = NULL;
    int64_t mem_181140_cached_sizze_183136 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181162_cached_sizze_183137 = 0;
    unsigned char *mem_181162 = NULL;
    int64_t mem_181164_cached_sizze_183138 = 0;
    unsigned char *mem_181164 = NULL;
    int64_t mem_181166_cached_sizze_183139 = 0;
    unsigned char *mem_181166 = NULL;
    int64_t mem_181168_cached_sizze_183140 = 0;
    unsigned char *mem_181168 = NULL;
    int64_t mem_181170_cached_sizze_183141 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181213_cached_sizze_183142 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181214_cached_sizze_183143 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181239_cached_sizze_183144 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181247_cached_sizze_183145 = 0;
    unsigned char *mem_181247 = NULL;
    struct memblock mem_181275;
    
    mem_181275.references = NULL;
    
    struct memblock mem_181273;
    
    mem_181273.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    bool cond_168556 = n_88213 == (int64_t) 0;
    int32_t iters_168557;
    
    if (cond_168556) {
        iters_168557 = 0;
    } else {
        iters_168557 = 16;
    }
    
    int64_t i16_res_168558 = sext_i16_i64(block_sizze_88215);
    bool zzero_168559 = i16_res_168558 == (int64_t) 0;
    bool nonzzero_168560 = !zzero_168559;
    bool nonzzero_cert_168561;
    
    if (!nonzzero_168560) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168562 = sdiv64(n_88213, i16_res_168558);
    int64_t rest_168563 = smod64(n_88213, i16_res_168558);
    int64_t arg_168564 = mul64(i16_res_168558, n_blocks_168562);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 = add64(rest_168563, arg_168564);
    bool dim_match_168566 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 == n_88213;
    bool empty_or_match_cert_168567;
    
    if (!dim_match_168566) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_88213, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:164:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181054 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    int64_t bytes_181056 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool loop_nonempty_168571 = slt32(0, iters_168557);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 = add64((int64_t) 1, n_blocks_168562);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
    bool empty_slice_168574 = arg_168564 == (int64_t) 0;
    int64_t m_168575 = sub64(arg_168564, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168576 = sle64((int64_t) 0, m_168575);
    bool i_p_m_t_s_leq_w_168577 = slt64(m_168575, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168578 = sle64((int64_t) 0, arg_168564);
    bool y_168579 = zzero_leq_i_p_m_t_s_168576 && i_p_m_t_s_leq_w_168577;
    bool forwards_ok_168580 = i_lte_j_168578 && y_168579;
    bool ok_or_empty_168581 = empty_slice_168574 || forwards_ok_168580;
    bool loop_not_taken_168582 = !loop_nonempty_168571;
    bool protect_assert_disj_168583 = ok_or_empty_168581 || loop_not_taken_168582;
    bool index_certs_168584;
    
    if (!protect_assert_disj_168583) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168585 = rest_168563 == (int64_t) 0;
    int64_t m_168586 = sub64(rest_168563, (int64_t) 1);
    int64_t i_p_m_t_s_168587 = add64(arg_168564, m_168586);
    bool zzero_leq_i_p_m_t_s_168588 = sle64((int64_t) 0, i_p_m_t_s_168587);
    bool i_p_m_t_s_leq_w_168589 = slt64(i_p_m_t_s_168587, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168590 = sle64(arg_168564, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool y_168591 = zzero_leq_i_p_m_t_s_168588 && i_p_m_t_s_leq_w_168589;
    bool forwards_ok_168592 = i_lte_j_168590 && y_168591;
    bool ok_or_empty_168593 = empty_slice_168585 || forwards_ok_168592;
    bool protect_assert_disj_168594 = loop_not_taken_168582 || ok_or_empty_168593;
    bool index_certs_168595;
    
    if (!protect_assert_disj_168594) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168564, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168596 = sle64((int64_t) 0, n_blocks_168562);
    bool binop_y_168597 = sle64((int64_t) 0, i16_res_168558);
    bool binop_y_168598 = binop_x_168596 && binop_y_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168582 || binop_y_168598;
    bool dim_ok_cert_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168564, "] to array of shape [", (long long) n_blocks_168562, "][", (long long) i16_res_168558, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168601 = sub64(i16_res_168558, (int64_t) 1);
    bool x_168602 = sle64((int64_t) 0, tmp_168601);
    bool y_168603 = slt64(tmp_168601, i16_res_168558);
    bool bounds_check_168604 = x_168602 && y_168603;
    bool protect_assert_disj_168605 = zzero_168559 || bounds_check_168604;
    bool protect_assert_disj_168606 = loop_not_taken_168582 || protect_assert_disj_168605;
    bool index_certs_168607;
    
    if (!protect_assert_disj_168606) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168601, "] out of bounds for array of shape [", (long long) i16_res_168558, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168609 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
    bool protect_assert_disj_168610 = loop_not_taken_168582 || y_168609;
    bool index_certs_168611;
    
    if (!protect_assert_disj_168610) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168613 = nonzzero_168560 || loop_not_taken_168582;
    bool nonzzero_cert_168614;
    
    if (!protect_assert_disj_168613) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168615 = sle64((int64_t) 0, m_168586);
    bool y_168616 = slt64(m_168586, rest_168563);
    bool bounds_check_168617 = x_168615 && y_168616;
    bool protect_assert_disj_168618 = empty_slice_168585 || bounds_check_168617;
    bool protect_assert_disj_168619 = loop_not_taken_168582 || protect_assert_disj_168618;
    bool index_certs_168620;
    
    if (!protect_assert_disj_168619) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168586, "] out of bounds for array of shape [", (long long) rest_168563, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181064 = (int64_t) 2 * rest_168563;
    int64_t bytes_181104 = (int64_t) 8 * rest_168563;
    int64_t bytes_181106 = (int64_t) 4 * rest_168563;
    int64_t binop_x_181129 = (int64_t) 4 * n_blocks_168562;
    int64_t bytes_181130 = i16_res_168558 * binop_x_181129;
    int64_t binop_x_181132 = (int64_t) 8 * n_blocks_168562;
    int64_t bytes_181133 = i16_res_168558 * binop_x_181132;
    int64_t bytes_181136 = (int64_t) 32 * n_blocks_168562;
    int64_t bytes_181161 = (int64_t) 2 * i16_res_168558;
    int64_t bytes_181238 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572;
    bool dim_match_168852 = n_88213 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool empty_or_match_cert_168853;
    
    if (!dim_match_168852) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] cannot match shape of type `[", (long long) n_88213, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181272 = (int64_t) 8 * n_88213;
    int64_t bytes_181274 = (int64_t) 4 * n_88213;
    
    if (futrts_indicesWithIncrement_9299(ctx, &ext_mem_181053, xs_mem_181052, n_88213, incr_88214) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181055_cached_sizze_183121 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181055, &mem_181055_cached_sizze_183121, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181055, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565});
    if (mem_181057_cached_sizze_183122 < bytes_181056) {
        err = lexical_realloc(ctx, &mem_181057, &mem_181057_cached_sizze_183122, bytes_181056);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182468 = 0; i_182468 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; i_182468++) {
        int64_t x_182469 = (int64_t) 0 + i_182468 * (int64_t) 1;
        
        ((int64_t *) mem_181057)[i_182468] = x_182469;
    }
    if (mem_181065_cached_sizze_183123 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181065, &mem_181065_cached_sizze_183123, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181067_cached_sizze_183124 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181067, &mem_181067_cached_sizze_183124, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181069_cached_sizze_183125 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183125, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181071_cached_sizze_183126 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183126, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181073_cached_sizze_183127 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_183127, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181105_cached_sizze_183128 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181105, &mem_181105_cached_sizze_183128, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181107_cached_sizze_183129 < bytes_181106) {
        err = lexical_realloc(ctx, &mem_181107, &mem_181107_cached_sizze_183129, bytes_181106);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183130 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183130, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181121_cached_sizze_183131 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181121, &mem_181121_cached_sizze_183131, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181128_cached_sizze_183132 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181128, &mem_181128_cached_sizze_183132, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181131_cached_sizze_183133 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183133, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181134_cached_sizze_183134 < bytes_181133) {
        err = lexical_realloc(ctx, &mem_181134, &mem_181134_cached_sizze_183134, bytes_181133);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181137_cached_sizze_183135 < bytes_181136) {
        err = lexical_realloc(ctx, &mem_181137, &mem_181137_cached_sizze_183135, bytes_181136);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181140_cached_sizze_183136 < binop_x_181132) {
        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_183136, binop_x_181132);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181162_cached_sizze_183137 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181162, &mem_181162_cached_sizze_183137, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181164_cached_sizze_183138 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181164, &mem_181164_cached_sizze_183138, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181166_cached_sizze_183139 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181166, &mem_181166_cached_sizze_183139, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181168_cached_sizze_183140 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181168, &mem_181168_cached_sizze_183140, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181170_cached_sizze_183141 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_183141, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181213_cached_sizze_183142 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_183142, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181214_cached_sizze_183143 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183143, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181239_cached_sizze_183144 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_183144, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183145 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183145, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168623 = 0; i_168623 < iters_168557; i_168623++) {
        int32_t blocked_radix_sort_step_arg1_168626 = mul32(2, i_168623);
        int32_t get_bit_arg0_168631 = add32(1, blocked_radix_sort_step_arg1_168626);
        bool cond_168632 = get_bit_arg0_168631 == 31;
        bool cond_168633 = blocked_radix_sort_step_arg1_168626 == 31;
        int16_t discard_180732;
        int16_t discard_180733;
        int16_t discard_180734;
        int16_t discard_180735;
        int16_t scanacc_180717;
        int16_t scanacc_180718;
        int16_t scanacc_180719;
        int16_t scanacc_180720;
        
        scanacc_180717 = (int16_t) 0;
        scanacc_180718 = (int16_t) 0;
        scanacc_180719 = (int16_t) 0;
        scanacc_180720 = (int16_t) 0;
        for (int64_t i_180726 = 0; i_180726 < rest_168563; i_180726++) {
            int64_t slice_180939 = arg_168564 + i_180726;
            int32_t eta_p_178638 = ((int32_t *) mem_181055)[slice_180939];
            int32_t zgzg_res_178639 = ashr32(eta_p_178638, get_bit_arg0_168631);
            int32_t za_res_178640 = 1 & zgzg_res_178639;
            int32_t defunc_0_get_bit_res_178641;
            
            if (cond_168632) {
                int32_t defunc_0_get_bit_res_t_res_178756 = 1 ^ za_res_178640;
                
                defunc_0_get_bit_res_178641 = defunc_0_get_bit_res_t_res_178756;
            } else {
                defunc_0_get_bit_res_178641 = za_res_178640;
            }
            
            int32_t zp_lhs_178643 = mul32(2, defunc_0_get_bit_res_178641);
            int32_t zgzg_res_178644 = ashr32(eta_p_178638, blocked_radix_sort_step_arg1_168626);
            int32_t za_res_178645 = 1 & zgzg_res_178644;
            int32_t defunc_0_get_bit_res_178646;
            
            if (cond_168633) {
                int32_t defunc_0_get_bit_res_t_res_178757 = 1 ^ za_res_178645;
                
                defunc_0_get_bit_res_178646 = defunc_0_get_bit_res_t_res_178757;
            } else {
                defunc_0_get_bit_res_178646 = za_res_178645;
            }
            
            int32_t i32_arg0_178648 = add32(zp_lhs_178643, defunc_0_get_bit_res_178646);
            int16_t i32_res_178649 = sext_i32_i16(i32_arg0_178648);
            int16_t defunc_0_f_res_178651;
            int16_t defunc_0_f_res_178652;
            int16_t defunc_0_f_res_178653;
            int16_t defunc_0_f_res_178654;
            
            if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178651, &defunc_0_f_res_178652, &defunc_0_f_res_178653, &defunc_0_f_res_178654, i32_res_178649) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168670 = add16(defunc_0_f_res_178651, scanacc_180717);
            int16_t defunc_0_op_res_168671 = add16(defunc_0_f_res_178652, scanacc_180718);
            int16_t defunc_0_op_res_168672 = add16(defunc_0_f_res_178653, scanacc_180719);
            int16_t defunc_0_op_res_168673 = add16(defunc_0_f_res_178654, scanacc_180720);
            
            ((int16_t *) mem_181065)[i_180726] = defunc_0_op_res_168670;
            ((int16_t *) mem_181067)[i_180726] = defunc_0_op_res_168671;
            ((int16_t *) mem_181069)[i_180726] = defunc_0_op_res_168672;
            ((int16_t *) mem_181071)[i_180726] = defunc_0_op_res_168673;
            ((int16_t *) mem_181073)[i_180726] = i32_res_178649;
            
            int16_t scanacc_tmp_182472 = defunc_0_op_res_168670;
            int16_t scanacc_tmp_182473 = defunc_0_op_res_168671;
            int16_t scanacc_tmp_182474 = defunc_0_op_res_168672;
            int16_t scanacc_tmp_182475 = defunc_0_op_res_168673;
            
            scanacc_180717 = scanacc_tmp_182472;
            scanacc_180718 = scanacc_tmp_182473;
            scanacc_180719 = scanacc_tmp_182474;
            scanacc_180720 = scanacc_tmp_182475;
        }
        discard_180732 = scanacc_180717;
        discard_180733 = scanacc_180718;
        discard_180734 = scanacc_180719;
        discard_180735 = scanacc_180720;
        
        int16_t defunc_0_radix_sort_step_i16_res_168674;
        int16_t defunc_0_radix_sort_step_i16_res_168675;
        int16_t defunc_0_radix_sort_step_i16_res_168676;
        int16_t defunc_0_radix_sort_step_i16_res_168677;
        
        if (empty_slice_168585) {
            defunc_0_radix_sort_step_i16_res_168674 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168675 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168676 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168677 = (int16_t) 0;
        } else {
            int16_t last_res_168678 = ((int16_t *) mem_181065)[m_168586];
            int16_t last_res_168679 = ((int16_t *) mem_181067)[m_168586];
            int16_t last_res_168680 = ((int16_t *) mem_181069)[m_168586];
            int16_t last_res_168681 = ((int16_t *) mem_181071)[m_168586];
            
            defunc_0_radix_sort_step_i16_res_168674 = last_res_168678;
            defunc_0_radix_sort_step_i16_res_168675 = last_res_168679;
            defunc_0_radix_sort_step_i16_res_168676 = last_res_168680;
            defunc_0_radix_sort_step_i16_res_168677 = last_res_168681;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181105, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181107, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181055, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        for (int64_t write_iter_180736 = 0; write_iter_180736 < rest_168563; write_iter_180736++) {
            int16_t write_iv_180739 = ((int16_t *) mem_181073)[write_iter_180736];
            int16_t write_iv_180740 = ((int16_t *) mem_181065)[write_iter_180736];
            int16_t write_iv_180741 = ((int16_t *) mem_181067)[write_iter_180736];
            int16_t write_iv_180742 = ((int16_t *) mem_181069)[write_iter_180736];
            int16_t write_iv_180743 = ((int16_t *) mem_181071)[write_iter_180736];
            int64_t slice_180938 = arg_168564 + write_iter_180736;
            int32_t write_iv_180744 = ((int32_t *) mem_181055)[slice_180938];
            int64_t write_iv_180745 = ((int64_t *) mem_181057)[slice_180938];
            int64_t defunc_0_f_res_178622;
            
            if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178622, defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675, defunc_0_radix_sort_step_i16_res_168676, write_iv_180739, write_iv_180740, write_iv_180741, write_iv_180742, write_iv_180743) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178622) && slt64(defunc_0_f_res_178622, rest_168563)) {
                ((int32_t *) mem_181107)[defunc_0_f_res_178622] = write_iv_180744;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178622) && slt64(defunc_0_f_res_178622, rest_168563)) {
                ((int64_t *) mem_181105)[defunc_0_f_res_178622] = write_iv_180745;
            }
        }
        ((int16_t *) mem_181120)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181120)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168675;
        ((int16_t *) mem_181120)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168676;
        ((int16_t *) mem_181120)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168677;
        for (int64_t i_180750 = 0; i_180750 < (int64_t) 4; i_180750++) {
            int16_t eta_p_168698 = ((int16_t *) mem_181120)[i_180750];
            int64_t i16_res_168699 = sext_i16_i64(eta_p_168698);
            
            ((int64_t *) mem_181121)[i_180750] = i16_res_168699;
        }
        
        int16_t tmp_168700 = add16(defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675);
        int16_t tmp_168701 = add16(defunc_0_radix_sort_step_i16_res_168676, tmp_168700);
        
        ((int16_t *) mem_181128)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181128)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181128)[(int64_t) 2] = tmp_168700;
        ((int16_t *) mem_181128)[(int64_t) 3] = tmp_168701;
        for (int64_t i_180800 = 0; i_180800 < n_blocks_168562; i_180800++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181131, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181055, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181134, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            
            int64_t binop_x_180952 = i16_res_168558 * i_180800;
            int16_t discard_180772;
            int16_t discard_180773;
            int16_t discard_180774;
            int16_t discard_180775;
            int16_t scanacc_180757;
            int16_t scanacc_180758;
            int16_t scanacc_180759;
            int16_t scanacc_180760;
            
            scanacc_180757 = (int16_t) 0;
            scanacc_180758 = (int16_t) 0;
            scanacc_180759 = (int16_t) 0;
            scanacc_180760 = (int16_t) 0;
            for (int64_t i_180766 = 0; i_180766 < i16_res_168558; i_180766++) {
                int64_t new_index_180953 = i_180766 + binop_x_180952;
                int32_t eta_p_178685 = ((int32_t *) mem_181055)[new_index_180953];
                int32_t zgzg_res_178686 = ashr32(eta_p_178685, get_bit_arg0_168631);
                int32_t za_res_178687 = 1 & zgzg_res_178686;
                int32_t defunc_0_get_bit_res_178688;
                
                if (cond_168632) {
                    int32_t defunc_0_get_bit_res_t_res_178758 = 1 ^ za_res_178687;
                    
                    defunc_0_get_bit_res_178688 = defunc_0_get_bit_res_t_res_178758;
                } else {
                    defunc_0_get_bit_res_178688 = za_res_178687;
                }
                
                int32_t zp_lhs_178690 = mul32(2, defunc_0_get_bit_res_178688);
                int32_t zgzg_res_178691 = ashr32(eta_p_178685, blocked_radix_sort_step_arg1_168626);
                int32_t za_res_178692 = 1 & zgzg_res_178691;
                int32_t defunc_0_get_bit_res_178693;
                
                if (cond_168633) {
                    int32_t defunc_0_get_bit_res_t_res_178759 = 1 ^ za_res_178692;
                    
                    defunc_0_get_bit_res_178693 = defunc_0_get_bit_res_t_res_178759;
                } else {
                    defunc_0_get_bit_res_178693 = za_res_178692;
                }
                
                int32_t i32_arg0_178695 = add32(zp_lhs_178690, defunc_0_get_bit_res_178693);
                int16_t i32_res_178696 = sext_i32_i16(i32_arg0_178695);
                int16_t defunc_0_f_res_178698;
                int16_t defunc_0_f_res_178699;
                int16_t defunc_0_f_res_178700;
                int16_t defunc_0_f_res_178701;
                
                if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178698, &defunc_0_f_res_178699, &defunc_0_f_res_178700, &defunc_0_f_res_178701, i32_res_178696) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178698, scanacc_180757);
                int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178699, scanacc_180758);
                int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178700, scanacc_180759);
                int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178701, scanacc_180760);
                
                ((int16_t *) mem_181162)[i_180766] = defunc_0_op_res_168751;
                ((int16_t *) mem_181164)[i_180766] = defunc_0_op_res_168752;
                ((int16_t *) mem_181166)[i_180766] = defunc_0_op_res_168753;
                ((int16_t *) mem_181168)[i_180766] = defunc_0_op_res_168754;
                ((int16_t *) mem_181170)[i_180766] = i32_res_178696;
                
                int16_t scanacc_tmp_182488 = defunc_0_op_res_168751;
                int16_t scanacc_tmp_182489 = defunc_0_op_res_168752;
                int16_t scanacc_tmp_182490 = defunc_0_op_res_168753;
                int16_t scanacc_tmp_182491 = defunc_0_op_res_168754;
                
                scanacc_180757 = scanacc_tmp_182488;
                scanacc_180758 = scanacc_tmp_182489;
                scanacc_180759 = scanacc_tmp_182490;
                scanacc_180760 = scanacc_tmp_182491;
            }
            discard_180772 = scanacc_180757;
            discard_180773 = scanacc_180758;
            discard_180774 = scanacc_180759;
            discard_180775 = scanacc_180760;
            
            int16_t defunc_0_f_res_168755;
            int16_t defunc_0_f_res_168756;
            int16_t defunc_0_f_res_168757;
            int16_t defunc_0_f_res_168758;
            
            if (zzero_168559) {
                defunc_0_f_res_168755 = (int16_t) 0;
                defunc_0_f_res_168756 = (int16_t) 0;
                defunc_0_f_res_168757 = (int16_t) 0;
                defunc_0_f_res_168758 = (int16_t) 0;
            } else {
                int16_t last_res_168759 = ((int16_t *) mem_181162)[tmp_168601];
                int16_t last_res_168760 = ((int16_t *) mem_181164)[tmp_168601];
                int16_t last_res_168761 = ((int16_t *) mem_181166)[tmp_168601];
                int16_t last_res_168762 = ((int16_t *) mem_181168)[tmp_168601];
                
                defunc_0_f_res_168755 = last_res_168759;
                defunc_0_f_res_168756 = last_res_168760;
                defunc_0_f_res_168757 = last_res_168761;
                defunc_0_f_res_168758 = last_res_168762;
            }
            for (int64_t write_iter_180776 = 0; write_iter_180776 < i16_res_168558; write_iter_180776++) {
                int16_t write_iv_180779 = ((int16_t *) mem_181170)[write_iter_180776];
                int16_t write_iv_180780 = ((int16_t *) mem_181162)[write_iter_180776];
                int16_t write_iv_180781 = ((int16_t *) mem_181164)[write_iter_180776];
                int16_t write_iv_180782 = ((int16_t *) mem_181166)[write_iter_180776];
                int16_t write_iv_180783 = ((int16_t *) mem_181168)[write_iter_180776];
                int64_t new_index_180949 = write_iter_180776 + binop_x_180952;
                int32_t write_iv_180784 = ((int32_t *) mem_181055)[new_index_180949];
                int64_t write_iv_180785 = ((int64_t *) mem_181057)[new_index_180949];
                int64_t defunc_0_f_res_178669;
                
                if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178669, defunc_0_f_res_168755, defunc_0_f_res_168756, defunc_0_f_res_168757, write_iv_180779, write_iv_180780, write_iv_180781, write_iv_180782, write_iv_180783) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178669) && slt64(defunc_0_f_res_178669, i16_res_168558)) {
                    ((int32_t *) mem_181131)[i_180800 * i16_res_168558 + defunc_0_f_res_178669] = write_iv_180784;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178669) && slt64(defunc_0_f_res_178669, i16_res_168558)) {
                    ((int64_t *) mem_181134)[i_180800 * i16_res_168558 + defunc_0_f_res_178669] = write_iv_180785;
                }
            }
            ((int16_t *) mem_181213)[(int64_t) 0] = defunc_0_f_res_168755;
            ((int16_t *) mem_181213)[(int64_t) 1] = defunc_0_f_res_168756;
            ((int16_t *) mem_181213)[(int64_t) 2] = defunc_0_f_res_168757;
            ((int16_t *) mem_181213)[(int64_t) 3] = defunc_0_f_res_168758;
            for (int64_t i_180790 = 0; i_180790 < (int64_t) 4; i_180790++) {
                int16_t eta_p_168777 = ((int16_t *) mem_181213)[i_180790];
                int64_t i16_res_168778 = sext_i16_i64(eta_p_168777);
                
                ((int64_t *) mem_181214)[i_180790] = i16_res_168778;
            }
            
            int16_t tmp_168779 = add16(defunc_0_f_res_168755, defunc_0_f_res_168756);
            int16_t tmp_168780 = add16(defunc_0_f_res_168757, tmp_168779);
            
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168755;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 2] = tmp_168779;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 3] = tmp_168780;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137, i_180800 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180812;
        int64_t scanacc_180808 = (int64_t) 0;
        
        for (int64_t i_180810 = 0; i_180810 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180810++) {
            int64_t new_index_180927 = squot64(i_180810, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            int64_t binop_y_180929 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * new_index_180927;
            int64_t new_index_180930 = i_180810 - binop_y_180929;
            bool index_concat_cmp_180932 = sle64(n_blocks_168562, new_index_180930);
            int64_t index_concat_branch_180936;
            
            if (index_concat_cmp_180932) {
                int64_t index_concat_180934 = ((int64_t *) mem_181121)[new_index_180927];
                
                index_concat_branch_180936 = index_concat_180934;
            } else {
                int64_t index_concat_180935 = ((int64_t *) mem_181137)[new_index_180930 * (int64_t) 4 + new_index_180927];
                
                index_concat_branch_180936 = index_concat_180935;
            }
            
            int64_t defunc_0_op_res_168792 = add64(scanacc_180808, index_concat_branch_180936);
            
            ((int64_t *) mem_181239)[i_180810] = defunc_0_op_res_168792;
            
            int64_t scanacc_tmp_182500 = defunc_0_op_res_168792;
            
            scanacc_180808 = scanacc_tmp_182500;
        }
        discard_180812 = scanacc_180808;
        for (int64_t i_180815 = 0; i_180815 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180815++) {
            int64_t zv_lhs_168795 = add64((int64_t) -1, i_180815);
            int64_t tmp_168796 = smod64(zv_lhs_168795, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
            int64_t lifted_lambda_res_168797 = ((int64_t *) mem_181239)[tmp_168796];
            
            ((int64_t *) mem_181247)[i_180815] = lifted_lambda_res_168797;
        }
        ((int64_t *) mem_181247)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180817 = 0; write_iter_180817 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; write_iter_180817++) {
            bool index_concat_cmp_180918 = sle64(arg_168564, write_iter_180817);
            int32_t index_concat_branch_178573;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_178768 = sub64(write_iter_180817, arg_168564);
                int32_t index_concat_178769 = ((int32_t *) mem_181107)[index_concat_i_178768];
                
                index_concat_branch_178573 = index_concat_178769;
            } else {
                int64_t new_index_178576 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_178577 = i16_res_168558 * new_index_178576;
                int64_t new_index_178578 = write_iter_180817 - binop_y_178577;
                int32_t index_concat_178579 = ((int32_t *) mem_181131)[new_index_178576 * i16_res_168558 + new_index_178578];
                
                index_concat_branch_178573 = index_concat_178579;
            }
            
            int32_t zlzb_rhs_178580;
            int32_t acc_178582 = 0;
            
            for (int32_t i_178581 = 0; i_178581 < 2; i_178581++) {
                int32_t get_bit_arg0_178583 = add32(blocked_radix_sort_step_arg1_168626, i_178581);
                int32_t zgzg_res_178584 = ashr32(index_concat_branch_178573, get_bit_arg0_178583);
                int32_t za_res_178585 = 1 & zgzg_res_178584;
                bool cond_178586 = get_bit_arg0_178583 == 31;
                int32_t defunc_0_get_bit_res_178587;
                
                if (cond_178586) {
                    int32_t defunc_0_get_bit_res_t_res_178770 = 1 ^ za_res_178585;
                    
                    defunc_0_get_bit_res_178587 = defunc_0_get_bit_res_t_res_178770;
                } else {
                    defunc_0_get_bit_res_178587 = za_res_178585;
                }
                
                int32_t zp_rhs_178589 = shl32(defunc_0_get_bit_res_178587, i_178581);
                int32_t loopres_178590 = add32(acc_178582, zp_rhs_178589);
                int32_t acc_tmp_182505 = loopres_178590;
                
                acc_178582 = acc_tmp_182505;
            }
            zlzb_rhs_178580 = acc_178582;
            
            int64_t i32_res_178591 = sext_i32_i64(zlzb_rhs_178580);
            int64_t block_idx_178592 = sdiv64(write_iter_180817, i16_res_168558);
            bool x_178593 = sle64((int64_t) 0, block_idx_178592);
            bool y_178594 = slt64(block_idx_178592, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            bool bounds_check_178595 = x_178593 && y_178594;
            bool index_certs_178596;
            
            if (!bounds_check_178595) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178592, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178597 = sle64((int64_t) 0, i32_res_178591);
            bool y_178598 = slt64(i32_res_178591, (int64_t) 4);
            bool bounds_check_178599 = x_178597 && y_178598;
            bool index_certs_178600;
            
            if (!bounds_check_178599) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178591, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_180922;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180919 = sub64(write_iter_180817, arg_168564);
                int32_t index_concat_180920 = ((int32_t *) mem_181107)[index_concat_i_180919];
                
                index_concat_branch_180922 = index_concat_180920;
            } else {
                int64_t new_index_180944 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180946 = i16_res_168558 * new_index_180944;
                int64_t new_index_180947 = write_iter_180817 - binop_y_180946;
                int32_t index_concat_180921 = ((int32_t *) mem_181131)[new_index_180944 * i16_res_168558 + new_index_180947];
                
                index_concat_branch_180922 = index_concat_180921;
            }
            
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180913 = sub64(write_iter_180817, arg_168564);
                int64_t index_concat_180914 = ((int64_t *) mem_181105)[index_concat_i_180913];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t new_index_180940 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180942 = i16_res_168558 * new_index_180940;
                int64_t new_index_180943 = write_iter_180817 - binop_y_180942;
                int64_t index_concat_180915 = ((int64_t *) mem_181134)[new_index_180940 * i16_res_168558 + new_index_180943];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t binop_x_178601 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * i32_res_178591;
            int64_t new_index_178602 = block_idx_178592 + binop_x_178601;
            int64_t new_offset_178603 = ((int64_t *) mem_181247)[new_index_178602];
            bool index_concat_cmp_178604 = sle64(n_blocks_168562, block_idx_178592);
            int16_t index_concat_branch_178605;
            
            if (index_concat_cmp_178604) {
                int16_t index_concat_178771 = ((int16_t *) mem_181128)[i32_res_178591];
                
                index_concat_branch_178605 = index_concat_178771;
            } else {
                int16_t index_concat_178607 = ((int16_t *) mem_181140)[block_idx_178592 * (int64_t) 4 + i32_res_178591];
                
                index_concat_branch_178605 = index_concat_178607;
            }
            
            int64_t i16_res_178608 = sext_i16_i64(index_concat_branch_178605);
            int64_t zp_lhs_178609 = mul64(i16_res_168558, block_idx_178592);
            int64_t old_offset_178610 = add64(i16_res_178608, zp_lhs_178609);
            int64_t zp_lhs_178611 = sub64(write_iter_180817, old_offset_178610);
            int64_t idx_178612 = add64(new_offset_178603, zp_lhs_178611);
            
            if (sle64((int64_t) 0, idx_178612) && slt64(idx_178612, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int32_t *) mem_181055)[idx_178612] = index_concat_branch_180922;
            }
            if (sle64((int64_t) 0, idx_178612) && slt64(idx_178612, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int64_t *) mem_181057)[idx_178612] = index_concat_branch_180916;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181273, bytes_181272, "mem_181273")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181275, bytes_181274, "mem_181275")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180829 = 0; i_180829 < n_88213; i_180829++) {
        int64_t eta_p_168857 = ((int64_t *) mem_181057)[i_180829];
        bool x_168858 = sle64((int64_t) 0, eta_p_168857);
        bool y_168859 = slt64(eta_p_168857, n_88213);
        bool bounds_check_168860 = x_168858 && y_168859;
        bool index_certs_168861;
        
        if (!bounds_check_168860) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168857, "] out of bounds for array of shape [", (long long) n_88213, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168862 = ((int64_t *) ext_mem_181053.mem)[eta_p_168857];
        int32_t lifted_lambda_res_168863 = ((int32_t *) xs_mem_181052.mem)[eta_p_168857];
        
        ((int64_t *) mem_181273.mem)[i_180829] = lifted_lambda_res_168862;
        ((int32_t *) mem_181275.mem)[i_180829] = lifted_lambda_res_168863;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181273, "mem_181273") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181275, "mem_181275") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183119, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183120, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181055);
        free(mem_181057);
        free(mem_181065);
        free(mem_181067);
        free(mem_181069);
        free(mem_181071);
        free(mem_181073);
        free(mem_181105);
        free(mem_181107);
        free(mem_181120);
        free(mem_181121);
        free(mem_181128);
        free(mem_181131);
        free(mem_181134);
        free(mem_181137);
        free(mem_181140);
        free(mem_181162);
        free(mem_181164);
        free(mem_181166);
        free(mem_181168);
        free(mem_181170);
        free(mem_181213);
        free(mem_181214);
        free(mem_181239);
        free(mem_181247);
        if (memblock_unref(ctx, &mem_181275, "mem_181275") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181273, "mem_181273") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183146, struct memblock *mem_out_p_183147, struct memblock xs_mem_181052, int64_t n_90813, int64_t incr_90814, int16_t block_sizze_90815)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181055_cached_sizze_183148 = 0;
    unsigned char *mem_181055 = NULL;
    int64_t mem_181057_cached_sizze_183149 = 0;
    unsigned char *mem_181057 = NULL;
    int64_t mem_181065_cached_sizze_183150 = 0;
    unsigned char *mem_181065 = NULL;
    int64_t mem_181067_cached_sizze_183151 = 0;
    unsigned char *mem_181067 = NULL;
    int64_t mem_181069_cached_sizze_183152 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183153 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_183154 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181105_cached_sizze_183155 = 0;
    unsigned char *mem_181105 = NULL;
    int64_t mem_181107_cached_sizze_183156 = 0;
    unsigned char *mem_181107 = NULL;
    int64_t mem_181120_cached_sizze_183157 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181121_cached_sizze_183158 = 0;
    unsigned char *mem_181121 = NULL;
    int64_t mem_181128_cached_sizze_183159 = 0;
    unsigned char *mem_181128 = NULL;
    int64_t mem_181131_cached_sizze_183160 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181134_cached_sizze_183161 = 0;
    unsigned char *mem_181134 = NULL;
    int64_t mem_181137_cached_sizze_183162 = 0;
    unsigned char *mem_181137 = NULL;
    int64_t mem_181140_cached_sizze_183163 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181162_cached_sizze_183164 = 0;
    unsigned char *mem_181162 = NULL;
    int64_t mem_181164_cached_sizze_183165 = 0;
    unsigned char *mem_181164 = NULL;
    int64_t mem_181166_cached_sizze_183166 = 0;
    unsigned char *mem_181166 = NULL;
    int64_t mem_181168_cached_sizze_183167 = 0;
    unsigned char *mem_181168 = NULL;
    int64_t mem_181170_cached_sizze_183168 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181213_cached_sizze_183169 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181214_cached_sizze_183170 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181239_cached_sizze_183171 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181247_cached_sizze_183172 = 0;
    unsigned char *mem_181247 = NULL;
    struct memblock mem_181275;
    
    mem_181275.references = NULL;
    
    struct memblock mem_181273;
    
    mem_181273.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    bool cond_168556 = n_90813 == (int64_t) 0;
    int32_t iters_168557;
    
    if (cond_168556) {
        iters_168557 = 0;
    } else {
        iters_168557 = 32;
    }
    
    int64_t i16_res_168558 = sext_i16_i64(block_sizze_90815);
    bool zzero_168559 = i16_res_168558 == (int64_t) 0;
    bool nonzzero_168560 = !zzero_168559;
    bool nonzzero_cert_168561;
    
    if (!nonzzero_168560) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168562 = sdiv64(n_90813, i16_res_168558);
    int64_t rest_168563 = smod64(n_90813, i16_res_168558);
    int64_t arg_168564 = mul64(i16_res_168558, n_blocks_168562);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 = add64(rest_168563, arg_168564);
    bool dim_match_168566 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 == n_90813;
    bool empty_or_match_cert_168567;
    
    if (!dim_match_168566) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90813, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:164:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181054 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool loop_nonempty_168571 = slt32(0, iters_168557);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 = add64((int64_t) 1, n_blocks_168562);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
    bool empty_slice_168574 = arg_168564 == (int64_t) 0;
    int64_t m_168575 = sub64(arg_168564, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168576 = sle64((int64_t) 0, m_168575);
    bool i_p_m_t_s_leq_w_168577 = slt64(m_168575, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168578 = sle64((int64_t) 0, arg_168564);
    bool y_168579 = zzero_leq_i_p_m_t_s_168576 && i_p_m_t_s_leq_w_168577;
    bool forwards_ok_168580 = i_lte_j_168578 && y_168579;
    bool ok_or_empty_168581 = empty_slice_168574 || forwards_ok_168580;
    bool loop_not_taken_168582 = !loop_nonempty_168571;
    bool protect_assert_disj_168583 = ok_or_empty_168581 || loop_not_taken_168582;
    bool index_certs_168584;
    
    if (!protect_assert_disj_168583) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168585 = rest_168563 == (int64_t) 0;
    int64_t m_168586 = sub64(rest_168563, (int64_t) 1);
    int64_t i_p_m_t_s_168587 = add64(arg_168564, m_168586);
    bool zzero_leq_i_p_m_t_s_168588 = sle64((int64_t) 0, i_p_m_t_s_168587);
    bool i_p_m_t_s_leq_w_168589 = slt64(i_p_m_t_s_168587, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168590 = sle64(arg_168564, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool y_168591 = zzero_leq_i_p_m_t_s_168588 && i_p_m_t_s_leq_w_168589;
    bool forwards_ok_168592 = i_lte_j_168590 && y_168591;
    bool ok_or_empty_168593 = empty_slice_168585 || forwards_ok_168592;
    bool protect_assert_disj_168594 = loop_not_taken_168582 || ok_or_empty_168593;
    bool index_certs_168595;
    
    if (!protect_assert_disj_168594) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168564, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168596 = sle64((int64_t) 0, n_blocks_168562);
    bool binop_y_168597 = sle64((int64_t) 0, i16_res_168558);
    bool binop_y_168598 = binop_x_168596 && binop_y_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168582 || binop_y_168598;
    bool dim_ok_cert_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168564, "] to array of shape [", (long long) n_blocks_168562, "][", (long long) i16_res_168558, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168601 = sub64(i16_res_168558, (int64_t) 1);
    bool x_168602 = sle64((int64_t) 0, tmp_168601);
    bool y_168603 = slt64(tmp_168601, i16_res_168558);
    bool bounds_check_168604 = x_168602 && y_168603;
    bool protect_assert_disj_168605 = zzero_168559 || bounds_check_168604;
    bool protect_assert_disj_168606 = loop_not_taken_168582 || protect_assert_disj_168605;
    bool index_certs_168607;
    
    if (!protect_assert_disj_168606) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168601, "] out of bounds for array of shape [", (long long) i16_res_168558, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168609 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
    bool protect_assert_disj_168610 = loop_not_taken_168582 || y_168609;
    bool index_certs_168611;
    
    if (!protect_assert_disj_168610) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168613 = nonzzero_168560 || loop_not_taken_168582;
    bool nonzzero_cert_168614;
    
    if (!protect_assert_disj_168613) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168615 = sle64((int64_t) 0, m_168586);
    bool y_168616 = slt64(m_168586, rest_168563);
    bool bounds_check_168617 = x_168615 && y_168616;
    bool protect_assert_disj_168618 = empty_slice_168585 || bounds_check_168617;
    bool protect_assert_disj_168619 = loop_not_taken_168582 || protect_assert_disj_168618;
    bool index_certs_168620;
    
    if (!protect_assert_disj_168619) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168586, "] out of bounds for array of shape [", (long long) rest_168563, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181064 = (int64_t) 2 * rest_168563;
    int64_t bytes_181104 = (int64_t) 8 * rest_168563;
    int64_t binop_x_181129 = (int64_t) 8 * n_blocks_168562;
    int64_t bytes_181130 = i16_res_168558 * binop_x_181129;
    int64_t bytes_181136 = (int64_t) 32 * n_blocks_168562;
    int64_t bytes_181161 = (int64_t) 2 * i16_res_168558;
    int64_t bytes_181238 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572;
    bool dim_match_168852 = n_90813 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool empty_or_match_cert_168853;
    
    if (!dim_match_168852) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] cannot match shape of type `[", (long long) n_90813, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181272 = (int64_t) 8 * n_90813;
    
    if (futrts_indicesWithIncrement_9409(ctx, &ext_mem_181053, xs_mem_181052, n_90813, incr_90814) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181055_cached_sizze_183148 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181055, &mem_181055_cached_sizze_183148, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181055, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565});
    if (mem_181057_cached_sizze_183149 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181057, &mem_181057_cached_sizze_183149, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182468 = 0; i_182468 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; i_182468++) {
        int64_t x_182469 = (int64_t) 0 + i_182468 * (int64_t) 1;
        
        ((int64_t *) mem_181057)[i_182468] = x_182469;
    }
    if (mem_181065_cached_sizze_183150 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181065, &mem_181065_cached_sizze_183150, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181067_cached_sizze_183151 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181067, &mem_181067_cached_sizze_183151, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181069_cached_sizze_183152 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183152, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181071_cached_sizze_183153 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183153, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181073_cached_sizze_183154 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_183154, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181105_cached_sizze_183155 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181105, &mem_181105_cached_sizze_183155, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181107_cached_sizze_183156 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181107, &mem_181107_cached_sizze_183156, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183157 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183157, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181121_cached_sizze_183158 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181121, &mem_181121_cached_sizze_183158, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181128_cached_sizze_183159 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181128, &mem_181128_cached_sizze_183159, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181131_cached_sizze_183160 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183160, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181134_cached_sizze_183161 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181134, &mem_181134_cached_sizze_183161, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181137_cached_sizze_183162 < bytes_181136) {
        err = lexical_realloc(ctx, &mem_181137, &mem_181137_cached_sizze_183162, bytes_181136);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181140_cached_sizze_183163 < binop_x_181129) {
        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_183163, binop_x_181129);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181162_cached_sizze_183164 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181162, &mem_181162_cached_sizze_183164, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181164_cached_sizze_183165 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181164, &mem_181164_cached_sizze_183165, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181166_cached_sizze_183166 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181166, &mem_181166_cached_sizze_183166, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181168_cached_sizze_183167 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181168, &mem_181168_cached_sizze_183167, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181170_cached_sizze_183168 < bytes_181161) {
        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_183168, bytes_181161);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181213_cached_sizze_183169 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_183169, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181214_cached_sizze_183170 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183170, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181239_cached_sizze_183171 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_183171, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183172 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183172, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168623 = 0; i_168623 < iters_168557; i_168623++) {
        int32_t blocked_radix_sort_step_arg1_168626 = mul32(2, i_168623);
        int32_t get_bit_arg0_168631 = add32(1, blocked_radix_sort_step_arg1_168626);
        bool cond_168632 = get_bit_arg0_168631 == 63;
        bool cond_168633 = blocked_radix_sort_step_arg1_168626 == 63;
        int16_t discard_180732;
        int16_t discard_180733;
        int16_t discard_180734;
        int16_t discard_180735;
        int16_t scanacc_180717;
        int16_t scanacc_180718;
        int16_t scanacc_180719;
        int16_t scanacc_180720;
        
        scanacc_180717 = (int16_t) 0;
        scanacc_180718 = (int16_t) 0;
        scanacc_180719 = (int16_t) 0;
        scanacc_180720 = (int16_t) 0;
        for (int64_t i_180726 = 0; i_180726 < rest_168563; i_180726++) {
            int64_t slice_180939 = arg_168564 + i_180726;
            int64_t eta_p_178637 = ((int64_t *) mem_181055)[slice_180939];
            int32_t defunc_0_get_bit_res_178638;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178638, get_bit_arg0_168631, eta_p_178637) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178639;
            
            if (cond_168632) {
                int32_t defunc_0_get_bit_res_t_res_178751 = 1 ^ defunc_0_get_bit_res_178638;
                
                defunc_0_get_bit_res_178639 = defunc_0_get_bit_res_t_res_178751;
            } else {
                defunc_0_get_bit_res_178639 = defunc_0_get_bit_res_178638;
            }
            
            int32_t zp_lhs_178641 = mul32(2, defunc_0_get_bit_res_178639);
            int32_t defunc_0_get_bit_res_178642;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178642, blocked_radix_sort_step_arg1_168626, eta_p_178637) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178643;
            
            if (cond_168633) {
                int32_t defunc_0_get_bit_res_t_res_178752 = 1 ^ defunc_0_get_bit_res_178642;
                
                defunc_0_get_bit_res_178643 = defunc_0_get_bit_res_t_res_178752;
            } else {
                defunc_0_get_bit_res_178643 = defunc_0_get_bit_res_178642;
            }
            
            int32_t i32_arg0_178645 = add32(zp_lhs_178641, defunc_0_get_bit_res_178643);
            int16_t i32_res_178646 = sext_i32_i16(i32_arg0_178645);
            int16_t defunc_0_f_res_178648;
            int16_t defunc_0_f_res_178649;
            int16_t defunc_0_f_res_178650;
            int16_t defunc_0_f_res_178651;
            
            if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178648, &defunc_0_f_res_178649, &defunc_0_f_res_178650, &defunc_0_f_res_178651, i32_res_178646) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168670 = add16(defunc_0_f_res_178648, scanacc_180717);
            int16_t defunc_0_op_res_168671 = add16(defunc_0_f_res_178649, scanacc_180718);
            int16_t defunc_0_op_res_168672 = add16(defunc_0_f_res_178650, scanacc_180719);
            int16_t defunc_0_op_res_168673 = add16(defunc_0_f_res_178651, scanacc_180720);
            
            ((int16_t *) mem_181065)[i_180726] = defunc_0_op_res_168670;
            ((int16_t *) mem_181067)[i_180726] = defunc_0_op_res_168671;
            ((int16_t *) mem_181069)[i_180726] = defunc_0_op_res_168672;
            ((int16_t *) mem_181071)[i_180726] = defunc_0_op_res_168673;
            ((int16_t *) mem_181073)[i_180726] = i32_res_178646;
            
            int16_t scanacc_tmp_182472 = defunc_0_op_res_168670;
            int16_t scanacc_tmp_182473 = defunc_0_op_res_168671;
            int16_t scanacc_tmp_182474 = defunc_0_op_res_168672;
            int16_t scanacc_tmp_182475 = defunc_0_op_res_168673;
            
            scanacc_180717 = scanacc_tmp_182472;
            scanacc_180718 = scanacc_tmp_182473;
            scanacc_180719 = scanacc_tmp_182474;
            scanacc_180720 = scanacc_tmp_182475;
        }
        discard_180732 = scanacc_180717;
        discard_180733 = scanacc_180718;
        discard_180734 = scanacc_180719;
        discard_180735 = scanacc_180720;
        
        int16_t defunc_0_radix_sort_step_i16_res_168674;
        int16_t defunc_0_radix_sort_step_i16_res_168675;
        int16_t defunc_0_radix_sort_step_i16_res_168676;
        int16_t defunc_0_radix_sort_step_i16_res_168677;
        
        if (empty_slice_168585) {
            defunc_0_radix_sort_step_i16_res_168674 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168675 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168676 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168677 = (int16_t) 0;
        } else {
            int16_t last_res_168678 = ((int16_t *) mem_181065)[m_168586];
            int16_t last_res_168679 = ((int16_t *) mem_181067)[m_168586];
            int16_t last_res_168680 = ((int16_t *) mem_181069)[m_168586];
            int16_t last_res_168681 = ((int16_t *) mem_181071)[m_168586];
            
            defunc_0_radix_sort_step_i16_res_168674 = last_res_168678;
            defunc_0_radix_sort_step_i16_res_168675 = last_res_168679;
            defunc_0_radix_sort_step_i16_res_168676 = last_res_168680;
            defunc_0_radix_sort_step_i16_res_168677 = last_res_168681;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181105, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181107, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181055, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        for (int64_t write_iter_180736 = 0; write_iter_180736 < rest_168563; write_iter_180736++) {
            int16_t write_iv_180739 = ((int16_t *) mem_181073)[write_iter_180736];
            int16_t write_iv_180740 = ((int16_t *) mem_181065)[write_iter_180736];
            int16_t write_iv_180741 = ((int16_t *) mem_181067)[write_iter_180736];
            int16_t write_iv_180742 = ((int16_t *) mem_181069)[write_iter_180736];
            int16_t write_iv_180743 = ((int16_t *) mem_181071)[write_iter_180736];
            int64_t slice_180938 = arg_168564 + write_iter_180736;
            int64_t write_iv_180744 = ((int64_t *) mem_181055)[slice_180938];
            int64_t write_iv_180745 = ((int64_t *) mem_181057)[slice_180938];
            int64_t defunc_0_f_res_178621;
            
            if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178621, defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675, defunc_0_radix_sort_step_i16_res_168676, write_iv_180739, write_iv_180740, write_iv_180741, write_iv_180742, write_iv_180743) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178621) && slt64(defunc_0_f_res_178621, rest_168563)) {
                ((int64_t *) mem_181107)[defunc_0_f_res_178621] = write_iv_180744;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178621) && slt64(defunc_0_f_res_178621, rest_168563)) {
                ((int64_t *) mem_181105)[defunc_0_f_res_178621] = write_iv_180745;
            }
        }
        ((int16_t *) mem_181120)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181120)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168675;
        ((int16_t *) mem_181120)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168676;
        ((int16_t *) mem_181120)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168677;
        for (int64_t i_180750 = 0; i_180750 < (int64_t) 4; i_180750++) {
            int16_t eta_p_168698 = ((int16_t *) mem_181120)[i_180750];
            int64_t i16_res_168699 = sext_i16_i64(eta_p_168698);
            
            ((int64_t *) mem_181121)[i_180750] = i16_res_168699;
        }
        
        int16_t tmp_168700 = add16(defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675);
        int16_t tmp_168701 = add16(defunc_0_radix_sort_step_i16_res_168676, tmp_168700);
        
        ((int16_t *) mem_181128)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181128)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181128)[(int64_t) 2] = tmp_168700;
        ((int16_t *) mem_181128)[(int64_t) 3] = tmp_168701;
        for (int64_t i_180800 = 0; i_180800 < n_blocks_168562; i_180800++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181131, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181055, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181134, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            
            int64_t binop_x_180952 = i16_res_168558 * i_180800;
            int16_t discard_180772;
            int16_t discard_180773;
            int16_t discard_180774;
            int16_t discard_180775;
            int16_t scanacc_180757;
            int16_t scanacc_180758;
            int16_t scanacc_180759;
            int16_t scanacc_180760;
            
            scanacc_180757 = (int16_t) 0;
            scanacc_180758 = (int16_t) 0;
            scanacc_180759 = (int16_t) 0;
            scanacc_180760 = (int16_t) 0;
            for (int64_t i_180766 = 0; i_180766 < i16_res_168558; i_180766++) {
                int64_t new_index_180953 = i_180766 + binop_x_180952;
                int64_t eta_p_178682 = ((int64_t *) mem_181055)[new_index_180953];
                int32_t defunc_0_get_bit_res_178683;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178683, get_bit_arg0_168631, eta_p_178682) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178684;
                
                if (cond_168632) {
                    int32_t defunc_0_get_bit_res_t_res_178753 = 1 ^ defunc_0_get_bit_res_178683;
                    
                    defunc_0_get_bit_res_178684 = defunc_0_get_bit_res_t_res_178753;
                } else {
                    defunc_0_get_bit_res_178684 = defunc_0_get_bit_res_178683;
                }
                
                int32_t zp_lhs_178686 = mul32(2, defunc_0_get_bit_res_178684);
                int32_t defunc_0_get_bit_res_178687;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178687, blocked_radix_sort_step_arg1_168626, eta_p_178682) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178688;
                
                if (cond_168633) {
                    int32_t defunc_0_get_bit_res_t_res_178754 = 1 ^ defunc_0_get_bit_res_178687;
                    
                    defunc_0_get_bit_res_178688 = defunc_0_get_bit_res_t_res_178754;
                } else {
                    defunc_0_get_bit_res_178688 = defunc_0_get_bit_res_178687;
                }
                
                int32_t i32_arg0_178690 = add32(zp_lhs_178686, defunc_0_get_bit_res_178688);
                int16_t i32_res_178691 = sext_i32_i16(i32_arg0_178690);
                int16_t defunc_0_f_res_178693;
                int16_t defunc_0_f_res_178694;
                int16_t defunc_0_f_res_178695;
                int16_t defunc_0_f_res_178696;
                
                if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178693, &defunc_0_f_res_178694, &defunc_0_f_res_178695, &defunc_0_f_res_178696, i32_res_178691) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178693, scanacc_180757);
                int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178694, scanacc_180758);
                int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178695, scanacc_180759);
                int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178696, scanacc_180760);
                
                ((int16_t *) mem_181162)[i_180766] = defunc_0_op_res_168751;
                ((int16_t *) mem_181164)[i_180766] = defunc_0_op_res_168752;
                ((int16_t *) mem_181166)[i_180766] = defunc_0_op_res_168753;
                ((int16_t *) mem_181168)[i_180766] = defunc_0_op_res_168754;
                ((int16_t *) mem_181170)[i_180766] = i32_res_178691;
                
                int16_t scanacc_tmp_182488 = defunc_0_op_res_168751;
                int16_t scanacc_tmp_182489 = defunc_0_op_res_168752;
                int16_t scanacc_tmp_182490 = defunc_0_op_res_168753;
                int16_t scanacc_tmp_182491 = defunc_0_op_res_168754;
                
                scanacc_180757 = scanacc_tmp_182488;
                scanacc_180758 = scanacc_tmp_182489;
                scanacc_180759 = scanacc_tmp_182490;
                scanacc_180760 = scanacc_tmp_182491;
            }
            discard_180772 = scanacc_180757;
            discard_180773 = scanacc_180758;
            discard_180774 = scanacc_180759;
            discard_180775 = scanacc_180760;
            
            int16_t defunc_0_f_res_168755;
            int16_t defunc_0_f_res_168756;
            int16_t defunc_0_f_res_168757;
            int16_t defunc_0_f_res_168758;
            
            if (zzero_168559) {
                defunc_0_f_res_168755 = (int16_t) 0;
                defunc_0_f_res_168756 = (int16_t) 0;
                defunc_0_f_res_168757 = (int16_t) 0;
                defunc_0_f_res_168758 = (int16_t) 0;
            } else {
                int16_t last_res_168759 = ((int16_t *) mem_181162)[tmp_168601];
                int16_t last_res_168760 = ((int16_t *) mem_181164)[tmp_168601];
                int16_t last_res_168761 = ((int16_t *) mem_181166)[tmp_168601];
                int16_t last_res_168762 = ((int16_t *) mem_181168)[tmp_168601];
                
                defunc_0_f_res_168755 = last_res_168759;
                defunc_0_f_res_168756 = last_res_168760;
                defunc_0_f_res_168757 = last_res_168761;
                defunc_0_f_res_168758 = last_res_168762;
            }
            for (int64_t write_iter_180776 = 0; write_iter_180776 < i16_res_168558; write_iter_180776++) {
                int16_t write_iv_180779 = ((int16_t *) mem_181170)[write_iter_180776];
                int16_t write_iv_180780 = ((int16_t *) mem_181162)[write_iter_180776];
                int16_t write_iv_180781 = ((int16_t *) mem_181164)[write_iter_180776];
                int16_t write_iv_180782 = ((int16_t *) mem_181166)[write_iter_180776];
                int16_t write_iv_180783 = ((int16_t *) mem_181168)[write_iter_180776];
                int64_t new_index_180949 = write_iter_180776 + binop_x_180952;
                int64_t write_iv_180784 = ((int64_t *) mem_181055)[new_index_180949];
                int64_t write_iv_180785 = ((int64_t *) mem_181057)[new_index_180949];
                int64_t defunc_0_f_res_178666;
                
                if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178666, defunc_0_f_res_168755, defunc_0_f_res_168756, defunc_0_f_res_168757, write_iv_180779, write_iv_180780, write_iv_180781, write_iv_180782, write_iv_180783) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178666) && slt64(defunc_0_f_res_178666, i16_res_168558)) {
                    ((int64_t *) mem_181131)[i_180800 * i16_res_168558 + defunc_0_f_res_178666] = write_iv_180784;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178666) && slt64(defunc_0_f_res_178666, i16_res_168558)) {
                    ((int64_t *) mem_181134)[i_180800 * i16_res_168558 + defunc_0_f_res_178666] = write_iv_180785;
                }
            }
            ((int16_t *) mem_181213)[(int64_t) 0] = defunc_0_f_res_168755;
            ((int16_t *) mem_181213)[(int64_t) 1] = defunc_0_f_res_168756;
            ((int16_t *) mem_181213)[(int64_t) 2] = defunc_0_f_res_168757;
            ((int16_t *) mem_181213)[(int64_t) 3] = defunc_0_f_res_168758;
            for (int64_t i_180790 = 0; i_180790 < (int64_t) 4; i_180790++) {
                int16_t eta_p_168777 = ((int16_t *) mem_181213)[i_180790];
                int64_t i16_res_168778 = sext_i16_i64(eta_p_168777);
                
                ((int64_t *) mem_181214)[i_180790] = i16_res_168778;
            }
            
            int16_t tmp_168779 = add16(defunc_0_f_res_168755, defunc_0_f_res_168756);
            int16_t tmp_168780 = add16(defunc_0_f_res_168757, tmp_168779);
            
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168755;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 2] = tmp_168779;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 3] = tmp_168780;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137, i_180800 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180812;
        int64_t scanacc_180808 = (int64_t) 0;
        
        for (int64_t i_180810 = 0; i_180810 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180810++) {
            int64_t new_index_180927 = squot64(i_180810, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            int64_t binop_y_180929 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * new_index_180927;
            int64_t new_index_180930 = i_180810 - binop_y_180929;
            bool index_concat_cmp_180932 = sle64(n_blocks_168562, new_index_180930);
            int64_t index_concat_branch_180936;
            
            if (index_concat_cmp_180932) {
                int64_t index_concat_180934 = ((int64_t *) mem_181121)[new_index_180927];
                
                index_concat_branch_180936 = index_concat_180934;
            } else {
                int64_t index_concat_180935 = ((int64_t *) mem_181137)[new_index_180930 * (int64_t) 4 + new_index_180927];
                
                index_concat_branch_180936 = index_concat_180935;
            }
            
            int64_t defunc_0_op_res_168792 = add64(scanacc_180808, index_concat_branch_180936);
            
            ((int64_t *) mem_181239)[i_180810] = defunc_0_op_res_168792;
            
            int64_t scanacc_tmp_182500 = defunc_0_op_res_168792;
            
            scanacc_180808 = scanacc_tmp_182500;
        }
        discard_180812 = scanacc_180808;
        for (int64_t i_180815 = 0; i_180815 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180815++) {
            int64_t zv_lhs_168795 = add64((int64_t) -1, i_180815);
            int64_t tmp_168796 = smod64(zv_lhs_168795, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
            int64_t lifted_lambda_res_168797 = ((int64_t *) mem_181239)[tmp_168796];
            
            ((int64_t *) mem_181247)[i_180815] = lifted_lambda_res_168797;
        }
        ((int64_t *) mem_181247)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180817 = 0; write_iter_180817 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; write_iter_180817++) {
            bool index_concat_cmp_180918 = sle64(arg_168564, write_iter_180817);
            int64_t index_concat_branch_178573;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_178763 = sub64(write_iter_180817, arg_168564);
                int64_t index_concat_178764 = ((int64_t *) mem_181107)[index_concat_i_178763];
                
                index_concat_branch_178573 = index_concat_178764;
            } else {
                int64_t new_index_178576 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_178577 = i16_res_168558 * new_index_178576;
                int64_t new_index_178578 = write_iter_180817 - binop_y_178577;
                int64_t index_concat_178579 = ((int64_t *) mem_181131)[new_index_178576 * i16_res_168558 + new_index_178578];
                
                index_concat_branch_178573 = index_concat_178579;
            }
            
            int32_t zlzb_rhs_178580;
            int32_t acc_178582 = 0;
            
            for (int32_t i_178581 = 0; i_178581 < 2; i_178581++) {
                int32_t get_bit_arg0_178583 = add32(blocked_radix_sort_step_arg1_168626, i_178581);
                int32_t defunc_0_get_bit_res_178584;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178584, get_bit_arg0_178583, index_concat_branch_178573) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178585 = get_bit_arg0_178583 == 63;
                int32_t defunc_0_get_bit_res_178586;
                
                if (cond_178585) {
                    int32_t defunc_0_get_bit_res_t_res_178765 = 1 ^ defunc_0_get_bit_res_178584;
                    
                    defunc_0_get_bit_res_178586 = defunc_0_get_bit_res_t_res_178765;
                } else {
                    defunc_0_get_bit_res_178586 = defunc_0_get_bit_res_178584;
                }
                
                int32_t zp_rhs_178588 = shl32(defunc_0_get_bit_res_178586, i_178581);
                int32_t loopres_178589 = add32(acc_178582, zp_rhs_178588);
                int32_t acc_tmp_182505 = loopres_178589;
                
                acc_178582 = acc_tmp_182505;
            }
            zlzb_rhs_178580 = acc_178582;
            
            int64_t i32_res_178590 = sext_i32_i64(zlzb_rhs_178580);
            int64_t block_idx_178591 = sdiv64(write_iter_180817, i16_res_168558);
            bool x_178592 = sle64((int64_t) 0, block_idx_178591);
            bool y_178593 = slt64(block_idx_178591, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            bool bounds_check_178594 = x_178592 && y_178593;
            bool index_certs_178595;
            
            if (!bounds_check_178594) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178591, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178596 = sle64((int64_t) 0, i32_res_178590);
            bool y_178597 = slt64(i32_res_178590, (int64_t) 4);
            bool bounds_check_178598 = x_178596 && y_178597;
            bool index_certs_178599;
            
            if (!bounds_check_178598) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178590, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_180922;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180919 = sub64(write_iter_180817, arg_168564);
                int64_t index_concat_180920 = ((int64_t *) mem_181107)[index_concat_i_180919];
                
                index_concat_branch_180922 = index_concat_180920;
            } else {
                int64_t new_index_180944 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180946 = i16_res_168558 * new_index_180944;
                int64_t new_index_180947 = write_iter_180817 - binop_y_180946;
                int64_t index_concat_180921 = ((int64_t *) mem_181131)[new_index_180944 * i16_res_168558 + new_index_180947];
                
                index_concat_branch_180922 = index_concat_180921;
            }
            
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180913 = sub64(write_iter_180817, arg_168564);
                int64_t index_concat_180914 = ((int64_t *) mem_181105)[index_concat_i_180913];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t new_index_180940 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180942 = i16_res_168558 * new_index_180940;
                int64_t new_index_180943 = write_iter_180817 - binop_y_180942;
                int64_t index_concat_180915 = ((int64_t *) mem_181134)[new_index_180940 * i16_res_168558 + new_index_180943];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t binop_x_178600 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * i32_res_178590;
            int64_t new_index_178601 = block_idx_178591 + binop_x_178600;
            int64_t new_offset_178602 = ((int64_t *) mem_181247)[new_index_178601];
            bool index_concat_cmp_178603 = sle64(n_blocks_168562, block_idx_178591);
            int16_t index_concat_branch_178604;
            
            if (index_concat_cmp_178603) {
                int16_t index_concat_178766 = ((int16_t *) mem_181128)[i32_res_178590];
                
                index_concat_branch_178604 = index_concat_178766;
            } else {
                int16_t index_concat_178606 = ((int16_t *) mem_181140)[block_idx_178591 * (int64_t) 4 + i32_res_178590];
                
                index_concat_branch_178604 = index_concat_178606;
            }
            
            int64_t i16_res_178607 = sext_i16_i64(index_concat_branch_178604);
            int64_t zp_lhs_178608 = mul64(i16_res_168558, block_idx_178591);
            int64_t old_offset_178609 = add64(i16_res_178607, zp_lhs_178608);
            int64_t zp_lhs_178610 = sub64(write_iter_180817, old_offset_178609);
            int64_t idx_178611 = add64(new_offset_178602, zp_lhs_178610);
            
            if (sle64((int64_t) 0, idx_178611) && slt64(idx_178611, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int64_t *) mem_181055)[idx_178611] = index_concat_branch_180922;
            }
            if (sle64((int64_t) 0, idx_178611) && slt64(idx_178611, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int64_t *) mem_181057)[idx_178611] = index_concat_branch_180916;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181273, bytes_181272, "mem_181273")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181275, bytes_181272, "mem_181275")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180829 = 0; i_180829 < n_90813; i_180829++) {
        int64_t eta_p_168857 = ((int64_t *) mem_181057)[i_180829];
        bool x_168858 = sle64((int64_t) 0, eta_p_168857);
        bool y_168859 = slt64(eta_p_168857, n_90813);
        bool bounds_check_168860 = x_168858 && y_168859;
        bool index_certs_168861;
        
        if (!bounds_check_168860) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168857, "] out of bounds for array of shape [", (long long) n_90813, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168862 = ((int64_t *) ext_mem_181053.mem)[eta_p_168857];
        int64_t lifted_lambda_res_168863 = ((int64_t *) xs_mem_181052.mem)[eta_p_168857];
        
        ((int64_t *) mem_181273.mem)[i_180829] = lifted_lambda_res_168862;
        ((int64_t *) mem_181275.mem)[i_180829] = lifted_lambda_res_168863;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181273, "mem_181273") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181275, "mem_181275") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183146, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183147, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181055);
        free(mem_181057);
        free(mem_181065);
        free(mem_181067);
        free(mem_181069);
        free(mem_181071);
        free(mem_181073);
        free(mem_181105);
        free(mem_181107);
        free(mem_181120);
        free(mem_181121);
        free(mem_181128);
        free(mem_181131);
        free(mem_181134);
        free(mem_181137);
        free(mem_181140);
        free(mem_181162);
        free(mem_181164);
        free(mem_181166);
        free(mem_181168);
        free(mem_181170);
        free(mem_181213);
        free(mem_181214);
        free(mem_181239);
        free(mem_181247);
        if (memblock_unref(ctx, &mem_181275, "mem_181275") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181273, "mem_181273") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183173, struct memblock *mem_out_p_183174, struct memblock xs_mem_181052, int64_t n_85596, int64_t incr_85597, int16_t block_sizze_85598)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181055_cached_sizze_183175 = 0;
    unsigned char *mem_181055 = NULL;
    int64_t mem_181057_cached_sizze_183176 = 0;
    unsigned char *mem_181057 = NULL;
    int64_t mem_181065_cached_sizze_183177 = 0;
    unsigned char *mem_181065 = NULL;
    int64_t mem_181067_cached_sizze_183178 = 0;
    unsigned char *mem_181067 = NULL;
    int64_t mem_181069_cached_sizze_183179 = 0;
    unsigned char *mem_181069 = NULL;
    int64_t mem_181071_cached_sizze_183180 = 0;
    unsigned char *mem_181071 = NULL;
    int64_t mem_181073_cached_sizze_183181 = 0;
    unsigned char *mem_181073 = NULL;
    int64_t mem_181105_cached_sizze_183182 = 0;
    unsigned char *mem_181105 = NULL;
    int64_t mem_181107_cached_sizze_183183 = 0;
    unsigned char *mem_181107 = NULL;
    int64_t mem_181120_cached_sizze_183184 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181121_cached_sizze_183185 = 0;
    unsigned char *mem_181121 = NULL;
    int64_t mem_181128_cached_sizze_183186 = 0;
    unsigned char *mem_181128 = NULL;
    int64_t mem_181131_cached_sizze_183187 = 0;
    unsigned char *mem_181131 = NULL;
    int64_t mem_181134_cached_sizze_183188 = 0;
    unsigned char *mem_181134 = NULL;
    int64_t mem_181137_cached_sizze_183189 = 0;
    unsigned char *mem_181137 = NULL;
    int64_t mem_181140_cached_sizze_183190 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181162_cached_sizze_183191 = 0;
    unsigned char *mem_181162 = NULL;
    int64_t mem_181164_cached_sizze_183192 = 0;
    unsigned char *mem_181164 = NULL;
    int64_t mem_181166_cached_sizze_183193 = 0;
    unsigned char *mem_181166 = NULL;
    int64_t mem_181168_cached_sizze_183194 = 0;
    unsigned char *mem_181168 = NULL;
    int64_t mem_181170_cached_sizze_183195 = 0;
    unsigned char *mem_181170 = NULL;
    int64_t mem_181213_cached_sizze_183196 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181214_cached_sizze_183197 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181239_cached_sizze_183198 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181247_cached_sizze_183199 = 0;
    unsigned char *mem_181247 = NULL;
    struct memblock mem_181275;
    
    mem_181275.references = NULL;
    
    struct memblock mem_181273;
    
    mem_181273.references = NULL;
    
    struct memblock ext_mem_181053;
    
    ext_mem_181053.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    bool cond_168556 = n_85596 == (int64_t) 0;
    int32_t iters_168557;
    
    if (cond_168556) {
        iters_168557 = 0;
    } else {
        iters_168557 = 8;
    }
    
    int64_t i16_res_168558 = sext_i16_i64(block_sizze_85598);
    bool zzero_168559 = i16_res_168558 == (int64_t) 0;
    bool nonzzero_168560 = !zzero_168559;
    bool nonzzero_cert_168561;
    
    if (!nonzzero_168560) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168562 = sdiv64(n_85596, i16_res_168558);
    int64_t rest_168563 = smod64(n_85596, i16_res_168558);
    int64_t arg_168564 = mul64(i16_res_168558, n_blocks_168562);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 = add64(rest_168563, arg_168564);
    bool dim_match_168566 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565 == n_85596;
    bool empty_or_match_cert_168567;
    
    if (!dim_match_168566) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85596, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:164:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181054 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    int64_t bytes_181056 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool loop_nonempty_168571 = slt32(0, iters_168557);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 = add64((int64_t) 1, n_blocks_168562);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
    bool empty_slice_168574 = arg_168564 == (int64_t) 0;
    int64_t m_168575 = sub64(arg_168564, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168576 = sle64((int64_t) 0, m_168575);
    bool i_p_m_t_s_leq_w_168577 = slt64(m_168575, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168578 = sle64((int64_t) 0, arg_168564);
    bool y_168579 = zzero_leq_i_p_m_t_s_168576 && i_p_m_t_s_leq_w_168577;
    bool forwards_ok_168580 = i_lte_j_168578 && y_168579;
    bool ok_or_empty_168581 = empty_slice_168574 || forwards_ok_168580;
    bool loop_not_taken_168582 = !loop_nonempty_168571;
    bool protect_assert_disj_168583 = ok_or_empty_168581 || loop_not_taken_168582;
    bool index_certs_168584;
    
    if (!protect_assert_disj_168583) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168585 = rest_168563 == (int64_t) 0;
    int64_t m_168586 = sub64(rest_168563, (int64_t) 1);
    int64_t i_p_m_t_s_168587 = add64(arg_168564, m_168586);
    bool zzero_leq_i_p_m_t_s_168588 = sle64((int64_t) 0, i_p_m_t_s_168587);
    bool i_p_m_t_s_leq_w_168589 = slt64(i_p_m_t_s_168587, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool i_lte_j_168590 = sle64(arg_168564, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565);
    bool y_168591 = zzero_leq_i_p_m_t_s_168588 && i_p_m_t_s_leq_w_168589;
    bool forwards_ok_168592 = i_lte_j_168590 && y_168591;
    bool ok_or_empty_168593 = empty_slice_168585 || forwards_ok_168592;
    bool protect_assert_disj_168594 = loop_not_taken_168582 || ok_or_empty_168593;
    bool index_certs_168595;
    
    if (!protect_assert_disj_168594) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168564, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168596 = sle64((int64_t) 0, n_blocks_168562);
    bool binop_y_168597 = sle64((int64_t) 0, i16_res_168558);
    bool binop_y_168598 = binop_x_168596 && binop_y_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168582 || binop_y_168598;
    bool dim_ok_cert_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168564, "] to array of shape [", (long long) n_blocks_168562, "][", (long long) i16_res_168558, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:164:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168601 = sub64(i16_res_168558, (int64_t) 1);
    bool x_168602 = sle64((int64_t) 0, tmp_168601);
    bool y_168603 = slt64(tmp_168601, i16_res_168558);
    bool bounds_check_168604 = x_168602 && y_168603;
    bool protect_assert_disj_168605 = zzero_168559 || bounds_check_168604;
    bool protect_assert_disj_168606 = loop_not_taken_168582 || protect_assert_disj_168605;
    bool index_certs_168607;
    
    if (!protect_assert_disj_168606) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168601, "] out of bounds for array of shape [", (long long) i16_res_168558, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168609 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
    bool protect_assert_disj_168610 = loop_not_taken_168582 || y_168609;
    bool index_certs_168611;
    
    if (!protect_assert_disj_168610) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168613 = nonzzero_168560 || loop_not_taken_168582;
    bool nonzzero_cert_168614;
    
    if (!protect_assert_disj_168613) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168615 = sle64((int64_t) 0, m_168586);
    bool y_168616 = slt64(m_168586, rest_168563);
    bool bounds_check_168617 = x_168615 && y_168616;
    bool protect_assert_disj_168618 = empty_slice_168585 || bounds_check_168617;
    bool protect_assert_disj_168619 = loop_not_taken_168582 || protect_assert_disj_168618;
    bool index_certs_168620;
    
    if (!protect_assert_disj_168619) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168586, "] out of bounds for array of shape [", (long long) rest_168563, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181064 = (int64_t) 2 * rest_168563;
    int64_t bytes_181104 = (int64_t) 8 * rest_168563;
    int64_t binop_x_181129 = (int64_t) 2 * n_blocks_168562;
    int64_t bytes_181130 = i16_res_168558 * binop_x_181129;
    int64_t binop_x_181132 = (int64_t) 8 * n_blocks_168562;
    int64_t bytes_181133 = i16_res_168558 * binop_x_181132;
    int64_t bytes_181136 = (int64_t) 32 * n_blocks_168562;
    int64_t bytes_181157 = (int64_t) 2 * i16_res_168558;
    int64_t bytes_181238 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572;
    bool dim_match_168852 = n_85596 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565;
    bool empty_or_match_cert_168853;
    
    if (!dim_match_168852) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565, "] cannot match shape of type `[", (long long) n_85596, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:164:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181272 = (int64_t) 8 * n_85596;
    int64_t bytes_181274 = (int64_t) 2 * n_85596;
    
    if (futrts_indicesWithIncrement_9144(ctx, &ext_mem_181053, xs_mem_181052, n_85596, incr_85597) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181055_cached_sizze_183175 < bytes_181054) {
        err = lexical_realloc(ctx, &mem_181055, &mem_181055_cached_sizze_183175, bytes_181054);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181055, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_181052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565});
    if (mem_181057_cached_sizze_183176 < bytes_181056) {
        err = lexical_realloc(ctx, &mem_181057, &mem_181057_cached_sizze_183176, bytes_181056);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182468 = 0; i_182468 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; i_182468++) {
        int64_t x_182469 = (int64_t) 0 + i_182468 * (int64_t) 1;
        
        ((int64_t *) mem_181057)[i_182468] = x_182469;
    }
    if (mem_181065_cached_sizze_183177 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181065, &mem_181065_cached_sizze_183177, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181067_cached_sizze_183178 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181067, &mem_181067_cached_sizze_183178, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181069_cached_sizze_183179 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181069, &mem_181069_cached_sizze_183179, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181071_cached_sizze_183180 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181071, &mem_181071_cached_sizze_183180, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181073_cached_sizze_183181 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181073, &mem_181073_cached_sizze_183181, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181105_cached_sizze_183182 < bytes_181104) {
        err = lexical_realloc(ctx, &mem_181105, &mem_181105_cached_sizze_183182, bytes_181104);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181107_cached_sizze_183183 < bytes_181064) {
        err = lexical_realloc(ctx, &mem_181107, &mem_181107_cached_sizze_183183, bytes_181064);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183184 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183184, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181121_cached_sizze_183185 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181121, &mem_181121_cached_sizze_183185, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181128_cached_sizze_183186 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181128, &mem_181128_cached_sizze_183186, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181131_cached_sizze_183187 < bytes_181130) {
        err = lexical_realloc(ctx, &mem_181131, &mem_181131_cached_sizze_183187, bytes_181130);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181134_cached_sizze_183188 < bytes_181133) {
        err = lexical_realloc(ctx, &mem_181134, &mem_181134_cached_sizze_183188, bytes_181133);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181137_cached_sizze_183189 < bytes_181136) {
        err = lexical_realloc(ctx, &mem_181137, &mem_181137_cached_sizze_183189, bytes_181136);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181140_cached_sizze_183190 < binop_x_181132) {
        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_183190, binop_x_181132);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181162_cached_sizze_183191 < bytes_181157) {
        err = lexical_realloc(ctx, &mem_181162, &mem_181162_cached_sizze_183191, bytes_181157);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181164_cached_sizze_183192 < bytes_181157) {
        err = lexical_realloc(ctx, &mem_181164, &mem_181164_cached_sizze_183192, bytes_181157);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181166_cached_sizze_183193 < bytes_181157) {
        err = lexical_realloc(ctx, &mem_181166, &mem_181166_cached_sizze_183193, bytes_181157);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181168_cached_sizze_183194 < bytes_181157) {
        err = lexical_realloc(ctx, &mem_181168, &mem_181168_cached_sizze_183194, bytes_181157);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181170_cached_sizze_183195 < bytes_181157) {
        err = lexical_realloc(ctx, &mem_181170, &mem_181170_cached_sizze_183195, bytes_181157);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181213_cached_sizze_183196 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_183196, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181214_cached_sizze_183197 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183197, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181239_cached_sizze_183198 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_183198, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183199 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183199, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168623 = 0; i_168623 < iters_168557; i_168623++) {
        int32_t blocked_radix_sort_step_arg1_168626 = mul32(2, i_168623);
        int32_t get_bit_arg0_168631 = add32(1, blocked_radix_sort_step_arg1_168626);
        bool cond_168632 = get_bit_arg0_168631 == 15;
        bool cond_168633 = blocked_radix_sort_step_arg1_168626 == 15;
        int16_t discard_180732;
        int16_t discard_180733;
        int16_t discard_180734;
        int16_t discard_180735;
        int16_t scanacc_180717;
        int16_t scanacc_180718;
        int16_t scanacc_180719;
        int16_t scanacc_180720;
        
        scanacc_180717 = (int16_t) 0;
        scanacc_180718 = (int16_t) 0;
        scanacc_180719 = (int16_t) 0;
        scanacc_180720 = (int16_t) 0;
        for (int64_t i_180726 = 0; i_180726 < rest_168563; i_180726++) {
            int64_t slice_180939 = arg_168564 + i_180726;
            int16_t eta_p_178637 = ((int16_t *) mem_181055)[slice_180939];
            int32_t defunc_0_get_bit_res_178638;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178638, get_bit_arg0_168631, eta_p_178637) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178639;
            
            if (cond_168632) {
                int32_t defunc_0_get_bit_res_t_res_178751 = 1 ^ defunc_0_get_bit_res_178638;
                
                defunc_0_get_bit_res_178639 = defunc_0_get_bit_res_t_res_178751;
            } else {
                defunc_0_get_bit_res_178639 = defunc_0_get_bit_res_178638;
            }
            
            int32_t zp_lhs_178641 = mul32(2, defunc_0_get_bit_res_178639);
            int32_t defunc_0_get_bit_res_178642;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178642, blocked_radix_sort_step_arg1_168626, eta_p_178637) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178643;
            
            if (cond_168633) {
                int32_t defunc_0_get_bit_res_t_res_178752 = 1 ^ defunc_0_get_bit_res_178642;
                
                defunc_0_get_bit_res_178643 = defunc_0_get_bit_res_t_res_178752;
            } else {
                defunc_0_get_bit_res_178643 = defunc_0_get_bit_res_178642;
            }
            
            int32_t i32_arg0_178645 = add32(zp_lhs_178641, defunc_0_get_bit_res_178643);
            int16_t i32_res_178646 = sext_i32_i16(i32_arg0_178645);
            int16_t defunc_0_f_res_178648;
            int16_t defunc_0_f_res_178649;
            int16_t defunc_0_f_res_178650;
            int16_t defunc_0_f_res_178651;
            
            if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178648, &defunc_0_f_res_178649, &defunc_0_f_res_178650, &defunc_0_f_res_178651, i32_res_178646) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168670 = add16(defunc_0_f_res_178648, scanacc_180717);
            int16_t defunc_0_op_res_168671 = add16(defunc_0_f_res_178649, scanacc_180718);
            int16_t defunc_0_op_res_168672 = add16(defunc_0_f_res_178650, scanacc_180719);
            int16_t defunc_0_op_res_168673 = add16(defunc_0_f_res_178651, scanacc_180720);
            
            ((int16_t *) mem_181065)[i_180726] = defunc_0_op_res_168670;
            ((int16_t *) mem_181067)[i_180726] = defunc_0_op_res_168671;
            ((int16_t *) mem_181069)[i_180726] = defunc_0_op_res_168672;
            ((int16_t *) mem_181071)[i_180726] = defunc_0_op_res_168673;
            ((int16_t *) mem_181073)[i_180726] = i32_res_178646;
            
            int16_t scanacc_tmp_182472 = defunc_0_op_res_168670;
            int16_t scanacc_tmp_182473 = defunc_0_op_res_168671;
            int16_t scanacc_tmp_182474 = defunc_0_op_res_168672;
            int16_t scanacc_tmp_182475 = defunc_0_op_res_168673;
            
            scanacc_180717 = scanacc_tmp_182472;
            scanacc_180718 = scanacc_tmp_182473;
            scanacc_180719 = scanacc_tmp_182474;
            scanacc_180720 = scanacc_tmp_182475;
        }
        discard_180732 = scanacc_180717;
        discard_180733 = scanacc_180718;
        discard_180734 = scanacc_180719;
        discard_180735 = scanacc_180720;
        
        int16_t defunc_0_radix_sort_step_i16_res_168674;
        int16_t defunc_0_radix_sort_step_i16_res_168675;
        int16_t defunc_0_radix_sort_step_i16_res_168676;
        int16_t defunc_0_radix_sort_step_i16_res_168677;
        
        if (empty_slice_168585) {
            defunc_0_radix_sort_step_i16_res_168674 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168675 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168676 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168677 = (int16_t) 0;
        } else {
            int16_t last_res_168678 = ((int16_t *) mem_181065)[m_168586];
            int16_t last_res_168679 = ((int16_t *) mem_181067)[m_168586];
            int16_t last_res_168680 = ((int16_t *) mem_181069)[m_168586];
            int16_t last_res_168681 = ((int16_t *) mem_181071)[m_168586];
            
            defunc_0_radix_sort_step_i16_res_168674 = last_res_168678;
            defunc_0_radix_sort_step_i16_res_168675 = last_res_168679;
            defunc_0_radix_sort_step_i16_res_168676 = last_res_168680;
            defunc_0_radix_sort_step_i16_res_168677 = last_res_168681;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181105, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181107, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181055, (int64_t) 0 + (int64_t) 1 * arg_168564, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168563});
        for (int64_t write_iter_180736 = 0; write_iter_180736 < rest_168563; write_iter_180736++) {
            int16_t write_iv_180739 = ((int16_t *) mem_181073)[write_iter_180736];
            int16_t write_iv_180740 = ((int16_t *) mem_181065)[write_iter_180736];
            int16_t write_iv_180741 = ((int16_t *) mem_181067)[write_iter_180736];
            int16_t write_iv_180742 = ((int16_t *) mem_181069)[write_iter_180736];
            int16_t write_iv_180743 = ((int16_t *) mem_181071)[write_iter_180736];
            int64_t slice_180938 = arg_168564 + write_iter_180736;
            int16_t write_iv_180744 = ((int16_t *) mem_181055)[slice_180938];
            int64_t write_iv_180745 = ((int64_t *) mem_181057)[slice_180938];
            int64_t defunc_0_f_res_178621;
            
            if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178621, defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675, defunc_0_radix_sort_step_i16_res_168676, write_iv_180739, write_iv_180740, write_iv_180741, write_iv_180742, write_iv_180743) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178621) && slt64(defunc_0_f_res_178621, rest_168563)) {
                ((int16_t *) mem_181107)[defunc_0_f_res_178621] = write_iv_180744;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178621) && slt64(defunc_0_f_res_178621, rest_168563)) {
                ((int64_t *) mem_181105)[defunc_0_f_res_178621] = write_iv_180745;
            }
        }
        ((int16_t *) mem_181120)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181120)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168675;
        ((int16_t *) mem_181120)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168676;
        ((int16_t *) mem_181120)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168677;
        for (int64_t i_180750 = 0; i_180750 < (int64_t) 4; i_180750++) {
            int16_t eta_p_168698 = ((int16_t *) mem_181120)[i_180750];
            int64_t i16_res_168699 = sext_i16_i64(eta_p_168698);
            
            ((int64_t *) mem_181121)[i_180750] = i16_res_168699;
        }
        
        int16_t tmp_168700 = add16(defunc_0_radix_sort_step_i16_res_168674, defunc_0_radix_sort_step_i16_res_168675);
        int16_t tmp_168701 = add16(defunc_0_radix_sort_step_i16_res_168676, tmp_168700);
        
        ((int16_t *) mem_181128)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181128)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168674;
        ((int16_t *) mem_181128)[(int64_t) 2] = tmp_168700;
        ((int16_t *) mem_181128)[(int64_t) 3] = tmp_168701;
        for (int64_t i_180800 = 0; i_180800 < n_blocks_168562; i_180800++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181131, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181055, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181134, i_180800 * i16_res_168558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181057, (int64_t) 0 + i_180800 * ((int64_t) 1 * i16_res_168558), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168558});
            
            int64_t binop_x_180952 = i16_res_168558 * i_180800;
            int16_t discard_180772;
            int16_t discard_180773;
            int16_t discard_180774;
            int16_t discard_180775;
            int16_t scanacc_180757;
            int16_t scanacc_180758;
            int16_t scanacc_180759;
            int16_t scanacc_180760;
            
            scanacc_180757 = (int16_t) 0;
            scanacc_180758 = (int16_t) 0;
            scanacc_180759 = (int16_t) 0;
            scanacc_180760 = (int16_t) 0;
            for (int64_t i_180766 = 0; i_180766 < i16_res_168558; i_180766++) {
                int64_t new_index_180953 = i_180766 + binop_x_180952;
                int16_t eta_p_178682 = ((int16_t *) mem_181055)[new_index_180953];
                int32_t defunc_0_get_bit_res_178683;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178683, get_bit_arg0_168631, eta_p_178682) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178684;
                
                if (cond_168632) {
                    int32_t defunc_0_get_bit_res_t_res_178753 = 1 ^ defunc_0_get_bit_res_178683;
                    
                    defunc_0_get_bit_res_178684 = defunc_0_get_bit_res_t_res_178753;
                } else {
                    defunc_0_get_bit_res_178684 = defunc_0_get_bit_res_178683;
                }
                
                int32_t zp_lhs_178686 = mul32(2, defunc_0_get_bit_res_178684);
                int32_t defunc_0_get_bit_res_178687;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178687, blocked_radix_sort_step_arg1_168626, eta_p_178682) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178688;
                
                if (cond_168633) {
                    int32_t defunc_0_get_bit_res_t_res_178754 = 1 ^ defunc_0_get_bit_res_178687;
                    
                    defunc_0_get_bit_res_178688 = defunc_0_get_bit_res_t_res_178754;
                } else {
                    defunc_0_get_bit_res_178688 = defunc_0_get_bit_res_178687;
                }
                
                int32_t i32_arg0_178690 = add32(zp_lhs_178686, defunc_0_get_bit_res_178688);
                int16_t i32_res_178691 = sext_i32_i16(i32_arg0_178690);
                int16_t defunc_0_f_res_178693;
                int16_t defunc_0_f_res_178694;
                int16_t defunc_0_f_res_178695;
                int16_t defunc_0_f_res_178696;
                
                if (futrts_lifted_lambda_9105(ctx, &defunc_0_f_res_178693, &defunc_0_f_res_178694, &defunc_0_f_res_178695, &defunc_0_f_res_178696, i32_res_178691) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178693, scanacc_180757);
                int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178694, scanacc_180758);
                int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178695, scanacc_180759);
                int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178696, scanacc_180760);
                
                ((int16_t *) mem_181162)[i_180766] = defunc_0_op_res_168751;
                ((int16_t *) mem_181164)[i_180766] = defunc_0_op_res_168752;
                ((int16_t *) mem_181166)[i_180766] = defunc_0_op_res_168753;
                ((int16_t *) mem_181168)[i_180766] = defunc_0_op_res_168754;
                ((int16_t *) mem_181170)[i_180766] = i32_res_178691;
                
                int16_t scanacc_tmp_182488 = defunc_0_op_res_168751;
                int16_t scanacc_tmp_182489 = defunc_0_op_res_168752;
                int16_t scanacc_tmp_182490 = defunc_0_op_res_168753;
                int16_t scanacc_tmp_182491 = defunc_0_op_res_168754;
                
                scanacc_180757 = scanacc_tmp_182488;
                scanacc_180758 = scanacc_tmp_182489;
                scanacc_180759 = scanacc_tmp_182490;
                scanacc_180760 = scanacc_tmp_182491;
            }
            discard_180772 = scanacc_180757;
            discard_180773 = scanacc_180758;
            discard_180774 = scanacc_180759;
            discard_180775 = scanacc_180760;
            
            int16_t defunc_0_f_res_168755;
            int16_t defunc_0_f_res_168756;
            int16_t defunc_0_f_res_168757;
            int16_t defunc_0_f_res_168758;
            
            if (zzero_168559) {
                defunc_0_f_res_168755 = (int16_t) 0;
                defunc_0_f_res_168756 = (int16_t) 0;
                defunc_0_f_res_168757 = (int16_t) 0;
                defunc_0_f_res_168758 = (int16_t) 0;
            } else {
                int16_t last_res_168759 = ((int16_t *) mem_181162)[tmp_168601];
                int16_t last_res_168760 = ((int16_t *) mem_181164)[tmp_168601];
                int16_t last_res_168761 = ((int16_t *) mem_181166)[tmp_168601];
                int16_t last_res_168762 = ((int16_t *) mem_181168)[tmp_168601];
                
                defunc_0_f_res_168755 = last_res_168759;
                defunc_0_f_res_168756 = last_res_168760;
                defunc_0_f_res_168757 = last_res_168761;
                defunc_0_f_res_168758 = last_res_168762;
            }
            for (int64_t write_iter_180776 = 0; write_iter_180776 < i16_res_168558; write_iter_180776++) {
                int16_t write_iv_180779 = ((int16_t *) mem_181170)[write_iter_180776];
                int16_t write_iv_180780 = ((int16_t *) mem_181162)[write_iter_180776];
                int16_t write_iv_180781 = ((int16_t *) mem_181164)[write_iter_180776];
                int16_t write_iv_180782 = ((int16_t *) mem_181166)[write_iter_180776];
                int16_t write_iv_180783 = ((int16_t *) mem_181168)[write_iter_180776];
                int64_t new_index_180949 = write_iter_180776 + binop_x_180952;
                int16_t write_iv_180784 = ((int16_t *) mem_181055)[new_index_180949];
                int64_t write_iv_180785 = ((int64_t *) mem_181057)[new_index_180949];
                int64_t defunc_0_f_res_178666;
                
                if (futrts_lifted_f_9106(ctx, &defunc_0_f_res_178666, defunc_0_f_res_168755, defunc_0_f_res_168756, defunc_0_f_res_168757, write_iv_180779, write_iv_180780, write_iv_180781, write_iv_180782, write_iv_180783) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178666) && slt64(defunc_0_f_res_178666, i16_res_168558)) {
                    ((int16_t *) mem_181131)[i_180800 * i16_res_168558 + defunc_0_f_res_178666] = write_iv_180784;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178666) && slt64(defunc_0_f_res_178666, i16_res_168558)) {
                    ((int64_t *) mem_181134)[i_180800 * i16_res_168558 + defunc_0_f_res_178666] = write_iv_180785;
                }
            }
            ((int16_t *) mem_181213)[(int64_t) 0] = defunc_0_f_res_168755;
            ((int16_t *) mem_181213)[(int64_t) 1] = defunc_0_f_res_168756;
            ((int16_t *) mem_181213)[(int64_t) 2] = defunc_0_f_res_168757;
            ((int16_t *) mem_181213)[(int64_t) 3] = defunc_0_f_res_168758;
            for (int64_t i_180790 = 0; i_180790 < (int64_t) 4; i_180790++) {
                int16_t eta_p_168777 = ((int16_t *) mem_181213)[i_180790];
                int64_t i16_res_168778 = sext_i16_i64(eta_p_168777);
                
                ((int64_t *) mem_181214)[i_180790] = i16_res_168778;
            }
            
            int16_t tmp_168779 = add16(defunc_0_f_res_168755, defunc_0_f_res_168756);
            int16_t tmp_168780 = add16(defunc_0_f_res_168757, tmp_168779);
            
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168755;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 2] = tmp_168779;
            ((int16_t *) mem_181140)[i_180800 * (int64_t) 4 + (int64_t) 3] = tmp_168780;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137, i_180800 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180812;
        int64_t scanacc_180808 = (int64_t) 0;
        
        for (int64_t i_180810 = 0; i_180810 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180810++) {
            int64_t new_index_180927 = squot64(i_180810, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            int64_t binop_y_180929 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * new_index_180927;
            int64_t new_index_180930 = i_180810 - binop_y_180929;
            bool index_concat_cmp_180932 = sle64(n_blocks_168562, new_index_180930);
            int64_t index_concat_branch_180936;
            
            if (index_concat_cmp_180932) {
                int64_t index_concat_180934 = ((int64_t *) mem_181121)[new_index_180927];
                
                index_concat_branch_180936 = index_concat_180934;
            } else {
                int64_t index_concat_180935 = ((int64_t *) mem_181137)[new_index_180930 * (int64_t) 4 + new_index_180927];
                
                index_concat_branch_180936 = index_concat_180935;
            }
            
            int64_t defunc_0_op_res_168792 = add64(scanacc_180808, index_concat_branch_180936);
            
            ((int64_t *) mem_181239)[i_180810] = defunc_0_op_res_168792;
            
            int64_t scanacc_tmp_182500 = defunc_0_op_res_168792;
            
            scanacc_180808 = scanacc_tmp_182500;
        }
        discard_180812 = scanacc_180808;
        for (int64_t i_180815 = 0; i_180815 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573; i_180815++) {
            int64_t zv_lhs_168795 = add64((int64_t) -1, i_180815);
            int64_t tmp_168796 = smod64(zv_lhs_168795, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168573);
            int64_t lifted_lambda_res_168797 = ((int64_t *) mem_181239)[tmp_168796];
            
            ((int64_t *) mem_181247)[i_180815] = lifted_lambda_res_168797;
        }
        ((int64_t *) mem_181247)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180817 = 0; write_iter_180817 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565; write_iter_180817++) {
            bool index_concat_cmp_180918 = sle64(arg_168564, write_iter_180817);
            int16_t index_concat_branch_178573;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_178763 = sub64(write_iter_180817, arg_168564);
                int16_t index_concat_178764 = ((int16_t *) mem_181107)[index_concat_i_178763];
                
                index_concat_branch_178573 = index_concat_178764;
            } else {
                int64_t new_index_178576 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_178577 = i16_res_168558 * new_index_178576;
                int64_t new_index_178578 = write_iter_180817 - binop_y_178577;
                int16_t index_concat_178579 = ((int16_t *) mem_181131)[new_index_178576 * i16_res_168558 + new_index_178578];
                
                index_concat_branch_178573 = index_concat_178579;
            }
            
            int32_t zlzb_rhs_178580;
            int32_t acc_178582 = 0;
            
            for (int32_t i_178581 = 0; i_178581 < 2; i_178581++) {
                int32_t get_bit_arg0_178583 = add32(blocked_radix_sort_step_arg1_168626, i_178581);
                int32_t defunc_0_get_bit_res_178584;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178584, get_bit_arg0_178583, index_concat_branch_178573) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178585 = get_bit_arg0_178583 == 15;
                int32_t defunc_0_get_bit_res_178586;
                
                if (cond_178585) {
                    int32_t defunc_0_get_bit_res_t_res_178765 = 1 ^ defunc_0_get_bit_res_178584;
                    
                    defunc_0_get_bit_res_178586 = defunc_0_get_bit_res_t_res_178765;
                } else {
                    defunc_0_get_bit_res_178586 = defunc_0_get_bit_res_178584;
                }
                
                int32_t zp_rhs_178588 = shl32(defunc_0_get_bit_res_178586, i_178581);
                int32_t loopres_178589 = add32(acc_178582, zp_rhs_178588);
                int32_t acc_tmp_182505 = loopres_178589;
                
                acc_178582 = acc_tmp_182505;
            }
            zlzb_rhs_178580 = acc_178582;
            
            int64_t i32_res_178590 = sext_i32_i64(zlzb_rhs_178580);
            int64_t block_idx_178591 = sdiv64(write_iter_180817, i16_res_168558);
            bool x_178592 = sle64((int64_t) 0, block_idx_178591);
            bool y_178593 = slt64(block_idx_178591, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572);
            bool bounds_check_178594 = x_178592 && y_178593;
            bool index_certs_178595;
            
            if (!bounds_check_178594) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178591, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178596 = sle64((int64_t) 0, i32_res_178590);
            bool y_178597 = slt64(i32_res_178590, (int64_t) 4);
            bool bounds_check_178598 = x_178596 && y_178597;
            bool index_certs_178599;
            
            if (!bounds_check_178598) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178590, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:164:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_180922;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180919 = sub64(write_iter_180817, arg_168564);
                int16_t index_concat_180920 = ((int16_t *) mem_181107)[index_concat_i_180919];
                
                index_concat_branch_180922 = index_concat_180920;
            } else {
                int64_t new_index_180944 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180946 = i16_res_168558 * new_index_180944;
                int64_t new_index_180947 = write_iter_180817 - binop_y_180946;
                int16_t index_concat_180921 = ((int16_t *) mem_181131)[new_index_180944 * i16_res_168558 + new_index_180947];
                
                index_concat_branch_180922 = index_concat_180921;
            }
            
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180918) {
                int64_t index_concat_i_180913 = sub64(write_iter_180817, arg_168564);
                int64_t index_concat_180914 = ((int64_t *) mem_181105)[index_concat_i_180913];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t new_index_180940 = squot64(write_iter_180817, i16_res_168558);
                int64_t binop_y_180942 = i16_res_168558 * new_index_180940;
                int64_t new_index_180943 = write_iter_180817 - binop_y_180942;
                int64_t index_concat_180915 = ((int64_t *) mem_181134)[new_index_180940 * i16_res_168558 + new_index_180943];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t binop_x_178600 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168572 * i32_res_178590;
            int64_t new_index_178601 = block_idx_178591 + binop_x_178600;
            int64_t new_offset_178602 = ((int64_t *) mem_181247)[new_index_178601];
            bool index_concat_cmp_178603 = sle64(n_blocks_168562, block_idx_178591);
            int16_t index_concat_branch_178604;
            
            if (index_concat_cmp_178603) {
                int16_t index_concat_178766 = ((int16_t *) mem_181128)[i32_res_178590];
                
                index_concat_branch_178604 = index_concat_178766;
            } else {
                int16_t index_concat_178606 = ((int16_t *) mem_181140)[block_idx_178591 * (int64_t) 4 + i32_res_178590];
                
                index_concat_branch_178604 = index_concat_178606;
            }
            
            int64_t i16_res_178607 = sext_i16_i64(index_concat_branch_178604);
            int64_t zp_lhs_178608 = mul64(i16_res_168558, block_idx_178591);
            int64_t old_offset_178609 = add64(i16_res_178607, zp_lhs_178608);
            int64_t zp_lhs_178610 = sub64(write_iter_180817, old_offset_178609);
            int64_t idx_178611 = add64(new_offset_178602, zp_lhs_178610);
            
            if (sle64((int64_t) 0, idx_178611) && slt64(idx_178611, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int16_t *) mem_181055)[idx_178611] = index_concat_branch_180922;
            }
            if (sle64((int64_t) 0, idx_178611) && slt64(idx_178611, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168565)) {
                ((int64_t *) mem_181057)[idx_178611] = index_concat_branch_180916;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181273, bytes_181272, "mem_181273")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181275, bytes_181274, "mem_181275")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180829 = 0; i_180829 < n_85596; i_180829++) {
        int64_t eta_p_168857 = ((int64_t *) mem_181057)[i_180829];
        bool x_168858 = sle64((int64_t) 0, eta_p_168857);
        bool y_168859 = slt64(eta_p_168857, n_85596);
        bool bounds_check_168860 = x_168858 && y_168859;
        bool index_certs_168861;
        
        if (!bounds_check_168860) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168857, "] out of bounds for array of shape [", (long long) n_85596, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:164:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168862 = ((int64_t *) ext_mem_181053.mem)[eta_p_168857];
        int16_t lifted_lambda_res_168863 = ((int16_t *) xs_mem_181052.mem)[eta_p_168857];
        
        ((int64_t *) mem_181273.mem)[i_180829] = lifted_lambda_res_168862;
        ((int16_t *) mem_181275.mem)[i_180829] = lifted_lambda_res_168863;
    }
    if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182466, &mem_181273, "mem_181273") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182467, &mem_181275, "mem_181275") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183173, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183174, &mem_out_182467, "mem_out_182467") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181055);
        free(mem_181057);
        free(mem_181065);
        free(mem_181067);
        free(mem_181069);
        free(mem_181071);
        free(mem_181073);
        free(mem_181105);
        free(mem_181107);
        free(mem_181120);
        free(mem_181121);
        free(mem_181128);
        free(mem_181131);
        free(mem_181134);
        free(mem_181137);
        free(mem_181140);
        free(mem_181162);
        free(mem_181164);
        free(mem_181166);
        free(mem_181168);
        free(mem_181170);
        free(mem_181213);
        free(mem_181214);
        free(mem_181239);
        free(mem_181247);
        if (memblock_unref(ctx, &mem_181275, "mem_181275") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181273, "mem_181273") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181053, "ext_mem_181053") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182467, "mem_out_182467") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183200, int32_t bit_83444, int16_t x_83445)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182466;
    int16_t i32_res_163331 = sext_i32_i16(bit_83444);
    int16_t zgzg_res_163334 = ashr16(x_83445, i32_res_163331);
    int16_t za_res_163339 = (int16_t) 1 & zgzg_res_163334;
    int32_t to_i32_res_163341 = sext_i16_i32(za_res_163339);
    
    prim_out_182466 = to_i32_res_163341;
    *out_prim_out_183200 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183201, int32_t bit_88661, int64_t x_88662)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182466;
    int64_t i32_res_163331 = sext_i32_i64(bit_88661);
    int64_t zgzg_res_163334 = ashr64(x_88662, i32_res_163331);
    int64_t za_res_163339 = (int64_t) 1 & zgzg_res_163334;
    int32_t to_i32_res_163341 = sext_i64_i32(za_res_163339);
    
    prim_out_182466 = to_i32_res_163341;
    *out_prim_out_183201 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183202, int64_t upper_bound_96343, int64_t n_96344)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    bool upper_bound_96345 = sle64((int64_t) 1, upper_bound_96343);
    bool assert_c_96347;
    
    if (!upper_bound_96345) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_96356 = slt64(upper_bound_96343, n_96344);
    bool d_96365;
    int64_t d_96366;
    bool loop_while_96367;
    int64_t d_96368;
    
    loop_while_96367 = cond_96356;
    d_96368 = (int64_t) 1;
    while (loop_while_96367) {
        int64_t loopres_96369 = add64((int64_t) 1, d_96368);
        bool zzero_96371 = loopres_96369 == (int64_t) 0;
        bool nonzzero_96372 = !zzero_96371;
        bool nonzzero_cert_96373;
        
        if (!nonzzero_96372) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_96374 = sdiv64(n_96344, loopres_96369);
        bool cond_96376 = slt64(upper_bound_96343, zg_lhs_96374);
        bool loop_cond_96377;
        
        if (cond_96376) {
            loop_cond_96377 = 1;
        } else {
            int64_t znze_lhs_96381 = smod64(n_96344, loopres_96369);
            bool loop_cond_f_res_96383 = znze_lhs_96381 == (int64_t) 0;
            bool loop_cond_f_res_96384 = !loop_cond_f_res_96383;
            
            loop_cond_96377 = loop_cond_f_res_96384;
        }
        
        bool loop_while_tmp_182467 = loop_cond_96377;
        int64_t d_tmp_182468 = loopres_96369;
        
        loop_while_96367 = loop_while_tmp_182467;
        d_96368 = d_tmp_182468;
    }
    d_96365 = loop_while_96367;
    d_96366 = d_96368;
    
    bool zzero_96386 = d_96366 == (int64_t) 0;
    bool nonzzero_96387 = !zzero_96386;
    bool nonzzero_cert_96388;
    
    if (!nonzzero_96387) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_96389 = sdiv64(n_96344, d_96366);
    
    prim_out_182466 = greatest_divisor_leq_than_res_96389;
    *out_prim_out_183202 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9144(struct futhark_context *ctx, struct memblock *mem_out_p_183203, struct memblock xs_mem_181052, int64_t n_82741, int64_t incr_82742)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t rng_82747 = add64(n_82741, incr_82742);
    bool bounds_invalid_upwards_82751 = slt64(rng_82747, incr_82742);
    bool valid_82756 = !bounds_invalid_upwards_82751;
    bool range_valid_c_82757;
    
    if (!valid_82756) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82742, "..<", (long long) rng_82747, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181053 = (int64_t) 8 * n_82741;
    
    if (memblock_alloc(ctx, &mem_181054, bytes_181053, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182467 = 0; i_182467 < n_82741; i_182467++) {
        int64_t x_182468 = incr_82742 + i_182467 * (int64_t) 1;
        
        ((int64_t *) mem_181054.mem)[i_182467] = x_182468;
    }
    if (memblock_set(ctx, &mem_out_182466, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183203, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9299(struct futhark_context *ctx, struct memblock *mem_out_p_183204, struct memblock xs_mem_181052, int64_t n_85621, int64_t incr_85622)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t rng_85627 = add64(n_85621, incr_85622);
    bool bounds_invalid_upwards_85631 = slt64(rng_85627, incr_85622);
    bool valid_85636 = !bounds_invalid_upwards_85631;
    bool range_valid_c_85637;
    
    if (!valid_85636) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85622, "..<", (long long) rng_85627, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181053 = (int64_t) 8 * n_85621;
    
    if (memblock_alloc(ctx, &mem_181054, bytes_181053, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182467 = 0; i_182467 < n_85621; i_182467++) {
        int64_t x_182468 = incr_85622 + i_182467 * (int64_t) 1;
        
        ((int64_t *) mem_181054.mem)[i_182467] = x_182468;
    }
    if (memblock_set(ctx, &mem_out_182466, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183204, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9409(struct futhark_context *ctx, struct memblock *mem_out_p_183205, struct memblock xs_mem_181052, int64_t n_88238, int64_t incr_88239)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t rng_88244 = add64(n_88238, incr_88239);
    bool bounds_invalid_upwards_88248 = slt64(rng_88244, incr_88239);
    bool valid_88253 = !bounds_invalid_upwards_88248;
    bool range_valid_c_88254;
    
    if (!valid_88253) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_88239, "..<", (long long) rng_88244, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181053 = (int64_t) 8 * n_88238;
    
    if (memblock_alloc(ctx, &mem_181054, bytes_181053, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182467 = 0; i_182467 < n_88238; i_182467++) {
        int64_t x_182468 = incr_88239 + i_182467 * (int64_t) 1;
        
        ((int64_t *) mem_181054.mem)[i_182467] = x_182468;
    }
    if (memblock_set(ctx, &mem_out_182466, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183205, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9509(struct futhark_context *ctx, struct memblock *mem_out_p_183206, struct memblock xs_mem_181052, int64_t n_90838, int64_t incr_90839)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t rng_90844 = add64(n_90838, incr_90839);
    bool bounds_invalid_upwards_90848 = slt64(rng_90844, incr_90839);
    bool valid_90853 = !bounds_invalid_upwards_90848;
    bool range_valid_c_90854;
    
    if (!valid_90853) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90839, "..<", (long long) rng_90844, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181053 = (int64_t) 8 * n_90838;
    
    if (memblock_alloc(ctx, &mem_181054, bytes_181053, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182467 = 0; i_182467 < n_90838; i_182467++) {
        int64_t x_182468 = incr_90839 + i_182467 * (int64_t) 1;
        
        ((int64_t *) mem_181054.mem)[i_182467] = x_182468;
    }
    if (memblock_set(ctx, &mem_out_182466, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183206, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9618(struct futhark_context *ctx, struct memblock *mem_out_p_183207, struct memblock xs_mem_181052, int64_t n_93589, int64_t incr_93590)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181054;
    
    mem_181054.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    int64_t rng_93595 = add64(n_93589, incr_93590);
    bool bounds_invalid_upwards_93599 = slt64(rng_93595, incr_93590);
    bool valid_93604 = !bounds_invalid_upwards_93599;
    bool range_valid_c_93605;
    
    if (!valid_93604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93590, "..<", (long long) rng_93595, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181053 = (int64_t) 8 * n_93589;
    
    if (memblock_alloc(ctx, &mem_181054, bytes_181053, "mem_181054")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182467 = 0; i_182467 < n_93589; i_182467++) {
        int64_t x_182468 = incr_93590 + i_182467 * (int64_t) 1;
        
        ((int64_t *) mem_181054.mem)[i_182467] = x_182468;
    }
    if (memblock_set(ctx, &mem_out_182466, &mem_181054, "mem_181054") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183207, &mem_out_182466, "mem_out_182466") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181054, "mem_181054") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182466, "mem_out_182466") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9106(struct futhark_context *ctx, int64_t *out_prim_out_183208, int16_t na_82968, int16_t nb_82969, int16_t nc_82970, int16_t bin_82971, int16_t a_82972, int16_t b_82973, int16_t c_82974, int16_t d_82975)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    bool bool_arg0_82976 = bin_82971 == (int16_t) 0;
    int16_t bool_res_163331 = btoi_bool_i16(bool_arg0_82976);
    int16_t zp_rhs_82980 = mul16(a_82972, bool_res_163331);
    int16_t zp_lhs_82983 = add16((int16_t) -1, zp_rhs_82980);
    bool bool_arg0_82985 = slt16((int16_t) 0, bin_82971);
    int16_t bool_res_163333 = btoi_bool_i16(bool_arg0_82985);
    int16_t zp_rhs_82989 = mul16(na_82968, bool_res_163333);
    int16_t zp_lhs_82991 = add16(zp_lhs_82983, zp_rhs_82989);
    bool bool_arg0_82993 = bin_82971 == (int16_t) 1;
    int16_t bool_res_163335 = btoi_bool_i16(bool_arg0_82993);
    int16_t zp_rhs_82997 = mul16(b_82973, bool_res_163335);
    int16_t zp_lhs_82999 = add16(zp_lhs_82991, zp_rhs_82997);
    bool bool_arg0_83001 = slt16((int16_t) 1, bin_82971);
    int16_t bool_res_163337 = btoi_bool_i16(bool_arg0_83001);
    int16_t zp_rhs_83005 = mul16(nb_82969, bool_res_163337);
    int16_t zp_lhs_83007 = add16(zp_lhs_82999, zp_rhs_83005);
    bool bool_arg0_83009 = bin_82971 == (int16_t) 2;
    int16_t bool_res_163339 = btoi_bool_i16(bool_arg0_83009);
    int16_t zp_rhs_83013 = mul16(c_82974, bool_res_163339);
    int16_t zp_lhs_83015 = add16(zp_lhs_83007, zp_rhs_83013);
    bool bool_arg0_83017 = slt16((int16_t) 2, bin_82971);
    int16_t bool_res_163341 = btoi_bool_i16(bool_arg0_83017);
    int16_t zp_rhs_83021 = mul16(nc_82970, bool_res_163341);
    int16_t zp_lhs_83023 = add16(zp_lhs_83015, zp_rhs_83021);
    bool bool_arg0_83025 = bin_82971 == (int16_t) 3;
    int16_t bool_res_163343 = btoi_bool_i16(bool_arg0_83025);
    int16_t zp_rhs_83029 = mul16(d_82975, bool_res_163343);
    int16_t i16_arg0_83031 = add16(zp_lhs_83023, zp_rhs_83029);
    int64_t i16_res_163345 = sext_i16_i64(i16_arg0_83031);
    
    prim_out_182466 = i16_res_163345;
    *out_prim_out_183208 = prim_out_182466;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9105(struct futhark_context *ctx, int16_t *out_prim_out_183209, int16_t *out_prim_out_183210, int16_t *out_prim_out_183211, int16_t *out_prim_out_183212, int16_t x_82911)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_182466;
    int16_t prim_out_182467;
    int16_t prim_out_182468;
    int16_t prim_out_182469;
    bool bool_arg0_82912 = x_82911 == (int16_t) 0;
    int16_t bool_res_163331 = btoi_bool_i16(bool_arg0_82912);
    bool bool_arg0_82916 = x_82911 == (int16_t) 1;
    int16_t bool_res_163333 = btoi_bool_i16(bool_arg0_82916);
    bool bool_arg0_82920 = x_82911 == (int16_t) 2;
    int16_t bool_res_163335 = btoi_bool_i16(bool_arg0_82920);
    bool bool_arg0_82924 = x_82911 == (int16_t) 3;
    int16_t bool_res_163337 = btoi_bool_i16(bool_arg0_82924);
    
    prim_out_182466 = bool_res_163331;
    prim_out_182467 = bool_res_163333;
    prim_out_182468 = bool_res_163335;
    prim_out_182469 = bool_res_163337;
    *out_prim_out_183209 = prim_out_182466;
    *out_prim_out_183210 = prim_out_182467;
    *out_prim_out_183211 = prim_out_182468;
    *out_prim_out_183212 = prim_out_182469;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9082(struct futhark_context *ctx, int64_t *out_prim_out_183213, int64_t *out_prim_out_183214, int64_t *out_prim_out_183215, int64_t *out_prim_out_183216, int64_t *out_prim_out_183217, int64_t slo_96562, int64_t shi_96563, int64_t tlo_96564, int64_t thi_96565, int64_t count_96566)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182466;
    int64_t prim_out_182467;
    int64_t prim_out_182468;
    int64_t prim_out_182469;
    int64_t prim_out_182470;
    int64_t min_arg1_96569 = add64(slo_96562, count_96566);
    int64_t min_res_163332 = smin64(shi_96563, min_arg1_96569);
    int64_t min_arg1_96573 = add64(tlo_96564, count_96566);
    int64_t min_res_163335 = smin64(thi_96565, min_arg1_96573);
    int64_t zp_lhs_96577 = sub64(min_res_163332, slo_96562);
    int64_t zp_rhs_96579 = sub64(min_res_163335, tlo_96564);
    int64_t zm_lhs_96581 = add64(zp_lhs_96577, zp_rhs_96579);
    int64_t slack_96583 = sub64(zm_lhs_96581, count_96566);
    int64_t min_res_163338 = smin64(zp_lhs_96577, slack_96583);
    int64_t min_res_163341 = smin64(zp_rhs_96579, min_res_163338);
    int64_t max_arg1_96593 = sub64(min_res_163332, min_res_163341);
    int64_t max_res_163344 = smax64(slo_96562, max_arg1_96593);
    int64_t max_arg1_96597 = sub64(min_res_163335, min_res_163341);
    int64_t max_res_163347 = smax64(tlo_96564, max_arg1_96597);
    int64_t zm_rhs_96601 = sub64(max_res_163344, slo_96562);
    int64_t zm_lhs_96603 = sub64(count_96566, zm_rhs_96601);
    int64_t zm_rhs_96605 = sub64(max_res_163347, tlo_96564);
    int64_t count_96607 = sub64(zm_lhs_96603, zm_rhs_96605);
    
    prim_out_182466 = max_res_163344;
    prim_out_182467 = min_res_163332;
    prim_out_182468 = max_res_163347;
    prim_out_182469 = min_res_163335;
    prim_out_182470 = count_96607;
    *out_prim_out_183213 = prim_out_182466;
    *out_prim_out_183214 = prim_out_182467;
    *out_prim_out_183215 = prim_out_182468;
    *out_prim_out_183216 = prim_out_182469;
    *out_prim_out_183217 = prim_out_182470;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_110657 = (int64_t) 0;
    int64_t prim_out_182466 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181052;
    
    ks_mem_181052.references = NULL;
    ks_mem_181052 = in0->mem;
    n_110657 = in0->shape[0];
    if (!(n_110657 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_182466, ks_mem_181052, n_110657);
        if (ret == 0) {
            *out0 = prim_out_182466;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_110488 = (int64_t) 0;
    int64_t prim_out_182466 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181052;
    
    ks_mem_181052.references = NULL;
    ks_mem_181052 = in0->mem;
    n_110488 = in0->shape[0];
    if (!(n_110488 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_182466, ks_mem_181052, n_110488);
        if (ret == 0) {
            *out0 = prim_out_182466;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_110153 = (int64_t) 0;
    int64_t prim_out_182466 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181052;
    
    ks_mem_181052.references = NULL;
    ks_mem_181052 = in0->mem;
    n_110153 = in0->shape[0];
    if (!(n_110153 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_182466, ks_mem_181052, n_110153);
        if (ret == 0) {
            *out0 = prim_out_182466;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_110319 = (int64_t) 0;
    int64_t prim_out_182466 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181052;
    
    ks_mem_181052.references = NULL;
    ks_mem_181052 = in0->mem;
    n_110319 = in0->shape[0];
    if (!(n_110319 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_182466, ks_mem_181052, n_110319);
        if (ret == 0) {
            *out0 = prim_out_182466;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_109987 = (int64_t) 0;
    int64_t prim_out_182466 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181052;
    
    ks_mem_181052.references = NULL;
    ks_mem_181052 = in0->mem;
    n_109987 = in0->shape[0];
    if (!(n_109987 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_182466, ks_mem_181052, n_109987);
        if (ret == 0) {
            *out0 = prim_out_182466;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_108150 = (int64_t) 0;
    int64_t incr_108151 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_108151 = in0;
    xs_mem_181052 = in1->mem;
    n_108150 = in1->shape[0];
    if (!(n_108150 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_108150, incr_108151);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_108150;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_108150;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105806 = (int64_t) 0;
    int64_t incr_105807 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_105807 = in0;
    xs_mem_181052 = in1->mem;
    n_105806 = in1->shape[0];
    if (!(n_105806 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_105806, incr_105807);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_105806;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_105806;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_101119 = (int64_t) 0;
    int64_t incr_101120 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_101120 = in0;
    xs_mem_181052 = in1->mem;
    n_101119 = in1->shape[0];
    if (!(n_101119 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_101119, incr_101120);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_101119;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_101119;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_103462 = (int64_t) 0;
    int64_t incr_103463 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_103463 = in0;
    xs_mem_181052 = in1->mem;
    n_103462 = in1->shape[0];
    if (!(n_103462 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_103462, incr_103463);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_103462;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_103462;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98775 = (int64_t) 0;
    int64_t incr_98776 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_98776 = in0;
    xs_mem_181052 = in1->mem;
    n_98775 = in1->shape[0];
    if (!(n_98775 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_98775, incr_98776);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_98775;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_98775;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_163296 = (int64_t) 0;
    int64_t nb_163297 = (int64_t) 0;
    int64_t window_sizze_163298 = (int64_t) 0;
    int64_t threads_163299 = (int64_t) 0;
    bool inParallel_163302 = 0;
    int64_t prim_out_182469 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock b_list_mem_181053;
    
    b_list_mem_181053.references = NULL;
    
    struct memblock a_list_mem_181052;
    
    a_list_mem_181052.references = NULL;
    window_sizze_163298 = in0;
    threads_163299 = in1;
    a_list_mem_181052 = in2->mem;
    na_163296 = in2->shape[0];
    b_list_mem_181053 = in3->mem;
    nb_163297 = in3->shape[0];
    inParallel_163302 = in4;
    if (!(na_163296 == in2->shape[0] && nb_163297 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_182466, &mem_out_182467, &mem_out_182468, &prim_out_182469, a_list_mem_181052, b_list_mem_181053, na_163296, nb_163297, window_sizze_163298, threads_163299, inParallel_163302);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = prim_out_182469;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = prim_out_182469;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182468;
            (*out0)->v2->shape[0] = prim_out_182469;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_152773 = (int64_t) 0;
    int64_t nb_152774 = (int64_t) 0;
    int64_t window_sizze_152775 = (int64_t) 0;
    int64_t threads_152776 = (int64_t) 0;
    bool inParallel_152779 = 0;
    int64_t prim_out_182469 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock b_list_mem_181053;
    
    b_list_mem_181053.references = NULL;
    
    struct memblock a_list_mem_181052;
    
    a_list_mem_181052.references = NULL;
    window_sizze_152775 = in0;
    threads_152776 = in1;
    a_list_mem_181052 = in2->mem;
    na_152773 = in2->shape[0];
    b_list_mem_181053 = in3->mem;
    nb_152774 = in3->shape[0];
    inParallel_152779 = in4;
    if (!(na_152773 == in2->shape[0] && nb_152774 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_182466, &mem_out_182467, &mem_out_182468, &prim_out_182469, a_list_mem_181052, b_list_mem_181053, na_152773, nb_152774, window_sizze_152775, threads_152776, inParallel_152779);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = prim_out_182469;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = prim_out_182469;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182468;
            (*out0)->v2->shape[0] = prim_out_182469;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_131727 = (int64_t) 0;
    int64_t nb_131728 = (int64_t) 0;
    int64_t window_sizze_131729 = (int64_t) 0;
    int64_t threads_131730 = (int64_t) 0;
    bool inParallel_131733 = 0;
    int64_t prim_out_182469 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock b_list_mem_181053;
    
    b_list_mem_181053.references = NULL;
    
    struct memblock a_list_mem_181052;
    
    a_list_mem_181052.references = NULL;
    window_sizze_131729 = in0;
    threads_131730 = in1;
    a_list_mem_181052 = in2->mem;
    na_131727 = in2->shape[0];
    b_list_mem_181053 = in3->mem;
    nb_131728 = in3->shape[0];
    inParallel_131733 = in4;
    if (!(na_131727 == in2->shape[0] && nb_131728 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_182466, &mem_out_182467, &mem_out_182468, &prim_out_182469, a_list_mem_181052, b_list_mem_181053, na_131727, nb_131728, window_sizze_131729, threads_131730, inParallel_131733);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = prim_out_182469;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = prim_out_182469;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182468;
            (*out0)->v2->shape[0] = prim_out_182469;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_142250 = (int64_t) 0;
    int64_t nb_142251 = (int64_t) 0;
    int64_t window_sizze_142252 = (int64_t) 0;
    int64_t threads_142253 = (int64_t) 0;
    bool inParallel_142256 = 0;
    int64_t prim_out_182469 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock b_list_mem_181053;
    
    b_list_mem_181053.references = NULL;
    
    struct memblock a_list_mem_181052;
    
    a_list_mem_181052.references = NULL;
    window_sizze_142252 = in0;
    threads_142253 = in1;
    a_list_mem_181052 = in2->mem;
    na_142250 = in2->shape[0];
    b_list_mem_181053 = in3->mem;
    nb_142251 = in3->shape[0];
    inParallel_142256 = in4;
    if (!(na_142250 == in2->shape[0] && nb_142251 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_182466, &mem_out_182467, &mem_out_182468, &prim_out_182469, a_list_mem_181052, b_list_mem_181053, na_142250, nb_142251, window_sizze_142252, threads_142253, inParallel_142256);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = prim_out_182469;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = prim_out_182469;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182468;
            (*out0)->v2->shape[0] = prim_out_182469;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_121204 = (int64_t) 0;
    int64_t nb_121205 = (int64_t) 0;
    int64_t window_sizze_121206 = (int64_t) 0;
    int64_t threads_121207 = (int64_t) 0;
    bool inParallel_121210 = 0;
    int64_t prim_out_182469 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182468;
    
    mem_out_182468.references = NULL;
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock b_list_mem_181053;
    
    b_list_mem_181053.references = NULL;
    
    struct memblock a_list_mem_181052;
    
    a_list_mem_181052.references = NULL;
    window_sizze_121206 = in0;
    threads_121207 = in1;
    a_list_mem_181052 = in2->mem;
    na_121204 = in2->shape[0];
    b_list_mem_181053 = in3->mem;
    nb_121205 = in3->shape[0];
    inParallel_121210 = in4;
    if (!(na_121204 == in2->shape[0] && nb_121205 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_182466, &mem_out_182467, &mem_out_182468, &prim_out_182469, a_list_mem_181052, b_list_mem_181053, na_121204, nb_121205, window_sizze_121206, threads_121207, inParallel_121210);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = prim_out_182469;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = prim_out_182469;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182468;
            (*out0)->v2->shape[0] = prim_out_182469;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_109818 = (int64_t) 0;
    int64_t incr_109819 = (int64_t) 0;
    int64_t block_sizze_109820 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock ys_mem_181053;
    
    ys_mem_181053.references = NULL;
    
    struct memblock is_mem_181052;
    
    is_mem_181052.references = NULL;
    incr_109819 = in0;
    block_sizze_109820 = in1;
    is_mem_181052 = in2->mem;
    n_109818 = in2->shape[0];
    ys_mem_181053 = in3->mem;
    n_109818 = in3->shape[0];
    if (!(n_109818 == in2->shape[0] && n_109818 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_182466, is_mem_181052, ys_mem_181053, n_109818, incr_109819, block_sizze_109820);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_182466;
            (*out0)->shape[0] = n_109818;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_109484 = (int64_t) 0;
    int64_t incr_109485 = (int64_t) 0;
    int64_t block_sizze_109486 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock ys_mem_181053;
    
    ys_mem_181053.references = NULL;
    
    struct memblock is_mem_181052;
    
    is_mem_181052.references = NULL;
    incr_109485 = in0;
    block_sizze_109486 = in1;
    is_mem_181052 = in2->mem;
    n_109484 = in2->shape[0];
    ys_mem_181053 = in3->mem;
    n_109484 = in3->shape[0];
    if (!(n_109484 == in2->shape[0] && n_109484 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_182466, is_mem_181052, ys_mem_181053, n_109484, incr_109485, block_sizze_109486);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_182466;
            (*out0)->shape[0] = n_109484;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108820 = (int64_t) 0;
    int64_t incr_108821 = (int64_t) 0;
    int64_t block_sizze_108822 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock ys_mem_181053;
    
    ys_mem_181053.references = NULL;
    
    struct memblock is_mem_181052;
    
    is_mem_181052.references = NULL;
    incr_108821 = in0;
    block_sizze_108822 = in1;
    is_mem_181052 = in2->mem;
    n_108820 = in2->shape[0];
    ys_mem_181053 = in3->mem;
    n_108820 = in3->shape[0];
    if (!(n_108820 == in2->shape[0] && n_108820 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_182466, is_mem_181052, ys_mem_181053, n_108820, incr_108821, block_sizze_108822);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_182466;
            (*out0)->shape[0] = n_108820;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_109150 = (int64_t) 0;
    int64_t incr_109151 = (int64_t) 0;
    int64_t block_sizze_109152 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock ys_mem_181053;
    
    ys_mem_181053.references = NULL;
    
    struct memblock is_mem_181052;
    
    is_mem_181052.references = NULL;
    incr_109151 = in0;
    block_sizze_109152 = in1;
    is_mem_181052 = in2->mem;
    n_109150 = in2->shape[0];
    ys_mem_181053 = in3->mem;
    n_109150 = in3->shape[0];
    if (!(n_109150 == in2->shape[0] && n_109150 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_182466, is_mem_181052, ys_mem_181053, n_109150, incr_109151, block_sizze_109152);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_182466;
            (*out0)->shape[0] = n_109150;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_108486 = (int64_t) 0;
    int64_t incr_108487 = (int64_t) 0;
    int64_t block_sizze_108488 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock ys_mem_181053;
    
    ys_mem_181053.references = NULL;
    
    struct memblock is_mem_181052;
    
    is_mem_181052.references = NULL;
    incr_108487 = in0;
    block_sizze_108488 = in1;
    is_mem_181052 = in2->mem;
    n_108486 = in2->shape[0];
    ys_mem_181053 = in3->mem;
    n_108486 = in3->shape[0];
    if (!(n_108486 == in2->shape[0] && n_108486 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_182466, is_mem_181052, ys_mem_181053, n_108486, incr_108487, block_sizze_108488);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_182466;
            (*out0)->shape[0] = n_108486;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_96319 = (int64_t) 0;
    int64_t incr_96320 = (int64_t) 0;
    int16_t block_sizze_96321 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_96320 = in0;
    block_sizze_96321 = in1;
    xs_mem_181052 = in2->mem;
    n_96319 = in2->shape[0];
    if (!(n_96319 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_96319, incr_96320, block_sizze_96321);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_96319;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_96319;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_93564 = (int64_t) 0;
    int64_t incr_93565 = (int64_t) 0;
    int16_t block_sizze_93566 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_93565 = in0;
    block_sizze_93566 = in1;
    xs_mem_181052 = in2->mem;
    n_93564 = in2->shape[0];
    if (!(n_93564 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_93564, incr_93565, block_sizze_93566);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_93564;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_93564;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_88213 = (int64_t) 0;
    int64_t incr_88214 = (int64_t) 0;
    int16_t block_sizze_88215 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_88214 = in0;
    block_sizze_88215 = in1;
    xs_mem_181052 = in2->mem;
    n_88213 = in2->shape[0];
    if (!(n_88213 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_88213, incr_88214, block_sizze_88215);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_88213;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_88213;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90813 = (int64_t) 0;
    int64_t incr_90814 = (int64_t) 0;
    int16_t block_sizze_90815 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_90814 = in0;
    block_sizze_90815 = in1;
    xs_mem_181052 = in2->mem;
    n_90813 = in2->shape[0];
    if (!(n_90813 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_90813, incr_90814, block_sizze_90815);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_90813;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_90813;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85596 = (int64_t) 0;
    int64_t incr_85597 = (int64_t) 0;
    int16_t block_sizze_85598 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182467;
    
    mem_out_182467.references = NULL;
    
    struct memblock mem_out_182466;
    
    mem_out_182466.references = NULL;
    
    struct memblock xs_mem_181052;
    
    xs_mem_181052.references = NULL;
    incr_85597 = in0;
    block_sizze_85598 = in1;
    xs_mem_181052 = in2->mem;
    n_85596 = in2->shape[0];
    if (!(n_85596 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_182466, &mem_out_182467, xs_mem_181052, n_85596, incr_85597, block_sizze_85598);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182466;
            (*out0)->v0->shape[0] = n_85596;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182467;
            (*out0)->v1->shape[0] = n_85596;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
