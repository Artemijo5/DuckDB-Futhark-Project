// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182369, struct memblock ks_mem_180696, int64_t n_110301);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182370, struct memblock ks_mem_180696, int64_t n_110132);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182371, struct memblock ks_mem_180696, int64_t n_109797);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182372, struct memblock ks_mem_180696, int64_t n_109963);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182373, struct memblock ks_mem_180696, int64_t n_109631);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182374, struct memblock *mem_out_p_182375, struct memblock xs_mem_180696, int64_t n_107964, int64_t incr_107965);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182386, struct memblock *mem_out_p_182387, struct memblock xs_mem_180696, int64_t n_105620, int64_t incr_105621);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182398, struct memblock *mem_out_p_182399, struct memblock xs_mem_180696, int64_t n_100933, int64_t incr_100934);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182410, struct memblock *mem_out_p_182411, struct memblock xs_mem_180696, int64_t n_103276, int64_t incr_103277);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182422, struct memblock *mem_out_p_182423, struct memblock xs_mem_180696, int64_t n_98589, int64_t incr_98590);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182434, struct memblock *mem_out_p_182435, struct memblock *mem_out_p_182436, int64_t *out_prim_out_182437, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_162940, int64_t nb_162941, int64_t window_sizze_162942, int64_t threads_162943, bool inParallel_162946);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182488, struct memblock *mem_out_p_182489, struct memblock *mem_out_p_182490, int64_t *out_prim_out_182491, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_152417, int64_t nb_152418, int64_t window_sizze_152419, int64_t threads_152420, bool inParallel_152423);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182542, struct memblock *mem_out_p_182543, struct memblock *mem_out_p_182544, int64_t *out_prim_out_182545, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_131371, int64_t nb_131372, int64_t window_sizze_131373, int64_t threads_131374, bool inParallel_131377);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182596, struct memblock *mem_out_p_182597, struct memblock *mem_out_p_182598, int64_t *out_prim_out_182599, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_141894, int64_t nb_141895, int64_t window_sizze_141896, int64_t threads_141897, bool inParallel_141900);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182650, struct memblock *mem_out_p_182651, struct memblock *mem_out_p_182652, int64_t *out_prim_out_182653, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_120848, int64_t nb_120849, int64_t window_sizze_120850, int64_t threads_120851, bool inParallel_120854);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_182704, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_109462, int64_t incr_109463, int64_t block_sizze_109464);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_182705, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_109162, int64_t incr_109163, int64_t block_sizze_109164);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_182706, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108566, int64_t incr_108567, int64_t block_sizze_108568);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_182707, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108862, int64_t incr_108863, int64_t block_sizze_108864);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_182708, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108266, int64_t incr_108267, int64_t block_sizze_108268);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182709, struct memblock *mem_out_p_182710, struct memblock xs_mem_180696, int64_t n_96133, int64_t incr_96134, int16_t block_sizze_96135);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182736, struct memblock *mem_out_p_182737, struct memblock xs_mem_180696, int64_t n_93378, int64_t incr_93379, int16_t block_sizze_93380);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182763, struct memblock *mem_out_p_182764, struct memblock xs_mem_180696, int64_t n_88027, int64_t incr_88028, int16_t block_sizze_88029);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182790, struct memblock *mem_out_p_182791, struct memblock xs_mem_180696, int64_t n_90627, int64_t incr_90628, int16_t block_sizze_90629);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182817, struct memblock *mem_out_p_182818, struct memblock xs_mem_180696, int64_t n_85410, int64_t incr_85411, int16_t block_sizze_85412);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182844, int32_t bit_83258, int16_t x_83259);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182845, int32_t bit_88475, int64_t x_88476);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182846, int64_t upper_bound_96157, int64_t n_96158);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9128(struct futhark_context *ctx, struct memblock *mem_out_p_182847, struct memblock xs_mem_180696, int64_t n_82555, int64_t incr_82556);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9283(struct futhark_context *ctx, struct memblock *mem_out_p_182848, struct memblock xs_mem_180696, int64_t n_85435, int64_t incr_85436);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9393(struct futhark_context *ctx, struct memblock *mem_out_p_182849, struct memblock xs_mem_180696, int64_t n_88052, int64_t incr_88053);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9493(struct futhark_context *ctx, struct memblock *mem_out_p_182850, struct memblock xs_mem_180696, int64_t n_90652, int64_t incr_90653);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9602(struct futhark_context *ctx, struct memblock *mem_out_p_182851, struct memblock xs_mem_180696, int64_t n_93403, int64_t incr_93404);
FUTHARK_FUN_ATTR int futrts_lifted_f_9090(struct futhark_context *ctx, int64_t *out_prim_out_182852, int16_t na_82782, int16_t nb_82783, int16_t nc_82784, int16_t bin_82785, int16_t a_82786, int16_t b_82787, int16_t c_82788, int16_t d_82789);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9089(struct futhark_context *ctx, int16_t *out_prim_out_182853, int16_t *out_prim_out_182854, int16_t *out_prim_out_182855, int16_t *out_prim_out_182856, int16_t x_82725);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9066(struct futhark_context *ctx, int64_t *out_prim_out_182857, int64_t *out_prim_out_182858, int64_t *out_prim_out_182859, int64_t *out_prim_out_182860, int64_t *out_prim_out_182861, int64_t slo_96376, int64_t shi_96377, int64_t tlo_96378, int64_t thi_96379, int64_t count_96380);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182369, struct memblock ks_mem_180696, int64_t n_110301)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t defunc_0_reduce_comm_res_178208;
    double defunc_0_reduce_comm_res_178209;
    int64_t redout_180356;
    double redout_180357;
    
    redout_180356 = n_110301;
    redout_180357 = INFINITY;
    for (int64_t i_180358 = 0; i_180358 < n_110301; i_180358++) {
        double x_164203 = ((double *) ks_mem_180696.mem)[i_180358];
        bool defunc_0_lt_res_164208 = redout_180357 < x_164203;
        bool defunc_0_eq_res_164210 = redout_180357 == x_164203;
        bool cond_f_res_t_res_164211 = slt64(redout_180356, i_180358);
        bool x_164212 = defunc_0_eq_res_164210 && cond_f_res_t_res_164211;
        bool x_177941 = !defunc_0_lt_res_164208;
        bool y_177942 = x_164212 && x_177941;
        bool cond_164209 = defunc_0_lt_res_164208 || y_177942;
        int64_t defunc_0_op_res_164213;
        
        if (cond_164209) {
            defunc_0_op_res_164213 = redout_180356;
        } else {
            defunc_0_op_res_164213 = i_180358;
        }
        
        double defunc_0_op_res_164214;
        
        if (cond_164209) {
            defunc_0_op_res_164214 = redout_180357;
        } else {
            defunc_0_op_res_164214 = x_164203;
        }
        
        int64_t redout_tmp_182111 = defunc_0_op_res_164213;
        double redout_tmp_182112 = defunc_0_op_res_164214;
        
        redout_180356 = redout_tmp_182111;
        redout_180357 = redout_tmp_182112;
    }
    defunc_0_reduce_comm_res_178208 = redout_180356;
    defunc_0_reduce_comm_res_178209 = redout_180357;
    prim_out_182110 = defunc_0_reduce_comm_res_178208;
    *out_prim_out_182369 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182370, struct memblock ks_mem_180696, int64_t n_110132)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t defunc_0_reduce_comm_res_178208;
    float defunc_0_reduce_comm_res_178209;
    int64_t redout_180356;
    float redout_180357;
    
    redout_180356 = n_110132;
    redout_180357 = INFINITY;
    for (int64_t i_180358 = 0; i_180358 < n_110132; i_180358++) {
        float x_164203 = ((float *) ks_mem_180696.mem)[i_180358];
        bool defunc_0_lt_res_164208 = redout_180357 < x_164203;
        bool defunc_0_eq_res_164210 = redout_180357 == x_164203;
        bool cond_f_res_t_res_164211 = slt64(redout_180356, i_180358);
        bool x_164212 = defunc_0_eq_res_164210 && cond_f_res_t_res_164211;
        bool x_177941 = !defunc_0_lt_res_164208;
        bool y_177942 = x_164212 && x_177941;
        bool cond_164209 = defunc_0_lt_res_164208 || y_177942;
        int64_t defunc_0_op_res_164213;
        
        if (cond_164209) {
            defunc_0_op_res_164213 = redout_180356;
        } else {
            defunc_0_op_res_164213 = i_180358;
        }
        
        float defunc_0_op_res_164214;
        
        if (cond_164209) {
            defunc_0_op_res_164214 = redout_180357;
        } else {
            defunc_0_op_res_164214 = x_164203;
        }
        
        int64_t redout_tmp_182111 = defunc_0_op_res_164213;
        float redout_tmp_182112 = defunc_0_op_res_164214;
        
        redout_180356 = redout_tmp_182111;
        redout_180357 = redout_tmp_182112;
    }
    defunc_0_reduce_comm_res_178208 = redout_180356;
    defunc_0_reduce_comm_res_178209 = redout_180357;
    prim_out_182110 = defunc_0_reduce_comm_res_178208;
    *out_prim_out_182370 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182371, struct memblock ks_mem_180696, int64_t n_109797)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t defunc_0_reduce_comm_res_178208;
    int32_t defunc_0_reduce_comm_res_178209;
    int64_t redout_180356;
    int32_t redout_180357;
    
    redout_180356 = n_109797;
    redout_180357 = 2147483647;
    for (int64_t i_180358 = 0; i_180358 < n_109797; i_180358++) {
        int32_t x_164203 = ((int32_t *) ks_mem_180696.mem)[i_180358];
        bool defunc_0_lt_res_164208 = slt32(redout_180357, x_164203);
        bool defunc_0_eq_res_164210 = redout_180357 == x_164203;
        bool cond_f_res_t_res_164211 = slt64(redout_180356, i_180358);
        bool x_164212 = defunc_0_eq_res_164210 && cond_f_res_t_res_164211;
        bool x_177941 = !defunc_0_lt_res_164208;
        bool y_177942 = x_164212 && x_177941;
        bool cond_164209 = defunc_0_lt_res_164208 || y_177942;
        int64_t defunc_0_op_res_164213;
        
        if (cond_164209) {
            defunc_0_op_res_164213 = redout_180356;
        } else {
            defunc_0_op_res_164213 = i_180358;
        }
        
        int32_t defunc_0_op_res_164214;
        
        if (cond_164209) {
            defunc_0_op_res_164214 = redout_180357;
        } else {
            defunc_0_op_res_164214 = x_164203;
        }
        
        int64_t redout_tmp_182111 = defunc_0_op_res_164213;
        int32_t redout_tmp_182112 = defunc_0_op_res_164214;
        
        redout_180356 = redout_tmp_182111;
        redout_180357 = redout_tmp_182112;
    }
    defunc_0_reduce_comm_res_178208 = redout_180356;
    defunc_0_reduce_comm_res_178209 = redout_180357;
    prim_out_182110 = defunc_0_reduce_comm_res_178208;
    *out_prim_out_182371 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182372, struct memblock ks_mem_180696, int64_t n_109963)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t defunc_0_reduce_comm_res_178208;
    int64_t defunc_0_reduce_comm_res_178209;
    int64_t redout_180356;
    int64_t redout_180357;
    
    redout_180356 = n_109963;
    redout_180357 = (int64_t) 9223372036854775807;
    for (int64_t i_180358 = 0; i_180358 < n_109963; i_180358++) {
        int64_t x_164203 = ((int64_t *) ks_mem_180696.mem)[i_180358];
        bool defunc_0_lt_res_164208 = slt64(redout_180357, x_164203);
        bool defunc_0_eq_res_164210 = redout_180357 == x_164203;
        bool cond_f_res_t_res_164211 = slt64(redout_180356, i_180358);
        bool x_164212 = defunc_0_eq_res_164210 && cond_f_res_t_res_164211;
        bool x_177941 = !defunc_0_lt_res_164208;
        bool y_177942 = x_164212 && x_177941;
        bool cond_164209 = defunc_0_lt_res_164208 || y_177942;
        int64_t defunc_0_op_res_164213;
        
        if (cond_164209) {
            defunc_0_op_res_164213 = redout_180356;
        } else {
            defunc_0_op_res_164213 = i_180358;
        }
        
        int64_t defunc_0_op_res_164214;
        
        if (cond_164209) {
            defunc_0_op_res_164214 = redout_180357;
        } else {
            defunc_0_op_res_164214 = x_164203;
        }
        
        int64_t redout_tmp_182111 = defunc_0_op_res_164213;
        int64_t redout_tmp_182112 = defunc_0_op_res_164214;
        
        redout_180356 = redout_tmp_182111;
        redout_180357 = redout_tmp_182112;
    }
    defunc_0_reduce_comm_res_178208 = redout_180356;
    defunc_0_reduce_comm_res_178209 = redout_180357;
    prim_out_182110 = defunc_0_reduce_comm_res_178208;
    *out_prim_out_182372 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182373, struct memblock ks_mem_180696, int64_t n_109631)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t defunc_0_reduce_comm_res_178208;
    int16_t defunc_0_reduce_comm_res_178209;
    int64_t redout_180356;
    int16_t redout_180357;
    
    redout_180356 = n_109631;
    redout_180357 = (int16_t) 32767;
    for (int64_t i_180358 = 0; i_180358 < n_109631; i_180358++) {
        int16_t x_164203 = ((int16_t *) ks_mem_180696.mem)[i_180358];
        bool defunc_0_lt_res_164208 = slt16(redout_180357, x_164203);
        bool defunc_0_eq_res_164210 = redout_180357 == x_164203;
        bool cond_f_res_t_res_164211 = slt64(redout_180356, i_180358);
        bool x_164212 = defunc_0_eq_res_164210 && cond_f_res_t_res_164211;
        bool x_177941 = !defunc_0_lt_res_164208;
        bool y_177942 = x_164212 && x_177941;
        bool cond_164209 = defunc_0_lt_res_164208 || y_177942;
        int64_t defunc_0_op_res_164213;
        
        if (cond_164209) {
            defunc_0_op_res_164213 = redout_180356;
        } else {
            defunc_0_op_res_164213 = i_180358;
        }
        
        int16_t defunc_0_op_res_164214;
        
        if (cond_164209) {
            defunc_0_op_res_164214 = redout_180357;
        } else {
            defunc_0_op_res_164214 = x_164203;
        }
        
        int64_t redout_tmp_182111 = defunc_0_op_res_164213;
        int16_t redout_tmp_182112 = defunc_0_op_res_164214;
        
        redout_180356 = redout_tmp_182111;
        redout_180357 = redout_tmp_182112;
    }
    defunc_0_reduce_comm_res_178208 = redout_180356;
    defunc_0_reduce_comm_res_178209 = redout_180357;
    prim_out_182110 = defunc_0_reduce_comm_res_178208;
    *out_prim_out_182373 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182374, struct memblock *mem_out_p_182375, struct memblock xs_mem_180696, int64_t n_107964, int64_t incr_107965)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180702_cached_sizze_182376 = 0;
    unsigned char *mem_180702 = NULL;
    int64_t mem_180705_cached_sizze_182377 = 0;
    unsigned char *mem_180705 = NULL;
    int64_t mem_180715_cached_sizze_182378 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182379 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180784_cached_sizze_182380 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180787_cached_sizze_182381 = 0;
    unsigned char *mem_180787 = NULL;
    int64_t mem_180797_cached_sizze_182382 = 0;
    unsigned char *mem_180797 = NULL;
    int64_t mem_180799_cached_sizze_182383 = 0;
    unsigned char *mem_180799 = NULL;
    int64_t mem_180814_cached_sizze_182384 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180817_cached_sizze_182385 = 0;
    unsigned char *mem_180817 = NULL;
    struct memblock mem_180908;
    
    mem_180908.references = NULL;
    
    struct memblock mem_180906;
    
    mem_180906.references = NULL;
    
    struct memblock mem_param_tmp_182129;
    
    mem_param_tmp_182129.references = NULL;
    
    struct memblock mem_param_tmp_182128;
    
    mem_param_tmp_182128.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180856;
    
    mem_180856.references = NULL;
    
    struct memblock mem_180852;
    
    mem_180852.references = NULL;
    
    struct memblock mem_180861;
    
    mem_180861.references = NULL;
    
    struct memblock mem_180859;
    
    mem_180859.references = NULL;
    
    struct memblock ext_mem_180876;
    
    ext_mem_180876.references = NULL;
    
    struct memblock ext_mem_180879;
    
    ext_mem_180879.references = NULL;
    
    struct memblock mem_param_180781;
    
    mem_param_180781.references = NULL;
    
    struct memblock mem_param_180778;
    
    mem_param_180778.references = NULL;
    
    struct memblock ext_mem_180900;
    
    ext_mem_180900.references = NULL;
    
    struct memblock ext_mem_180901;
    
    ext_mem_180901.references = NULL;
    
    struct memblock mem_180774;
    
    mem_180774.references = NULL;
    
    struct memblock mem_180770;
    
    mem_180770.references = NULL;
    
    struct memblock ext_mem_180904;
    
    ext_mem_180904.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_107964;
    bool cond_171430 = sle64(n_107964, (int64_t) 1);
    int64_t zs_lhs_171431 = sub64(n_107964, (int64_t) 1);
    int64_t zp_rhs_171432 = sdiv_safe64(zs_lhs_171431, (int64_t) 20);
    int64_t min_num_blocks_171433 = add64((int64_t) 1, zp_rhs_171432);
    bool loop_cond_171434 = slt64((int64_t) 1, min_num_blocks_171433);
    bool smallest_pow_2_geq_than_res_171435;
    int64_t smallest_pow_2_geq_than_res_171436;
    bool loop_while_171437;
    int64_t x_171438;
    
    loop_while_171437 = loop_cond_171434;
    x_171438 = (int64_t) 1;
    while (loop_while_171437) {
        int64_t loopres_171439 = mul64((int64_t) 2, x_171438);
        bool loop_cond_171440 = slt64(loopres_171439, min_num_blocks_171433);
        bool loop_while_tmp_182112 = loop_cond_171440;
        int64_t x_tmp_182113 = loopres_171439;
        
        loop_while_171437 = loop_while_tmp_182112;
        x_171438 = x_tmp_182113;
    }
    smallest_pow_2_geq_than_res_171435 = loop_while_171437;
    smallest_pow_2_geq_than_res_171436 = x_171438;
    
    bool zzero_171441 = smallest_pow_2_geq_than_res_171436 == (int64_t) 0;
    bool nonzzero_171442 = !zzero_171441;
    bool protect_assert_disj_171443 = cond_171430 || nonzzero_171442;
    bool nonzzero_cert_171444;
    
    if (!protect_assert_disj_171443) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171445 = sdiv_safe64(zs_lhs_171431, smallest_pow_2_geq_than_res_171436);
    int64_t block_sizze_171446 = add64((int64_t) 1, zp_rhs_171445);
    bool y_171451 = slt64((int64_t) 0, n_107964);
    bool protect_assert_disj_181809 = cond_171430 || y_171451;
    bool index_certs_171452;
    
    if (!protect_assert_disj_181809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_107964, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171465 = slt64(smallest_pow_2_geq_than_res_171436, (int64_t) 0);
    bool valid_171466 = !bounds_invalid_upwards_171465;
    bool protect_assert_disj_181817 = cond_171430 || valid_171466;
    bool range_valid_c_171467;
    
    if (!protect_assert_disj_181817) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171436, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171469 = slt64(block_sizze_171446, (int64_t) 0);
    bool valid_171470 = !bounds_invalid_upwards_171469;
    bool protect_assert_disj_181819 = cond_171430 || valid_171470;
    bool range_valid_c_171471;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171446, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171473 = sle64(block_sizze_171446, (int64_t) 1);
    int64_t tmp_171474 = sub64(block_sizze_171446, (int64_t) 2);
    bool bounds_invalid_upwards_171475 = slt64(tmp_171474, (int64_t) 0);
    bool valid_171477 = !bounds_invalid_upwards_171475;
    bool protect_assert_disj_171478 = cond_171473 || valid_171477;
    bool protect_assert_disj_181821 = cond_171430 || protect_assert_disj_171478;
    bool range_valid_c_171479;
    
    if (!protect_assert_disj_181821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171474, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9602(ctx, &ext_mem_180697, xs_mem_180696, n_107964, incr_107965) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182114 = 0; i_182114 < n_107964; i_182114++) {
        int64_t x_182115 = (int64_t) 0 + i_182114 * (int64_t) 1;
        
        ((int64_t *) mem_180699.mem)[i_182114] = x_182115;
    }
    
    int64_t flat_dim_171447 = smallest_pow_2_geq_than_res_171436 * block_sizze_171446;
    bool x_181804 = !cond_171430;
    int64_t greatest_divisor_leq_than_arg1_171449 = mul64((int64_t) 2, block_sizze_171446);
    int64_t merge_block_sizze_171450;
    
    if (x_181804) {
        int64_t x_181806;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181806, (int64_t) 8, greatest_divisor_leq_than_arg1_171449) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171450 = x_181806;
    } else {
        merge_block_sizze_171450 = (int64_t) 0;
    }
    
    double reduce_arg1_171453;
    
    if (x_181804) {
        double x_181810 = ((double *) xs_mem_180696.mem)[(int64_t) 0];
        
        reduce_arg1_171453 = x_181810;
    } else {
        reduce_arg1_171453 = 0.0;
    }
    
    double defunc_0_reduce_res_178355;
    int64_t defunc_0_reduce_res_178356;
    
    if (x_181804) {
        double x_181812;
        int64_t x_181813;
        double redout_180356;
        int64_t redout_180357;
        
        redout_180356 = reduce_arg1_171453;
        redout_180357 = (int64_t) 0;
        for (int64_t i_180358 = 0; i_180358 < n_107964; i_180358++) {
            double x_171456 = ((double *) xs_mem_180696.mem)[i_180358];
            bool zlze_res_171462 = redout_180356 <= x_171456;
            double defunc_0_op_res_171463;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171463 = x_171456;
            } else {
                defunc_0_op_res_171463 = redout_180356;
            }
            
            int64_t defunc_0_op_res_171464;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171464 = i_180358;
            } else {
                defunc_0_op_res_171464 = redout_180357;
            }
            
            double redout_tmp_182116 = defunc_0_op_res_171463;
            int64_t redout_tmp_182117 = defunc_0_op_res_171464;
            
            redout_180356 = redout_tmp_182116;
            redout_180357 = redout_tmp_182117;
        }
        x_181812 = redout_180356;
        x_181813 = redout_180357;
        defunc_0_reduce_res_178355 = x_181812;
        defunc_0_reduce_res_178356 = x_181813;
    } else {
        defunc_0_reduce_res_178355 = 0.0;
        defunc_0_reduce_res_178356 = (int64_t) 0;
    }
    
    int64_t distance_171476 = add64((int64_t) 1, tmp_171474);
    int64_t binop_x_180700 = (int64_t) 8 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180701 = block_sizze_171446 * binop_x_180700;
    int64_t bytes_180714 = (int64_t) 8 * block_sizze_171446;
    bool loop_cond_171550 = slt64(block_sizze_171446, flat_dim_171447);
    bool zzero_171551 = merge_block_sizze_171450 == (int64_t) 0;
    bool nonzzero_171552 = !zzero_171551;
    
    if (cond_171430) {
        if (memblock_set(ctx, &ext_mem_180904, &mem_180699, "mem_180699") != 0)
            return 1;
    } else {
        if (mem_180702_cached_sizze_182376 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180702, &mem_180702_cached_sizze_182376, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180705_cached_sizze_182377 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180705, &mem_180705_cached_sizze_182377, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180715_cached_sizze_182378 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182378, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180717_cached_sizze_182379 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182379, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180370 = 0; i_180370 < smallest_pow_2_geq_than_res_171436; i_180370++) {
            int64_t zp_lhs_171483 = mul64(block_sizze_171446, i_180370);
            
            for (int64_t i_180363 = 0; i_180363 < block_sizze_171446; i_180363++) {
                int64_t k_171487 = add64(zp_lhs_171483, i_180363);
                bool cond_171488 = slt64(k_171487, n_107964);
                double lifted_lambda_res_171489;
                int64_t lifted_lambda_res_171490;
                
                if (cond_171488) {
                    bool x_178208 = sle64((int64_t) 0, k_171487);
                    bool bounds_check_178209 = cond_171488 && x_178208;
                    bool index_certs_178210;
                    
                    if (!bounds_check_178209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171487, "] out of bounds for array of shape [", (long long) n_107964, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_178211 = ((double *) xs_mem_180696.mem)[k_171487];
                    
                    lifted_lambda_res_171489 = lifted_lambda_res_t_res_178211;
                    lifted_lambda_res_171490 = k_171487;
                } else {
                    lifted_lambda_res_171489 = defunc_0_reduce_res_178355;
                    lifted_lambda_res_171490 = defunc_0_reduce_res_178356;
                }
                ((double *) mem_180715)[i_180363] = lifted_lambda_res_171489;
                ((int64_t *) mem_180717)[i_180363] = lifted_lambda_res_171490;
            }
            if (!cond_171473) {
                for (int64_t i_171499 = 0; i_171499 < distance_171476; i_171499++) {
                    int64_t gt_arg1_171502 = add64((int64_t) 1, i_171499);
                    bool x_171503 = sle64((int64_t) 0, gt_arg1_171502);
                    bool y_171504 = slt64(gt_arg1_171502, block_sizze_171446);
                    bool bounds_check_171505 = x_171503 && y_171504;
                    bool index_certs_171506;
                    
                    if (!bounds_check_171505) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171502, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171508 = slt64(i_171499, block_sizze_171446);
                    bool index_certs_171509;
                    
                    if (!y_171508) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171499, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_171507 = ((double *) mem_180715)[gt_arg1_171502];
                    double gt_arg0_171510 = ((double *) mem_180715)[i_171499];
                    bool zlze_res_171511 = gt_arg0_171510 <= gt_arg1_171507;
                    bool defunc_0_lifted_gt_res_171512 = !zlze_res_171511;
                    bool s_171513;
                    int64_t s_171516;
                    bool loop_while_171517;
                    int64_t j_171520;
                    
                    loop_while_171517 = defunc_0_lifted_gt_res_171512;
                    j_171520 = i_171499;
                    while (loop_while_171517) {
                        bool x_171521 = sle64((int64_t) 0, j_171520);
                        bool y_171522 = slt64(j_171520, block_sizze_171446);
                        bool bounds_check_171523 = x_171521 && y_171522;
                        bool index_certs_171524;
                        
                        if (!bounds_check_171523) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171520, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171527 = add64((int64_t) 1, j_171520);
                        bool x_171528 = sle64((int64_t) 0, copy_arg0_171527);
                        bool y_171529 = slt64(copy_arg0_171527, block_sizze_171446);
                        bool bounds_check_171530 = x_171528 && y_171529;
                        bool index_certs_171531;
                        
                        if (!bounds_check_171530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171527, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_171525 = ((double *) mem_180715)[j_171520];
                        int64_t copy_arg0_171526 = ((int64_t *) mem_180717)[j_171520];
                        double copy_arg0_171532 = ((double *) mem_180715)[copy_arg0_171527];
                        int64_t copy_arg0_171533 = ((int64_t *) mem_180717)[copy_arg0_171527];
                        
                        ((double *) mem_180715)[j_171520] = copy_arg0_171532;
                        ((int64_t *) mem_180717)[j_171520] = copy_arg0_171533;
                        ((double *) mem_180715)[copy_arg0_171527] = copy_arg0_171525;
                        ((int64_t *) mem_180717)[copy_arg0_171527] = copy_arg0_171526;
                        
                        int64_t tmp_171538 = sub64(j_171520, (int64_t) 1);
                        bool cond_171539 = sle64((int64_t) 0, tmp_171538);
                        bool loop_cond_171540;
                        
                        if (cond_171539) {
                            bool y_178213 = slt64(tmp_171538, block_sizze_171446);
                            bool bounds_check_178214 = cond_171539 && y_178213;
                            bool index_certs_178215;
                            
                            if (!bounds_check_178214) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171538, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_178212 = ((double *) mem_180715)[j_171520];
                            double gt_arg0_178216 = ((double *) mem_180715)[tmp_171538];
                            bool zlze_res_178217 = gt_arg0_178216 <= gt_arg1_178212;
                            bool defunc_0_lifted_gt_res_178218 = !zlze_res_178217;
                            
                            loop_cond_171540 = defunc_0_lifted_gt_res_178218;
                        } else {
                            loop_cond_171540 = 0;
                        }
                        
                        bool loop_while_tmp_182124 = loop_cond_171540;
                        int64_t j_tmp_182127 = tmp_171538;
                        
                        loop_while_171517 = loop_while_tmp_182124;
                        j_171520 = j_tmp_182127;
                    }
                    s_171513 = loop_while_171517;
                    s_171516 = j_171520;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180715, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180705, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180717, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
        }
        if (memblock_alloc(ctx, &mem_180770, bytes_180701, "mem_180770")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180770.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180702, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        if (memblock_alloc(ctx, &mem_180774, bytes_180701, "mem_180774")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180774.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180705, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        
        int64_t data_171553;
        bool data_171554;
        int64_t data_171557;
        int64_t loop_dz2084Uz2082U_171558;
        bool loop_while_171559;
        int64_t stride_171562;
        
        if (memblock_set(ctx, &mem_param_180778, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180781, &mem_180774, "mem_180774") != 0)
            return 1;
        loop_dz2084Uz2082U_171558 = flat_dim_171447;
        loop_while_171559 = loop_cond_171550;
        stride_171562 = block_sizze_171446;
        while (loop_while_171559) {
            int64_t next_stride_171563 = mul64((int64_t) 2, stride_171562);
            bool zzero_171564 = next_stride_171563 == (int64_t) 0;
            bool nonzzero_171565 = !zzero_171564;
            bool nonzzero_cert_171566;
            
            if (!nonzzero_171565) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171567 = sdiv64(flat_dim_171447, next_stride_171563);
            bool bounds_invalid_upwards_171568 = slt64(num_merges_171567, (int64_t) 0);
            bool valid_171569 = !bounds_invalid_upwards_171568;
            bool range_valid_c_171570;
            
            if (!valid_171569) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171572 = sub64(next_stride_171563, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171573 = sle64((int64_t) 0, m_171572);
            bool cond_171575 = slt64(next_stride_171563, (int64_t) 10);
            bool protect_assert_disj_171576 = nonzzero_171552 || cond_171575;
            bool nonzzero_cert_171577;
            
            if (!protect_assert_disj_171576) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171578 = smod_safe64(next_stride_171563, merge_block_sizze_171450);
            bool num_blocks_171579 = zeze_lhs_171578 == (int64_t) 0;
            bool protect_assert_disj_171580 = cond_171575 || num_blocks_171579;
            bool assert_c_171581;
            
            if (!protect_assert_disj_171580) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171583 = sdiv_safe64(next_stride_171563, merge_block_sizze_171450);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584 = add64((int64_t) 1, num_blocks_171583);
            int64_t j_m_i_171585 = sub64(next_stride_171563, stride_171562);
            int64_t flat_dim_171586 = merge_block_sizze_171450 * num_blocks_171583;
            bool bounds_invalid_upwards_171587 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, (int64_t) 0);
            bool zzero_lte_i_171588 = sle64((int64_t) 0, stride_171562);
            bool i_lte_j_171589 = sle64(stride_171562, next_stride_171563);
            bool empty_slice_171590 = stride_171562 == (int64_t) 0;
            int64_t m_171591 = sub64(stride_171562, (int64_t) 1);
            bool bounds_invalid_upwards_171592 = slt64(num_blocks_171583, (int64_t) 0);
            bool empty_slice_171593 = j_m_i_171585 == (int64_t) 0;
            int64_t m_171594 = sub64(j_m_i_171585, (int64_t) 1);
            bool cond_171595 = slt64((int64_t) 0, stride_171562);
            bool valid_171596 = !bounds_invalid_upwards_171587;
            bool zzero_leq_i_p_m_t_s_171597 = sle64((int64_t) 0, m_171591);
            bool i_p_m_t_s_leq_w_171598 = slt64(m_171591, next_stride_171563);
            bool valid_171599 = !bounds_invalid_upwards_171592;
            bool i_p_m_t_s_leq_w_171600 = slt64(m_171572, flat_dim_171586);
            int64_t i_p_m_t_s_171601 = add64(stride_171562, m_171594);
            bool y_171602 = slt64((int64_t) 0, j_m_i_171585);
            bool protect_assert_disj_171603 = cond_171575 || valid_171596;
            bool range_valid_c_171604;
            
            if (!protect_assert_disj_171603) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171605 = zzero_leq_i_p_m_t_s_171597 && i_p_m_t_s_leq_w_171598;
            bool protect_assert_disj_171606 = cond_171575 || valid_171599;
            bool range_valid_c_171607;
            
            if (!protect_assert_disj_171606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171583, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171608 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171600;
            bool zzero_leq_i_p_m_t_s_171609 = sle64((int64_t) 0, i_p_m_t_s_171601);
            bool i_p_m_t_s_leq_w_171610 = slt64(i_p_m_t_s_171601, next_stride_171563);
            bool forwards_ok_171611 = zzero_lte_i_171588 && y_171605;
            bool ok_or_empty_171612 = zzero_171564 || y_171608;
            bool y_171613 = zzero_lte_i_171588 && i_p_m_t_s_leq_w_171610;
            bool protect_assert_disj_171614 = cond_171595 || y_171602;
            bool ok_or_empty_171615 = empty_slice_171590 || forwards_ok_171611;
            bool protect_assert_disj_171616 = cond_171575 || ok_or_empty_171612;
            bool index_certs_171617;
            
            if (!protect_assert_disj_171616) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) flat_dim_171586, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171618 = zzero_leq_i_p_m_t_s_171609 && y_171613;
            bool loop_not_taken_171619 = !cond_171575;
            bool protect_assert_disj_171620 = protect_assert_disj_171614 || loop_not_taken_171619;
            bool index_certs_171621;
            
            if (!protect_assert_disj_171620) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171622 = cond_171575 || ok_or_empty_171615;
            bool index_certs_171623;
            
            if (!protect_assert_disj_171622) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171624 = i_lte_j_171589 && y_171618;
            bool protect_assert_disj_171625 = ok_or_empty_171615 || loop_not_taken_171619;
            bool index_certs_171626;
            
            if (!protect_assert_disj_171625) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171627 = empty_slice_171593 || forwards_ok_171624;
            bool protect_assert_disj_171628 = loop_not_taken_171619 || ok_or_empty_171627;
            bool index_certs_171629;
            
            if (!protect_assert_disj_171628) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171630 = cond_171575 || ok_or_empty_171627;
            bool index_certs_171631;
            
            if (!protect_assert_disj_171630) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180782 = (int64_t) 8 * num_merges_171567;
            int64_t bytes_180783 = next_stride_171563 * binop_x_180782;
            bool i_lte_j_171574 = sle64((int64_t) 0, next_stride_171563);
            
            if (mem_180784_cached_sizze_182380 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182380, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180787_cached_sizze_182381 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180787, &mem_180787_cached_sizze_182381, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180796 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584;
            int64_t binop_x_180812 = (int64_t) 8 * num_blocks_171583;
            int64_t bytes_180813 = merge_block_sizze_171450 * binop_x_180812;
            int64_t bytes_180858 = (int64_t) 16 * stride_171562;
            
            for (int64_t i_180391 = 0; i_180391 < num_merges_171567; i_180391++) {
                int64_t start_171635 = mul64(next_stride_171563, i_180391);
                int64_t j_m_i_171636 = sub64(loop_dz2084Uz2082U_171558, start_171635);
                bool empty_slice_171637 = j_m_i_171636 == (int64_t) 0;
                int64_t m_171638 = sub64(j_m_i_171636, (int64_t) 1);
                int64_t i_p_m_t_s_171639 = add64(start_171635, m_171638);
                bool zzero_leq_i_p_m_t_s_171640 = sle64((int64_t) 0, i_p_m_t_s_171639);
                bool i_p_m_t_s_leq_w_171641 = slt64(i_p_m_t_s_171639, loop_dz2084Uz2082U_171558);
                bool zzero_lte_i_171642 = sle64((int64_t) 0, start_171635);
                bool i_lte_j_171643 = sle64(start_171635, loop_dz2084Uz2082U_171558);
                bool y_171644 = i_p_m_t_s_leq_w_171641 && zzero_lte_i_171642;
                bool y_171645 = zzero_leq_i_p_m_t_s_171640 && y_171644;
                bool forwards_ok_171646 = i_lte_j_171643 && y_171645;
                bool ok_or_empty_171647 = empty_slice_171637 || forwards_ok_171646;
                bool index_certs_171648;
                
                if (!ok_or_empty_171647) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171635, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171558, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171649 = slt64(m_171572, j_m_i_171636);
                bool y_171650 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171649;
                bool forwards_ok_171651 = i_lte_j_171574 && y_171650;
                bool ok_or_empty_171652 = zzero_171564 || forwards_ok_171651;
                bool index_certs_171653;
                
                if (!ok_or_empty_171652) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) j_m_i_171636, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171575) {
                    double dummy_178244;
                    int64_t dummy_178245;
                    
                    if (cond_171595) {
                        double head_res_178246 = ((double *) mem_param_180778.mem)[start_171635];
                        int64_t head_res_178247 = ((int64_t *) mem_param_180781.mem)[start_171635];
                        
                        dummy_178244 = head_res_178246;
                        dummy_178245 = head_res_178247;
                    } else {
                        int64_t slice_178248 = stride_171562 + start_171635;
                        double head_res_178249 = ((double *) mem_param_180778.mem)[slice_178248];
                        int64_t head_res_178250 = ((int64_t *) mem_param_180781.mem)[slice_178248];
                        
                        dummy_178244 = head_res_178249;
                        dummy_178245 = head_res_178250;
                    }
                    if (memblock_alloc(ctx, &mem_180859, bytes_180858, "mem_180859")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182137 = 0; nest_i_182137 < next_stride_171563; nest_i_182137++) {
                        ((double *) mem_180859.mem)[nest_i_182137] = dummy_178244;
                    }
                    if (memblock_alloc(ctx, &mem_180861, bytes_180858, "mem_180861")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182138 = 0; nest_i_182138 < next_stride_171563; nest_i_182138++) {
                        ((int64_t *) mem_180861.mem)[nest_i_182138] = dummy_178245;
                    }
                    
                    int64_t data_178253;
                    int64_t i_178257 = (int64_t) 0;
                    
                    for (int64_t k_178256 = 0; k_178256 < next_stride_171563; k_178256++) {
                        int64_t j_178260 = sub64(k_178256, i_178257);
                        bool cond_178261 = j_178260 == j_m_i_171585;
                        bool cond_178262;
                        
                        if (cond_178261) {
                            cond_178262 = 1;
                        } else {
                            bool cond_178263 = slt64(i_178257, stride_171562);
                            bool cond_f_res_178264;
                            
                            if (cond_178263) {
                                bool x_178265 = sle64((int64_t) 0, j_178260);
                                bool y_178266 = slt64(j_178260, j_m_i_171585);
                                bool bounds_check_178267 = x_178265 && y_178266;
                                bool index_certs_178268;
                                
                                if (!bounds_check_178267) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178272 = sle64((int64_t) 0, i_178257);
                                bool bounds_check_178273 = cond_178263 && x_178272;
                                bool index_certs_178274;
                                
                                if (!bounds_check_178273) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178269 = stride_171562 + j_178260;
                                int64_t slice_178270 = start_171635 + slice_178269;
                                double leq_arg1_178271 = ((double *) mem_param_180778.mem)[slice_178270];
                                int64_t slice_178275 = start_171635 + i_178257;
                                double leq_arg0_178276 = ((double *) mem_param_180778.mem)[slice_178275];
                                bool zlze_res_178277 = leq_arg0_178276 <= leq_arg1_178271;
                                
                                cond_f_res_178264 = zlze_res_178277;
                            } else {
                                cond_f_res_178264 = 0;
                            }
                            cond_178262 = cond_f_res_178264;
                        }
                        
                        int64_t loopres_178278;
                        double loopres_178279;
                        int64_t loopres_178280;
                        
                        if (cond_178262) {
                            bool x_178282 = sle64((int64_t) 0, i_178257);
                            bool y_178283 = slt64(i_178257, stride_171562);
                            bool bounds_check_178284 = x_178282 && y_178283;
                            bool index_certs_178285;
                            
                            if (!bounds_check_178284) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178281 = add64((int64_t) 1, i_178257);
                            int64_t slice_178286 = start_171635 + i_178257;
                            double tmp_178287 = ((double *) mem_param_180778.mem)[slice_178286];
                            int64_t tmp_178288 = ((int64_t *) mem_param_180781.mem)[slice_178286];
                            
                            loopres_178278 = tmp_178281;
                            loopres_178279 = tmp_178287;
                            loopres_178280 = tmp_178288;
                        } else {
                            bool x_178289 = sle64((int64_t) 0, j_178260);
                            bool y_178290 = slt64(j_178260, j_m_i_171585);
                            bool bounds_check_178291 = x_178289 && y_178290;
                            bool index_certs_178292;
                            
                            if (!bounds_check_178291) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178293 = stride_171562 + j_178260;
                            int64_t slice_178294 = start_171635 + slice_178293;
                            double tmp_178295 = ((double *) mem_param_180778.mem)[slice_178294];
                            int64_t tmp_178296 = ((int64_t *) mem_param_180781.mem)[slice_178294];
                            
                            loopres_178278 = i_178257;
                            loopres_178279 = tmp_178295;
                            loopres_178280 = tmp_178296;
                        }
                        ((double *) mem_180859.mem)[k_178256] = loopres_178279;
                        ((int64_t *) mem_180861.mem)[k_178256] = loopres_178280;
                        
                        int64_t i_tmp_182139 = loopres_178278;
                        
                        i_178257 = i_tmp_182139;
                    }
                    data_178253 = i_178257;
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180859, "mem_180859") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180861, "mem_180861") != 0)
                        return 1;
                } else {
                    if (mem_180797_cached_sizze_182382 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180797, &mem_180797_cached_sizze_182382, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180799_cached_sizze_182383 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180799, &mem_180799_cached_sizze_182383, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180377 = 0; i_180377 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584; i_180377++) {
                        int64_t split_count_arg3_171715 = mul64(merge_block_sizze_171450, i_180377);
                        int64_t defunc_0_split_count_res_171716;
                        int64_t defunc_0_split_count_res_171717;
                        int64_t defunc_0_split_count_res_171718;
                        int64_t defunc_0_split_count_res_171719;
                        int64_t defunc_0_split_count_res_171720;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_171716, &defunc_0_split_count_res_171717, &defunc_0_split_count_res_171718, &defunc_0_split_count_res_171719, &defunc_0_split_count_res_171720, (int64_t) 0, stride_171562, (int64_t) 0, j_m_i_171585, split_count_arg3_171715) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171721 = slt64((int64_t) 0, defunc_0_split_count_res_171720);
                        bool defunc_0_split_count_res_171722;
                        int64_t defunc_0_split_count_res_171723;
                        int64_t defunc_0_split_count_res_171724;
                        int64_t defunc_0_split_count_res_171725;
                        int64_t defunc_0_split_count_res_171726;
                        int64_t defunc_0_split_count_res_171727;
                        bool loop_while_171728;
                        int64_t ss_171729;
                        int64_t ss_171730;
                        int64_t tt_171731;
                        int64_t tt_171732;
                        int64_t count_171733;
                        
                        loop_while_171728 = loop_cond_171721;
                        ss_171729 = defunc_0_split_count_res_171716;
                        ss_171730 = defunc_0_split_count_res_171717;
                        tt_171731 = defunc_0_split_count_res_171718;
                        tt_171732 = defunc_0_split_count_res_171719;
                        count_171733 = defunc_0_split_count_res_171720;
                        while (loop_while_171728) {
                            int64_t zlze_lhs_171734 = sub64(ss_171730, ss_171729);
                            bool cond_171735 = sle64(zlze_lhs_171734, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171736;
                            int64_t defunc_0_lifted_step_res_171737;
                            int64_t defunc_0_lifted_step_res_171738;
                            int64_t defunc_0_lifted_step_res_171739;
                            
                            if (cond_171735) {
                                int64_t tmp_178299 = add64(tt_171731, count_171733);
                                
                                defunc_0_lifted_step_res_171736 = ss_171729;
                                defunc_0_lifted_step_res_171737 = tmp_178299;
                                defunc_0_lifted_step_res_171738 = tt_171732;
                                defunc_0_lifted_step_res_171739 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171741 = sub64(tt_171732, tt_171731);
                                bool cond_171742 = sle64(zlze_lhs_171741, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171743;
                                int64_t defunc_0_lifted_step_res_f_res_171744;
                                int64_t defunc_0_lifted_step_res_f_res_171745;
                                int64_t defunc_0_lifted_step_res_f_res_171746;
                                
                                if (cond_171742) {
                                    int64_t tmp_178300 = add64(ss_171729, count_171733);
                                    
                                    defunc_0_lifted_step_res_f_res_171743 = tmp_178300;
                                    defunc_0_lifted_step_res_f_res_171744 = tt_171731;
                                    defunc_0_lifted_step_res_f_res_171745 = tt_171732;
                                    defunc_0_lifted_step_res_f_res_171746 = (int64_t) 0;
                                } else {
                                    bool cond_171748 = count_171733 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171749;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171750;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171751;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171752;
                                    
                                    if (cond_171748) {
                                        bool x_178302 = sle64((int64_t) 0, ss_171729);
                                        bool y_178303 = slt64(ss_171729, stride_171562);
                                        bool bounds_check_178304 = x_178302 && y_178303;
                                        bool index_certs_178305;
                                        
                                        if (!bounds_check_178304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171729, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178308 = sle64((int64_t) 0, tt_171731);
                                        bool y_178309 = slt64(tt_171731, j_m_i_171585);
                                        bool bounds_check_178310 = x_178308 && y_178309;
                                        bool index_certs_178311;
                                        
                                        if (!bounds_check_178310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171731, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178306 = start_171635 + ss_171729;
                                        double leq_arg1_178307 = ((double *) mem_param_180778.mem)[slice_178306];
                                        int64_t slice_178312 = stride_171562 + tt_171731;
                                        int64_t slice_178313 = start_171635 + slice_178312;
                                        double leq_arg0_178314 = ((double *) mem_param_180778.mem)[slice_178313];
                                        bool zlze_res_178315 = leq_arg0_178314 <= leq_arg1_178307;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        
                                        if (zlze_res_178315) {
                                            int64_t tmp_178318 = add64((int64_t) 1, tt_171731);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = ss_171729;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tmp_178318;
                                        } else {
                                            int64_t tmp_178319 = add64((int64_t) 1, ss_171729);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = tmp_178319;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tt_171731;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = tt_171732;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = (int64_t) 0;
                                    } else {
                                        int64_t m_171771 = sdiv64(count_171733, (int64_t) 2);
                                        int64_t n_171772 = sub64(count_171733, m_171771);
                                        bool cond_171773 = n_171772 == (int64_t) 0;
                                        int64_t zgze_lhs_171774 = add64(ss_171729, m_171771);
                                        bool cond_f_res_171775 = sle64(ss_171730, zgze_lhs_171774);
                                        bool x_171776 = !cond_171773;
                                        bool y_171777 = cond_f_res_171775 && x_171776;
                                        bool cond_171778 = cond_171773 || y_171777;
                                        bool leq_y_x_171779;
                                        
                                        if (cond_171778) {
                                            leq_y_x_171779 = 1;
                                        } else {
                                            bool x_171780 = sle64((int64_t) 0, zgze_lhs_171774);
                                            bool y_171781 = slt64(zgze_lhs_171774, stride_171562);
                                            bool bounds_check_171782 = x_171780 && y_171781;
                                            bool index_certs_171783;
                                            
                                            if (!bounds_check_171782) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171774, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171786 = add64(tt_171731, n_171772);
                                            int64_t leq_arg0_171787 = sub64(zm_lhs_171786, (int64_t) 1);
                                            bool x_171788 = sle64((int64_t) 0, leq_arg0_171787);
                                            bool y_171789 = slt64(leq_arg0_171787, j_m_i_171585);
                                            bool bounds_check_171790 = x_171788 && y_171789;
                                            bool index_certs_171791;
                                            
                                            if (!bounds_check_171790) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171787, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171784 = start_171635 + zgze_lhs_171774;
                                            double leq_arg1_171785 = ((double *) mem_param_180778.mem)[slice_171784];
                                            int64_t slice_171792 = stride_171562 + leq_arg0_171787;
                                            int64_t slice_171793 = start_171635 + slice_171792;
                                            double leq_arg0_171794 = ((double *) mem_param_180778.mem)[slice_171793];
                                            bool zlze_res_171795 = leq_arg0_171794 <= leq_arg1_171785;
                                            
                                            leq_y_x_171779 = zlze_res_171795;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                        
                                        if (leq_y_x_171779) {
                                            int64_t tmp_178320 = add64(tt_171731, n_171772);
                                            int64_t tmp_178321 = sub64(count_171733, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tmp_178320;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tt_171732;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = tmp_178321;
                                        } else {
                                            int64_t tmp_171801 = add64(tt_171731, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tt_171731;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tmp_171801;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = count_171733;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = ss_171729;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                    }
                                    defunc_0_lifted_step_res_f_res_171743 = defunc_0_lifted_step_res_f_res_f_res_171749;
                                    defunc_0_lifted_step_res_f_res_171744 = defunc_0_lifted_step_res_f_res_f_res_171750;
                                    defunc_0_lifted_step_res_f_res_171745 = defunc_0_lifted_step_res_f_res_f_res_171751;
                                    defunc_0_lifted_step_res_f_res_171746 = defunc_0_lifted_step_res_f_res_f_res_171752;
                                }
                                defunc_0_lifted_step_res_171736 = defunc_0_lifted_step_res_f_res_171743;
                                defunc_0_lifted_step_res_171737 = defunc_0_lifted_step_res_f_res_171744;
                                defunc_0_lifted_step_res_171738 = defunc_0_lifted_step_res_f_res_171745;
                                defunc_0_lifted_step_res_171739 = defunc_0_lifted_step_res_f_res_171746;
                            }
                            
                            int64_t loopres_171802;
                            int64_t loopres_171803;
                            int64_t loopres_171804;
                            int64_t loopres_171805;
                            int64_t loopres_171806;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_171802, &loopres_171803, &loopres_171804, &loopres_171805, &loopres_171806, defunc_0_lifted_step_res_171736, ss_171730, defunc_0_lifted_step_res_171737, defunc_0_lifted_step_res_171738, defunc_0_lifted_step_res_171739) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171807 = slt64((int64_t) 0, loopres_171806);
                            bool loop_while_tmp_182144 = loop_cond_171807;
                            int64_t ss_tmp_182145 = loopres_171802;
                            int64_t ss_tmp_182146 = loopres_171803;
                            int64_t tt_tmp_182147 = loopres_171804;
                            int64_t tt_tmp_182148 = loopres_171805;
                            int64_t count_tmp_182149 = loopres_171806;
                            
                            loop_while_171728 = loop_while_tmp_182144;
                            ss_171729 = ss_tmp_182145;
                            ss_171730 = ss_tmp_182146;
                            tt_171731 = tt_tmp_182147;
                            tt_171732 = tt_tmp_182148;
                            count_171733 = count_tmp_182149;
                        }
                        defunc_0_split_count_res_171722 = loop_while_171728;
                        defunc_0_split_count_res_171723 = ss_171729;
                        defunc_0_split_count_res_171724 = ss_171730;
                        defunc_0_split_count_res_171725 = tt_171731;
                        defunc_0_split_count_res_171726 = tt_171732;
                        defunc_0_split_count_res_171727 = count_171733;
                        ((int64_t *) mem_180797)[i_180377] = defunc_0_split_count_res_171723;
                        ((int64_t *) mem_180799)[i_180377] = defunc_0_split_count_res_171725;
                    }
                    if (mem_180814_cached_sizze_182384 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182384, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180817_cached_sizze_182385 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180817, &mem_180817_cached_sizze_182385, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180384 = 0; i_180384 < num_blocks_171583; i_180384++) {
                        bool y_171813 = slt64(i_180384, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool index_certs_171815;
                        
                        if (!y_171813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180384, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171816 = ((int64_t *) mem_180797)[i_180384];
                        int64_t defunc_0_f_res_171817 = ((int64_t *) mem_180799)[i_180384];
                        int64_t tmp_171818 = add64((int64_t) 1, i_180384);
                        bool x_171819 = sle64((int64_t) 0, tmp_171818);
                        bool y_171820 = slt64(tmp_171818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool bounds_check_171821 = x_171819 && y_171820;
                        bool index_certs_171822;
                        
                        if (!bounds_check_171821) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171818, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171823 = ((int64_t *) mem_180797)[tmp_171818];
                        int64_t defunc_0_f_res_171824 = ((int64_t *) mem_180799)[tmp_171818];
                        int64_t merge_sequential_arg2_171825 = add64(stride_171562, defunc_0_f_res_171817);
                        int64_t merge_sequential_arg2_171826 = add64(stride_171562, defunc_0_f_res_171824);
                        int64_t j_m_i_171827 = sub64(merge_sequential_arg2_171826, merge_sequential_arg2_171825);
                        bool empty_slice_171828 = j_m_i_171827 == (int64_t) 0;
                        int64_t m_171829 = sub64(j_m_i_171827, (int64_t) 1);
                        int64_t i_p_m_t_s_171830 = add64(merge_sequential_arg2_171825, m_171829);
                        bool zzero_leq_i_p_m_t_s_171831 = sle64((int64_t) 0, i_p_m_t_s_171830);
                        bool i_p_m_t_s_leq_w_171832 = slt64(i_p_m_t_s_171830, next_stride_171563);
                        bool zzero_lte_i_171833 = sle64((int64_t) 0, merge_sequential_arg2_171825);
                        bool i_lte_j_171834 = sle64(merge_sequential_arg2_171825, merge_sequential_arg2_171826);
                        bool y_171835 = i_p_m_t_s_leq_w_171832 && zzero_lte_i_171833;
                        bool y_171836 = zzero_leq_i_p_m_t_s_171831 && y_171835;
                        bool forwards_ok_171837 = i_lte_j_171834 && y_171836;
                        bool ok_or_empty_171838 = empty_slice_171828 || forwards_ok_171837;
                        bool index_certs_171839;
                        
                        if (!ok_or_empty_171838) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171825, ":", (long long) merge_sequential_arg2_171826, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171840 = sub64(defunc_0_f_res_171823, defunc_0_f_res_171816);
                        bool empty_slice_171841 = j_m_i_171840 == (int64_t) 0;
                        int64_t m_171842 = sub64(j_m_i_171840, (int64_t) 1);
                        int64_t i_p_m_t_s_171843 = add64(defunc_0_f_res_171816, m_171842);
                        bool zzero_leq_i_p_m_t_s_171844 = sle64((int64_t) 0, i_p_m_t_s_171843);
                        bool i_p_m_t_s_leq_w_171845 = slt64(i_p_m_t_s_171843, next_stride_171563);
                        bool zzero_lte_i_171846 = sle64((int64_t) 0, defunc_0_f_res_171816);
                        bool i_lte_j_171847 = sle64(defunc_0_f_res_171816, defunc_0_f_res_171823);
                        bool y_171848 = i_p_m_t_s_leq_w_171845 && zzero_lte_i_171846;
                        bool y_171849 = zzero_leq_i_p_m_t_s_171844 && y_171848;
                        bool forwards_ok_171850 = i_lte_j_171847 && y_171849;
                        bool ok_or_empty_171851 = empty_slice_171841 || forwards_ok_171850;
                        bool index_certs_171852;
                        
                        if (!ok_or_empty_171851) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171816, ":", (long long) defunc_0_f_res_171823, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171853 = slt64((int64_t) 0, j_m_i_171840);
                        double dummy_171854;
                        int64_t dummy_171855;
                        
                        if (cond_171853) {
                            bool index_certs_178322;
                            
                            if (!cond_171853) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178323 = start_171635 + defunc_0_f_res_171816;
                            double head_res_178324 = ((double *) mem_param_180778.mem)[slice_178323];
                            int64_t head_res_178325 = ((int64_t *) mem_param_180781.mem)[slice_178323];
                            
                            dummy_171854 = head_res_178324;
                            dummy_171855 = head_res_178325;
                        } else {
                            bool y_171860 = slt64((int64_t) 0, j_m_i_171827);
                            bool index_certs_171861;
                            
                            if (!y_171860) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171862 = start_171635 + merge_sequential_arg2_171825;
                            double head_res_171863 = ((double *) mem_param_180778.mem)[slice_171862];
                            int64_t head_res_171864 = ((int64_t *) mem_param_180781.mem)[slice_171862];
                            
                            dummy_171854 = head_res_171863;
                            dummy_171855 = head_res_171864;
                        }
                        for (int64_t nest_i_182152 = 0; nest_i_182152 < merge_block_sizze_171450; nest_i_182152++) {
                            ((double *) mem_180814)[i_180384 * merge_block_sizze_171450 + nest_i_182152] = dummy_171854;
                        }
                        for (int64_t nest_i_182153 = 0; nest_i_182153 < merge_block_sizze_171450; nest_i_182153++) {
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + nest_i_182153] = dummy_171855;
                        }
                        
                        int64_t data_171867;
                        int64_t i_171871 = (int64_t) 0;
                        
                        for (int64_t k_171870 = 0; k_171870 < merge_block_sizze_171450; k_171870++) {
                            int64_t j_171874 = sub64(k_171870, i_171871);
                            bool cond_171875 = j_171874 == j_m_i_171827;
                            bool cond_171876;
                            
                            if (cond_171875) {
                                cond_171876 = 1;
                            } else {
                                bool cond_171877 = slt64(i_171871, j_m_i_171840);
                                bool cond_f_res_171878;
                                
                                if (cond_171877) {
                                    bool x_178326 = sle64((int64_t) 0, j_171874);
                                    bool y_178327 = slt64(j_171874, j_m_i_171827);
                                    bool bounds_check_178328 = x_178326 && y_178327;
                                    bool index_certs_178329;
                                    
                                    if (!bounds_check_178328) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178333 = sle64((int64_t) 0, i_171871);
                                    bool bounds_check_178334 = cond_171877 && x_178333;
                                    bool index_certs_178335;
                                    
                                    if (!bounds_check_178334) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178330 = merge_sequential_arg2_171825 + j_171874;
                                    int64_t slice_178331 = start_171635 + slice_178330;
                                    double leq_arg1_178332 = ((double *) mem_param_180778.mem)[slice_178331];
                                    int64_t slice_178336 = defunc_0_f_res_171816 + i_171871;
                                    int64_t slice_178337 = start_171635 + slice_178336;
                                    double leq_arg0_178338 = ((double *) mem_param_180778.mem)[slice_178337];
                                    bool zlze_res_178339 = leq_arg0_178338 <= leq_arg1_178332;
                                    
                                    cond_f_res_171878 = zlze_res_178339;
                                } else {
                                    cond_f_res_171878 = 0;
                                }
                                cond_171876 = cond_f_res_171878;
                            }
                            
                            int64_t loopres_171893;
                            double loopres_171894;
                            int64_t loopres_171895;
                            
                            if (cond_171876) {
                                bool x_178341 = sle64((int64_t) 0, i_171871);
                                bool y_178342 = slt64(i_171871, j_m_i_171840);
                                bool bounds_check_178343 = x_178341 && y_178342;
                                bool index_certs_178344;
                                
                                if (!bounds_check_178343) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178340 = add64((int64_t) 1, i_171871);
                                int64_t slice_178345 = defunc_0_f_res_171816 + i_171871;
                                int64_t slice_178346 = start_171635 + slice_178345;
                                double tmp_178347 = ((double *) mem_param_180778.mem)[slice_178346];
                                int64_t tmp_178348 = ((int64_t *) mem_param_180781.mem)[slice_178346];
                                
                                loopres_171893 = tmp_178340;
                                loopres_171894 = tmp_178347;
                                loopres_171895 = tmp_178348;
                            } else {
                                bool x_171905 = sle64((int64_t) 0, j_171874);
                                bool y_171906 = slt64(j_171874, j_m_i_171827);
                                bool bounds_check_171907 = x_171905 && y_171906;
                                bool index_certs_171908;
                                
                                if (!bounds_check_171907) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171909 = merge_sequential_arg2_171825 + j_171874;
                                int64_t slice_171910 = start_171635 + slice_171909;
                                double tmp_171911 = ((double *) mem_param_180778.mem)[slice_171910];
                                int64_t tmp_171912 = ((int64_t *) mem_param_180781.mem)[slice_171910];
                                
                                loopres_171893 = i_171871;
                                loopres_171894 = tmp_171911;
                                loopres_171895 = tmp_171912;
                            }
                            ((double *) mem_180814)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171894;
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171895;
                            
                            int64_t i_tmp_182154 = loopres_171893;
                            
                            i_171871 = i_tmp_182154;
                        }
                        data_171867 = i_171871;
                    }
                    if (memblock_alloc(ctx, &mem_180852, bytes_180813, "mem_180852")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180852.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180814, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_alloc(ctx, &mem_180856, bytes_180813, "mem_180856")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180856.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180817, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180852, "mem_180852") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180856, "mem_180856") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180879.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180787, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171919 = next_stride_171563 * num_merges_171567;
            
            if (memblock_alloc(ctx, &mem_180890, bytes_180783, "mem_180890")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180784, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            if (memblock_alloc(ctx, &mem_180894, bytes_180783, "mem_180894")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180787, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            
            bool loop_cond_171922 = slt64(next_stride_171563, flat_dim_171447);
            
            if (memblock_set(ctx, &mem_param_tmp_182128, &mem_180890, "mem_180890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182129, &mem_180894, "mem_180894") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182130 = flat_dim_171919;
            bool loop_while_tmp_182131 = loop_cond_171922;
            int64_t stride_tmp_182134 = next_stride_171563;
            
            if (memblock_set(ctx, &mem_param_180778, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180781, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
                return 1;
            loop_dz2084Uz2082U_171558 = loop_dz2084Uz2082U_tmp_182130;
            loop_while_171559 = loop_while_tmp_182131;
            stride_171562 = stride_tmp_182134;
        }
        if (memblock_set(ctx, &ext_mem_180901, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180900, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        data_171553 = loop_dz2084Uz2082U_171558;
        data_171554 = loop_while_171559;
        data_171557 = stride_171562;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        
        bool empty_slice_171923 = n_107964 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171924 = sle64((int64_t) 0, zs_lhs_171431);
        bool i_p_m_t_s_leq_w_171925 = slt64(zs_lhs_171431, data_171553);
        bool y_171926 = zzero_leq_i_p_m_t_s_171924 && i_p_m_t_s_leq_w_171925;
        bool ok_or_empty_171927 = empty_slice_171923 || y_171926;
        bool index_certs_171928;
        
        if (!ok_or_empty_171927) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_107964, "] out of bounds for array of shape [", (long long) data_171553, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:209:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180904, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180906, bytes_180698, "mem_180906")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180908, bytes_180698, "mem_180908")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180398 = 0; i_180398 < n_107964; i_180398++) {
        int64_t eta_p_171932 = ((int64_t *) ext_mem_180904.mem)[i_180398];
        bool x_171933 = sle64((int64_t) 0, eta_p_171932);
        bool y_171934 = slt64(eta_p_171932, n_107964);
        bool bounds_check_171935 = x_171933 && y_171934;
        bool index_certs_171936;
        
        if (!bounds_check_171935) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171932, "] out of bounds for array of shape [", (long long) n_107964, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171937 = ((int64_t *) ext_mem_180697.mem)[eta_p_171932];
        double lifted_lambda_res_171938 = ((double *) xs_mem_180696.mem)[eta_p_171932];
        
        ((int64_t *) mem_180906.mem)[i_180398] = lifted_lambda_res_171937;
        ((double *) mem_180908.mem)[i_180398] = lifted_lambda_res_171938;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180906, "mem_180906") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180908, "mem_180908") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182374, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182375, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180702);
        free(mem_180705);
        free(mem_180715);
        free(mem_180717);
        free(mem_180784);
        free(mem_180787);
        free(mem_180797);
        free(mem_180799);
        free(mem_180814);
        free(mem_180817);
        if (memblock_unref(ctx, &mem_180908, "mem_180908") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180906, "mem_180906") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180856, "mem_180856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180852, "mem_180852") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180861, "mem_180861") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180859, "mem_180859") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180901, "ext_mem_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182386, struct memblock *mem_out_p_182387, struct memblock xs_mem_180696, int64_t n_105620, int64_t incr_105621)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180702_cached_sizze_182388 = 0;
    unsigned char *mem_180702 = NULL;
    int64_t mem_180705_cached_sizze_182389 = 0;
    unsigned char *mem_180705 = NULL;
    int64_t mem_180715_cached_sizze_182390 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182391 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180784_cached_sizze_182392 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180787_cached_sizze_182393 = 0;
    unsigned char *mem_180787 = NULL;
    int64_t mem_180797_cached_sizze_182394 = 0;
    unsigned char *mem_180797 = NULL;
    int64_t mem_180799_cached_sizze_182395 = 0;
    unsigned char *mem_180799 = NULL;
    int64_t mem_180814_cached_sizze_182396 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180817_cached_sizze_182397 = 0;
    unsigned char *mem_180817 = NULL;
    struct memblock mem_180908;
    
    mem_180908.references = NULL;
    
    struct memblock mem_180906;
    
    mem_180906.references = NULL;
    
    struct memblock mem_param_tmp_182129;
    
    mem_param_tmp_182129.references = NULL;
    
    struct memblock mem_param_tmp_182128;
    
    mem_param_tmp_182128.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180856;
    
    mem_180856.references = NULL;
    
    struct memblock mem_180852;
    
    mem_180852.references = NULL;
    
    struct memblock mem_180861;
    
    mem_180861.references = NULL;
    
    struct memblock mem_180859;
    
    mem_180859.references = NULL;
    
    struct memblock ext_mem_180876;
    
    ext_mem_180876.references = NULL;
    
    struct memblock ext_mem_180879;
    
    ext_mem_180879.references = NULL;
    
    struct memblock mem_param_180781;
    
    mem_param_180781.references = NULL;
    
    struct memblock mem_param_180778;
    
    mem_param_180778.references = NULL;
    
    struct memblock ext_mem_180900;
    
    ext_mem_180900.references = NULL;
    
    struct memblock ext_mem_180901;
    
    ext_mem_180901.references = NULL;
    
    struct memblock mem_180774;
    
    mem_180774.references = NULL;
    
    struct memblock mem_180770;
    
    mem_180770.references = NULL;
    
    struct memblock ext_mem_180904;
    
    ext_mem_180904.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_105620;
    bool cond_171430 = sle64(n_105620, (int64_t) 1);
    int64_t zs_lhs_171431 = sub64(n_105620, (int64_t) 1);
    int64_t zp_rhs_171432 = sdiv_safe64(zs_lhs_171431, (int64_t) 20);
    int64_t min_num_blocks_171433 = add64((int64_t) 1, zp_rhs_171432);
    bool loop_cond_171434 = slt64((int64_t) 1, min_num_blocks_171433);
    bool smallest_pow_2_geq_than_res_171435;
    int64_t smallest_pow_2_geq_than_res_171436;
    bool loop_while_171437;
    int64_t x_171438;
    
    loop_while_171437 = loop_cond_171434;
    x_171438 = (int64_t) 1;
    while (loop_while_171437) {
        int64_t loopres_171439 = mul64((int64_t) 2, x_171438);
        bool loop_cond_171440 = slt64(loopres_171439, min_num_blocks_171433);
        bool loop_while_tmp_182112 = loop_cond_171440;
        int64_t x_tmp_182113 = loopres_171439;
        
        loop_while_171437 = loop_while_tmp_182112;
        x_171438 = x_tmp_182113;
    }
    smallest_pow_2_geq_than_res_171435 = loop_while_171437;
    smallest_pow_2_geq_than_res_171436 = x_171438;
    
    bool zzero_171441 = smallest_pow_2_geq_than_res_171436 == (int64_t) 0;
    bool nonzzero_171442 = !zzero_171441;
    bool protect_assert_disj_171443 = cond_171430 || nonzzero_171442;
    bool nonzzero_cert_171444;
    
    if (!protect_assert_disj_171443) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171445 = sdiv_safe64(zs_lhs_171431, smallest_pow_2_geq_than_res_171436);
    int64_t block_sizze_171446 = add64((int64_t) 1, zp_rhs_171445);
    bool y_171451 = slt64((int64_t) 0, n_105620);
    bool protect_assert_disj_181809 = cond_171430 || y_171451;
    bool index_certs_171452;
    
    if (!protect_assert_disj_181809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105620, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171465 = slt64(smallest_pow_2_geq_than_res_171436, (int64_t) 0);
    bool valid_171466 = !bounds_invalid_upwards_171465;
    bool protect_assert_disj_181817 = cond_171430 || valid_171466;
    bool range_valid_c_171467;
    
    if (!protect_assert_disj_181817) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171436, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171469 = slt64(block_sizze_171446, (int64_t) 0);
    bool valid_171470 = !bounds_invalid_upwards_171469;
    bool protect_assert_disj_181819 = cond_171430 || valid_171470;
    bool range_valid_c_171471;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171446, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171473 = sle64(block_sizze_171446, (int64_t) 1);
    int64_t tmp_171474 = sub64(block_sizze_171446, (int64_t) 2);
    bool bounds_invalid_upwards_171475 = slt64(tmp_171474, (int64_t) 0);
    bool valid_171477 = !bounds_invalid_upwards_171475;
    bool protect_assert_disj_171478 = cond_171473 || valid_171477;
    bool protect_assert_disj_181821 = cond_171430 || protect_assert_disj_171478;
    bool range_valid_c_171479;
    
    if (!protect_assert_disj_181821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171474, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180907 = (int64_t) 4 * n_105620;
    
    if (futrts_indicesWithIncrement_9493(ctx, &ext_mem_180697, xs_mem_180696, n_105620, incr_105621) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182114 = 0; i_182114 < n_105620; i_182114++) {
        int64_t x_182115 = (int64_t) 0 + i_182114 * (int64_t) 1;
        
        ((int64_t *) mem_180699.mem)[i_182114] = x_182115;
    }
    
    int64_t flat_dim_171447 = smallest_pow_2_geq_than_res_171436 * block_sizze_171446;
    bool x_181804 = !cond_171430;
    int64_t greatest_divisor_leq_than_arg1_171449 = mul64((int64_t) 2, block_sizze_171446);
    int64_t merge_block_sizze_171450;
    
    if (x_181804) {
        int64_t x_181806;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181806, (int64_t) 8, greatest_divisor_leq_than_arg1_171449) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171450 = x_181806;
    } else {
        merge_block_sizze_171450 = (int64_t) 0;
    }
    
    float reduce_arg1_171453;
    
    if (x_181804) {
        float x_181810 = ((float *) xs_mem_180696.mem)[(int64_t) 0];
        
        reduce_arg1_171453 = x_181810;
    } else {
        reduce_arg1_171453 = 0.0F;
    }
    
    float defunc_0_reduce_res_178355;
    int64_t defunc_0_reduce_res_178356;
    
    if (x_181804) {
        float x_181812;
        int64_t x_181813;
        float redout_180356;
        int64_t redout_180357;
        
        redout_180356 = reduce_arg1_171453;
        redout_180357 = (int64_t) 0;
        for (int64_t i_180358 = 0; i_180358 < n_105620; i_180358++) {
            float x_171456 = ((float *) xs_mem_180696.mem)[i_180358];
            bool zlze_res_171462 = redout_180356 <= x_171456;
            float defunc_0_op_res_171463;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171463 = x_171456;
            } else {
                defunc_0_op_res_171463 = redout_180356;
            }
            
            int64_t defunc_0_op_res_171464;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171464 = i_180358;
            } else {
                defunc_0_op_res_171464 = redout_180357;
            }
            
            float redout_tmp_182116 = defunc_0_op_res_171463;
            int64_t redout_tmp_182117 = defunc_0_op_res_171464;
            
            redout_180356 = redout_tmp_182116;
            redout_180357 = redout_tmp_182117;
        }
        x_181812 = redout_180356;
        x_181813 = redout_180357;
        defunc_0_reduce_res_178355 = x_181812;
        defunc_0_reduce_res_178356 = x_181813;
    } else {
        defunc_0_reduce_res_178355 = 0.0F;
        defunc_0_reduce_res_178356 = (int64_t) 0;
    }
    
    int64_t distance_171476 = add64((int64_t) 1, tmp_171474);
    int64_t binop_x_180700 = (int64_t) 4 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180701 = block_sizze_171446 * binop_x_180700;
    int64_t binop_x_180703 = (int64_t) 8 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180704 = block_sizze_171446 * binop_x_180703;
    int64_t bytes_180714 = (int64_t) 4 * block_sizze_171446;
    int64_t bytes_180716 = (int64_t) 8 * block_sizze_171446;
    bool loop_cond_171550 = slt64(block_sizze_171446, flat_dim_171447);
    bool zzero_171551 = merge_block_sizze_171450 == (int64_t) 0;
    bool nonzzero_171552 = !zzero_171551;
    
    if (cond_171430) {
        if (memblock_set(ctx, &ext_mem_180904, &mem_180699, "mem_180699") != 0)
            return 1;
    } else {
        if (mem_180702_cached_sizze_182388 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180702, &mem_180702_cached_sizze_182388, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180705_cached_sizze_182389 < bytes_180704) {
            err = lexical_realloc(ctx, &mem_180705, &mem_180705_cached_sizze_182389, bytes_180704);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180715_cached_sizze_182390 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182390, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180717_cached_sizze_182391 < bytes_180716) {
            err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182391, bytes_180716);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180370 = 0; i_180370 < smallest_pow_2_geq_than_res_171436; i_180370++) {
            int64_t zp_lhs_171483 = mul64(block_sizze_171446, i_180370);
            
            for (int64_t i_180363 = 0; i_180363 < block_sizze_171446; i_180363++) {
                int64_t k_171487 = add64(zp_lhs_171483, i_180363);
                bool cond_171488 = slt64(k_171487, n_105620);
                float lifted_lambda_res_171489;
                int64_t lifted_lambda_res_171490;
                
                if (cond_171488) {
                    bool x_178208 = sle64((int64_t) 0, k_171487);
                    bool bounds_check_178209 = cond_171488 && x_178208;
                    bool index_certs_178210;
                    
                    if (!bounds_check_178209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171487, "] out of bounds for array of shape [", (long long) n_105620, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_178211 = ((float *) xs_mem_180696.mem)[k_171487];
                    
                    lifted_lambda_res_171489 = lifted_lambda_res_t_res_178211;
                    lifted_lambda_res_171490 = k_171487;
                } else {
                    lifted_lambda_res_171489 = defunc_0_reduce_res_178355;
                    lifted_lambda_res_171490 = defunc_0_reduce_res_178356;
                }
                ((float *) mem_180715)[i_180363] = lifted_lambda_res_171489;
                ((int64_t *) mem_180717)[i_180363] = lifted_lambda_res_171490;
            }
            if (!cond_171473) {
                for (int64_t i_171499 = 0; i_171499 < distance_171476; i_171499++) {
                    int64_t gt_arg1_171502 = add64((int64_t) 1, i_171499);
                    bool x_171503 = sle64((int64_t) 0, gt_arg1_171502);
                    bool y_171504 = slt64(gt_arg1_171502, block_sizze_171446);
                    bool bounds_check_171505 = x_171503 && y_171504;
                    bool index_certs_171506;
                    
                    if (!bounds_check_171505) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171502, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171508 = slt64(i_171499, block_sizze_171446);
                    bool index_certs_171509;
                    
                    if (!y_171508) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171499, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_171507 = ((float *) mem_180715)[gt_arg1_171502];
                    float gt_arg0_171510 = ((float *) mem_180715)[i_171499];
                    bool zlze_res_171511 = gt_arg0_171510 <= gt_arg1_171507;
                    bool defunc_0_lifted_gt_res_171512 = !zlze_res_171511;
                    bool s_171513;
                    int64_t s_171516;
                    bool loop_while_171517;
                    int64_t j_171520;
                    
                    loop_while_171517 = defunc_0_lifted_gt_res_171512;
                    j_171520 = i_171499;
                    while (loop_while_171517) {
                        bool x_171521 = sle64((int64_t) 0, j_171520);
                        bool y_171522 = slt64(j_171520, block_sizze_171446);
                        bool bounds_check_171523 = x_171521 && y_171522;
                        bool index_certs_171524;
                        
                        if (!bounds_check_171523) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171520, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171527 = add64((int64_t) 1, j_171520);
                        bool x_171528 = sle64((int64_t) 0, copy_arg0_171527);
                        bool y_171529 = slt64(copy_arg0_171527, block_sizze_171446);
                        bool bounds_check_171530 = x_171528 && y_171529;
                        bool index_certs_171531;
                        
                        if (!bounds_check_171530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171527, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_171525 = ((float *) mem_180715)[j_171520];
                        int64_t copy_arg0_171526 = ((int64_t *) mem_180717)[j_171520];
                        float copy_arg0_171532 = ((float *) mem_180715)[copy_arg0_171527];
                        int64_t copy_arg0_171533 = ((int64_t *) mem_180717)[copy_arg0_171527];
                        
                        ((float *) mem_180715)[j_171520] = copy_arg0_171532;
                        ((int64_t *) mem_180717)[j_171520] = copy_arg0_171533;
                        ((float *) mem_180715)[copy_arg0_171527] = copy_arg0_171525;
                        ((int64_t *) mem_180717)[copy_arg0_171527] = copy_arg0_171526;
                        
                        int64_t tmp_171538 = sub64(j_171520, (int64_t) 1);
                        bool cond_171539 = sle64((int64_t) 0, tmp_171538);
                        bool loop_cond_171540;
                        
                        if (cond_171539) {
                            bool y_178213 = slt64(tmp_171538, block_sizze_171446);
                            bool bounds_check_178214 = cond_171539 && y_178213;
                            bool index_certs_178215;
                            
                            if (!bounds_check_178214) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171538, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_178212 = ((float *) mem_180715)[j_171520];
                            float gt_arg0_178216 = ((float *) mem_180715)[tmp_171538];
                            bool zlze_res_178217 = gt_arg0_178216 <= gt_arg1_178212;
                            bool defunc_0_lifted_gt_res_178218 = !zlze_res_178217;
                            
                            loop_cond_171540 = defunc_0_lifted_gt_res_178218;
                        } else {
                            loop_cond_171540 = 0;
                        }
                        
                        bool loop_while_tmp_182124 = loop_cond_171540;
                        int64_t j_tmp_182127 = tmp_171538;
                        
                        loop_while_171517 = loop_while_tmp_182124;
                        j_171520 = j_tmp_182127;
                    }
                    s_171513 = loop_while_171517;
                    s_171516 = j_171520;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180715, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180705, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180717, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
        }
        if (memblock_alloc(ctx, &mem_180770, bytes_180701, "mem_180770")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180770.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint32_t *) mem_180702, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        if (memblock_alloc(ctx, &mem_180774, bytes_180704, "mem_180774")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180774.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180705, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        
        int64_t data_171553;
        bool data_171554;
        int64_t data_171557;
        int64_t loop_dz2084Uz2082U_171558;
        bool loop_while_171559;
        int64_t stride_171562;
        
        if (memblock_set(ctx, &mem_param_180778, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180781, &mem_180774, "mem_180774") != 0)
            return 1;
        loop_dz2084Uz2082U_171558 = flat_dim_171447;
        loop_while_171559 = loop_cond_171550;
        stride_171562 = block_sizze_171446;
        while (loop_while_171559) {
            int64_t next_stride_171563 = mul64((int64_t) 2, stride_171562);
            bool zzero_171564 = next_stride_171563 == (int64_t) 0;
            bool nonzzero_171565 = !zzero_171564;
            bool nonzzero_cert_171566;
            
            if (!nonzzero_171565) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171567 = sdiv64(flat_dim_171447, next_stride_171563);
            bool bounds_invalid_upwards_171568 = slt64(num_merges_171567, (int64_t) 0);
            bool valid_171569 = !bounds_invalid_upwards_171568;
            bool range_valid_c_171570;
            
            if (!valid_171569) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171572 = sub64(next_stride_171563, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171573 = sle64((int64_t) 0, m_171572);
            bool cond_171575 = slt64(next_stride_171563, (int64_t) 10);
            bool protect_assert_disj_171576 = nonzzero_171552 || cond_171575;
            bool nonzzero_cert_171577;
            
            if (!protect_assert_disj_171576) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171578 = smod_safe64(next_stride_171563, merge_block_sizze_171450);
            bool num_blocks_171579 = zeze_lhs_171578 == (int64_t) 0;
            bool protect_assert_disj_171580 = cond_171575 || num_blocks_171579;
            bool assert_c_171581;
            
            if (!protect_assert_disj_171580) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171583 = sdiv_safe64(next_stride_171563, merge_block_sizze_171450);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584 = add64((int64_t) 1, num_blocks_171583);
            int64_t j_m_i_171585 = sub64(next_stride_171563, stride_171562);
            int64_t flat_dim_171586 = merge_block_sizze_171450 * num_blocks_171583;
            bool bounds_invalid_upwards_171587 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, (int64_t) 0);
            bool zzero_lte_i_171588 = sle64((int64_t) 0, stride_171562);
            bool i_lte_j_171589 = sle64(stride_171562, next_stride_171563);
            bool empty_slice_171590 = stride_171562 == (int64_t) 0;
            int64_t m_171591 = sub64(stride_171562, (int64_t) 1);
            bool bounds_invalid_upwards_171592 = slt64(num_blocks_171583, (int64_t) 0);
            bool empty_slice_171593 = j_m_i_171585 == (int64_t) 0;
            int64_t m_171594 = sub64(j_m_i_171585, (int64_t) 1);
            bool cond_171595 = slt64((int64_t) 0, stride_171562);
            bool valid_171596 = !bounds_invalid_upwards_171587;
            bool zzero_leq_i_p_m_t_s_171597 = sle64((int64_t) 0, m_171591);
            bool i_p_m_t_s_leq_w_171598 = slt64(m_171591, next_stride_171563);
            bool valid_171599 = !bounds_invalid_upwards_171592;
            bool i_p_m_t_s_leq_w_171600 = slt64(m_171572, flat_dim_171586);
            int64_t i_p_m_t_s_171601 = add64(stride_171562, m_171594);
            bool y_171602 = slt64((int64_t) 0, j_m_i_171585);
            bool protect_assert_disj_171603 = cond_171575 || valid_171596;
            bool range_valid_c_171604;
            
            if (!protect_assert_disj_171603) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171605 = zzero_leq_i_p_m_t_s_171597 && i_p_m_t_s_leq_w_171598;
            bool protect_assert_disj_171606 = cond_171575 || valid_171599;
            bool range_valid_c_171607;
            
            if (!protect_assert_disj_171606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171583, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171608 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171600;
            bool zzero_leq_i_p_m_t_s_171609 = sle64((int64_t) 0, i_p_m_t_s_171601);
            bool i_p_m_t_s_leq_w_171610 = slt64(i_p_m_t_s_171601, next_stride_171563);
            bool forwards_ok_171611 = zzero_lte_i_171588 && y_171605;
            bool ok_or_empty_171612 = zzero_171564 || y_171608;
            bool y_171613 = zzero_lte_i_171588 && i_p_m_t_s_leq_w_171610;
            bool protect_assert_disj_171614 = cond_171595 || y_171602;
            bool ok_or_empty_171615 = empty_slice_171590 || forwards_ok_171611;
            bool protect_assert_disj_171616 = cond_171575 || ok_or_empty_171612;
            bool index_certs_171617;
            
            if (!protect_assert_disj_171616) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) flat_dim_171586, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171618 = zzero_leq_i_p_m_t_s_171609 && y_171613;
            bool loop_not_taken_171619 = !cond_171575;
            bool protect_assert_disj_171620 = protect_assert_disj_171614 || loop_not_taken_171619;
            bool index_certs_171621;
            
            if (!protect_assert_disj_171620) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171622 = cond_171575 || ok_or_empty_171615;
            bool index_certs_171623;
            
            if (!protect_assert_disj_171622) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171624 = i_lte_j_171589 && y_171618;
            bool protect_assert_disj_171625 = ok_or_empty_171615 || loop_not_taken_171619;
            bool index_certs_171626;
            
            if (!protect_assert_disj_171625) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171627 = empty_slice_171593 || forwards_ok_171624;
            bool protect_assert_disj_171628 = loop_not_taken_171619 || ok_or_empty_171627;
            bool index_certs_171629;
            
            if (!protect_assert_disj_171628) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171630 = cond_171575 || ok_or_empty_171627;
            bool index_certs_171631;
            
            if (!protect_assert_disj_171630) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180782 = (int64_t) 4 * num_merges_171567;
            int64_t bytes_180783 = next_stride_171563 * binop_x_180782;
            int64_t binop_x_180785 = (int64_t) 8 * num_merges_171567;
            int64_t bytes_180786 = next_stride_171563 * binop_x_180785;
            bool i_lte_j_171574 = sle64((int64_t) 0, next_stride_171563);
            
            if (mem_180784_cached_sizze_182392 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182392, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180787_cached_sizze_182393 < bytes_180786) {
                err = lexical_realloc(ctx, &mem_180787, &mem_180787_cached_sizze_182393, bytes_180786);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180796 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584;
            int64_t binop_x_180812 = (int64_t) 4 * num_blocks_171583;
            int64_t bytes_180813 = merge_block_sizze_171450 * binop_x_180812;
            int64_t binop_x_180815 = (int64_t) 8 * num_blocks_171583;
            int64_t bytes_180816 = merge_block_sizze_171450 * binop_x_180815;
            int64_t bytes_180858 = (int64_t) 8 * stride_171562;
            int64_t bytes_180860 = (int64_t) 16 * stride_171562;
            
            for (int64_t i_180391 = 0; i_180391 < num_merges_171567; i_180391++) {
                int64_t start_171635 = mul64(next_stride_171563, i_180391);
                int64_t j_m_i_171636 = sub64(loop_dz2084Uz2082U_171558, start_171635);
                bool empty_slice_171637 = j_m_i_171636 == (int64_t) 0;
                int64_t m_171638 = sub64(j_m_i_171636, (int64_t) 1);
                int64_t i_p_m_t_s_171639 = add64(start_171635, m_171638);
                bool zzero_leq_i_p_m_t_s_171640 = sle64((int64_t) 0, i_p_m_t_s_171639);
                bool i_p_m_t_s_leq_w_171641 = slt64(i_p_m_t_s_171639, loop_dz2084Uz2082U_171558);
                bool zzero_lte_i_171642 = sle64((int64_t) 0, start_171635);
                bool i_lte_j_171643 = sle64(start_171635, loop_dz2084Uz2082U_171558);
                bool y_171644 = i_p_m_t_s_leq_w_171641 && zzero_lte_i_171642;
                bool y_171645 = zzero_leq_i_p_m_t_s_171640 && y_171644;
                bool forwards_ok_171646 = i_lte_j_171643 && y_171645;
                bool ok_or_empty_171647 = empty_slice_171637 || forwards_ok_171646;
                bool index_certs_171648;
                
                if (!ok_or_empty_171647) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171635, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171558, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171649 = slt64(m_171572, j_m_i_171636);
                bool y_171650 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171649;
                bool forwards_ok_171651 = i_lte_j_171574 && y_171650;
                bool ok_or_empty_171652 = zzero_171564 || forwards_ok_171651;
                bool index_certs_171653;
                
                if (!ok_or_empty_171652) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) j_m_i_171636, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171575) {
                    float dummy_178244;
                    int64_t dummy_178245;
                    
                    if (cond_171595) {
                        float head_res_178246 = ((float *) mem_param_180778.mem)[start_171635];
                        int64_t head_res_178247 = ((int64_t *) mem_param_180781.mem)[start_171635];
                        
                        dummy_178244 = head_res_178246;
                        dummy_178245 = head_res_178247;
                    } else {
                        int64_t slice_178248 = stride_171562 + start_171635;
                        float head_res_178249 = ((float *) mem_param_180778.mem)[slice_178248];
                        int64_t head_res_178250 = ((int64_t *) mem_param_180781.mem)[slice_178248];
                        
                        dummy_178244 = head_res_178249;
                        dummy_178245 = head_res_178250;
                    }
                    if (memblock_alloc(ctx, &mem_180859, bytes_180858, "mem_180859")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182137 = 0; nest_i_182137 < next_stride_171563; nest_i_182137++) {
                        ((float *) mem_180859.mem)[nest_i_182137] = dummy_178244;
                    }
                    if (memblock_alloc(ctx, &mem_180861, bytes_180860, "mem_180861")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182138 = 0; nest_i_182138 < next_stride_171563; nest_i_182138++) {
                        ((int64_t *) mem_180861.mem)[nest_i_182138] = dummy_178245;
                    }
                    
                    int64_t data_178253;
                    int64_t i_178257 = (int64_t) 0;
                    
                    for (int64_t k_178256 = 0; k_178256 < next_stride_171563; k_178256++) {
                        int64_t j_178260 = sub64(k_178256, i_178257);
                        bool cond_178261 = j_178260 == j_m_i_171585;
                        bool cond_178262;
                        
                        if (cond_178261) {
                            cond_178262 = 1;
                        } else {
                            bool cond_178263 = slt64(i_178257, stride_171562);
                            bool cond_f_res_178264;
                            
                            if (cond_178263) {
                                bool x_178265 = sle64((int64_t) 0, j_178260);
                                bool y_178266 = slt64(j_178260, j_m_i_171585);
                                bool bounds_check_178267 = x_178265 && y_178266;
                                bool index_certs_178268;
                                
                                if (!bounds_check_178267) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178272 = sle64((int64_t) 0, i_178257);
                                bool bounds_check_178273 = cond_178263 && x_178272;
                                bool index_certs_178274;
                                
                                if (!bounds_check_178273) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178269 = stride_171562 + j_178260;
                                int64_t slice_178270 = start_171635 + slice_178269;
                                float leq_arg1_178271 = ((float *) mem_param_180778.mem)[slice_178270];
                                int64_t slice_178275 = start_171635 + i_178257;
                                float leq_arg0_178276 = ((float *) mem_param_180778.mem)[slice_178275];
                                bool zlze_res_178277 = leq_arg0_178276 <= leq_arg1_178271;
                                
                                cond_f_res_178264 = zlze_res_178277;
                            } else {
                                cond_f_res_178264 = 0;
                            }
                            cond_178262 = cond_f_res_178264;
                        }
                        
                        int64_t loopres_178278;
                        float loopres_178279;
                        int64_t loopres_178280;
                        
                        if (cond_178262) {
                            bool x_178282 = sle64((int64_t) 0, i_178257);
                            bool y_178283 = slt64(i_178257, stride_171562);
                            bool bounds_check_178284 = x_178282 && y_178283;
                            bool index_certs_178285;
                            
                            if (!bounds_check_178284) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178281 = add64((int64_t) 1, i_178257);
                            int64_t slice_178286 = start_171635 + i_178257;
                            float tmp_178287 = ((float *) mem_param_180778.mem)[slice_178286];
                            int64_t tmp_178288 = ((int64_t *) mem_param_180781.mem)[slice_178286];
                            
                            loopres_178278 = tmp_178281;
                            loopres_178279 = tmp_178287;
                            loopres_178280 = tmp_178288;
                        } else {
                            bool x_178289 = sle64((int64_t) 0, j_178260);
                            bool y_178290 = slt64(j_178260, j_m_i_171585);
                            bool bounds_check_178291 = x_178289 && y_178290;
                            bool index_certs_178292;
                            
                            if (!bounds_check_178291) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178293 = stride_171562 + j_178260;
                            int64_t slice_178294 = start_171635 + slice_178293;
                            float tmp_178295 = ((float *) mem_param_180778.mem)[slice_178294];
                            int64_t tmp_178296 = ((int64_t *) mem_param_180781.mem)[slice_178294];
                            
                            loopres_178278 = i_178257;
                            loopres_178279 = tmp_178295;
                            loopres_178280 = tmp_178296;
                        }
                        ((float *) mem_180859.mem)[k_178256] = loopres_178279;
                        ((int64_t *) mem_180861.mem)[k_178256] = loopres_178280;
                        
                        int64_t i_tmp_182139 = loopres_178278;
                        
                        i_178257 = i_tmp_182139;
                    }
                    data_178253 = i_178257;
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180859, "mem_180859") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180861, "mem_180861") != 0)
                        return 1;
                } else {
                    if (mem_180797_cached_sizze_182394 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180797, &mem_180797_cached_sizze_182394, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180799_cached_sizze_182395 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180799, &mem_180799_cached_sizze_182395, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180377 = 0; i_180377 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584; i_180377++) {
                        int64_t split_count_arg3_171715 = mul64(merge_block_sizze_171450, i_180377);
                        int64_t defunc_0_split_count_res_171716;
                        int64_t defunc_0_split_count_res_171717;
                        int64_t defunc_0_split_count_res_171718;
                        int64_t defunc_0_split_count_res_171719;
                        int64_t defunc_0_split_count_res_171720;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_171716, &defunc_0_split_count_res_171717, &defunc_0_split_count_res_171718, &defunc_0_split_count_res_171719, &defunc_0_split_count_res_171720, (int64_t) 0, stride_171562, (int64_t) 0, j_m_i_171585, split_count_arg3_171715) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171721 = slt64((int64_t) 0, defunc_0_split_count_res_171720);
                        bool defunc_0_split_count_res_171722;
                        int64_t defunc_0_split_count_res_171723;
                        int64_t defunc_0_split_count_res_171724;
                        int64_t defunc_0_split_count_res_171725;
                        int64_t defunc_0_split_count_res_171726;
                        int64_t defunc_0_split_count_res_171727;
                        bool loop_while_171728;
                        int64_t ss_171729;
                        int64_t ss_171730;
                        int64_t tt_171731;
                        int64_t tt_171732;
                        int64_t count_171733;
                        
                        loop_while_171728 = loop_cond_171721;
                        ss_171729 = defunc_0_split_count_res_171716;
                        ss_171730 = defunc_0_split_count_res_171717;
                        tt_171731 = defunc_0_split_count_res_171718;
                        tt_171732 = defunc_0_split_count_res_171719;
                        count_171733 = defunc_0_split_count_res_171720;
                        while (loop_while_171728) {
                            int64_t zlze_lhs_171734 = sub64(ss_171730, ss_171729);
                            bool cond_171735 = sle64(zlze_lhs_171734, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171736;
                            int64_t defunc_0_lifted_step_res_171737;
                            int64_t defunc_0_lifted_step_res_171738;
                            int64_t defunc_0_lifted_step_res_171739;
                            
                            if (cond_171735) {
                                int64_t tmp_178299 = add64(tt_171731, count_171733);
                                
                                defunc_0_lifted_step_res_171736 = ss_171729;
                                defunc_0_lifted_step_res_171737 = tmp_178299;
                                defunc_0_lifted_step_res_171738 = tt_171732;
                                defunc_0_lifted_step_res_171739 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171741 = sub64(tt_171732, tt_171731);
                                bool cond_171742 = sle64(zlze_lhs_171741, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171743;
                                int64_t defunc_0_lifted_step_res_f_res_171744;
                                int64_t defunc_0_lifted_step_res_f_res_171745;
                                int64_t defunc_0_lifted_step_res_f_res_171746;
                                
                                if (cond_171742) {
                                    int64_t tmp_178300 = add64(ss_171729, count_171733);
                                    
                                    defunc_0_lifted_step_res_f_res_171743 = tmp_178300;
                                    defunc_0_lifted_step_res_f_res_171744 = tt_171731;
                                    defunc_0_lifted_step_res_f_res_171745 = tt_171732;
                                    defunc_0_lifted_step_res_f_res_171746 = (int64_t) 0;
                                } else {
                                    bool cond_171748 = count_171733 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171749;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171750;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171751;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171752;
                                    
                                    if (cond_171748) {
                                        bool x_178302 = sle64((int64_t) 0, ss_171729);
                                        bool y_178303 = slt64(ss_171729, stride_171562);
                                        bool bounds_check_178304 = x_178302 && y_178303;
                                        bool index_certs_178305;
                                        
                                        if (!bounds_check_178304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171729, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178308 = sle64((int64_t) 0, tt_171731);
                                        bool y_178309 = slt64(tt_171731, j_m_i_171585);
                                        bool bounds_check_178310 = x_178308 && y_178309;
                                        bool index_certs_178311;
                                        
                                        if (!bounds_check_178310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171731, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178306 = start_171635 + ss_171729;
                                        float leq_arg1_178307 = ((float *) mem_param_180778.mem)[slice_178306];
                                        int64_t slice_178312 = stride_171562 + tt_171731;
                                        int64_t slice_178313 = start_171635 + slice_178312;
                                        float leq_arg0_178314 = ((float *) mem_param_180778.mem)[slice_178313];
                                        bool zlze_res_178315 = leq_arg0_178314 <= leq_arg1_178307;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        
                                        if (zlze_res_178315) {
                                            int64_t tmp_178318 = add64((int64_t) 1, tt_171731);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = ss_171729;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tmp_178318;
                                        } else {
                                            int64_t tmp_178319 = add64((int64_t) 1, ss_171729);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = tmp_178319;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tt_171731;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = tt_171732;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = (int64_t) 0;
                                    } else {
                                        int64_t m_171771 = sdiv64(count_171733, (int64_t) 2);
                                        int64_t n_171772 = sub64(count_171733, m_171771);
                                        bool cond_171773 = n_171772 == (int64_t) 0;
                                        int64_t zgze_lhs_171774 = add64(ss_171729, m_171771);
                                        bool cond_f_res_171775 = sle64(ss_171730, zgze_lhs_171774);
                                        bool x_171776 = !cond_171773;
                                        bool y_171777 = cond_f_res_171775 && x_171776;
                                        bool cond_171778 = cond_171773 || y_171777;
                                        bool leq_y_x_171779;
                                        
                                        if (cond_171778) {
                                            leq_y_x_171779 = 1;
                                        } else {
                                            bool x_171780 = sle64((int64_t) 0, zgze_lhs_171774);
                                            bool y_171781 = slt64(zgze_lhs_171774, stride_171562);
                                            bool bounds_check_171782 = x_171780 && y_171781;
                                            bool index_certs_171783;
                                            
                                            if (!bounds_check_171782) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171774, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171786 = add64(tt_171731, n_171772);
                                            int64_t leq_arg0_171787 = sub64(zm_lhs_171786, (int64_t) 1);
                                            bool x_171788 = sle64((int64_t) 0, leq_arg0_171787);
                                            bool y_171789 = slt64(leq_arg0_171787, j_m_i_171585);
                                            bool bounds_check_171790 = x_171788 && y_171789;
                                            bool index_certs_171791;
                                            
                                            if (!bounds_check_171790) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171787, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171784 = start_171635 + zgze_lhs_171774;
                                            float leq_arg1_171785 = ((float *) mem_param_180778.mem)[slice_171784];
                                            int64_t slice_171792 = stride_171562 + leq_arg0_171787;
                                            int64_t slice_171793 = start_171635 + slice_171792;
                                            float leq_arg0_171794 = ((float *) mem_param_180778.mem)[slice_171793];
                                            bool zlze_res_171795 = leq_arg0_171794 <= leq_arg1_171785;
                                            
                                            leq_y_x_171779 = zlze_res_171795;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                        
                                        if (leq_y_x_171779) {
                                            int64_t tmp_178320 = add64(tt_171731, n_171772);
                                            int64_t tmp_178321 = sub64(count_171733, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tmp_178320;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tt_171732;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = tmp_178321;
                                        } else {
                                            int64_t tmp_171801 = add64(tt_171731, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tt_171731;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tmp_171801;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = count_171733;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = ss_171729;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                    }
                                    defunc_0_lifted_step_res_f_res_171743 = defunc_0_lifted_step_res_f_res_f_res_171749;
                                    defunc_0_lifted_step_res_f_res_171744 = defunc_0_lifted_step_res_f_res_f_res_171750;
                                    defunc_0_lifted_step_res_f_res_171745 = defunc_0_lifted_step_res_f_res_f_res_171751;
                                    defunc_0_lifted_step_res_f_res_171746 = defunc_0_lifted_step_res_f_res_f_res_171752;
                                }
                                defunc_0_lifted_step_res_171736 = defunc_0_lifted_step_res_f_res_171743;
                                defunc_0_lifted_step_res_171737 = defunc_0_lifted_step_res_f_res_171744;
                                defunc_0_lifted_step_res_171738 = defunc_0_lifted_step_res_f_res_171745;
                                defunc_0_lifted_step_res_171739 = defunc_0_lifted_step_res_f_res_171746;
                            }
                            
                            int64_t loopres_171802;
                            int64_t loopres_171803;
                            int64_t loopres_171804;
                            int64_t loopres_171805;
                            int64_t loopres_171806;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_171802, &loopres_171803, &loopres_171804, &loopres_171805, &loopres_171806, defunc_0_lifted_step_res_171736, ss_171730, defunc_0_lifted_step_res_171737, defunc_0_lifted_step_res_171738, defunc_0_lifted_step_res_171739) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171807 = slt64((int64_t) 0, loopres_171806);
                            bool loop_while_tmp_182144 = loop_cond_171807;
                            int64_t ss_tmp_182145 = loopres_171802;
                            int64_t ss_tmp_182146 = loopres_171803;
                            int64_t tt_tmp_182147 = loopres_171804;
                            int64_t tt_tmp_182148 = loopres_171805;
                            int64_t count_tmp_182149 = loopres_171806;
                            
                            loop_while_171728 = loop_while_tmp_182144;
                            ss_171729 = ss_tmp_182145;
                            ss_171730 = ss_tmp_182146;
                            tt_171731 = tt_tmp_182147;
                            tt_171732 = tt_tmp_182148;
                            count_171733 = count_tmp_182149;
                        }
                        defunc_0_split_count_res_171722 = loop_while_171728;
                        defunc_0_split_count_res_171723 = ss_171729;
                        defunc_0_split_count_res_171724 = ss_171730;
                        defunc_0_split_count_res_171725 = tt_171731;
                        defunc_0_split_count_res_171726 = tt_171732;
                        defunc_0_split_count_res_171727 = count_171733;
                        ((int64_t *) mem_180797)[i_180377] = defunc_0_split_count_res_171723;
                        ((int64_t *) mem_180799)[i_180377] = defunc_0_split_count_res_171725;
                    }
                    if (mem_180814_cached_sizze_182396 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182396, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180817_cached_sizze_182397 < bytes_180816) {
                        err = lexical_realloc(ctx, &mem_180817, &mem_180817_cached_sizze_182397, bytes_180816);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180384 = 0; i_180384 < num_blocks_171583; i_180384++) {
                        bool y_171813 = slt64(i_180384, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool index_certs_171815;
                        
                        if (!y_171813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180384, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171816 = ((int64_t *) mem_180797)[i_180384];
                        int64_t defunc_0_f_res_171817 = ((int64_t *) mem_180799)[i_180384];
                        int64_t tmp_171818 = add64((int64_t) 1, i_180384);
                        bool x_171819 = sle64((int64_t) 0, tmp_171818);
                        bool y_171820 = slt64(tmp_171818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool bounds_check_171821 = x_171819 && y_171820;
                        bool index_certs_171822;
                        
                        if (!bounds_check_171821) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171818, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171823 = ((int64_t *) mem_180797)[tmp_171818];
                        int64_t defunc_0_f_res_171824 = ((int64_t *) mem_180799)[tmp_171818];
                        int64_t merge_sequential_arg2_171825 = add64(stride_171562, defunc_0_f_res_171817);
                        int64_t merge_sequential_arg2_171826 = add64(stride_171562, defunc_0_f_res_171824);
                        int64_t j_m_i_171827 = sub64(merge_sequential_arg2_171826, merge_sequential_arg2_171825);
                        bool empty_slice_171828 = j_m_i_171827 == (int64_t) 0;
                        int64_t m_171829 = sub64(j_m_i_171827, (int64_t) 1);
                        int64_t i_p_m_t_s_171830 = add64(merge_sequential_arg2_171825, m_171829);
                        bool zzero_leq_i_p_m_t_s_171831 = sle64((int64_t) 0, i_p_m_t_s_171830);
                        bool i_p_m_t_s_leq_w_171832 = slt64(i_p_m_t_s_171830, next_stride_171563);
                        bool zzero_lte_i_171833 = sle64((int64_t) 0, merge_sequential_arg2_171825);
                        bool i_lte_j_171834 = sle64(merge_sequential_arg2_171825, merge_sequential_arg2_171826);
                        bool y_171835 = i_p_m_t_s_leq_w_171832 && zzero_lte_i_171833;
                        bool y_171836 = zzero_leq_i_p_m_t_s_171831 && y_171835;
                        bool forwards_ok_171837 = i_lte_j_171834 && y_171836;
                        bool ok_or_empty_171838 = empty_slice_171828 || forwards_ok_171837;
                        bool index_certs_171839;
                        
                        if (!ok_or_empty_171838) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171825, ":", (long long) merge_sequential_arg2_171826, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171840 = sub64(defunc_0_f_res_171823, defunc_0_f_res_171816);
                        bool empty_slice_171841 = j_m_i_171840 == (int64_t) 0;
                        int64_t m_171842 = sub64(j_m_i_171840, (int64_t) 1);
                        int64_t i_p_m_t_s_171843 = add64(defunc_0_f_res_171816, m_171842);
                        bool zzero_leq_i_p_m_t_s_171844 = sle64((int64_t) 0, i_p_m_t_s_171843);
                        bool i_p_m_t_s_leq_w_171845 = slt64(i_p_m_t_s_171843, next_stride_171563);
                        bool zzero_lte_i_171846 = sle64((int64_t) 0, defunc_0_f_res_171816);
                        bool i_lte_j_171847 = sle64(defunc_0_f_res_171816, defunc_0_f_res_171823);
                        bool y_171848 = i_p_m_t_s_leq_w_171845 && zzero_lte_i_171846;
                        bool y_171849 = zzero_leq_i_p_m_t_s_171844 && y_171848;
                        bool forwards_ok_171850 = i_lte_j_171847 && y_171849;
                        bool ok_or_empty_171851 = empty_slice_171841 || forwards_ok_171850;
                        bool index_certs_171852;
                        
                        if (!ok_or_empty_171851) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171816, ":", (long long) defunc_0_f_res_171823, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171853 = slt64((int64_t) 0, j_m_i_171840);
                        float dummy_171854;
                        int64_t dummy_171855;
                        
                        if (cond_171853) {
                            bool index_certs_178322;
                            
                            if (!cond_171853) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178323 = start_171635 + defunc_0_f_res_171816;
                            float head_res_178324 = ((float *) mem_param_180778.mem)[slice_178323];
                            int64_t head_res_178325 = ((int64_t *) mem_param_180781.mem)[slice_178323];
                            
                            dummy_171854 = head_res_178324;
                            dummy_171855 = head_res_178325;
                        } else {
                            bool y_171860 = slt64((int64_t) 0, j_m_i_171827);
                            bool index_certs_171861;
                            
                            if (!y_171860) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171862 = start_171635 + merge_sequential_arg2_171825;
                            float head_res_171863 = ((float *) mem_param_180778.mem)[slice_171862];
                            int64_t head_res_171864 = ((int64_t *) mem_param_180781.mem)[slice_171862];
                            
                            dummy_171854 = head_res_171863;
                            dummy_171855 = head_res_171864;
                        }
                        for (int64_t nest_i_182152 = 0; nest_i_182152 < merge_block_sizze_171450; nest_i_182152++) {
                            ((float *) mem_180814)[i_180384 * merge_block_sizze_171450 + nest_i_182152] = dummy_171854;
                        }
                        for (int64_t nest_i_182153 = 0; nest_i_182153 < merge_block_sizze_171450; nest_i_182153++) {
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + nest_i_182153] = dummy_171855;
                        }
                        
                        int64_t data_171867;
                        int64_t i_171871 = (int64_t) 0;
                        
                        for (int64_t k_171870 = 0; k_171870 < merge_block_sizze_171450; k_171870++) {
                            int64_t j_171874 = sub64(k_171870, i_171871);
                            bool cond_171875 = j_171874 == j_m_i_171827;
                            bool cond_171876;
                            
                            if (cond_171875) {
                                cond_171876 = 1;
                            } else {
                                bool cond_171877 = slt64(i_171871, j_m_i_171840);
                                bool cond_f_res_171878;
                                
                                if (cond_171877) {
                                    bool x_178326 = sle64((int64_t) 0, j_171874);
                                    bool y_178327 = slt64(j_171874, j_m_i_171827);
                                    bool bounds_check_178328 = x_178326 && y_178327;
                                    bool index_certs_178329;
                                    
                                    if (!bounds_check_178328) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178333 = sle64((int64_t) 0, i_171871);
                                    bool bounds_check_178334 = cond_171877 && x_178333;
                                    bool index_certs_178335;
                                    
                                    if (!bounds_check_178334) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178330 = merge_sequential_arg2_171825 + j_171874;
                                    int64_t slice_178331 = start_171635 + slice_178330;
                                    float leq_arg1_178332 = ((float *) mem_param_180778.mem)[slice_178331];
                                    int64_t slice_178336 = defunc_0_f_res_171816 + i_171871;
                                    int64_t slice_178337 = start_171635 + slice_178336;
                                    float leq_arg0_178338 = ((float *) mem_param_180778.mem)[slice_178337];
                                    bool zlze_res_178339 = leq_arg0_178338 <= leq_arg1_178332;
                                    
                                    cond_f_res_171878 = zlze_res_178339;
                                } else {
                                    cond_f_res_171878 = 0;
                                }
                                cond_171876 = cond_f_res_171878;
                            }
                            
                            int64_t loopres_171893;
                            float loopres_171894;
                            int64_t loopres_171895;
                            
                            if (cond_171876) {
                                bool x_178341 = sle64((int64_t) 0, i_171871);
                                bool y_178342 = slt64(i_171871, j_m_i_171840);
                                bool bounds_check_178343 = x_178341 && y_178342;
                                bool index_certs_178344;
                                
                                if (!bounds_check_178343) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178340 = add64((int64_t) 1, i_171871);
                                int64_t slice_178345 = defunc_0_f_res_171816 + i_171871;
                                int64_t slice_178346 = start_171635 + slice_178345;
                                float tmp_178347 = ((float *) mem_param_180778.mem)[slice_178346];
                                int64_t tmp_178348 = ((int64_t *) mem_param_180781.mem)[slice_178346];
                                
                                loopres_171893 = tmp_178340;
                                loopres_171894 = tmp_178347;
                                loopres_171895 = tmp_178348;
                            } else {
                                bool x_171905 = sle64((int64_t) 0, j_171874);
                                bool y_171906 = slt64(j_171874, j_m_i_171827);
                                bool bounds_check_171907 = x_171905 && y_171906;
                                bool index_certs_171908;
                                
                                if (!bounds_check_171907) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171909 = merge_sequential_arg2_171825 + j_171874;
                                int64_t slice_171910 = start_171635 + slice_171909;
                                float tmp_171911 = ((float *) mem_param_180778.mem)[slice_171910];
                                int64_t tmp_171912 = ((int64_t *) mem_param_180781.mem)[slice_171910];
                                
                                loopres_171893 = i_171871;
                                loopres_171894 = tmp_171911;
                                loopres_171895 = tmp_171912;
                            }
                            ((float *) mem_180814)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171894;
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171895;
                            
                            int64_t i_tmp_182154 = loopres_171893;
                            
                            i_171871 = i_tmp_182154;
                        }
                        data_171867 = i_171871;
                    }
                    if (memblock_alloc(ctx, &mem_180852, bytes_180813, "mem_180852")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180852.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint32_t *) mem_180814, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_alloc(ctx, &mem_180856, bytes_180816, "mem_180856")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180856.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180817, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180852, "mem_180852") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180856, "mem_180856") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180879.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180787, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171919 = next_stride_171563 * num_merges_171567;
            
            if (memblock_alloc(ctx, &mem_180890, bytes_180783, "mem_180890")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint32_t *) mem_180784, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            if (memblock_alloc(ctx, &mem_180894, bytes_180786, "mem_180894")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180787, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            
            bool loop_cond_171922 = slt64(next_stride_171563, flat_dim_171447);
            
            if (memblock_set(ctx, &mem_param_tmp_182128, &mem_180890, "mem_180890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182129, &mem_180894, "mem_180894") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182130 = flat_dim_171919;
            bool loop_while_tmp_182131 = loop_cond_171922;
            int64_t stride_tmp_182134 = next_stride_171563;
            
            if (memblock_set(ctx, &mem_param_180778, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180781, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
                return 1;
            loop_dz2084Uz2082U_171558 = loop_dz2084Uz2082U_tmp_182130;
            loop_while_171559 = loop_while_tmp_182131;
            stride_171562 = stride_tmp_182134;
        }
        if (memblock_set(ctx, &ext_mem_180901, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180900, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        data_171553 = loop_dz2084Uz2082U_171558;
        data_171554 = loop_while_171559;
        data_171557 = stride_171562;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        
        bool empty_slice_171923 = n_105620 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171924 = sle64((int64_t) 0, zs_lhs_171431);
        bool i_p_m_t_s_leq_w_171925 = slt64(zs_lhs_171431, data_171553);
        bool y_171926 = zzero_leq_i_p_m_t_s_171924 && i_p_m_t_s_leq_w_171925;
        bool ok_or_empty_171927 = empty_slice_171923 || y_171926;
        bool index_certs_171928;
        
        if (!ok_or_empty_171927) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105620, "] out of bounds for array of shape [", (long long) data_171553, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:209:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180904, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180906, bytes_180698, "mem_180906")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180908, bytes_180907, "mem_180908")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180398 = 0; i_180398 < n_105620; i_180398++) {
        int64_t eta_p_171932 = ((int64_t *) ext_mem_180904.mem)[i_180398];
        bool x_171933 = sle64((int64_t) 0, eta_p_171932);
        bool y_171934 = slt64(eta_p_171932, n_105620);
        bool bounds_check_171935 = x_171933 && y_171934;
        bool index_certs_171936;
        
        if (!bounds_check_171935) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171932, "] out of bounds for array of shape [", (long long) n_105620, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171937 = ((int64_t *) ext_mem_180697.mem)[eta_p_171932];
        float lifted_lambda_res_171938 = ((float *) xs_mem_180696.mem)[eta_p_171932];
        
        ((int64_t *) mem_180906.mem)[i_180398] = lifted_lambda_res_171937;
        ((float *) mem_180908.mem)[i_180398] = lifted_lambda_res_171938;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180906, "mem_180906") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180908, "mem_180908") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182386, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182387, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180702);
        free(mem_180705);
        free(mem_180715);
        free(mem_180717);
        free(mem_180784);
        free(mem_180787);
        free(mem_180797);
        free(mem_180799);
        free(mem_180814);
        free(mem_180817);
        if (memblock_unref(ctx, &mem_180908, "mem_180908") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180906, "mem_180906") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180856, "mem_180856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180852, "mem_180852") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180861, "mem_180861") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180859, "mem_180859") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180901, "ext_mem_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182398, struct memblock *mem_out_p_182399, struct memblock xs_mem_180696, int64_t n_100933, int64_t incr_100934)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180702_cached_sizze_182400 = 0;
    unsigned char *mem_180702 = NULL;
    int64_t mem_180705_cached_sizze_182401 = 0;
    unsigned char *mem_180705 = NULL;
    int64_t mem_180715_cached_sizze_182402 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182403 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180784_cached_sizze_182404 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180787_cached_sizze_182405 = 0;
    unsigned char *mem_180787 = NULL;
    int64_t mem_180797_cached_sizze_182406 = 0;
    unsigned char *mem_180797 = NULL;
    int64_t mem_180799_cached_sizze_182407 = 0;
    unsigned char *mem_180799 = NULL;
    int64_t mem_180814_cached_sizze_182408 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180817_cached_sizze_182409 = 0;
    unsigned char *mem_180817 = NULL;
    struct memblock mem_180908;
    
    mem_180908.references = NULL;
    
    struct memblock mem_180906;
    
    mem_180906.references = NULL;
    
    struct memblock mem_param_tmp_182129;
    
    mem_param_tmp_182129.references = NULL;
    
    struct memblock mem_param_tmp_182128;
    
    mem_param_tmp_182128.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180856;
    
    mem_180856.references = NULL;
    
    struct memblock mem_180852;
    
    mem_180852.references = NULL;
    
    struct memblock mem_180861;
    
    mem_180861.references = NULL;
    
    struct memblock mem_180859;
    
    mem_180859.references = NULL;
    
    struct memblock ext_mem_180876;
    
    ext_mem_180876.references = NULL;
    
    struct memblock ext_mem_180879;
    
    ext_mem_180879.references = NULL;
    
    struct memblock mem_param_180781;
    
    mem_param_180781.references = NULL;
    
    struct memblock mem_param_180778;
    
    mem_param_180778.references = NULL;
    
    struct memblock ext_mem_180900;
    
    ext_mem_180900.references = NULL;
    
    struct memblock ext_mem_180901;
    
    ext_mem_180901.references = NULL;
    
    struct memblock mem_180774;
    
    mem_180774.references = NULL;
    
    struct memblock mem_180770;
    
    mem_180770.references = NULL;
    
    struct memblock ext_mem_180904;
    
    ext_mem_180904.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_100933;
    bool cond_171430 = sle64(n_100933, (int64_t) 1);
    int64_t zs_lhs_171431 = sub64(n_100933, (int64_t) 1);
    int64_t zp_rhs_171432 = sdiv_safe64(zs_lhs_171431, (int64_t) 20);
    int64_t min_num_blocks_171433 = add64((int64_t) 1, zp_rhs_171432);
    bool loop_cond_171434 = slt64((int64_t) 1, min_num_blocks_171433);
    bool smallest_pow_2_geq_than_res_171435;
    int64_t smallest_pow_2_geq_than_res_171436;
    bool loop_while_171437;
    int64_t x_171438;
    
    loop_while_171437 = loop_cond_171434;
    x_171438 = (int64_t) 1;
    while (loop_while_171437) {
        int64_t loopres_171439 = mul64((int64_t) 2, x_171438);
        bool loop_cond_171440 = slt64(loopres_171439, min_num_blocks_171433);
        bool loop_while_tmp_182112 = loop_cond_171440;
        int64_t x_tmp_182113 = loopres_171439;
        
        loop_while_171437 = loop_while_tmp_182112;
        x_171438 = x_tmp_182113;
    }
    smallest_pow_2_geq_than_res_171435 = loop_while_171437;
    smallest_pow_2_geq_than_res_171436 = x_171438;
    
    bool zzero_171441 = smallest_pow_2_geq_than_res_171436 == (int64_t) 0;
    bool nonzzero_171442 = !zzero_171441;
    bool protect_assert_disj_171443 = cond_171430 || nonzzero_171442;
    bool nonzzero_cert_171444;
    
    if (!protect_assert_disj_171443) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171445 = sdiv_safe64(zs_lhs_171431, smallest_pow_2_geq_than_res_171436);
    int64_t block_sizze_171446 = add64((int64_t) 1, zp_rhs_171445);
    bool y_171451 = slt64((int64_t) 0, n_100933);
    bool protect_assert_disj_181809 = cond_171430 || y_171451;
    bool index_certs_171452;
    
    if (!protect_assert_disj_181809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_100933, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171465 = slt64(smallest_pow_2_geq_than_res_171436, (int64_t) 0);
    bool valid_171466 = !bounds_invalid_upwards_171465;
    bool protect_assert_disj_181817 = cond_171430 || valid_171466;
    bool range_valid_c_171467;
    
    if (!protect_assert_disj_181817) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171436, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171469 = slt64(block_sizze_171446, (int64_t) 0);
    bool valid_171470 = !bounds_invalid_upwards_171469;
    bool protect_assert_disj_181819 = cond_171430 || valid_171470;
    bool range_valid_c_171471;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171446, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171473 = sle64(block_sizze_171446, (int64_t) 1);
    int64_t tmp_171474 = sub64(block_sizze_171446, (int64_t) 2);
    bool bounds_invalid_upwards_171475 = slt64(tmp_171474, (int64_t) 0);
    bool valid_171477 = !bounds_invalid_upwards_171475;
    bool protect_assert_disj_171478 = cond_171473 || valid_171477;
    bool protect_assert_disj_181821 = cond_171430 || protect_assert_disj_171478;
    bool range_valid_c_171479;
    
    if (!protect_assert_disj_181821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171474, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180907 = (int64_t) 4 * n_100933;
    
    if (futrts_indicesWithIncrement_9283(ctx, &ext_mem_180697, xs_mem_180696, n_100933, incr_100934) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182114 = 0; i_182114 < n_100933; i_182114++) {
        int64_t x_182115 = (int64_t) 0 + i_182114 * (int64_t) 1;
        
        ((int64_t *) mem_180699.mem)[i_182114] = x_182115;
    }
    
    int64_t flat_dim_171447 = smallest_pow_2_geq_than_res_171436 * block_sizze_171446;
    bool x_181804 = !cond_171430;
    int64_t greatest_divisor_leq_than_arg1_171449 = mul64((int64_t) 2, block_sizze_171446);
    int64_t merge_block_sizze_171450;
    
    if (x_181804) {
        int64_t x_181806;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181806, (int64_t) 8, greatest_divisor_leq_than_arg1_171449) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171450 = x_181806;
    } else {
        merge_block_sizze_171450 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_171453;
    
    if (x_181804) {
        int32_t x_181810 = ((int32_t *) xs_mem_180696.mem)[(int64_t) 0];
        
        reduce_arg1_171453 = x_181810;
    } else {
        reduce_arg1_171453 = 0;
    }
    
    int32_t defunc_0_reduce_res_178355;
    int64_t defunc_0_reduce_res_178356;
    
    if (x_181804) {
        int32_t x_181812;
        int64_t x_181813;
        int32_t redout_180356;
        int64_t redout_180357;
        
        redout_180356 = reduce_arg1_171453;
        redout_180357 = (int64_t) 0;
        for (int64_t i_180358 = 0; i_180358 < n_100933; i_180358++) {
            int32_t x_171456 = ((int32_t *) xs_mem_180696.mem)[i_180358];
            bool zlze_res_171462 = sle32(redout_180356, x_171456);
            int32_t defunc_0_op_res_171463;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171463 = x_171456;
            } else {
                defunc_0_op_res_171463 = redout_180356;
            }
            
            int64_t defunc_0_op_res_171464;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171464 = i_180358;
            } else {
                defunc_0_op_res_171464 = redout_180357;
            }
            
            int32_t redout_tmp_182116 = defunc_0_op_res_171463;
            int64_t redout_tmp_182117 = defunc_0_op_res_171464;
            
            redout_180356 = redout_tmp_182116;
            redout_180357 = redout_tmp_182117;
        }
        x_181812 = redout_180356;
        x_181813 = redout_180357;
        defunc_0_reduce_res_178355 = x_181812;
        defunc_0_reduce_res_178356 = x_181813;
    } else {
        defunc_0_reduce_res_178355 = 0;
        defunc_0_reduce_res_178356 = (int64_t) 0;
    }
    
    int64_t distance_171476 = add64((int64_t) 1, tmp_171474);
    int64_t binop_x_180700 = (int64_t) 4 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180701 = block_sizze_171446 * binop_x_180700;
    int64_t binop_x_180703 = (int64_t) 8 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180704 = block_sizze_171446 * binop_x_180703;
    int64_t bytes_180714 = (int64_t) 4 * block_sizze_171446;
    int64_t bytes_180716 = (int64_t) 8 * block_sizze_171446;
    bool loop_cond_171550 = slt64(block_sizze_171446, flat_dim_171447);
    bool zzero_171551 = merge_block_sizze_171450 == (int64_t) 0;
    bool nonzzero_171552 = !zzero_171551;
    
    if (cond_171430) {
        if (memblock_set(ctx, &ext_mem_180904, &mem_180699, "mem_180699") != 0)
            return 1;
    } else {
        if (mem_180702_cached_sizze_182400 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180702, &mem_180702_cached_sizze_182400, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180705_cached_sizze_182401 < bytes_180704) {
            err = lexical_realloc(ctx, &mem_180705, &mem_180705_cached_sizze_182401, bytes_180704);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180715_cached_sizze_182402 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182402, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180717_cached_sizze_182403 < bytes_180716) {
            err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182403, bytes_180716);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180370 = 0; i_180370 < smallest_pow_2_geq_than_res_171436; i_180370++) {
            int64_t zp_lhs_171483 = mul64(block_sizze_171446, i_180370);
            
            for (int64_t i_180363 = 0; i_180363 < block_sizze_171446; i_180363++) {
                int64_t k_171487 = add64(zp_lhs_171483, i_180363);
                bool cond_171488 = slt64(k_171487, n_100933);
                int32_t lifted_lambda_res_171489;
                int64_t lifted_lambda_res_171490;
                
                if (cond_171488) {
                    bool x_178208 = sle64((int64_t) 0, k_171487);
                    bool bounds_check_178209 = cond_171488 && x_178208;
                    bool index_certs_178210;
                    
                    if (!bounds_check_178209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171487, "] out of bounds for array of shape [", (long long) n_100933, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_178211 = ((int32_t *) xs_mem_180696.mem)[k_171487];
                    
                    lifted_lambda_res_171489 = lifted_lambda_res_t_res_178211;
                    lifted_lambda_res_171490 = k_171487;
                } else {
                    lifted_lambda_res_171489 = defunc_0_reduce_res_178355;
                    lifted_lambda_res_171490 = defunc_0_reduce_res_178356;
                }
                ((int32_t *) mem_180715)[i_180363] = lifted_lambda_res_171489;
                ((int64_t *) mem_180717)[i_180363] = lifted_lambda_res_171490;
            }
            if (!cond_171473) {
                for (int64_t i_171499 = 0; i_171499 < distance_171476; i_171499++) {
                    int64_t gt_arg1_171502 = add64((int64_t) 1, i_171499);
                    bool x_171503 = sle64((int64_t) 0, gt_arg1_171502);
                    bool y_171504 = slt64(gt_arg1_171502, block_sizze_171446);
                    bool bounds_check_171505 = x_171503 && y_171504;
                    bool index_certs_171506;
                    
                    if (!bounds_check_171505) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171502, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171508 = slt64(i_171499, block_sizze_171446);
                    bool index_certs_171509;
                    
                    if (!y_171508) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171499, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_171507 = ((int32_t *) mem_180715)[gt_arg1_171502];
                    int32_t gt_arg0_171510 = ((int32_t *) mem_180715)[i_171499];
                    bool zlze_res_171511 = sle32(gt_arg0_171510, gt_arg1_171507);
                    bool defunc_0_lifted_gt_res_171512 = !zlze_res_171511;
                    bool s_171513;
                    int64_t s_171516;
                    bool loop_while_171517;
                    int64_t j_171520;
                    
                    loop_while_171517 = defunc_0_lifted_gt_res_171512;
                    j_171520 = i_171499;
                    while (loop_while_171517) {
                        bool x_171521 = sle64((int64_t) 0, j_171520);
                        bool y_171522 = slt64(j_171520, block_sizze_171446);
                        bool bounds_check_171523 = x_171521 && y_171522;
                        bool index_certs_171524;
                        
                        if (!bounds_check_171523) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171520, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171527 = add64((int64_t) 1, j_171520);
                        bool x_171528 = sle64((int64_t) 0, copy_arg0_171527);
                        bool y_171529 = slt64(copy_arg0_171527, block_sizze_171446);
                        bool bounds_check_171530 = x_171528 && y_171529;
                        bool index_certs_171531;
                        
                        if (!bounds_check_171530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171527, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_171525 = ((int32_t *) mem_180715)[j_171520];
                        int64_t copy_arg0_171526 = ((int64_t *) mem_180717)[j_171520];
                        int32_t copy_arg0_171532 = ((int32_t *) mem_180715)[copy_arg0_171527];
                        int64_t copy_arg0_171533 = ((int64_t *) mem_180717)[copy_arg0_171527];
                        
                        ((int32_t *) mem_180715)[j_171520] = copy_arg0_171532;
                        ((int64_t *) mem_180717)[j_171520] = copy_arg0_171533;
                        ((int32_t *) mem_180715)[copy_arg0_171527] = copy_arg0_171525;
                        ((int64_t *) mem_180717)[copy_arg0_171527] = copy_arg0_171526;
                        
                        int64_t tmp_171538 = sub64(j_171520, (int64_t) 1);
                        bool cond_171539 = sle64((int64_t) 0, tmp_171538);
                        bool loop_cond_171540;
                        
                        if (cond_171539) {
                            bool y_178213 = slt64(tmp_171538, block_sizze_171446);
                            bool bounds_check_178214 = cond_171539 && y_178213;
                            bool index_certs_178215;
                            
                            if (!bounds_check_178214) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171538, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_178212 = ((int32_t *) mem_180715)[j_171520];
                            int32_t gt_arg0_178216 = ((int32_t *) mem_180715)[tmp_171538];
                            bool zlze_res_178217 = sle32(gt_arg0_178216, gt_arg1_178212);
                            bool defunc_0_lifted_gt_res_178218 = !zlze_res_178217;
                            
                            loop_cond_171540 = defunc_0_lifted_gt_res_178218;
                        } else {
                            loop_cond_171540 = 0;
                        }
                        
                        bool loop_while_tmp_182124 = loop_cond_171540;
                        int64_t j_tmp_182127 = tmp_171538;
                        
                        loop_while_171517 = loop_while_tmp_182124;
                        j_171520 = j_tmp_182127;
                    }
                    s_171513 = loop_while_171517;
                    s_171516 = j_171520;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180715, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180705, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180717, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
        }
        if (memblock_alloc(ctx, &mem_180770, bytes_180701, "mem_180770")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180770.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint32_t *) mem_180702, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        if (memblock_alloc(ctx, &mem_180774, bytes_180704, "mem_180774")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180774.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180705, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        
        int64_t data_171553;
        bool data_171554;
        int64_t data_171557;
        int64_t loop_dz2084Uz2082U_171558;
        bool loop_while_171559;
        int64_t stride_171562;
        
        if (memblock_set(ctx, &mem_param_180778, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180781, &mem_180774, "mem_180774") != 0)
            return 1;
        loop_dz2084Uz2082U_171558 = flat_dim_171447;
        loop_while_171559 = loop_cond_171550;
        stride_171562 = block_sizze_171446;
        while (loop_while_171559) {
            int64_t next_stride_171563 = mul64((int64_t) 2, stride_171562);
            bool zzero_171564 = next_stride_171563 == (int64_t) 0;
            bool nonzzero_171565 = !zzero_171564;
            bool nonzzero_cert_171566;
            
            if (!nonzzero_171565) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171567 = sdiv64(flat_dim_171447, next_stride_171563);
            bool bounds_invalid_upwards_171568 = slt64(num_merges_171567, (int64_t) 0);
            bool valid_171569 = !bounds_invalid_upwards_171568;
            bool range_valid_c_171570;
            
            if (!valid_171569) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171572 = sub64(next_stride_171563, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171573 = sle64((int64_t) 0, m_171572);
            bool cond_171575 = slt64(next_stride_171563, (int64_t) 10);
            bool protect_assert_disj_171576 = nonzzero_171552 || cond_171575;
            bool nonzzero_cert_171577;
            
            if (!protect_assert_disj_171576) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171578 = smod_safe64(next_stride_171563, merge_block_sizze_171450);
            bool num_blocks_171579 = zeze_lhs_171578 == (int64_t) 0;
            bool protect_assert_disj_171580 = cond_171575 || num_blocks_171579;
            bool assert_c_171581;
            
            if (!protect_assert_disj_171580) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171583 = sdiv_safe64(next_stride_171563, merge_block_sizze_171450);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584 = add64((int64_t) 1, num_blocks_171583);
            int64_t j_m_i_171585 = sub64(next_stride_171563, stride_171562);
            int64_t flat_dim_171586 = merge_block_sizze_171450 * num_blocks_171583;
            bool bounds_invalid_upwards_171587 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, (int64_t) 0);
            bool zzero_lte_i_171588 = sle64((int64_t) 0, stride_171562);
            bool i_lte_j_171589 = sle64(stride_171562, next_stride_171563);
            bool empty_slice_171590 = stride_171562 == (int64_t) 0;
            int64_t m_171591 = sub64(stride_171562, (int64_t) 1);
            bool bounds_invalid_upwards_171592 = slt64(num_blocks_171583, (int64_t) 0);
            bool empty_slice_171593 = j_m_i_171585 == (int64_t) 0;
            int64_t m_171594 = sub64(j_m_i_171585, (int64_t) 1);
            bool cond_171595 = slt64((int64_t) 0, stride_171562);
            bool valid_171596 = !bounds_invalid_upwards_171587;
            bool zzero_leq_i_p_m_t_s_171597 = sle64((int64_t) 0, m_171591);
            bool i_p_m_t_s_leq_w_171598 = slt64(m_171591, next_stride_171563);
            bool valid_171599 = !bounds_invalid_upwards_171592;
            bool i_p_m_t_s_leq_w_171600 = slt64(m_171572, flat_dim_171586);
            int64_t i_p_m_t_s_171601 = add64(stride_171562, m_171594);
            bool y_171602 = slt64((int64_t) 0, j_m_i_171585);
            bool protect_assert_disj_171603 = cond_171575 || valid_171596;
            bool range_valid_c_171604;
            
            if (!protect_assert_disj_171603) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171605 = zzero_leq_i_p_m_t_s_171597 && i_p_m_t_s_leq_w_171598;
            bool protect_assert_disj_171606 = cond_171575 || valid_171599;
            bool range_valid_c_171607;
            
            if (!protect_assert_disj_171606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171583, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171608 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171600;
            bool zzero_leq_i_p_m_t_s_171609 = sle64((int64_t) 0, i_p_m_t_s_171601);
            bool i_p_m_t_s_leq_w_171610 = slt64(i_p_m_t_s_171601, next_stride_171563);
            bool forwards_ok_171611 = zzero_lte_i_171588 && y_171605;
            bool ok_or_empty_171612 = zzero_171564 || y_171608;
            bool y_171613 = zzero_lte_i_171588 && i_p_m_t_s_leq_w_171610;
            bool protect_assert_disj_171614 = cond_171595 || y_171602;
            bool ok_or_empty_171615 = empty_slice_171590 || forwards_ok_171611;
            bool protect_assert_disj_171616 = cond_171575 || ok_or_empty_171612;
            bool index_certs_171617;
            
            if (!protect_assert_disj_171616) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) flat_dim_171586, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171618 = zzero_leq_i_p_m_t_s_171609 && y_171613;
            bool loop_not_taken_171619 = !cond_171575;
            bool protect_assert_disj_171620 = protect_assert_disj_171614 || loop_not_taken_171619;
            bool index_certs_171621;
            
            if (!protect_assert_disj_171620) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171622 = cond_171575 || ok_or_empty_171615;
            bool index_certs_171623;
            
            if (!protect_assert_disj_171622) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171624 = i_lte_j_171589 && y_171618;
            bool protect_assert_disj_171625 = ok_or_empty_171615 || loop_not_taken_171619;
            bool index_certs_171626;
            
            if (!protect_assert_disj_171625) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171627 = empty_slice_171593 || forwards_ok_171624;
            bool protect_assert_disj_171628 = loop_not_taken_171619 || ok_or_empty_171627;
            bool index_certs_171629;
            
            if (!protect_assert_disj_171628) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171630 = cond_171575 || ok_or_empty_171627;
            bool index_certs_171631;
            
            if (!protect_assert_disj_171630) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180782 = (int64_t) 4 * num_merges_171567;
            int64_t bytes_180783 = next_stride_171563 * binop_x_180782;
            int64_t binop_x_180785 = (int64_t) 8 * num_merges_171567;
            int64_t bytes_180786 = next_stride_171563 * binop_x_180785;
            bool i_lte_j_171574 = sle64((int64_t) 0, next_stride_171563);
            
            if (mem_180784_cached_sizze_182404 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182404, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180787_cached_sizze_182405 < bytes_180786) {
                err = lexical_realloc(ctx, &mem_180787, &mem_180787_cached_sizze_182405, bytes_180786);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180796 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584;
            int64_t binop_x_180812 = (int64_t) 4 * num_blocks_171583;
            int64_t bytes_180813 = merge_block_sizze_171450 * binop_x_180812;
            int64_t binop_x_180815 = (int64_t) 8 * num_blocks_171583;
            int64_t bytes_180816 = merge_block_sizze_171450 * binop_x_180815;
            int64_t bytes_180858 = (int64_t) 8 * stride_171562;
            int64_t bytes_180860 = (int64_t) 16 * stride_171562;
            
            for (int64_t i_180391 = 0; i_180391 < num_merges_171567; i_180391++) {
                int64_t start_171635 = mul64(next_stride_171563, i_180391);
                int64_t j_m_i_171636 = sub64(loop_dz2084Uz2082U_171558, start_171635);
                bool empty_slice_171637 = j_m_i_171636 == (int64_t) 0;
                int64_t m_171638 = sub64(j_m_i_171636, (int64_t) 1);
                int64_t i_p_m_t_s_171639 = add64(start_171635, m_171638);
                bool zzero_leq_i_p_m_t_s_171640 = sle64((int64_t) 0, i_p_m_t_s_171639);
                bool i_p_m_t_s_leq_w_171641 = slt64(i_p_m_t_s_171639, loop_dz2084Uz2082U_171558);
                bool zzero_lte_i_171642 = sle64((int64_t) 0, start_171635);
                bool i_lte_j_171643 = sle64(start_171635, loop_dz2084Uz2082U_171558);
                bool y_171644 = i_p_m_t_s_leq_w_171641 && zzero_lte_i_171642;
                bool y_171645 = zzero_leq_i_p_m_t_s_171640 && y_171644;
                bool forwards_ok_171646 = i_lte_j_171643 && y_171645;
                bool ok_or_empty_171647 = empty_slice_171637 || forwards_ok_171646;
                bool index_certs_171648;
                
                if (!ok_or_empty_171647) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171635, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171558, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171649 = slt64(m_171572, j_m_i_171636);
                bool y_171650 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171649;
                bool forwards_ok_171651 = i_lte_j_171574 && y_171650;
                bool ok_or_empty_171652 = zzero_171564 || forwards_ok_171651;
                bool index_certs_171653;
                
                if (!ok_or_empty_171652) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) j_m_i_171636, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171575) {
                    int32_t dummy_178244;
                    int64_t dummy_178245;
                    
                    if (cond_171595) {
                        int32_t head_res_178246 = ((int32_t *) mem_param_180778.mem)[start_171635];
                        int64_t head_res_178247 = ((int64_t *) mem_param_180781.mem)[start_171635];
                        
                        dummy_178244 = head_res_178246;
                        dummy_178245 = head_res_178247;
                    } else {
                        int64_t slice_178248 = stride_171562 + start_171635;
                        int32_t head_res_178249 = ((int32_t *) mem_param_180778.mem)[slice_178248];
                        int64_t head_res_178250 = ((int64_t *) mem_param_180781.mem)[slice_178248];
                        
                        dummy_178244 = head_res_178249;
                        dummy_178245 = head_res_178250;
                    }
                    if (memblock_alloc(ctx, &mem_180859, bytes_180858, "mem_180859")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182137 = 0; nest_i_182137 < next_stride_171563; nest_i_182137++) {
                        ((int32_t *) mem_180859.mem)[nest_i_182137] = dummy_178244;
                    }
                    if (memblock_alloc(ctx, &mem_180861, bytes_180860, "mem_180861")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182138 = 0; nest_i_182138 < next_stride_171563; nest_i_182138++) {
                        ((int64_t *) mem_180861.mem)[nest_i_182138] = dummy_178245;
                    }
                    
                    int64_t data_178253;
                    int64_t i_178257 = (int64_t) 0;
                    
                    for (int64_t k_178256 = 0; k_178256 < next_stride_171563; k_178256++) {
                        int64_t j_178260 = sub64(k_178256, i_178257);
                        bool cond_178261 = j_178260 == j_m_i_171585;
                        bool cond_178262;
                        
                        if (cond_178261) {
                            cond_178262 = 1;
                        } else {
                            bool cond_178263 = slt64(i_178257, stride_171562);
                            bool cond_f_res_178264;
                            
                            if (cond_178263) {
                                bool x_178265 = sle64((int64_t) 0, j_178260);
                                bool y_178266 = slt64(j_178260, j_m_i_171585);
                                bool bounds_check_178267 = x_178265 && y_178266;
                                bool index_certs_178268;
                                
                                if (!bounds_check_178267) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178272 = sle64((int64_t) 0, i_178257);
                                bool bounds_check_178273 = cond_178263 && x_178272;
                                bool index_certs_178274;
                                
                                if (!bounds_check_178273) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178269 = stride_171562 + j_178260;
                                int64_t slice_178270 = start_171635 + slice_178269;
                                int32_t leq_arg1_178271 = ((int32_t *) mem_param_180778.mem)[slice_178270];
                                int64_t slice_178275 = start_171635 + i_178257;
                                int32_t leq_arg0_178276 = ((int32_t *) mem_param_180778.mem)[slice_178275];
                                bool zlze_res_178277 = sle32(leq_arg0_178276, leq_arg1_178271);
                                
                                cond_f_res_178264 = zlze_res_178277;
                            } else {
                                cond_f_res_178264 = 0;
                            }
                            cond_178262 = cond_f_res_178264;
                        }
                        
                        int64_t loopres_178278;
                        int32_t loopres_178279;
                        int64_t loopres_178280;
                        
                        if (cond_178262) {
                            bool x_178282 = sle64((int64_t) 0, i_178257);
                            bool y_178283 = slt64(i_178257, stride_171562);
                            bool bounds_check_178284 = x_178282 && y_178283;
                            bool index_certs_178285;
                            
                            if (!bounds_check_178284) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178281 = add64((int64_t) 1, i_178257);
                            int64_t slice_178286 = start_171635 + i_178257;
                            int32_t tmp_178287 = ((int32_t *) mem_param_180778.mem)[slice_178286];
                            int64_t tmp_178288 = ((int64_t *) mem_param_180781.mem)[slice_178286];
                            
                            loopres_178278 = tmp_178281;
                            loopres_178279 = tmp_178287;
                            loopres_178280 = tmp_178288;
                        } else {
                            bool x_178289 = sle64((int64_t) 0, j_178260);
                            bool y_178290 = slt64(j_178260, j_m_i_171585);
                            bool bounds_check_178291 = x_178289 && y_178290;
                            bool index_certs_178292;
                            
                            if (!bounds_check_178291) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178293 = stride_171562 + j_178260;
                            int64_t slice_178294 = start_171635 + slice_178293;
                            int32_t tmp_178295 = ((int32_t *) mem_param_180778.mem)[slice_178294];
                            int64_t tmp_178296 = ((int64_t *) mem_param_180781.mem)[slice_178294];
                            
                            loopres_178278 = i_178257;
                            loopres_178279 = tmp_178295;
                            loopres_178280 = tmp_178296;
                        }
                        ((int32_t *) mem_180859.mem)[k_178256] = loopres_178279;
                        ((int64_t *) mem_180861.mem)[k_178256] = loopres_178280;
                        
                        int64_t i_tmp_182139 = loopres_178278;
                        
                        i_178257 = i_tmp_182139;
                    }
                    data_178253 = i_178257;
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180859, "mem_180859") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180861, "mem_180861") != 0)
                        return 1;
                } else {
                    if (mem_180797_cached_sizze_182406 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180797, &mem_180797_cached_sizze_182406, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180799_cached_sizze_182407 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180799, &mem_180799_cached_sizze_182407, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180377 = 0; i_180377 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584; i_180377++) {
                        int64_t split_count_arg3_171715 = mul64(merge_block_sizze_171450, i_180377);
                        int64_t defunc_0_split_count_res_171716;
                        int64_t defunc_0_split_count_res_171717;
                        int64_t defunc_0_split_count_res_171718;
                        int64_t defunc_0_split_count_res_171719;
                        int64_t defunc_0_split_count_res_171720;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_171716, &defunc_0_split_count_res_171717, &defunc_0_split_count_res_171718, &defunc_0_split_count_res_171719, &defunc_0_split_count_res_171720, (int64_t) 0, stride_171562, (int64_t) 0, j_m_i_171585, split_count_arg3_171715) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171721 = slt64((int64_t) 0, defunc_0_split_count_res_171720);
                        bool defunc_0_split_count_res_171722;
                        int64_t defunc_0_split_count_res_171723;
                        int64_t defunc_0_split_count_res_171724;
                        int64_t defunc_0_split_count_res_171725;
                        int64_t defunc_0_split_count_res_171726;
                        int64_t defunc_0_split_count_res_171727;
                        bool loop_while_171728;
                        int64_t ss_171729;
                        int64_t ss_171730;
                        int64_t tt_171731;
                        int64_t tt_171732;
                        int64_t count_171733;
                        
                        loop_while_171728 = loop_cond_171721;
                        ss_171729 = defunc_0_split_count_res_171716;
                        ss_171730 = defunc_0_split_count_res_171717;
                        tt_171731 = defunc_0_split_count_res_171718;
                        tt_171732 = defunc_0_split_count_res_171719;
                        count_171733 = defunc_0_split_count_res_171720;
                        while (loop_while_171728) {
                            int64_t zlze_lhs_171734 = sub64(ss_171730, ss_171729);
                            bool cond_171735 = sle64(zlze_lhs_171734, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171736;
                            int64_t defunc_0_lifted_step_res_171737;
                            int64_t defunc_0_lifted_step_res_171738;
                            int64_t defunc_0_lifted_step_res_171739;
                            
                            if (cond_171735) {
                                int64_t tmp_178299 = add64(tt_171731, count_171733);
                                
                                defunc_0_lifted_step_res_171736 = ss_171729;
                                defunc_0_lifted_step_res_171737 = tmp_178299;
                                defunc_0_lifted_step_res_171738 = tt_171732;
                                defunc_0_lifted_step_res_171739 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171741 = sub64(tt_171732, tt_171731);
                                bool cond_171742 = sle64(zlze_lhs_171741, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171743;
                                int64_t defunc_0_lifted_step_res_f_res_171744;
                                int64_t defunc_0_lifted_step_res_f_res_171745;
                                int64_t defunc_0_lifted_step_res_f_res_171746;
                                
                                if (cond_171742) {
                                    int64_t tmp_178300 = add64(ss_171729, count_171733);
                                    
                                    defunc_0_lifted_step_res_f_res_171743 = tmp_178300;
                                    defunc_0_lifted_step_res_f_res_171744 = tt_171731;
                                    defunc_0_lifted_step_res_f_res_171745 = tt_171732;
                                    defunc_0_lifted_step_res_f_res_171746 = (int64_t) 0;
                                } else {
                                    bool cond_171748 = count_171733 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171749;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171750;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171751;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171752;
                                    
                                    if (cond_171748) {
                                        bool x_178302 = sle64((int64_t) 0, ss_171729);
                                        bool y_178303 = slt64(ss_171729, stride_171562);
                                        bool bounds_check_178304 = x_178302 && y_178303;
                                        bool index_certs_178305;
                                        
                                        if (!bounds_check_178304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171729, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178308 = sle64((int64_t) 0, tt_171731);
                                        bool y_178309 = slt64(tt_171731, j_m_i_171585);
                                        bool bounds_check_178310 = x_178308 && y_178309;
                                        bool index_certs_178311;
                                        
                                        if (!bounds_check_178310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171731, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178306 = start_171635 + ss_171729;
                                        int32_t leq_arg1_178307 = ((int32_t *) mem_param_180778.mem)[slice_178306];
                                        int64_t slice_178312 = stride_171562 + tt_171731;
                                        int64_t slice_178313 = start_171635 + slice_178312;
                                        int32_t leq_arg0_178314 = ((int32_t *) mem_param_180778.mem)[slice_178313];
                                        bool zlze_res_178315 = sle32(leq_arg0_178314, leq_arg1_178307);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        
                                        if (zlze_res_178315) {
                                            int64_t tmp_178318 = add64((int64_t) 1, tt_171731);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = ss_171729;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tmp_178318;
                                        } else {
                                            int64_t tmp_178319 = add64((int64_t) 1, ss_171729);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = tmp_178319;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tt_171731;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = tt_171732;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = (int64_t) 0;
                                    } else {
                                        int64_t m_171771 = sdiv64(count_171733, (int64_t) 2);
                                        int64_t n_171772 = sub64(count_171733, m_171771);
                                        bool cond_171773 = n_171772 == (int64_t) 0;
                                        int64_t zgze_lhs_171774 = add64(ss_171729, m_171771);
                                        bool cond_f_res_171775 = sle64(ss_171730, zgze_lhs_171774);
                                        bool x_171776 = !cond_171773;
                                        bool y_171777 = cond_f_res_171775 && x_171776;
                                        bool cond_171778 = cond_171773 || y_171777;
                                        bool leq_y_x_171779;
                                        
                                        if (cond_171778) {
                                            leq_y_x_171779 = 1;
                                        } else {
                                            bool x_171780 = sle64((int64_t) 0, zgze_lhs_171774);
                                            bool y_171781 = slt64(zgze_lhs_171774, stride_171562);
                                            bool bounds_check_171782 = x_171780 && y_171781;
                                            bool index_certs_171783;
                                            
                                            if (!bounds_check_171782) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171774, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171786 = add64(tt_171731, n_171772);
                                            int64_t leq_arg0_171787 = sub64(zm_lhs_171786, (int64_t) 1);
                                            bool x_171788 = sle64((int64_t) 0, leq_arg0_171787);
                                            bool y_171789 = slt64(leq_arg0_171787, j_m_i_171585);
                                            bool bounds_check_171790 = x_171788 && y_171789;
                                            bool index_certs_171791;
                                            
                                            if (!bounds_check_171790) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171787, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171784 = start_171635 + zgze_lhs_171774;
                                            int32_t leq_arg1_171785 = ((int32_t *) mem_param_180778.mem)[slice_171784];
                                            int64_t slice_171792 = stride_171562 + leq_arg0_171787;
                                            int64_t slice_171793 = start_171635 + slice_171792;
                                            int32_t leq_arg0_171794 = ((int32_t *) mem_param_180778.mem)[slice_171793];
                                            bool zlze_res_171795 = sle32(leq_arg0_171794, leq_arg1_171785);
                                            
                                            leq_y_x_171779 = zlze_res_171795;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                        
                                        if (leq_y_x_171779) {
                                            int64_t tmp_178320 = add64(tt_171731, n_171772);
                                            int64_t tmp_178321 = sub64(count_171733, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tmp_178320;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tt_171732;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = tmp_178321;
                                        } else {
                                            int64_t tmp_171801 = add64(tt_171731, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tt_171731;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tmp_171801;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = count_171733;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = ss_171729;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                    }
                                    defunc_0_lifted_step_res_f_res_171743 = defunc_0_lifted_step_res_f_res_f_res_171749;
                                    defunc_0_lifted_step_res_f_res_171744 = defunc_0_lifted_step_res_f_res_f_res_171750;
                                    defunc_0_lifted_step_res_f_res_171745 = defunc_0_lifted_step_res_f_res_f_res_171751;
                                    defunc_0_lifted_step_res_f_res_171746 = defunc_0_lifted_step_res_f_res_f_res_171752;
                                }
                                defunc_0_lifted_step_res_171736 = defunc_0_lifted_step_res_f_res_171743;
                                defunc_0_lifted_step_res_171737 = defunc_0_lifted_step_res_f_res_171744;
                                defunc_0_lifted_step_res_171738 = defunc_0_lifted_step_res_f_res_171745;
                                defunc_0_lifted_step_res_171739 = defunc_0_lifted_step_res_f_res_171746;
                            }
                            
                            int64_t loopres_171802;
                            int64_t loopres_171803;
                            int64_t loopres_171804;
                            int64_t loopres_171805;
                            int64_t loopres_171806;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_171802, &loopres_171803, &loopres_171804, &loopres_171805, &loopres_171806, defunc_0_lifted_step_res_171736, ss_171730, defunc_0_lifted_step_res_171737, defunc_0_lifted_step_res_171738, defunc_0_lifted_step_res_171739) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171807 = slt64((int64_t) 0, loopres_171806);
                            bool loop_while_tmp_182144 = loop_cond_171807;
                            int64_t ss_tmp_182145 = loopres_171802;
                            int64_t ss_tmp_182146 = loopres_171803;
                            int64_t tt_tmp_182147 = loopres_171804;
                            int64_t tt_tmp_182148 = loopres_171805;
                            int64_t count_tmp_182149 = loopres_171806;
                            
                            loop_while_171728 = loop_while_tmp_182144;
                            ss_171729 = ss_tmp_182145;
                            ss_171730 = ss_tmp_182146;
                            tt_171731 = tt_tmp_182147;
                            tt_171732 = tt_tmp_182148;
                            count_171733 = count_tmp_182149;
                        }
                        defunc_0_split_count_res_171722 = loop_while_171728;
                        defunc_0_split_count_res_171723 = ss_171729;
                        defunc_0_split_count_res_171724 = ss_171730;
                        defunc_0_split_count_res_171725 = tt_171731;
                        defunc_0_split_count_res_171726 = tt_171732;
                        defunc_0_split_count_res_171727 = count_171733;
                        ((int64_t *) mem_180797)[i_180377] = defunc_0_split_count_res_171723;
                        ((int64_t *) mem_180799)[i_180377] = defunc_0_split_count_res_171725;
                    }
                    if (mem_180814_cached_sizze_182408 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182408, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180817_cached_sizze_182409 < bytes_180816) {
                        err = lexical_realloc(ctx, &mem_180817, &mem_180817_cached_sizze_182409, bytes_180816);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180384 = 0; i_180384 < num_blocks_171583; i_180384++) {
                        bool y_171813 = slt64(i_180384, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool index_certs_171815;
                        
                        if (!y_171813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180384, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171816 = ((int64_t *) mem_180797)[i_180384];
                        int64_t defunc_0_f_res_171817 = ((int64_t *) mem_180799)[i_180384];
                        int64_t tmp_171818 = add64((int64_t) 1, i_180384);
                        bool x_171819 = sle64((int64_t) 0, tmp_171818);
                        bool y_171820 = slt64(tmp_171818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool bounds_check_171821 = x_171819 && y_171820;
                        bool index_certs_171822;
                        
                        if (!bounds_check_171821) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171818, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171823 = ((int64_t *) mem_180797)[tmp_171818];
                        int64_t defunc_0_f_res_171824 = ((int64_t *) mem_180799)[tmp_171818];
                        int64_t merge_sequential_arg2_171825 = add64(stride_171562, defunc_0_f_res_171817);
                        int64_t merge_sequential_arg2_171826 = add64(stride_171562, defunc_0_f_res_171824);
                        int64_t j_m_i_171827 = sub64(merge_sequential_arg2_171826, merge_sequential_arg2_171825);
                        bool empty_slice_171828 = j_m_i_171827 == (int64_t) 0;
                        int64_t m_171829 = sub64(j_m_i_171827, (int64_t) 1);
                        int64_t i_p_m_t_s_171830 = add64(merge_sequential_arg2_171825, m_171829);
                        bool zzero_leq_i_p_m_t_s_171831 = sle64((int64_t) 0, i_p_m_t_s_171830);
                        bool i_p_m_t_s_leq_w_171832 = slt64(i_p_m_t_s_171830, next_stride_171563);
                        bool zzero_lte_i_171833 = sle64((int64_t) 0, merge_sequential_arg2_171825);
                        bool i_lte_j_171834 = sle64(merge_sequential_arg2_171825, merge_sequential_arg2_171826);
                        bool y_171835 = i_p_m_t_s_leq_w_171832 && zzero_lte_i_171833;
                        bool y_171836 = zzero_leq_i_p_m_t_s_171831 && y_171835;
                        bool forwards_ok_171837 = i_lte_j_171834 && y_171836;
                        bool ok_or_empty_171838 = empty_slice_171828 || forwards_ok_171837;
                        bool index_certs_171839;
                        
                        if (!ok_or_empty_171838) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171825, ":", (long long) merge_sequential_arg2_171826, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171840 = sub64(defunc_0_f_res_171823, defunc_0_f_res_171816);
                        bool empty_slice_171841 = j_m_i_171840 == (int64_t) 0;
                        int64_t m_171842 = sub64(j_m_i_171840, (int64_t) 1);
                        int64_t i_p_m_t_s_171843 = add64(defunc_0_f_res_171816, m_171842);
                        bool zzero_leq_i_p_m_t_s_171844 = sle64((int64_t) 0, i_p_m_t_s_171843);
                        bool i_p_m_t_s_leq_w_171845 = slt64(i_p_m_t_s_171843, next_stride_171563);
                        bool zzero_lte_i_171846 = sle64((int64_t) 0, defunc_0_f_res_171816);
                        bool i_lte_j_171847 = sle64(defunc_0_f_res_171816, defunc_0_f_res_171823);
                        bool y_171848 = i_p_m_t_s_leq_w_171845 && zzero_lte_i_171846;
                        bool y_171849 = zzero_leq_i_p_m_t_s_171844 && y_171848;
                        bool forwards_ok_171850 = i_lte_j_171847 && y_171849;
                        bool ok_or_empty_171851 = empty_slice_171841 || forwards_ok_171850;
                        bool index_certs_171852;
                        
                        if (!ok_or_empty_171851) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171816, ":", (long long) defunc_0_f_res_171823, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171853 = slt64((int64_t) 0, j_m_i_171840);
                        int32_t dummy_171854;
                        int64_t dummy_171855;
                        
                        if (cond_171853) {
                            bool index_certs_178322;
                            
                            if (!cond_171853) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178323 = start_171635 + defunc_0_f_res_171816;
                            int32_t head_res_178324 = ((int32_t *) mem_param_180778.mem)[slice_178323];
                            int64_t head_res_178325 = ((int64_t *) mem_param_180781.mem)[slice_178323];
                            
                            dummy_171854 = head_res_178324;
                            dummy_171855 = head_res_178325;
                        } else {
                            bool y_171860 = slt64((int64_t) 0, j_m_i_171827);
                            bool index_certs_171861;
                            
                            if (!y_171860) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171862 = start_171635 + merge_sequential_arg2_171825;
                            int32_t head_res_171863 = ((int32_t *) mem_param_180778.mem)[slice_171862];
                            int64_t head_res_171864 = ((int64_t *) mem_param_180781.mem)[slice_171862];
                            
                            dummy_171854 = head_res_171863;
                            dummy_171855 = head_res_171864;
                        }
                        for (int64_t nest_i_182152 = 0; nest_i_182152 < merge_block_sizze_171450; nest_i_182152++) {
                            ((int32_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + nest_i_182152] = dummy_171854;
                        }
                        for (int64_t nest_i_182153 = 0; nest_i_182153 < merge_block_sizze_171450; nest_i_182153++) {
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + nest_i_182153] = dummy_171855;
                        }
                        
                        int64_t data_171867;
                        int64_t i_171871 = (int64_t) 0;
                        
                        for (int64_t k_171870 = 0; k_171870 < merge_block_sizze_171450; k_171870++) {
                            int64_t j_171874 = sub64(k_171870, i_171871);
                            bool cond_171875 = j_171874 == j_m_i_171827;
                            bool cond_171876;
                            
                            if (cond_171875) {
                                cond_171876 = 1;
                            } else {
                                bool cond_171877 = slt64(i_171871, j_m_i_171840);
                                bool cond_f_res_171878;
                                
                                if (cond_171877) {
                                    bool x_178326 = sle64((int64_t) 0, j_171874);
                                    bool y_178327 = slt64(j_171874, j_m_i_171827);
                                    bool bounds_check_178328 = x_178326 && y_178327;
                                    bool index_certs_178329;
                                    
                                    if (!bounds_check_178328) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178333 = sle64((int64_t) 0, i_171871);
                                    bool bounds_check_178334 = cond_171877 && x_178333;
                                    bool index_certs_178335;
                                    
                                    if (!bounds_check_178334) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178330 = merge_sequential_arg2_171825 + j_171874;
                                    int64_t slice_178331 = start_171635 + slice_178330;
                                    int32_t leq_arg1_178332 = ((int32_t *) mem_param_180778.mem)[slice_178331];
                                    int64_t slice_178336 = defunc_0_f_res_171816 + i_171871;
                                    int64_t slice_178337 = start_171635 + slice_178336;
                                    int32_t leq_arg0_178338 = ((int32_t *) mem_param_180778.mem)[slice_178337];
                                    bool zlze_res_178339 = sle32(leq_arg0_178338, leq_arg1_178332);
                                    
                                    cond_f_res_171878 = zlze_res_178339;
                                } else {
                                    cond_f_res_171878 = 0;
                                }
                                cond_171876 = cond_f_res_171878;
                            }
                            
                            int64_t loopres_171893;
                            int32_t loopres_171894;
                            int64_t loopres_171895;
                            
                            if (cond_171876) {
                                bool x_178341 = sle64((int64_t) 0, i_171871);
                                bool y_178342 = slt64(i_171871, j_m_i_171840);
                                bool bounds_check_178343 = x_178341 && y_178342;
                                bool index_certs_178344;
                                
                                if (!bounds_check_178343) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178340 = add64((int64_t) 1, i_171871);
                                int64_t slice_178345 = defunc_0_f_res_171816 + i_171871;
                                int64_t slice_178346 = start_171635 + slice_178345;
                                int32_t tmp_178347 = ((int32_t *) mem_param_180778.mem)[slice_178346];
                                int64_t tmp_178348 = ((int64_t *) mem_param_180781.mem)[slice_178346];
                                
                                loopres_171893 = tmp_178340;
                                loopres_171894 = tmp_178347;
                                loopres_171895 = tmp_178348;
                            } else {
                                bool x_171905 = sle64((int64_t) 0, j_171874);
                                bool y_171906 = slt64(j_171874, j_m_i_171827);
                                bool bounds_check_171907 = x_171905 && y_171906;
                                bool index_certs_171908;
                                
                                if (!bounds_check_171907) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171909 = merge_sequential_arg2_171825 + j_171874;
                                int64_t slice_171910 = start_171635 + slice_171909;
                                int32_t tmp_171911 = ((int32_t *) mem_param_180778.mem)[slice_171910];
                                int64_t tmp_171912 = ((int64_t *) mem_param_180781.mem)[slice_171910];
                                
                                loopres_171893 = i_171871;
                                loopres_171894 = tmp_171911;
                                loopres_171895 = tmp_171912;
                            }
                            ((int32_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171894;
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171895;
                            
                            int64_t i_tmp_182154 = loopres_171893;
                            
                            i_171871 = i_tmp_182154;
                        }
                        data_171867 = i_171871;
                    }
                    if (memblock_alloc(ctx, &mem_180852, bytes_180813, "mem_180852")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180852.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint32_t *) mem_180814, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_alloc(ctx, &mem_180856, bytes_180816, "mem_180856")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180856.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180817, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180852, "mem_180852") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180856, "mem_180856") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180784, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180879.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180787, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171919 = next_stride_171563 * num_merges_171567;
            
            if (memblock_alloc(ctx, &mem_180890, bytes_180783, "mem_180890")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint32_t *) mem_180784, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            if (memblock_alloc(ctx, &mem_180894, bytes_180786, "mem_180894")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180787, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            
            bool loop_cond_171922 = slt64(next_stride_171563, flat_dim_171447);
            
            if (memblock_set(ctx, &mem_param_tmp_182128, &mem_180890, "mem_180890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182129, &mem_180894, "mem_180894") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182130 = flat_dim_171919;
            bool loop_while_tmp_182131 = loop_cond_171922;
            int64_t stride_tmp_182134 = next_stride_171563;
            
            if (memblock_set(ctx, &mem_param_180778, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180781, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
                return 1;
            loop_dz2084Uz2082U_171558 = loop_dz2084Uz2082U_tmp_182130;
            loop_while_171559 = loop_while_tmp_182131;
            stride_171562 = stride_tmp_182134;
        }
        if (memblock_set(ctx, &ext_mem_180901, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180900, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        data_171553 = loop_dz2084Uz2082U_171558;
        data_171554 = loop_while_171559;
        data_171557 = stride_171562;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        
        bool empty_slice_171923 = n_100933 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171924 = sle64((int64_t) 0, zs_lhs_171431);
        bool i_p_m_t_s_leq_w_171925 = slt64(zs_lhs_171431, data_171553);
        bool y_171926 = zzero_leq_i_p_m_t_s_171924 && i_p_m_t_s_leq_w_171925;
        bool ok_or_empty_171927 = empty_slice_171923 || y_171926;
        bool index_certs_171928;
        
        if (!ok_or_empty_171927) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_100933, "] out of bounds for array of shape [", (long long) data_171553, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180904, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180906, bytes_180698, "mem_180906")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180908, bytes_180907, "mem_180908")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180398 = 0; i_180398 < n_100933; i_180398++) {
        int64_t eta_p_171932 = ((int64_t *) ext_mem_180904.mem)[i_180398];
        bool x_171933 = sle64((int64_t) 0, eta_p_171932);
        bool y_171934 = slt64(eta_p_171932, n_100933);
        bool bounds_check_171935 = x_171933 && y_171934;
        bool index_certs_171936;
        
        if (!bounds_check_171935) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171932, "] out of bounds for array of shape [", (long long) n_100933, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171937 = ((int64_t *) ext_mem_180697.mem)[eta_p_171932];
        int32_t lifted_lambda_res_171938 = ((int32_t *) xs_mem_180696.mem)[eta_p_171932];
        
        ((int64_t *) mem_180906.mem)[i_180398] = lifted_lambda_res_171937;
        ((int32_t *) mem_180908.mem)[i_180398] = lifted_lambda_res_171938;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180906, "mem_180906") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180908, "mem_180908") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182398, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182399, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180702);
        free(mem_180705);
        free(mem_180715);
        free(mem_180717);
        free(mem_180784);
        free(mem_180787);
        free(mem_180797);
        free(mem_180799);
        free(mem_180814);
        free(mem_180817);
        if (memblock_unref(ctx, &mem_180908, "mem_180908") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180906, "mem_180906") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180856, "mem_180856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180852, "mem_180852") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180861, "mem_180861") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180859, "mem_180859") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180901, "ext_mem_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182410, struct memblock *mem_out_p_182411, struct memblock xs_mem_180696, int64_t n_103276, int64_t incr_103277)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180702_cached_sizze_182412 = 0;
    unsigned char *mem_180702 = NULL;
    int64_t mem_180705_cached_sizze_182413 = 0;
    unsigned char *mem_180705 = NULL;
    int64_t mem_180715_cached_sizze_182414 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182415 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180784_cached_sizze_182416 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180787_cached_sizze_182417 = 0;
    unsigned char *mem_180787 = NULL;
    int64_t mem_180797_cached_sizze_182418 = 0;
    unsigned char *mem_180797 = NULL;
    int64_t mem_180799_cached_sizze_182419 = 0;
    unsigned char *mem_180799 = NULL;
    int64_t mem_180814_cached_sizze_182420 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180817_cached_sizze_182421 = 0;
    unsigned char *mem_180817 = NULL;
    struct memblock mem_180908;
    
    mem_180908.references = NULL;
    
    struct memblock mem_180906;
    
    mem_180906.references = NULL;
    
    struct memblock mem_param_tmp_182129;
    
    mem_param_tmp_182129.references = NULL;
    
    struct memblock mem_param_tmp_182128;
    
    mem_param_tmp_182128.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180856;
    
    mem_180856.references = NULL;
    
    struct memblock mem_180852;
    
    mem_180852.references = NULL;
    
    struct memblock mem_180861;
    
    mem_180861.references = NULL;
    
    struct memblock mem_180859;
    
    mem_180859.references = NULL;
    
    struct memblock ext_mem_180876;
    
    ext_mem_180876.references = NULL;
    
    struct memblock ext_mem_180879;
    
    ext_mem_180879.references = NULL;
    
    struct memblock mem_param_180781;
    
    mem_param_180781.references = NULL;
    
    struct memblock mem_param_180778;
    
    mem_param_180778.references = NULL;
    
    struct memblock ext_mem_180900;
    
    ext_mem_180900.references = NULL;
    
    struct memblock ext_mem_180901;
    
    ext_mem_180901.references = NULL;
    
    struct memblock mem_180774;
    
    mem_180774.references = NULL;
    
    struct memblock mem_180770;
    
    mem_180770.references = NULL;
    
    struct memblock ext_mem_180904;
    
    ext_mem_180904.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_103276;
    bool cond_171430 = sle64(n_103276, (int64_t) 1);
    int64_t zs_lhs_171431 = sub64(n_103276, (int64_t) 1);
    int64_t zp_rhs_171432 = sdiv_safe64(zs_lhs_171431, (int64_t) 20);
    int64_t min_num_blocks_171433 = add64((int64_t) 1, zp_rhs_171432);
    bool loop_cond_171434 = slt64((int64_t) 1, min_num_blocks_171433);
    bool smallest_pow_2_geq_than_res_171435;
    int64_t smallest_pow_2_geq_than_res_171436;
    bool loop_while_171437;
    int64_t x_171438;
    
    loop_while_171437 = loop_cond_171434;
    x_171438 = (int64_t) 1;
    while (loop_while_171437) {
        int64_t loopres_171439 = mul64((int64_t) 2, x_171438);
        bool loop_cond_171440 = slt64(loopres_171439, min_num_blocks_171433);
        bool loop_while_tmp_182112 = loop_cond_171440;
        int64_t x_tmp_182113 = loopres_171439;
        
        loop_while_171437 = loop_while_tmp_182112;
        x_171438 = x_tmp_182113;
    }
    smallest_pow_2_geq_than_res_171435 = loop_while_171437;
    smallest_pow_2_geq_than_res_171436 = x_171438;
    
    bool zzero_171441 = smallest_pow_2_geq_than_res_171436 == (int64_t) 0;
    bool nonzzero_171442 = !zzero_171441;
    bool protect_assert_disj_171443 = cond_171430 || nonzzero_171442;
    bool nonzzero_cert_171444;
    
    if (!protect_assert_disj_171443) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171445 = sdiv_safe64(zs_lhs_171431, smallest_pow_2_geq_than_res_171436);
    int64_t block_sizze_171446 = add64((int64_t) 1, zp_rhs_171445);
    bool y_171451 = slt64((int64_t) 0, n_103276);
    bool protect_assert_disj_181809 = cond_171430 || y_171451;
    bool index_certs_171452;
    
    if (!protect_assert_disj_181809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_103276, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171465 = slt64(smallest_pow_2_geq_than_res_171436, (int64_t) 0);
    bool valid_171466 = !bounds_invalid_upwards_171465;
    bool protect_assert_disj_181817 = cond_171430 || valid_171466;
    bool range_valid_c_171467;
    
    if (!protect_assert_disj_181817) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171436, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171469 = slt64(block_sizze_171446, (int64_t) 0);
    bool valid_171470 = !bounds_invalid_upwards_171469;
    bool protect_assert_disj_181819 = cond_171430 || valid_171470;
    bool range_valid_c_171471;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171446, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171473 = sle64(block_sizze_171446, (int64_t) 1);
    int64_t tmp_171474 = sub64(block_sizze_171446, (int64_t) 2);
    bool bounds_invalid_upwards_171475 = slt64(tmp_171474, (int64_t) 0);
    bool valid_171477 = !bounds_invalid_upwards_171475;
    bool protect_assert_disj_171478 = cond_171473 || valid_171477;
    bool protect_assert_disj_181821 = cond_171430 || protect_assert_disj_171478;
    bool range_valid_c_171479;
    
    if (!protect_assert_disj_181821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171474, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9393(ctx, &ext_mem_180697, xs_mem_180696, n_103276, incr_103277) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182114 = 0; i_182114 < n_103276; i_182114++) {
        int64_t x_182115 = (int64_t) 0 + i_182114 * (int64_t) 1;
        
        ((int64_t *) mem_180699.mem)[i_182114] = x_182115;
    }
    
    int64_t flat_dim_171447 = smallest_pow_2_geq_than_res_171436 * block_sizze_171446;
    bool x_181804 = !cond_171430;
    int64_t greatest_divisor_leq_than_arg1_171449 = mul64((int64_t) 2, block_sizze_171446);
    int64_t merge_block_sizze_171450;
    
    if (x_181804) {
        int64_t x_181806;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181806, (int64_t) 8, greatest_divisor_leq_than_arg1_171449) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171450 = x_181806;
    } else {
        merge_block_sizze_171450 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_171453;
    
    if (x_181804) {
        int64_t x_181810 = ((int64_t *) xs_mem_180696.mem)[(int64_t) 0];
        
        reduce_arg1_171453 = x_181810;
    } else {
        reduce_arg1_171453 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_178355;
    int64_t defunc_0_reduce_res_178356;
    
    if (x_181804) {
        int64_t x_181812;
        int64_t x_181813;
        int64_t redout_180356;
        int64_t redout_180357;
        
        redout_180356 = reduce_arg1_171453;
        redout_180357 = (int64_t) 0;
        for (int64_t i_180358 = 0; i_180358 < n_103276; i_180358++) {
            int64_t x_171456 = ((int64_t *) xs_mem_180696.mem)[i_180358];
            bool zlze_res_171462 = sle64(redout_180356, x_171456);
            int64_t defunc_0_op_res_171463;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171463 = x_171456;
            } else {
                defunc_0_op_res_171463 = redout_180356;
            }
            
            int64_t defunc_0_op_res_171464;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171464 = i_180358;
            } else {
                defunc_0_op_res_171464 = redout_180357;
            }
            
            int64_t redout_tmp_182116 = defunc_0_op_res_171463;
            int64_t redout_tmp_182117 = defunc_0_op_res_171464;
            
            redout_180356 = redout_tmp_182116;
            redout_180357 = redout_tmp_182117;
        }
        x_181812 = redout_180356;
        x_181813 = redout_180357;
        defunc_0_reduce_res_178355 = x_181812;
        defunc_0_reduce_res_178356 = x_181813;
    } else {
        defunc_0_reduce_res_178355 = (int64_t) 0;
        defunc_0_reduce_res_178356 = (int64_t) 0;
    }
    
    int64_t distance_171476 = add64((int64_t) 1, tmp_171474);
    int64_t binop_x_180700 = (int64_t) 8 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180701 = block_sizze_171446 * binop_x_180700;
    int64_t bytes_180714 = (int64_t) 8 * block_sizze_171446;
    bool loop_cond_171550 = slt64(block_sizze_171446, flat_dim_171447);
    bool zzero_171551 = merge_block_sizze_171450 == (int64_t) 0;
    bool nonzzero_171552 = !zzero_171551;
    
    if (cond_171430) {
        if (memblock_set(ctx, &ext_mem_180904, &mem_180699, "mem_180699") != 0)
            return 1;
    } else {
        if (mem_180702_cached_sizze_182412 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180702, &mem_180702_cached_sizze_182412, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180705_cached_sizze_182413 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180705, &mem_180705_cached_sizze_182413, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180715_cached_sizze_182414 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182414, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180717_cached_sizze_182415 < bytes_180714) {
            err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182415, bytes_180714);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180370 = 0; i_180370 < smallest_pow_2_geq_than_res_171436; i_180370++) {
            int64_t zp_lhs_171483 = mul64(block_sizze_171446, i_180370);
            
            for (int64_t i_180363 = 0; i_180363 < block_sizze_171446; i_180363++) {
                int64_t k_171487 = add64(zp_lhs_171483, i_180363);
                bool cond_171488 = slt64(k_171487, n_103276);
                int64_t lifted_lambda_res_171489;
                int64_t lifted_lambda_res_171490;
                
                if (cond_171488) {
                    bool x_178208 = sle64((int64_t) 0, k_171487);
                    bool bounds_check_178209 = cond_171488 && x_178208;
                    bool index_certs_178210;
                    
                    if (!bounds_check_178209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171487, "] out of bounds for array of shape [", (long long) n_103276, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_178211 = ((int64_t *) xs_mem_180696.mem)[k_171487];
                    
                    lifted_lambda_res_171489 = lifted_lambda_res_t_res_178211;
                    lifted_lambda_res_171490 = k_171487;
                } else {
                    lifted_lambda_res_171489 = defunc_0_reduce_res_178355;
                    lifted_lambda_res_171490 = defunc_0_reduce_res_178356;
                }
                ((int64_t *) mem_180715)[i_180363] = lifted_lambda_res_171489;
                ((int64_t *) mem_180717)[i_180363] = lifted_lambda_res_171490;
            }
            if (!cond_171473) {
                for (int64_t i_171499 = 0; i_171499 < distance_171476; i_171499++) {
                    int64_t gt_arg1_171502 = add64((int64_t) 1, i_171499);
                    bool x_171503 = sle64((int64_t) 0, gt_arg1_171502);
                    bool y_171504 = slt64(gt_arg1_171502, block_sizze_171446);
                    bool bounds_check_171505 = x_171503 && y_171504;
                    bool index_certs_171506;
                    
                    if (!bounds_check_171505) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171502, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171508 = slt64(i_171499, block_sizze_171446);
                    bool index_certs_171509;
                    
                    if (!y_171508) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171499, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_171507 = ((int64_t *) mem_180715)[gt_arg1_171502];
                    int64_t gt_arg0_171510 = ((int64_t *) mem_180715)[i_171499];
                    bool zlze_res_171511 = sle64(gt_arg0_171510, gt_arg1_171507);
                    bool defunc_0_lifted_gt_res_171512 = !zlze_res_171511;
                    bool s_171513;
                    int64_t s_171516;
                    bool loop_while_171517;
                    int64_t j_171520;
                    
                    loop_while_171517 = defunc_0_lifted_gt_res_171512;
                    j_171520 = i_171499;
                    while (loop_while_171517) {
                        bool x_171521 = sle64((int64_t) 0, j_171520);
                        bool y_171522 = slt64(j_171520, block_sizze_171446);
                        bool bounds_check_171523 = x_171521 && y_171522;
                        bool index_certs_171524;
                        
                        if (!bounds_check_171523) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171520, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171527 = add64((int64_t) 1, j_171520);
                        bool x_171528 = sle64((int64_t) 0, copy_arg0_171527);
                        bool y_171529 = slt64(copy_arg0_171527, block_sizze_171446);
                        bool bounds_check_171530 = x_171528 && y_171529;
                        bool index_certs_171531;
                        
                        if (!bounds_check_171530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171527, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171525 = ((int64_t *) mem_180715)[j_171520];
                        int64_t copy_arg0_171526 = ((int64_t *) mem_180717)[j_171520];
                        int64_t copy_arg0_171532 = ((int64_t *) mem_180715)[copy_arg0_171527];
                        int64_t copy_arg0_171533 = ((int64_t *) mem_180717)[copy_arg0_171527];
                        
                        ((int64_t *) mem_180715)[j_171520] = copy_arg0_171532;
                        ((int64_t *) mem_180717)[j_171520] = copy_arg0_171533;
                        ((int64_t *) mem_180715)[copy_arg0_171527] = copy_arg0_171525;
                        ((int64_t *) mem_180717)[copy_arg0_171527] = copy_arg0_171526;
                        
                        int64_t tmp_171538 = sub64(j_171520, (int64_t) 1);
                        bool cond_171539 = sle64((int64_t) 0, tmp_171538);
                        bool loop_cond_171540;
                        
                        if (cond_171539) {
                            bool y_178213 = slt64(tmp_171538, block_sizze_171446);
                            bool bounds_check_178214 = cond_171539 && y_178213;
                            bool index_certs_178215;
                            
                            if (!bounds_check_178214) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171538, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_178212 = ((int64_t *) mem_180715)[j_171520];
                            int64_t gt_arg0_178216 = ((int64_t *) mem_180715)[tmp_171538];
                            bool zlze_res_178217 = sle64(gt_arg0_178216, gt_arg1_178212);
                            bool defunc_0_lifted_gt_res_178218 = !zlze_res_178217;
                            
                            loop_cond_171540 = defunc_0_lifted_gt_res_178218;
                        } else {
                            loop_cond_171540 = 0;
                        }
                        
                        bool loop_while_tmp_182124 = loop_cond_171540;
                        int64_t j_tmp_182127 = tmp_171538;
                        
                        loop_while_171517 = loop_while_tmp_182124;
                        j_171520 = j_tmp_182127;
                    }
                    s_171513 = loop_while_171517;
                    s_171516 = j_171520;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180715, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180705, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180717, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
        }
        if (memblock_alloc(ctx, &mem_180770, bytes_180701, "mem_180770")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180770.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180702, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        if (memblock_alloc(ctx, &mem_180774, bytes_180701, "mem_180774")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180774.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180705, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        
        int64_t data_171553;
        bool data_171554;
        int64_t data_171557;
        int64_t loop_dz2084Uz2082U_171558;
        bool loop_while_171559;
        int64_t stride_171562;
        
        if (memblock_set(ctx, &mem_param_180778, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180781, &mem_180774, "mem_180774") != 0)
            return 1;
        loop_dz2084Uz2082U_171558 = flat_dim_171447;
        loop_while_171559 = loop_cond_171550;
        stride_171562 = block_sizze_171446;
        while (loop_while_171559) {
            int64_t next_stride_171563 = mul64((int64_t) 2, stride_171562);
            bool zzero_171564 = next_stride_171563 == (int64_t) 0;
            bool nonzzero_171565 = !zzero_171564;
            bool nonzzero_cert_171566;
            
            if (!nonzzero_171565) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171567 = sdiv64(flat_dim_171447, next_stride_171563);
            bool bounds_invalid_upwards_171568 = slt64(num_merges_171567, (int64_t) 0);
            bool valid_171569 = !bounds_invalid_upwards_171568;
            bool range_valid_c_171570;
            
            if (!valid_171569) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171572 = sub64(next_stride_171563, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171573 = sle64((int64_t) 0, m_171572);
            bool cond_171575 = slt64(next_stride_171563, (int64_t) 10);
            bool protect_assert_disj_171576 = nonzzero_171552 || cond_171575;
            bool nonzzero_cert_171577;
            
            if (!protect_assert_disj_171576) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171578 = smod_safe64(next_stride_171563, merge_block_sizze_171450);
            bool num_blocks_171579 = zeze_lhs_171578 == (int64_t) 0;
            bool protect_assert_disj_171580 = cond_171575 || num_blocks_171579;
            bool assert_c_171581;
            
            if (!protect_assert_disj_171580) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171583 = sdiv_safe64(next_stride_171563, merge_block_sizze_171450);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584 = add64((int64_t) 1, num_blocks_171583);
            int64_t j_m_i_171585 = sub64(next_stride_171563, stride_171562);
            int64_t flat_dim_171586 = merge_block_sizze_171450 * num_blocks_171583;
            bool bounds_invalid_upwards_171587 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, (int64_t) 0);
            bool zzero_lte_i_171588 = sle64((int64_t) 0, stride_171562);
            bool i_lte_j_171589 = sle64(stride_171562, next_stride_171563);
            bool empty_slice_171590 = stride_171562 == (int64_t) 0;
            int64_t m_171591 = sub64(stride_171562, (int64_t) 1);
            bool bounds_invalid_upwards_171592 = slt64(num_blocks_171583, (int64_t) 0);
            bool empty_slice_171593 = j_m_i_171585 == (int64_t) 0;
            int64_t m_171594 = sub64(j_m_i_171585, (int64_t) 1);
            bool cond_171595 = slt64((int64_t) 0, stride_171562);
            bool valid_171596 = !bounds_invalid_upwards_171587;
            bool zzero_leq_i_p_m_t_s_171597 = sle64((int64_t) 0, m_171591);
            bool i_p_m_t_s_leq_w_171598 = slt64(m_171591, next_stride_171563);
            bool valid_171599 = !bounds_invalid_upwards_171592;
            bool i_p_m_t_s_leq_w_171600 = slt64(m_171572, flat_dim_171586);
            int64_t i_p_m_t_s_171601 = add64(stride_171562, m_171594);
            bool y_171602 = slt64((int64_t) 0, j_m_i_171585);
            bool protect_assert_disj_171603 = cond_171575 || valid_171596;
            bool range_valid_c_171604;
            
            if (!protect_assert_disj_171603) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171605 = zzero_leq_i_p_m_t_s_171597 && i_p_m_t_s_leq_w_171598;
            bool protect_assert_disj_171606 = cond_171575 || valid_171599;
            bool range_valid_c_171607;
            
            if (!protect_assert_disj_171606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171583, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171608 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171600;
            bool zzero_leq_i_p_m_t_s_171609 = sle64((int64_t) 0, i_p_m_t_s_171601);
            bool i_p_m_t_s_leq_w_171610 = slt64(i_p_m_t_s_171601, next_stride_171563);
            bool forwards_ok_171611 = zzero_lte_i_171588 && y_171605;
            bool ok_or_empty_171612 = zzero_171564 || y_171608;
            bool y_171613 = zzero_lte_i_171588 && i_p_m_t_s_leq_w_171610;
            bool protect_assert_disj_171614 = cond_171595 || y_171602;
            bool ok_or_empty_171615 = empty_slice_171590 || forwards_ok_171611;
            bool protect_assert_disj_171616 = cond_171575 || ok_or_empty_171612;
            bool index_certs_171617;
            
            if (!protect_assert_disj_171616) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) flat_dim_171586, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171618 = zzero_leq_i_p_m_t_s_171609 && y_171613;
            bool loop_not_taken_171619 = !cond_171575;
            bool protect_assert_disj_171620 = protect_assert_disj_171614 || loop_not_taken_171619;
            bool index_certs_171621;
            
            if (!protect_assert_disj_171620) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171622 = cond_171575 || ok_or_empty_171615;
            bool index_certs_171623;
            
            if (!protect_assert_disj_171622) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171624 = i_lte_j_171589 && y_171618;
            bool protect_assert_disj_171625 = ok_or_empty_171615 || loop_not_taken_171619;
            bool index_certs_171626;
            
            if (!protect_assert_disj_171625) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171627 = empty_slice_171593 || forwards_ok_171624;
            bool protect_assert_disj_171628 = loop_not_taken_171619 || ok_or_empty_171627;
            bool index_certs_171629;
            
            if (!protect_assert_disj_171628) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171630 = cond_171575 || ok_or_empty_171627;
            bool index_certs_171631;
            
            if (!protect_assert_disj_171630) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180782 = (int64_t) 8 * num_merges_171567;
            int64_t bytes_180783 = next_stride_171563 * binop_x_180782;
            bool i_lte_j_171574 = sle64((int64_t) 0, next_stride_171563);
            
            if (mem_180784_cached_sizze_182416 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182416, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180787_cached_sizze_182417 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180787, &mem_180787_cached_sizze_182417, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180796 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584;
            int64_t binop_x_180812 = (int64_t) 8 * num_blocks_171583;
            int64_t bytes_180813 = merge_block_sizze_171450 * binop_x_180812;
            int64_t bytes_180858 = (int64_t) 16 * stride_171562;
            
            for (int64_t i_180391 = 0; i_180391 < num_merges_171567; i_180391++) {
                int64_t start_171635 = mul64(next_stride_171563, i_180391);
                int64_t j_m_i_171636 = sub64(loop_dz2084Uz2082U_171558, start_171635);
                bool empty_slice_171637 = j_m_i_171636 == (int64_t) 0;
                int64_t m_171638 = sub64(j_m_i_171636, (int64_t) 1);
                int64_t i_p_m_t_s_171639 = add64(start_171635, m_171638);
                bool zzero_leq_i_p_m_t_s_171640 = sle64((int64_t) 0, i_p_m_t_s_171639);
                bool i_p_m_t_s_leq_w_171641 = slt64(i_p_m_t_s_171639, loop_dz2084Uz2082U_171558);
                bool zzero_lte_i_171642 = sle64((int64_t) 0, start_171635);
                bool i_lte_j_171643 = sle64(start_171635, loop_dz2084Uz2082U_171558);
                bool y_171644 = i_p_m_t_s_leq_w_171641 && zzero_lte_i_171642;
                bool y_171645 = zzero_leq_i_p_m_t_s_171640 && y_171644;
                bool forwards_ok_171646 = i_lte_j_171643 && y_171645;
                bool ok_or_empty_171647 = empty_slice_171637 || forwards_ok_171646;
                bool index_certs_171648;
                
                if (!ok_or_empty_171647) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171635, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171558, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171649 = slt64(m_171572, j_m_i_171636);
                bool y_171650 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171649;
                bool forwards_ok_171651 = i_lte_j_171574 && y_171650;
                bool ok_or_empty_171652 = zzero_171564 || forwards_ok_171651;
                bool index_certs_171653;
                
                if (!ok_or_empty_171652) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) j_m_i_171636, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171575) {
                    int64_t dummy_178244;
                    int64_t dummy_178245;
                    
                    if (cond_171595) {
                        int64_t head_res_178246 = ((int64_t *) mem_param_180778.mem)[start_171635];
                        int64_t head_res_178247 = ((int64_t *) mem_param_180781.mem)[start_171635];
                        
                        dummy_178244 = head_res_178246;
                        dummy_178245 = head_res_178247;
                    } else {
                        int64_t slice_178248 = stride_171562 + start_171635;
                        int64_t head_res_178249 = ((int64_t *) mem_param_180778.mem)[slice_178248];
                        int64_t head_res_178250 = ((int64_t *) mem_param_180781.mem)[slice_178248];
                        
                        dummy_178244 = head_res_178249;
                        dummy_178245 = head_res_178250;
                    }
                    if (memblock_alloc(ctx, &mem_180859, bytes_180858, "mem_180859")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182137 = 0; nest_i_182137 < next_stride_171563; nest_i_182137++) {
                        ((int64_t *) mem_180859.mem)[nest_i_182137] = dummy_178244;
                    }
                    if (memblock_alloc(ctx, &mem_180861, bytes_180858, "mem_180861")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182138 = 0; nest_i_182138 < next_stride_171563; nest_i_182138++) {
                        ((int64_t *) mem_180861.mem)[nest_i_182138] = dummy_178245;
                    }
                    
                    int64_t data_178253;
                    int64_t i_178257 = (int64_t) 0;
                    
                    for (int64_t k_178256 = 0; k_178256 < next_stride_171563; k_178256++) {
                        int64_t j_178260 = sub64(k_178256, i_178257);
                        bool cond_178261 = j_178260 == j_m_i_171585;
                        bool cond_178262;
                        
                        if (cond_178261) {
                            cond_178262 = 1;
                        } else {
                            bool cond_178263 = slt64(i_178257, stride_171562);
                            bool cond_f_res_178264;
                            
                            if (cond_178263) {
                                bool x_178265 = sle64((int64_t) 0, j_178260);
                                bool y_178266 = slt64(j_178260, j_m_i_171585);
                                bool bounds_check_178267 = x_178265 && y_178266;
                                bool index_certs_178268;
                                
                                if (!bounds_check_178267) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178272 = sle64((int64_t) 0, i_178257);
                                bool bounds_check_178273 = cond_178263 && x_178272;
                                bool index_certs_178274;
                                
                                if (!bounds_check_178273) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178269 = stride_171562 + j_178260;
                                int64_t slice_178270 = start_171635 + slice_178269;
                                int64_t leq_arg1_178271 = ((int64_t *) mem_param_180778.mem)[slice_178270];
                                int64_t slice_178275 = start_171635 + i_178257;
                                int64_t leq_arg0_178276 = ((int64_t *) mem_param_180778.mem)[slice_178275];
                                bool zlze_res_178277 = sle64(leq_arg0_178276, leq_arg1_178271);
                                
                                cond_f_res_178264 = zlze_res_178277;
                            } else {
                                cond_f_res_178264 = 0;
                            }
                            cond_178262 = cond_f_res_178264;
                        }
                        
                        int64_t loopres_178278;
                        int64_t loopres_178279;
                        int64_t loopres_178280;
                        
                        if (cond_178262) {
                            bool x_178282 = sle64((int64_t) 0, i_178257);
                            bool y_178283 = slt64(i_178257, stride_171562);
                            bool bounds_check_178284 = x_178282 && y_178283;
                            bool index_certs_178285;
                            
                            if (!bounds_check_178284) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178281 = add64((int64_t) 1, i_178257);
                            int64_t slice_178286 = start_171635 + i_178257;
                            int64_t tmp_178287 = ((int64_t *) mem_param_180778.mem)[slice_178286];
                            int64_t tmp_178288 = ((int64_t *) mem_param_180781.mem)[slice_178286];
                            
                            loopres_178278 = tmp_178281;
                            loopres_178279 = tmp_178287;
                            loopres_178280 = tmp_178288;
                        } else {
                            bool x_178289 = sle64((int64_t) 0, j_178260);
                            bool y_178290 = slt64(j_178260, j_m_i_171585);
                            bool bounds_check_178291 = x_178289 && y_178290;
                            bool index_certs_178292;
                            
                            if (!bounds_check_178291) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178293 = stride_171562 + j_178260;
                            int64_t slice_178294 = start_171635 + slice_178293;
                            int64_t tmp_178295 = ((int64_t *) mem_param_180778.mem)[slice_178294];
                            int64_t tmp_178296 = ((int64_t *) mem_param_180781.mem)[slice_178294];
                            
                            loopres_178278 = i_178257;
                            loopres_178279 = tmp_178295;
                            loopres_178280 = tmp_178296;
                        }
                        ((int64_t *) mem_180859.mem)[k_178256] = loopres_178279;
                        ((int64_t *) mem_180861.mem)[k_178256] = loopres_178280;
                        
                        int64_t i_tmp_182139 = loopres_178278;
                        
                        i_178257 = i_tmp_182139;
                    }
                    data_178253 = i_178257;
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180859, "mem_180859") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180861, "mem_180861") != 0)
                        return 1;
                } else {
                    if (mem_180797_cached_sizze_182418 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180797, &mem_180797_cached_sizze_182418, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180799_cached_sizze_182419 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180799, &mem_180799_cached_sizze_182419, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180377 = 0; i_180377 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584; i_180377++) {
                        int64_t split_count_arg3_171715 = mul64(merge_block_sizze_171450, i_180377);
                        int64_t defunc_0_split_count_res_171716;
                        int64_t defunc_0_split_count_res_171717;
                        int64_t defunc_0_split_count_res_171718;
                        int64_t defunc_0_split_count_res_171719;
                        int64_t defunc_0_split_count_res_171720;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_171716, &defunc_0_split_count_res_171717, &defunc_0_split_count_res_171718, &defunc_0_split_count_res_171719, &defunc_0_split_count_res_171720, (int64_t) 0, stride_171562, (int64_t) 0, j_m_i_171585, split_count_arg3_171715) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171721 = slt64((int64_t) 0, defunc_0_split_count_res_171720);
                        bool defunc_0_split_count_res_171722;
                        int64_t defunc_0_split_count_res_171723;
                        int64_t defunc_0_split_count_res_171724;
                        int64_t defunc_0_split_count_res_171725;
                        int64_t defunc_0_split_count_res_171726;
                        int64_t defunc_0_split_count_res_171727;
                        bool loop_while_171728;
                        int64_t ss_171729;
                        int64_t ss_171730;
                        int64_t tt_171731;
                        int64_t tt_171732;
                        int64_t count_171733;
                        
                        loop_while_171728 = loop_cond_171721;
                        ss_171729 = defunc_0_split_count_res_171716;
                        ss_171730 = defunc_0_split_count_res_171717;
                        tt_171731 = defunc_0_split_count_res_171718;
                        tt_171732 = defunc_0_split_count_res_171719;
                        count_171733 = defunc_0_split_count_res_171720;
                        while (loop_while_171728) {
                            int64_t zlze_lhs_171734 = sub64(ss_171730, ss_171729);
                            bool cond_171735 = sle64(zlze_lhs_171734, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171736;
                            int64_t defunc_0_lifted_step_res_171737;
                            int64_t defunc_0_lifted_step_res_171738;
                            int64_t defunc_0_lifted_step_res_171739;
                            
                            if (cond_171735) {
                                int64_t tmp_178299 = add64(tt_171731, count_171733);
                                
                                defunc_0_lifted_step_res_171736 = ss_171729;
                                defunc_0_lifted_step_res_171737 = tmp_178299;
                                defunc_0_lifted_step_res_171738 = tt_171732;
                                defunc_0_lifted_step_res_171739 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171741 = sub64(tt_171732, tt_171731);
                                bool cond_171742 = sle64(zlze_lhs_171741, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171743;
                                int64_t defunc_0_lifted_step_res_f_res_171744;
                                int64_t defunc_0_lifted_step_res_f_res_171745;
                                int64_t defunc_0_lifted_step_res_f_res_171746;
                                
                                if (cond_171742) {
                                    int64_t tmp_178300 = add64(ss_171729, count_171733);
                                    
                                    defunc_0_lifted_step_res_f_res_171743 = tmp_178300;
                                    defunc_0_lifted_step_res_f_res_171744 = tt_171731;
                                    defunc_0_lifted_step_res_f_res_171745 = tt_171732;
                                    defunc_0_lifted_step_res_f_res_171746 = (int64_t) 0;
                                } else {
                                    bool cond_171748 = count_171733 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171749;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171750;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171751;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171752;
                                    
                                    if (cond_171748) {
                                        bool x_178302 = sle64((int64_t) 0, ss_171729);
                                        bool y_178303 = slt64(ss_171729, stride_171562);
                                        bool bounds_check_178304 = x_178302 && y_178303;
                                        bool index_certs_178305;
                                        
                                        if (!bounds_check_178304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171729, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178308 = sle64((int64_t) 0, tt_171731);
                                        bool y_178309 = slt64(tt_171731, j_m_i_171585);
                                        bool bounds_check_178310 = x_178308 && y_178309;
                                        bool index_certs_178311;
                                        
                                        if (!bounds_check_178310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171731, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178306 = start_171635 + ss_171729;
                                        int64_t leq_arg1_178307 = ((int64_t *) mem_param_180778.mem)[slice_178306];
                                        int64_t slice_178312 = stride_171562 + tt_171731;
                                        int64_t slice_178313 = start_171635 + slice_178312;
                                        int64_t leq_arg0_178314 = ((int64_t *) mem_param_180778.mem)[slice_178313];
                                        bool zlze_res_178315 = sle64(leq_arg0_178314, leq_arg1_178307);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        
                                        if (zlze_res_178315) {
                                            int64_t tmp_178318 = add64((int64_t) 1, tt_171731);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = ss_171729;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tmp_178318;
                                        } else {
                                            int64_t tmp_178319 = add64((int64_t) 1, ss_171729);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = tmp_178319;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tt_171731;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = tt_171732;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = (int64_t) 0;
                                    } else {
                                        int64_t m_171771 = sdiv64(count_171733, (int64_t) 2);
                                        int64_t n_171772 = sub64(count_171733, m_171771);
                                        bool cond_171773 = n_171772 == (int64_t) 0;
                                        int64_t zgze_lhs_171774 = add64(ss_171729, m_171771);
                                        bool cond_f_res_171775 = sle64(ss_171730, zgze_lhs_171774);
                                        bool x_171776 = !cond_171773;
                                        bool y_171777 = cond_f_res_171775 && x_171776;
                                        bool cond_171778 = cond_171773 || y_171777;
                                        bool leq_y_x_171779;
                                        
                                        if (cond_171778) {
                                            leq_y_x_171779 = 1;
                                        } else {
                                            bool x_171780 = sle64((int64_t) 0, zgze_lhs_171774);
                                            bool y_171781 = slt64(zgze_lhs_171774, stride_171562);
                                            bool bounds_check_171782 = x_171780 && y_171781;
                                            bool index_certs_171783;
                                            
                                            if (!bounds_check_171782) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171774, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171786 = add64(tt_171731, n_171772);
                                            int64_t leq_arg0_171787 = sub64(zm_lhs_171786, (int64_t) 1);
                                            bool x_171788 = sle64((int64_t) 0, leq_arg0_171787);
                                            bool y_171789 = slt64(leq_arg0_171787, j_m_i_171585);
                                            bool bounds_check_171790 = x_171788 && y_171789;
                                            bool index_certs_171791;
                                            
                                            if (!bounds_check_171790) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171787, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171784 = start_171635 + zgze_lhs_171774;
                                            int64_t leq_arg1_171785 = ((int64_t *) mem_param_180778.mem)[slice_171784];
                                            int64_t slice_171792 = stride_171562 + leq_arg0_171787;
                                            int64_t slice_171793 = start_171635 + slice_171792;
                                            int64_t leq_arg0_171794 = ((int64_t *) mem_param_180778.mem)[slice_171793];
                                            bool zlze_res_171795 = sle64(leq_arg0_171794, leq_arg1_171785);
                                            
                                            leq_y_x_171779 = zlze_res_171795;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                        
                                        if (leq_y_x_171779) {
                                            int64_t tmp_178320 = add64(tt_171731, n_171772);
                                            int64_t tmp_178321 = sub64(count_171733, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tmp_178320;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tt_171732;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = tmp_178321;
                                        } else {
                                            int64_t tmp_171801 = add64(tt_171731, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tt_171731;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tmp_171801;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = count_171733;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = ss_171729;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                    }
                                    defunc_0_lifted_step_res_f_res_171743 = defunc_0_lifted_step_res_f_res_f_res_171749;
                                    defunc_0_lifted_step_res_f_res_171744 = defunc_0_lifted_step_res_f_res_f_res_171750;
                                    defunc_0_lifted_step_res_f_res_171745 = defunc_0_lifted_step_res_f_res_f_res_171751;
                                    defunc_0_lifted_step_res_f_res_171746 = defunc_0_lifted_step_res_f_res_f_res_171752;
                                }
                                defunc_0_lifted_step_res_171736 = defunc_0_lifted_step_res_f_res_171743;
                                defunc_0_lifted_step_res_171737 = defunc_0_lifted_step_res_f_res_171744;
                                defunc_0_lifted_step_res_171738 = defunc_0_lifted_step_res_f_res_171745;
                                defunc_0_lifted_step_res_171739 = defunc_0_lifted_step_res_f_res_171746;
                            }
                            
                            int64_t loopres_171802;
                            int64_t loopres_171803;
                            int64_t loopres_171804;
                            int64_t loopres_171805;
                            int64_t loopres_171806;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_171802, &loopres_171803, &loopres_171804, &loopres_171805, &loopres_171806, defunc_0_lifted_step_res_171736, ss_171730, defunc_0_lifted_step_res_171737, defunc_0_lifted_step_res_171738, defunc_0_lifted_step_res_171739) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171807 = slt64((int64_t) 0, loopres_171806);
                            bool loop_while_tmp_182144 = loop_cond_171807;
                            int64_t ss_tmp_182145 = loopres_171802;
                            int64_t ss_tmp_182146 = loopres_171803;
                            int64_t tt_tmp_182147 = loopres_171804;
                            int64_t tt_tmp_182148 = loopres_171805;
                            int64_t count_tmp_182149 = loopres_171806;
                            
                            loop_while_171728 = loop_while_tmp_182144;
                            ss_171729 = ss_tmp_182145;
                            ss_171730 = ss_tmp_182146;
                            tt_171731 = tt_tmp_182147;
                            tt_171732 = tt_tmp_182148;
                            count_171733 = count_tmp_182149;
                        }
                        defunc_0_split_count_res_171722 = loop_while_171728;
                        defunc_0_split_count_res_171723 = ss_171729;
                        defunc_0_split_count_res_171724 = ss_171730;
                        defunc_0_split_count_res_171725 = tt_171731;
                        defunc_0_split_count_res_171726 = tt_171732;
                        defunc_0_split_count_res_171727 = count_171733;
                        ((int64_t *) mem_180797)[i_180377] = defunc_0_split_count_res_171723;
                        ((int64_t *) mem_180799)[i_180377] = defunc_0_split_count_res_171725;
                    }
                    if (mem_180814_cached_sizze_182420 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182420, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180817_cached_sizze_182421 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180817, &mem_180817_cached_sizze_182421, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180384 = 0; i_180384 < num_blocks_171583; i_180384++) {
                        bool y_171813 = slt64(i_180384, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool index_certs_171815;
                        
                        if (!y_171813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180384, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171816 = ((int64_t *) mem_180797)[i_180384];
                        int64_t defunc_0_f_res_171817 = ((int64_t *) mem_180799)[i_180384];
                        int64_t tmp_171818 = add64((int64_t) 1, i_180384);
                        bool x_171819 = sle64((int64_t) 0, tmp_171818);
                        bool y_171820 = slt64(tmp_171818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool bounds_check_171821 = x_171819 && y_171820;
                        bool index_certs_171822;
                        
                        if (!bounds_check_171821) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171818, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171823 = ((int64_t *) mem_180797)[tmp_171818];
                        int64_t defunc_0_f_res_171824 = ((int64_t *) mem_180799)[tmp_171818];
                        int64_t merge_sequential_arg2_171825 = add64(stride_171562, defunc_0_f_res_171817);
                        int64_t merge_sequential_arg2_171826 = add64(stride_171562, defunc_0_f_res_171824);
                        int64_t j_m_i_171827 = sub64(merge_sequential_arg2_171826, merge_sequential_arg2_171825);
                        bool empty_slice_171828 = j_m_i_171827 == (int64_t) 0;
                        int64_t m_171829 = sub64(j_m_i_171827, (int64_t) 1);
                        int64_t i_p_m_t_s_171830 = add64(merge_sequential_arg2_171825, m_171829);
                        bool zzero_leq_i_p_m_t_s_171831 = sle64((int64_t) 0, i_p_m_t_s_171830);
                        bool i_p_m_t_s_leq_w_171832 = slt64(i_p_m_t_s_171830, next_stride_171563);
                        bool zzero_lte_i_171833 = sle64((int64_t) 0, merge_sequential_arg2_171825);
                        bool i_lte_j_171834 = sle64(merge_sequential_arg2_171825, merge_sequential_arg2_171826);
                        bool y_171835 = i_p_m_t_s_leq_w_171832 && zzero_lte_i_171833;
                        bool y_171836 = zzero_leq_i_p_m_t_s_171831 && y_171835;
                        bool forwards_ok_171837 = i_lte_j_171834 && y_171836;
                        bool ok_or_empty_171838 = empty_slice_171828 || forwards_ok_171837;
                        bool index_certs_171839;
                        
                        if (!ok_or_empty_171838) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171825, ":", (long long) merge_sequential_arg2_171826, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171840 = sub64(defunc_0_f_res_171823, defunc_0_f_res_171816);
                        bool empty_slice_171841 = j_m_i_171840 == (int64_t) 0;
                        int64_t m_171842 = sub64(j_m_i_171840, (int64_t) 1);
                        int64_t i_p_m_t_s_171843 = add64(defunc_0_f_res_171816, m_171842);
                        bool zzero_leq_i_p_m_t_s_171844 = sle64((int64_t) 0, i_p_m_t_s_171843);
                        bool i_p_m_t_s_leq_w_171845 = slt64(i_p_m_t_s_171843, next_stride_171563);
                        bool zzero_lte_i_171846 = sle64((int64_t) 0, defunc_0_f_res_171816);
                        bool i_lte_j_171847 = sle64(defunc_0_f_res_171816, defunc_0_f_res_171823);
                        bool y_171848 = i_p_m_t_s_leq_w_171845 && zzero_lte_i_171846;
                        bool y_171849 = zzero_leq_i_p_m_t_s_171844 && y_171848;
                        bool forwards_ok_171850 = i_lte_j_171847 && y_171849;
                        bool ok_or_empty_171851 = empty_slice_171841 || forwards_ok_171850;
                        bool index_certs_171852;
                        
                        if (!ok_or_empty_171851) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171816, ":", (long long) defunc_0_f_res_171823, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171853 = slt64((int64_t) 0, j_m_i_171840);
                        int64_t dummy_171854;
                        int64_t dummy_171855;
                        
                        if (cond_171853) {
                            bool index_certs_178322;
                            
                            if (!cond_171853) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178323 = start_171635 + defunc_0_f_res_171816;
                            int64_t head_res_178324 = ((int64_t *) mem_param_180778.mem)[slice_178323];
                            int64_t head_res_178325 = ((int64_t *) mem_param_180781.mem)[slice_178323];
                            
                            dummy_171854 = head_res_178324;
                            dummy_171855 = head_res_178325;
                        } else {
                            bool y_171860 = slt64((int64_t) 0, j_m_i_171827);
                            bool index_certs_171861;
                            
                            if (!y_171860) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171862 = start_171635 + merge_sequential_arg2_171825;
                            int64_t head_res_171863 = ((int64_t *) mem_param_180778.mem)[slice_171862];
                            int64_t head_res_171864 = ((int64_t *) mem_param_180781.mem)[slice_171862];
                            
                            dummy_171854 = head_res_171863;
                            dummy_171855 = head_res_171864;
                        }
                        for (int64_t nest_i_182152 = 0; nest_i_182152 < merge_block_sizze_171450; nest_i_182152++) {
                            ((int64_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + nest_i_182152] = dummy_171854;
                        }
                        for (int64_t nest_i_182153 = 0; nest_i_182153 < merge_block_sizze_171450; nest_i_182153++) {
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + nest_i_182153] = dummy_171855;
                        }
                        
                        int64_t data_171867;
                        int64_t i_171871 = (int64_t) 0;
                        
                        for (int64_t k_171870 = 0; k_171870 < merge_block_sizze_171450; k_171870++) {
                            int64_t j_171874 = sub64(k_171870, i_171871);
                            bool cond_171875 = j_171874 == j_m_i_171827;
                            bool cond_171876;
                            
                            if (cond_171875) {
                                cond_171876 = 1;
                            } else {
                                bool cond_171877 = slt64(i_171871, j_m_i_171840);
                                bool cond_f_res_171878;
                                
                                if (cond_171877) {
                                    bool x_178326 = sle64((int64_t) 0, j_171874);
                                    bool y_178327 = slt64(j_171874, j_m_i_171827);
                                    bool bounds_check_178328 = x_178326 && y_178327;
                                    bool index_certs_178329;
                                    
                                    if (!bounds_check_178328) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178333 = sle64((int64_t) 0, i_171871);
                                    bool bounds_check_178334 = cond_171877 && x_178333;
                                    bool index_certs_178335;
                                    
                                    if (!bounds_check_178334) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178330 = merge_sequential_arg2_171825 + j_171874;
                                    int64_t slice_178331 = start_171635 + slice_178330;
                                    int64_t leq_arg1_178332 = ((int64_t *) mem_param_180778.mem)[slice_178331];
                                    int64_t slice_178336 = defunc_0_f_res_171816 + i_171871;
                                    int64_t slice_178337 = start_171635 + slice_178336;
                                    int64_t leq_arg0_178338 = ((int64_t *) mem_param_180778.mem)[slice_178337];
                                    bool zlze_res_178339 = sle64(leq_arg0_178338, leq_arg1_178332);
                                    
                                    cond_f_res_171878 = zlze_res_178339;
                                } else {
                                    cond_f_res_171878 = 0;
                                }
                                cond_171876 = cond_f_res_171878;
                            }
                            
                            int64_t loopres_171893;
                            int64_t loopres_171894;
                            int64_t loopres_171895;
                            
                            if (cond_171876) {
                                bool x_178341 = sle64((int64_t) 0, i_171871);
                                bool y_178342 = slt64(i_171871, j_m_i_171840);
                                bool bounds_check_178343 = x_178341 && y_178342;
                                bool index_certs_178344;
                                
                                if (!bounds_check_178343) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178340 = add64((int64_t) 1, i_171871);
                                int64_t slice_178345 = defunc_0_f_res_171816 + i_171871;
                                int64_t slice_178346 = start_171635 + slice_178345;
                                int64_t tmp_178347 = ((int64_t *) mem_param_180778.mem)[slice_178346];
                                int64_t tmp_178348 = ((int64_t *) mem_param_180781.mem)[slice_178346];
                                
                                loopres_171893 = tmp_178340;
                                loopres_171894 = tmp_178347;
                                loopres_171895 = tmp_178348;
                            } else {
                                bool x_171905 = sle64((int64_t) 0, j_171874);
                                bool y_171906 = slt64(j_171874, j_m_i_171827);
                                bool bounds_check_171907 = x_171905 && y_171906;
                                bool index_certs_171908;
                                
                                if (!bounds_check_171907) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171909 = merge_sequential_arg2_171825 + j_171874;
                                int64_t slice_171910 = start_171635 + slice_171909;
                                int64_t tmp_171911 = ((int64_t *) mem_param_180778.mem)[slice_171910];
                                int64_t tmp_171912 = ((int64_t *) mem_param_180781.mem)[slice_171910];
                                
                                loopres_171893 = i_171871;
                                loopres_171894 = tmp_171911;
                                loopres_171895 = tmp_171912;
                            }
                            ((int64_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171894;
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171895;
                            
                            int64_t i_tmp_182154 = loopres_171893;
                            
                            i_171871 = i_tmp_182154;
                        }
                        data_171867 = i_171871;
                    }
                    if (memblock_alloc(ctx, &mem_180852, bytes_180813, "mem_180852")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180852.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180814, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_alloc(ctx, &mem_180856, bytes_180813, "mem_180856")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180856.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180817, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180852, "mem_180852") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180856, "mem_180856") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180784, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180879.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180787, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171919 = next_stride_171563 * num_merges_171567;
            
            if (memblock_alloc(ctx, &mem_180890, bytes_180783, "mem_180890")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180784, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            if (memblock_alloc(ctx, &mem_180894, bytes_180783, "mem_180894")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180787, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            
            bool loop_cond_171922 = slt64(next_stride_171563, flat_dim_171447);
            
            if (memblock_set(ctx, &mem_param_tmp_182128, &mem_180890, "mem_180890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182129, &mem_180894, "mem_180894") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182130 = flat_dim_171919;
            bool loop_while_tmp_182131 = loop_cond_171922;
            int64_t stride_tmp_182134 = next_stride_171563;
            
            if (memblock_set(ctx, &mem_param_180778, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180781, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
                return 1;
            loop_dz2084Uz2082U_171558 = loop_dz2084Uz2082U_tmp_182130;
            loop_while_171559 = loop_while_tmp_182131;
            stride_171562 = stride_tmp_182134;
        }
        if (memblock_set(ctx, &ext_mem_180901, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180900, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        data_171553 = loop_dz2084Uz2082U_171558;
        data_171554 = loop_while_171559;
        data_171557 = stride_171562;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        
        bool empty_slice_171923 = n_103276 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171924 = sle64((int64_t) 0, zs_lhs_171431);
        bool i_p_m_t_s_leq_w_171925 = slt64(zs_lhs_171431, data_171553);
        bool y_171926 = zzero_leq_i_p_m_t_s_171924 && i_p_m_t_s_leq_w_171925;
        bool ok_or_empty_171927 = empty_slice_171923 || y_171926;
        bool index_certs_171928;
        
        if (!ok_or_empty_171927) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_103276, "] out of bounds for array of shape [", (long long) data_171553, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180904, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180906, bytes_180698, "mem_180906")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180908, bytes_180698, "mem_180908")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180398 = 0; i_180398 < n_103276; i_180398++) {
        int64_t eta_p_171932 = ((int64_t *) ext_mem_180904.mem)[i_180398];
        bool x_171933 = sle64((int64_t) 0, eta_p_171932);
        bool y_171934 = slt64(eta_p_171932, n_103276);
        bool bounds_check_171935 = x_171933 && y_171934;
        bool index_certs_171936;
        
        if (!bounds_check_171935) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171932, "] out of bounds for array of shape [", (long long) n_103276, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171937 = ((int64_t *) ext_mem_180697.mem)[eta_p_171932];
        int64_t lifted_lambda_res_171938 = ((int64_t *) xs_mem_180696.mem)[eta_p_171932];
        
        ((int64_t *) mem_180906.mem)[i_180398] = lifted_lambda_res_171937;
        ((int64_t *) mem_180908.mem)[i_180398] = lifted_lambda_res_171938;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180906, "mem_180906") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180908, "mem_180908") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182410, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182411, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180702);
        free(mem_180705);
        free(mem_180715);
        free(mem_180717);
        free(mem_180784);
        free(mem_180787);
        free(mem_180797);
        free(mem_180799);
        free(mem_180814);
        free(mem_180817);
        if (memblock_unref(ctx, &mem_180908, "mem_180908") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180906, "mem_180906") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180856, "mem_180856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180852, "mem_180852") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180861, "mem_180861") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180859, "mem_180859") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180901, "ext_mem_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182422, struct memblock *mem_out_p_182423, struct memblock xs_mem_180696, int64_t n_98589, int64_t incr_98590)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180702_cached_sizze_182424 = 0;
    unsigned char *mem_180702 = NULL;
    int64_t mem_180705_cached_sizze_182425 = 0;
    unsigned char *mem_180705 = NULL;
    int64_t mem_180715_cached_sizze_182426 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182427 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180784_cached_sizze_182428 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180787_cached_sizze_182429 = 0;
    unsigned char *mem_180787 = NULL;
    int64_t mem_180797_cached_sizze_182430 = 0;
    unsigned char *mem_180797 = NULL;
    int64_t mem_180799_cached_sizze_182431 = 0;
    unsigned char *mem_180799 = NULL;
    int64_t mem_180814_cached_sizze_182432 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180817_cached_sizze_182433 = 0;
    unsigned char *mem_180817 = NULL;
    struct memblock mem_180908;
    
    mem_180908.references = NULL;
    
    struct memblock mem_180906;
    
    mem_180906.references = NULL;
    
    struct memblock mem_param_tmp_182129;
    
    mem_param_tmp_182129.references = NULL;
    
    struct memblock mem_param_tmp_182128;
    
    mem_param_tmp_182128.references = NULL;
    
    struct memblock mem_180894;
    
    mem_180894.references = NULL;
    
    struct memblock mem_180890;
    
    mem_180890.references = NULL;
    
    struct memblock mem_180856;
    
    mem_180856.references = NULL;
    
    struct memblock mem_180852;
    
    mem_180852.references = NULL;
    
    struct memblock mem_180861;
    
    mem_180861.references = NULL;
    
    struct memblock mem_180859;
    
    mem_180859.references = NULL;
    
    struct memblock ext_mem_180876;
    
    ext_mem_180876.references = NULL;
    
    struct memblock ext_mem_180879;
    
    ext_mem_180879.references = NULL;
    
    struct memblock mem_param_180781;
    
    mem_param_180781.references = NULL;
    
    struct memblock mem_param_180778;
    
    mem_param_180778.references = NULL;
    
    struct memblock ext_mem_180900;
    
    ext_mem_180900.references = NULL;
    
    struct memblock ext_mem_180901;
    
    ext_mem_180901.references = NULL;
    
    struct memblock mem_180774;
    
    mem_180774.references = NULL;
    
    struct memblock mem_180770;
    
    mem_180770.references = NULL;
    
    struct memblock ext_mem_180904;
    
    ext_mem_180904.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_98589;
    bool cond_171430 = sle64(n_98589, (int64_t) 1);
    int64_t zs_lhs_171431 = sub64(n_98589, (int64_t) 1);
    int64_t zp_rhs_171432 = sdiv_safe64(zs_lhs_171431, (int64_t) 20);
    int64_t min_num_blocks_171433 = add64((int64_t) 1, zp_rhs_171432);
    bool loop_cond_171434 = slt64((int64_t) 1, min_num_blocks_171433);
    bool smallest_pow_2_geq_than_res_171435;
    int64_t smallest_pow_2_geq_than_res_171436;
    bool loop_while_171437;
    int64_t x_171438;
    
    loop_while_171437 = loop_cond_171434;
    x_171438 = (int64_t) 1;
    while (loop_while_171437) {
        int64_t loopres_171439 = mul64((int64_t) 2, x_171438);
        bool loop_cond_171440 = slt64(loopres_171439, min_num_blocks_171433);
        bool loop_while_tmp_182112 = loop_cond_171440;
        int64_t x_tmp_182113 = loopres_171439;
        
        loop_while_171437 = loop_while_tmp_182112;
        x_171438 = x_tmp_182113;
    }
    smallest_pow_2_geq_than_res_171435 = loop_while_171437;
    smallest_pow_2_geq_than_res_171436 = x_171438;
    
    bool zzero_171441 = smallest_pow_2_geq_than_res_171436 == (int64_t) 0;
    bool nonzzero_171442 = !zzero_171441;
    bool protect_assert_disj_171443 = cond_171430 || nonzzero_171442;
    bool nonzzero_cert_171444;
    
    if (!protect_assert_disj_171443) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171445 = sdiv_safe64(zs_lhs_171431, smallest_pow_2_geq_than_res_171436);
    int64_t block_sizze_171446 = add64((int64_t) 1, zp_rhs_171445);
    bool y_171451 = slt64((int64_t) 0, n_98589);
    bool protect_assert_disj_181809 = cond_171430 || y_171451;
    bool index_certs_171452;
    
    if (!protect_assert_disj_181809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98589, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171465 = slt64(smallest_pow_2_geq_than_res_171436, (int64_t) 0);
    bool valid_171466 = !bounds_invalid_upwards_171465;
    bool protect_assert_disj_181817 = cond_171430 || valid_171466;
    bool range_valid_c_171467;
    
    if (!protect_assert_disj_181817) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171436, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171469 = slt64(block_sizze_171446, (int64_t) 0);
    bool valid_171470 = !bounds_invalid_upwards_171469;
    bool protect_assert_disj_181819 = cond_171430 || valid_171470;
    bool range_valid_c_171471;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171446, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171473 = sle64(block_sizze_171446, (int64_t) 1);
    int64_t tmp_171474 = sub64(block_sizze_171446, (int64_t) 2);
    bool bounds_invalid_upwards_171475 = slt64(tmp_171474, (int64_t) 0);
    bool valid_171477 = !bounds_invalid_upwards_171475;
    bool protect_assert_disj_171478 = cond_171473 || valid_171477;
    bool protect_assert_disj_181821 = cond_171430 || protect_assert_disj_171478;
    bool range_valid_c_171479;
    
    if (!protect_assert_disj_181821) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171474, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180907 = (int64_t) 2 * n_98589;
    
    if (futrts_indicesWithIncrement_9128(ctx, &ext_mem_180697, xs_mem_180696, n_98589, incr_98590) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182114 = 0; i_182114 < n_98589; i_182114++) {
        int64_t x_182115 = (int64_t) 0 + i_182114 * (int64_t) 1;
        
        ((int64_t *) mem_180699.mem)[i_182114] = x_182115;
    }
    
    int64_t flat_dim_171447 = smallest_pow_2_geq_than_res_171436 * block_sizze_171446;
    bool x_181804 = !cond_171430;
    int64_t greatest_divisor_leq_than_arg1_171449 = mul64((int64_t) 2, block_sizze_171446);
    int64_t merge_block_sizze_171450;
    
    if (x_181804) {
        int64_t x_181806;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181806, (int64_t) 8, greatest_divisor_leq_than_arg1_171449) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171450 = x_181806;
    } else {
        merge_block_sizze_171450 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_171453;
    
    if (x_181804) {
        int16_t x_181810 = ((int16_t *) xs_mem_180696.mem)[(int64_t) 0];
        
        reduce_arg1_171453 = x_181810;
    } else {
        reduce_arg1_171453 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_178355;
    int64_t defunc_0_reduce_res_178356;
    
    if (x_181804) {
        int16_t x_181812;
        int64_t x_181813;
        int16_t redout_180356;
        int64_t redout_180357;
        
        redout_180356 = reduce_arg1_171453;
        redout_180357 = (int64_t) 0;
        for (int64_t i_180358 = 0; i_180358 < n_98589; i_180358++) {
            int16_t x_171456 = ((int16_t *) xs_mem_180696.mem)[i_180358];
            bool zlze_res_171462 = sle16(redout_180356, x_171456);
            int16_t defunc_0_op_res_171463;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171463 = x_171456;
            } else {
                defunc_0_op_res_171463 = redout_180356;
            }
            
            int64_t defunc_0_op_res_171464;
            
            if (zlze_res_171462) {
                defunc_0_op_res_171464 = i_180358;
            } else {
                defunc_0_op_res_171464 = redout_180357;
            }
            
            int16_t redout_tmp_182116 = defunc_0_op_res_171463;
            int64_t redout_tmp_182117 = defunc_0_op_res_171464;
            
            redout_180356 = redout_tmp_182116;
            redout_180357 = redout_tmp_182117;
        }
        x_181812 = redout_180356;
        x_181813 = redout_180357;
        defunc_0_reduce_res_178355 = x_181812;
        defunc_0_reduce_res_178356 = x_181813;
    } else {
        defunc_0_reduce_res_178355 = (int16_t) 0;
        defunc_0_reduce_res_178356 = (int64_t) 0;
    }
    
    int64_t distance_171476 = add64((int64_t) 1, tmp_171474);
    int64_t binop_x_180700 = (int64_t) 2 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180701 = block_sizze_171446 * binop_x_180700;
    int64_t binop_x_180703 = (int64_t) 8 * smallest_pow_2_geq_than_res_171436;
    int64_t bytes_180704 = block_sizze_171446 * binop_x_180703;
    int64_t bytes_180716 = (int64_t) 8 * block_sizze_171446;
    bool loop_cond_171550 = slt64(block_sizze_171446, flat_dim_171447);
    bool zzero_171551 = merge_block_sizze_171450 == (int64_t) 0;
    bool nonzzero_171552 = !zzero_171551;
    
    if (cond_171430) {
        if (memblock_set(ctx, &ext_mem_180904, &mem_180699, "mem_180699") != 0)
            return 1;
    } else {
        if (mem_180702_cached_sizze_182424 < bytes_180701) {
            err = lexical_realloc(ctx, &mem_180702, &mem_180702_cached_sizze_182424, bytes_180701);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180705_cached_sizze_182425 < bytes_180704) {
            err = lexical_realloc(ctx, &mem_180705, &mem_180705_cached_sizze_182425, bytes_180704);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180715_cached_sizze_182426 < greatest_divisor_leq_than_arg1_171449) {
            err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182426, greatest_divisor_leq_than_arg1_171449);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180717_cached_sizze_182427 < bytes_180716) {
            err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182427, bytes_180716);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180370 = 0; i_180370 < smallest_pow_2_geq_than_res_171436; i_180370++) {
            int64_t zp_lhs_171483 = mul64(block_sizze_171446, i_180370);
            
            for (int64_t i_180363 = 0; i_180363 < block_sizze_171446; i_180363++) {
                int64_t k_171487 = add64(zp_lhs_171483, i_180363);
                bool cond_171488 = slt64(k_171487, n_98589);
                int16_t lifted_lambda_res_171489;
                int64_t lifted_lambda_res_171490;
                
                if (cond_171488) {
                    bool x_178208 = sle64((int64_t) 0, k_171487);
                    bool bounds_check_178209 = cond_171488 && x_178208;
                    bool index_certs_178210;
                    
                    if (!bounds_check_178209) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171487, "] out of bounds for array of shape [", (long long) n_98589, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_178211 = ((int16_t *) xs_mem_180696.mem)[k_171487];
                    
                    lifted_lambda_res_171489 = lifted_lambda_res_t_res_178211;
                    lifted_lambda_res_171490 = k_171487;
                } else {
                    lifted_lambda_res_171489 = defunc_0_reduce_res_178355;
                    lifted_lambda_res_171490 = defunc_0_reduce_res_178356;
                }
                ((int16_t *) mem_180715)[i_180363] = lifted_lambda_res_171489;
                ((int64_t *) mem_180717)[i_180363] = lifted_lambda_res_171490;
            }
            if (!cond_171473) {
                for (int64_t i_171499 = 0; i_171499 < distance_171476; i_171499++) {
                    int64_t gt_arg1_171502 = add64((int64_t) 1, i_171499);
                    bool x_171503 = sle64((int64_t) 0, gt_arg1_171502);
                    bool y_171504 = slt64(gt_arg1_171502, block_sizze_171446);
                    bool bounds_check_171505 = x_171503 && y_171504;
                    bool index_certs_171506;
                    
                    if (!bounds_check_171505) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171502, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171508 = slt64(i_171499, block_sizze_171446);
                    bool index_certs_171509;
                    
                    if (!y_171508) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171499, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_171507 = ((int16_t *) mem_180715)[gt_arg1_171502];
                    int16_t gt_arg0_171510 = ((int16_t *) mem_180715)[i_171499];
                    bool zlze_res_171511 = sle16(gt_arg0_171510, gt_arg1_171507);
                    bool defunc_0_lifted_gt_res_171512 = !zlze_res_171511;
                    bool s_171513;
                    int64_t s_171516;
                    bool loop_while_171517;
                    int64_t j_171520;
                    
                    loop_while_171517 = defunc_0_lifted_gt_res_171512;
                    j_171520 = i_171499;
                    while (loop_while_171517) {
                        bool x_171521 = sle64((int64_t) 0, j_171520);
                        bool y_171522 = slt64(j_171520, block_sizze_171446);
                        bool bounds_check_171523 = x_171521 && y_171522;
                        bool index_certs_171524;
                        
                        if (!bounds_check_171523) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171520, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171527 = add64((int64_t) 1, j_171520);
                        bool x_171528 = sle64((int64_t) 0, copy_arg0_171527);
                        bool y_171529 = slt64(copy_arg0_171527, block_sizze_171446);
                        bool bounds_check_171530 = x_171528 && y_171529;
                        bool index_certs_171531;
                        
                        if (!bounds_check_171530) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171527, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_171525 = ((int16_t *) mem_180715)[j_171520];
                        int64_t copy_arg0_171526 = ((int64_t *) mem_180717)[j_171520];
                        int16_t copy_arg0_171532 = ((int16_t *) mem_180715)[copy_arg0_171527];
                        int64_t copy_arg0_171533 = ((int64_t *) mem_180717)[copy_arg0_171527];
                        
                        ((int16_t *) mem_180715)[j_171520] = copy_arg0_171532;
                        ((int64_t *) mem_180717)[j_171520] = copy_arg0_171533;
                        ((int16_t *) mem_180715)[copy_arg0_171527] = copy_arg0_171525;
                        ((int64_t *) mem_180717)[copy_arg0_171527] = copy_arg0_171526;
                        
                        int64_t tmp_171538 = sub64(j_171520, (int64_t) 1);
                        bool cond_171539 = sle64((int64_t) 0, tmp_171538);
                        bool loop_cond_171540;
                        
                        if (cond_171539) {
                            bool y_178213 = slt64(tmp_171538, block_sizze_171446);
                            bool bounds_check_178214 = cond_171539 && y_178213;
                            bool index_certs_178215;
                            
                            if (!bounds_check_178214) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171538, "] out of bounds for array of shape [", (long long) block_sizze_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_178212 = ((int16_t *) mem_180715)[j_171520];
                            int16_t gt_arg0_178216 = ((int16_t *) mem_180715)[tmp_171538];
                            bool zlze_res_178217 = sle16(gt_arg0_178216, gt_arg1_178212);
                            bool defunc_0_lifted_gt_res_178218 = !zlze_res_178217;
                            
                            loop_cond_171540 = defunc_0_lifted_gt_res_178218;
                        } else {
                            loop_cond_171540 = 0;
                        }
                        
                        bool loop_while_tmp_182124 = loop_cond_171540;
                        int64_t j_tmp_182127 = tmp_171538;
                        
                        loop_while_171517 = loop_while_tmp_182124;
                        j_171520 = j_tmp_182127;
                    }
                    s_171513 = loop_while_171517;
                    s_171516 = j_171520;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180702, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180715, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180705, i_180370 * block_sizze_171446, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180717, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171446});
        }
        if (memblock_alloc(ctx, &mem_180770, bytes_180701, "mem_180770")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180770.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint16_t *) mem_180702, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        if (memblock_alloc(ctx, &mem_180774, bytes_180704, "mem_180774")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180774.mem, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (uint64_t *) mem_180705, (int64_t) 0, (int64_t []) {block_sizze_171446, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171436, block_sizze_171446});
        
        int64_t data_171553;
        bool data_171554;
        int64_t data_171557;
        int64_t loop_dz2084Uz2082U_171558;
        bool loop_while_171559;
        int64_t stride_171562;
        
        if (memblock_set(ctx, &mem_param_180778, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180781, &mem_180774, "mem_180774") != 0)
            return 1;
        loop_dz2084Uz2082U_171558 = flat_dim_171447;
        loop_while_171559 = loop_cond_171550;
        stride_171562 = block_sizze_171446;
        while (loop_while_171559) {
            int64_t next_stride_171563 = mul64((int64_t) 2, stride_171562);
            bool zzero_171564 = next_stride_171563 == (int64_t) 0;
            bool nonzzero_171565 = !zzero_171564;
            bool nonzzero_cert_171566;
            
            if (!nonzzero_171565) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171567 = sdiv64(flat_dim_171447, next_stride_171563);
            bool bounds_invalid_upwards_171568 = slt64(num_merges_171567, (int64_t) 0);
            bool valid_171569 = !bounds_invalid_upwards_171568;
            bool range_valid_c_171570;
            
            if (!valid_171569) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171567, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171572 = sub64(next_stride_171563, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171573 = sle64((int64_t) 0, m_171572);
            bool cond_171575 = slt64(next_stride_171563, (int64_t) 10);
            bool protect_assert_disj_171576 = nonzzero_171552 || cond_171575;
            bool nonzzero_cert_171577;
            
            if (!protect_assert_disj_171576) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171578 = smod_safe64(next_stride_171563, merge_block_sizze_171450);
            bool num_blocks_171579 = zeze_lhs_171578 == (int64_t) 0;
            bool protect_assert_disj_171580 = cond_171575 || num_blocks_171579;
            bool assert_c_171581;
            
            if (!protect_assert_disj_171580) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171583 = sdiv_safe64(next_stride_171563, merge_block_sizze_171450);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584 = add64((int64_t) 1, num_blocks_171583);
            int64_t j_m_i_171585 = sub64(next_stride_171563, stride_171562);
            int64_t flat_dim_171586 = merge_block_sizze_171450 * num_blocks_171583;
            bool bounds_invalid_upwards_171587 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, (int64_t) 0);
            bool zzero_lte_i_171588 = sle64((int64_t) 0, stride_171562);
            bool i_lte_j_171589 = sle64(stride_171562, next_stride_171563);
            bool empty_slice_171590 = stride_171562 == (int64_t) 0;
            int64_t m_171591 = sub64(stride_171562, (int64_t) 1);
            bool bounds_invalid_upwards_171592 = slt64(num_blocks_171583, (int64_t) 0);
            bool empty_slice_171593 = j_m_i_171585 == (int64_t) 0;
            int64_t m_171594 = sub64(j_m_i_171585, (int64_t) 1);
            bool cond_171595 = slt64((int64_t) 0, stride_171562);
            bool valid_171596 = !bounds_invalid_upwards_171587;
            bool zzero_leq_i_p_m_t_s_171597 = sle64((int64_t) 0, m_171591);
            bool i_p_m_t_s_leq_w_171598 = slt64(m_171591, next_stride_171563);
            bool valid_171599 = !bounds_invalid_upwards_171592;
            bool i_p_m_t_s_leq_w_171600 = slt64(m_171572, flat_dim_171586);
            int64_t i_p_m_t_s_171601 = add64(stride_171562, m_171594);
            bool y_171602 = slt64((int64_t) 0, j_m_i_171585);
            bool protect_assert_disj_171603 = cond_171575 || valid_171596;
            bool range_valid_c_171604;
            
            if (!protect_assert_disj_171603) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171605 = zzero_leq_i_p_m_t_s_171597 && i_p_m_t_s_leq_w_171598;
            bool protect_assert_disj_171606 = cond_171575 || valid_171599;
            bool range_valid_c_171607;
            
            if (!protect_assert_disj_171606) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171583, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171608 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171600;
            bool zzero_leq_i_p_m_t_s_171609 = sle64((int64_t) 0, i_p_m_t_s_171601);
            bool i_p_m_t_s_leq_w_171610 = slt64(i_p_m_t_s_171601, next_stride_171563);
            bool forwards_ok_171611 = zzero_lte_i_171588 && y_171605;
            bool ok_or_empty_171612 = zzero_171564 || y_171608;
            bool y_171613 = zzero_lte_i_171588 && i_p_m_t_s_leq_w_171610;
            bool protect_assert_disj_171614 = cond_171595 || y_171602;
            bool ok_or_empty_171615 = empty_slice_171590 || forwards_ok_171611;
            bool protect_assert_disj_171616 = cond_171575 || ok_or_empty_171612;
            bool index_certs_171617;
            
            if (!protect_assert_disj_171616) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) flat_dim_171586, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171618 = zzero_leq_i_p_m_t_s_171609 && y_171613;
            bool loop_not_taken_171619 = !cond_171575;
            bool protect_assert_disj_171620 = protect_assert_disj_171614 || loop_not_taken_171619;
            bool index_certs_171621;
            
            if (!protect_assert_disj_171620) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171622 = cond_171575 || ok_or_empty_171615;
            bool index_certs_171623;
            
            if (!protect_assert_disj_171622) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171624 = i_lte_j_171589 && y_171618;
            bool protect_assert_disj_171625 = ok_or_empty_171615 || loop_not_taken_171619;
            bool index_certs_171626;
            
            if (!protect_assert_disj_171625) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171562, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171627 = empty_slice_171593 || forwards_ok_171624;
            bool protect_assert_disj_171628 = loop_not_taken_171619 || ok_or_empty_171627;
            bool index_certs_171629;
            
            if (!protect_assert_disj_171628) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171630 = cond_171575 || ok_or_empty_171627;
            bool index_certs_171631;
            
            if (!protect_assert_disj_171630) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171562, ":] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180782 = (int64_t) 2 * num_merges_171567;
            int64_t bytes_180783 = next_stride_171563 * binop_x_180782;
            int64_t binop_x_180785 = (int64_t) 8 * num_merges_171567;
            int64_t bytes_180786 = next_stride_171563 * binop_x_180785;
            bool i_lte_j_171574 = sle64((int64_t) 0, next_stride_171563);
            
            if (mem_180784_cached_sizze_182428 < bytes_180783) {
                err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182428, bytes_180783);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180787_cached_sizze_182429 < bytes_180786) {
                err = lexical_realloc(ctx, &mem_180787, &mem_180787_cached_sizze_182429, bytes_180786);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180796 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584;
            int64_t binop_x_180812 = (int64_t) 2 * num_blocks_171583;
            int64_t bytes_180813 = merge_block_sizze_171450 * binop_x_180812;
            int64_t binop_x_180815 = (int64_t) 8 * num_blocks_171583;
            int64_t bytes_180816 = merge_block_sizze_171450 * binop_x_180815;
            int64_t bytes_180858 = (int64_t) 4 * stride_171562;
            int64_t bytes_180860 = (int64_t) 16 * stride_171562;
            
            for (int64_t i_180391 = 0; i_180391 < num_merges_171567; i_180391++) {
                int64_t start_171635 = mul64(next_stride_171563, i_180391);
                int64_t j_m_i_171636 = sub64(loop_dz2084Uz2082U_171558, start_171635);
                bool empty_slice_171637 = j_m_i_171636 == (int64_t) 0;
                int64_t m_171638 = sub64(j_m_i_171636, (int64_t) 1);
                int64_t i_p_m_t_s_171639 = add64(start_171635, m_171638);
                bool zzero_leq_i_p_m_t_s_171640 = sle64((int64_t) 0, i_p_m_t_s_171639);
                bool i_p_m_t_s_leq_w_171641 = slt64(i_p_m_t_s_171639, loop_dz2084Uz2082U_171558);
                bool zzero_lte_i_171642 = sle64((int64_t) 0, start_171635);
                bool i_lte_j_171643 = sle64(start_171635, loop_dz2084Uz2082U_171558);
                bool y_171644 = i_p_m_t_s_leq_w_171641 && zzero_lte_i_171642;
                bool y_171645 = zzero_leq_i_p_m_t_s_171640 && y_171644;
                bool forwards_ok_171646 = i_lte_j_171643 && y_171645;
                bool ok_or_empty_171647 = empty_slice_171637 || forwards_ok_171646;
                bool index_certs_171648;
                
                if (!ok_or_empty_171647) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171635, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171558, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171649 = slt64(m_171572, j_m_i_171636);
                bool y_171650 = zzero_leq_i_p_m_t_s_171573 && i_p_m_t_s_leq_w_171649;
                bool forwards_ok_171651 = i_lte_j_171574 && y_171650;
                bool ok_or_empty_171652 = zzero_171564 || forwards_ok_171651;
                bool index_certs_171653;
                
                if (!ok_or_empty_171652) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171563, "] out of bounds for array of shape [", (long long) j_m_i_171636, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171575) {
                    int16_t dummy_178244;
                    int64_t dummy_178245;
                    
                    if (cond_171595) {
                        int16_t head_res_178246 = ((int16_t *) mem_param_180778.mem)[start_171635];
                        int64_t head_res_178247 = ((int64_t *) mem_param_180781.mem)[start_171635];
                        
                        dummy_178244 = head_res_178246;
                        dummy_178245 = head_res_178247;
                    } else {
                        int64_t slice_178248 = stride_171562 + start_171635;
                        int16_t head_res_178249 = ((int16_t *) mem_param_180778.mem)[slice_178248];
                        int64_t head_res_178250 = ((int64_t *) mem_param_180781.mem)[slice_178248];
                        
                        dummy_178244 = head_res_178249;
                        dummy_178245 = head_res_178250;
                    }
                    if (memblock_alloc(ctx, &mem_180859, bytes_180858, "mem_180859")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182137 = 0; nest_i_182137 < next_stride_171563; nest_i_182137++) {
                        ((int16_t *) mem_180859.mem)[nest_i_182137] = dummy_178244;
                    }
                    if (memblock_alloc(ctx, &mem_180861, bytes_180860, "mem_180861")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182138 = 0; nest_i_182138 < next_stride_171563; nest_i_182138++) {
                        ((int64_t *) mem_180861.mem)[nest_i_182138] = dummy_178245;
                    }
                    
                    int64_t data_178253;
                    int64_t i_178257 = (int64_t) 0;
                    
                    for (int64_t k_178256 = 0; k_178256 < next_stride_171563; k_178256++) {
                        int64_t j_178260 = sub64(k_178256, i_178257);
                        bool cond_178261 = j_178260 == j_m_i_171585;
                        bool cond_178262;
                        
                        if (cond_178261) {
                            cond_178262 = 1;
                        } else {
                            bool cond_178263 = slt64(i_178257, stride_171562);
                            bool cond_f_res_178264;
                            
                            if (cond_178263) {
                                bool x_178265 = sle64((int64_t) 0, j_178260);
                                bool y_178266 = slt64(j_178260, j_m_i_171585);
                                bool bounds_check_178267 = x_178265 && y_178266;
                                bool index_certs_178268;
                                
                                if (!bounds_check_178267) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178272 = sle64((int64_t) 0, i_178257);
                                bool bounds_check_178273 = cond_178263 && x_178272;
                                bool index_certs_178274;
                                
                                if (!bounds_check_178273) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178269 = stride_171562 + j_178260;
                                int64_t slice_178270 = start_171635 + slice_178269;
                                int16_t leq_arg1_178271 = ((int16_t *) mem_param_180778.mem)[slice_178270];
                                int64_t slice_178275 = start_171635 + i_178257;
                                int16_t leq_arg0_178276 = ((int16_t *) mem_param_180778.mem)[slice_178275];
                                bool zlze_res_178277 = sle16(leq_arg0_178276, leq_arg1_178271);
                                
                                cond_f_res_178264 = zlze_res_178277;
                            } else {
                                cond_f_res_178264 = 0;
                            }
                            cond_178262 = cond_f_res_178264;
                        }
                        
                        int64_t loopres_178278;
                        int16_t loopres_178279;
                        int64_t loopres_178280;
                        
                        if (cond_178262) {
                            bool x_178282 = sle64((int64_t) 0, i_178257);
                            bool y_178283 = slt64(i_178257, stride_171562);
                            bool bounds_check_178284 = x_178282 && y_178283;
                            bool index_certs_178285;
                            
                            if (!bounds_check_178284) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178257, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178281 = add64((int64_t) 1, i_178257);
                            int64_t slice_178286 = start_171635 + i_178257;
                            int16_t tmp_178287 = ((int16_t *) mem_param_180778.mem)[slice_178286];
                            int64_t tmp_178288 = ((int64_t *) mem_param_180781.mem)[slice_178286];
                            
                            loopres_178278 = tmp_178281;
                            loopres_178279 = tmp_178287;
                            loopres_178280 = tmp_178288;
                        } else {
                            bool x_178289 = sle64((int64_t) 0, j_178260);
                            bool y_178290 = slt64(j_178260, j_m_i_171585);
                            bool bounds_check_178291 = x_178289 && y_178290;
                            bool index_certs_178292;
                            
                            if (!bounds_check_178291) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178260, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178293 = stride_171562 + j_178260;
                            int64_t slice_178294 = start_171635 + slice_178293;
                            int16_t tmp_178295 = ((int16_t *) mem_param_180778.mem)[slice_178294];
                            int64_t tmp_178296 = ((int64_t *) mem_param_180781.mem)[slice_178294];
                            
                            loopres_178278 = i_178257;
                            loopres_178279 = tmp_178295;
                            loopres_178280 = tmp_178296;
                        }
                        ((int16_t *) mem_180859.mem)[k_178256] = loopres_178279;
                        ((int64_t *) mem_180861.mem)[k_178256] = loopres_178280;
                        
                        int64_t i_tmp_182139 = loopres_178278;
                        
                        i_178257 = i_tmp_182139;
                    }
                    data_178253 = i_178257;
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180859, "mem_180859") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180861, "mem_180861") != 0)
                        return 1;
                } else {
                    if (mem_180797_cached_sizze_182430 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180797, &mem_180797_cached_sizze_182430, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180799_cached_sizze_182431 < bytes_180796) {
                        err = lexical_realloc(ctx, &mem_180799, &mem_180799_cached_sizze_182431, bytes_180796);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180377 = 0; i_180377 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584; i_180377++) {
                        int64_t split_count_arg3_171715 = mul64(merge_block_sizze_171450, i_180377);
                        int64_t defunc_0_split_count_res_171716;
                        int64_t defunc_0_split_count_res_171717;
                        int64_t defunc_0_split_count_res_171718;
                        int64_t defunc_0_split_count_res_171719;
                        int64_t defunc_0_split_count_res_171720;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_171716, &defunc_0_split_count_res_171717, &defunc_0_split_count_res_171718, &defunc_0_split_count_res_171719, &defunc_0_split_count_res_171720, (int64_t) 0, stride_171562, (int64_t) 0, j_m_i_171585, split_count_arg3_171715) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171721 = slt64((int64_t) 0, defunc_0_split_count_res_171720);
                        bool defunc_0_split_count_res_171722;
                        int64_t defunc_0_split_count_res_171723;
                        int64_t defunc_0_split_count_res_171724;
                        int64_t defunc_0_split_count_res_171725;
                        int64_t defunc_0_split_count_res_171726;
                        int64_t defunc_0_split_count_res_171727;
                        bool loop_while_171728;
                        int64_t ss_171729;
                        int64_t ss_171730;
                        int64_t tt_171731;
                        int64_t tt_171732;
                        int64_t count_171733;
                        
                        loop_while_171728 = loop_cond_171721;
                        ss_171729 = defunc_0_split_count_res_171716;
                        ss_171730 = defunc_0_split_count_res_171717;
                        tt_171731 = defunc_0_split_count_res_171718;
                        tt_171732 = defunc_0_split_count_res_171719;
                        count_171733 = defunc_0_split_count_res_171720;
                        while (loop_while_171728) {
                            int64_t zlze_lhs_171734 = sub64(ss_171730, ss_171729);
                            bool cond_171735 = sle64(zlze_lhs_171734, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171736;
                            int64_t defunc_0_lifted_step_res_171737;
                            int64_t defunc_0_lifted_step_res_171738;
                            int64_t defunc_0_lifted_step_res_171739;
                            
                            if (cond_171735) {
                                int64_t tmp_178299 = add64(tt_171731, count_171733);
                                
                                defunc_0_lifted_step_res_171736 = ss_171729;
                                defunc_0_lifted_step_res_171737 = tmp_178299;
                                defunc_0_lifted_step_res_171738 = tt_171732;
                                defunc_0_lifted_step_res_171739 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171741 = sub64(tt_171732, tt_171731);
                                bool cond_171742 = sle64(zlze_lhs_171741, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171743;
                                int64_t defunc_0_lifted_step_res_f_res_171744;
                                int64_t defunc_0_lifted_step_res_f_res_171745;
                                int64_t defunc_0_lifted_step_res_f_res_171746;
                                
                                if (cond_171742) {
                                    int64_t tmp_178300 = add64(ss_171729, count_171733);
                                    
                                    defunc_0_lifted_step_res_f_res_171743 = tmp_178300;
                                    defunc_0_lifted_step_res_f_res_171744 = tt_171731;
                                    defunc_0_lifted_step_res_f_res_171745 = tt_171732;
                                    defunc_0_lifted_step_res_f_res_171746 = (int64_t) 0;
                                } else {
                                    bool cond_171748 = count_171733 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171749;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171750;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171751;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171752;
                                    
                                    if (cond_171748) {
                                        bool x_178302 = sle64((int64_t) 0, ss_171729);
                                        bool y_178303 = slt64(ss_171729, stride_171562);
                                        bool bounds_check_178304 = x_178302 && y_178303;
                                        bool index_certs_178305;
                                        
                                        if (!bounds_check_178304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171729, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178308 = sle64((int64_t) 0, tt_171731);
                                        bool y_178309 = slt64(tt_171731, j_m_i_171585);
                                        bool bounds_check_178310 = x_178308 && y_178309;
                                        bool index_certs_178311;
                                        
                                        if (!bounds_check_178310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171731, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178306 = start_171635 + ss_171729;
                                        int16_t leq_arg1_178307 = ((int16_t *) mem_param_180778.mem)[slice_178306];
                                        int64_t slice_178312 = stride_171562 + tt_171731;
                                        int64_t slice_178313 = start_171635 + slice_178312;
                                        int16_t leq_arg0_178314 = ((int16_t *) mem_param_180778.mem)[slice_178313];
                                        bool zlze_res_178315 = sle16(leq_arg0_178314, leq_arg1_178307);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        
                                        if (zlze_res_178315) {
                                            int64_t tmp_178318 = add64((int64_t) 1, tt_171731);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = ss_171729;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tmp_178318;
                                        } else {
                                            int64_t tmp_178319 = add64((int64_t) 1, ss_171729);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178316 = tmp_178319;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178317 = tt_171731;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = defunc_0_lifted_step_res_f_res_f_res_t_res_178316;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_t_res_178317;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = tt_171732;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = (int64_t) 0;
                                    } else {
                                        int64_t m_171771 = sdiv64(count_171733, (int64_t) 2);
                                        int64_t n_171772 = sub64(count_171733, m_171771);
                                        bool cond_171773 = n_171772 == (int64_t) 0;
                                        int64_t zgze_lhs_171774 = add64(ss_171729, m_171771);
                                        bool cond_f_res_171775 = sle64(ss_171730, zgze_lhs_171774);
                                        bool x_171776 = !cond_171773;
                                        bool y_171777 = cond_f_res_171775 && x_171776;
                                        bool cond_171778 = cond_171773 || y_171777;
                                        bool leq_y_x_171779;
                                        
                                        if (cond_171778) {
                                            leq_y_x_171779 = 1;
                                        } else {
                                            bool x_171780 = sle64((int64_t) 0, zgze_lhs_171774);
                                            bool y_171781 = slt64(zgze_lhs_171774, stride_171562);
                                            bool bounds_check_171782 = x_171780 && y_171781;
                                            bool index_certs_171783;
                                            
                                            if (!bounds_check_171782) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171774, "] out of bounds for array of shape [", (long long) stride_171562, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171786 = add64(tt_171731, n_171772);
                                            int64_t leq_arg0_171787 = sub64(zm_lhs_171786, (int64_t) 1);
                                            bool x_171788 = sle64((int64_t) 0, leq_arg0_171787);
                                            bool y_171789 = slt64(leq_arg0_171787, j_m_i_171585);
                                            bool bounds_check_171790 = x_171788 && y_171789;
                                            bool index_certs_171791;
                                            
                                            if (!bounds_check_171790) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171787, "] out of bounds for array of shape [", (long long) j_m_i_171585, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171784 = start_171635 + zgze_lhs_171774;
                                            int16_t leq_arg1_171785 = ((int16_t *) mem_param_180778.mem)[slice_171784];
                                            int64_t slice_171792 = stride_171562 + leq_arg0_171787;
                                            int64_t slice_171793 = start_171635 + slice_171792;
                                            int16_t leq_arg0_171794 = ((int16_t *) mem_param_180778.mem)[slice_171793];
                                            bool zlze_res_171795 = sle16(leq_arg0_171794, leq_arg1_171785);
                                            
                                            leq_y_x_171779 = zlze_res_171795;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                        
                                        if (leq_y_x_171779) {
                                            int64_t tmp_178320 = add64(tt_171731, n_171772);
                                            int64_t tmp_178321 = sub64(count_171733, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tmp_178320;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tt_171732;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = tmp_178321;
                                        } else {
                                            int64_t tmp_171801 = add64(tt_171731, n_171772);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171796 = tt_171731;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171797 = tmp_171801;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171798 = count_171733;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171749 = ss_171729;
                                        defunc_0_lifted_step_res_f_res_f_res_171750 = defunc_0_lifted_step_res_f_res_f_res_f_res_171796;
                                        defunc_0_lifted_step_res_f_res_f_res_171751 = defunc_0_lifted_step_res_f_res_f_res_f_res_171797;
                                        defunc_0_lifted_step_res_f_res_f_res_171752 = defunc_0_lifted_step_res_f_res_f_res_f_res_171798;
                                    }
                                    defunc_0_lifted_step_res_f_res_171743 = defunc_0_lifted_step_res_f_res_f_res_171749;
                                    defunc_0_lifted_step_res_f_res_171744 = defunc_0_lifted_step_res_f_res_f_res_171750;
                                    defunc_0_lifted_step_res_f_res_171745 = defunc_0_lifted_step_res_f_res_f_res_171751;
                                    defunc_0_lifted_step_res_f_res_171746 = defunc_0_lifted_step_res_f_res_f_res_171752;
                                }
                                defunc_0_lifted_step_res_171736 = defunc_0_lifted_step_res_f_res_171743;
                                defunc_0_lifted_step_res_171737 = defunc_0_lifted_step_res_f_res_171744;
                                defunc_0_lifted_step_res_171738 = defunc_0_lifted_step_res_f_res_171745;
                                defunc_0_lifted_step_res_171739 = defunc_0_lifted_step_res_f_res_171746;
                            }
                            
                            int64_t loopres_171802;
                            int64_t loopres_171803;
                            int64_t loopres_171804;
                            int64_t loopres_171805;
                            int64_t loopres_171806;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_171802, &loopres_171803, &loopres_171804, &loopres_171805, &loopres_171806, defunc_0_lifted_step_res_171736, ss_171730, defunc_0_lifted_step_res_171737, defunc_0_lifted_step_res_171738, defunc_0_lifted_step_res_171739) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171807 = slt64((int64_t) 0, loopres_171806);
                            bool loop_while_tmp_182144 = loop_cond_171807;
                            int64_t ss_tmp_182145 = loopres_171802;
                            int64_t ss_tmp_182146 = loopres_171803;
                            int64_t tt_tmp_182147 = loopres_171804;
                            int64_t tt_tmp_182148 = loopres_171805;
                            int64_t count_tmp_182149 = loopres_171806;
                            
                            loop_while_171728 = loop_while_tmp_182144;
                            ss_171729 = ss_tmp_182145;
                            ss_171730 = ss_tmp_182146;
                            tt_171731 = tt_tmp_182147;
                            tt_171732 = tt_tmp_182148;
                            count_171733 = count_tmp_182149;
                        }
                        defunc_0_split_count_res_171722 = loop_while_171728;
                        defunc_0_split_count_res_171723 = ss_171729;
                        defunc_0_split_count_res_171724 = ss_171730;
                        defunc_0_split_count_res_171725 = tt_171731;
                        defunc_0_split_count_res_171726 = tt_171732;
                        defunc_0_split_count_res_171727 = count_171733;
                        ((int64_t *) mem_180797)[i_180377] = defunc_0_split_count_res_171723;
                        ((int64_t *) mem_180799)[i_180377] = defunc_0_split_count_res_171725;
                    }
                    if (mem_180814_cached_sizze_182432 < bytes_180813) {
                        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182432, bytes_180813);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180817_cached_sizze_182433 < bytes_180816) {
                        err = lexical_realloc(ctx, &mem_180817, &mem_180817_cached_sizze_182433, bytes_180816);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180384 = 0; i_180384 < num_blocks_171583; i_180384++) {
                        bool y_171813 = slt64(i_180384, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool index_certs_171815;
                        
                        if (!y_171813) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180384, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171816 = ((int64_t *) mem_180797)[i_180384];
                        int64_t defunc_0_f_res_171817 = ((int64_t *) mem_180799)[i_180384];
                        int64_t tmp_171818 = add64((int64_t) 1, i_180384);
                        bool x_171819 = sle64((int64_t) 0, tmp_171818);
                        bool y_171820 = slt64(tmp_171818, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584);
                        bool bounds_check_171821 = x_171819 && y_171820;
                        bool index_certs_171822;
                        
                        if (!bounds_check_171821) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171818, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171584, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171823 = ((int64_t *) mem_180797)[tmp_171818];
                        int64_t defunc_0_f_res_171824 = ((int64_t *) mem_180799)[tmp_171818];
                        int64_t merge_sequential_arg2_171825 = add64(stride_171562, defunc_0_f_res_171817);
                        int64_t merge_sequential_arg2_171826 = add64(stride_171562, defunc_0_f_res_171824);
                        int64_t j_m_i_171827 = sub64(merge_sequential_arg2_171826, merge_sequential_arg2_171825);
                        bool empty_slice_171828 = j_m_i_171827 == (int64_t) 0;
                        int64_t m_171829 = sub64(j_m_i_171827, (int64_t) 1);
                        int64_t i_p_m_t_s_171830 = add64(merge_sequential_arg2_171825, m_171829);
                        bool zzero_leq_i_p_m_t_s_171831 = sle64((int64_t) 0, i_p_m_t_s_171830);
                        bool i_p_m_t_s_leq_w_171832 = slt64(i_p_m_t_s_171830, next_stride_171563);
                        bool zzero_lte_i_171833 = sle64((int64_t) 0, merge_sequential_arg2_171825);
                        bool i_lte_j_171834 = sle64(merge_sequential_arg2_171825, merge_sequential_arg2_171826);
                        bool y_171835 = i_p_m_t_s_leq_w_171832 && zzero_lte_i_171833;
                        bool y_171836 = zzero_leq_i_p_m_t_s_171831 && y_171835;
                        bool forwards_ok_171837 = i_lte_j_171834 && y_171836;
                        bool ok_or_empty_171838 = empty_slice_171828 || forwards_ok_171837;
                        bool index_certs_171839;
                        
                        if (!ok_or_empty_171838) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171825, ":", (long long) merge_sequential_arg2_171826, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171840 = sub64(defunc_0_f_res_171823, defunc_0_f_res_171816);
                        bool empty_slice_171841 = j_m_i_171840 == (int64_t) 0;
                        int64_t m_171842 = sub64(j_m_i_171840, (int64_t) 1);
                        int64_t i_p_m_t_s_171843 = add64(defunc_0_f_res_171816, m_171842);
                        bool zzero_leq_i_p_m_t_s_171844 = sle64((int64_t) 0, i_p_m_t_s_171843);
                        bool i_p_m_t_s_leq_w_171845 = slt64(i_p_m_t_s_171843, next_stride_171563);
                        bool zzero_lte_i_171846 = sle64((int64_t) 0, defunc_0_f_res_171816);
                        bool i_lte_j_171847 = sle64(defunc_0_f_res_171816, defunc_0_f_res_171823);
                        bool y_171848 = i_p_m_t_s_leq_w_171845 && zzero_lte_i_171846;
                        bool y_171849 = zzero_leq_i_p_m_t_s_171844 && y_171848;
                        bool forwards_ok_171850 = i_lte_j_171847 && y_171849;
                        bool ok_or_empty_171851 = empty_slice_171841 || forwards_ok_171850;
                        bool index_certs_171852;
                        
                        if (!ok_or_empty_171851) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171816, ":", (long long) defunc_0_f_res_171823, "] out of bounds for array of shape [", (long long) next_stride_171563, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171853 = slt64((int64_t) 0, j_m_i_171840);
                        int16_t dummy_171854;
                        int64_t dummy_171855;
                        
                        if (cond_171853) {
                            bool index_certs_178322;
                            
                            if (!cond_171853) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178323 = start_171635 + defunc_0_f_res_171816;
                            int16_t head_res_178324 = ((int16_t *) mem_param_180778.mem)[slice_178323];
                            int64_t head_res_178325 = ((int64_t *) mem_param_180781.mem)[slice_178323];
                            
                            dummy_171854 = head_res_178324;
                            dummy_171855 = head_res_178325;
                        } else {
                            bool y_171860 = slt64((int64_t) 0, j_m_i_171827);
                            bool index_certs_171861;
                            
                            if (!y_171860) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171862 = start_171635 + merge_sequential_arg2_171825;
                            int16_t head_res_171863 = ((int16_t *) mem_param_180778.mem)[slice_171862];
                            int64_t head_res_171864 = ((int64_t *) mem_param_180781.mem)[slice_171862];
                            
                            dummy_171854 = head_res_171863;
                            dummy_171855 = head_res_171864;
                        }
                        for (int64_t nest_i_182152 = 0; nest_i_182152 < merge_block_sizze_171450; nest_i_182152++) {
                            ((int16_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + nest_i_182152] = dummy_171854;
                        }
                        for (int64_t nest_i_182153 = 0; nest_i_182153 < merge_block_sizze_171450; nest_i_182153++) {
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + nest_i_182153] = dummy_171855;
                        }
                        
                        int64_t data_171867;
                        int64_t i_171871 = (int64_t) 0;
                        
                        for (int64_t k_171870 = 0; k_171870 < merge_block_sizze_171450; k_171870++) {
                            int64_t j_171874 = sub64(k_171870, i_171871);
                            bool cond_171875 = j_171874 == j_m_i_171827;
                            bool cond_171876;
                            
                            if (cond_171875) {
                                cond_171876 = 1;
                            } else {
                                bool cond_171877 = slt64(i_171871, j_m_i_171840);
                                bool cond_f_res_171878;
                                
                                if (cond_171877) {
                                    bool x_178326 = sle64((int64_t) 0, j_171874);
                                    bool y_178327 = slt64(j_171874, j_m_i_171827);
                                    bool bounds_check_178328 = x_178326 && y_178327;
                                    bool index_certs_178329;
                                    
                                    if (!bounds_check_178328) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178333 = sle64((int64_t) 0, i_171871);
                                    bool bounds_check_178334 = cond_171877 && x_178333;
                                    bool index_certs_178335;
                                    
                                    if (!bounds_check_178334) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178330 = merge_sequential_arg2_171825 + j_171874;
                                    int64_t slice_178331 = start_171635 + slice_178330;
                                    int16_t leq_arg1_178332 = ((int16_t *) mem_param_180778.mem)[slice_178331];
                                    int64_t slice_178336 = defunc_0_f_res_171816 + i_171871;
                                    int64_t slice_178337 = start_171635 + slice_178336;
                                    int16_t leq_arg0_178338 = ((int16_t *) mem_param_180778.mem)[slice_178337];
                                    bool zlze_res_178339 = sle16(leq_arg0_178338, leq_arg1_178332);
                                    
                                    cond_f_res_171878 = zlze_res_178339;
                                } else {
                                    cond_f_res_171878 = 0;
                                }
                                cond_171876 = cond_f_res_171878;
                            }
                            
                            int64_t loopres_171893;
                            int16_t loopres_171894;
                            int64_t loopres_171895;
                            
                            if (cond_171876) {
                                bool x_178341 = sle64((int64_t) 0, i_171871);
                                bool y_178342 = slt64(i_171871, j_m_i_171840);
                                bool bounds_check_178343 = x_178341 && y_178342;
                                bool index_certs_178344;
                                
                                if (!bounds_check_178343) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171871, "] out of bounds for array of shape [", (long long) j_m_i_171840, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178340 = add64((int64_t) 1, i_171871);
                                int64_t slice_178345 = defunc_0_f_res_171816 + i_171871;
                                int64_t slice_178346 = start_171635 + slice_178345;
                                int16_t tmp_178347 = ((int16_t *) mem_param_180778.mem)[slice_178346];
                                int64_t tmp_178348 = ((int64_t *) mem_param_180781.mem)[slice_178346];
                                
                                loopres_171893 = tmp_178340;
                                loopres_171894 = tmp_178347;
                                loopres_171895 = tmp_178348;
                            } else {
                                bool x_171905 = sle64((int64_t) 0, j_171874);
                                bool y_171906 = slt64(j_171874, j_m_i_171827);
                                bool bounds_check_171907 = x_171905 && y_171906;
                                bool index_certs_171908;
                                
                                if (!bounds_check_171907) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171874, "] out of bounds for array of shape [", (long long) j_m_i_171827, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171909 = merge_sequential_arg2_171825 + j_171874;
                                int64_t slice_171910 = start_171635 + slice_171909;
                                int16_t tmp_171911 = ((int16_t *) mem_param_180778.mem)[slice_171910];
                                int64_t tmp_171912 = ((int64_t *) mem_param_180781.mem)[slice_171910];
                                
                                loopres_171893 = i_171871;
                                loopres_171894 = tmp_171911;
                                loopres_171895 = tmp_171912;
                            }
                            ((int16_t *) mem_180814)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171894;
                            ((int64_t *) mem_180817)[i_180384 * merge_block_sizze_171450 + k_171870] = loopres_171895;
                            
                            int64_t i_tmp_182154 = loopres_171893;
                            
                            i_171871 = i_tmp_182154;
                        }
                        data_171867 = i_171871;
                    }
                    if (memblock_alloc(ctx, &mem_180852, bytes_180813, "mem_180852")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180852.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint16_t *) mem_180814, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_alloc(ctx, &mem_180856, bytes_180816, "mem_180856")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180856.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (uint64_t *) mem_180817, (int64_t) 0, (int64_t []) {merge_block_sizze_171450, (int64_t) 1}, (int64_t []) {num_blocks_171583, merge_block_sizze_171450});
                    if (memblock_set(ctx, &ext_mem_180879, &mem_180852, "mem_180852") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180876, &mem_180856, "mem_180856") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180784, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180879.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180787, i_180391 * next_stride_171563, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180876.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171563});
                if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171919 = next_stride_171563 * num_merges_171567;
            
            if (memblock_alloc(ctx, &mem_180890, bytes_180783, "mem_180890")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_180890.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint16_t *) mem_180784, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            if (memblock_alloc(ctx, &mem_180894, bytes_180786, "mem_180894")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180894.mem, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (uint64_t *) mem_180787, (int64_t) 0, (int64_t []) {next_stride_171563, (int64_t) 1}, (int64_t []) {num_merges_171567, next_stride_171563});
            
            bool loop_cond_171922 = slt64(next_stride_171563, flat_dim_171447);
            
            if (memblock_set(ctx, &mem_param_tmp_182128, &mem_180890, "mem_180890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182129, &mem_180894, "mem_180894") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182130 = flat_dim_171919;
            bool loop_while_tmp_182131 = loop_cond_171922;
            int64_t stride_tmp_182134 = next_stride_171563;
            
            if (memblock_set(ctx, &mem_param_180778, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180781, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
                return 1;
            loop_dz2084Uz2082U_171558 = loop_dz2084Uz2082U_tmp_182130;
            loop_while_171559 = loop_while_tmp_182131;
            stride_171562 = stride_tmp_182134;
        }
        if (memblock_set(ctx, &ext_mem_180901, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180900, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        data_171553 = loop_dz2084Uz2082U_171558;
        data_171554 = loop_while_171559;
        data_171557 = stride_171562;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        
        bool empty_slice_171923 = n_98589 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171924 = sle64((int64_t) 0, zs_lhs_171431);
        bool i_p_m_t_s_leq_w_171925 = slt64(zs_lhs_171431, data_171553);
        bool y_171926 = zzero_leq_i_p_m_t_s_171924 && i_p_m_t_s_leq_w_171925;
        bool ok_or_empty_171927 = empty_slice_171923 || y_171926;
        bool index_certs_171928;
        
        if (!ok_or_empty_171927) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98589, "] out of bounds for array of shape [", (long long) data_171553, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180904, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180906, bytes_180698, "mem_180906")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180908, bytes_180907, "mem_180908")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180398 = 0; i_180398 < n_98589; i_180398++) {
        int64_t eta_p_171932 = ((int64_t *) ext_mem_180904.mem)[i_180398];
        bool x_171933 = sle64((int64_t) 0, eta_p_171932);
        bool y_171934 = slt64(eta_p_171932, n_98589);
        bool bounds_check_171935 = x_171933 && y_171934;
        bool index_certs_171936;
        
        if (!bounds_check_171935) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171932, "] out of bounds for array of shape [", (long long) n_98589, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171937 = ((int64_t *) ext_mem_180697.mem)[eta_p_171932];
        int16_t lifted_lambda_res_171938 = ((int16_t *) xs_mem_180696.mem)[eta_p_171932];
        
        ((int64_t *) mem_180906.mem)[i_180398] = lifted_lambda_res_171937;
        ((int16_t *) mem_180908.mem)[i_180398] = lifted_lambda_res_171938;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180906, "mem_180906") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180908, "mem_180908") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182422, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182423, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180702);
        free(mem_180705);
        free(mem_180715);
        free(mem_180717);
        free(mem_180784);
        free(mem_180787);
        free(mem_180797);
        free(mem_180799);
        free(mem_180814);
        free(mem_180817);
        if (memblock_unref(ctx, &mem_180908, "mem_180908") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180906, "mem_180906") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182129, "mem_param_tmp_182129") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182128, "mem_param_tmp_182128") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180894, "mem_180894") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180890, "mem_180890") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180856, "mem_180856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180852, "mem_180852") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180861, "mem_180861") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180859, "mem_180859") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180876, "ext_mem_180876") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180879, "ext_mem_180879") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180781, "mem_param_180781") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180778, "mem_param_180778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180900, "ext_mem_180900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180901, "ext_mem_180901") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180774, "mem_180774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180770, "mem_180770") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180904, "ext_mem_180904") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182434, struct memblock *mem_out_p_182435, struct memblock *mem_out_p_182436, int64_t *out_prim_out_182437, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_162940, int64_t nb_162941, int64_t window_sizze_162942, int64_t threads_162943, bool inParallel_162946)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180713_cached_sizze_182438 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182439 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180754_cached_sizze_182440 = 0;
    unsigned char *mem_180754 = NULL;
    int64_t mem_180757_cached_sizze_182441 = 0;
    unsigned char *mem_180757 = NULL;
    int64_t mem_180760_cached_sizze_182442 = 0;
    unsigned char *mem_180760 = NULL;
    int64_t mem_180773_cached_sizze_182443 = 0;
    unsigned char *mem_180773 = NULL;
    int64_t mem_180775_cached_sizze_182444 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180777_cached_sizze_182445 = 0;
    unsigned char *mem_180777 = NULL;
    int64_t mem_180874_cached_sizze_182446 = 0;
    unsigned char *mem_180874 = NULL;
    int64_t mem_180877_cached_sizze_182447 = 0;
    unsigned char *mem_180877 = NULL;
    int64_t mem_180880_cached_sizze_182448 = 0;
    unsigned char *mem_180880 = NULL;
    int64_t mem_180894_cached_sizze_182449 = 0;
    unsigned char *mem_180894 = NULL;
    int64_t mem_180896_cached_sizze_182450 = 0;
    unsigned char *mem_180896 = NULL;
    int64_t mem_180910_cached_sizze_182451 = 0;
    unsigned char *mem_180910 = NULL;
    int64_t mem_180913_cached_sizze_182452 = 0;
    unsigned char *mem_180913 = NULL;
    int64_t mem_180916_cached_sizze_182453 = 0;
    unsigned char *mem_180916 = NULL;
    int64_t mem_181058_cached_sizze_182454 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181060_cached_sizze_182455 = 0;
    unsigned char *mem_181060 = NULL;
    int64_t mem_181075_cached_sizze_182456 = 0;
    unsigned char *mem_181075 = NULL;
    int64_t mem_181077_cached_sizze_182457 = 0;
    unsigned char *mem_181077 = NULL;
    int64_t mem_181080_cached_sizze_182458 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182459 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181117_cached_sizze_182460 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_182461 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182462 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181136_cached_sizze_182463 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_182464 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181140_cached_sizze_182465 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181237_cached_sizze_182466 = 0;
    unsigned char *mem_181237 = NULL;
    int64_t mem_181240_cached_sizze_182467 = 0;
    unsigned char *mem_181240 = NULL;
    int64_t mem_181243_cached_sizze_182468 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181257_cached_sizze_182469 = 0;
    unsigned char *mem_181257 = NULL;
    int64_t mem_181259_cached_sizze_182470 = 0;
    unsigned char *mem_181259 = NULL;
    int64_t mem_181273_cached_sizze_182471 = 0;
    unsigned char *mem_181273 = NULL;
    int64_t mem_181276_cached_sizze_182472 = 0;
    unsigned char *mem_181276 = NULL;
    int64_t mem_181279_cached_sizze_182473 = 0;
    unsigned char *mem_181279 = NULL;
    int64_t mem_181496_cached_sizze_182474 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181499_cached_sizze_182475 = 0;
    unsigned char *mem_181499 = NULL;
    int64_t mem_181502_cached_sizze_182476 = 0;
    unsigned char *mem_181502 = NULL;
    int64_t mem_181515_cached_sizze_182477 = 0;
    unsigned char *mem_181515 = NULL;
    int64_t mem_181517_cached_sizze_182478 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181519_cached_sizze_182479 = 0;
    unsigned char *mem_181519 = NULL;
    int64_t mem_181616_cached_sizze_182480 = 0;
    unsigned char *mem_181616 = NULL;
    int64_t mem_181619_cached_sizze_182481 = 0;
    unsigned char *mem_181619 = NULL;
    int64_t mem_181622_cached_sizze_182482 = 0;
    unsigned char *mem_181622 = NULL;
    int64_t mem_181636_cached_sizze_182483 = 0;
    unsigned char *mem_181636 = NULL;
    int64_t mem_181638_cached_sizze_182484 = 0;
    unsigned char *mem_181638 = NULL;
    int64_t mem_181652_cached_sizze_182485 = 0;
    unsigned char *mem_181652 = NULL;
    int64_t mem_181655_cached_sizze_182486 = 0;
    unsigned char *mem_181655 = NULL;
    int64_t mem_181658_cached_sizze_182487 = 0;
    unsigned char *mem_181658 = NULL;
    struct memblock mem_param_tmp_182334;
    
    mem_param_tmp_182334.references = NULL;
    
    struct memblock mem_param_tmp_182333;
    
    mem_param_tmp_182333.references = NULL;
    
    struct memblock mem_param_tmp_182332;
    
    mem_param_tmp_182332.references = NULL;
    
    struct memblock mem_181770;
    
    mem_181770.references = NULL;
    
    struct memblock mem_181766;
    
    mem_181766.references = NULL;
    
    struct memblock mem_181762;
    
    mem_181762.references = NULL;
    
    struct memblock mem_181715;
    
    mem_181715.references = NULL;
    
    struct memblock mem_181711;
    
    mem_181711.references = NULL;
    
    struct memblock mem_181707;
    
    mem_181707.references = NULL;
    
    struct memblock mem_181721;
    
    mem_181721.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181717;
    
    mem_181717.references = NULL;
    
    struct memblock ext_mem_181742;
    
    ext_mem_181742.references = NULL;
    
    struct memblock ext_mem_181745;
    
    ext_mem_181745.references = NULL;
    
    struct memblock ext_mem_181748;
    
    ext_mem_181748.references = NULL;
    
    struct memblock mem_param_181614;
    
    mem_param_181614.references = NULL;
    
    struct memblock mem_param_181611;
    
    mem_param_181611.references = NULL;
    
    struct memblock mem_param_181608;
    
    mem_param_181608.references = NULL;
    
    struct memblock ext_mem_181778;
    
    ext_mem_181778.references = NULL;
    
    struct memblock ext_mem_181779;
    
    ext_mem_181779.references = NULL;
    
    struct memblock ext_mem_181780;
    
    ext_mem_181780.references = NULL;
    
    struct memblock mem_181604;
    
    mem_181604.references = NULL;
    
    struct memblock mem_181600;
    
    mem_181600.references = NULL;
    
    struct memblock mem_181596;
    
    mem_181596.references = NULL;
    
    struct memblock ext_mem_181783;
    
    ext_mem_181783.references = NULL;
    
    struct memblock ext_mem_181786;
    
    ext_mem_181786.references = NULL;
    
    struct memblock ext_mem_181789;
    
    ext_mem_181789.references = NULL;
    
    struct memblock mem_181494;
    
    mem_181494.references = NULL;
    
    struct memblock mem_181492;
    
    mem_181492.references = NULL;
    
    struct memblock mem_181490;
    
    mem_181490.references = NULL;
    
    struct memblock mem_param_tmp_182268;
    
    mem_param_tmp_182268.references = NULL;
    
    struct memblock mem_param_tmp_182267;
    
    mem_param_tmp_182267.references = NULL;
    
    struct memblock mem_param_tmp_182266;
    
    mem_param_tmp_182266.references = NULL;
    
    struct memblock mem_181028;
    
    mem_181028.references = NULL;
    
    struct memblock mem_181024;
    
    mem_181024.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_180973;
    
    mem_180973.references = NULL;
    
    struct memblock mem_180969;
    
    mem_180969.references = NULL;
    
    struct memblock mem_180965;
    
    mem_180965.references = NULL;
    
    struct memblock mem_180979;
    
    mem_180979.references = NULL;
    
    struct memblock mem_180977;
    
    mem_180977.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock ext_mem_181000;
    
    ext_mem_181000.references = NULL;
    
    struct memblock ext_mem_181003;
    
    ext_mem_181003.references = NULL;
    
    struct memblock ext_mem_181006;
    
    ext_mem_181006.references = NULL;
    
    struct memblock mem_param_180872;
    
    mem_param_180872.references = NULL;
    
    struct memblock mem_param_180869;
    
    mem_param_180869.references = NULL;
    
    struct memblock mem_param_180866;
    
    mem_param_180866.references = NULL;
    
    struct memblock ext_mem_181036;
    
    ext_mem_181036.references = NULL;
    
    struct memblock ext_mem_181037;
    
    ext_mem_181037.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_180862;
    
    mem_180862.references = NULL;
    
    struct memblock mem_180858;
    
    mem_180858.references = NULL;
    
    struct memblock mem_180854;
    
    mem_180854.references = NULL;
    
    struct memblock ext_mem_181041;
    
    ext_mem_181041.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock mem_180752;
    
    mem_180752.references = NULL;
    
    struct memblock mem_180750;
    
    mem_180750.references = NULL;
    
    struct memblock mem_180748;
    
    mem_180748.references = NULL;
    
    struct memblock mem_180732;
    
    mem_180732.references = NULL;
    
    struct memblock mem_180730;
    
    mem_180730.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_181439;
    
    mem_181439.references = NULL;
    
    struct memblock mem_181438;
    
    mem_181438.references = NULL;
    
    struct memblock mem_181436;
    
    mem_181436.references = NULL;
    
    struct memblock mem_param_tmp_182174;
    
    mem_param_tmp_182174.references = NULL;
    
    struct memblock mem_param_tmp_182173;
    
    mem_param_tmp_182173.references = NULL;
    
    struct memblock mem_param_tmp_182172;
    
    mem_param_tmp_182172.references = NULL;
    
    struct memblock mem_181391;
    
    mem_181391.references = NULL;
    
    struct memblock mem_181387;
    
    mem_181387.references = NULL;
    
    struct memblock mem_181383;
    
    mem_181383.references = NULL;
    
    struct memblock mem_181336;
    
    mem_181336.references = NULL;
    
    struct memblock mem_181332;
    
    mem_181332.references = NULL;
    
    struct memblock mem_181328;
    
    mem_181328.references = NULL;
    
    struct memblock mem_181342;
    
    mem_181342.references = NULL;
    
    struct memblock mem_181340;
    
    mem_181340.references = NULL;
    
    struct memblock mem_181338;
    
    mem_181338.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181366;
    
    ext_mem_181366.references = NULL;
    
    struct memblock ext_mem_181369;
    
    ext_mem_181369.references = NULL;
    
    struct memblock mem_param_181235;
    
    mem_param_181235.references = NULL;
    
    struct memblock mem_param_181232;
    
    mem_param_181232.references = NULL;
    
    struct memblock mem_param_181229;
    
    mem_param_181229.references = NULL;
    
    struct memblock ext_mem_181399;
    
    ext_mem_181399.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181401;
    
    ext_mem_181401.references = NULL;
    
    struct memblock mem_181225;
    
    mem_181225.references = NULL;
    
    struct memblock mem_181221;
    
    mem_181221.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock ext_mem_181404;
    
    ext_mem_181404.references = NULL;
    
    struct memblock ext_mem_181407;
    
    ext_mem_181407.references = NULL;
    
    struct memblock ext_mem_181410;
    
    ext_mem_181410.references = NULL;
    
    struct memblock mem_181115;
    
    mem_181115.references = NULL;
    
    struct memblock mem_181113;
    
    mem_181113.references = NULL;
    
    struct memblock mem_181111;
    
    mem_181111.references = NULL;
    
    struct memblock ext_mem_181460;
    
    ext_mem_181460.references = NULL;
    
    struct memblock ext_mem_181463;
    
    ext_mem_181463.references = NULL;
    
    struct memblock ext_mem_181466;
    
    ext_mem_181466.references = NULL;
    
    struct memblock mem_180702;
    
    mem_180702.references = NULL;
    
    struct memblock mem_180700;
    
    mem_180700.references = NULL;
    
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t prim_out_182113;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185 = add64(na_162940, nb_162941);
    
    if (memblock_alloc(ctx, &mem_180698, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182114 = 0; nest_i_182114 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182114++) {
        ((int8_t *) mem_180698.mem)[nest_i_182114] = (int8_t) -1;
    }
    
    int64_t bytes_180699 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180700, bytes_180699, "mem_180700")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182115 = 0; nest_i_182115 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182115++) {
        ((int64_t *) mem_180700.mem)[nest_i_182115] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_180702, bytes_180699, "mem_180702")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182116 = 0; nest_i_182116 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182116++) {
        ((double *) mem_180702.mem)[nest_i_182116] = 0.0;
    }
    
    int64_t zl_rhs_175189 = sub64(na_162940, window_sizze_162942);
    bool cond_175190 = slt64((int64_t) 0, zl_rhs_175189);
    int64_t zl_rhs_175191 = sub64(nb_162941, window_sizze_162942);
    bool loop_cond_t_res_175192 = slt64((int64_t) 0, zl_rhs_175191);
    bool x_175193 = cond_175190 && loop_cond_t_res_175192;
    bool empty_slice_175194 = window_sizze_162942 == (int64_t) 0;
    int64_t m_175195 = sub64(window_sizze_162942, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220 = add64((int64_t) 1, threads_162943);
    int64_t partitionFunc_arg0_176221 = mul64((int64_t) 2, threads_162943);
    bool y_176223 = slt64((int64_t) 0, window_sizze_162942);
    bool loop_cond_176469 = slt64((int64_t) 0, threads_162943);
    bool zzero_175240 = threads_162943 == (int64_t) 0;
    bool nonzzero_175241 = !zzero_175240;
    bool loop_not_taken_177998 = !inParallel_162946;
    bool protect_assert_disj_177999 = nonzzero_175241 || loop_not_taken_177998;
    bool loop_not_taken_178088 = !x_175193;
    bool protect_assert_disj_178089 = protect_assert_disj_177999 || loop_not_taken_178088;
    bool nonzzero_cert_175242;
    
    if (!protect_assert_disj_178089) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175243 = sdiv_safe64(window_sizze_162942, threads_162943);
    int64_t perThread_175244 = add64((int64_t) 1, zp_rhs_175243);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245 = mul64(threads_162943, perThread_175244);
    bool protect_assert_disj_178135 = inParallel_162946 || y_176223;
    bool protect_assert_disj_178139 = loop_not_taken_178088 || protect_assert_disj_178135;
    bool index_certs_176224;
    
    if (!protect_assert_disj_178139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176239 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, (int64_t) 1);
    bool y_177196 = slt64(threads_162943, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
    bool protect_assert_disj_178104 = y_176223 || loop_not_taken_177998;
    bool protect_assert_disj_178143 = loop_not_taken_178088 || protect_assert_disj_178104;
    bool index_certs_175248;
    
    if (!protect_assert_disj_178143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176241 = !bounds_invalid_upwards_176239;
    bool protect_assert_disj_178151 = inParallel_162946 || y_177196;
    bool protect_assert_disj_178153 = loop_not_taken_178088 || protect_assert_disj_178151;
    bool index_certs_177198;
    
    if (!protect_assert_disj_178153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162943, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178147 = y_177196 || loop_not_taken_177998;
    bool protect_assert_disj_178155 = loop_not_taken_178088 || protect_assert_disj_178147;
    bool index_certs_176202;
    
    if (!protect_assert_disj_178155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162943, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178163 = inParallel_162946 || valid_176241;
    bool protect_assert_disj_178165 = loop_not_taken_178088 || protect_assert_disj_178163;
    bool range_valid_c_176242;
    
    if (!protect_assert_disj_178165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178007 = sle64((int64_t) 1, threads_162943);
    bool protect_assert_disj_178159 = valid_176241 || loop_not_taken_177998;
    bool protect_assert_disj_178167 = loop_not_taken_178088 || protect_assert_disj_178159;
    bool range_valid_c_175255;
    
    if (!protect_assert_disj_178167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176244 = add64(window_sizze_162942, window_sizze_162942);
    bool zzero_176245 = partitionFunc_arg0_176221 == (int64_t) 0;
    int64_t index_concat_i_178008 = sub64(threads_162943, (int64_t) 1);
    bool nonzzero_176246 = !zzero_176245;
    bool protect_assert_disj_178175 = inParallel_162946 || nonzzero_176246;
    bool protect_assert_disj_178181 = loop_not_taken_178088 || protect_assert_disj_178175;
    bool nonzzero_cert_176247;
    
    if (!protect_assert_disj_178181) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178171 = nonzzero_176246 || loop_not_taken_177998;
    bool protect_assert_disj_178187 = loop_not_taken_178088 || protect_assert_disj_178171;
    bool nonzzero_cert_175260;
    
    if (!protect_assert_disj_178187) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180712 = (int64_t) 8 * threads_162943;
    int64_t bytes_180729 = (int64_t) 8 * window_sizze_162942;
    int64_t bytes_181074 = perThread_175244 * bytes_180712;
    bool defunc_0_merge_pipeline_res_175196;
    int64_t defunc_0_merge_pipeline_res_175200;
    int64_t defunc_0_merge_pipeline_res_175201;
    bool loop_while_175202;
    int64_t p_175206;
    int64_t p_175207;
    
    loop_while_175202 = x_175193;
    p_175206 = (int64_t) 0;
    p_175207 = (int64_t) 0;
    while (loop_while_175202) {
        int64_t ubs_175208 = add64(window_sizze_162942, p_175206);
        int64_t ubs_175209 = add64(window_sizze_162942, p_175207);
        int64_t ind_bottom_175210 = add64(p_175206, p_175207);
        int64_t ind_top_175211 = add64(window_sizze_162942, ind_bottom_175210);
        int64_t i_p_m_t_s_175212 = add64(m_175195, p_175206);
        bool zzero_leq_i_p_m_t_s_175213 = sle64((int64_t) 0, i_p_m_t_s_175212);
        bool i_p_m_t_s_leq_w_175214 = slt64(i_p_m_t_s_175212, na_162940);
        bool zzero_lte_i_175215 = sle64((int64_t) 0, p_175206);
        bool i_lte_j_175216 = sle64(p_175206, ubs_175208);
        bool y_175217 = i_p_m_t_s_leq_w_175214 && zzero_lte_i_175215;
        bool y_175218 = zzero_leq_i_p_m_t_s_175213 && y_175217;
        bool forwards_ok_175219 = i_lte_j_175216 && y_175218;
        bool ok_or_empty_175220 = empty_slice_175194 || forwards_ok_175219;
        bool index_certs_175221;
        
        if (!ok_or_empty_175220) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175206, ":", (long long) ubs_175208, "] out of bounds for array of shape [", (long long) na_162940, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175223 = add64(m_175195, p_175207);
        bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, i_p_m_t_s_175223);
        bool i_p_m_t_s_leq_w_175225 = slt64(i_p_m_t_s_175223, nb_162941);
        bool zzero_lte_i_175226 = sle64((int64_t) 0, p_175207);
        bool i_lte_j_175227 = sle64(p_175207, ubs_175209);
        bool y_175228 = i_p_m_t_s_leq_w_175225 && zzero_lte_i_175226;
        bool y_175229 = zzero_leq_i_p_m_t_s_175224 && y_175228;
        bool forwards_ok_175230 = i_lte_j_175227 && y_175229;
        bool ok_or_empty_175231 = empty_slice_175194 || forwards_ok_175230;
        bool index_certs_175232;
        
        if (!ok_or_empty_175231) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175207, ":", (long long) ubs_175209, "] out of bounds for array of shape [", (long long) nb_162941, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177210 = add64(m_175195, ind_bottom_175210);
        bool zzero_leq_i_p_m_t_s_177211 = sle64((int64_t) 0, i_p_m_t_s_177210);
        bool i_p_m_t_s_leq_w_177212 = slt64(i_p_m_t_s_177210, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
        bool zzero_lte_i_177213 = sle64((int64_t) 0, ind_bottom_175210);
        bool i_lte_j_177214 = sle64(ind_bottom_175210, ind_top_175211);
        bool y_177215 = i_p_m_t_s_leq_w_177212 && zzero_lte_i_177213;
        bool y_177216 = zzero_leq_i_p_m_t_s_177211 && y_177215;
        bool forwards_ok_177217 = i_lte_j_177214 && y_177216;
        bool ok_or_empty_177218 = empty_slice_175194 || forwards_ok_177217;
        bool index_certs_177219;
        
        if (!ok_or_empty_177218) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175210, ":", (long long) ind_top_175211, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175234;
        int64_t loopres_175235;
        
        if (inParallel_162946) {
            double leq_lhs_178668 = ((double *) a_list_mem_180696.mem)[p_175206];
            double leq_rhs_178669 = ((double *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_178670 = leq_lhs_178668 <= leq_rhs_178669;
            double lowest_178671;
            
            if (defunc_0_leq_res_178670) {
                lowest_178671 = leq_lhs_178668;
            } else {
                lowest_178671 = leq_rhs_178669;
            }
            if (mem_181058_cached_sizze_182454 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182454, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181060_cached_sizze_182455 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181060, &mem_181060_cached_sizze_182455, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180360 = 0; i_180360 < threads_162943; i_180360++) {
                int64_t index_primexp_180632 = add64((int64_t) 1, i_180360);
                int64_t zs_lhs_178676 = mul64(zt_rhs_176244, index_primexp_180632);
                int64_t index_178677 = sdiv64(zs_lhs_178676, partitionFunc_arg0_176221);
                bool cond_178678 = slt64(window_sizze_162942, index_178677);
                int64_t loop_over_178679;
                
                if (cond_178678) {
                    loop_over_178679 = window_sizze_162942;
                } else {
                    loop_over_178679 = index_178677;
                }
                
                int64_t loop_over_178680;
                
                if (cond_178678) {
                    int64_t loop_over_t_res_178681 = sub64(index_178677, window_sizze_162942);
                    
                    loop_over_178680 = loop_over_t_res_178681;
                } else {
                    loop_over_178680 = (int64_t) 0;
                }
                
                int64_t loop_over_178682;
                
                if (cond_178678) {
                    int64_t zm_lhs_178683 = sub64(index_178677, window_sizze_162942);
                    int64_t loop_over_t_res_178684 = sub64(zm_lhs_178683, (int64_t) 1);
                    
                    loop_over_178682 = loop_over_t_res_178684;
                } else {
                    loop_over_178682 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178685;
                int64_t defunc_0_f_res_178686;
                int64_t defunc_0_f_res_178687;
                int64_t defunc_0_f_res_178688;
                bool loop_while_178689;
                int64_t p_178690;
                int64_t p_178691;
                int64_t p_178692;
                
                loop_while_178689 = 1;
                p_178690 = loop_over_178682;
                p_178691 = loop_over_178679;
                p_178692 = loop_over_178680;
                while (loop_while_178689) {
                    int64_t zs_lhs_178693 = sub64(p_178691, p_178690);
                    int64_t offset_178694 = sdiv64(zs_lhs_178693, (int64_t) 2);
                    int64_t ai_178695 = sub64(p_178691, offset_178694);
                    int64_t max_arg1_178696 = add64(p_178692, offset_178694);
                    int64_t max_res_178697 = smax64((int64_t) 0, max_arg1_178696);
                    bool cond_178698 = slt64((int64_t) 0, max_res_178697);
                    double b_prev_178699;
                    
                    if (cond_178698) {
                        int64_t tmp_178700 = sub64(max_res_178697, (int64_t) 1);
                        bool x_178701 = sle64((int64_t) 0, tmp_178700);
                        bool y_178702 = slt64(tmp_178700, window_sizze_162942);
                        bool bounds_check_178703 = x_178701 && y_178702;
                        bool index_certs_178704;
                        
                        if (!bounds_check_178703) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178700, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178705 = p_175207 + tmp_178700;
                        double b_prev_t_res_178706 = ((double *) b_list_mem_180697.mem)[slice_178705];
                        
                        b_prev_178699 = b_prev_t_res_178706;
                    } else {
                        b_prev_178699 = lowest_178671;
                    }
                    
                    bool cond_178707 = sle64(ai_178695, (int64_t) 0);
                    int64_t loopres_178708;
                    int64_t loopres_178709;
                    int64_t loopres_178710;
                    bool loopres_178711;
                    
                    if (cond_178707) {
                        loopres_178708 = p_178690;
                        loopres_178709 = (int64_t) 0;
                        loopres_178710 = max_res_178697;
                        loopres_178711 = 0;
                    } else {
                        bool cond_178712 = sle64(window_sizze_162942, max_res_178697);
                        int64_t loopres_f_res_178713;
                        int64_t loopres_f_res_178714;
                        int64_t loopres_f_res_178715;
                        bool loopres_f_res_178716;
                        
                        if (cond_178712) {
                            int64_t min_res_178718 = smin64(m_175195, ai_178695);
                            bool x_178719 = sle64((int64_t) 0, m_175195);
                            bool y_178720 = slt64(m_175195, window_sizze_162942);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178725 = sle64((int64_t) 0, min_res_178718);
                            bool y_178726 = slt64(min_res_178718, window_sizze_162942);
                            bool bounds_check_178727 = x_178725 && y_178726;
                            bool index_certs_178728;
                            
                            if (!bounds_check_178727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178718, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_178724 = ((double *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_178729 = p_175206 + min_res_178718;
                            double leq_rhs_178730 = ((double *) a_list_mem_180696.mem)[slice_178729];
                            bool defunc_0_leq_res_178731 = leq_lhs_178724 <= leq_rhs_178730;
                            int64_t loopres_f_res_t_res_178732;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178732 = ai_178695;
                            } else {
                                loopres_f_res_t_res_178732 = p_178691;
                            }
                            
                            bool x_178733 = !defunc_0_leq_res_178731;
                            int64_t loopres_f_res_t_res_178734;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178734 = window_sizze_162942;
                            } else {
                                int64_t tmp_178735 = sub64(m_175195, offset_178694);
                                
                                loopres_f_res_t_res_178734 = tmp_178735;
                            }
                            loopres_f_res_178713 = p_178690;
                            loopres_f_res_178714 = loopres_f_res_t_res_178732;
                            loopres_f_res_178715 = loopres_f_res_t_res_178734;
                            loopres_f_res_178716 = x_178733;
                        } else {
                            bool cond_178736 = sle64(window_sizze_162942, ai_178695);
                            int64_t loopres_f_res_f_res_178737;
                            int64_t loopres_f_res_f_res_178738;
                            int64_t loopres_f_res_f_res_178739;
                            bool loopres_f_res_f_res_178740;
                            
                            if (cond_178736) {
                                int64_t min_res_178742 = smin64(m_175195, max_res_178697);
                                bool x_178743 = sle64((int64_t) 0, m_175195);
                                bool y_178744 = slt64(m_175195, window_sizze_162942);
                                bool bounds_check_178745 = x_178743 && y_178744;
                                bool index_certs_178746;
                                
                                if (!bounds_check_178745) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178749 = sle64((int64_t) 0, min_res_178742);
                                bool y_178750 = slt64(min_res_178742, window_sizze_162942);
                                bool bounds_check_178751 = x_178749 && y_178750;
                                bool index_certs_178752;
                                
                                if (!bounds_check_178751) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178742, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_178748 = ((double *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_178753 = p_175207 + min_res_178742;
                                double leq_rhs_178754 = ((double *) b_list_mem_180697.mem)[slice_178753];
                                bool defunc_0_leq_res_178755 = leq_lhs_178748 <= leq_rhs_178754;
                                int64_t loopres_f_res_f_res_t_res_178756;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178756 = max_res_178697;
                                } else {
                                    loopres_f_res_f_res_t_res_178756 = p_178692;
                                }
                                
                                bool x_178757 = !defunc_0_leq_res_178755;
                                int64_t loopres_f_res_f_res_t_res_178758;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178758 = window_sizze_162942;
                                } else {
                                    loopres_f_res_f_res_t_res_178758 = m_175195;
                                }
                                loopres_f_res_f_res_178737 = p_178690;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_t_res_178758;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_t_res_178756;
                                loopres_f_res_f_res_178740 = x_178757;
                            } else {
                                bool cond_178759 = sle64(p_178691, p_178690);
                                int64_t loopres_f_res_f_res_f_res_178760;
                                int64_t loopres_f_res_f_res_f_res_178761;
                                int64_t loopres_f_res_f_res_f_res_178762;
                                bool loopres_f_res_f_res_f_res_178763;
                                
                                if (cond_178759) {
                                    bool cond_178764 = slt64(ai_178695, window_sizze_162942);
                                    int64_t ai_178765;
                                    
                                    if (cond_178764) {
                                        ai_178765 = ai_178695;
                                    } else {
                                        ai_178765 = m_175195;
                                    }
                                    
                                    bool x_178778 = sle64((int64_t) 0, ai_178765);
                                    bool y_178779 = slt64(ai_178765, window_sizze_162942);
                                    bool bounds_check_178780 = x_178778 && y_178779;
                                    bool index_certs_178781;
                                    
                                    if (!bounds_check_178780) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178765, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_178767;
                                    
                                    if (cond_178698) {
                                        int64_t tmp_178768 = sub64(max_res_178697, (int64_t) 1);
                                        bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                        bool y_178770 = slt64(tmp_178768, window_sizze_162942);
                                        bool bounds_check_178771 = x_178769 && y_178770;
                                        bool index_certs_178772;
                                        
                                        if (!bounds_check_178771) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178773 = p_175207 + tmp_178768;
                                        double b_prev_t_res_178774 = ((double *) b_list_mem_180697.mem)[slice_178773];
                                        
                                        b_prev_178767 = b_prev_t_res_178774;
                                    } else {
                                        bool index_certs_178776;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178767 = leq_rhs_178669;
                                    }
                                    
                                    int64_t slice_178782 = p_175206 + ai_178765;
                                    double gt_lhs_178783 = ((double *) a_list_mem_180696.mem)[slice_178782];
                                    bool defunc_0_gt_res_178784 = b_prev_178767 < gt_lhs_178783;
                                    int64_t defunc_0_partFunc_sequential_search_res_178785;
                                    int64_t defunc_0_partFunc_sequential_search_res_178786;
                                    
                                    if (defunc_0_gt_res_178784) {
                                        int64_t zl_rhs_178787 = sub64(window_sizze_162942, max_res_178697);
                                        bool loop_cond_178788 = slt64((int64_t) 0, zl_rhs_178787);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178789;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178791;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178792;
                                        bool loop_while_178793;
                                        int64_t p_178794;
                                        int64_t p_178795;
                                        int64_t p_178796;
                                        
                                        loop_while_178793 = loop_cond_178788;
                                        p_178794 = ai_178765;
                                        p_178795 = max_res_178697;
                                        p_178796 = (int64_t) 0;
                                        while (loop_while_178793) {
                                            int64_t i_a_178797 = sub64(ai_178765, p_178796);
                                            int64_t i_b_178798 = add64(max_res_178697, p_178796);
                                            int64_t leq_lhs_178799 = sub64(i_a_178797, (int64_t) 1);
                                            bool x_178800 = sle64((int64_t) 0, leq_lhs_178799);
                                            bool y_178801 = slt64(leq_lhs_178799, window_sizze_162942);
                                            bool bounds_check_178802 = x_178800 && y_178801;
                                            bool index_certs_178803;
                                            
                                            if (!bounds_check_178802) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178799, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178806 = sle64((int64_t) 0, i_b_178798);
                                            bool y_178807 = slt64(i_b_178798, window_sizze_162942);
                                            bool bounds_check_178808 = x_178806 && y_178807;
                                            bool index_certs_178809;
                                            
                                            if (!bounds_check_178808) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178798, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178804 = p_175206 + leq_lhs_178799;
                                            double leq_lhs_178805 = ((double *) a_list_mem_180696.mem)[slice_178804];
                                            int64_t slice_178810 = p_175207 + i_b_178798;
                                            double leq_rhs_178811 = ((double *) b_list_mem_180697.mem)[slice_178810];
                                            bool defunc_0_leq_res_178812 = leq_lhs_178805 <= leq_rhs_178811;
                                            int64_t loopres_178813;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178813 = i_a_178797;
                                            } else {
                                                loopres_178813 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178814;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178814 = i_b_178798;
                                            } else {
                                                loopres_178814 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178815;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178815 = zl_rhs_178787;
                                            } else {
                                                int64_t tmp_178816 = add64((int64_t) 1, p_178796);
                                                
                                                loopres_178815 = tmp_178816;
                                            }
                                            
                                            bool loop_cond_178817 = slt64(loopres_178815, zl_rhs_178787);
                                            bool loop_while_tmp_182129 = loop_cond_178817;
                                            int64_t p_tmp_182130 = loopres_178813;
                                            int64_t p_tmp_182131 = loopres_178814;
                                            int64_t p_tmp_182132 = loopres_178815;
                                            
                                            loop_while_178793 = loop_while_tmp_182129;
                                            p_178794 = p_tmp_182130;
                                            p_178795 = p_tmp_182131;
                                            p_178796 = p_tmp_182132;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178789 = loop_while_178793;
                                        defunc_0_partFunc_sequential_search_res_t_res_178790 = p_178794;
                                        defunc_0_partFunc_sequential_search_res_t_res_178791 = p_178795;
                                        defunc_0_partFunc_sequential_search_res_t_res_178792 = p_178796;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_t_res_178791;
                                    } else {
                                        int64_t zl_rhs_178818 = sub64(max_res_178697, (int64_t) 1);
                                        bool loop_cond_178819 = slt64((int64_t) 0, zl_rhs_178818);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178820;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178822;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178823;
                                        bool loop_while_178824;
                                        int64_t p_178825;
                                        int64_t p_178826;
                                        int64_t p_178827;
                                        
                                        loop_while_178824 = loop_cond_178819;
                                        p_178825 = ai_178765;
                                        p_178826 = max_res_178697;
                                        p_178827 = (int64_t) 0;
                                        while (loop_while_178824) {
                                            int64_t zp_lhs_178828 = add64(ai_178765, p_178827);
                                            int64_t hi_a_178829 = add64((int64_t) 1, zp_lhs_178828);
                                            bool cond_178830 = slt64(hi_a_178829, window_sizze_162942);
                                            int64_t i_a_178831;
                                            
                                            if (cond_178830) {
                                                i_a_178831 = hi_a_178829;
                                            } else {
                                                i_a_178831 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_178833 = sub64(max_res_178697, p_178827);
                                            int64_t i_b_178834 = sub64(zm_lhs_178833, (int64_t) 1);
                                            bool x_178835 = sle64((int64_t) 0, i_a_178831);
                                            bool y_178836 = slt64(i_a_178831, window_sizze_162942);
                                            bool bounds_check_178837 = x_178835 && y_178836;
                                            bool index_certs_178838;
                                            
                                            if (!bounds_check_178837) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178831, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178841 = sle64((int64_t) 0, i_b_178834);
                                            bool y_178842 = slt64(i_b_178834, window_sizze_162942);
                                            bool bounds_check_178843 = x_178841 && y_178842;
                                            bool index_certs_178844;
                                            
                                            if (!bounds_check_178843) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178834, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178839 = p_175206 + i_a_178831;
                                            double gt_lhs_178840 = ((double *) a_list_mem_180696.mem)[slice_178839];
                                            int64_t slice_178845 = p_175207 + i_b_178834;
                                            double gt_rhs_178846 = ((double *) b_list_mem_180697.mem)[slice_178845];
                                            bool defunc_0_gt_res_178847 = gt_rhs_178846 < gt_lhs_178840;
                                            int64_t loopres_178848;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178848 = i_a_178831;
                                            } else {
                                                loopres_178848 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178849;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178849 = zm_lhs_178833;
                                            } else {
                                                loopres_178849 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178850;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178850 = zl_rhs_178818;
                                            } else {
                                                int64_t tmp_178851 = add64((int64_t) 1, p_178827);
                                                
                                                loopres_178850 = tmp_178851;
                                            }
                                            
                                            bool loop_cond_178852 = slt64(loopres_178850, zl_rhs_178818);
                                            bool loop_while_tmp_182133 = loop_cond_178852;
                                            int64_t p_tmp_182134 = loopres_178848;
                                            int64_t p_tmp_182135 = loopres_178849;
                                            int64_t p_tmp_182136 = loopres_178850;
                                            
                                            loop_while_178824 = loop_while_tmp_182133;
                                            p_178825 = p_tmp_182134;
                                            p_178826 = p_tmp_182135;
                                            p_178827 = p_tmp_182136;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178820 = loop_while_178824;
                                        defunc_0_partFunc_sequential_search_res_f_res_178821 = p_178825;
                                        defunc_0_partFunc_sequential_search_res_f_res_178822 = p_178826;
                                        defunc_0_partFunc_sequential_search_res_f_res_178823 = p_178827;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_f_res_178822;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = p_178690;
                                    loopres_f_res_f_res_f_res_178761 = defunc_0_partFunc_sequential_search_res_178785;
                                    loopres_f_res_f_res_f_res_178762 = defunc_0_partFunc_sequential_search_res_178786;
                                    loopres_f_res_f_res_f_res_178763 = 0;
                                } else {
                                    bool x_178853 = sle64((int64_t) 0, ai_178695);
                                    bool y_178854 = slt64(ai_178695, window_sizze_162942);
                                    bool bounds_check_178855 = x_178853 && y_178854;
                                    bool index_certs_178856;
                                    
                                    if (!bounds_check_178855) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178695, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178857 = p_175206 + ai_178695;
                                    double gt_lhs_178858 = ((double *) a_list_mem_180696.mem)[slice_178857];
                                    bool defunc_0_gt_res_178859 = b_prev_178699 < gt_lhs_178858;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178862;
                                    bool loopres_f_res_f_res_f_res_f_res_178863;
                                    
                                    if (defunc_0_gt_res_178859) {
                                        int64_t leq_lhs_178864 = sub64(ai_178695, (int64_t) 1);
                                        bool x_178865 = sle64((int64_t) 0, leq_lhs_178864);
                                        bool y_178866 = slt64(leq_lhs_178864, window_sizze_162942);
                                        bool bounds_check_178867 = x_178865 && y_178866;
                                        bool index_certs_178868;
                                        
                                        if (!bounds_check_178867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178864, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178871 = sle64((int64_t) 0, max_res_178697);
                                        bool y_178872 = slt64(max_res_178697, window_sizze_162942);
                                        bool bounds_check_178873 = x_178871 && y_178872;
                                        bool index_certs_178874;
                                        
                                        if (!bounds_check_178873) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178697, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178869 = p_175206 + leq_lhs_178864;
                                        double leq_lhs_178870 = ((double *) a_list_mem_180696.mem)[slice_178869];
                                        int64_t slice_178875 = p_175207 + max_res_178697;
                                        double leq_rhs_178876 = ((double *) b_list_mem_180697.mem)[slice_178875];
                                        bool defunc_0_leq_res_178877 = leq_lhs_178870 <= leq_rhs_178876;
                                        bool x_178878 = !defunc_0_leq_res_178877;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = ai_178695;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = leq_lhs_178864;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = max_res_178697;
                                        } else {
                                            int64_t tmp_178881 = add64((int64_t) 1, max_res_178697);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = tmp_178881;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178860 = p_178690;
                                        loopres_f_res_f_res_f_res_f_res_178861 = loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        loopres_f_res_f_res_f_res_f_res_178862 = loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        loopres_f_res_f_res_f_res_f_res_178863 = x_178878;
                                    } else {
                                        int64_t tmp_178882 = add64((int64_t) 1, ai_178695);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178860 = tmp_178882;
                                        loopres_f_res_f_res_f_res_f_res_178861 = p_178691;
                                        loopres_f_res_f_res_f_res_f_res_178862 = p_178692;
                                        loopres_f_res_f_res_f_res_f_res_178863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = loopres_f_res_f_res_f_res_f_res_178860;
                                    loopres_f_res_f_res_f_res_178761 = loopres_f_res_f_res_f_res_f_res_178861;
                                    loopres_f_res_f_res_f_res_178762 = loopres_f_res_f_res_f_res_f_res_178862;
                                    loopres_f_res_f_res_f_res_178763 = loopres_f_res_f_res_f_res_f_res_178863;
                                }
                                loopres_f_res_f_res_178737 = loopres_f_res_f_res_f_res_178760;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_f_res_178761;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_f_res_178762;
                                loopres_f_res_f_res_178740 = loopres_f_res_f_res_f_res_178763;
                            }
                            loopres_f_res_178713 = loopres_f_res_f_res_178737;
                            loopres_f_res_178714 = loopres_f_res_f_res_178738;
                            loopres_f_res_178715 = loopres_f_res_f_res_178739;
                            loopres_f_res_178716 = loopres_f_res_f_res_178740;
                        }
                        loopres_178708 = loopres_f_res_178713;
                        loopres_178709 = loopres_f_res_178714;
                        loopres_178710 = loopres_f_res_178715;
                        loopres_178711 = loopres_f_res_178716;
                    }
                    
                    bool loop_while_tmp_182125 = loopres_178711;
                    int64_t p_tmp_182126 = loopres_178708;
                    int64_t p_tmp_182127 = loopres_178709;
                    int64_t p_tmp_182128 = loopres_178710;
                    
                    loop_while_178689 = loop_while_tmp_182125;
                    p_178690 = p_tmp_182126;
                    p_178691 = p_tmp_182127;
                    p_178692 = p_tmp_182128;
                }
                defunc_0_f_res_178685 = loop_while_178689;
                defunc_0_f_res_178686 = p_178690;
                defunc_0_f_res_178687 = p_178691;
                defunc_0_f_res_178688 = p_178692;
                ((int64_t *) mem_181058)[i_180360] = defunc_0_f_res_178687;
                ((int64_t *) mem_181060)[i_180360] = defunc_0_f_res_178688;
            }
            if (mem_181075_cached_sizze_182456 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181075, &mem_181075_cached_sizze_182456, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181077_cached_sizze_182457 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245) {
                err = lexical_realloc(ctx, &mem_181077, &mem_181077_cached_sizze_182457, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181080_cached_sizze_182458 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182458, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181083_cached_sizze_182459 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182459, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180426 = 0; i_180426 < threads_162943; i_180426++) {
                bool y_178896 = slt64(i_180426, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool index_certs_178898;
                
                if (!y_178896) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180426, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178899 = sle64((int64_t) 1, i_180426);
                int64_t index_concat_i_178900 = sub64(i_180426, (int64_t) 1);
                int64_t index_concat_178901;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178902 = ((int64_t *) mem_181058)[index_concat_i_178900];
                    
                    index_concat_178901 = x_178902;
                } else {
                    index_concat_178901 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178903;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178903 = index_concat_178901;
                } else {
                    index_concat_branch_178903 = (int64_t) 0;
                }
                
                int64_t index_concat_178904;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178905 = ((int64_t *) mem_181060)[index_concat_i_178900];
                    
                    index_concat_178904 = x_178905;
                } else {
                    index_concat_178904 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178906;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178906 = index_concat_178904;
                } else {
                    index_concat_branch_178906 = (int64_t) 0;
                }
                
                int64_t ubs_178907 = add64((int64_t) 1, i_180426);
                bool x_178908 = sle64((int64_t) 0, ubs_178907);
                bool y_178909 = slt64(ubs_178907, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_178910 = x_178908 && y_178909;
                bool index_certs_178911;
                
                if (!bounds_check_178910) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178907, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178912 = sle64((int64_t) 1, ubs_178907);
                int64_t index_concat_178913;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178914 = ((int64_t *) mem_181058)[i_180426];
                    
                    index_concat_178913 = x_178914;
                } else {
                    index_concat_178913 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178915;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178915 = index_concat_178913;
                } else {
                    index_concat_branch_178915 = (int64_t) 0;
                }
                
                int64_t index_concat_178916;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178917 = ((int64_t *) mem_181060)[i_180426];
                    
                    index_concat_178916 = x_178917;
                } else {
                    index_concat_178916 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178918;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178918 = index_concat_178916;
                } else {
                    index_concat_branch_178918 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 = sub64(index_concat_branch_178918, index_concat_branch_178906);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 = sub64(index_concat_branch_178915, index_concat_branch_178903);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t zm_lhs_178922 = add64(index_concat_branch_178915, index_concat_branch_178918);
                int64_t zm_rhs_178923 = add64(index_concat_branch_178903, index_concat_branch_178906);
                int64_t card_178924 = sub64(zm_lhs_178922, zm_rhs_178923);
                bool empty_slice_178925 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 == (int64_t) 0;
                int64_t m_178926 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 1);
                int64_t i_p_m_t_s_178927 = add64(index_concat_branch_178903, m_178926);
                bool zzero_leq_i_p_m_t_s_178928 = sle64((int64_t) 0, i_p_m_t_s_178927);
                bool i_p_m_t_s_leq_w_178929 = slt64(i_p_m_t_s_178927, window_sizze_162942);
                bool zzero_lte_i_178930 = sle64((int64_t) 0, index_concat_branch_178903);
                bool i_lte_j_178931 = sle64(index_concat_branch_178903, index_concat_branch_178915);
                bool y_178932 = i_p_m_t_s_leq_w_178929 && zzero_lte_i_178930;
                bool y_178933 = zzero_leq_i_p_m_t_s_178928 && y_178932;
                bool forwards_ok_178934 = i_lte_j_178931 && y_178933;
                bool ok_or_empty_178935 = empty_slice_178925 || forwards_ok_178934;
                bool index_certs_178936;
                
                if (!ok_or_empty_178935) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178903, ":", (long long) index_concat_branch_178915, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178937 = slt64(index_concat_branch_178915, index_concat_branch_178903);
                bool valid_178938 = !bounds_invalid_upwards_178937;
                bool range_valid_c_178939;
                
                if (!valid_178938) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178903, "..<", (long long) index_concat_branch_178915, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178944 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 == (int64_t) 0;
                int64_t m_178945 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, (int64_t) 1);
                int64_t i_p_m_t_s_178946 = add64(index_concat_branch_178906, m_178945);
                bool zzero_leq_i_p_m_t_s_178947 = sle64((int64_t) 0, i_p_m_t_s_178946);
                bool i_p_m_t_s_leq_w_178948 = slt64(i_p_m_t_s_178946, window_sizze_162942);
                bool zzero_lte_i_178949 = sle64((int64_t) 0, index_concat_branch_178906);
                bool i_lte_j_178950 = sle64(index_concat_branch_178906, index_concat_branch_178918);
                bool y_178951 = i_p_m_t_s_leq_w_178948 && zzero_lte_i_178949;
                bool y_178952 = zzero_leq_i_p_m_t_s_178947 && y_178951;
                bool forwards_ok_178953 = i_lte_j_178950 && y_178952;
                bool ok_or_empty_178954 = empty_slice_178944 || forwards_ok_178953;
                bool index_certs_178955;
                
                if (!ok_or_empty_178954) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178906, ":", (long long) index_concat_branch_178918, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178956 = slt64(index_concat_branch_178918, index_concat_branch_178906);
                bool valid_178957 = !bounds_invalid_upwards_178956;
                bool range_valid_c_178958;
                
                if (!valid_178957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178906, "..<", (long long) index_concat_branch_178918, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181112 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool cond_178966 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zs_lhs_178967 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zp_rhs_178968 = sdiv_safe64(zs_lhs_178967, (int64_t) 20);
                int64_t min_num_blocks_178969 = add64((int64_t) 1, zp_rhs_178968);
                bool loop_cond_178970 = slt64((int64_t) 1, min_num_blocks_178969);
                bool smallest_pow_2_geq_than_res_178971;
                int64_t smallest_pow_2_geq_than_res_178972;
                bool loop_while_178973;
                int64_t x_178974;
                
                loop_while_178973 = loop_cond_178970;
                x_178974 = (int64_t) 1;
                while (loop_while_178973) {
                    int64_t loopres_178975 = mul64((int64_t) 2, x_178974);
                    bool loop_cond_178976 = slt64(loopres_178975, min_num_blocks_178969);
                    bool loop_while_tmp_182141 = loop_cond_178976;
                    int64_t x_tmp_182142 = loopres_178975;
                    
                    loop_while_178973 = loop_while_tmp_182141;
                    x_178974 = x_tmp_182142;
                }
                smallest_pow_2_geq_than_res_178971 = loop_while_178973;
                smallest_pow_2_geq_than_res_178972 = x_178974;
                
                bool zzero_178977 = smallest_pow_2_geq_than_res_178972 == (int64_t) 0;
                bool nonzzero_178978 = !zzero_178977;
                bool protect_assert_disj_178979 = cond_178966 || nonzzero_178978;
                bool nonzzero_cert_178980;
                
                if (!protect_assert_disj_178979) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178981 = sdiv_safe64(zs_lhs_178967, smallest_pow_2_geq_than_res_178972);
                int64_t block_sizze_178982 = add64((int64_t) 1, zp_rhs_178981);
                bool y_178989 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                bool protect_assert_disj_181858 = cond_178966 || y_178989;
                bool index_certs_178990;
                
                if (!protect_assert_disj_181858) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179027 = slt64(smallest_pow_2_geq_than_res_178972, (int64_t) 0);
                bool valid_179028 = !bounds_invalid_upwards_179027;
                bool protect_assert_disj_181868 = cond_178966 || valid_179028;
                bool range_valid_c_179029;
                
                if (!protect_assert_disj_181868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178972, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179031 = slt64(block_sizze_178982, (int64_t) 0);
                bool valid_179032 = !bounds_invalid_upwards_179031;
                bool protect_assert_disj_181870 = cond_178966 || valid_179032;
                bool range_valid_c_179033;
                
                if (!protect_assert_disj_181870) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178982, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179035 = sle64(block_sizze_178982, (int64_t) 1);
                int64_t tmp_179036 = sub64(block_sizze_178982, (int64_t) 2);
                bool bounds_invalid_upwards_179037 = slt64(tmp_179036, (int64_t) 0);
                bool valid_179039 = !bounds_invalid_upwards_179037;
                bool protect_assert_disj_179040 = cond_179035 || valid_179039;
                bool protect_assert_disj_181872 = cond_178966 || protect_assert_disj_179040;
                bool range_valid_c_179041;
                
                if (!protect_assert_disj_181872) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179036, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179621 = card_178924 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool empty_or_match_cert_179622;
                
                if (!dim_match_179621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] cannot match shape of type `[", (long long) card_178924, "](i8, i64, f64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179623 = card_178924 == (int64_t) 0;
                int64_t m_179624 = sub64(card_178924, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179625 = sle64((int64_t) 0, m_179624);
                bool i_p_m_t_s_leq_w_179626 = slt64(m_179624, card_178924);
                bool y_179627 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179626;
                bool ok_or_empty_179628 = empty_slice_179623 || y_179627;
                bool index_certs_179629;
                
                if (!ok_or_empty_179628) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) card_178924, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179630 = slt64(m_179624, perThread_175244);
                bool y_179631 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179630;
                bool ok_or_empty_179632 = empty_slice_179623 || y_179631;
                bool index_certs_179633;
                
                if (!ok_or_empty_179632) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182143 = 0; nest_i_182143 < perThread_175244; nest_i_182143++) {
                    ((int8_t *) mem_181077)[i_180426 * perThread_175244 + nest_i_182143] = (int8_t) -1;
                }
                for (int64_t nest_i_182144 = 0; nest_i_182144 < perThread_175244; nest_i_182144++) {
                    ((int64_t *) mem_181080)[i_180426 * perThread_175244 + nest_i_182144] = (int64_t) -1;
                }
                for (int64_t nest_i_182145 = 0; nest_i_182145 < perThread_175244; nest_i_182145++) {
                    ((double *) mem_181083)[i_180426 * perThread_175244 + nest_i_182145] = 0.0;
                }
                
                int64_t slice_178940 = p_175206 + index_concat_branch_178903;
                
                if (memblock_alloc(ctx, &mem_181111, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "mem_181111")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182146 = 0; nest_i_182146 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; nest_i_182146++) {
                    ((int8_t *) mem_181111.mem)[nest_i_182146] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181113, bytes_181112, "mem_181113")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182147 = 0; i_182147 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; i_182147++) {
                    int64_t x_182148 = index_concat_branch_178903 + i_182147 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[i_182147] = x_182148;
                }
                
                int64_t slice_178959 = p_175207 + index_concat_branch_178906;
                
                for (int64_t nest_i_182149 = 0; nest_i_182149 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; nest_i_182149++) {
                    ((int8_t *) mem_181111.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + nest_i_182149] = (int8_t) 1;
                }
                for (int64_t i_182150 = 0; i_182150 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; i_182150++) {
                    int64_t x_182151 = index_concat_branch_178906 + i_182150 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + i_182150] = x_182151;
                }
                
                int64_t tmp_offs_182152 = (int64_t) 0;
                
                if (!(tmp_offs_182152 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182152 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t tmp_offs_182153 = (int64_t) 0;
                
                if (!(tmp_offs_182153 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182153 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                if (memblock_alloc(ctx, &mem_181115, bytes_181112, "mem_181115")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182154 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, slice_178940, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, slice_178959, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t flat_dim_178983 = smallest_pow_2_geq_than_res_178972 * block_sizze_178982;
                bool x_181853 = !cond_178966;
                int64_t greatest_divisor_leq_than_arg1_178987 = mul64((int64_t) 2, block_sizze_178982);
                int64_t merge_block_sizze_178988;
                
                if (x_181853) {
                    int64_t x_181855;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181855, (int64_t) 8, greatest_divisor_leq_than_arg1_178987) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178988 = x_181855;
                } else {
                    merge_block_sizze_178988 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178991 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 0);
                int8_t index_concat_branch_178992 = btoi_bool_i8(index_concat_cmp_178991);
                int64_t index_concat_i_178994 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t index_primexp_178995 = add64(index_concat_branch_178906, index_concat_i_178994);
                int64_t index_concat_branch_178993;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178993 = index_primexp_178995;
                } else {
                    index_concat_branch_178993 = index_concat_branch_178903;
                }
                
                bool x_181849 = !index_concat_cmp_178991;
                bool protect_cond_conj_181859 = x_181849 && x_181853;
                double index_concat_179001;
                
                if (protect_cond_conj_181859) {
                    double x_181851 = ((double *) a_list_mem_180696.mem)[slice_178940];
                    
                    index_concat_179001 = x_181851;
                } else {
                    index_concat_179001 = 0.0;
                }
                
                int64_t slice_178999 = p_175207 + index_primexp_178995;
                bool protect_cond_conj_181860 = index_concat_cmp_178991 && x_181853;
                double index_concat_179000;
                
                if (protect_cond_conj_181860) {
                    double x_181847 = ((double *) b_list_mem_180697.mem)[slice_178999];
                    
                    index_concat_179000 = x_181847;
                } else {
                    index_concat_179000 = 0.0;
                }
                
                double index_concat_branch_178996;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178996 = index_concat_179000;
                } else {
                    index_concat_branch_178996 = index_concat_179001;
                }
                
                int8_t defunc_0_reduce_res_179002;
                int64_t defunc_0_reduce_res_179003;
                double defunc_0_reduce_res_179004;
                
                if (x_181853) {
                    int8_t x_181861;
                    int64_t x_181862;
                    double x_181863;
                    int8_t redout_180363;
                    int64_t redout_180364;
                    double redout_180365;
                    
                    redout_180363 = index_concat_branch_178992;
                    redout_180364 = index_concat_branch_178993;
                    redout_180365 = index_concat_branch_178996;
                    for (int64_t i_180366 = 0; i_180366 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921; i_180366++) {
                        bool index_concat_cmp_180624 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, i_180366);
                        int8_t index_concat_branch_180628 = btoi_bool_i8(index_concat_cmp_180624);
                        int64_t index_concat_branch_180622;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180619 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t index_primexp_180672 = add64(index_concat_branch_178906, index_concat_i_180619);
                            
                            index_concat_branch_180622 = index_primexp_180672;
                        } else {
                            int64_t index_primexp_180674 = add64(index_concat_branch_178903, i_180366);
                            
                            index_concat_branch_180622 = index_primexp_180674;
                        }
                        
                        double index_concat_branch_180616;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180613 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t slice_180669 = slice_178959 + index_concat_i_180613;
                            double index_concat_180614 = ((double *) b_list_mem_180697.mem)[slice_180669];
                            
                            index_concat_branch_180616 = index_concat_180614;
                        } else {
                            int64_t slice_180670 = slice_178940 + i_180366;
                            double index_concat_180615 = ((double *) a_list_mem_180696.mem)[slice_180670];
                            
                            index_concat_branch_180616 = index_concat_180615;
                        }
                        
                        bool eq_x_y_180686 = redout_180363 == (int8_t) 1;
                        bool eq_x_zz_180687 = redout_180363 == (int8_t) 0;
                        bool p_and_eq_x_y_180688 = index_concat_cmp_180624 && eq_x_y_180686;
                        bool not_p_180689 = !index_concat_cmp_180624;
                        bool p_and_eq_x_y_180690 = eq_x_zz_180687 && not_p_180689;
                        bool cond_179014 = p_and_eq_x_y_180688 || p_and_eq_x_y_180690;
                        bool defunc_0_leq_res_t_res_179015 = sle64(redout_180364, index_concat_branch_180622);
                        bool defunc_0_leq_res_179016 = redout_180365 <= index_concat_branch_180616;
                        bool x_179017 = cond_179014 && defunc_0_leq_res_t_res_179015;
                        bool x_179018 = !cond_179014;
                        bool y_179019 = defunc_0_leq_res_179016 && x_179018;
                        bool defunc_0_leq_res_179020 = x_179017 || y_179019;
                        int8_t defunc_0_op_res_179021;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179021 = index_concat_branch_180628;
                        } else {
                            defunc_0_op_res_179021 = redout_180363;
                        }
                        
                        int64_t defunc_0_op_res_179022;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179022 = index_concat_branch_180622;
                        } else {
                            defunc_0_op_res_179022 = redout_180364;
                        }
                        
                        double defunc_0_op_res_179023;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179023 = index_concat_branch_180616;
                        } else {
                            defunc_0_op_res_179023 = redout_180365;
                        }
                        
                        int8_t redout_tmp_182155 = defunc_0_op_res_179021;
                        int64_t redout_tmp_182156 = defunc_0_op_res_179022;
                        double redout_tmp_182157 = defunc_0_op_res_179023;
                        
                        redout_180363 = redout_tmp_182155;
                        redout_180364 = redout_tmp_182156;
                        redout_180365 = redout_tmp_182157;
                    }
                    x_181861 = redout_180363;
                    x_181862 = redout_180364;
                    x_181863 = redout_180365;
                    defunc_0_reduce_res_179002 = x_181861;
                    defunc_0_reduce_res_179003 = x_181862;
                    defunc_0_reduce_res_179004 = x_181863;
                } else {
                    defunc_0_reduce_res_179002 = (int8_t) 0;
                    defunc_0_reduce_res_179003 = (int64_t) 0;
                    defunc_0_reduce_res_179004 = 0.0;
                }
                
                int64_t distance_179038 = add64((int64_t) 1, tmp_179036);
                int64_t binop_x_181118 = (int64_t) 8 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181119 = block_sizze_178982 * binop_x_181118;
                int64_t bytes_181137 = (int64_t) 8 * block_sizze_178982;
                bool loop_cond_179164 = slt64(block_sizze_178982, flat_dim_178983);
                bool zzero_179165 = merge_block_sizze_178988 == (int64_t) 0;
                bool nonzzero_179166 = !zzero_179165;
                
                if (cond_178966) {
                    if (memblock_set(ctx, &ext_mem_181410, &mem_181111, "mem_181111") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &mem_181113, "mem_181113") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &mem_181115, "mem_181115") != 0)
                        return 1;
                } else {
                    if (mem_181117_cached_sizze_182460 < flat_dim_178983) {
                        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_182460, flat_dim_178983);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181120_cached_sizze_182461 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182461, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181123_cached_sizze_182462 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182462, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181136_cached_sizze_182463 < block_sizze_178982) {
                        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_182463, block_sizze_178982);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181138_cached_sizze_182464 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_182464, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181140_cached_sizze_182465 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182465, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180383 = 0; i_180383 < smallest_pow_2_geq_than_res_178972; i_180383++) {
                        int64_t zp_lhs_179046 = mul64(block_sizze_178982, i_180383);
                        
                        for (int64_t i_180373 = 0; i_180373 < block_sizze_178982; i_180373++) {
                            int64_t k_179051 = add64(zp_lhs_179046, i_180373);
                            bool cond_179052 = slt64(k_179051, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                            int8_t lifted_lambda_res_179053;
                            int64_t lifted_lambda_res_179054;
                            double lifted_lambda_res_179055;
                            
                            if (cond_179052) {
                                bool x_179056 = sle64((int64_t) 0, k_179051);
                                bool bounds_check_179057 = cond_179052 && x_179056;
                                bool index_certs_179058;
                                
                                if (!bounds_check_179057) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179051, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179059 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, k_179051);
                                int8_t index_concat_branch_179060 = btoi_bool_i8(index_concat_cmp_179059);
                                int64_t index_concat_branch_179061;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179062 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t index_primexp_179063 = add64(index_concat_branch_178906, index_concat_i_179062);
                                    
                                    index_concat_branch_179061 = index_primexp_179063;
                                } else {
                                    int64_t index_primexp_179064 = add64(index_concat_branch_178903, k_179051);
                                    
                                    index_concat_branch_179061 = index_primexp_179064;
                                }
                                
                                double index_concat_branch_179065;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179066 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t slice_179067 = index_concat_branch_178906 + index_concat_i_179066;
                                    int64_t slice_179068 = p_175207 + slice_179067;
                                    double index_concat_179069 = ((double *) b_list_mem_180697.mem)[slice_179068];
                                    
                                    index_concat_branch_179065 = index_concat_179069;
                                } else {
                                    int64_t slice_179070 = index_concat_branch_178903 + k_179051;
                                    int64_t slice_179071 = p_175206 + slice_179070;
                                    double index_concat_179072 = ((double *) a_list_mem_180696.mem)[slice_179071];
                                    
                                    index_concat_branch_179065 = index_concat_179072;
                                }
                                lifted_lambda_res_179053 = index_concat_branch_179060;
                                lifted_lambda_res_179054 = index_concat_branch_179061;
                                lifted_lambda_res_179055 = index_concat_branch_179065;
                            } else {
                                lifted_lambda_res_179053 = defunc_0_reduce_res_179002;
                                lifted_lambda_res_179054 = defunc_0_reduce_res_179003;
                                lifted_lambda_res_179055 = defunc_0_reduce_res_179004;
                            }
                            ((int8_t *) mem_181136)[i_180373] = lifted_lambda_res_179053;
                            ((int64_t *) mem_181138)[i_180373] = lifted_lambda_res_179054;
                            ((double *) mem_181140)[i_180373] = lifted_lambda_res_179055;
                        }
                        if (!cond_179035) {
                            for (int64_t i_179082 = 0; i_179082 < distance_179038; i_179082++) {
                                int64_t gt_arg1_179086 = add64((int64_t) 1, i_179082);
                                bool x_179087 = sle64((int64_t) 0, gt_arg1_179086);
                                bool y_179088 = slt64(gt_arg1_179086, block_sizze_178982);
                                bool bounds_check_179089 = x_179087 && y_179088;
                                bool index_certs_179090;
                                
                                if (!bounds_check_179089) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179086, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179094 = slt64(i_179082, block_sizze_178982);
                                bool index_certs_179095;
                                
                                if (!y_179094) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179082, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179091 = ((int8_t *) mem_181136)[gt_arg1_179086];
                                int64_t gt_arg1_179092 = ((int64_t *) mem_181138)[gt_arg1_179086];
                                double gt_arg1_179093 = ((double *) mem_181140)[gt_arg1_179086];
                                int8_t gt_arg0_179096 = ((int8_t *) mem_181136)[i_179082];
                                int64_t gt_arg0_179097 = ((int64_t *) mem_181138)[i_179082];
                                double gt_arg0_179098 = ((double *) mem_181140)[i_179082];
                                bool cond_179099 = gt_arg0_179096 == gt_arg1_179091;
                                bool defunc_0_leq_res_t_res_179100 = sle64(gt_arg0_179097, gt_arg1_179092);
                                bool defunc_0_leq_res_179101 = gt_arg0_179098 <= gt_arg1_179093;
                                bool x_179102 = cond_179099 && defunc_0_leq_res_t_res_179100;
                                bool x_179103 = !cond_179099;
                                bool y_179104 = defunc_0_leq_res_179101 && x_179103;
                                bool defunc_0_leq_res_179105 = x_179102 || y_179104;
                                bool defunc_0_lifted_gt_res_179106 = !defunc_0_leq_res_179105;
                                bool s_179107;
                                int64_t s_179111;
                                bool loop_while_179112;
                                int64_t j_179116;
                                
                                loop_while_179112 = defunc_0_lifted_gt_res_179106;
                                j_179116 = i_179082;
                                while (loop_while_179112) {
                                    bool x_179117 = sle64((int64_t) 0, j_179116);
                                    bool y_179118 = slt64(j_179116, block_sizze_178982);
                                    bool bounds_check_179119 = x_179117 && y_179118;
                                    bool index_certs_179120;
                                    
                                    if (!bounds_check_179119) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179116, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179124 = add64((int64_t) 1, j_179116);
                                    bool x_179125 = sle64((int64_t) 0, copy_arg0_179124);
                                    bool y_179126 = slt64(copy_arg0_179124, block_sizze_178982);
                                    bool bounds_check_179127 = x_179125 && y_179126;
                                    bool index_certs_179128;
                                    
                                    if (!bounds_check_179127) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179124, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179121 = ((int8_t *) mem_181136)[j_179116];
                                    int64_t copy_arg0_179122 = ((int64_t *) mem_181138)[j_179116];
                                    double copy_arg0_179123 = ((double *) mem_181140)[j_179116];
                                    int8_t copy_arg0_179129 = ((int8_t *) mem_181136)[copy_arg0_179124];
                                    int64_t copy_arg0_179130 = ((int64_t *) mem_181138)[copy_arg0_179124];
                                    double copy_arg0_179131 = ((double *) mem_181140)[copy_arg0_179124];
                                    
                                    ((int8_t *) mem_181136)[j_179116] = copy_arg0_179129;
                                    ((int64_t *) mem_181138)[j_179116] = copy_arg0_179130;
                                    ((double *) mem_181140)[j_179116] = copy_arg0_179131;
                                    ((int8_t *) mem_181136)[copy_arg0_179124] = copy_arg0_179121;
                                    ((int64_t *) mem_181138)[copy_arg0_179124] = copy_arg0_179122;
                                    ((double *) mem_181140)[copy_arg0_179124] = copy_arg0_179123;
                                    
                                    int64_t tmp_179138 = sub64(j_179116, (int64_t) 1);
                                    bool cond_179139 = sle64((int64_t) 0, tmp_179138);
                                    bool loop_cond_179140;
                                    
                                    if (cond_179139) {
                                        bool y_179144 = slt64(tmp_179138, block_sizze_178982);
                                        bool bounds_check_179145 = cond_179139 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179138, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179141 = ((int8_t *) mem_181136)[j_179116];
                                        int64_t gt_arg1_179142 = ((int64_t *) mem_181138)[j_179116];
                                        double gt_arg1_179143 = ((double *) mem_181140)[j_179116];
                                        int8_t gt_arg0_179147 = ((int8_t *) mem_181136)[tmp_179138];
                                        int64_t gt_arg0_179148 = ((int64_t *) mem_181138)[tmp_179138];
                                        double gt_arg0_179149 = ((double *) mem_181140)[tmp_179138];
                                        bool cond_179150 = gt_arg0_179147 == gt_arg1_179141;
                                        bool defunc_0_leq_res_t_res_179151 = sle64(gt_arg0_179148, gt_arg1_179142);
                                        bool defunc_0_leq_res_179152 = gt_arg0_179149 <= gt_arg1_179143;
                                        bool x_179153 = cond_179150 && defunc_0_leq_res_t_res_179151;
                                        bool x_179154 = !cond_179150;
                                        bool y_179155 = defunc_0_leq_res_179152 && x_179154;
                                        bool defunc_0_leq_res_179156 = x_179153 || y_179155;
                                        bool defunc_0_lifted_gt_res_179157 = !defunc_0_leq_res_179156;
                                        
                                        loop_cond_179140 = defunc_0_lifted_gt_res_179157;
                                    } else {
                                        loop_cond_179140 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182167 = loop_cond_179140;
                                    int64_t j_tmp_182171 = tmp_179138;
                                    
                                    loop_while_179112 = loop_while_tmp_182167;
                                    j_179116 = j_tmp_182171;
                                }
                                s_179107 = loop_while_179112;
                                s_179111 = j_179116;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181117, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181140, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                    }
                    if (memblock_alloc(ctx, &mem_181217, flat_dim_178983, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181217.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint8_t *) mem_181117, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181221, bytes_181119, "mem_181221")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181221.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181225, bytes_181119, "mem_181225")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181225.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    
                    int64_t data_179167;
                    bool data_179168;
                    int64_t data_179172;
                    int64_t loop_dz2084Uz2082U_179173;
                    bool loop_while_179174;
                    int64_t stride_179178;
                    
                    if (memblock_set(ctx, &mem_param_181229, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181232, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181235, &mem_181225, "mem_181225") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179173 = flat_dim_178983;
                    loop_while_179174 = loop_cond_179164;
                    stride_179178 = block_sizze_178982;
                    while (loop_while_179174) {
                        int64_t next_stride_179179 = mul64((int64_t) 2, stride_179178);
                        bool zzero_179180 = next_stride_179179 == (int64_t) 0;
                        bool nonzzero_179181 = !zzero_179180;
                        bool nonzzero_cert_179182;
                        
                        if (!nonzzero_179181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179183 = sdiv64(flat_dim_178983, next_stride_179179);
                        bool bounds_invalid_upwards_179184 = slt64(num_merges_179183, (int64_t) 0);
                        bool valid_179185 = !bounds_invalid_upwards_179184;
                        bool range_valid_c_179186;
                        
                        if (!valid_179185) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179183, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179188 = sub64(next_stride_179179, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179189 = sle64((int64_t) 0, m_179188);
                        bool cond_179191 = slt64(next_stride_179179, (int64_t) 10);
                        bool protect_assert_disj_179192 = nonzzero_179166 || cond_179191;
                        bool nonzzero_cert_179193;
                        
                        if (!protect_assert_disj_179192) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179194 = smod_safe64(next_stride_179179, merge_block_sizze_178988);
                        bool num_blocks_179195 = zeze_lhs_179194 == (int64_t) 0;
                        bool protect_assert_disj_179196 = cond_179191 || num_blocks_179195;
                        bool assert_c_179197;
                        
                        if (!protect_assert_disj_179196) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179198 = sdiv_safe64(next_stride_179179, merge_block_sizze_178988);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199 = add64((int64_t) 1, num_blocks_179198);
                        int64_t j_m_i_179200 = sub64(next_stride_179179, stride_179178);
                        int64_t flat_dim_179201 = merge_block_sizze_178988 * num_blocks_179198;
                        bool bounds_invalid_upwards_179202 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, (int64_t) 0);
                        bool empty_slice_179203 = j_m_i_179200 == (int64_t) 0;
                        int64_t m_179204 = sub64(j_m_i_179200, (int64_t) 1);
                        bool zzero_lte_i_179205 = sle64((int64_t) 0, stride_179178);
                        bool i_lte_j_179206 = sle64(stride_179178, next_stride_179179);
                        bool empty_slice_179207 = stride_179178 == (int64_t) 0;
                        int64_t m_179208 = sub64(stride_179178, (int64_t) 1);
                        bool bounds_invalid_upwards_179209 = slt64(num_blocks_179198, (int64_t) 0);
                        bool cond_179210 = slt64((int64_t) 0, stride_179178);
                        bool valid_179211 = !bounds_invalid_upwards_179202;
                        int64_t i_p_m_t_s_179212 = add64(stride_179178, m_179204);
                        bool zzero_leq_i_p_m_t_s_179213 = sle64((int64_t) 0, m_179208);
                        bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, next_stride_179179);
                        bool valid_179215 = !bounds_invalid_upwards_179209;
                        bool i_p_m_t_s_leq_w_179216 = slt64(m_179188, flat_dim_179201);
                        bool y_179217 = slt64((int64_t) 0, j_m_i_179200);
                        bool protect_assert_disj_179218 = cond_179191 || valid_179211;
                        bool range_valid_c_179219;
                        
                        if (!protect_assert_disj_179218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179220 = sle64((int64_t) 0, i_p_m_t_s_179212);
                        bool i_p_m_t_s_leq_w_179221 = slt64(i_p_m_t_s_179212, next_stride_179179);
                        bool y_179222 = zzero_leq_i_p_m_t_s_179213 && i_p_m_t_s_leq_w_179214;
                        bool protect_assert_disj_179223 = cond_179191 || valid_179215;
                        bool range_valid_c_179224;
                        
                        if (!protect_assert_disj_179223) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179198, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179225 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179216;
                        bool y_179226 = zzero_lte_i_179205 && i_p_m_t_s_leq_w_179221;
                        bool forwards_ok_179227 = zzero_lte_i_179205 && y_179222;
                        bool ok_or_empty_179228 = zzero_179180 || y_179225;
                        bool protect_assert_disj_179229 = cond_179210 || y_179217;
                        bool y_179230 = zzero_leq_i_p_m_t_s_179220 && y_179226;
                        bool ok_or_empty_179231 = empty_slice_179207 || forwards_ok_179227;
                        bool protect_assert_disj_179232 = cond_179191 || ok_or_empty_179228;
                        bool index_certs_179233;
                        
                        if (!protect_assert_disj_179232) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) flat_dim_179201, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179234 = !cond_179191;
                        bool protect_assert_disj_179235 = protect_assert_disj_179229 || loop_not_taken_179234;
                        bool index_certs_179236;
                        
                        if (!protect_assert_disj_179235) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179237 = i_lte_j_179206 && y_179230;
                        bool protect_assert_disj_179238 = cond_179191 || ok_or_empty_179231;
                        bool index_certs_179239;
                        
                        if (!protect_assert_disj_179238) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179240 = ok_or_empty_179231 || loop_not_taken_179234;
                        bool index_certs_179241;
                        
                        if (!protect_assert_disj_179240) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179242 = empty_slice_179203 || forwards_ok_179237;
                        bool protect_assert_disj_179243 = cond_179191 || ok_or_empty_179242;
                        bool index_certs_179244;
                        
                        if (!protect_assert_disj_179243) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179245 = loop_not_taken_179234 || ok_or_empty_179242;
                        bool index_certs_179246;
                        
                        if (!protect_assert_disj_179245) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181236 = next_stride_179179 * num_merges_179183;
                        int64_t binop_x_181238 = (int64_t) 8 * num_merges_179183;
                        int64_t bytes_181239 = next_stride_179179 * binop_x_181238;
                        bool i_lte_j_179190 = sle64((int64_t) 0, next_stride_179179);
                        
                        if (mem_181237_cached_sizze_182466 < bytes_181236) {
                            err = lexical_realloc(ctx, &mem_181237, &mem_181237_cached_sizze_182466, bytes_181236);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181240_cached_sizze_182467 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181240, &mem_181240_cached_sizze_182467, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181243_cached_sizze_182468 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_182468, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181256 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199;
                        int64_t binop_x_181274 = (int64_t) 8 * num_blocks_179198;
                        int64_t bytes_181275 = merge_block_sizze_178988 * binop_x_181274;
                        int64_t bytes_181339 = (int64_t) 16 * stride_179178;
                        
                        for (int64_t i_180410 = 0; i_180410 < num_merges_179183; i_180410++) {
                            int64_t start_179251 = mul64(next_stride_179179, i_180410);
                            int64_t j_m_i_179252 = sub64(loop_dz2084Uz2082U_179173, start_179251);
                            bool empty_slice_179253 = j_m_i_179252 == (int64_t) 0;
                            int64_t m_179254 = sub64(j_m_i_179252, (int64_t) 1);
                            int64_t i_p_m_t_s_179255 = add64(start_179251, m_179254);
                            bool zzero_leq_i_p_m_t_s_179256 = sle64((int64_t) 0, i_p_m_t_s_179255);
                            bool i_p_m_t_s_leq_w_179257 = slt64(i_p_m_t_s_179255, loop_dz2084Uz2082U_179173);
                            bool zzero_lte_i_179258 = sle64((int64_t) 0, start_179251);
                            bool i_lte_j_179259 = sle64(start_179251, loop_dz2084Uz2082U_179173);
                            bool y_179260 = i_p_m_t_s_leq_w_179257 && zzero_lte_i_179258;
                            bool y_179261 = zzero_leq_i_p_m_t_s_179256 && y_179260;
                            bool forwards_ok_179262 = i_lte_j_179259 && y_179261;
                            bool ok_or_empty_179263 = empty_slice_179253 || forwards_ok_179262;
                            bool index_certs_179264;
                            
                            if (!ok_or_empty_179263) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179251, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179173, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179265 = slt64(m_179188, j_m_i_179252);
                            bool y_179266 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179265;
                            bool forwards_ok_179267 = i_lte_j_179190 && y_179266;
                            bool ok_or_empty_179268 = zzero_179180 || forwards_ok_179267;
                            bool index_certs_179269;
                            
                            if (!ok_or_empty_179268) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) j_m_i_179252, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179191) {
                                int8_t dummy_179273;
                                int64_t dummy_179274;
                                double dummy_179275;
                                
                                if (cond_179210) {
                                    int8_t head_res_179276 = ((int8_t *) mem_param_181229.mem)[start_179251];
                                    int64_t head_res_179277 = ((int64_t *) mem_param_181232.mem)[start_179251];
                                    double head_res_179278 = ((double *) mem_param_181235.mem)[start_179251];
                                    
                                    dummy_179273 = head_res_179276;
                                    dummy_179274 = head_res_179277;
                                    dummy_179275 = head_res_179278;
                                } else {
                                    int64_t slice_179279 = stride_179178 + start_179251;
                                    int8_t head_res_179280 = ((int8_t *) mem_param_181229.mem)[slice_179279];
                                    int64_t head_res_179281 = ((int64_t *) mem_param_181232.mem)[slice_179279];
                                    double head_res_179282 = ((double *) mem_param_181235.mem)[slice_179279];
                                    
                                    dummy_179273 = head_res_179280;
                                    dummy_179274 = head_res_179281;
                                    dummy_179275 = head_res_179282;
                                }
                                if (memblock_alloc(ctx, &mem_181338, next_stride_179179, "mem_181338")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182184 = 0; nest_i_182184 < next_stride_179179; nest_i_182184++) {
                                    ((int8_t *) mem_181338.mem)[nest_i_182184] = dummy_179273;
                                }
                                if (memblock_alloc(ctx, &mem_181340, bytes_181339, "mem_181340")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182185 = 0; nest_i_182185 < next_stride_179179; nest_i_182185++) {
                                    ((int64_t *) mem_181340.mem)[nest_i_182185] = dummy_179274;
                                }
                                if (memblock_alloc(ctx, &mem_181342, bytes_181339, "mem_181342")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182186 = 0; nest_i_182186 < next_stride_179179; nest_i_182186++) {
                                    ((double *) mem_181342.mem)[nest_i_182186] = dummy_179275;
                                }
                                
                                int64_t data_179286;
                                int64_t i_179291 = (int64_t) 0;
                                
                                for (int64_t k_179290 = 0; k_179290 < next_stride_179179; k_179290++) {
                                    int64_t j_179295 = sub64(k_179290, i_179291);
                                    bool cond_179296 = j_179295 == j_m_i_179200;
                                    bool cond_179297;
                                    
                                    if (cond_179296) {
                                        cond_179297 = 1;
                                    } else {
                                        bool cond_179298 = slt64(i_179291, stride_179178);
                                        bool cond_f_res_179299;
                                        
                                        if (cond_179298) {
                                            bool x_179300 = sle64((int64_t) 0, j_179295);
                                            bool y_179301 = slt64(j_179295, j_m_i_179200);
                                            bool bounds_check_179302 = x_179300 && y_179301;
                                            bool index_certs_179303;
                                            
                                            if (!bounds_check_179302) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179309 = sle64((int64_t) 0, i_179291);
                                            bool bounds_check_179310 = cond_179298 && x_179309;
                                            bool index_certs_179311;
                                            
                                            if (!bounds_check_179310) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179304 = stride_179178 + j_179295;
                                            int64_t slice_179305 = start_179251 + slice_179304;
                                            int8_t leq_arg1_179306 = ((int8_t *) mem_param_181229.mem)[slice_179305];
                                            int64_t leq_arg1_179307 = ((int64_t *) mem_param_181232.mem)[slice_179305];
                                            double leq_arg1_179308 = ((double *) mem_param_181235.mem)[slice_179305];
                                            int64_t slice_179312 = start_179251 + i_179291;
                                            int8_t leq_arg0_179313 = ((int8_t *) mem_param_181229.mem)[slice_179312];
                                            int64_t leq_arg0_179314 = ((int64_t *) mem_param_181232.mem)[slice_179312];
                                            double leq_arg0_179315 = ((double *) mem_param_181235.mem)[slice_179312];
                                            bool cond_179316 = leq_arg0_179313 == leq_arg1_179306;
                                            bool defunc_0_leq_res_t_res_179317 = sle64(leq_arg0_179314, leq_arg1_179307);
                                            bool defunc_0_leq_res_179318 = leq_arg0_179315 <= leq_arg1_179308;
                                            bool x_179319 = cond_179316 && defunc_0_leq_res_t_res_179317;
                                            bool x_179320 = !cond_179316;
                                            bool y_179321 = defunc_0_leq_res_179318 && x_179320;
                                            bool defunc_0_leq_res_179322 = x_179319 || y_179321;
                                            
                                            cond_f_res_179299 = defunc_0_leq_res_179322;
                                        } else {
                                            cond_f_res_179299 = 0;
                                        }
                                        cond_179297 = cond_f_res_179299;
                                    }
                                    
                                    int64_t loopres_179323;
                                    int8_t loopres_179324;
                                    int64_t loopres_179325;
                                    double loopres_179326;
                                    
                                    if (cond_179297) {
                                        bool x_179328 = sle64((int64_t) 0, i_179291);
                                        bool y_179329 = slt64(i_179291, stride_179178);
                                        bool bounds_check_179330 = x_179328 && y_179329;
                                        bool index_certs_179331;
                                        
                                        if (!bounds_check_179330) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179327 = add64((int64_t) 1, i_179291);
                                        int64_t slice_179332 = start_179251 + i_179291;
                                        int8_t tmp_179333 = ((int8_t *) mem_param_181229.mem)[slice_179332];
                                        int64_t tmp_179334 = ((int64_t *) mem_param_181232.mem)[slice_179332];
                                        double tmp_179335 = ((double *) mem_param_181235.mem)[slice_179332];
                                        
                                        loopres_179323 = tmp_179327;
                                        loopres_179324 = tmp_179333;
                                        loopres_179325 = tmp_179334;
                                        loopres_179326 = tmp_179335;
                                    } else {
                                        bool x_179336 = sle64((int64_t) 0, j_179295);
                                        bool y_179337 = slt64(j_179295, j_m_i_179200);
                                        bool bounds_check_179338 = x_179336 && y_179337;
                                        bool index_certs_179339;
                                        
                                        if (!bounds_check_179338) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179340 = stride_179178 + j_179295;
                                        int64_t slice_179341 = start_179251 + slice_179340;
                                        int8_t tmp_179342 = ((int8_t *) mem_param_181229.mem)[slice_179341];
                                        int64_t tmp_179343 = ((int64_t *) mem_param_181232.mem)[slice_179341];
                                        double tmp_179344 = ((double *) mem_param_181235.mem)[slice_179341];
                                        
                                        loopres_179323 = i_179291;
                                        loopres_179324 = tmp_179342;
                                        loopres_179325 = tmp_179343;
                                        loopres_179326 = tmp_179344;
                                    }
                                    ((int8_t *) mem_181338.mem)[k_179290] = loopres_179324;
                                    ((int64_t *) mem_181340.mem)[k_179290] = loopres_179325;
                                    ((double *) mem_181342.mem)[k_179290] = loopres_179326;
                                    
                                    int64_t i_tmp_182187 = loopres_179323;
                                    
                                    i_179291 = i_tmp_182187;
                                }
                                data_179286 = i_179291;
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181338, "mem_181338") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181340, "mem_181340") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181342, "mem_181342") != 0)
                                    return 1;
                            } else {
                                if (mem_181257_cached_sizze_182469 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181257, &mem_181257_cached_sizze_182469, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181259_cached_sizze_182470 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181259, &mem_181259_cached_sizze_182470, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180391 = 0; i_180391 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199; i_180391++) {
                                    int64_t split_count_arg3_179352 = mul64(merge_block_sizze_178988, i_180391);
                                    int64_t defunc_0_split_count_res_179353;
                                    int64_t defunc_0_split_count_res_179354;
                                    int64_t defunc_0_split_count_res_179355;
                                    int64_t defunc_0_split_count_res_179356;
                                    int64_t defunc_0_split_count_res_179357;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_179353, &defunc_0_split_count_res_179354, &defunc_0_split_count_res_179355, &defunc_0_split_count_res_179356, &defunc_0_split_count_res_179357, (int64_t) 0, stride_179178, (int64_t) 0, j_m_i_179200, split_count_arg3_179352) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179358 = slt64((int64_t) 0, defunc_0_split_count_res_179357);
                                    bool defunc_0_split_count_res_179359;
                                    int64_t defunc_0_split_count_res_179360;
                                    int64_t defunc_0_split_count_res_179361;
                                    int64_t defunc_0_split_count_res_179362;
                                    int64_t defunc_0_split_count_res_179363;
                                    int64_t defunc_0_split_count_res_179364;
                                    bool loop_while_179365;
                                    int64_t ss_179366;
                                    int64_t ss_179367;
                                    int64_t tt_179368;
                                    int64_t tt_179369;
                                    int64_t count_179370;
                                    
                                    loop_while_179365 = loop_cond_179358;
                                    ss_179366 = defunc_0_split_count_res_179353;
                                    ss_179367 = defunc_0_split_count_res_179354;
                                    tt_179368 = defunc_0_split_count_res_179355;
                                    tt_179369 = defunc_0_split_count_res_179356;
                                    count_179370 = defunc_0_split_count_res_179357;
                                    while (loop_while_179365) {
                                        int64_t zlze_lhs_179371 = sub64(ss_179367, ss_179366);
                                        bool cond_179372 = sle64(zlze_lhs_179371, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179373;
                                        int64_t defunc_0_lifted_step_res_179374;
                                        int64_t defunc_0_lifted_step_res_179375;
                                        int64_t defunc_0_lifted_step_res_179376;
                                        
                                        if (cond_179372) {
                                            int64_t tmp_179377 = add64(tt_179368, count_179370);
                                            
                                            defunc_0_lifted_step_res_179373 = ss_179366;
                                            defunc_0_lifted_step_res_179374 = tmp_179377;
                                            defunc_0_lifted_step_res_179375 = tt_179369;
                                            defunc_0_lifted_step_res_179376 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179378 = sub64(tt_179369, tt_179368);
                                            bool cond_179379 = sle64(zlze_lhs_179378, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179380;
                                            int64_t defunc_0_lifted_step_res_f_res_179381;
                                            int64_t defunc_0_lifted_step_res_f_res_179382;
                                            int64_t defunc_0_lifted_step_res_f_res_179383;
                                            
                                            if (cond_179379) {
                                                int64_t tmp_179384 = add64(ss_179366, count_179370);
                                                
                                                defunc_0_lifted_step_res_f_res_179380 = tmp_179384;
                                                defunc_0_lifted_step_res_f_res_179381 = tt_179368;
                                                defunc_0_lifted_step_res_f_res_179382 = tt_179369;
                                                defunc_0_lifted_step_res_f_res_179383 = (int64_t) 0;
                                            } else {
                                                bool cond_179385 = count_179370 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179386;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179387;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179388;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179389;
                                                
                                                if (cond_179385) {
                                                    bool x_179390 = sle64((int64_t) 0, ss_179366);
                                                    bool y_179391 = slt64(ss_179366, stride_179178);
                                                    bool bounds_check_179392 = x_179390 && y_179391;
                                                    bool index_certs_179393;
                                                    
                                                    if (!bounds_check_179392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179366, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179398 = sle64((int64_t) 0, tt_179368);
                                                    bool y_179399 = slt64(tt_179368, j_m_i_179200);
                                                    bool bounds_check_179400 = x_179398 && y_179399;
                                                    bool index_certs_179401;
                                                    
                                                    if (!bounds_check_179400) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179368, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179394 = start_179251 + ss_179366;
                                                    int8_t leq_arg1_179395 = ((int8_t *) mem_param_181229.mem)[slice_179394];
                                                    int64_t leq_arg1_179396 = ((int64_t *) mem_param_181232.mem)[slice_179394];
                                                    double leq_arg1_179397 = ((double *) mem_param_181235.mem)[slice_179394];
                                                    int64_t slice_179402 = stride_179178 + tt_179368;
                                                    int64_t slice_179403 = start_179251 + slice_179402;
                                                    int8_t leq_arg0_179404 = ((int8_t *) mem_param_181229.mem)[slice_179403];
                                                    int64_t leq_arg0_179405 = ((int64_t *) mem_param_181232.mem)[slice_179403];
                                                    double leq_arg0_179406 = ((double *) mem_param_181235.mem)[slice_179403];
                                                    bool cond_179407 = leq_arg0_179404 == leq_arg1_179395;
                                                    bool defunc_0_leq_res_t_res_179408 = sle64(leq_arg0_179405, leq_arg1_179396);
                                                    bool defunc_0_leq_res_179409 = leq_arg0_179406 <= leq_arg1_179397;
                                                    bool x_179410 = cond_179407 && defunc_0_leq_res_t_res_179408;
                                                    bool x_179411 = !cond_179407;
                                                    bool y_179412 = defunc_0_leq_res_179409 && x_179411;
                                                    bool defunc_0_leq_res_179413 = x_179410 || y_179412;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    
                                                    if (defunc_0_leq_res_179413) {
                                                        int64_t tmp_179416 = add64((int64_t) 1, tt_179368);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = ss_179366;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tmp_179416;
                                                    } else {
                                                        int64_t tmp_179417 = add64((int64_t) 1, ss_179366);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = tmp_179417;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tt_179368;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = tt_179369;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179418 = sdiv64(count_179370, (int64_t) 2);
                                                    int64_t n_179419 = sub64(count_179370, m_179418);
                                                    bool cond_179420 = n_179419 == (int64_t) 0;
                                                    int64_t zgze_lhs_179421 = add64(ss_179366, m_179418);
                                                    bool cond_f_res_179422 = sle64(ss_179367, zgze_lhs_179421);
                                                    bool x_179423 = !cond_179420;
                                                    bool y_179424 = cond_f_res_179422 && x_179423;
                                                    bool cond_179425 = cond_179420 || y_179424;
                                                    bool leq_y_x_179426;
                                                    
                                                    if (cond_179425) {
                                                        leq_y_x_179426 = 1;
                                                    } else {
                                                        bool x_179427 = sle64((int64_t) 0, zgze_lhs_179421);
                                                        bool y_179428 = slt64(zgze_lhs_179421, stride_179178);
                                                        bool bounds_check_179429 = x_179427 && y_179428;
                                                        bool index_certs_179430;
                                                        
                                                        if (!bounds_check_179429) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179421, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179435 = add64(tt_179368, n_179419);
                                                        int64_t leq_arg0_179436 = sub64(zm_lhs_179435, (int64_t) 1);
                                                        bool x_179437 = sle64((int64_t) 0, leq_arg0_179436);
                                                        bool y_179438 = slt64(leq_arg0_179436, j_m_i_179200);
                                                        bool bounds_check_179439 = x_179437 && y_179438;
                                                        bool index_certs_179440;
                                                        
                                                        if (!bounds_check_179439) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179436, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179431 = start_179251 + zgze_lhs_179421;
                                                        int8_t leq_arg1_179432 = ((int8_t *) mem_param_181229.mem)[slice_179431];
                                                        int64_t leq_arg1_179433 = ((int64_t *) mem_param_181232.mem)[slice_179431];
                                                        double leq_arg1_179434 = ((double *) mem_param_181235.mem)[slice_179431];
                                                        int64_t slice_179441 = stride_179178 + leq_arg0_179436;
                                                        int64_t slice_179442 = start_179251 + slice_179441;
                                                        int8_t leq_arg0_179443 = ((int8_t *) mem_param_181229.mem)[slice_179442];
                                                        int64_t leq_arg0_179444 = ((int64_t *) mem_param_181232.mem)[slice_179442];
                                                        double leq_arg0_179445 = ((double *) mem_param_181235.mem)[slice_179442];
                                                        bool cond_179446 = leq_arg0_179443 == leq_arg1_179432;
                                                        bool defunc_0_leq_res_t_res_179447 = sle64(leq_arg0_179444, leq_arg1_179433);
                                                        bool defunc_0_leq_res_179448 = leq_arg0_179445 <= leq_arg1_179434;
                                                        bool x_179449 = cond_179446 && defunc_0_leq_res_t_res_179447;
                                                        bool x_179450 = !cond_179446;
                                                        bool y_179451 = defunc_0_leq_res_179448 && x_179450;
                                                        bool defunc_0_leq_res_179452 = x_179449 || y_179451;
                                                        
                                                        leq_y_x_179426 = defunc_0_leq_res_179452;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                    
                                                    if (leq_y_x_179426) {
                                                        int64_t tmp_179456 = add64(tt_179368, n_179419);
                                                        int64_t tmp_179457 = sub64(count_179370, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tmp_179456;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tt_179369;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = tmp_179457;
                                                    } else {
                                                        int64_t tmp_179458 = add64(tt_179368, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tt_179368;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tmp_179458;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = count_179370;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = ss_179366;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                }
                                                defunc_0_lifted_step_res_f_res_179380 = defunc_0_lifted_step_res_f_res_f_res_179386;
                                                defunc_0_lifted_step_res_f_res_179381 = defunc_0_lifted_step_res_f_res_f_res_179387;
                                                defunc_0_lifted_step_res_f_res_179382 = defunc_0_lifted_step_res_f_res_f_res_179388;
                                                defunc_0_lifted_step_res_f_res_179383 = defunc_0_lifted_step_res_f_res_f_res_179389;
                                            }
                                            defunc_0_lifted_step_res_179373 = defunc_0_lifted_step_res_f_res_179380;
                                            defunc_0_lifted_step_res_179374 = defunc_0_lifted_step_res_f_res_179381;
                                            defunc_0_lifted_step_res_179375 = defunc_0_lifted_step_res_f_res_179382;
                                            defunc_0_lifted_step_res_179376 = defunc_0_lifted_step_res_f_res_179383;
                                        }
                                        
                                        int64_t loopres_179459;
                                        int64_t loopres_179460;
                                        int64_t loopres_179461;
                                        int64_t loopres_179462;
                                        int64_t loopres_179463;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_179459, &loopres_179460, &loopres_179461, &loopres_179462, &loopres_179463, defunc_0_lifted_step_res_179373, ss_179367, defunc_0_lifted_step_res_179374, defunc_0_lifted_step_res_179375, defunc_0_lifted_step_res_179376) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179464 = slt64((int64_t) 0, loopres_179463);
                                        bool loop_while_tmp_182193 = loop_cond_179464;
                                        int64_t ss_tmp_182194 = loopres_179459;
                                        int64_t ss_tmp_182195 = loopres_179460;
                                        int64_t tt_tmp_182196 = loopres_179461;
                                        int64_t tt_tmp_182197 = loopres_179462;
                                        int64_t count_tmp_182198 = loopres_179463;
                                        
                                        loop_while_179365 = loop_while_tmp_182193;
                                        ss_179366 = ss_tmp_182194;
                                        ss_179367 = ss_tmp_182195;
                                        tt_179368 = tt_tmp_182196;
                                        tt_179369 = tt_tmp_182197;
                                        count_179370 = count_tmp_182198;
                                    }
                                    defunc_0_split_count_res_179359 = loop_while_179365;
                                    defunc_0_split_count_res_179360 = ss_179366;
                                    defunc_0_split_count_res_179361 = ss_179367;
                                    defunc_0_split_count_res_179362 = tt_179368;
                                    defunc_0_split_count_res_179363 = tt_179369;
                                    defunc_0_split_count_res_179364 = count_179370;
                                    ((int64_t *) mem_181257)[i_180391] = defunc_0_split_count_res_179360;
                                    ((int64_t *) mem_181259)[i_180391] = defunc_0_split_count_res_179362;
                                }
                                if (mem_181273_cached_sizze_182471 < flat_dim_179201) {
                                    err = lexical_realloc(ctx, &mem_181273, &mem_181273_cached_sizze_182471, flat_dim_179201);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181276_cached_sizze_182472 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181276, &mem_181276_cached_sizze_182472, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181279_cached_sizze_182473 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181279, &mem_181279_cached_sizze_182473, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180400 = 0; i_180400 < num_blocks_179198; i_180400++) {
                                    bool y_179473 = slt64(i_180400, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool index_certs_179475;
                                    
                                    if (!y_179473) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180400, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179476 = ((int64_t *) mem_181257)[i_180400];
                                    int64_t defunc_0_f_res_179477 = ((int64_t *) mem_181259)[i_180400];
                                    int64_t tmp_179478 = add64((int64_t) 1, i_180400);
                                    bool x_179479 = sle64((int64_t) 0, tmp_179478);
                                    bool y_179480 = slt64(tmp_179478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool bounds_check_179481 = x_179479 && y_179480;
                                    bool index_certs_179482;
                                    
                                    if (!bounds_check_179481) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179478, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179483 = ((int64_t *) mem_181257)[tmp_179478];
                                    int64_t defunc_0_f_res_179484 = ((int64_t *) mem_181259)[tmp_179478];
                                    int64_t merge_sequential_arg2_179485 = add64(stride_179178, defunc_0_f_res_179477);
                                    int64_t merge_sequential_arg2_179486 = add64(stride_179178, defunc_0_f_res_179484);
                                    int64_t j_m_i_179487 = sub64(merge_sequential_arg2_179486, merge_sequential_arg2_179485);
                                    bool empty_slice_179488 = j_m_i_179487 == (int64_t) 0;
                                    int64_t m_179489 = sub64(j_m_i_179487, (int64_t) 1);
                                    int64_t i_p_m_t_s_179490 = add64(merge_sequential_arg2_179485, m_179489);
                                    bool zzero_leq_i_p_m_t_s_179491 = sle64((int64_t) 0, i_p_m_t_s_179490);
                                    bool i_p_m_t_s_leq_w_179492 = slt64(i_p_m_t_s_179490, next_stride_179179);
                                    bool zzero_lte_i_179493 = sle64((int64_t) 0, merge_sequential_arg2_179485);
                                    bool i_lte_j_179494 = sle64(merge_sequential_arg2_179485, merge_sequential_arg2_179486);
                                    bool y_179495 = i_p_m_t_s_leq_w_179492 && zzero_lte_i_179493;
                                    bool y_179496 = zzero_leq_i_p_m_t_s_179491 && y_179495;
                                    bool forwards_ok_179497 = i_lte_j_179494 && y_179496;
                                    bool ok_or_empty_179498 = empty_slice_179488 || forwards_ok_179497;
                                    bool index_certs_179499;
                                    
                                    if (!ok_or_empty_179498) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179485, ":", (long long) merge_sequential_arg2_179486, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179500 = sub64(defunc_0_f_res_179483, defunc_0_f_res_179476);
                                    bool empty_slice_179501 = j_m_i_179500 == (int64_t) 0;
                                    int64_t m_179502 = sub64(j_m_i_179500, (int64_t) 1);
                                    int64_t i_p_m_t_s_179503 = add64(defunc_0_f_res_179476, m_179502);
                                    bool zzero_leq_i_p_m_t_s_179504 = sle64((int64_t) 0, i_p_m_t_s_179503);
                                    bool i_p_m_t_s_leq_w_179505 = slt64(i_p_m_t_s_179503, next_stride_179179);
                                    bool zzero_lte_i_179506 = sle64((int64_t) 0, defunc_0_f_res_179476);
                                    bool i_lte_j_179507 = sle64(defunc_0_f_res_179476, defunc_0_f_res_179483);
                                    bool y_179508 = i_p_m_t_s_leq_w_179505 && zzero_lte_i_179506;
                                    bool y_179509 = zzero_leq_i_p_m_t_s_179504 && y_179508;
                                    bool forwards_ok_179510 = i_lte_j_179507 && y_179509;
                                    bool ok_or_empty_179511 = empty_slice_179501 || forwards_ok_179510;
                                    bool index_certs_179512;
                                    
                                    if (!ok_or_empty_179511) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179476, ":", (long long) defunc_0_f_res_179483, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179513 = slt64((int64_t) 0, j_m_i_179500);
                                    int8_t dummy_179514;
                                    int64_t dummy_179515;
                                    double dummy_179516;
                                    
                                    if (cond_179513) {
                                        bool index_certs_179517;
                                        
                                        if (!cond_179513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179518 = start_179251 + defunc_0_f_res_179476;
                                        int8_t head_res_179519 = ((int8_t *) mem_param_181229.mem)[slice_179518];
                                        int64_t head_res_179520 = ((int64_t *) mem_param_181232.mem)[slice_179518];
                                        double head_res_179521 = ((double *) mem_param_181235.mem)[slice_179518];
                                        
                                        dummy_179514 = head_res_179519;
                                        dummy_179515 = head_res_179520;
                                        dummy_179516 = head_res_179521;
                                    } else {
                                        bool y_179522 = slt64((int64_t) 0, j_m_i_179487);
                                        bool index_certs_179523;
                                        
                                        if (!y_179522) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179524 = start_179251 + merge_sequential_arg2_179485;
                                        int8_t head_res_179525 = ((int8_t *) mem_param_181229.mem)[slice_179524];
                                        int64_t head_res_179526 = ((int64_t *) mem_param_181232.mem)[slice_179524];
                                        double head_res_179527 = ((double *) mem_param_181235.mem)[slice_179524];
                                        
                                        dummy_179514 = head_res_179525;
                                        dummy_179515 = head_res_179526;
                                        dummy_179516 = head_res_179527;
                                    }
                                    for (int64_t nest_i_182202 = 0; nest_i_182202 < merge_block_sizze_178988; nest_i_182202++) {
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + nest_i_182202] = dummy_179514;
                                    }
                                    for (int64_t nest_i_182203 = 0; nest_i_182203 < merge_block_sizze_178988; nest_i_182203++) {
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + nest_i_182203] = dummy_179515;
                                    }
                                    for (int64_t nest_i_182204 = 0; nest_i_182204 < merge_block_sizze_178988; nest_i_182204++) {
                                        ((double *) mem_181279)[i_180400 * merge_block_sizze_178988 + nest_i_182204] = dummy_179516;
                                    }
                                    
                                    int64_t data_179531;
                                    int64_t i_179536 = (int64_t) 0;
                                    
                                    for (int64_t k_179535 = 0; k_179535 < merge_block_sizze_178988; k_179535++) {
                                        int64_t j_179540 = sub64(k_179535, i_179536);
                                        bool cond_179541 = j_179540 == j_m_i_179487;
                                        bool cond_179542;
                                        
                                        if (cond_179541) {
                                            cond_179542 = 1;
                                        } else {
                                            bool cond_179543 = slt64(i_179536, j_m_i_179500);
                                            bool cond_f_res_179544;
                                            
                                            if (cond_179543) {
                                                bool x_179545 = sle64((int64_t) 0, j_179540);
                                                bool y_179546 = slt64(j_179540, j_m_i_179487);
                                                bool bounds_check_179547 = x_179545 && y_179546;
                                                bool index_certs_179548;
                                                
                                                if (!bounds_check_179547) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179554 = sle64((int64_t) 0, i_179536);
                                                bool bounds_check_179555 = cond_179543 && x_179554;
                                                bool index_certs_179556;
                                                
                                                if (!bounds_check_179555) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179549 = merge_sequential_arg2_179485 + j_179540;
                                                int64_t slice_179550 = start_179251 + slice_179549;
                                                int8_t leq_arg1_179551 = ((int8_t *) mem_param_181229.mem)[slice_179550];
                                                int64_t leq_arg1_179552 = ((int64_t *) mem_param_181232.mem)[slice_179550];
                                                double leq_arg1_179553 = ((double *) mem_param_181235.mem)[slice_179550];
                                                int64_t slice_179557 = defunc_0_f_res_179476 + i_179536;
                                                int64_t slice_179558 = start_179251 + slice_179557;
                                                int8_t leq_arg0_179559 = ((int8_t *) mem_param_181229.mem)[slice_179558];
                                                int64_t leq_arg0_179560 = ((int64_t *) mem_param_181232.mem)[slice_179558];
                                                double leq_arg0_179561 = ((double *) mem_param_181235.mem)[slice_179558];
                                                bool cond_179562 = leq_arg0_179559 == leq_arg1_179551;
                                                bool defunc_0_leq_res_t_res_179563 = sle64(leq_arg0_179560, leq_arg1_179552);
                                                bool defunc_0_leq_res_179564 = leq_arg0_179561 <= leq_arg1_179553;
                                                bool x_179565 = cond_179562 && defunc_0_leq_res_t_res_179563;
                                                bool x_179566 = !cond_179562;
                                                bool y_179567 = defunc_0_leq_res_179564 && x_179566;
                                                bool defunc_0_leq_res_179568 = x_179565 || y_179567;
                                                
                                                cond_f_res_179544 = defunc_0_leq_res_179568;
                                            } else {
                                                cond_f_res_179544 = 0;
                                            }
                                            cond_179542 = cond_f_res_179544;
                                        }
                                        
                                        int64_t loopres_179569;
                                        int8_t loopres_179570;
                                        int64_t loopres_179571;
                                        double loopres_179572;
                                        
                                        if (cond_179542) {
                                            bool x_179574 = sle64((int64_t) 0, i_179536);
                                            bool y_179575 = slt64(i_179536, j_m_i_179500);
                                            bool bounds_check_179576 = x_179574 && y_179575;
                                            bool index_certs_179577;
                                            
                                            if (!bounds_check_179576) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179573 = add64((int64_t) 1, i_179536);
                                            int64_t slice_179578 = defunc_0_f_res_179476 + i_179536;
                                            int64_t slice_179579 = start_179251 + slice_179578;
                                            int8_t tmp_179580 = ((int8_t *) mem_param_181229.mem)[slice_179579];
                                            int64_t tmp_179581 = ((int64_t *) mem_param_181232.mem)[slice_179579];
                                            double tmp_179582 = ((double *) mem_param_181235.mem)[slice_179579];
                                            
                                            loopres_179569 = tmp_179573;
                                            loopres_179570 = tmp_179580;
                                            loopres_179571 = tmp_179581;
                                            loopres_179572 = tmp_179582;
                                        } else {
                                            bool x_179583 = sle64((int64_t) 0, j_179540);
                                            bool y_179584 = slt64(j_179540, j_m_i_179487);
                                            bool bounds_check_179585 = x_179583 && y_179584;
                                            bool index_certs_179586;
                                            
                                            if (!bounds_check_179585) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179587 = merge_sequential_arg2_179485 + j_179540;
                                            int64_t slice_179588 = start_179251 + slice_179587;
                                            int8_t tmp_179589 = ((int8_t *) mem_param_181229.mem)[slice_179588];
                                            int64_t tmp_179590 = ((int64_t *) mem_param_181232.mem)[slice_179588];
                                            double tmp_179591 = ((double *) mem_param_181235.mem)[slice_179588];
                                            
                                            loopres_179569 = i_179536;
                                            loopres_179570 = tmp_179589;
                                            loopres_179571 = tmp_179590;
                                            loopres_179572 = tmp_179591;
                                        }
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179570;
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179571;
                                        ((double *) mem_181279)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179572;
                                        
                                        int64_t i_tmp_182205 = loopres_179569;
                                        
                                        i_179536 = i_tmp_182205;
                                    }
                                    data_179531 = i_179536;
                                }
                                if (memblock_alloc(ctx, &mem_181328, flat_dim_179201, "mem_181328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181328.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint8_t *) mem_181273, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181332, bytes_181275, "mem_181332")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181332.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181276, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181336, bytes_181275, "mem_181336")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181336.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181279, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181328, "mem_181328") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181332, "mem_181332") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181336, "mem_181336") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181237, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181240, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181366.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181243, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181363.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181383, bytes_181236, "mem_181383")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181383.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint8_t *) mem_181237, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181387, bytes_181239, "mem_181387")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181387.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181240, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181391, bytes_181239, "mem_181391")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181391.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181243, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        
                        bool loop_cond_179611 = slt64(next_stride_179179, flat_dim_178983);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182172, &mem_181383, "mem_181383") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182173, &mem_181387, "mem_181387") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182174, &mem_181391, "mem_181391") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182175 = bytes_181236;
                        bool loop_while_tmp_182176 = loop_cond_179611;
                        int64_t stride_tmp_182180 = next_stride_179179;
                        
                        if (memblock_set(ctx, &mem_param_181229, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181232, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181235, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179173 = loop_dz2084Uz2082U_tmp_182175;
                        loop_while_179174 = loop_while_tmp_182176;
                        stride_179178 = stride_tmp_182180;
                    }
                    if (memblock_set(ctx, &ext_mem_181401, &mem_param_181229, "mem_param_181229") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_param_181232, "mem_param_181232") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181399, &mem_param_181235, "mem_param_181235") != 0)
                        return 1;
                    data_179167 = loop_dz2084Uz2082U_179173;
                    data_179168 = loop_while_179174;
                    data_179172 = stride_179178;
                    if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
                        return 1;
                    
                    bool empty_slice_179612 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179613 = sle64((int64_t) 0, zs_lhs_178967);
                    bool i_p_m_t_s_leq_w_179614 = slt64(zs_lhs_178967, data_179167);
                    bool y_179615 = zzero_leq_i_p_m_t_s_179613 && i_p_m_t_s_leq_w_179614;
                    bool ok_or_empty_179616 = empty_slice_179612 || y_179615;
                    bool index_certs_179617;
                    
                    if (!ok_or_empty_179616) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] out of bounds for array of shape [", (long long) data_179167, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181410, &ext_mem_181401, "ext_mem_181401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &ext_mem_181400, "ext_mem_181400") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &ext_mem_181399, "ext_mem_181399") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181077, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181410.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181080, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181407.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
                    return 1;
                for (int64_t i_180416 = 0; i_180416 < perThread_175244; i_180416++) {
                    int64_t lifted_lambda_res_179639 = add64(zm_rhs_178923, i_180416);
                    
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + i_180416] = lifted_lambda_res_179639;
                }
                
                bool cond_179641 = card_178924 == zp_rhs_175243;
                
                if (cond_179641) {
                    bool y_179643 = slt64(card_178924, perThread_175244);
                    bool index_certs_179644;
                    
                    if (!y_179643) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + card_178924] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181436, bytes_180729, "mem_181436")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182210 = 0; nest_i_182210 < window_sizze_162942; nest_i_182210++) {
                ((double *) mem_181436.mem)[nest_i_182210] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_181438, bytes_180729, "mem_181438")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182211 = 0; nest_i_182211 < window_sizze_162942; nest_i_182211++) {
                ((int64_t *) mem_181438.mem)[nest_i_182211] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181439, window_sizze_162942, "mem_181439")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182212 = 0; nest_i_182212 < window_sizze_162942; nest_i_182212++) {
                ((int8_t *) mem_181439.mem)[nest_i_182212] = (int8_t) -1;
            }
            for (int64_t write_iter_180431 = 0; write_iter_180431 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245; write_iter_180431++) {
                int64_t new_index_180583 = squot64(write_iter_180431, perThread_175244);
                int64_t binop_y_180585 = perThread_175244 * new_index_180583;
                int64_t new_index_180586 = write_iter_180431 - binop_y_180585;
                int64_t write_iv_180435 = ((int64_t *) mem_181075)[new_index_180583 * perThread_175244 + new_index_180586];
                int8_t write_iv_180436 = ((int8_t *) mem_181077)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180437 = ((int64_t *) mem_181080)[new_index_180583 * perThread_175244 + new_index_180586];
                double write_iv_180438 = ((double *) mem_181083)[new_index_180583 * perThread_175244 + new_index_180586];
                
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_162942)) {
                    ((int8_t *) mem_181439.mem)[write_iv_180435] = write_iv_180436;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_162942)) {
                    ((int64_t *) mem_181438.mem)[write_iv_180435] = write_iv_180437;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_162942)) {
                    ((double *) mem_181436.mem)[write_iv_180435] = write_iv_180438;
                }
            }
            
            int64_t index_concat_branch_179667;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179668 = ((int64_t *) mem_181058)[index_concat_i_178008];
                
                index_concat_branch_179667 = index_concat_179668;
            } else {
                index_concat_branch_179667 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179669;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179670 = ((int64_t *) mem_181060)[index_concat_i_178008];
                
                index_concat_branch_179669 = index_concat_179670;
            } else {
                index_concat_branch_179669 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_181439, "mem_181439") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_181438, "mem_181438") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_181436, "mem_181436") != 0)
                return 1;
            loopres_175234 = index_concat_branch_179667;
            loopres_175235 = index_concat_branch_179669;
        } else {
            double leq_lhs_176225 = ((double *) a_list_mem_180696.mem)[p_175206];
            double leq_rhs_176228 = ((double *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_176229 = leq_lhs_176225 <= leq_rhs_176228;
            double lowest_176230;
            
            if (defunc_0_leq_res_176229) {
                bool index_certs_179671;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_lhs_176225;
            } else {
                bool index_certs_176235;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_rhs_176228;
            }
            if (mem_180713_cached_sizze_182438 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182438, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180715_cached_sizze_182439 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182439, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180446 = 0; i_180446 < threads_162943; i_180446++) {
                int64_t index_primexp_180662 = add64((int64_t) 1, i_180446);
                int64_t zs_lhs_176251 = mul64(zt_rhs_176244, index_primexp_180662);
                int64_t index_176252 = sdiv64(zs_lhs_176251, partitionFunc_arg0_176221);
                bool cond_176253 = slt64(window_sizze_162942, index_176252);
                int64_t loop_over_176254;
                
                if (cond_176253) {
                    loop_over_176254 = window_sizze_162942;
                } else {
                    loop_over_176254 = index_176252;
                }
                
                int64_t loop_over_176255;
                
                if (cond_176253) {
                    int64_t loop_over_t_res_179672 = sub64(index_176252, window_sizze_162942);
                    
                    loop_over_176255 = loop_over_t_res_179672;
                } else {
                    loop_over_176255 = (int64_t) 0;
                }
                
                int64_t loop_over_176257;
                
                if (cond_176253) {
                    int64_t zm_lhs_179673 = sub64(index_176252, window_sizze_162942);
                    int64_t loop_over_t_res_179674 = sub64(zm_lhs_179673, (int64_t) 1);
                    
                    loop_over_176257 = loop_over_t_res_179674;
                } else {
                    loop_over_176257 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176260;
                int64_t defunc_0_f_res_176261;
                int64_t defunc_0_f_res_176262;
                int64_t defunc_0_f_res_176263;
                bool loop_while_176264;
                int64_t p_176265;
                int64_t p_176266;
                int64_t p_176267;
                
                loop_while_176264 = 1;
                p_176265 = loop_over_176257;
                p_176266 = loop_over_176254;
                p_176267 = loop_over_176255;
                while (loop_while_176264) {
                    int64_t zs_lhs_176268 = sub64(p_176266, p_176265);
                    int64_t offset_176269 = sdiv64(zs_lhs_176268, (int64_t) 2);
                    int64_t ai_176270 = sub64(p_176266, offset_176269);
                    int64_t max_arg1_176271 = add64(p_176267, offset_176269);
                    int64_t max_res_176272 = smax64((int64_t) 0, max_arg1_176271);
                    bool cond_176273 = slt64((int64_t) 0, max_res_176272);
                    double b_prev_176274;
                    
                    if (cond_176273) {
                        int64_t tmp_179675 = sub64(max_res_176272, (int64_t) 1);
                        bool x_179676 = sle64((int64_t) 0, tmp_179675);
                        bool y_179677 = slt64(tmp_179675, window_sizze_162942);
                        bool bounds_check_179678 = x_179676 && y_179677;
                        bool index_certs_179679;
                        
                        if (!bounds_check_179678) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179675, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179680 = p_175207 + tmp_179675;
                        double b_prev_t_res_179681 = ((double *) b_list_mem_180697.mem)[slice_179680];
                        
                        b_prev_176274 = b_prev_t_res_179681;
                    } else {
                        b_prev_176274 = lowest_176230;
                    }
                    
                    bool cond_176281 = sle64(ai_176270, (int64_t) 0);
                    int64_t loopres_176282;
                    int64_t loopres_176283;
                    int64_t loopres_176284;
                    bool loopres_176285;
                    
                    if (cond_176281) {
                        loopres_176282 = p_176265;
                        loopres_176283 = (int64_t) 0;
                        loopres_176284 = max_res_176272;
                        loopres_176285 = 0;
                    } else {
                        bool cond_176286 = sle64(window_sizze_162942, max_res_176272);
                        int64_t loopres_f_res_176287;
                        int64_t loopres_f_res_176288;
                        int64_t loopres_f_res_176289;
                        bool loopres_f_res_176290;
                        
                        if (cond_176286) {
                            int64_t min_res_179683 = smin64(m_175195, ai_176270);
                            bool x_179684 = sle64((int64_t) 0, m_175195);
                            bool y_179685 = slt64(m_175195, window_sizze_162942);
                            bool bounds_check_179686 = x_179684 && y_179685;
                            bool index_certs_179687;
                            
                            if (!bounds_check_179686) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179690 = sle64((int64_t) 0, min_res_179683);
                            bool y_179691 = slt64(min_res_179683, window_sizze_162942);
                            bool bounds_check_179692 = x_179690 && y_179691;
                            bool index_certs_179693;
                            
                            if (!bounds_check_179692) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179683, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_179689 = ((double *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_179694 = p_175206 + min_res_179683;
                            double leq_rhs_179695 = ((double *) a_list_mem_180696.mem)[slice_179694];
                            bool defunc_0_leq_res_179696 = leq_lhs_179689 <= leq_rhs_179695;
                            int64_t loopres_f_res_t_res_179697;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179697 = ai_176270;
                            } else {
                                loopres_f_res_t_res_179697 = p_176266;
                            }
                            
                            bool x_179698 = !defunc_0_leq_res_179696;
                            int64_t loopres_f_res_t_res_179699;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179699 = window_sizze_162942;
                            } else {
                                int64_t tmp_179700 = sub64(m_175195, offset_176269);
                                
                                loopres_f_res_t_res_179699 = tmp_179700;
                            }
                            loopres_f_res_176287 = p_176265;
                            loopres_f_res_176288 = loopres_f_res_t_res_179697;
                            loopres_f_res_176289 = loopres_f_res_t_res_179699;
                            loopres_f_res_176290 = x_179698;
                        } else {
                            bool cond_176308 = sle64(window_sizze_162942, ai_176270);
                            int64_t loopres_f_res_f_res_176309;
                            int64_t loopres_f_res_f_res_176310;
                            int64_t loopres_f_res_f_res_176311;
                            bool loopres_f_res_f_res_176312;
                            
                            if (cond_176308) {
                                int64_t min_res_179702 = smin64(m_175195, max_res_176272);
                                bool x_179703 = sle64((int64_t) 0, m_175195);
                                bool y_179704 = slt64(m_175195, window_sizze_162942);
                                bool bounds_check_179705 = x_179703 && y_179704;
                                bool index_certs_179706;
                                
                                if (!bounds_check_179705) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179709 = sle64((int64_t) 0, min_res_179702);
                                bool y_179710 = slt64(min_res_179702, window_sizze_162942);
                                bool bounds_check_179711 = x_179709 && y_179710;
                                bool index_certs_179712;
                                
                                if (!bounds_check_179711) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179702, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_179708 = ((double *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_179713 = p_175207 + min_res_179702;
                                double leq_rhs_179714 = ((double *) b_list_mem_180697.mem)[slice_179713];
                                bool defunc_0_leq_res_179715 = leq_lhs_179708 <= leq_rhs_179714;
                                int64_t loopres_f_res_f_res_t_res_179716;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179716 = max_res_176272;
                                } else {
                                    loopres_f_res_f_res_t_res_179716 = p_176267;
                                }
                                
                                bool x_179717 = !defunc_0_leq_res_179715;
                                int64_t loopres_f_res_f_res_t_res_179718;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179718 = window_sizze_162942;
                                } else {
                                    loopres_f_res_f_res_t_res_179718 = m_175195;
                                }
                                loopres_f_res_f_res_176309 = p_176265;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_t_res_179718;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_t_res_179716;
                                loopres_f_res_f_res_176312 = x_179717;
                            } else {
                                bool cond_176329 = sle64(p_176266, p_176265);
                                int64_t loopres_f_res_f_res_f_res_176330;
                                int64_t loopres_f_res_f_res_f_res_176331;
                                int64_t loopres_f_res_f_res_f_res_176332;
                                bool loopres_f_res_f_res_f_res_176333;
                                
                                if (cond_176329) {
                                    bool cond_179757 = slt64(ai_176270, window_sizze_162942);
                                    int64_t ai_179758;
                                    
                                    if (cond_179757) {
                                        ai_179758 = ai_176270;
                                    } else {
                                        ai_179758 = m_175195;
                                    }
                                    
                                    bool x_179771 = sle64((int64_t) 0, ai_179758);
                                    bool y_179772 = slt64(ai_179758, window_sizze_162942);
                                    bool bounds_check_179773 = x_179771 && y_179772;
                                    bool index_certs_179774;
                                    
                                    if (!bounds_check_179773) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179758, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179760;
                                    
                                    if (cond_176273) {
                                        int64_t tmp_179761 = sub64(max_res_176272, (int64_t) 1);
                                        bool x_179762 = sle64((int64_t) 0, tmp_179761);
                                        bool y_179763 = slt64(tmp_179761, window_sizze_162942);
                                        bool bounds_check_179764 = x_179762 && y_179763;
                                        bool index_certs_179765;
                                        
                                        if (!bounds_check_179764) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179761, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179766 = p_175207 + tmp_179761;
                                        double b_prev_t_res_179767 = ((double *) b_list_mem_180697.mem)[slice_179766];
                                        
                                        b_prev_179760 = b_prev_t_res_179767;
                                    } else {
                                        bool index_certs_179769;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179760 = leq_rhs_176228;
                                    }
                                    
                                    int64_t slice_179775 = p_175206 + ai_179758;
                                    double gt_lhs_179776 = ((double *) a_list_mem_180696.mem)[slice_179775];
                                    bool defunc_0_gt_res_179777 = b_prev_179760 < gt_lhs_179776;
                                    int64_t defunc_0_partFunc_sequential_search_res_179778;
                                    int64_t defunc_0_partFunc_sequential_search_res_179779;
                                    
                                    if (defunc_0_gt_res_179777) {
                                        int64_t zl_rhs_179780 = sub64(window_sizze_162942, max_res_176272);
                                        bool loop_cond_179781 = slt64((int64_t) 0, zl_rhs_179780);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179782;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179784;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179785;
                                        bool loop_while_179786;
                                        int64_t p_179787;
                                        int64_t p_179788;
                                        int64_t p_179789;
                                        
                                        loop_while_179786 = loop_cond_179781;
                                        p_179787 = ai_179758;
                                        p_179788 = max_res_176272;
                                        p_179789 = (int64_t) 0;
                                        while (loop_while_179786) {
                                            int64_t i_a_179790 = sub64(ai_179758, p_179789);
                                            int64_t i_b_179791 = add64(max_res_176272, p_179789);
                                            int64_t leq_lhs_179792 = sub64(i_a_179790, (int64_t) 1);
                                            bool x_179793 = sle64((int64_t) 0, leq_lhs_179792);
                                            bool y_179794 = slt64(leq_lhs_179792, window_sizze_162942);
                                            bool bounds_check_179795 = x_179793 && y_179794;
                                            bool index_certs_179796;
                                            
                                            if (!bounds_check_179795) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179792, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179799 = sle64((int64_t) 0, i_b_179791);
                                            bool y_179800 = slt64(i_b_179791, window_sizze_162942);
                                            bool bounds_check_179801 = x_179799 && y_179800;
                                            bool index_certs_179802;
                                            
                                            if (!bounds_check_179801) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179791, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179797 = p_175206 + leq_lhs_179792;
                                            double leq_lhs_179798 = ((double *) a_list_mem_180696.mem)[slice_179797];
                                            int64_t slice_179803 = p_175207 + i_b_179791;
                                            double leq_rhs_179804 = ((double *) b_list_mem_180697.mem)[slice_179803];
                                            bool defunc_0_leq_res_179805 = leq_lhs_179798 <= leq_rhs_179804;
                                            int64_t loopres_179806;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179806 = i_a_179790;
                                            } else {
                                                loopres_179806 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179807;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179807 = i_b_179791;
                                            } else {
                                                loopres_179807 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179808;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179808 = zl_rhs_179780;
                                            } else {
                                                int64_t tmp_179809 = add64((int64_t) 1, p_179789);
                                                
                                                loopres_179808 = tmp_179809;
                                            }
                                            
                                            bool loop_cond_179810 = slt64(loopres_179808, zl_rhs_179780);
                                            bool loop_while_tmp_182222 = loop_cond_179810;
                                            int64_t p_tmp_182223 = loopres_179806;
                                            int64_t p_tmp_182224 = loopres_179807;
                                            int64_t p_tmp_182225 = loopres_179808;
                                            
                                            loop_while_179786 = loop_while_tmp_182222;
                                            p_179787 = p_tmp_182223;
                                            p_179788 = p_tmp_182224;
                                            p_179789 = p_tmp_182225;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179782 = loop_while_179786;
                                        defunc_0_partFunc_sequential_search_res_t_res_179783 = p_179787;
                                        defunc_0_partFunc_sequential_search_res_t_res_179784 = p_179788;
                                        defunc_0_partFunc_sequential_search_res_t_res_179785 = p_179789;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_t_res_179784;
                                    } else {
                                        int64_t zl_rhs_179811 = sub64(max_res_176272, (int64_t) 1);
                                        bool loop_cond_179812 = slt64((int64_t) 0, zl_rhs_179811);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179813;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179815;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179816;
                                        bool loop_while_179817;
                                        int64_t p_179818;
                                        int64_t p_179819;
                                        int64_t p_179820;
                                        
                                        loop_while_179817 = loop_cond_179812;
                                        p_179818 = ai_179758;
                                        p_179819 = max_res_176272;
                                        p_179820 = (int64_t) 0;
                                        while (loop_while_179817) {
                                            int64_t zp_lhs_179821 = add64(ai_179758, p_179820);
                                            int64_t hi_a_179822 = add64((int64_t) 1, zp_lhs_179821);
                                            bool cond_179823 = slt64(hi_a_179822, window_sizze_162942);
                                            int64_t i_a_179824;
                                            
                                            if (cond_179823) {
                                                i_a_179824 = hi_a_179822;
                                            } else {
                                                i_a_179824 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_179826 = sub64(max_res_176272, p_179820);
                                            int64_t i_b_179827 = sub64(zm_lhs_179826, (int64_t) 1);
                                            bool x_179828 = sle64((int64_t) 0, i_a_179824);
                                            bool y_179829 = slt64(i_a_179824, window_sizze_162942);
                                            bool bounds_check_179830 = x_179828 && y_179829;
                                            bool index_certs_179831;
                                            
                                            if (!bounds_check_179830) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179824, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179834 = sle64((int64_t) 0, i_b_179827);
                                            bool y_179835 = slt64(i_b_179827, window_sizze_162942);
                                            bool bounds_check_179836 = x_179834 && y_179835;
                                            bool index_certs_179837;
                                            
                                            if (!bounds_check_179836) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179827, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179832 = p_175206 + i_a_179824;
                                            double gt_lhs_179833 = ((double *) a_list_mem_180696.mem)[slice_179832];
                                            int64_t slice_179838 = p_175207 + i_b_179827;
                                            double gt_rhs_179839 = ((double *) b_list_mem_180697.mem)[slice_179838];
                                            bool defunc_0_gt_res_179840 = gt_rhs_179839 < gt_lhs_179833;
                                            int64_t loopres_179841;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179841 = i_a_179824;
                                            } else {
                                                loopres_179841 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179842;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179842 = zm_lhs_179826;
                                            } else {
                                                loopres_179842 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179843;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179843 = zl_rhs_179811;
                                            } else {
                                                int64_t tmp_179844 = add64((int64_t) 1, p_179820);
                                                
                                                loopres_179843 = tmp_179844;
                                            }
                                            
                                            bool loop_cond_179845 = slt64(loopres_179843, zl_rhs_179811);
                                            bool loop_while_tmp_182226 = loop_cond_179845;
                                            int64_t p_tmp_182227 = loopres_179841;
                                            int64_t p_tmp_182228 = loopres_179842;
                                            int64_t p_tmp_182229 = loopres_179843;
                                            
                                            loop_while_179817 = loop_while_tmp_182226;
                                            p_179818 = p_tmp_182227;
                                            p_179819 = p_tmp_182228;
                                            p_179820 = p_tmp_182229;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179813 = loop_while_179817;
                                        defunc_0_partFunc_sequential_search_res_f_res_179814 = p_179818;
                                        defunc_0_partFunc_sequential_search_res_f_res_179815 = p_179819;
                                        defunc_0_partFunc_sequential_search_res_f_res_179816 = p_179820;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_f_res_179815;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = p_176265;
                                    loopres_f_res_f_res_f_res_176331 = defunc_0_partFunc_sequential_search_res_179778;
                                    loopres_f_res_f_res_f_res_176332 = defunc_0_partFunc_sequential_search_res_179779;
                                    loopres_f_res_f_res_f_res_176333 = 0;
                                } else {
                                    bool x_176417 = sle64((int64_t) 0, ai_176270);
                                    bool y_176418 = slt64(ai_176270, window_sizze_162942);
                                    bool bounds_check_176419 = x_176417 && y_176418;
                                    bool index_certs_176420;
                                    
                                    if (!bounds_check_176419) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176270, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178086 = p_175206 + ai_176270;
                                    double gt_lhs_176421 = ((double *) a_list_mem_180696.mem)[slice_178086];
                                    bool defunc_0_gt_res_176422 = b_prev_176274 < gt_lhs_176421;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176423;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176424;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176425;
                                    bool loopres_f_res_f_res_f_res_f_res_176426;
                                    
                                    if (defunc_0_gt_res_176422) {
                                        int64_t leq_lhs_179846 = sub64(ai_176270, (int64_t) 1);
                                        bool x_179847 = sle64((int64_t) 0, leq_lhs_179846);
                                        bool y_179848 = slt64(leq_lhs_179846, window_sizze_162942);
                                        bool bounds_check_179849 = x_179847 && y_179848;
                                        bool index_certs_179850;
                                        
                                        if (!bounds_check_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179846, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179853 = sle64((int64_t) 0, max_res_176272);
                                        bool y_179854 = slt64(max_res_176272, window_sizze_162942);
                                        bool bounds_check_179855 = x_179853 && y_179854;
                                        bool index_certs_179856;
                                        
                                        if (!bounds_check_179855) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176272, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179851 = p_175206 + leq_lhs_179846;
                                        double leq_lhs_179852 = ((double *) a_list_mem_180696.mem)[slice_179851];
                                        int64_t slice_179857 = p_175207 + max_res_176272;
                                        double leq_rhs_179858 = ((double *) b_list_mem_180697.mem)[slice_179857];
                                        bool defunc_0_leq_res_179859 = leq_lhs_179852 <= leq_rhs_179858;
                                        bool x_179860 = !defunc_0_leq_res_179859;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = ai_176270;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = leq_lhs_179846;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = max_res_176272;
                                        } else {
                                            int64_t tmp_179863 = add64((int64_t) 1, max_res_176272);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = tmp_179863;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176423 = p_176265;
                                        loopres_f_res_f_res_f_res_f_res_176424 = loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        loopres_f_res_f_res_f_res_f_res_176425 = loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        loopres_f_res_f_res_f_res_f_res_176426 = x_179860;
                                    } else {
                                        int64_t tmp_176443 = add64((int64_t) 1, ai_176270);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176423 = tmp_176443;
                                        loopres_f_res_f_res_f_res_f_res_176424 = p_176266;
                                        loopres_f_res_f_res_f_res_f_res_176425 = p_176267;
                                        loopres_f_res_f_res_f_res_f_res_176426 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = loopres_f_res_f_res_f_res_f_res_176423;
                                    loopres_f_res_f_res_f_res_176331 = loopres_f_res_f_res_f_res_f_res_176424;
                                    loopres_f_res_f_res_f_res_176332 = loopres_f_res_f_res_f_res_f_res_176425;
                                    loopres_f_res_f_res_f_res_176333 = loopres_f_res_f_res_f_res_f_res_176426;
                                }
                                loopres_f_res_f_res_176309 = loopres_f_res_f_res_f_res_176330;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_f_res_176331;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_f_res_176332;
                                loopres_f_res_f_res_176312 = loopres_f_res_f_res_f_res_176333;
                            }
                            loopres_f_res_176287 = loopres_f_res_f_res_176309;
                            loopres_f_res_176288 = loopres_f_res_f_res_176310;
                            loopres_f_res_176289 = loopres_f_res_f_res_176311;
                            loopres_f_res_176290 = loopres_f_res_f_res_176312;
                        }
                        loopres_176282 = loopres_f_res_176287;
                        loopres_176283 = loopres_f_res_176288;
                        loopres_176284 = loopres_f_res_176289;
                        loopres_176285 = loopres_f_res_176290;
                    }
                    
                    bool loop_while_tmp_182218 = loopres_176285;
                    int64_t p_tmp_182219 = loopres_176282;
                    int64_t p_tmp_182220 = loopres_176283;
                    int64_t p_tmp_182221 = loopres_176284;
                    
                    loop_while_176264 = loop_while_tmp_182218;
                    p_176265 = p_tmp_182219;
                    p_176266 = p_tmp_182220;
                    p_176267 = p_tmp_182221;
                }
                defunc_0_f_res_176260 = loop_while_176264;
                defunc_0_f_res_176261 = p_176265;
                defunc_0_f_res_176262 = p_176266;
                defunc_0_f_res_176263 = p_176267;
                ((int64_t *) mem_180713)[i_180446] = defunc_0_f_res_176262;
                ((int64_t *) mem_180715)[i_180446] = defunc_0_f_res_176263;
            }
            if (memblock_alloc(ctx, &mem_180728, window_sizze_162942, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182230 = 0; nest_i_182230 < window_sizze_162942; nest_i_182230++) {
                ((int8_t *) mem_180728.mem)[nest_i_182230] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180730, bytes_180729, "mem_180730")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182231 = 0; nest_i_182231 < window_sizze_162942; nest_i_182231++) {
                ((int64_t *) mem_180730.mem)[nest_i_182231] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180732, bytes_180729, "mem_180732")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182232 = 0; nest_i_182232 < window_sizze_162942; nest_i_182232++) {
                ((double *) mem_180732.mem)[nest_i_182232] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176470;
            int64_t defunc_0_mergeFunc_seq_res_176471;
            bool loop_while_176475;
            int64_t p_176476;
            
            loop_while_176475 = loop_cond_176469;
            p_176476 = (int64_t) 0;
            while (loop_while_176475) {
                bool x_176480 = sle64((int64_t) 0, p_176476);
                bool y_176481 = slt64(p_176476, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176482 = x_176480 && y_176481;
                bool index_certs_176483;
                
                if (!bounds_check_176482) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176476, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178069 = sle64((int64_t) 1, p_176476);
                int64_t index_concat_i_178070 = sub64(p_176476, (int64_t) 1);
                int64_t index_concat_178071;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179864 = ((int64_t *) mem_180713)[index_concat_i_178070];
                    
                    index_concat_178071 = x_179864;
                } else {
                    index_concat_178071 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178073;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178073 = index_concat_178071;
                } else {
                    index_concat_branch_178073 = (int64_t) 0;
                }
                
                int64_t index_concat_178065;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179865 = ((int64_t *) mem_180715)[index_concat_i_178070];
                    
                    index_concat_178065 = x_179865;
                } else {
                    index_concat_178065 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178067;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178067 = index_concat_178065;
                } else {
                    index_concat_branch_178067 = (int64_t) 0;
                }
                
                int64_t ubs_176486 = add64((int64_t) 1, p_176476);
                bool x_176487 = sle64((int64_t) 0, ubs_176486);
                bool y_176488 = slt64(ubs_176486, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176489 = x_176487 && y_176488;
                bool index_certs_176490;
                
                if (!bounds_check_176489) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178057 = sle64((int64_t) 1, ubs_176486);
                int64_t index_concat_178059;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179866 = ((int64_t *) mem_180713)[p_176476];
                    
                    index_concat_178059 = x_179866;
                } else {
                    index_concat_178059 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178061;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178061 = index_concat_178059;
                } else {
                    index_concat_branch_178061 = (int64_t) 0;
                }
                
                int64_t index_concat_178053;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179867 = ((int64_t *) mem_180715)[p_176476];
                    
                    index_concat_178053 = x_179867;
                } else {
                    index_concat_178053 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178055;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178055 = index_concat_178053;
                } else {
                    index_concat_branch_178055 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 = sub64(index_concat_branch_178055, index_concat_branch_178067);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 = sub64(index_concat_branch_178061, index_concat_branch_178073);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t ind_bottom_176496 = add64(index_concat_branch_178067, index_concat_branch_178073);
                int64_t ind_top_176497 = add64(index_concat_branch_178055, index_concat_branch_178061);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 = sub64(ind_top_176497, ind_bottom_176496);
                bool empty_slice_176499 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 == (int64_t) 0;
                int64_t m_176500 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 1);
                int64_t i_p_m_t_s_176501 = add64(m_176500, index_concat_branch_178073);
                bool zzero_leq_i_p_m_t_s_176502 = sle64((int64_t) 0, i_p_m_t_s_176501);
                bool i_p_m_t_s_leq_w_176503 = slt64(i_p_m_t_s_176501, window_sizze_162942);
                bool zzero_lte_i_176504 = sle64((int64_t) 0, index_concat_branch_178073);
                bool i_lte_j_176505 = sle64(index_concat_branch_178073, index_concat_branch_178061);
                bool y_176506 = i_p_m_t_s_leq_w_176503 && zzero_lte_i_176504;
                bool y_176507 = zzero_leq_i_p_m_t_s_176502 && y_176506;
                bool forwards_ok_176508 = i_lte_j_176505 && y_176507;
                bool ok_or_empty_176509 = empty_slice_176499 || forwards_ok_176508;
                bool index_certs_176510;
                
                if (!ok_or_empty_176509) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178073, ":", (long long) index_concat_branch_178061, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176511 = slt64(index_concat_branch_178061, index_concat_branch_178073);
                bool valid_176512 = !bounds_invalid_upwards_176511;
                bool range_valid_c_176513;
                
                if (!valid_176512) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178073, "..<", (long long) index_concat_branch_178061, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176519 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 == (int64_t) 0;
                int64_t m_176520 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, (int64_t) 1);
                int64_t i_p_m_t_s_176521 = add64(m_176520, index_concat_branch_178067);
                bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
                bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, window_sizze_162942);
                bool zzero_lte_i_176524 = sle64((int64_t) 0, index_concat_branch_178067);
                bool i_lte_j_176525 = sle64(index_concat_branch_178067, index_concat_branch_178055);
                bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
                bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
                bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
                bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
                bool index_certs_176530;
                
                if (!ok_or_empty_176529) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178067, ":", (long long) index_concat_branch_178055, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176531 = slt64(index_concat_branch_178055, index_concat_branch_178067);
                bool valid_176532 = !bounds_invalid_upwards_176531;
                bool range_valid_c_176533;
                
                if (!valid_176532) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178067, "..<", (long long) index_concat_branch_178055, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180749 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool cond_176542 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zs_lhs_176543 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zp_rhs_176544 = sdiv_safe64(zs_lhs_176543, (int64_t) 20);
                int64_t min_num_blocks_176545 = add64((int64_t) 1, zp_rhs_176544);
                bool loop_cond_176546 = slt64((int64_t) 1, min_num_blocks_176545);
                bool smallest_pow_2_geq_than_res_176547;
                int64_t smallest_pow_2_geq_than_res_176548;
                bool loop_while_176549;
                int64_t x_176550;
                
                loop_while_176549 = loop_cond_176546;
                x_176550 = (int64_t) 1;
                while (loop_while_176549) {
                    int64_t loopres_176551 = mul64((int64_t) 2, x_176550);
                    bool loop_cond_176552 = slt64(loopres_176551, min_num_blocks_176545);
                    bool loop_while_tmp_182238 = loop_cond_176552;
                    int64_t x_tmp_182239 = loopres_176551;
                    
                    loop_while_176549 = loop_while_tmp_182238;
                    x_176550 = x_tmp_182239;
                }
                smallest_pow_2_geq_than_res_176547 = loop_while_176549;
                smallest_pow_2_geq_than_res_176548 = x_176550;
                
                bool zzero_176553 = smallest_pow_2_geq_than_res_176548 == (int64_t) 0;
                bool nonzzero_176554 = !zzero_176553;
                bool protect_assert_disj_176555 = cond_176542 || nonzzero_176554;
                bool nonzzero_cert_176556;
                
                if (!protect_assert_disj_176555) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176557 = sdiv_safe64(zs_lhs_176543, smallest_pow_2_geq_than_res_176548);
                int64_t block_sizze_176558 = add64((int64_t) 1, zp_rhs_176557);
                bool y_176565 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                bool protect_assert_disj_181902 = cond_176542 || y_176565;
                bool index_certs_176566;
                
                if (!protect_assert_disj_181902) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176592 = slt64(smallest_pow_2_geq_than_res_176548, (int64_t) 0);
                bool valid_176593 = !bounds_invalid_upwards_176592;
                bool protect_assert_disj_181912 = cond_176542 || valid_176593;
                bool range_valid_c_176594;
                
                if (!protect_assert_disj_181912) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176548, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176596 = slt64(block_sizze_176558, (int64_t) 0);
                bool valid_176597 = !bounds_invalid_upwards_176596;
                bool protect_assert_disj_181914 = cond_176542 || valid_176597;
                bool range_valid_c_176598;
                
                if (!protect_assert_disj_181914) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176558, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176600 = sle64(block_sizze_176558, (int64_t) 1);
                int64_t tmp_176601 = sub64(block_sizze_176558, (int64_t) 2);
                bool bounds_invalid_upwards_176602 = slt64(tmp_176601, (int64_t) 0);
                bool valid_176604 = !bounds_invalid_upwards_176602;
                bool protect_assert_disj_176605 = cond_176600 || valid_176604;
                bool protect_assert_disj_181916 = cond_176542 || protect_assert_disj_176605;
                bool range_valid_c_176606;
                
                if (!protect_assert_disj_181916) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176601, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177167 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool empty_or_match_cert_177168;
                
                if (!dim_match_177167) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "](i8, i64, f64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177169 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == (int64_t) 0;
                int64_t m_177170 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177171 = sle64((int64_t) 0, m_177170);
                bool i_p_m_t_s_leq_w_177172 = slt64(m_177170, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498);
                bool y_177173 = zzero_leq_i_p_m_t_s_177171 && i_p_m_t_s_leq_w_177172;
                bool ok_or_empty_177174 = empty_slice_177169 || y_177173;
                bool index_certs_177175;
                
                if (!ok_or_empty_177174) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177176 = add64(ind_bottom_176496, m_177170);
                bool zzero_leq_i_p_m_t_s_177177 = sle64((int64_t) 0, i_p_m_t_s_177176);
                bool i_p_m_t_s_leq_w_177178 = slt64(i_p_m_t_s_177176, window_sizze_162942);
                bool zzero_lte_i_177179 = sle64((int64_t) 0, ind_bottom_176496);
                bool i_lte_j_177180 = sle64(ind_bottom_176496, ind_top_176497);
                bool y_177181 = i_p_m_t_s_leq_w_177178 && zzero_lte_i_177179;
                bool y_177182 = zzero_leq_i_p_m_t_s_177177 && y_177181;
                bool forwards_ok_177183 = i_lte_j_177180 && y_177182;
                bool ok_or_empty_177184 = empty_slice_177169 || forwards_ok_177183;
                bool index_certs_177185;
                
                if (!ok_or_empty_177184) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176496, ":", (long long) ind_top_176497, "] out of bounds for array of shape [", (long long) window_sizze_162942, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178049 = p_175206 + index_concat_branch_178073;
                
                if (memblock_alloc(ctx, &mem_180748, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "mem_180748")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182240 = 0; nest_i_182240 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; nest_i_182240++) {
                    ((int8_t *) mem_180748.mem)[nest_i_182240] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180750, bytes_180749, "mem_180750")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182241 = 0; i_182241 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; i_182241++) {
                    int64_t x_182242 = index_concat_branch_178073 + i_182241 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[i_182241] = x_182242;
                }
                
                int64_t slice_178048 = p_175207 + index_concat_branch_178067;
                
                for (int64_t nest_i_182243 = 0; nest_i_182243 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; nest_i_182243++) {
                    ((int8_t *) mem_180748.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + nest_i_182243] = (int8_t) 1;
                }
                for (int64_t i_182244 = 0; i_182244 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; i_182244++) {
                    int64_t x_182245 = index_concat_branch_178067 + i_182244 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + i_182244] = x_182245;
                }
                
                int64_t tmp_offs_182246 = (int64_t) 0;
                
                if (!(tmp_offs_182246 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182246 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t tmp_offs_182247 = (int64_t) 0;
                
                if (!(tmp_offs_182247 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182247 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                if (memblock_alloc(ctx, &mem_180752, bytes_180749, "mem_180752")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182248 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, slice_178049, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, slice_178048, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t flat_dim_176559 = smallest_pow_2_geq_than_res_176548 * block_sizze_176558;
                bool x_181897 = !cond_176542;
                int64_t greatest_divisor_leq_than_arg1_176563 = mul64((int64_t) 2, block_sizze_176558);
                int64_t merge_block_sizze_176564;
                
                if (x_181897) {
                    int64_t x_181899;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181899, (int64_t) 8, greatest_divisor_leq_than_arg1_176563) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176564 = x_181899;
                } else {
                    merge_block_sizze_176564 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178043 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 0);
                int8_t index_concat_branch_178047 = btoi_bool_i8(index_concat_cmp_178043);
                int64_t index_concat_i_179868 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t index_primexp_179869 = add64(index_concat_branch_178067, index_concat_i_179868);
                int64_t index_concat_branch_178041;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178041 = index_primexp_179869;
                } else {
                    index_concat_branch_178041 = index_concat_branch_178073;
                }
                
                bool x_181893 = !index_concat_cmp_178043;
                bool protect_cond_conj_181903 = x_181893 && x_181897;
                double index_concat_178034;
                
                if (protect_cond_conj_181903) {
                    double x_181895 = ((double *) a_list_mem_180696.mem)[slice_178049];
                    
                    index_concat_178034 = x_181895;
                } else {
                    index_concat_178034 = 0.0;
                }
                
                int64_t slice_179871 = slice_178048 + index_concat_i_179868;
                bool protect_cond_conj_181904 = index_concat_cmp_178043 && x_181897;
                double index_concat_179872;
                
                if (protect_cond_conj_181904) {
                    double x_181891 = ((double *) b_list_mem_180697.mem)[slice_179871];
                    
                    index_concat_179872 = x_181891;
                } else {
                    index_concat_179872 = 0.0;
                }
                
                double index_concat_branch_178035;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178035 = index_concat_179872;
                } else {
                    index_concat_branch_178035 = index_concat_178034;
                }
                
                int8_t defunc_0_reduce_res_180103;
                int64_t defunc_0_reduce_res_180104;
                double defunc_0_reduce_res_180105;
                
                if (x_181897) {
                    int8_t x_181905;
                    int64_t x_181906;
                    double x_181907;
                    int8_t redout_180449;
                    int64_t redout_180450;
                    double redout_180451;
                    
                    redout_180449 = index_concat_branch_178047;
                    redout_180450 = index_concat_branch_178041;
                    redout_180451 = index_concat_branch_178035;
                    for (int64_t i_180452 = 0; i_180452 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495; i_180452++) {
                        bool index_concat_cmp_180656 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, i_180452);
                        int8_t index_concat_branch_180660 = btoi_bool_i8(index_concat_cmp_180656);
                        int64_t index_concat_branch_180654;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180651 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t index_primexp_180678 = add64(index_concat_branch_178067, index_concat_i_180651);
                            
                            index_concat_branch_180654 = index_primexp_180678;
                        } else {
                            int64_t index_primexp_180680 = add64(index_concat_branch_178073, i_180452);
                            
                            index_concat_branch_180654 = index_primexp_180680;
                        }
                        
                        double index_concat_branch_180648;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180645 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t slice_180675 = slice_178048 + index_concat_i_180645;
                            double index_concat_180646 = ((double *) b_list_mem_180697.mem)[slice_180675];
                            
                            index_concat_branch_180648 = index_concat_180646;
                        } else {
                            int64_t slice_180676 = slice_178049 + i_180452;
                            double index_concat_180647 = ((double *) a_list_mem_180696.mem)[slice_180676];
                            
                            index_concat_branch_180648 = index_concat_180647;
                        }
                        
                        bool eq_x_y_180691 = redout_180449 == (int8_t) 1;
                        bool eq_x_zz_180692 = redout_180449 == (int8_t) 0;
                        bool p_and_eq_x_y_180693 = index_concat_cmp_180656 && eq_x_y_180691;
                        bool not_p_180694 = !index_concat_cmp_180656;
                        bool p_and_eq_x_y_180695 = eq_x_zz_180692 && not_p_180694;
                        bool cond_176582 = p_and_eq_x_y_180693 || p_and_eq_x_y_180695;
                        bool defunc_0_leq_res_t_res_176583 = sle64(redout_180450, index_concat_branch_180654);
                        bool defunc_0_leq_res_176584 = redout_180451 <= index_concat_branch_180648;
                        bool x_176585 = cond_176582 && defunc_0_leq_res_t_res_176583;
                        bool x_176586 = !cond_176582;
                        bool y_176587 = defunc_0_leq_res_176584 && x_176586;
                        bool defunc_0_leq_res_176588 = x_176585 || y_176587;
                        int8_t defunc_0_op_res_176589;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176589 = index_concat_branch_180660;
                        } else {
                            defunc_0_op_res_176589 = redout_180449;
                        }
                        
                        int64_t defunc_0_op_res_176590;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176590 = index_concat_branch_180654;
                        } else {
                            defunc_0_op_res_176590 = redout_180450;
                        }
                        
                        double defunc_0_op_res_176591;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176591 = index_concat_branch_180648;
                        } else {
                            defunc_0_op_res_176591 = redout_180451;
                        }
                        
                        int8_t redout_tmp_182249 = defunc_0_op_res_176589;
                        int64_t redout_tmp_182250 = defunc_0_op_res_176590;
                        double redout_tmp_182251 = defunc_0_op_res_176591;
                        
                        redout_180449 = redout_tmp_182249;
                        redout_180450 = redout_tmp_182250;
                        redout_180451 = redout_tmp_182251;
                    }
                    x_181905 = redout_180449;
                    x_181906 = redout_180450;
                    x_181907 = redout_180451;
                    defunc_0_reduce_res_180103 = x_181905;
                    defunc_0_reduce_res_180104 = x_181906;
                    defunc_0_reduce_res_180105 = x_181907;
                } else {
                    defunc_0_reduce_res_180103 = (int8_t) 0;
                    defunc_0_reduce_res_180104 = (int64_t) 0;
                    defunc_0_reduce_res_180105 = 0.0;
                }
                
                int64_t distance_176603 = add64((int64_t) 1, tmp_176601);
                int64_t binop_x_180755 = (int64_t) 8 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180756 = block_sizze_176558 * binop_x_180755;
                int64_t bytes_180774 = (int64_t) 8 * block_sizze_176558;
                bool loop_cond_176712 = slt64(block_sizze_176558, flat_dim_176559);
                bool zzero_176713 = merge_block_sizze_176564 == (int64_t) 0;
                bool nonzzero_176714 = !zzero_176713;
                
                if (cond_176542) {
                    if (memblock_set(ctx, &ext_mem_181047, &mem_180748, "mem_180748") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &mem_180750, "mem_180750") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &mem_180752, "mem_180752") != 0)
                        return 1;
                } else {
                    if (mem_180754_cached_sizze_182440 < flat_dim_176559) {
                        err = lexical_realloc(ctx, &mem_180754, &mem_180754_cached_sizze_182440, flat_dim_176559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180757_cached_sizze_182441 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180757, &mem_180757_cached_sizze_182441, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180760_cached_sizze_182442 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180760, &mem_180760_cached_sizze_182442, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180773_cached_sizze_182443 < block_sizze_176558) {
                        err = lexical_realloc(ctx, &mem_180773, &mem_180773_cached_sizze_182443, block_sizze_176558);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180775_cached_sizze_182444 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182444, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180777_cached_sizze_182445 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180777, &mem_180777_cached_sizze_182445, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180469 = 0; i_180469 < smallest_pow_2_geq_than_res_176548; i_180469++) {
                        int64_t zp_lhs_176611 = mul64(block_sizze_176558, i_180469);
                        
                        for (int64_t i_180459 = 0; i_180459 < block_sizze_176558; i_180459++) {
                            int64_t k_176616 = add64(zp_lhs_176611, i_180459);
                            bool cond_176617 = slt64(k_176616, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                            int8_t lifted_lambda_res_176618;
                            int64_t lifted_lambda_res_176619;
                            double lifted_lambda_res_176620;
                            
                            if (cond_176617) {
                                bool x_179878 = sle64((int64_t) 0, k_176616);
                                bool bounds_check_179879 = cond_176617 && x_179878;
                                bool index_certs_179880;
                                
                                if (!bounds_check_179879) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176616, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179881 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, k_176616);
                                int8_t index_concat_branch_179882 = btoi_bool_i8(index_concat_cmp_179881);
                                int64_t index_concat_branch_179883;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179884 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t index_primexp_179885 = add64(index_concat_branch_178067, index_concat_i_179884);
                                    
                                    index_concat_branch_179883 = index_primexp_179885;
                                } else {
                                    int64_t index_primexp_179886 = add64(k_176616, index_concat_branch_178073);
                                    
                                    index_concat_branch_179883 = index_primexp_179886;
                                }
                                
                                double index_concat_branch_179887;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179888 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t slice_179889 = slice_178048 + index_concat_i_179888;
                                    double index_concat_179890 = ((double *) b_list_mem_180697.mem)[slice_179889];
                                    
                                    index_concat_branch_179887 = index_concat_179890;
                                } else {
                                    int64_t slice_179891 = k_176616 + slice_178049;
                                    double index_concat_179892 = ((double *) a_list_mem_180696.mem)[slice_179891];
                                    
                                    index_concat_branch_179887 = index_concat_179892;
                                }
                                lifted_lambda_res_176618 = index_concat_branch_179882;
                                lifted_lambda_res_176619 = index_concat_branch_179883;
                                lifted_lambda_res_176620 = index_concat_branch_179887;
                            } else {
                                lifted_lambda_res_176618 = defunc_0_reduce_res_180103;
                                lifted_lambda_res_176619 = defunc_0_reduce_res_180104;
                                lifted_lambda_res_176620 = defunc_0_reduce_res_180105;
                            }
                            ((int8_t *) mem_180773)[i_180459] = lifted_lambda_res_176618;
                            ((int64_t *) mem_180775)[i_180459] = lifted_lambda_res_176619;
                            ((double *) mem_180777)[i_180459] = lifted_lambda_res_176620;
                        }
                        if (!cond_176600) {
                            for (int64_t i_176633 = 0; i_176633 < distance_176603; i_176633++) {
                                int64_t gt_arg1_176637 = add64((int64_t) 1, i_176633);
                                bool x_176638 = sle64((int64_t) 0, gt_arg1_176637);
                                bool y_176639 = slt64(gt_arg1_176637, block_sizze_176558);
                                bool bounds_check_176640 = x_176638 && y_176639;
                                bool index_certs_176641;
                                
                                if (!bounds_check_176640) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176637, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176645 = slt64(i_176633, block_sizze_176558);
                                bool index_certs_176646;
                                
                                if (!y_176645) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176633, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176642 = ((int8_t *) mem_180773)[gt_arg1_176637];
                                int64_t gt_arg1_176643 = ((int64_t *) mem_180775)[gt_arg1_176637];
                                double gt_arg1_176644 = ((double *) mem_180777)[gt_arg1_176637];
                                int8_t gt_arg0_176647 = ((int8_t *) mem_180773)[i_176633];
                                int64_t gt_arg0_176648 = ((int64_t *) mem_180775)[i_176633];
                                double gt_arg0_176649 = ((double *) mem_180777)[i_176633];
                                bool cond_176650 = gt_arg0_176647 == gt_arg1_176642;
                                bool defunc_0_leq_res_t_res_176651 = sle64(gt_arg0_176648, gt_arg1_176643);
                                bool defunc_0_leq_res_176652 = gt_arg0_176649 <= gt_arg1_176644;
                                bool x_176653 = cond_176650 && defunc_0_leq_res_t_res_176651;
                                bool x_176654 = !cond_176650;
                                bool y_176655 = defunc_0_leq_res_176652 && x_176654;
                                bool defunc_0_leq_res_176656 = x_176653 || y_176655;
                                bool defunc_0_lifted_gt_res_176657 = !defunc_0_leq_res_176656;
                                bool s_176658;
                                int64_t s_176662;
                                bool loop_while_176663;
                                int64_t j_176667;
                                
                                loop_while_176663 = defunc_0_lifted_gt_res_176657;
                                j_176667 = i_176633;
                                while (loop_while_176663) {
                                    bool x_176668 = sle64((int64_t) 0, j_176667);
                                    bool y_176669 = slt64(j_176667, block_sizze_176558);
                                    bool bounds_check_176670 = x_176668 && y_176669;
                                    bool index_certs_176671;
                                    
                                    if (!bounds_check_176670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176667, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176675 = add64((int64_t) 1, j_176667);
                                    bool x_176676 = sle64((int64_t) 0, copy_arg0_176675);
                                    bool y_176677 = slt64(copy_arg0_176675, block_sizze_176558);
                                    bool bounds_check_176678 = x_176676 && y_176677;
                                    bool index_certs_176679;
                                    
                                    if (!bounds_check_176678) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176675, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176672 = ((int8_t *) mem_180773)[j_176667];
                                    int64_t copy_arg0_176673 = ((int64_t *) mem_180775)[j_176667];
                                    double copy_arg0_176674 = ((double *) mem_180777)[j_176667];
                                    int8_t copy_arg0_176680 = ((int8_t *) mem_180773)[copy_arg0_176675];
                                    int64_t copy_arg0_176681 = ((int64_t *) mem_180775)[copy_arg0_176675];
                                    double copy_arg0_176682 = ((double *) mem_180777)[copy_arg0_176675];
                                    
                                    ((int8_t *) mem_180773)[j_176667] = copy_arg0_176680;
                                    ((int64_t *) mem_180775)[j_176667] = copy_arg0_176681;
                                    ((double *) mem_180777)[j_176667] = copy_arg0_176682;
                                    ((int8_t *) mem_180773)[copy_arg0_176675] = copy_arg0_176672;
                                    ((int64_t *) mem_180775)[copy_arg0_176675] = copy_arg0_176673;
                                    ((double *) mem_180777)[copy_arg0_176675] = copy_arg0_176674;
                                    
                                    int64_t tmp_176689 = sub64(j_176667, (int64_t) 1);
                                    bool cond_176690 = sle64((int64_t) 0, tmp_176689);
                                    bool loop_cond_176691;
                                    
                                    if (cond_176690) {
                                        bool y_179896 = slt64(tmp_176689, block_sizze_176558);
                                        bool bounds_check_179897 = cond_176690 && y_179896;
                                        bool index_certs_179898;
                                        
                                        if (!bounds_check_179897) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176689, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179893 = ((int8_t *) mem_180773)[j_176667];
                                        int64_t gt_arg1_179894 = ((int64_t *) mem_180775)[j_176667];
                                        double gt_arg1_179895 = ((double *) mem_180777)[j_176667];
                                        int8_t gt_arg0_179899 = ((int8_t *) mem_180773)[tmp_176689];
                                        int64_t gt_arg0_179900 = ((int64_t *) mem_180775)[tmp_176689];
                                        double gt_arg0_179901 = ((double *) mem_180777)[tmp_176689];
                                        bool cond_179902 = gt_arg0_179899 == gt_arg1_179893;
                                        bool defunc_0_leq_res_t_res_179903 = sle64(gt_arg0_179900, gt_arg1_179894);
                                        bool defunc_0_leq_res_179904 = gt_arg0_179901 <= gt_arg1_179895;
                                        bool x_179905 = cond_179902 && defunc_0_leq_res_t_res_179903;
                                        bool x_179906 = !cond_179902;
                                        bool y_179907 = defunc_0_leq_res_179904 && x_179906;
                                        bool defunc_0_leq_res_179908 = x_179905 || y_179907;
                                        bool defunc_0_lifted_gt_res_179909 = !defunc_0_leq_res_179908;
                                        
                                        loop_cond_176691 = defunc_0_lifted_gt_res_179909;
                                    } else {
                                        loop_cond_176691 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182261 = loop_cond_176691;
                                    int64_t j_tmp_182265 = tmp_176689;
                                    
                                    loop_while_176663 = loop_while_tmp_182261;
                                    j_176667 = j_tmp_182265;
                                }
                                s_176658 = loop_while_176663;
                                s_176662 = j_176667;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180754, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180773, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180757, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180775, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180760, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180777, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                    }
                    if (memblock_alloc(ctx, &mem_180854, flat_dim_176559, "mem_180854")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180854.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint8_t *) mem_180754, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180858, bytes_180756, "mem_180858")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180858.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180757, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180862, bytes_180756, "mem_180862")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180862.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180760, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    
                    int64_t data_176715;
                    bool data_176716;
                    int64_t data_176720;
                    int64_t loop_dz2084Uz2082U_176721;
                    bool loop_while_176722;
                    int64_t stride_176726;
                    
                    if (memblock_set(ctx, &mem_param_180866, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180869, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180872, &mem_180862, "mem_180862") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176721 = flat_dim_176559;
                    loop_while_176722 = loop_cond_176712;
                    stride_176726 = block_sizze_176558;
                    while (loop_while_176722) {
                        int64_t next_stride_176727 = mul64((int64_t) 2, stride_176726);
                        bool zzero_176728 = next_stride_176727 == (int64_t) 0;
                        bool nonzzero_176729 = !zzero_176728;
                        bool nonzzero_cert_176730;
                        
                        if (!nonzzero_176729) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176731 = sdiv64(flat_dim_176559, next_stride_176727);
                        bool bounds_invalid_upwards_176732 = slt64(num_merges_176731, (int64_t) 0);
                        bool valid_176733 = !bounds_invalid_upwards_176732;
                        bool range_valid_c_176734;
                        
                        if (!valid_176733) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176731, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176736 = sub64(next_stride_176727, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176737 = sle64((int64_t) 0, m_176736);
                        bool cond_176739 = slt64(next_stride_176727, (int64_t) 10);
                        bool protect_assert_disj_176740 = nonzzero_176714 || cond_176739;
                        bool nonzzero_cert_176741;
                        
                        if (!protect_assert_disj_176740) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176742 = smod_safe64(next_stride_176727, merge_block_sizze_176564);
                        bool num_blocks_176743 = zeze_lhs_176742 == (int64_t) 0;
                        bool protect_assert_disj_176744 = cond_176739 || num_blocks_176743;
                        bool assert_c_176745;
                        
                        if (!protect_assert_disj_176744) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176747 = sdiv_safe64(next_stride_176727, merge_block_sizze_176564);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748 = add64((int64_t) 1, num_blocks_176747);
                        int64_t j_m_i_176749 = sub64(next_stride_176727, stride_176726);
                        int64_t flat_dim_176750 = merge_block_sizze_176564 * num_blocks_176747;
                        bool bounds_invalid_upwards_176751 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, (int64_t) 0);
                        bool empty_slice_176752 = j_m_i_176749 == (int64_t) 0;
                        int64_t m_176753 = sub64(j_m_i_176749, (int64_t) 1);
                        bool zzero_lte_i_176754 = sle64((int64_t) 0, stride_176726);
                        bool i_lte_j_176755 = sle64(stride_176726, next_stride_176727);
                        bool empty_slice_176756 = stride_176726 == (int64_t) 0;
                        int64_t m_176757 = sub64(stride_176726, (int64_t) 1);
                        bool bounds_invalid_upwards_176758 = slt64(num_blocks_176747, (int64_t) 0);
                        bool cond_176759 = slt64((int64_t) 0, stride_176726);
                        bool valid_176760 = !bounds_invalid_upwards_176751;
                        int64_t i_p_m_t_s_176761 = add64(stride_176726, m_176753);
                        bool zzero_leq_i_p_m_t_s_176762 = sle64((int64_t) 0, m_176757);
                        bool i_p_m_t_s_leq_w_176763 = slt64(m_176757, next_stride_176727);
                        bool valid_176764 = !bounds_invalid_upwards_176758;
                        bool i_p_m_t_s_leq_w_176765 = slt64(m_176736, flat_dim_176750);
                        bool y_176766 = slt64((int64_t) 0, j_m_i_176749);
                        bool protect_assert_disj_176767 = cond_176739 || valid_176760;
                        bool range_valid_c_176768;
                        
                        if (!protect_assert_disj_176767) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176769 = sle64((int64_t) 0, i_p_m_t_s_176761);
                        bool i_p_m_t_s_leq_w_176770 = slt64(i_p_m_t_s_176761, next_stride_176727);
                        bool y_176771 = zzero_leq_i_p_m_t_s_176762 && i_p_m_t_s_leq_w_176763;
                        bool protect_assert_disj_176772 = cond_176739 || valid_176764;
                        bool range_valid_c_176773;
                        
                        if (!protect_assert_disj_176772) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176747, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176774 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176765;
                        bool y_176775 = zzero_lte_i_176754 && i_p_m_t_s_leq_w_176770;
                        bool forwards_ok_176776 = zzero_lte_i_176754 && y_176771;
                        bool ok_or_empty_176777 = zzero_176728 || y_176774;
                        bool protect_assert_disj_176778 = cond_176759 || y_176766;
                        bool y_176779 = zzero_leq_i_p_m_t_s_176769 && y_176775;
                        bool ok_or_empty_176780 = empty_slice_176756 || forwards_ok_176776;
                        bool protect_assert_disj_176781 = cond_176739 || ok_or_empty_176777;
                        bool index_certs_176782;
                        
                        if (!protect_assert_disj_176781) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) flat_dim_176750, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176783 = !cond_176739;
                        bool protect_assert_disj_176784 = protect_assert_disj_176778 || loop_not_taken_176783;
                        bool index_certs_176785;
                        
                        if (!protect_assert_disj_176784) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176786 = i_lte_j_176755 && y_176779;
                        bool protect_assert_disj_176787 = cond_176739 || ok_or_empty_176780;
                        bool index_certs_176788;
                        
                        if (!protect_assert_disj_176787) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176789 = ok_or_empty_176780 || loop_not_taken_176783;
                        bool index_certs_176790;
                        
                        if (!protect_assert_disj_176789) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176791 = empty_slice_176752 || forwards_ok_176786;
                        bool protect_assert_disj_176792 = cond_176739 || ok_or_empty_176791;
                        bool index_certs_176793;
                        
                        if (!protect_assert_disj_176792) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176794 = loop_not_taken_176783 || ok_or_empty_176791;
                        bool index_certs_176795;
                        
                        if (!protect_assert_disj_176794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180873 = next_stride_176727 * num_merges_176731;
                        int64_t binop_x_180875 = (int64_t) 8 * num_merges_176731;
                        int64_t bytes_180876 = next_stride_176727 * binop_x_180875;
                        bool i_lte_j_176738 = sle64((int64_t) 0, next_stride_176727);
                        
                        if (mem_180874_cached_sizze_182446 < bytes_180873) {
                            err = lexical_realloc(ctx, &mem_180874, &mem_180874_cached_sizze_182446, bytes_180873);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180877_cached_sizze_182447 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180877, &mem_180877_cached_sizze_182447, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180880_cached_sizze_182448 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180880, &mem_180880_cached_sizze_182448, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180893 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748;
                        int64_t binop_x_180911 = (int64_t) 8 * num_blocks_176747;
                        int64_t bytes_180912 = merge_block_sizze_176564 * binop_x_180911;
                        int64_t bytes_180976 = (int64_t) 16 * stride_176726;
                        
                        for (int64_t i_180496 = 0; i_180496 < num_merges_176731; i_180496++) {
                            int64_t start_176800 = mul64(next_stride_176727, i_180496);
                            int64_t j_m_i_176801 = sub64(loop_dz2084Uz2082U_176721, start_176800);
                            bool empty_slice_176802 = j_m_i_176801 == (int64_t) 0;
                            int64_t m_176803 = sub64(j_m_i_176801, (int64_t) 1);
                            int64_t i_p_m_t_s_176804 = add64(start_176800, m_176803);
                            bool zzero_leq_i_p_m_t_s_176805 = sle64((int64_t) 0, i_p_m_t_s_176804);
                            bool i_p_m_t_s_leq_w_176806 = slt64(i_p_m_t_s_176804, loop_dz2084Uz2082U_176721);
                            bool zzero_lte_i_176807 = sle64((int64_t) 0, start_176800);
                            bool i_lte_j_176808 = sle64(start_176800, loop_dz2084Uz2082U_176721);
                            bool y_176809 = i_p_m_t_s_leq_w_176806 && zzero_lte_i_176807;
                            bool y_176810 = zzero_leq_i_p_m_t_s_176805 && y_176809;
                            bool forwards_ok_176811 = i_lte_j_176808 && y_176810;
                            bool ok_or_empty_176812 = empty_slice_176802 || forwards_ok_176811;
                            bool index_certs_176813;
                            
                            if (!ok_or_empty_176812) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176800, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176721, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176814 = slt64(m_176736, j_m_i_176801);
                            bool y_176815 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176814;
                            bool forwards_ok_176816 = i_lte_j_176738 && y_176815;
                            bool ok_or_empty_176817 = zzero_176728 || forwards_ok_176816;
                            bool index_certs_176818;
                            
                            if (!ok_or_empty_176817) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) j_m_i_176801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176739) {
                                int8_t dummy_179948;
                                int64_t dummy_179949;
                                double dummy_179950;
                                
                                if (cond_176759) {
                                    int8_t head_res_179951 = ((int8_t *) mem_param_180866.mem)[start_176800];
                                    int64_t head_res_179952 = ((int64_t *) mem_param_180869.mem)[start_176800];
                                    double head_res_179953 = ((double *) mem_param_180872.mem)[start_176800];
                                    
                                    dummy_179948 = head_res_179951;
                                    dummy_179949 = head_res_179952;
                                    dummy_179950 = head_res_179953;
                                } else {
                                    int64_t slice_179954 = stride_176726 + start_176800;
                                    int8_t head_res_179955 = ((int8_t *) mem_param_180866.mem)[slice_179954];
                                    int64_t head_res_179956 = ((int64_t *) mem_param_180869.mem)[slice_179954];
                                    double head_res_179957 = ((double *) mem_param_180872.mem)[slice_179954];
                                    
                                    dummy_179948 = head_res_179955;
                                    dummy_179949 = head_res_179956;
                                    dummy_179950 = head_res_179957;
                                }
                                if (memblock_alloc(ctx, &mem_180975, next_stride_176727, "mem_180975")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182278 = 0; nest_i_182278 < next_stride_176727; nest_i_182278++) {
                                    ((int8_t *) mem_180975.mem)[nest_i_182278] = dummy_179948;
                                }
                                if (memblock_alloc(ctx, &mem_180977, bytes_180976, "mem_180977")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182279 = 0; nest_i_182279 < next_stride_176727; nest_i_182279++) {
                                    ((int64_t *) mem_180977.mem)[nest_i_182279] = dummy_179949;
                                }
                                if (memblock_alloc(ctx, &mem_180979, bytes_180976, "mem_180979")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182280 = 0; nest_i_182280 < next_stride_176727; nest_i_182280++) {
                                    ((double *) mem_180979.mem)[nest_i_182280] = dummy_179950;
                                }
                                
                                int64_t data_179961;
                                int64_t i_179966 = (int64_t) 0;
                                
                                for (int64_t k_179965 = 0; k_179965 < next_stride_176727; k_179965++) {
                                    int64_t j_179970 = sub64(k_179965, i_179966);
                                    bool cond_179971 = j_179970 == j_m_i_176749;
                                    bool cond_179972;
                                    
                                    if (cond_179971) {
                                        cond_179972 = 1;
                                    } else {
                                        bool cond_179973 = slt64(i_179966, stride_176726);
                                        bool cond_f_res_179974;
                                        
                                        if (cond_179973) {
                                            bool x_179975 = sle64((int64_t) 0, j_179970);
                                            bool y_179976 = slt64(j_179970, j_m_i_176749);
                                            bool bounds_check_179977 = x_179975 && y_179976;
                                            bool index_certs_179978;
                                            
                                            if (!bounds_check_179977) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179984 = sle64((int64_t) 0, i_179966);
                                            bool bounds_check_179985 = cond_179973 && x_179984;
                                            bool index_certs_179986;
                                            
                                            if (!bounds_check_179985) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179979 = stride_176726 + j_179970;
                                            int64_t slice_179980 = start_176800 + slice_179979;
                                            int8_t leq_arg1_179981 = ((int8_t *) mem_param_180866.mem)[slice_179980];
                                            int64_t leq_arg1_179982 = ((int64_t *) mem_param_180869.mem)[slice_179980];
                                            double leq_arg1_179983 = ((double *) mem_param_180872.mem)[slice_179980];
                                            int64_t slice_179987 = start_176800 + i_179966;
                                            int8_t leq_arg0_179988 = ((int8_t *) mem_param_180866.mem)[slice_179987];
                                            int64_t leq_arg0_179989 = ((int64_t *) mem_param_180869.mem)[slice_179987];
                                            double leq_arg0_179990 = ((double *) mem_param_180872.mem)[slice_179987];
                                            bool cond_179991 = leq_arg0_179988 == leq_arg1_179981;
                                            bool defunc_0_leq_res_t_res_179992 = sle64(leq_arg0_179989, leq_arg1_179982);
                                            bool defunc_0_leq_res_179993 = leq_arg0_179990 <= leq_arg1_179983;
                                            bool x_179994 = cond_179991 && defunc_0_leq_res_t_res_179992;
                                            bool x_179995 = !cond_179991;
                                            bool y_179996 = defunc_0_leq_res_179993 && x_179995;
                                            bool defunc_0_leq_res_179997 = x_179994 || y_179996;
                                            
                                            cond_f_res_179974 = defunc_0_leq_res_179997;
                                        } else {
                                            cond_f_res_179974 = 0;
                                        }
                                        cond_179972 = cond_f_res_179974;
                                    }
                                    
                                    int64_t loopres_179998;
                                    int8_t loopres_179999;
                                    int64_t loopres_180000;
                                    double loopres_180001;
                                    
                                    if (cond_179972) {
                                        bool x_180003 = sle64((int64_t) 0, i_179966);
                                        bool y_180004 = slt64(i_179966, stride_176726);
                                        bool bounds_check_180005 = x_180003 && y_180004;
                                        bool index_certs_180006;
                                        
                                        if (!bounds_check_180005) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180002 = add64((int64_t) 1, i_179966);
                                        int64_t slice_180007 = start_176800 + i_179966;
                                        int8_t tmp_180008 = ((int8_t *) mem_param_180866.mem)[slice_180007];
                                        int64_t tmp_180009 = ((int64_t *) mem_param_180869.mem)[slice_180007];
                                        double tmp_180010 = ((double *) mem_param_180872.mem)[slice_180007];
                                        
                                        loopres_179998 = tmp_180002;
                                        loopres_179999 = tmp_180008;
                                        loopres_180000 = tmp_180009;
                                        loopres_180001 = tmp_180010;
                                    } else {
                                        bool x_180011 = sle64((int64_t) 0, j_179970);
                                        bool y_180012 = slt64(j_179970, j_m_i_176749);
                                        bool bounds_check_180013 = x_180011 && y_180012;
                                        bool index_certs_180014;
                                        
                                        if (!bounds_check_180013) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180015 = stride_176726 + j_179970;
                                        int64_t slice_180016 = start_176800 + slice_180015;
                                        int8_t tmp_180017 = ((int8_t *) mem_param_180866.mem)[slice_180016];
                                        int64_t tmp_180018 = ((int64_t *) mem_param_180869.mem)[slice_180016];
                                        double tmp_180019 = ((double *) mem_param_180872.mem)[slice_180016];
                                        
                                        loopres_179998 = i_179966;
                                        loopres_179999 = tmp_180017;
                                        loopres_180000 = tmp_180018;
                                        loopres_180001 = tmp_180019;
                                    }
                                    ((int8_t *) mem_180975.mem)[k_179965] = loopres_179999;
                                    ((int64_t *) mem_180977.mem)[k_179965] = loopres_180000;
                                    ((double *) mem_180979.mem)[k_179965] = loopres_180001;
                                    
                                    int64_t i_tmp_182281 = loopres_179998;
                                    
                                    i_179966 = i_tmp_182281;
                                }
                                data_179961 = i_179966;
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180975, "mem_180975") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180977, "mem_180977") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180979, "mem_180979") != 0)
                                    return 1;
                            } else {
                                if (mem_180894_cached_sizze_182449 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180894, &mem_180894_cached_sizze_182449, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180896_cached_sizze_182450 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180896, &mem_180896_cached_sizze_182450, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180477 = 0; i_180477 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748; i_180477++) {
                                    int64_t split_count_arg3_176901 = mul64(merge_block_sizze_176564, i_180477);
                                    int64_t defunc_0_split_count_res_176902;
                                    int64_t defunc_0_split_count_res_176903;
                                    int64_t defunc_0_split_count_res_176904;
                                    int64_t defunc_0_split_count_res_176905;
                                    int64_t defunc_0_split_count_res_176906;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_176902, &defunc_0_split_count_res_176903, &defunc_0_split_count_res_176904, &defunc_0_split_count_res_176905, &defunc_0_split_count_res_176906, (int64_t) 0, stride_176726, (int64_t) 0, j_m_i_176749, split_count_arg3_176901) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176907 = slt64((int64_t) 0, defunc_0_split_count_res_176906);
                                    bool defunc_0_split_count_res_176908;
                                    int64_t defunc_0_split_count_res_176909;
                                    int64_t defunc_0_split_count_res_176910;
                                    int64_t defunc_0_split_count_res_176911;
                                    int64_t defunc_0_split_count_res_176912;
                                    int64_t defunc_0_split_count_res_176913;
                                    bool loop_while_176914;
                                    int64_t ss_176915;
                                    int64_t ss_176916;
                                    int64_t tt_176917;
                                    int64_t tt_176918;
                                    int64_t count_176919;
                                    
                                    loop_while_176914 = loop_cond_176907;
                                    ss_176915 = defunc_0_split_count_res_176902;
                                    ss_176916 = defunc_0_split_count_res_176903;
                                    tt_176917 = defunc_0_split_count_res_176904;
                                    tt_176918 = defunc_0_split_count_res_176905;
                                    count_176919 = defunc_0_split_count_res_176906;
                                    while (loop_while_176914) {
                                        int64_t zlze_lhs_176920 = sub64(ss_176916, ss_176915);
                                        bool cond_176921 = sle64(zlze_lhs_176920, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176922;
                                        int64_t defunc_0_lifted_step_res_176923;
                                        int64_t defunc_0_lifted_step_res_176924;
                                        int64_t defunc_0_lifted_step_res_176925;
                                        
                                        if (cond_176921) {
                                            int64_t tmp_180023 = add64(tt_176917, count_176919);
                                            
                                            defunc_0_lifted_step_res_176922 = ss_176915;
                                            defunc_0_lifted_step_res_176923 = tmp_180023;
                                            defunc_0_lifted_step_res_176924 = tt_176918;
                                            defunc_0_lifted_step_res_176925 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176927 = sub64(tt_176918, tt_176917);
                                            bool cond_176928 = sle64(zlze_lhs_176927, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176929;
                                            int64_t defunc_0_lifted_step_res_f_res_176930;
                                            int64_t defunc_0_lifted_step_res_f_res_176931;
                                            int64_t defunc_0_lifted_step_res_f_res_176932;
                                            
                                            if (cond_176928) {
                                                int64_t tmp_180024 = add64(ss_176915, count_176919);
                                                
                                                defunc_0_lifted_step_res_f_res_176929 = tmp_180024;
                                                defunc_0_lifted_step_res_f_res_176930 = tt_176917;
                                                defunc_0_lifted_step_res_f_res_176931 = tt_176918;
                                                defunc_0_lifted_step_res_f_res_176932 = (int64_t) 0;
                                            } else {
                                                bool cond_176934 = count_176919 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176935;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176936;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176937;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176938;
                                                
                                                if (cond_176934) {
                                                    bool x_180026 = sle64((int64_t) 0, ss_176915);
                                                    bool y_180027 = slt64(ss_176915, stride_176726);
                                                    bool bounds_check_180028 = x_180026 && y_180027;
                                                    bool index_certs_180029;
                                                    
                                                    if (!bounds_check_180028) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176915, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180034 = sle64((int64_t) 0, tt_176917);
                                                    bool y_180035 = slt64(tt_176917, j_m_i_176749);
                                                    bool bounds_check_180036 = x_180034 && y_180035;
                                                    bool index_certs_180037;
                                                    
                                                    if (!bounds_check_180036) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176917, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180030 = start_176800 + ss_176915;
                                                    int8_t leq_arg1_180031 = ((int8_t *) mem_param_180866.mem)[slice_180030];
                                                    int64_t leq_arg1_180032 = ((int64_t *) mem_param_180869.mem)[slice_180030];
                                                    double leq_arg1_180033 = ((double *) mem_param_180872.mem)[slice_180030];
                                                    int64_t slice_180038 = stride_176726 + tt_176917;
                                                    int64_t slice_180039 = start_176800 + slice_180038;
                                                    int8_t leq_arg0_180040 = ((int8_t *) mem_param_180866.mem)[slice_180039];
                                                    int64_t leq_arg0_180041 = ((int64_t *) mem_param_180869.mem)[slice_180039];
                                                    double leq_arg0_180042 = ((double *) mem_param_180872.mem)[slice_180039];
                                                    bool cond_180043 = leq_arg0_180040 == leq_arg1_180031;
                                                    bool defunc_0_leq_res_t_res_180044 = sle64(leq_arg0_180041, leq_arg1_180032);
                                                    bool defunc_0_leq_res_180045 = leq_arg0_180042 <= leq_arg1_180033;
                                                    bool x_180046 = cond_180043 && defunc_0_leq_res_t_res_180044;
                                                    bool x_180047 = !cond_180043;
                                                    bool y_180048 = defunc_0_leq_res_180045 && x_180047;
                                                    bool defunc_0_leq_res_180049 = x_180046 || y_180048;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    
                                                    if (defunc_0_leq_res_180049) {
                                                        int64_t tmp_180052 = add64((int64_t) 1, tt_176917);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = ss_176915;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tmp_180052;
                                                    } else {
                                                        int64_t tmp_180053 = add64((int64_t) 1, ss_176915);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = tmp_180053;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tt_176917;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = tt_176918;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176967 = sdiv64(count_176919, (int64_t) 2);
                                                    int64_t n_176968 = sub64(count_176919, m_176967);
                                                    bool cond_176969 = n_176968 == (int64_t) 0;
                                                    int64_t zgze_lhs_176970 = add64(ss_176915, m_176967);
                                                    bool cond_f_res_176971 = sle64(ss_176916, zgze_lhs_176970);
                                                    bool x_176972 = !cond_176969;
                                                    bool y_176973 = cond_f_res_176971 && x_176972;
                                                    bool cond_176974 = cond_176969 || y_176973;
                                                    bool leq_y_x_176975;
                                                    
                                                    if (cond_176974) {
                                                        leq_y_x_176975 = 1;
                                                    } else {
                                                        bool x_176976 = sle64((int64_t) 0, zgze_lhs_176970);
                                                        bool y_176977 = slt64(zgze_lhs_176970, stride_176726);
                                                        bool bounds_check_176978 = x_176976 && y_176977;
                                                        bool index_certs_176979;
                                                        
                                                        if (!bounds_check_176978) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176970, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176984 = add64(tt_176917, n_176968);
                                                        int64_t leq_arg0_176985 = sub64(zm_lhs_176984, (int64_t) 1);
                                                        bool x_176986 = sle64((int64_t) 0, leq_arg0_176985);
                                                        bool y_176987 = slt64(leq_arg0_176985, j_m_i_176749);
                                                        bool bounds_check_176988 = x_176986 && y_176987;
                                                        bool index_certs_176989;
                                                        
                                                        if (!bounds_check_176988) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176985, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176980 = start_176800 + zgze_lhs_176970;
                                                        int8_t leq_arg1_176981 = ((int8_t *) mem_param_180866.mem)[slice_176980];
                                                        int64_t leq_arg1_176982 = ((int64_t *) mem_param_180869.mem)[slice_176980];
                                                        double leq_arg1_176983 = ((double *) mem_param_180872.mem)[slice_176980];
                                                        int64_t slice_176990 = stride_176726 + leq_arg0_176985;
                                                        int64_t slice_176991 = start_176800 + slice_176990;
                                                        int8_t leq_arg0_176992 = ((int8_t *) mem_param_180866.mem)[slice_176991];
                                                        int64_t leq_arg0_176993 = ((int64_t *) mem_param_180869.mem)[slice_176991];
                                                        double leq_arg0_176994 = ((double *) mem_param_180872.mem)[slice_176991];
                                                        bool cond_176995 = leq_arg0_176992 == leq_arg1_176981;
                                                        bool defunc_0_leq_res_t_res_176996 = sle64(leq_arg0_176993, leq_arg1_176982);
                                                        bool defunc_0_leq_res_176997 = leq_arg0_176994 <= leq_arg1_176983;
                                                        bool x_176998 = cond_176995 && defunc_0_leq_res_t_res_176996;
                                                        bool x_176999 = !cond_176995;
                                                        bool y_177000 = defunc_0_leq_res_176997 && x_176999;
                                                        bool defunc_0_leq_res_177001 = x_176998 || y_177000;
                                                        
                                                        leq_y_x_176975 = defunc_0_leq_res_177001;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                    
                                                    if (leq_y_x_176975) {
                                                        int64_t tmp_180054 = add64(tt_176917, n_176968);
                                                        int64_t tmp_180055 = sub64(count_176919, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tmp_180054;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tt_176918;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = tmp_180055;
                                                    } else {
                                                        int64_t tmp_177007 = add64(tt_176917, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tt_176917;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tmp_177007;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = count_176919;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = ss_176915;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                }
                                                defunc_0_lifted_step_res_f_res_176929 = defunc_0_lifted_step_res_f_res_f_res_176935;
                                                defunc_0_lifted_step_res_f_res_176930 = defunc_0_lifted_step_res_f_res_f_res_176936;
                                                defunc_0_lifted_step_res_f_res_176931 = defunc_0_lifted_step_res_f_res_f_res_176937;
                                                defunc_0_lifted_step_res_f_res_176932 = defunc_0_lifted_step_res_f_res_f_res_176938;
                                            }
                                            defunc_0_lifted_step_res_176922 = defunc_0_lifted_step_res_f_res_176929;
                                            defunc_0_lifted_step_res_176923 = defunc_0_lifted_step_res_f_res_176930;
                                            defunc_0_lifted_step_res_176924 = defunc_0_lifted_step_res_f_res_176931;
                                            defunc_0_lifted_step_res_176925 = defunc_0_lifted_step_res_f_res_176932;
                                        }
                                        
                                        int64_t loopres_177008;
                                        int64_t loopres_177009;
                                        int64_t loopres_177010;
                                        int64_t loopres_177011;
                                        int64_t loopres_177012;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_177008, &loopres_177009, &loopres_177010, &loopres_177011, &loopres_177012, defunc_0_lifted_step_res_176922, ss_176916, defunc_0_lifted_step_res_176923, defunc_0_lifted_step_res_176924, defunc_0_lifted_step_res_176925) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177013 = slt64((int64_t) 0, loopres_177012);
                                        bool loop_while_tmp_182287 = loop_cond_177013;
                                        int64_t ss_tmp_182288 = loopres_177008;
                                        int64_t ss_tmp_182289 = loopres_177009;
                                        int64_t tt_tmp_182290 = loopres_177010;
                                        int64_t tt_tmp_182291 = loopres_177011;
                                        int64_t count_tmp_182292 = loopres_177012;
                                        
                                        loop_while_176914 = loop_while_tmp_182287;
                                        ss_176915 = ss_tmp_182288;
                                        ss_176916 = ss_tmp_182289;
                                        tt_176917 = tt_tmp_182290;
                                        tt_176918 = tt_tmp_182291;
                                        count_176919 = count_tmp_182292;
                                    }
                                    defunc_0_split_count_res_176908 = loop_while_176914;
                                    defunc_0_split_count_res_176909 = ss_176915;
                                    defunc_0_split_count_res_176910 = ss_176916;
                                    defunc_0_split_count_res_176911 = tt_176917;
                                    defunc_0_split_count_res_176912 = tt_176918;
                                    defunc_0_split_count_res_176913 = count_176919;
                                    ((int64_t *) mem_180894)[i_180477] = defunc_0_split_count_res_176909;
                                    ((int64_t *) mem_180896)[i_180477] = defunc_0_split_count_res_176911;
                                }
                                if (mem_180910_cached_sizze_182451 < flat_dim_176750) {
                                    err = lexical_realloc(ctx, &mem_180910, &mem_180910_cached_sizze_182451, flat_dim_176750);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180913_cached_sizze_182452 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180913, &mem_180913_cached_sizze_182452, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180916_cached_sizze_182453 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180916, &mem_180916_cached_sizze_182453, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180486 = 0; i_180486 < num_blocks_176747; i_180486++) {
                                    bool y_177020 = slt64(i_180486, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool index_certs_177022;
                                    
                                    if (!y_177020) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177023 = ((int64_t *) mem_180894)[i_180486];
                                    int64_t defunc_0_f_res_177024 = ((int64_t *) mem_180896)[i_180486];
                                    int64_t tmp_177025 = add64((int64_t) 1, i_180486);
                                    bool x_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool y_177027 = slt64(tmp_177025, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool bounds_check_177028 = x_177026 && y_177027;
                                    bool index_certs_177029;
                                    
                                    if (!bounds_check_177028) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177030 = ((int64_t *) mem_180894)[tmp_177025];
                                    int64_t defunc_0_f_res_177031 = ((int64_t *) mem_180896)[tmp_177025];
                                    int64_t merge_sequential_arg2_177032 = add64(stride_176726, defunc_0_f_res_177024);
                                    int64_t merge_sequential_arg2_177033 = add64(stride_176726, defunc_0_f_res_177031);
                                    int64_t j_m_i_177034 = sub64(merge_sequential_arg2_177033, merge_sequential_arg2_177032);
                                    bool empty_slice_177035 = j_m_i_177034 == (int64_t) 0;
                                    int64_t m_177036 = sub64(j_m_i_177034, (int64_t) 1);
                                    int64_t i_p_m_t_s_177037 = add64(merge_sequential_arg2_177032, m_177036);
                                    bool zzero_leq_i_p_m_t_s_177038 = sle64((int64_t) 0, i_p_m_t_s_177037);
                                    bool i_p_m_t_s_leq_w_177039 = slt64(i_p_m_t_s_177037, next_stride_176727);
                                    bool zzero_lte_i_177040 = sle64((int64_t) 0, merge_sequential_arg2_177032);
                                    bool i_lte_j_177041 = sle64(merge_sequential_arg2_177032, merge_sequential_arg2_177033);
                                    bool y_177042 = i_p_m_t_s_leq_w_177039 && zzero_lte_i_177040;
                                    bool y_177043 = zzero_leq_i_p_m_t_s_177038 && y_177042;
                                    bool forwards_ok_177044 = i_lte_j_177041 && y_177043;
                                    bool ok_or_empty_177045 = empty_slice_177035 || forwards_ok_177044;
                                    bool index_certs_177046;
                                    
                                    if (!ok_or_empty_177045) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177032, ":", (long long) merge_sequential_arg2_177033, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177047 = sub64(defunc_0_f_res_177030, defunc_0_f_res_177023);
                                    bool empty_slice_177048 = j_m_i_177047 == (int64_t) 0;
                                    int64_t m_177049 = sub64(j_m_i_177047, (int64_t) 1);
                                    int64_t i_p_m_t_s_177050 = add64(defunc_0_f_res_177023, m_177049);
                                    bool zzero_leq_i_p_m_t_s_177051 = sle64((int64_t) 0, i_p_m_t_s_177050);
                                    bool i_p_m_t_s_leq_w_177052 = slt64(i_p_m_t_s_177050, next_stride_176727);
                                    bool zzero_lte_i_177053 = sle64((int64_t) 0, defunc_0_f_res_177023);
                                    bool i_lte_j_177054 = sle64(defunc_0_f_res_177023, defunc_0_f_res_177030);
                                    bool y_177055 = i_p_m_t_s_leq_w_177052 && zzero_lte_i_177053;
                                    bool y_177056 = zzero_leq_i_p_m_t_s_177051 && y_177055;
                                    bool forwards_ok_177057 = i_lte_j_177054 && y_177056;
                                    bool ok_or_empty_177058 = empty_slice_177048 || forwards_ok_177057;
                                    bool index_certs_177059;
                                    
                                    if (!ok_or_empty_177058) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177023, ":", (long long) defunc_0_f_res_177030, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177060 = slt64((int64_t) 0, j_m_i_177047);
                                    int8_t dummy_177061;
                                    int64_t dummy_177062;
                                    double dummy_177063;
                                    
                                    if (cond_177060) {
                                        bool index_certs_180056;
                                        
                                        if (!cond_177060) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180057 = start_176800 + defunc_0_f_res_177023;
                                        int8_t head_res_180058 = ((int8_t *) mem_param_180866.mem)[slice_180057];
                                        int64_t head_res_180059 = ((int64_t *) mem_param_180869.mem)[slice_180057];
                                        double head_res_180060 = ((double *) mem_param_180872.mem)[slice_180057];
                                        
                                        dummy_177061 = head_res_180058;
                                        dummy_177062 = head_res_180059;
                                        dummy_177063 = head_res_180060;
                                    } else {
                                        bool y_177069 = slt64((int64_t) 0, j_m_i_177034);
                                        bool index_certs_177070;
                                        
                                        if (!y_177069) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177071 = start_176800 + merge_sequential_arg2_177032;
                                        int8_t head_res_177072 = ((int8_t *) mem_param_180866.mem)[slice_177071];
                                        int64_t head_res_177073 = ((int64_t *) mem_param_180869.mem)[slice_177071];
                                        double head_res_177074 = ((double *) mem_param_180872.mem)[slice_177071];
                                        
                                        dummy_177061 = head_res_177072;
                                        dummy_177062 = head_res_177073;
                                        dummy_177063 = head_res_177074;
                                    }
                                    for (int64_t nest_i_182296 = 0; nest_i_182296 < merge_block_sizze_176564; nest_i_182296++) {
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + nest_i_182296] = dummy_177061;
                                    }
                                    for (int64_t nest_i_182297 = 0; nest_i_182297 < merge_block_sizze_176564; nest_i_182297++) {
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + nest_i_182297] = dummy_177062;
                                    }
                                    for (int64_t nest_i_182298 = 0; nest_i_182298 < merge_block_sizze_176564; nest_i_182298++) {
                                        ((double *) mem_180916)[i_180486 * merge_block_sizze_176564 + nest_i_182298] = dummy_177063;
                                    }
                                    
                                    int64_t data_177078;
                                    int64_t i_177083 = (int64_t) 0;
                                    
                                    for (int64_t k_177082 = 0; k_177082 < merge_block_sizze_176564; k_177082++) {
                                        int64_t j_177087 = sub64(k_177082, i_177083);
                                        bool cond_177088 = j_177087 == j_m_i_177034;
                                        bool cond_177089;
                                        
                                        if (cond_177088) {
                                            cond_177089 = 1;
                                        } else {
                                            bool cond_177090 = slt64(i_177083, j_m_i_177047);
                                            bool cond_f_res_177091;
                                            
                                            if (cond_177090) {
                                                bool x_180061 = sle64((int64_t) 0, j_177087);
                                                bool y_180062 = slt64(j_177087, j_m_i_177034);
                                                bool bounds_check_180063 = x_180061 && y_180062;
                                                bool index_certs_180064;
                                                
                                                if (!bounds_check_180063) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180070 = sle64((int64_t) 0, i_177083);
                                                bool bounds_check_180071 = cond_177090 && x_180070;
                                                bool index_certs_180072;
                                                
                                                if (!bounds_check_180071) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180065 = merge_sequential_arg2_177032 + j_177087;
                                                int64_t slice_180066 = start_176800 + slice_180065;
                                                int8_t leq_arg1_180067 = ((int8_t *) mem_param_180866.mem)[slice_180066];
                                                int64_t leq_arg1_180068 = ((int64_t *) mem_param_180869.mem)[slice_180066];
                                                double leq_arg1_180069 = ((double *) mem_param_180872.mem)[slice_180066];
                                                int64_t slice_180073 = defunc_0_f_res_177023 + i_177083;
                                                int64_t slice_180074 = start_176800 + slice_180073;
                                                int8_t leq_arg0_180075 = ((int8_t *) mem_param_180866.mem)[slice_180074];
                                                int64_t leq_arg0_180076 = ((int64_t *) mem_param_180869.mem)[slice_180074];
                                                double leq_arg0_180077 = ((double *) mem_param_180872.mem)[slice_180074];
                                                bool cond_180078 = leq_arg0_180075 == leq_arg1_180067;
                                                bool defunc_0_leq_res_t_res_180079 = sle64(leq_arg0_180076, leq_arg1_180068);
                                                bool defunc_0_leq_res_180080 = leq_arg0_180077 <= leq_arg1_180069;
                                                bool x_180081 = cond_180078 && defunc_0_leq_res_t_res_180079;
                                                bool x_180082 = !cond_180078;
                                                bool y_180083 = defunc_0_leq_res_180080 && x_180082;
                                                bool defunc_0_leq_res_180084 = x_180081 || y_180083;
                                                
                                                cond_f_res_177091 = defunc_0_leq_res_180084;
                                            } else {
                                                cond_f_res_177091 = 0;
                                            }
                                            cond_177089 = cond_f_res_177091;
                                        }
                                        
                                        int64_t loopres_177116;
                                        int8_t loopres_177117;
                                        int64_t loopres_177118;
                                        double loopres_177119;
                                        
                                        if (cond_177089) {
                                            bool x_180086 = sle64((int64_t) 0, i_177083);
                                            bool y_180087 = slt64(i_177083, j_m_i_177047);
                                            bool bounds_check_180088 = x_180086 && y_180087;
                                            bool index_certs_180089;
                                            
                                            if (!bounds_check_180088) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180085 = add64((int64_t) 1, i_177083);
                                            int64_t slice_180090 = defunc_0_f_res_177023 + i_177083;
                                            int64_t slice_180091 = start_176800 + slice_180090;
                                            int8_t tmp_180092 = ((int8_t *) mem_param_180866.mem)[slice_180091];
                                            int64_t tmp_180093 = ((int64_t *) mem_param_180869.mem)[slice_180091];
                                            double tmp_180094 = ((double *) mem_param_180872.mem)[slice_180091];
                                            
                                            loopres_177116 = tmp_180085;
                                            loopres_177117 = tmp_180092;
                                            loopres_177118 = tmp_180093;
                                            loopres_177119 = tmp_180094;
                                        } else {
                                            bool x_177130 = sle64((int64_t) 0, j_177087);
                                            bool y_177131 = slt64(j_177087, j_m_i_177034);
                                            bool bounds_check_177132 = x_177130 && y_177131;
                                            bool index_certs_177133;
                                            
                                            if (!bounds_check_177132) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177134 = merge_sequential_arg2_177032 + j_177087;
                                            int64_t slice_177135 = start_176800 + slice_177134;
                                            int8_t tmp_177136 = ((int8_t *) mem_param_180866.mem)[slice_177135];
                                            int64_t tmp_177137 = ((int64_t *) mem_param_180869.mem)[slice_177135];
                                            double tmp_177138 = ((double *) mem_param_180872.mem)[slice_177135];
                                            
                                            loopres_177116 = i_177083;
                                            loopres_177117 = tmp_177136;
                                            loopres_177118 = tmp_177137;
                                            loopres_177119 = tmp_177138;
                                        }
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177117;
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177118;
                                        ((double *) mem_180916)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177119;
                                        
                                        int64_t i_tmp_182299 = loopres_177116;
                                        
                                        i_177083 = i_tmp_182299;
                                    }
                                    data_177078 = i_177083;
                                }
                                if (memblock_alloc(ctx, &mem_180965, flat_dim_176750, "mem_180965")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180965.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint8_t *) mem_180910, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180969, bytes_180912, "mem_180969")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180969.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180913, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180973, bytes_180912, "mem_180973")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180973.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180916, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180965, "mem_180965") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180969, "mem_180969") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180973, "mem_180973") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180874, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181006.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180877, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180880, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181000.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181020, bytes_180873, "mem_181020")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181020.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint8_t *) mem_180874, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181024, bytes_180876, "mem_181024")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181024.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180877, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181028, bytes_180876, "mem_181028")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181028.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180880, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        
                        bool loop_cond_177152 = slt64(next_stride_176727, flat_dim_176559);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182266, &mem_181020, "mem_181020") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182267, &mem_181024, "mem_181024") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182268, &mem_181028, "mem_181028") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182269 = bytes_180873;
                        bool loop_while_tmp_182270 = loop_cond_177152;
                        int64_t stride_tmp_182274 = next_stride_176727;
                        
                        if (memblock_set(ctx, &mem_param_180866, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180869, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180872, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176721 = loop_dz2084Uz2082U_tmp_182269;
                        loop_while_176722 = loop_while_tmp_182270;
                        stride_176726 = stride_tmp_182274;
                    }
                    if (memblock_set(ctx, &ext_mem_181038, &mem_param_180866, "mem_param_180866") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181037, &mem_param_180869, "mem_param_180869") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181036, &mem_param_180872, "mem_param_180872") != 0)
                        return 1;
                    data_176715 = loop_dz2084Uz2082U_176721;
                    data_176716 = loop_while_176722;
                    data_176720 = stride_176726;
                    if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
                        return 1;
                    
                    bool empty_slice_177153 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177154 = sle64((int64_t) 0, zs_lhs_176543);
                    bool i_p_m_t_s_leq_w_177155 = slt64(zs_lhs_176543, data_176715);
                    bool y_177156 = zzero_leq_i_p_m_t_s_177154 && i_p_m_t_s_leq_w_177155;
                    bool ok_or_empty_177157 = empty_slice_177153 || y_177156;
                    bool index_certs_177158;
                    
                    if (!ok_or_empty_177157) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] out of bounds for array of shape [", (long long) data_176715, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181047, &ext_mem_181038, "ext_mem_181038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &ext_mem_181037, "ext_mem_181037") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &ext_mem_181036, "ext_mem_181036") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180728.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180730.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180732.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181041.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
                    return 1;
                
                bool loop_cond_177194 = slt64(ubs_176486, threads_162943);
                bool loop_while_tmp_182233 = loop_cond_177194;
                int64_t p_tmp_182234 = ubs_176486;
                
                loop_while_176475 = loop_while_tmp_182233;
                p_176476 = p_tmp_182234;
            }
            defunc_0_mergeFunc_seq_res_176470 = loop_while_176475;
            defunc_0_mergeFunc_seq_res_176471 = p_176476;
            
            int64_t index_concat_branch_178011;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180109 = ((int64_t *) mem_180713)[index_concat_i_178008];
                
                index_concat_branch_178011 = index_concat_180109;
            } else {
                index_concat_branch_178011 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178005;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180110 = ((int64_t *) mem_180715)[index_concat_i_178008];
                
                index_concat_branch_178005 = index_concat_180110;
            } else {
                index_concat_branch_178005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_180730, "mem_180730") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_180732, "mem_180732") != 0)
                return 1;
            loopres_175234 = index_concat_branch_178011;
            loopres_175235 = index_concat_branch_178005;
        }
        for (int64_t i_180502 = 0; i_180502 < window_sizze_162942; i_180502++) {
            int8_t eta_p_177202 = ((int8_t *) ext_mem_181466.mem)[i_180502];
            int64_t eta_p_177203 = ((int64_t *) ext_mem_181463.mem)[i_180502];
            bool cond_177204 = eta_p_177202 == (int8_t) 0;
            int64_t tmp_177205;
            
            if (cond_177204) {
                int64_t tmp_t_res_180113 = add64(p_175206, eta_p_177203);
                
                tmp_177205 = tmp_t_res_180113;
            } else {
                int64_t tmp_f_res_177207 = add64(p_175207, eta_p_177203);
                
                tmp_177205 = tmp_f_res_177207;
            }
            ((int64_t *) mem_180700.mem)[ind_bottom_175210 + i_180502] = tmp_177205;
        }
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        
        int64_t next_lbs_177208 = add64(p_175206, loopres_175234);
        int64_t next_lbs_177209 = add64(p_175207, loopres_175235);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181466.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162942});
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162942});
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        
        bool cond_177223 = slt64(next_lbs_177208, zl_rhs_175189);
        bool loop_cond_t_res_177224 = slt64(next_lbs_177209, zl_rhs_175191);
        bool x_177225 = cond_177223 && loop_cond_t_res_177224;
        bool loop_while_tmp_182117 = x_177225;
        int64_t p_tmp_182121 = next_lbs_177208;
        int64_t p_tmp_182122 = next_lbs_177209;
        
        loop_while_175202 = loop_while_tmp_182117;
        p_175206 = p_tmp_182121;
        p_175207 = p_tmp_182122;
    }
    defunc_0_merge_pipeline_res_175196 = loop_while_175202;
    defunc_0_merge_pipeline_res_175200 = p_175206;
    defunc_0_merge_pipeline_res_175201 = p_175207;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 = sub64(nb_162941, defunc_0_merge_pipeline_res_175201);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 = sub64(na_162940, defunc_0_merge_pipeline_res_175200);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    bool empty_slice_177229 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 == (int64_t) 0;
    int64_t m_177230 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 1);
    int64_t i_p_m_t_s_177231 = add64(defunc_0_merge_pipeline_res_175200, m_177230);
    bool zzero_leq_i_p_m_t_s_177232 = sle64((int64_t) 0, i_p_m_t_s_177231);
    bool i_p_m_t_s_leq_w_177233 = slt64(i_p_m_t_s_177231, na_162940);
    bool zzero_lte_i_177234 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175200);
    bool i_lte_j_177235 = sle64(defunc_0_merge_pipeline_res_175200, na_162940);
    bool y_177236 = i_p_m_t_s_leq_w_177233 && zzero_lte_i_177234;
    bool y_177237 = zzero_leq_i_p_m_t_s_177232 && y_177236;
    bool forwards_ok_177238 = i_lte_j_177235 && y_177237;
    bool ok_or_empty_177239 = empty_slice_177229 || forwards_ok_177238;
    bool index_certs_177240;
    
    if (!ok_or_empty_177239) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175200, ":", (long long) na_162940, "] out of bounds for array of shape [", (long long) na_162940, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177244 = slt64(na_162940, defunc_0_merge_pipeline_res_175200);
    bool valid_177245 = !bounds_invalid_upwards_177244;
    bool range_valid_c_177246;
    
    if (!valid_177245) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175200, "..<", (long long) na_162940, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177250 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 == (int64_t) 0;
    int64_t m_177251 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, (int64_t) 1);
    int64_t i_p_m_t_s_177252 = add64(defunc_0_merge_pipeline_res_175201, m_177251);
    bool zzero_leq_i_p_m_t_s_177253 = sle64((int64_t) 0, i_p_m_t_s_177252);
    bool i_p_m_t_s_leq_w_177254 = slt64(i_p_m_t_s_177252, nb_162941);
    bool zzero_lte_i_177255 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175201);
    bool i_lte_j_177256 = sle64(defunc_0_merge_pipeline_res_175201, nb_162941);
    bool y_177257 = i_p_m_t_s_leq_w_177254 && zzero_lte_i_177255;
    bool y_177258 = zzero_leq_i_p_m_t_s_177253 && y_177257;
    bool forwards_ok_177259 = i_lte_j_177256 && y_177258;
    bool ok_or_empty_177260 = empty_slice_177250 || forwards_ok_177259;
    bool index_certs_177261;
    
    if (!ok_or_empty_177260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175201, ":", (long long) nb_162941, "] out of bounds for array of shape [", (long long) nb_162941, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177265 = slt64(nb_162941, defunc_0_merge_pipeline_res_175201);
    bool valid_177266 = !bounds_invalid_upwards_177265;
    bool range_valid_c_177267;
    
    if (!valid_177266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175201, "..<", (long long) nb_162941, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181491 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool cond_177274 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zs_lhs_177275 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zp_rhs_177276 = sdiv_safe64(zs_lhs_177275, (int64_t) 20);
    int64_t min_num_blocks_177277 = add64((int64_t) 1, zp_rhs_177276);
    bool loop_cond_177278 = slt64((int64_t) 1, min_num_blocks_177277);
    bool smallest_pow_2_geq_than_res_177279;
    int64_t smallest_pow_2_geq_than_res_177280;
    bool loop_while_177281;
    int64_t x_177282;
    
    loop_while_177281 = loop_cond_177278;
    x_177282 = (int64_t) 1;
    while (loop_while_177281) {
        int64_t loopres_177283 = mul64((int64_t) 2, x_177282);
        bool loop_cond_177284 = slt64(loopres_177283, min_num_blocks_177277);
        bool loop_while_tmp_182304 = loop_cond_177284;
        int64_t x_tmp_182305 = loopres_177283;
        
        loop_while_177281 = loop_while_tmp_182304;
        x_177282 = x_tmp_182305;
    }
    smallest_pow_2_geq_than_res_177279 = loop_while_177281;
    smallest_pow_2_geq_than_res_177280 = x_177282;
    
    bool zzero_177285 = smallest_pow_2_geq_than_res_177280 == (int64_t) 0;
    bool nonzzero_177286 = !zzero_177285;
    bool protect_assert_disj_177287 = cond_177274 || nonzzero_177286;
    bool nonzzero_cert_177288;
    
    if (!protect_assert_disj_177287) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177289 = sdiv_safe64(zs_lhs_177275, smallest_pow_2_geq_than_res_177280);
    int64_t block_sizze_177290 = add64((int64_t) 1, zp_rhs_177289);
    bool y_177297 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool protect_assert_disj_181819 = cond_177274 || y_177297;
    bool index_certs_177298;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177324 = slt64(smallest_pow_2_geq_than_res_177280, (int64_t) 0);
    bool valid_177325 = !bounds_invalid_upwards_177324;
    bool protect_assert_disj_181829 = cond_177274 || valid_177325;
    bool range_valid_c_177326;
    
    if (!protect_assert_disj_181829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177280, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177328 = slt64(block_sizze_177290, (int64_t) 0);
    bool valid_177329 = !bounds_invalid_upwards_177328;
    bool protect_assert_disj_181831 = cond_177274 || valid_177329;
    bool range_valid_c_177330;
    
    if (!protect_assert_disj_181831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177290, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177332 = sle64(block_sizze_177290, (int64_t) 1);
    int64_t tmp_177333 = sub64(block_sizze_177290, (int64_t) 2);
    bool bounds_invalid_upwards_177334 = slt64(tmp_177333, (int64_t) 0);
    bool valid_177336 = !bounds_invalid_upwards_177334;
    bool protect_assert_disj_177337 = cond_177332 || valid_177336;
    bool protect_assert_disj_181833 = cond_177274 || protect_assert_disj_177337;
    bool range_valid_c_177338;
    
    if (!protect_assert_disj_181833) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177333, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177899 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177901 = sle64((int64_t) 0, zs_lhs_177275);
    bool i_p_m_t_s_leq_w_177902 = slt64(zs_lhs_177275, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool y_177903 = zzero_leq_i_p_m_t_s_177901 && i_p_m_t_s_leq_w_177902;
    bool ok_or_empty_177904 = empty_slice_177899 || y_177903;
    bool index_certs_177905;
    
    if (!ok_or_empty_177904) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177906 = add64(defunc_0_merge_pipeline_res_175200, defunc_0_merge_pipeline_res_175201);
    int64_t j_m_i_177907 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, final_buffer_177906);
    bool empty_slice_177908 = j_m_i_177907 == (int64_t) 0;
    int64_t m_177909 = sub64(j_m_i_177907, (int64_t) 1);
    int64_t i_p_m_t_s_177910 = add64(final_buffer_177906, m_177909);
    bool zzero_leq_i_p_m_t_s_177911 = sle64((int64_t) 0, i_p_m_t_s_177910);
    bool i_p_m_t_s_leq_w_177912 = slt64(i_p_m_t_s_177910, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool zzero_lte_i_177913 = sle64((int64_t) 0, final_buffer_177906);
    bool i_lte_j_177914 = sle64(final_buffer_177906, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool y_177915 = i_p_m_t_s_leq_w_177912 && zzero_lte_i_177913;
    bool y_177916 = zzero_leq_i_p_m_t_s_177911 && y_177915;
    bool forwards_ok_177917 = i_lte_j_177914 && y_177916;
    bool ok_or_empty_177918 = empty_slice_177908 || forwards_ok_177917;
    bool index_certs_177919;
    
    if (!ok_or_empty_177918) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177906, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177920 = j_m_i_177907 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool empty_or_match_cert_177921;
    
    if (!dim_match_177920) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177907, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181490, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "mem_181490")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182306 = 0; nest_i_182306 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; nest_i_182306++) {
        ((int8_t *) mem_181490.mem)[nest_i_182306] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181492, bytes_181491, "mem_181492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182307 = 0; i_182307 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; i_182307++) {
        int64_t x_182308 = defunc_0_merge_pipeline_res_175200 + i_182307 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[i_182307] = x_182308;
    }
    for (int64_t nest_i_182309 = 0; nest_i_182309 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; nest_i_182309++) {
        ((int8_t *) mem_181490.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + nest_i_182309] = (int8_t) 1;
    }
    for (int64_t i_182310 = 0; i_182310 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; i_182310++) {
        int64_t x_182311 = defunc_0_merge_pipeline_res_175201 + i_182310 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + i_182310] = x_182311;
    }
    
    int64_t tmp_offs_182312 = (int64_t) 0;
    
    if (!(tmp_offs_182312 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182312 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t tmp_offs_182313 = (int64_t) 0;
    
    if (!(tmp_offs_182313 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182313 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    if (memblock_alloc(ctx, &mem_181494, bytes_181491, "mem_181494")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182314 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, defunc_0_merge_pipeline_res_175200, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, defunc_0_merge_pipeline_res_175201, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t flat_dim_177291 = smallest_pow_2_geq_than_res_177280 * block_sizze_177290;
    bool x_181814 = !cond_177274;
    int64_t greatest_divisor_leq_than_arg1_177295 = mul64((int64_t) 2, block_sizze_177290);
    int64_t merge_block_sizze_177296;
    
    if (x_181814) {
        int64_t x_181816;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181816, (int64_t) 8, greatest_divisor_leq_than_arg1_177295) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177296 = x_181816;
    } else {
        merge_block_sizze_177296 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177971 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 0);
    int8_t index_concat_branch_177975 = btoi_bool_i8(index_concat_cmp_177971);
    int64_t index_concat_i_180115 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    int64_t index_primexp_180116 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180115);
    int64_t index_concat_branch_177969;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177969 = index_primexp_180116;
    } else {
        index_concat_branch_177969 = defunc_0_merge_pipeline_res_175200;
    }
    
    bool x_181810 = !index_concat_cmp_177971;
    bool protect_cond_conj_181820 = x_181810 && x_181814;
    double index_concat_177962;
    
    if (protect_cond_conj_181820) {
        double x_181812 = ((double *) a_list_mem_180696.mem)[defunc_0_merge_pipeline_res_175200];
        
        index_concat_177962 = x_181812;
    } else {
        index_concat_177962 = 0.0;
    }
    
    bool protect_cond_conj_181821 = index_concat_cmp_177971 && x_181814;
    double index_concat_180119;
    
    if (protect_cond_conj_181821) {
        double x_181808 = ((double *) b_list_mem_180697.mem)[index_primexp_180116];
        
        index_concat_180119 = x_181808;
    } else {
        index_concat_180119 = 0.0;
    }
    
    double index_concat_branch_177963;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177963 = index_concat_180119;
    } else {
        index_concat_branch_177963 = index_concat_177962;
    }
    
    int8_t defunc_0_reduce_res_180350;
    int64_t defunc_0_reduce_res_180351;
    double defunc_0_reduce_res_180352;
    
    if (x_181814) {
        int8_t x_181822;
        int64_t x_181823;
        double x_181824;
        int8_t redout_180504;
        int64_t redout_180505;
        double redout_180506;
        
        redout_180504 = index_concat_branch_177975;
        redout_180505 = index_concat_branch_177969;
        redout_180506 = index_concat_branch_177963;
        for (int64_t i_180507 = 0; i_180507 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228; i_180507++) {
            bool index_concat_cmp_180578 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, i_180507);
            int8_t index_concat_branch_180582 = btoi_bool_i8(index_concat_cmp_180578);
            int64_t index_concat_branch_180576;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180573 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t index_primexp_180666 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180573);
                
                index_concat_branch_180576 = index_primexp_180666;
            } else {
                int64_t index_primexp_180668 = add64(defunc_0_merge_pipeline_res_175200, i_180507);
                
                index_concat_branch_180576 = index_primexp_180668;
            }
            
            double index_concat_branch_180570;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180567 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t slice_180663 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180567;
                double index_concat_180568 = ((double *) b_list_mem_180697.mem)[slice_180663];
                
                index_concat_branch_180570 = index_concat_180568;
            } else {
                int64_t slice_180664 = defunc_0_merge_pipeline_res_175200 + i_180507;
                double index_concat_180569 = ((double *) a_list_mem_180696.mem)[slice_180664];
                
                index_concat_branch_180570 = index_concat_180569;
            }
            
            bool eq_x_y_180681 = redout_180504 == (int8_t) 1;
            bool eq_x_zz_180682 = redout_180504 == (int8_t) 0;
            bool p_and_eq_x_y_180683 = index_concat_cmp_180578 && eq_x_y_180681;
            bool not_p_180684 = !index_concat_cmp_180578;
            bool p_and_eq_x_y_180685 = eq_x_zz_180682 && not_p_180684;
            bool cond_177314 = p_and_eq_x_y_180683 || p_and_eq_x_y_180685;
            bool defunc_0_leq_res_t_res_177315 = sle64(redout_180505, index_concat_branch_180576);
            bool defunc_0_leq_res_177316 = redout_180506 <= index_concat_branch_180570;
            bool x_177317 = cond_177314 && defunc_0_leq_res_t_res_177315;
            bool x_177318 = !cond_177314;
            bool y_177319 = defunc_0_leq_res_177316 && x_177318;
            bool defunc_0_leq_res_177320 = x_177317 || y_177319;
            int8_t defunc_0_op_res_177321;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177321 = index_concat_branch_180582;
            } else {
                defunc_0_op_res_177321 = redout_180504;
            }
            
            int64_t defunc_0_op_res_177322;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177322 = index_concat_branch_180576;
            } else {
                defunc_0_op_res_177322 = redout_180505;
            }
            
            double defunc_0_op_res_177323;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177323 = index_concat_branch_180570;
            } else {
                defunc_0_op_res_177323 = redout_180506;
            }
            
            int8_t redout_tmp_182315 = defunc_0_op_res_177321;
            int64_t redout_tmp_182316 = defunc_0_op_res_177322;
            double redout_tmp_182317 = defunc_0_op_res_177323;
            
            redout_180504 = redout_tmp_182315;
            redout_180505 = redout_tmp_182316;
            redout_180506 = redout_tmp_182317;
        }
        x_181822 = redout_180504;
        x_181823 = redout_180505;
        x_181824 = redout_180506;
        defunc_0_reduce_res_180350 = x_181822;
        defunc_0_reduce_res_180351 = x_181823;
        defunc_0_reduce_res_180352 = x_181824;
    } else {
        defunc_0_reduce_res_180350 = (int8_t) 0;
        defunc_0_reduce_res_180351 = (int64_t) 0;
        defunc_0_reduce_res_180352 = 0.0;
    }
    
    int64_t distance_177335 = add64((int64_t) 1, tmp_177333);
    int64_t binop_x_181497 = (int64_t) 8 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181498 = block_sizze_177290 * binop_x_181497;
    int64_t bytes_181516 = (int64_t) 8 * block_sizze_177290;
    bool loop_cond_177444 = slt64(block_sizze_177290, flat_dim_177291);
    bool zzero_177445 = merge_block_sizze_177296 == (int64_t) 0;
    bool nonzzero_177446 = !zzero_177445;
    
    if (cond_177274) {
        if (memblock_set(ctx, &ext_mem_181789, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &mem_181494, "mem_181494") != 0)
            return 1;
    } else {
        if (mem_181496_cached_sizze_182474 < flat_dim_177291) {
            err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182474, flat_dim_177291);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181499_cached_sizze_182475 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181499, &mem_181499_cached_sizze_182475, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181502_cached_sizze_182476 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181502, &mem_181502_cached_sizze_182476, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181515_cached_sizze_182477 < block_sizze_177290) {
            err = lexical_realloc(ctx, &mem_181515, &mem_181515_cached_sizze_182477, block_sizze_177290);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181517_cached_sizze_182478 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182478, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181519_cached_sizze_182479 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181519, &mem_181519_cached_sizze_182479, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180524 = 0; i_180524 < smallest_pow_2_geq_than_res_177280; i_180524++) {
            int64_t zp_lhs_177343 = mul64(block_sizze_177290, i_180524);
            
            for (int64_t i_180514 = 0; i_180514 < block_sizze_177290; i_180514++) {
                int64_t k_177348 = add64(zp_lhs_177343, i_180514);
                bool cond_177349 = slt64(k_177348, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
                int8_t lifted_lambda_res_177350;
                int64_t lifted_lambda_res_177351;
                double lifted_lambda_res_177352;
                
                if (cond_177349) {
                    bool x_180125 = sle64((int64_t) 0, k_177348);
                    bool bounds_check_180126 = cond_177349 && x_180125;
                    bool index_certs_180127;
                    
                    if (!bounds_check_180126) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177348, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180128 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, k_177348);
                    int8_t index_concat_branch_180129 = btoi_bool_i8(index_concat_cmp_180128);
                    int64_t index_concat_branch_180130;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180131 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t index_primexp_180132 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180131);
                        
                        index_concat_branch_180130 = index_primexp_180132;
                    } else {
                        int64_t index_primexp_180133 = add64(defunc_0_merge_pipeline_res_175200, k_177348);
                        
                        index_concat_branch_180130 = index_primexp_180133;
                    }
                    
                    double index_concat_branch_180134;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180135 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t slice_180136 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180135;
                        double index_concat_180137 = ((double *) b_list_mem_180697.mem)[slice_180136];
                        
                        index_concat_branch_180134 = index_concat_180137;
                    } else {
                        int64_t slice_180138 = defunc_0_merge_pipeline_res_175200 + k_177348;
                        double index_concat_180139 = ((double *) a_list_mem_180696.mem)[slice_180138];
                        
                        index_concat_branch_180134 = index_concat_180139;
                    }
                    lifted_lambda_res_177350 = index_concat_branch_180129;
                    lifted_lambda_res_177351 = index_concat_branch_180130;
                    lifted_lambda_res_177352 = index_concat_branch_180134;
                } else {
                    lifted_lambda_res_177350 = defunc_0_reduce_res_180350;
                    lifted_lambda_res_177351 = defunc_0_reduce_res_180351;
                    lifted_lambda_res_177352 = defunc_0_reduce_res_180352;
                }
                ((int8_t *) mem_181515)[i_180514] = lifted_lambda_res_177350;
                ((int64_t *) mem_181517)[i_180514] = lifted_lambda_res_177351;
                ((double *) mem_181519)[i_180514] = lifted_lambda_res_177352;
            }
            if (!cond_177332) {
                for (int64_t i_177365 = 0; i_177365 < distance_177335; i_177365++) {
                    int64_t gt_arg1_177369 = add64((int64_t) 1, i_177365);
                    bool x_177370 = sle64((int64_t) 0, gt_arg1_177369);
                    bool y_177371 = slt64(gt_arg1_177369, block_sizze_177290);
                    bool bounds_check_177372 = x_177370 && y_177371;
                    bool index_certs_177373;
                    
                    if (!bounds_check_177372) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177369, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177377 = slt64(i_177365, block_sizze_177290);
                    bool index_certs_177378;
                    
                    if (!y_177377) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177365, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177374 = ((int8_t *) mem_181515)[gt_arg1_177369];
                    int64_t gt_arg1_177375 = ((int64_t *) mem_181517)[gt_arg1_177369];
                    double gt_arg1_177376 = ((double *) mem_181519)[gt_arg1_177369];
                    int8_t gt_arg0_177379 = ((int8_t *) mem_181515)[i_177365];
                    int64_t gt_arg0_177380 = ((int64_t *) mem_181517)[i_177365];
                    double gt_arg0_177381 = ((double *) mem_181519)[i_177365];
                    bool cond_177382 = gt_arg0_177379 == gt_arg1_177374;
                    bool defunc_0_leq_res_t_res_177383 = sle64(gt_arg0_177380, gt_arg1_177375);
                    bool defunc_0_leq_res_177384 = gt_arg0_177381 <= gt_arg1_177376;
                    bool x_177385 = cond_177382 && defunc_0_leq_res_t_res_177383;
                    bool x_177386 = !cond_177382;
                    bool y_177387 = defunc_0_leq_res_177384 && x_177386;
                    bool defunc_0_leq_res_177388 = x_177385 || y_177387;
                    bool defunc_0_lifted_gt_res_177389 = !defunc_0_leq_res_177388;
                    bool s_177390;
                    int64_t s_177394;
                    bool loop_while_177395;
                    int64_t j_177399;
                    
                    loop_while_177395 = defunc_0_lifted_gt_res_177389;
                    j_177399 = i_177365;
                    while (loop_while_177395) {
                        bool x_177400 = sle64((int64_t) 0, j_177399);
                        bool y_177401 = slt64(j_177399, block_sizze_177290);
                        bool bounds_check_177402 = x_177400 && y_177401;
                        bool index_certs_177403;
                        
                        if (!bounds_check_177402) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177399, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177407 = add64((int64_t) 1, j_177399);
                        bool x_177408 = sle64((int64_t) 0, copy_arg0_177407);
                        bool y_177409 = slt64(copy_arg0_177407, block_sizze_177290);
                        bool bounds_check_177410 = x_177408 && y_177409;
                        bool index_certs_177411;
                        
                        if (!bounds_check_177410) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177407, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177404 = ((int8_t *) mem_181515)[j_177399];
                        int64_t copy_arg0_177405 = ((int64_t *) mem_181517)[j_177399];
                        double copy_arg0_177406 = ((double *) mem_181519)[j_177399];
                        int8_t copy_arg0_177412 = ((int8_t *) mem_181515)[copy_arg0_177407];
                        int64_t copy_arg0_177413 = ((int64_t *) mem_181517)[copy_arg0_177407];
                        double copy_arg0_177414 = ((double *) mem_181519)[copy_arg0_177407];
                        
                        ((int8_t *) mem_181515)[j_177399] = copy_arg0_177412;
                        ((int64_t *) mem_181517)[j_177399] = copy_arg0_177413;
                        ((double *) mem_181519)[j_177399] = copy_arg0_177414;
                        ((int8_t *) mem_181515)[copy_arg0_177407] = copy_arg0_177404;
                        ((int64_t *) mem_181517)[copy_arg0_177407] = copy_arg0_177405;
                        ((double *) mem_181519)[copy_arg0_177407] = copy_arg0_177406;
                        
                        int64_t tmp_177421 = sub64(j_177399, (int64_t) 1);
                        bool cond_177422 = sle64((int64_t) 0, tmp_177421);
                        bool loop_cond_177423;
                        
                        if (cond_177422) {
                            bool y_180143 = slt64(tmp_177421, block_sizze_177290);
                            bool bounds_check_180144 = cond_177422 && y_180143;
                            bool index_certs_180145;
                            
                            if (!bounds_check_180144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177421, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180140 = ((int8_t *) mem_181515)[j_177399];
                            int64_t gt_arg1_180141 = ((int64_t *) mem_181517)[j_177399];
                            double gt_arg1_180142 = ((double *) mem_181519)[j_177399];
                            int8_t gt_arg0_180146 = ((int8_t *) mem_181515)[tmp_177421];
                            int64_t gt_arg0_180147 = ((int64_t *) mem_181517)[tmp_177421];
                            double gt_arg0_180148 = ((double *) mem_181519)[tmp_177421];
                            bool cond_180149 = gt_arg0_180146 == gt_arg1_180140;
                            bool defunc_0_leq_res_t_res_180150 = sle64(gt_arg0_180147, gt_arg1_180141);
                            bool defunc_0_leq_res_180151 = gt_arg0_180148 <= gt_arg1_180142;
                            bool x_180152 = cond_180149 && defunc_0_leq_res_t_res_180150;
                            bool x_180153 = !cond_180149;
                            bool y_180154 = defunc_0_leq_res_180151 && x_180153;
                            bool defunc_0_leq_res_180155 = x_180152 || y_180154;
                            bool defunc_0_lifted_gt_res_180156 = !defunc_0_leq_res_180155;
                            
                            loop_cond_177423 = defunc_0_lifted_gt_res_180156;
                        } else {
                            loop_cond_177423 = 0;
                        }
                        
                        bool loop_while_tmp_182327 = loop_cond_177423;
                        int64_t j_tmp_182331 = tmp_177421;
                        
                        loop_while_177395 = loop_while_tmp_182327;
                        j_177399 = j_tmp_182331;
                    }
                    s_177390 = loop_while_177395;
                    s_177394 = j_177399;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181496, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181515, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181499, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181517, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181502, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181519, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
        }
        if (memblock_alloc(ctx, &mem_181596, flat_dim_177291, "mem_181596")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181596.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint8_t *) mem_181496, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181600, bytes_181498, "mem_181600")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181600.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181499, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181604, bytes_181498, "mem_181604")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181604.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181502, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        
        int64_t data_177447;
        bool data_177448;
        int64_t data_177452;
        int64_t loop_dz2084Uz2082U_177453;
        bool loop_while_177454;
        int64_t stride_177458;
        
        if (memblock_set(ctx, &mem_param_181608, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181611, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181614, &mem_181604, "mem_181604") != 0)
            return 1;
        loop_dz2084Uz2082U_177453 = flat_dim_177291;
        loop_while_177454 = loop_cond_177444;
        stride_177458 = block_sizze_177290;
        while (loop_while_177454) {
            int64_t next_stride_177459 = mul64((int64_t) 2, stride_177458);
            bool zzero_177460 = next_stride_177459 == (int64_t) 0;
            bool nonzzero_177461 = !zzero_177460;
            bool nonzzero_cert_177462;
            
            if (!nonzzero_177461) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177463 = sdiv64(flat_dim_177291, next_stride_177459);
            bool bounds_invalid_upwards_177464 = slt64(num_merges_177463, (int64_t) 0);
            bool valid_177465 = !bounds_invalid_upwards_177464;
            bool range_valid_c_177466;
            
            if (!valid_177465) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177463, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177468 = sub64(next_stride_177459, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177469 = sle64((int64_t) 0, m_177468);
            bool cond_177471 = slt64(next_stride_177459, (int64_t) 10);
            bool protect_assert_disj_177472 = nonzzero_177446 || cond_177471;
            bool nonzzero_cert_177473;
            
            if (!protect_assert_disj_177472) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177474 = smod_safe64(next_stride_177459, merge_block_sizze_177296);
            bool num_blocks_177475 = zeze_lhs_177474 == (int64_t) 0;
            bool protect_assert_disj_177476 = cond_177471 || num_blocks_177475;
            bool assert_c_177477;
            
            if (!protect_assert_disj_177476) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177479 = sdiv_safe64(next_stride_177459, merge_block_sizze_177296);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480 = add64((int64_t) 1, num_blocks_177479);
            int64_t j_m_i_177481 = sub64(next_stride_177459, stride_177458);
            int64_t flat_dim_177482 = merge_block_sizze_177296 * num_blocks_177479;
            bool bounds_invalid_upwards_177483 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, (int64_t) 0);
            bool empty_slice_177484 = j_m_i_177481 == (int64_t) 0;
            int64_t m_177485 = sub64(j_m_i_177481, (int64_t) 1);
            bool zzero_lte_i_177486 = sle64((int64_t) 0, stride_177458);
            bool i_lte_j_177487 = sle64(stride_177458, next_stride_177459);
            bool empty_slice_177488 = stride_177458 == (int64_t) 0;
            int64_t m_177489 = sub64(stride_177458, (int64_t) 1);
            bool bounds_invalid_upwards_177490 = slt64(num_blocks_177479, (int64_t) 0);
            bool cond_177491 = slt64((int64_t) 0, stride_177458);
            bool valid_177492 = !bounds_invalid_upwards_177483;
            int64_t i_p_m_t_s_177493 = add64(stride_177458, m_177485);
            bool zzero_leq_i_p_m_t_s_177494 = sle64((int64_t) 0, m_177489);
            bool i_p_m_t_s_leq_w_177495 = slt64(m_177489, next_stride_177459);
            bool valid_177496 = !bounds_invalid_upwards_177490;
            bool i_p_m_t_s_leq_w_177497 = slt64(m_177468, flat_dim_177482);
            bool y_177498 = slt64((int64_t) 0, j_m_i_177481);
            bool protect_assert_disj_177499 = cond_177471 || valid_177492;
            bool range_valid_c_177500;
            
            if (!protect_assert_disj_177499) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177501 = sle64((int64_t) 0, i_p_m_t_s_177493);
            bool i_p_m_t_s_leq_w_177502 = slt64(i_p_m_t_s_177493, next_stride_177459);
            bool y_177503 = zzero_leq_i_p_m_t_s_177494 && i_p_m_t_s_leq_w_177495;
            bool protect_assert_disj_177504 = cond_177471 || valid_177496;
            bool range_valid_c_177505;
            
            if (!protect_assert_disj_177504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177479, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177506 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177497;
            bool y_177507 = zzero_lte_i_177486 && i_p_m_t_s_leq_w_177502;
            bool forwards_ok_177508 = zzero_lte_i_177486 && y_177503;
            bool ok_or_empty_177509 = zzero_177460 || y_177506;
            bool protect_assert_disj_177510 = cond_177491 || y_177498;
            bool y_177511 = zzero_leq_i_p_m_t_s_177501 && y_177507;
            bool ok_or_empty_177512 = empty_slice_177488 || forwards_ok_177508;
            bool protect_assert_disj_177513 = cond_177471 || ok_or_empty_177509;
            bool index_certs_177514;
            
            if (!protect_assert_disj_177513) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) flat_dim_177482, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177515 = !cond_177471;
            bool protect_assert_disj_177516 = protect_assert_disj_177510 || loop_not_taken_177515;
            bool index_certs_177517;
            
            if (!protect_assert_disj_177516) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177518 = i_lte_j_177487 && y_177511;
            bool protect_assert_disj_177519 = cond_177471 || ok_or_empty_177512;
            bool index_certs_177520;
            
            if (!protect_assert_disj_177519) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177521 = ok_or_empty_177512 || loop_not_taken_177515;
            bool index_certs_177522;
            
            if (!protect_assert_disj_177521) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177523 = empty_slice_177484 || forwards_ok_177518;
            bool protect_assert_disj_177524 = cond_177471 || ok_or_empty_177523;
            bool index_certs_177525;
            
            if (!protect_assert_disj_177524) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177526 = loop_not_taken_177515 || ok_or_empty_177523;
            bool index_certs_177527;
            
            if (!protect_assert_disj_177526) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181615 = next_stride_177459 * num_merges_177463;
            int64_t binop_x_181617 = (int64_t) 8 * num_merges_177463;
            int64_t bytes_181618 = next_stride_177459 * binop_x_181617;
            bool i_lte_j_177470 = sle64((int64_t) 0, next_stride_177459);
            
            if (mem_181616_cached_sizze_182480 < bytes_181615) {
                err = lexical_realloc(ctx, &mem_181616, &mem_181616_cached_sizze_182480, bytes_181615);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181619_cached_sizze_182481 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181619, &mem_181619_cached_sizze_182481, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181622_cached_sizze_182482 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181622, &mem_181622_cached_sizze_182482, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181635 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480;
            int64_t binop_x_181653 = (int64_t) 8 * num_blocks_177479;
            int64_t bytes_181654 = merge_block_sizze_177296 * binop_x_181653;
            int64_t bytes_181718 = (int64_t) 16 * stride_177458;
            
            for (int64_t i_180551 = 0; i_180551 < num_merges_177463; i_180551++) {
                int64_t start_177532 = mul64(next_stride_177459, i_180551);
                int64_t j_m_i_177533 = sub64(loop_dz2084Uz2082U_177453, start_177532);
                bool empty_slice_177534 = j_m_i_177533 == (int64_t) 0;
                int64_t m_177535 = sub64(j_m_i_177533, (int64_t) 1);
                int64_t i_p_m_t_s_177536 = add64(start_177532, m_177535);
                bool zzero_leq_i_p_m_t_s_177537 = sle64((int64_t) 0, i_p_m_t_s_177536);
                bool i_p_m_t_s_leq_w_177538 = slt64(i_p_m_t_s_177536, loop_dz2084Uz2082U_177453);
                bool zzero_lte_i_177539 = sle64((int64_t) 0, start_177532);
                bool i_lte_j_177540 = sle64(start_177532, loop_dz2084Uz2082U_177453);
                bool y_177541 = i_p_m_t_s_leq_w_177538 && zzero_lte_i_177539;
                bool y_177542 = zzero_leq_i_p_m_t_s_177537 && y_177541;
                bool forwards_ok_177543 = i_lte_j_177540 && y_177542;
                bool ok_or_empty_177544 = empty_slice_177534 || forwards_ok_177543;
                bool index_certs_177545;
                
                if (!ok_or_empty_177544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177532, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177453, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177546 = slt64(m_177468, j_m_i_177533);
                bool y_177547 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177546;
                bool forwards_ok_177548 = i_lte_j_177470 && y_177547;
                bool ok_or_empty_177549 = zzero_177460 || forwards_ok_177548;
                bool index_certs_177550;
                
                if (!ok_or_empty_177549) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) j_m_i_177533, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177471) {
                    int8_t dummy_180195;
                    int64_t dummy_180196;
                    double dummy_180197;
                    
                    if (cond_177491) {
                        int8_t head_res_180198 = ((int8_t *) mem_param_181608.mem)[start_177532];
                        int64_t head_res_180199 = ((int64_t *) mem_param_181611.mem)[start_177532];
                        double head_res_180200 = ((double *) mem_param_181614.mem)[start_177532];
                        
                        dummy_180195 = head_res_180198;
                        dummy_180196 = head_res_180199;
                        dummy_180197 = head_res_180200;
                    } else {
                        int64_t slice_180201 = stride_177458 + start_177532;
                        int8_t head_res_180202 = ((int8_t *) mem_param_181608.mem)[slice_180201];
                        int64_t head_res_180203 = ((int64_t *) mem_param_181611.mem)[slice_180201];
                        double head_res_180204 = ((double *) mem_param_181614.mem)[slice_180201];
                        
                        dummy_180195 = head_res_180202;
                        dummy_180196 = head_res_180203;
                        dummy_180197 = head_res_180204;
                    }
                    if (memblock_alloc(ctx, &mem_181717, next_stride_177459, "mem_181717")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182344 = 0; nest_i_182344 < next_stride_177459; nest_i_182344++) {
                        ((int8_t *) mem_181717.mem)[nest_i_182344] = dummy_180195;
                    }
                    if (memblock_alloc(ctx, &mem_181719, bytes_181718, "mem_181719")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182345 = 0; nest_i_182345 < next_stride_177459; nest_i_182345++) {
                        ((int64_t *) mem_181719.mem)[nest_i_182345] = dummy_180196;
                    }
                    if (memblock_alloc(ctx, &mem_181721, bytes_181718, "mem_181721")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182346 = 0; nest_i_182346 < next_stride_177459; nest_i_182346++) {
                        ((double *) mem_181721.mem)[nest_i_182346] = dummy_180197;
                    }
                    
                    int64_t data_180208;
                    int64_t i_180213 = (int64_t) 0;
                    
                    for (int64_t k_180212 = 0; k_180212 < next_stride_177459; k_180212++) {
                        int64_t j_180217 = sub64(k_180212, i_180213);
                        bool cond_180218 = j_180217 == j_m_i_177481;
                        bool cond_180219;
                        
                        if (cond_180218) {
                            cond_180219 = 1;
                        } else {
                            bool cond_180220 = slt64(i_180213, stride_177458);
                            bool cond_f_res_180221;
                            
                            if (cond_180220) {
                                bool x_180222 = sle64((int64_t) 0, j_180217);
                                bool y_180223 = slt64(j_180217, j_m_i_177481);
                                bool bounds_check_180224 = x_180222 && y_180223;
                                bool index_certs_180225;
                                
                                if (!bounds_check_180224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180231 = sle64((int64_t) 0, i_180213);
                                bool bounds_check_180232 = cond_180220 && x_180231;
                                bool index_certs_180233;
                                
                                if (!bounds_check_180232) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180226 = stride_177458 + j_180217;
                                int64_t slice_180227 = start_177532 + slice_180226;
                                int8_t leq_arg1_180228 = ((int8_t *) mem_param_181608.mem)[slice_180227];
                                int64_t leq_arg1_180229 = ((int64_t *) mem_param_181611.mem)[slice_180227];
                                double leq_arg1_180230 = ((double *) mem_param_181614.mem)[slice_180227];
                                int64_t slice_180234 = start_177532 + i_180213;
                                int8_t leq_arg0_180235 = ((int8_t *) mem_param_181608.mem)[slice_180234];
                                int64_t leq_arg0_180236 = ((int64_t *) mem_param_181611.mem)[slice_180234];
                                double leq_arg0_180237 = ((double *) mem_param_181614.mem)[slice_180234];
                                bool cond_180238 = leq_arg0_180235 == leq_arg1_180228;
                                bool defunc_0_leq_res_t_res_180239 = sle64(leq_arg0_180236, leq_arg1_180229);
                                bool defunc_0_leq_res_180240 = leq_arg0_180237 <= leq_arg1_180230;
                                bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                bool x_180242 = !cond_180238;
                                bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                
                                cond_f_res_180221 = defunc_0_leq_res_180244;
                            } else {
                                cond_f_res_180221 = 0;
                            }
                            cond_180219 = cond_f_res_180221;
                        }
                        
                        int64_t loopres_180245;
                        int8_t loopres_180246;
                        int64_t loopres_180247;
                        double loopres_180248;
                        
                        if (cond_180219) {
                            bool x_180250 = sle64((int64_t) 0, i_180213);
                            bool y_180251 = slt64(i_180213, stride_177458);
                            bool bounds_check_180252 = x_180250 && y_180251;
                            bool index_certs_180253;
                            
                            if (!bounds_check_180252) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180249 = add64((int64_t) 1, i_180213);
                            int64_t slice_180254 = start_177532 + i_180213;
                            int8_t tmp_180255 = ((int8_t *) mem_param_181608.mem)[slice_180254];
                            int64_t tmp_180256 = ((int64_t *) mem_param_181611.mem)[slice_180254];
                            double tmp_180257 = ((double *) mem_param_181614.mem)[slice_180254];
                            
                            loopres_180245 = tmp_180249;
                            loopres_180246 = tmp_180255;
                            loopres_180247 = tmp_180256;
                            loopres_180248 = tmp_180257;
                        } else {
                            bool x_180258 = sle64((int64_t) 0, j_180217);
                            bool y_180259 = slt64(j_180217, j_m_i_177481);
                            bool bounds_check_180260 = x_180258 && y_180259;
                            bool index_certs_180261;
                            
                            if (!bounds_check_180260) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180262 = stride_177458 + j_180217;
                            int64_t slice_180263 = start_177532 + slice_180262;
                            int8_t tmp_180264 = ((int8_t *) mem_param_181608.mem)[slice_180263];
                            int64_t tmp_180265 = ((int64_t *) mem_param_181611.mem)[slice_180263];
                            double tmp_180266 = ((double *) mem_param_181614.mem)[slice_180263];
                            
                            loopres_180245 = i_180213;
                            loopres_180246 = tmp_180264;
                            loopres_180247 = tmp_180265;
                            loopres_180248 = tmp_180266;
                        }
                        ((int8_t *) mem_181717.mem)[k_180212] = loopres_180246;
                        ((int64_t *) mem_181719.mem)[k_180212] = loopres_180247;
                        ((double *) mem_181721.mem)[k_180212] = loopres_180248;
                        
                        int64_t i_tmp_182347 = loopres_180245;
                        
                        i_180213 = i_tmp_182347;
                    }
                    data_180208 = i_180213;
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181717, "mem_181717") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181719, "mem_181719") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181721, "mem_181721") != 0)
                        return 1;
                } else {
                    if (mem_181636_cached_sizze_182483 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181636, &mem_181636_cached_sizze_182483, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181638_cached_sizze_182484 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181638, &mem_181638_cached_sizze_182484, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180532 = 0; i_180532 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480; i_180532++) {
                        int64_t split_count_arg3_177633 = mul64(merge_block_sizze_177296, i_180532);
                        int64_t defunc_0_split_count_res_177634;
                        int64_t defunc_0_split_count_res_177635;
                        int64_t defunc_0_split_count_res_177636;
                        int64_t defunc_0_split_count_res_177637;
                        int64_t defunc_0_split_count_res_177638;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_177634, &defunc_0_split_count_res_177635, &defunc_0_split_count_res_177636, &defunc_0_split_count_res_177637, &defunc_0_split_count_res_177638, (int64_t) 0, stride_177458, (int64_t) 0, j_m_i_177481, split_count_arg3_177633) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177639 = slt64((int64_t) 0, defunc_0_split_count_res_177638);
                        bool defunc_0_split_count_res_177640;
                        int64_t defunc_0_split_count_res_177641;
                        int64_t defunc_0_split_count_res_177642;
                        int64_t defunc_0_split_count_res_177643;
                        int64_t defunc_0_split_count_res_177644;
                        int64_t defunc_0_split_count_res_177645;
                        bool loop_while_177646;
                        int64_t ss_177647;
                        int64_t ss_177648;
                        int64_t tt_177649;
                        int64_t tt_177650;
                        int64_t count_177651;
                        
                        loop_while_177646 = loop_cond_177639;
                        ss_177647 = defunc_0_split_count_res_177634;
                        ss_177648 = defunc_0_split_count_res_177635;
                        tt_177649 = defunc_0_split_count_res_177636;
                        tt_177650 = defunc_0_split_count_res_177637;
                        count_177651 = defunc_0_split_count_res_177638;
                        while (loop_while_177646) {
                            int64_t zlze_lhs_177652 = sub64(ss_177648, ss_177647);
                            bool cond_177653 = sle64(zlze_lhs_177652, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177654;
                            int64_t defunc_0_lifted_step_res_177655;
                            int64_t defunc_0_lifted_step_res_177656;
                            int64_t defunc_0_lifted_step_res_177657;
                            
                            if (cond_177653) {
                                int64_t tmp_180270 = add64(tt_177649, count_177651);
                                
                                defunc_0_lifted_step_res_177654 = ss_177647;
                                defunc_0_lifted_step_res_177655 = tmp_180270;
                                defunc_0_lifted_step_res_177656 = tt_177650;
                                defunc_0_lifted_step_res_177657 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177659 = sub64(tt_177650, tt_177649);
                                bool cond_177660 = sle64(zlze_lhs_177659, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177661;
                                int64_t defunc_0_lifted_step_res_f_res_177662;
                                int64_t defunc_0_lifted_step_res_f_res_177663;
                                int64_t defunc_0_lifted_step_res_f_res_177664;
                                
                                if (cond_177660) {
                                    int64_t tmp_180271 = add64(ss_177647, count_177651);
                                    
                                    defunc_0_lifted_step_res_f_res_177661 = tmp_180271;
                                    defunc_0_lifted_step_res_f_res_177662 = tt_177649;
                                    defunc_0_lifted_step_res_f_res_177663 = tt_177650;
                                    defunc_0_lifted_step_res_f_res_177664 = (int64_t) 0;
                                } else {
                                    bool cond_177666 = count_177651 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177667;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177668;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177669;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177670;
                                    
                                    if (cond_177666) {
                                        bool x_180273 = sle64((int64_t) 0, ss_177647);
                                        bool y_180274 = slt64(ss_177647, stride_177458);
                                        bool bounds_check_180275 = x_180273 && y_180274;
                                        bool index_certs_180276;
                                        
                                        if (!bounds_check_180275) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177647, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180281 = sle64((int64_t) 0, tt_177649);
                                        bool y_180282 = slt64(tt_177649, j_m_i_177481);
                                        bool bounds_check_180283 = x_180281 && y_180282;
                                        bool index_certs_180284;
                                        
                                        if (!bounds_check_180283) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177649, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180277 = start_177532 + ss_177647;
                                        int8_t leq_arg1_180278 = ((int8_t *) mem_param_181608.mem)[slice_180277];
                                        int64_t leq_arg1_180279 = ((int64_t *) mem_param_181611.mem)[slice_180277];
                                        double leq_arg1_180280 = ((double *) mem_param_181614.mem)[slice_180277];
                                        int64_t slice_180285 = stride_177458 + tt_177649;
                                        int64_t slice_180286 = start_177532 + slice_180285;
                                        int8_t leq_arg0_180287 = ((int8_t *) mem_param_181608.mem)[slice_180286];
                                        int64_t leq_arg0_180288 = ((int64_t *) mem_param_181611.mem)[slice_180286];
                                        double leq_arg0_180289 = ((double *) mem_param_181614.mem)[slice_180286];
                                        bool cond_180290 = leq_arg0_180287 == leq_arg1_180278;
                                        bool defunc_0_leq_res_t_res_180291 = sle64(leq_arg0_180288, leq_arg1_180279);
                                        bool defunc_0_leq_res_180292 = leq_arg0_180289 <= leq_arg1_180280;
                                        bool x_180293 = cond_180290 && defunc_0_leq_res_t_res_180291;
                                        bool x_180294 = !cond_180290;
                                        bool y_180295 = defunc_0_leq_res_180292 && x_180294;
                                        bool defunc_0_leq_res_180296 = x_180293 || y_180295;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            int64_t tmp_180299 = add64((int64_t) 1, tt_177649);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = ss_177647;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tmp_180299;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, ss_177647);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = tmp_180300;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tt_177649;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = tt_177650;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = (int64_t) 0;
                                    } else {
                                        int64_t m_177699 = sdiv64(count_177651, (int64_t) 2);
                                        int64_t n_177700 = sub64(count_177651, m_177699);
                                        bool cond_177701 = n_177700 == (int64_t) 0;
                                        int64_t zgze_lhs_177702 = add64(ss_177647, m_177699);
                                        bool cond_f_res_177703 = sle64(ss_177648, zgze_lhs_177702);
                                        bool x_177704 = !cond_177701;
                                        bool y_177705 = cond_f_res_177703 && x_177704;
                                        bool cond_177706 = cond_177701 || y_177705;
                                        bool leq_y_x_177707;
                                        
                                        if (cond_177706) {
                                            leq_y_x_177707 = 1;
                                        } else {
                                            bool x_177708 = sle64((int64_t) 0, zgze_lhs_177702);
                                            bool y_177709 = slt64(zgze_lhs_177702, stride_177458);
                                            bool bounds_check_177710 = x_177708 && y_177709;
                                            bool index_certs_177711;
                                            
                                            if (!bounds_check_177710) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177702, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177716 = add64(tt_177649, n_177700);
                                            int64_t leq_arg0_177717 = sub64(zm_lhs_177716, (int64_t) 1);
                                            bool x_177718 = sle64((int64_t) 0, leq_arg0_177717);
                                            bool y_177719 = slt64(leq_arg0_177717, j_m_i_177481);
                                            bool bounds_check_177720 = x_177718 && y_177719;
                                            bool index_certs_177721;
                                            
                                            if (!bounds_check_177720) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177717, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177712 = start_177532 + zgze_lhs_177702;
                                            int8_t leq_arg1_177713 = ((int8_t *) mem_param_181608.mem)[slice_177712];
                                            int64_t leq_arg1_177714 = ((int64_t *) mem_param_181611.mem)[slice_177712];
                                            double leq_arg1_177715 = ((double *) mem_param_181614.mem)[slice_177712];
                                            int64_t slice_177722 = stride_177458 + leq_arg0_177717;
                                            int64_t slice_177723 = start_177532 + slice_177722;
                                            int8_t leq_arg0_177724 = ((int8_t *) mem_param_181608.mem)[slice_177723];
                                            int64_t leq_arg0_177725 = ((int64_t *) mem_param_181611.mem)[slice_177723];
                                            double leq_arg0_177726 = ((double *) mem_param_181614.mem)[slice_177723];
                                            bool cond_177727 = leq_arg0_177724 == leq_arg1_177713;
                                            bool defunc_0_leq_res_t_res_177728 = sle64(leq_arg0_177725, leq_arg1_177714);
                                            bool defunc_0_leq_res_177729 = leq_arg0_177726 <= leq_arg1_177715;
                                            bool x_177730 = cond_177727 && defunc_0_leq_res_t_res_177728;
                                            bool x_177731 = !cond_177727;
                                            bool y_177732 = defunc_0_leq_res_177729 && x_177731;
                                            bool defunc_0_leq_res_177733 = x_177730 || y_177732;
                                            
                                            leq_y_x_177707 = defunc_0_leq_res_177733;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                        
                                        if (leq_y_x_177707) {
                                            int64_t tmp_180301 = add64(tt_177649, n_177700);
                                            int64_t tmp_180302 = sub64(count_177651, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tmp_180301;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tt_177650;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = tmp_180302;
                                        } else {
                                            int64_t tmp_177739 = add64(tt_177649, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tt_177649;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tmp_177739;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = count_177651;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = ss_177647;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                    }
                                    defunc_0_lifted_step_res_f_res_177661 = defunc_0_lifted_step_res_f_res_f_res_177667;
                                    defunc_0_lifted_step_res_f_res_177662 = defunc_0_lifted_step_res_f_res_f_res_177668;
                                    defunc_0_lifted_step_res_f_res_177663 = defunc_0_lifted_step_res_f_res_f_res_177669;
                                    defunc_0_lifted_step_res_f_res_177664 = defunc_0_lifted_step_res_f_res_f_res_177670;
                                }
                                defunc_0_lifted_step_res_177654 = defunc_0_lifted_step_res_f_res_177661;
                                defunc_0_lifted_step_res_177655 = defunc_0_lifted_step_res_f_res_177662;
                                defunc_0_lifted_step_res_177656 = defunc_0_lifted_step_res_f_res_177663;
                                defunc_0_lifted_step_res_177657 = defunc_0_lifted_step_res_f_res_177664;
                            }
                            
                            int64_t loopres_177740;
                            int64_t loopres_177741;
                            int64_t loopres_177742;
                            int64_t loopres_177743;
                            int64_t loopres_177744;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_177740, &loopres_177741, &loopres_177742, &loopres_177743, &loopres_177744, defunc_0_lifted_step_res_177654, ss_177648, defunc_0_lifted_step_res_177655, defunc_0_lifted_step_res_177656, defunc_0_lifted_step_res_177657) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177745 = slt64((int64_t) 0, loopres_177744);
                            bool loop_while_tmp_182353 = loop_cond_177745;
                            int64_t ss_tmp_182354 = loopres_177740;
                            int64_t ss_tmp_182355 = loopres_177741;
                            int64_t tt_tmp_182356 = loopres_177742;
                            int64_t tt_tmp_182357 = loopres_177743;
                            int64_t count_tmp_182358 = loopres_177744;
                            
                            loop_while_177646 = loop_while_tmp_182353;
                            ss_177647 = ss_tmp_182354;
                            ss_177648 = ss_tmp_182355;
                            tt_177649 = tt_tmp_182356;
                            tt_177650 = tt_tmp_182357;
                            count_177651 = count_tmp_182358;
                        }
                        defunc_0_split_count_res_177640 = loop_while_177646;
                        defunc_0_split_count_res_177641 = ss_177647;
                        defunc_0_split_count_res_177642 = ss_177648;
                        defunc_0_split_count_res_177643 = tt_177649;
                        defunc_0_split_count_res_177644 = tt_177650;
                        defunc_0_split_count_res_177645 = count_177651;
                        ((int64_t *) mem_181636)[i_180532] = defunc_0_split_count_res_177641;
                        ((int64_t *) mem_181638)[i_180532] = defunc_0_split_count_res_177643;
                    }
                    if (mem_181652_cached_sizze_182485 < flat_dim_177482) {
                        err = lexical_realloc(ctx, &mem_181652, &mem_181652_cached_sizze_182485, flat_dim_177482);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181655_cached_sizze_182486 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181655, &mem_181655_cached_sizze_182486, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181658_cached_sizze_182487 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181658, &mem_181658_cached_sizze_182487, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180541 = 0; i_180541 < num_blocks_177479; i_180541++) {
                        bool y_177752 = slt64(i_180541, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool index_certs_177754;
                        
                        if (!y_177752) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177755 = ((int64_t *) mem_181636)[i_180541];
                        int64_t defunc_0_f_res_177756 = ((int64_t *) mem_181638)[i_180541];
                        int64_t tmp_177757 = add64((int64_t) 1, i_180541);
                        bool x_177758 = sle64((int64_t) 0, tmp_177757);
                        bool y_177759 = slt64(tmp_177757, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool bounds_check_177760 = x_177758 && y_177759;
                        bool index_certs_177761;
                        
                        if (!bounds_check_177760) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177762 = ((int64_t *) mem_181636)[tmp_177757];
                        int64_t defunc_0_f_res_177763 = ((int64_t *) mem_181638)[tmp_177757];
                        int64_t merge_sequential_arg2_177764 = add64(stride_177458, defunc_0_f_res_177756);
                        int64_t merge_sequential_arg2_177765 = add64(stride_177458, defunc_0_f_res_177763);
                        int64_t j_m_i_177766 = sub64(merge_sequential_arg2_177765, merge_sequential_arg2_177764);
                        bool empty_slice_177767 = j_m_i_177766 == (int64_t) 0;
                        int64_t m_177768 = sub64(j_m_i_177766, (int64_t) 1);
                        int64_t i_p_m_t_s_177769 = add64(merge_sequential_arg2_177764, m_177768);
                        bool zzero_leq_i_p_m_t_s_177770 = sle64((int64_t) 0, i_p_m_t_s_177769);
                        bool i_p_m_t_s_leq_w_177771 = slt64(i_p_m_t_s_177769, next_stride_177459);
                        bool zzero_lte_i_177772 = sle64((int64_t) 0, merge_sequential_arg2_177764);
                        bool i_lte_j_177773 = sle64(merge_sequential_arg2_177764, merge_sequential_arg2_177765);
                        bool y_177774 = i_p_m_t_s_leq_w_177771 && zzero_lte_i_177772;
                        bool y_177775 = zzero_leq_i_p_m_t_s_177770 && y_177774;
                        bool forwards_ok_177776 = i_lte_j_177773 && y_177775;
                        bool ok_or_empty_177777 = empty_slice_177767 || forwards_ok_177776;
                        bool index_certs_177778;
                        
                        if (!ok_or_empty_177777) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177764, ":", (long long) merge_sequential_arg2_177765, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177779 = sub64(defunc_0_f_res_177762, defunc_0_f_res_177755);
                        bool empty_slice_177780 = j_m_i_177779 == (int64_t) 0;
                        int64_t m_177781 = sub64(j_m_i_177779, (int64_t) 1);
                        int64_t i_p_m_t_s_177782 = add64(defunc_0_f_res_177755, m_177781);
                        bool zzero_leq_i_p_m_t_s_177783 = sle64((int64_t) 0, i_p_m_t_s_177782);
                        bool i_p_m_t_s_leq_w_177784 = slt64(i_p_m_t_s_177782, next_stride_177459);
                        bool zzero_lte_i_177785 = sle64((int64_t) 0, defunc_0_f_res_177755);
                        bool i_lte_j_177786 = sle64(defunc_0_f_res_177755, defunc_0_f_res_177762);
                        bool y_177787 = i_p_m_t_s_leq_w_177784 && zzero_lte_i_177785;
                        bool y_177788 = zzero_leq_i_p_m_t_s_177783 && y_177787;
                        bool forwards_ok_177789 = i_lte_j_177786 && y_177788;
                        bool ok_or_empty_177790 = empty_slice_177780 || forwards_ok_177789;
                        bool index_certs_177791;
                        
                        if (!ok_or_empty_177790) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177755, ":", (long long) defunc_0_f_res_177762, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177792 = slt64((int64_t) 0, j_m_i_177779);
                        int8_t dummy_177793;
                        int64_t dummy_177794;
                        double dummy_177795;
                        
                        if (cond_177792) {
                            bool index_certs_180303;
                            
                            if (!cond_177792) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180304 = start_177532 + defunc_0_f_res_177755;
                            int8_t head_res_180305 = ((int8_t *) mem_param_181608.mem)[slice_180304];
                            int64_t head_res_180306 = ((int64_t *) mem_param_181611.mem)[slice_180304];
                            double head_res_180307 = ((double *) mem_param_181614.mem)[slice_180304];
                            
                            dummy_177793 = head_res_180305;
                            dummy_177794 = head_res_180306;
                            dummy_177795 = head_res_180307;
                        } else {
                            bool y_177801 = slt64((int64_t) 0, j_m_i_177766);
                            bool index_certs_177802;
                            
                            if (!y_177801) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177803 = start_177532 + merge_sequential_arg2_177764;
                            int8_t head_res_177804 = ((int8_t *) mem_param_181608.mem)[slice_177803];
                            int64_t head_res_177805 = ((int64_t *) mem_param_181611.mem)[slice_177803];
                            double head_res_177806 = ((double *) mem_param_181614.mem)[slice_177803];
                            
                            dummy_177793 = head_res_177804;
                            dummy_177794 = head_res_177805;
                            dummy_177795 = head_res_177806;
                        }
                        for (int64_t nest_i_182362 = 0; nest_i_182362 < merge_block_sizze_177296; nest_i_182362++) {
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + nest_i_182362] = dummy_177793;
                        }
                        for (int64_t nest_i_182363 = 0; nest_i_182363 < merge_block_sizze_177296; nest_i_182363++) {
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + nest_i_182363] = dummy_177794;
                        }
                        for (int64_t nest_i_182364 = 0; nest_i_182364 < merge_block_sizze_177296; nest_i_182364++) {
                            ((double *) mem_181658)[i_180541 * merge_block_sizze_177296 + nest_i_182364] = dummy_177795;
                        }
                        
                        int64_t data_177810;
                        int64_t i_177815 = (int64_t) 0;
                        
                        for (int64_t k_177814 = 0; k_177814 < merge_block_sizze_177296; k_177814++) {
                            int64_t j_177819 = sub64(k_177814, i_177815);
                            bool cond_177820 = j_177819 == j_m_i_177766;
                            bool cond_177821;
                            
                            if (cond_177820) {
                                cond_177821 = 1;
                            } else {
                                bool cond_177822 = slt64(i_177815, j_m_i_177779);
                                bool cond_f_res_177823;
                                
                                if (cond_177822) {
                                    bool x_180308 = sle64((int64_t) 0, j_177819);
                                    bool y_180309 = slt64(j_177819, j_m_i_177766);
                                    bool bounds_check_180310 = x_180308 && y_180309;
                                    bool index_certs_180311;
                                    
                                    if (!bounds_check_180310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180317 = sle64((int64_t) 0, i_177815);
                                    bool bounds_check_180318 = cond_177822 && x_180317;
                                    bool index_certs_180319;
                                    
                                    if (!bounds_check_180318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180312 = merge_sequential_arg2_177764 + j_177819;
                                    int64_t slice_180313 = start_177532 + slice_180312;
                                    int8_t leq_arg1_180314 = ((int8_t *) mem_param_181608.mem)[slice_180313];
                                    int64_t leq_arg1_180315 = ((int64_t *) mem_param_181611.mem)[slice_180313];
                                    double leq_arg1_180316 = ((double *) mem_param_181614.mem)[slice_180313];
                                    int64_t slice_180320 = defunc_0_f_res_177755 + i_177815;
                                    int64_t slice_180321 = start_177532 + slice_180320;
                                    int8_t leq_arg0_180322 = ((int8_t *) mem_param_181608.mem)[slice_180321];
                                    int64_t leq_arg0_180323 = ((int64_t *) mem_param_181611.mem)[slice_180321];
                                    double leq_arg0_180324 = ((double *) mem_param_181614.mem)[slice_180321];
                                    bool cond_180325 = leq_arg0_180322 == leq_arg1_180314;
                                    bool defunc_0_leq_res_t_res_180326 = sle64(leq_arg0_180323, leq_arg1_180315);
                                    bool defunc_0_leq_res_180327 = leq_arg0_180324 <= leq_arg1_180316;
                                    bool x_180328 = cond_180325 && defunc_0_leq_res_t_res_180326;
                                    bool x_180329 = !cond_180325;
                                    bool y_180330 = defunc_0_leq_res_180327 && x_180329;
                                    bool defunc_0_leq_res_180331 = x_180328 || y_180330;
                                    
                                    cond_f_res_177823 = defunc_0_leq_res_180331;
                                } else {
                                    cond_f_res_177823 = 0;
                                }
                                cond_177821 = cond_f_res_177823;
                            }
                            
                            int64_t loopres_177848;
                            int8_t loopres_177849;
                            int64_t loopres_177850;
                            double loopres_177851;
                            
                            if (cond_177821) {
                                bool x_180333 = sle64((int64_t) 0, i_177815);
                                bool y_180334 = slt64(i_177815, j_m_i_177779);
                                bool bounds_check_180335 = x_180333 && y_180334;
                                bool index_certs_180336;
                                
                                if (!bounds_check_180335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180332 = add64((int64_t) 1, i_177815);
                                int64_t slice_180337 = defunc_0_f_res_177755 + i_177815;
                                int64_t slice_180338 = start_177532 + slice_180337;
                                int8_t tmp_180339 = ((int8_t *) mem_param_181608.mem)[slice_180338];
                                int64_t tmp_180340 = ((int64_t *) mem_param_181611.mem)[slice_180338];
                                double tmp_180341 = ((double *) mem_param_181614.mem)[slice_180338];
                                
                                loopres_177848 = tmp_180332;
                                loopres_177849 = tmp_180339;
                                loopres_177850 = tmp_180340;
                                loopres_177851 = tmp_180341;
                            } else {
                                bool x_177862 = sle64((int64_t) 0, j_177819);
                                bool y_177863 = slt64(j_177819, j_m_i_177766);
                                bool bounds_check_177864 = x_177862 && y_177863;
                                bool index_certs_177865;
                                
                                if (!bounds_check_177864) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177866 = merge_sequential_arg2_177764 + j_177819;
                                int64_t slice_177867 = start_177532 + slice_177866;
                                int8_t tmp_177868 = ((int8_t *) mem_param_181608.mem)[slice_177867];
                                int64_t tmp_177869 = ((int64_t *) mem_param_181611.mem)[slice_177867];
                                double tmp_177870 = ((double *) mem_param_181614.mem)[slice_177867];
                                
                                loopres_177848 = i_177815;
                                loopres_177849 = tmp_177868;
                                loopres_177850 = tmp_177869;
                                loopres_177851 = tmp_177870;
                            }
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177849;
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177850;
                            ((double *) mem_181658)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177851;
                            
                            int64_t i_tmp_182365 = loopres_177848;
                            
                            i_177815 = i_tmp_182365;
                        }
                        data_177810 = i_177815;
                    }
                    if (memblock_alloc(ctx, &mem_181707, flat_dim_177482, "mem_181707")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181707.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint8_t *) mem_181652, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181711, bytes_181654, "mem_181711")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181711.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181655, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181715, bytes_181654, "mem_181715")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181715.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181658, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181707, "mem_181707") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181711, "mem_181711") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181715, "mem_181715") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181616, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181619, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181745.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181622, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181742.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181762, bytes_181615, "mem_181762")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181762.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint8_t *) mem_181616, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181766, bytes_181618, "mem_181766")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181766.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181619, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181770, bytes_181618, "mem_181770")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181770.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181622, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            
            bool loop_cond_177884 = slt64(next_stride_177459, flat_dim_177291);
            
            if (memblock_set(ctx, &mem_param_tmp_182332, &mem_181762, "mem_181762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182333, &mem_181766, "mem_181766") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182334, &mem_181770, "mem_181770") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182335 = bytes_181615;
            bool loop_while_tmp_182336 = loop_cond_177884;
            int64_t stride_tmp_182340 = next_stride_177459;
            
            if (memblock_set(ctx, &mem_param_181608, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181611, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181614, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
                return 1;
            loop_dz2084Uz2082U_177453 = loop_dz2084Uz2082U_tmp_182335;
            loop_while_177454 = loop_while_tmp_182336;
            stride_177458 = stride_tmp_182340;
        }
        if (memblock_set(ctx, &ext_mem_181780, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181779, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181778, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        data_177447 = loop_dz2084Uz2082U_177453;
        data_177448 = loop_while_177454;
        data_177452 = stride_177458;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177887 = slt64(zs_lhs_177275, data_177447);
        bool y_177888 = i_p_m_t_s_leq_w_177887 && zzero_leq_i_p_m_t_s_177901;
        bool ok_or_empty_177889 = y_177888 || empty_slice_177899;
        bool index_certs_177890;
        
        if (!ok_or_empty_177889) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) data_177447, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181789, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180700.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181786.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181783.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180700, "mem_180700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182112, &mem_180702, "mem_180702") != 0)
        return 1;
    prim_out_182113 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    if (memblock_set(ctx, &*mem_out_p_182434, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182435, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182436, &mem_out_182112, "mem_out_182112") != 0)
        return 1;
    *out_prim_out_182437 = prim_out_182113;
    
  cleanup:
    {
        free(mem_180713);
        free(mem_180715);
        free(mem_180754);
        free(mem_180757);
        free(mem_180760);
        free(mem_180773);
        free(mem_180775);
        free(mem_180777);
        free(mem_180874);
        free(mem_180877);
        free(mem_180880);
        free(mem_180894);
        free(mem_180896);
        free(mem_180910);
        free(mem_180913);
        free(mem_180916);
        free(mem_181058);
        free(mem_181060);
        free(mem_181075);
        free(mem_181077);
        free(mem_181080);
        free(mem_181083);
        free(mem_181117);
        free(mem_181120);
        free(mem_181123);
        free(mem_181136);
        free(mem_181138);
        free(mem_181140);
        free(mem_181237);
        free(mem_181240);
        free(mem_181243);
        free(mem_181257);
        free(mem_181259);
        free(mem_181273);
        free(mem_181276);
        free(mem_181279);
        free(mem_181496);
        free(mem_181499);
        free(mem_181502);
        free(mem_181515);
        free(mem_181517);
        free(mem_181519);
        free(mem_181616);
        free(mem_181619);
        free(mem_181622);
        free(mem_181636);
        free(mem_181638);
        free(mem_181652);
        free(mem_181655);
        free(mem_181658);
        if (memblock_unref(ctx, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181770, "mem_181770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181766, "mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181762, "mem_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181715, "mem_181715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181711, "mem_181711") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181707, "mem_181707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181721, "mem_181721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181717, "mem_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181028, "mem_181028") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181024, "mem_181024") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180973, "mem_180973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180969, "mem_180969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180965, "mem_180965") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180979, "mem_180979") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180977, "mem_180977") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180872, "mem_param_180872") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180869, "mem_param_180869") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180866, "mem_param_180866") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181036, "ext_mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181037, "ext_mem_181037") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180732, "mem_180732") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180730, "mem_180730") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181439, "mem_181439") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181438, "mem_181438") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181436, "mem_181436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181391, "mem_181391") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181387, "mem_181387") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181383, "mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181336, "mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181332, "mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181328, "mem_181328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181342, "mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181340, "mem_181340") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181338, "mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181235, "mem_param_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181232, "mem_param_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181229, "mem_param_181229") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181399, "ext_mem_181399") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181401, "ext_mem_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180702, "mem_180702") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180700, "mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182112, "mem_out_182112") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182488, struct memblock *mem_out_p_182489, struct memblock *mem_out_p_182490, int64_t *out_prim_out_182491, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_152417, int64_t nb_152418, int64_t window_sizze_152419, int64_t threads_152420, bool inParallel_152423)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180713_cached_sizze_182492 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182493 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180754_cached_sizze_182494 = 0;
    unsigned char *mem_180754 = NULL;
    int64_t mem_180757_cached_sizze_182495 = 0;
    unsigned char *mem_180757 = NULL;
    int64_t mem_180760_cached_sizze_182496 = 0;
    unsigned char *mem_180760 = NULL;
    int64_t mem_180773_cached_sizze_182497 = 0;
    unsigned char *mem_180773 = NULL;
    int64_t mem_180775_cached_sizze_182498 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180777_cached_sizze_182499 = 0;
    unsigned char *mem_180777 = NULL;
    int64_t mem_180874_cached_sizze_182500 = 0;
    unsigned char *mem_180874 = NULL;
    int64_t mem_180877_cached_sizze_182501 = 0;
    unsigned char *mem_180877 = NULL;
    int64_t mem_180880_cached_sizze_182502 = 0;
    unsigned char *mem_180880 = NULL;
    int64_t mem_180894_cached_sizze_182503 = 0;
    unsigned char *mem_180894 = NULL;
    int64_t mem_180896_cached_sizze_182504 = 0;
    unsigned char *mem_180896 = NULL;
    int64_t mem_180910_cached_sizze_182505 = 0;
    unsigned char *mem_180910 = NULL;
    int64_t mem_180913_cached_sizze_182506 = 0;
    unsigned char *mem_180913 = NULL;
    int64_t mem_180916_cached_sizze_182507 = 0;
    unsigned char *mem_180916 = NULL;
    int64_t mem_181058_cached_sizze_182508 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181060_cached_sizze_182509 = 0;
    unsigned char *mem_181060 = NULL;
    int64_t mem_181075_cached_sizze_182510 = 0;
    unsigned char *mem_181075 = NULL;
    int64_t mem_181077_cached_sizze_182511 = 0;
    unsigned char *mem_181077 = NULL;
    int64_t mem_181080_cached_sizze_182512 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182513 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181117_cached_sizze_182514 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_182515 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182516 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181136_cached_sizze_182517 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_182518 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181140_cached_sizze_182519 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181237_cached_sizze_182520 = 0;
    unsigned char *mem_181237 = NULL;
    int64_t mem_181240_cached_sizze_182521 = 0;
    unsigned char *mem_181240 = NULL;
    int64_t mem_181243_cached_sizze_182522 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181257_cached_sizze_182523 = 0;
    unsigned char *mem_181257 = NULL;
    int64_t mem_181259_cached_sizze_182524 = 0;
    unsigned char *mem_181259 = NULL;
    int64_t mem_181273_cached_sizze_182525 = 0;
    unsigned char *mem_181273 = NULL;
    int64_t mem_181276_cached_sizze_182526 = 0;
    unsigned char *mem_181276 = NULL;
    int64_t mem_181279_cached_sizze_182527 = 0;
    unsigned char *mem_181279 = NULL;
    int64_t mem_181496_cached_sizze_182528 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181499_cached_sizze_182529 = 0;
    unsigned char *mem_181499 = NULL;
    int64_t mem_181502_cached_sizze_182530 = 0;
    unsigned char *mem_181502 = NULL;
    int64_t mem_181515_cached_sizze_182531 = 0;
    unsigned char *mem_181515 = NULL;
    int64_t mem_181517_cached_sizze_182532 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181519_cached_sizze_182533 = 0;
    unsigned char *mem_181519 = NULL;
    int64_t mem_181616_cached_sizze_182534 = 0;
    unsigned char *mem_181616 = NULL;
    int64_t mem_181619_cached_sizze_182535 = 0;
    unsigned char *mem_181619 = NULL;
    int64_t mem_181622_cached_sizze_182536 = 0;
    unsigned char *mem_181622 = NULL;
    int64_t mem_181636_cached_sizze_182537 = 0;
    unsigned char *mem_181636 = NULL;
    int64_t mem_181638_cached_sizze_182538 = 0;
    unsigned char *mem_181638 = NULL;
    int64_t mem_181652_cached_sizze_182539 = 0;
    unsigned char *mem_181652 = NULL;
    int64_t mem_181655_cached_sizze_182540 = 0;
    unsigned char *mem_181655 = NULL;
    int64_t mem_181658_cached_sizze_182541 = 0;
    unsigned char *mem_181658 = NULL;
    struct memblock mem_param_tmp_182334;
    
    mem_param_tmp_182334.references = NULL;
    
    struct memblock mem_param_tmp_182333;
    
    mem_param_tmp_182333.references = NULL;
    
    struct memblock mem_param_tmp_182332;
    
    mem_param_tmp_182332.references = NULL;
    
    struct memblock mem_181770;
    
    mem_181770.references = NULL;
    
    struct memblock mem_181766;
    
    mem_181766.references = NULL;
    
    struct memblock mem_181762;
    
    mem_181762.references = NULL;
    
    struct memblock mem_181715;
    
    mem_181715.references = NULL;
    
    struct memblock mem_181711;
    
    mem_181711.references = NULL;
    
    struct memblock mem_181707;
    
    mem_181707.references = NULL;
    
    struct memblock mem_181721;
    
    mem_181721.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181717;
    
    mem_181717.references = NULL;
    
    struct memblock ext_mem_181742;
    
    ext_mem_181742.references = NULL;
    
    struct memblock ext_mem_181745;
    
    ext_mem_181745.references = NULL;
    
    struct memblock ext_mem_181748;
    
    ext_mem_181748.references = NULL;
    
    struct memblock mem_param_181614;
    
    mem_param_181614.references = NULL;
    
    struct memblock mem_param_181611;
    
    mem_param_181611.references = NULL;
    
    struct memblock mem_param_181608;
    
    mem_param_181608.references = NULL;
    
    struct memblock ext_mem_181778;
    
    ext_mem_181778.references = NULL;
    
    struct memblock ext_mem_181779;
    
    ext_mem_181779.references = NULL;
    
    struct memblock ext_mem_181780;
    
    ext_mem_181780.references = NULL;
    
    struct memblock mem_181604;
    
    mem_181604.references = NULL;
    
    struct memblock mem_181600;
    
    mem_181600.references = NULL;
    
    struct memblock mem_181596;
    
    mem_181596.references = NULL;
    
    struct memblock ext_mem_181783;
    
    ext_mem_181783.references = NULL;
    
    struct memblock ext_mem_181786;
    
    ext_mem_181786.references = NULL;
    
    struct memblock ext_mem_181789;
    
    ext_mem_181789.references = NULL;
    
    struct memblock mem_181494;
    
    mem_181494.references = NULL;
    
    struct memblock mem_181492;
    
    mem_181492.references = NULL;
    
    struct memblock mem_181490;
    
    mem_181490.references = NULL;
    
    struct memblock mem_param_tmp_182268;
    
    mem_param_tmp_182268.references = NULL;
    
    struct memblock mem_param_tmp_182267;
    
    mem_param_tmp_182267.references = NULL;
    
    struct memblock mem_param_tmp_182266;
    
    mem_param_tmp_182266.references = NULL;
    
    struct memblock mem_181028;
    
    mem_181028.references = NULL;
    
    struct memblock mem_181024;
    
    mem_181024.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_180973;
    
    mem_180973.references = NULL;
    
    struct memblock mem_180969;
    
    mem_180969.references = NULL;
    
    struct memblock mem_180965;
    
    mem_180965.references = NULL;
    
    struct memblock mem_180979;
    
    mem_180979.references = NULL;
    
    struct memblock mem_180977;
    
    mem_180977.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock ext_mem_181000;
    
    ext_mem_181000.references = NULL;
    
    struct memblock ext_mem_181003;
    
    ext_mem_181003.references = NULL;
    
    struct memblock ext_mem_181006;
    
    ext_mem_181006.references = NULL;
    
    struct memblock mem_param_180872;
    
    mem_param_180872.references = NULL;
    
    struct memblock mem_param_180869;
    
    mem_param_180869.references = NULL;
    
    struct memblock mem_param_180866;
    
    mem_param_180866.references = NULL;
    
    struct memblock ext_mem_181036;
    
    ext_mem_181036.references = NULL;
    
    struct memblock ext_mem_181037;
    
    ext_mem_181037.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_180862;
    
    mem_180862.references = NULL;
    
    struct memblock mem_180858;
    
    mem_180858.references = NULL;
    
    struct memblock mem_180854;
    
    mem_180854.references = NULL;
    
    struct memblock ext_mem_181041;
    
    ext_mem_181041.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock mem_180752;
    
    mem_180752.references = NULL;
    
    struct memblock mem_180750;
    
    mem_180750.references = NULL;
    
    struct memblock mem_180748;
    
    mem_180748.references = NULL;
    
    struct memblock mem_180732;
    
    mem_180732.references = NULL;
    
    struct memblock mem_180730;
    
    mem_180730.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_181439;
    
    mem_181439.references = NULL;
    
    struct memblock mem_181438;
    
    mem_181438.references = NULL;
    
    struct memblock mem_181436;
    
    mem_181436.references = NULL;
    
    struct memblock mem_param_tmp_182174;
    
    mem_param_tmp_182174.references = NULL;
    
    struct memblock mem_param_tmp_182173;
    
    mem_param_tmp_182173.references = NULL;
    
    struct memblock mem_param_tmp_182172;
    
    mem_param_tmp_182172.references = NULL;
    
    struct memblock mem_181391;
    
    mem_181391.references = NULL;
    
    struct memblock mem_181387;
    
    mem_181387.references = NULL;
    
    struct memblock mem_181383;
    
    mem_181383.references = NULL;
    
    struct memblock mem_181336;
    
    mem_181336.references = NULL;
    
    struct memblock mem_181332;
    
    mem_181332.references = NULL;
    
    struct memblock mem_181328;
    
    mem_181328.references = NULL;
    
    struct memblock mem_181342;
    
    mem_181342.references = NULL;
    
    struct memblock mem_181340;
    
    mem_181340.references = NULL;
    
    struct memblock mem_181338;
    
    mem_181338.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181366;
    
    ext_mem_181366.references = NULL;
    
    struct memblock ext_mem_181369;
    
    ext_mem_181369.references = NULL;
    
    struct memblock mem_param_181235;
    
    mem_param_181235.references = NULL;
    
    struct memblock mem_param_181232;
    
    mem_param_181232.references = NULL;
    
    struct memblock mem_param_181229;
    
    mem_param_181229.references = NULL;
    
    struct memblock ext_mem_181399;
    
    ext_mem_181399.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181401;
    
    ext_mem_181401.references = NULL;
    
    struct memblock mem_181225;
    
    mem_181225.references = NULL;
    
    struct memblock mem_181221;
    
    mem_181221.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock ext_mem_181404;
    
    ext_mem_181404.references = NULL;
    
    struct memblock ext_mem_181407;
    
    ext_mem_181407.references = NULL;
    
    struct memblock ext_mem_181410;
    
    ext_mem_181410.references = NULL;
    
    struct memblock mem_181115;
    
    mem_181115.references = NULL;
    
    struct memblock mem_181113;
    
    mem_181113.references = NULL;
    
    struct memblock mem_181111;
    
    mem_181111.references = NULL;
    
    struct memblock ext_mem_181460;
    
    ext_mem_181460.references = NULL;
    
    struct memblock ext_mem_181463;
    
    ext_mem_181463.references = NULL;
    
    struct memblock ext_mem_181466;
    
    ext_mem_181466.references = NULL;
    
    struct memblock mem_180702;
    
    mem_180702.references = NULL;
    
    struct memblock mem_180700;
    
    mem_180700.references = NULL;
    
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t prim_out_182113;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185 = add64(na_152417, nb_152418);
    
    if (memblock_alloc(ctx, &mem_180698, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182114 = 0; nest_i_182114 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182114++) {
        ((int8_t *) mem_180698.mem)[nest_i_182114] = (int8_t) -1;
    }
    
    int64_t bytes_180699 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180700, bytes_180699, "mem_180700")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182115 = 0; nest_i_182115 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182115++) {
        ((int64_t *) mem_180700.mem)[nest_i_182115] = (int64_t) -1;
    }
    
    int64_t bytes_180701 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180702, bytes_180701, "mem_180702")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182116 = 0; nest_i_182116 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182116++) {
        ((float *) mem_180702.mem)[nest_i_182116] = 0.0F;
    }
    
    int64_t zl_rhs_175189 = sub64(na_152417, window_sizze_152419);
    bool cond_175190 = slt64((int64_t) 0, zl_rhs_175189);
    int64_t zl_rhs_175191 = sub64(nb_152418, window_sizze_152419);
    bool loop_cond_t_res_175192 = slt64((int64_t) 0, zl_rhs_175191);
    bool x_175193 = cond_175190 && loop_cond_t_res_175192;
    bool empty_slice_175194 = window_sizze_152419 == (int64_t) 0;
    int64_t m_175195 = sub64(window_sizze_152419, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220 = add64((int64_t) 1, threads_152420);
    int64_t partitionFunc_arg0_176221 = mul64((int64_t) 2, threads_152420);
    bool y_176223 = slt64((int64_t) 0, window_sizze_152419);
    bool loop_cond_176469 = slt64((int64_t) 0, threads_152420);
    bool zzero_175240 = threads_152420 == (int64_t) 0;
    bool nonzzero_175241 = !zzero_175240;
    bool loop_not_taken_177998 = !inParallel_152423;
    bool protect_assert_disj_177999 = nonzzero_175241 || loop_not_taken_177998;
    bool loop_not_taken_178088 = !x_175193;
    bool protect_assert_disj_178089 = protect_assert_disj_177999 || loop_not_taken_178088;
    bool nonzzero_cert_175242;
    
    if (!protect_assert_disj_178089) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175243 = sdiv_safe64(window_sizze_152419, threads_152420);
    int64_t perThread_175244 = add64((int64_t) 1, zp_rhs_175243);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245 = mul64(threads_152420, perThread_175244);
    bool protect_assert_disj_178135 = inParallel_152423 || y_176223;
    bool protect_assert_disj_178139 = loop_not_taken_178088 || protect_assert_disj_178135;
    bool index_certs_176224;
    
    if (!protect_assert_disj_178139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176239 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, (int64_t) 1);
    bool y_177196 = slt64(threads_152420, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
    bool protect_assert_disj_178104 = y_176223 || loop_not_taken_177998;
    bool protect_assert_disj_178143 = loop_not_taken_178088 || protect_assert_disj_178104;
    bool index_certs_175248;
    
    if (!protect_assert_disj_178143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176241 = !bounds_invalid_upwards_176239;
    bool protect_assert_disj_178151 = inParallel_152423 || y_177196;
    bool protect_assert_disj_178153 = loop_not_taken_178088 || protect_assert_disj_178151;
    bool index_certs_177198;
    
    if (!protect_assert_disj_178153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152420, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178147 = y_177196 || loop_not_taken_177998;
    bool protect_assert_disj_178155 = loop_not_taken_178088 || protect_assert_disj_178147;
    bool index_certs_176202;
    
    if (!protect_assert_disj_178155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152420, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178163 = inParallel_152423 || valid_176241;
    bool protect_assert_disj_178165 = loop_not_taken_178088 || protect_assert_disj_178163;
    bool range_valid_c_176242;
    
    if (!protect_assert_disj_178165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178007 = sle64((int64_t) 1, threads_152420);
    bool protect_assert_disj_178159 = valid_176241 || loop_not_taken_177998;
    bool protect_assert_disj_178167 = loop_not_taken_178088 || protect_assert_disj_178159;
    bool range_valid_c_175255;
    
    if (!protect_assert_disj_178167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176244 = add64(window_sizze_152419, window_sizze_152419);
    bool zzero_176245 = partitionFunc_arg0_176221 == (int64_t) 0;
    int64_t index_concat_i_178008 = sub64(threads_152420, (int64_t) 1);
    bool nonzzero_176246 = !zzero_176245;
    bool protect_assert_disj_178175 = inParallel_152423 || nonzzero_176246;
    bool protect_assert_disj_178181 = loop_not_taken_178088 || protect_assert_disj_178175;
    bool nonzzero_cert_176247;
    
    if (!protect_assert_disj_178181) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178171 = nonzzero_176246 || loop_not_taken_177998;
    bool protect_assert_disj_178187 = loop_not_taken_178088 || protect_assert_disj_178171;
    bool nonzzero_cert_175260;
    
    if (!protect_assert_disj_178187) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180712 = (int64_t) 8 * threads_152420;
    int64_t bytes_180729 = (int64_t) 8 * window_sizze_152419;
    int64_t bytes_180731 = (int64_t) 4 * window_sizze_152419;
    int64_t bytes_181074 = perThread_175244 * bytes_180712;
    int64_t binop_x_181081 = (int64_t) 4 * threads_152420;
    int64_t bytes_181082 = perThread_175244 * binop_x_181081;
    bool defunc_0_merge_pipeline_res_175196;
    int64_t defunc_0_merge_pipeline_res_175200;
    int64_t defunc_0_merge_pipeline_res_175201;
    bool loop_while_175202;
    int64_t p_175206;
    int64_t p_175207;
    
    loop_while_175202 = x_175193;
    p_175206 = (int64_t) 0;
    p_175207 = (int64_t) 0;
    while (loop_while_175202) {
        int64_t ubs_175208 = add64(window_sizze_152419, p_175206);
        int64_t ubs_175209 = add64(window_sizze_152419, p_175207);
        int64_t ind_bottom_175210 = add64(p_175206, p_175207);
        int64_t ind_top_175211 = add64(window_sizze_152419, ind_bottom_175210);
        int64_t i_p_m_t_s_175212 = add64(m_175195, p_175206);
        bool zzero_leq_i_p_m_t_s_175213 = sle64((int64_t) 0, i_p_m_t_s_175212);
        bool i_p_m_t_s_leq_w_175214 = slt64(i_p_m_t_s_175212, na_152417);
        bool zzero_lte_i_175215 = sle64((int64_t) 0, p_175206);
        bool i_lte_j_175216 = sle64(p_175206, ubs_175208);
        bool y_175217 = i_p_m_t_s_leq_w_175214 && zzero_lte_i_175215;
        bool y_175218 = zzero_leq_i_p_m_t_s_175213 && y_175217;
        bool forwards_ok_175219 = i_lte_j_175216 && y_175218;
        bool ok_or_empty_175220 = empty_slice_175194 || forwards_ok_175219;
        bool index_certs_175221;
        
        if (!ok_or_empty_175220) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175206, ":", (long long) ubs_175208, "] out of bounds for array of shape [", (long long) na_152417, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175223 = add64(m_175195, p_175207);
        bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, i_p_m_t_s_175223);
        bool i_p_m_t_s_leq_w_175225 = slt64(i_p_m_t_s_175223, nb_152418);
        bool zzero_lte_i_175226 = sle64((int64_t) 0, p_175207);
        bool i_lte_j_175227 = sle64(p_175207, ubs_175209);
        bool y_175228 = i_p_m_t_s_leq_w_175225 && zzero_lte_i_175226;
        bool y_175229 = zzero_leq_i_p_m_t_s_175224 && y_175228;
        bool forwards_ok_175230 = i_lte_j_175227 && y_175229;
        bool ok_or_empty_175231 = empty_slice_175194 || forwards_ok_175230;
        bool index_certs_175232;
        
        if (!ok_or_empty_175231) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175207, ":", (long long) ubs_175209, "] out of bounds for array of shape [", (long long) nb_152418, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177210 = add64(m_175195, ind_bottom_175210);
        bool zzero_leq_i_p_m_t_s_177211 = sle64((int64_t) 0, i_p_m_t_s_177210);
        bool i_p_m_t_s_leq_w_177212 = slt64(i_p_m_t_s_177210, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
        bool zzero_lte_i_177213 = sle64((int64_t) 0, ind_bottom_175210);
        bool i_lte_j_177214 = sle64(ind_bottom_175210, ind_top_175211);
        bool y_177215 = i_p_m_t_s_leq_w_177212 && zzero_lte_i_177213;
        bool y_177216 = zzero_leq_i_p_m_t_s_177211 && y_177215;
        bool forwards_ok_177217 = i_lte_j_177214 && y_177216;
        bool ok_or_empty_177218 = empty_slice_175194 || forwards_ok_177217;
        bool index_certs_177219;
        
        if (!ok_or_empty_177218) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175210, ":", (long long) ind_top_175211, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175234;
        int64_t loopres_175235;
        
        if (inParallel_152423) {
            float leq_lhs_178668 = ((float *) a_list_mem_180696.mem)[p_175206];
            float leq_rhs_178669 = ((float *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_178670 = leq_lhs_178668 <= leq_rhs_178669;
            float lowest_178671;
            
            if (defunc_0_leq_res_178670) {
                lowest_178671 = leq_lhs_178668;
            } else {
                lowest_178671 = leq_rhs_178669;
            }
            if (mem_181058_cached_sizze_182508 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182508, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181060_cached_sizze_182509 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181060, &mem_181060_cached_sizze_182509, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180360 = 0; i_180360 < threads_152420; i_180360++) {
                int64_t index_primexp_180632 = add64((int64_t) 1, i_180360);
                int64_t zs_lhs_178676 = mul64(zt_rhs_176244, index_primexp_180632);
                int64_t index_178677 = sdiv64(zs_lhs_178676, partitionFunc_arg0_176221);
                bool cond_178678 = slt64(window_sizze_152419, index_178677);
                int64_t loop_over_178679;
                
                if (cond_178678) {
                    loop_over_178679 = window_sizze_152419;
                } else {
                    loop_over_178679 = index_178677;
                }
                
                int64_t loop_over_178680;
                
                if (cond_178678) {
                    int64_t loop_over_t_res_178681 = sub64(index_178677, window_sizze_152419);
                    
                    loop_over_178680 = loop_over_t_res_178681;
                } else {
                    loop_over_178680 = (int64_t) 0;
                }
                
                int64_t loop_over_178682;
                
                if (cond_178678) {
                    int64_t zm_lhs_178683 = sub64(index_178677, window_sizze_152419);
                    int64_t loop_over_t_res_178684 = sub64(zm_lhs_178683, (int64_t) 1);
                    
                    loop_over_178682 = loop_over_t_res_178684;
                } else {
                    loop_over_178682 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178685;
                int64_t defunc_0_f_res_178686;
                int64_t defunc_0_f_res_178687;
                int64_t defunc_0_f_res_178688;
                bool loop_while_178689;
                int64_t p_178690;
                int64_t p_178691;
                int64_t p_178692;
                
                loop_while_178689 = 1;
                p_178690 = loop_over_178682;
                p_178691 = loop_over_178679;
                p_178692 = loop_over_178680;
                while (loop_while_178689) {
                    int64_t zs_lhs_178693 = sub64(p_178691, p_178690);
                    int64_t offset_178694 = sdiv64(zs_lhs_178693, (int64_t) 2);
                    int64_t ai_178695 = sub64(p_178691, offset_178694);
                    int64_t max_arg1_178696 = add64(p_178692, offset_178694);
                    int64_t max_res_178697 = smax64((int64_t) 0, max_arg1_178696);
                    bool cond_178698 = slt64((int64_t) 0, max_res_178697);
                    float b_prev_178699;
                    
                    if (cond_178698) {
                        int64_t tmp_178700 = sub64(max_res_178697, (int64_t) 1);
                        bool x_178701 = sle64((int64_t) 0, tmp_178700);
                        bool y_178702 = slt64(tmp_178700, window_sizze_152419);
                        bool bounds_check_178703 = x_178701 && y_178702;
                        bool index_certs_178704;
                        
                        if (!bounds_check_178703) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178700, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178705 = p_175207 + tmp_178700;
                        float b_prev_t_res_178706 = ((float *) b_list_mem_180697.mem)[slice_178705];
                        
                        b_prev_178699 = b_prev_t_res_178706;
                    } else {
                        b_prev_178699 = lowest_178671;
                    }
                    
                    bool cond_178707 = sle64(ai_178695, (int64_t) 0);
                    int64_t loopres_178708;
                    int64_t loopres_178709;
                    int64_t loopres_178710;
                    bool loopres_178711;
                    
                    if (cond_178707) {
                        loopres_178708 = p_178690;
                        loopres_178709 = (int64_t) 0;
                        loopres_178710 = max_res_178697;
                        loopres_178711 = 0;
                    } else {
                        bool cond_178712 = sle64(window_sizze_152419, max_res_178697);
                        int64_t loopres_f_res_178713;
                        int64_t loopres_f_res_178714;
                        int64_t loopres_f_res_178715;
                        bool loopres_f_res_178716;
                        
                        if (cond_178712) {
                            int64_t min_res_178718 = smin64(m_175195, ai_178695);
                            bool x_178719 = sle64((int64_t) 0, m_175195);
                            bool y_178720 = slt64(m_175195, window_sizze_152419);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178725 = sle64((int64_t) 0, min_res_178718);
                            bool y_178726 = slt64(min_res_178718, window_sizze_152419);
                            bool bounds_check_178727 = x_178725 && y_178726;
                            bool index_certs_178728;
                            
                            if (!bounds_check_178727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178718, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_178724 = ((float *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_178729 = p_175206 + min_res_178718;
                            float leq_rhs_178730 = ((float *) a_list_mem_180696.mem)[slice_178729];
                            bool defunc_0_leq_res_178731 = leq_lhs_178724 <= leq_rhs_178730;
                            int64_t loopres_f_res_t_res_178732;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178732 = ai_178695;
                            } else {
                                loopres_f_res_t_res_178732 = p_178691;
                            }
                            
                            bool x_178733 = !defunc_0_leq_res_178731;
                            int64_t loopres_f_res_t_res_178734;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178734 = window_sizze_152419;
                            } else {
                                int64_t tmp_178735 = sub64(m_175195, offset_178694);
                                
                                loopres_f_res_t_res_178734 = tmp_178735;
                            }
                            loopres_f_res_178713 = p_178690;
                            loopres_f_res_178714 = loopres_f_res_t_res_178732;
                            loopres_f_res_178715 = loopres_f_res_t_res_178734;
                            loopres_f_res_178716 = x_178733;
                        } else {
                            bool cond_178736 = sle64(window_sizze_152419, ai_178695);
                            int64_t loopres_f_res_f_res_178737;
                            int64_t loopres_f_res_f_res_178738;
                            int64_t loopres_f_res_f_res_178739;
                            bool loopres_f_res_f_res_178740;
                            
                            if (cond_178736) {
                                int64_t min_res_178742 = smin64(m_175195, max_res_178697);
                                bool x_178743 = sle64((int64_t) 0, m_175195);
                                bool y_178744 = slt64(m_175195, window_sizze_152419);
                                bool bounds_check_178745 = x_178743 && y_178744;
                                bool index_certs_178746;
                                
                                if (!bounds_check_178745) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178749 = sle64((int64_t) 0, min_res_178742);
                                bool y_178750 = slt64(min_res_178742, window_sizze_152419);
                                bool bounds_check_178751 = x_178749 && y_178750;
                                bool index_certs_178752;
                                
                                if (!bounds_check_178751) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178742, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_178748 = ((float *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_178753 = p_175207 + min_res_178742;
                                float leq_rhs_178754 = ((float *) b_list_mem_180697.mem)[slice_178753];
                                bool defunc_0_leq_res_178755 = leq_lhs_178748 <= leq_rhs_178754;
                                int64_t loopres_f_res_f_res_t_res_178756;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178756 = max_res_178697;
                                } else {
                                    loopres_f_res_f_res_t_res_178756 = p_178692;
                                }
                                
                                bool x_178757 = !defunc_0_leq_res_178755;
                                int64_t loopres_f_res_f_res_t_res_178758;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178758 = window_sizze_152419;
                                } else {
                                    loopres_f_res_f_res_t_res_178758 = m_175195;
                                }
                                loopres_f_res_f_res_178737 = p_178690;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_t_res_178758;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_t_res_178756;
                                loopres_f_res_f_res_178740 = x_178757;
                            } else {
                                bool cond_178759 = sle64(p_178691, p_178690);
                                int64_t loopres_f_res_f_res_f_res_178760;
                                int64_t loopres_f_res_f_res_f_res_178761;
                                int64_t loopres_f_res_f_res_f_res_178762;
                                bool loopres_f_res_f_res_f_res_178763;
                                
                                if (cond_178759) {
                                    bool cond_178764 = slt64(ai_178695, window_sizze_152419);
                                    int64_t ai_178765;
                                    
                                    if (cond_178764) {
                                        ai_178765 = ai_178695;
                                    } else {
                                        ai_178765 = m_175195;
                                    }
                                    
                                    bool x_178778 = sle64((int64_t) 0, ai_178765);
                                    bool y_178779 = slt64(ai_178765, window_sizze_152419);
                                    bool bounds_check_178780 = x_178778 && y_178779;
                                    bool index_certs_178781;
                                    
                                    if (!bounds_check_178780) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178765, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_178767;
                                    
                                    if (cond_178698) {
                                        int64_t tmp_178768 = sub64(max_res_178697, (int64_t) 1);
                                        bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                        bool y_178770 = slt64(tmp_178768, window_sizze_152419);
                                        bool bounds_check_178771 = x_178769 && y_178770;
                                        bool index_certs_178772;
                                        
                                        if (!bounds_check_178771) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178773 = p_175207 + tmp_178768;
                                        float b_prev_t_res_178774 = ((float *) b_list_mem_180697.mem)[slice_178773];
                                        
                                        b_prev_178767 = b_prev_t_res_178774;
                                    } else {
                                        bool index_certs_178776;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178767 = leq_rhs_178669;
                                    }
                                    
                                    int64_t slice_178782 = p_175206 + ai_178765;
                                    float gt_lhs_178783 = ((float *) a_list_mem_180696.mem)[slice_178782];
                                    bool defunc_0_gt_res_178784 = b_prev_178767 < gt_lhs_178783;
                                    int64_t defunc_0_partFunc_sequential_search_res_178785;
                                    int64_t defunc_0_partFunc_sequential_search_res_178786;
                                    
                                    if (defunc_0_gt_res_178784) {
                                        int64_t zl_rhs_178787 = sub64(window_sizze_152419, max_res_178697);
                                        bool loop_cond_178788 = slt64((int64_t) 0, zl_rhs_178787);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178789;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178791;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178792;
                                        bool loop_while_178793;
                                        int64_t p_178794;
                                        int64_t p_178795;
                                        int64_t p_178796;
                                        
                                        loop_while_178793 = loop_cond_178788;
                                        p_178794 = ai_178765;
                                        p_178795 = max_res_178697;
                                        p_178796 = (int64_t) 0;
                                        while (loop_while_178793) {
                                            int64_t i_a_178797 = sub64(ai_178765, p_178796);
                                            int64_t i_b_178798 = add64(max_res_178697, p_178796);
                                            int64_t leq_lhs_178799 = sub64(i_a_178797, (int64_t) 1);
                                            bool x_178800 = sle64((int64_t) 0, leq_lhs_178799);
                                            bool y_178801 = slt64(leq_lhs_178799, window_sizze_152419);
                                            bool bounds_check_178802 = x_178800 && y_178801;
                                            bool index_certs_178803;
                                            
                                            if (!bounds_check_178802) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178799, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178806 = sle64((int64_t) 0, i_b_178798);
                                            bool y_178807 = slt64(i_b_178798, window_sizze_152419);
                                            bool bounds_check_178808 = x_178806 && y_178807;
                                            bool index_certs_178809;
                                            
                                            if (!bounds_check_178808) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178798, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178804 = p_175206 + leq_lhs_178799;
                                            float leq_lhs_178805 = ((float *) a_list_mem_180696.mem)[slice_178804];
                                            int64_t slice_178810 = p_175207 + i_b_178798;
                                            float leq_rhs_178811 = ((float *) b_list_mem_180697.mem)[slice_178810];
                                            bool defunc_0_leq_res_178812 = leq_lhs_178805 <= leq_rhs_178811;
                                            int64_t loopres_178813;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178813 = i_a_178797;
                                            } else {
                                                loopres_178813 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178814;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178814 = i_b_178798;
                                            } else {
                                                loopres_178814 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178815;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178815 = zl_rhs_178787;
                                            } else {
                                                int64_t tmp_178816 = add64((int64_t) 1, p_178796);
                                                
                                                loopres_178815 = tmp_178816;
                                            }
                                            
                                            bool loop_cond_178817 = slt64(loopres_178815, zl_rhs_178787);
                                            bool loop_while_tmp_182129 = loop_cond_178817;
                                            int64_t p_tmp_182130 = loopres_178813;
                                            int64_t p_tmp_182131 = loopres_178814;
                                            int64_t p_tmp_182132 = loopres_178815;
                                            
                                            loop_while_178793 = loop_while_tmp_182129;
                                            p_178794 = p_tmp_182130;
                                            p_178795 = p_tmp_182131;
                                            p_178796 = p_tmp_182132;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178789 = loop_while_178793;
                                        defunc_0_partFunc_sequential_search_res_t_res_178790 = p_178794;
                                        defunc_0_partFunc_sequential_search_res_t_res_178791 = p_178795;
                                        defunc_0_partFunc_sequential_search_res_t_res_178792 = p_178796;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_t_res_178791;
                                    } else {
                                        int64_t zl_rhs_178818 = sub64(max_res_178697, (int64_t) 1);
                                        bool loop_cond_178819 = slt64((int64_t) 0, zl_rhs_178818);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178820;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178822;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178823;
                                        bool loop_while_178824;
                                        int64_t p_178825;
                                        int64_t p_178826;
                                        int64_t p_178827;
                                        
                                        loop_while_178824 = loop_cond_178819;
                                        p_178825 = ai_178765;
                                        p_178826 = max_res_178697;
                                        p_178827 = (int64_t) 0;
                                        while (loop_while_178824) {
                                            int64_t zp_lhs_178828 = add64(ai_178765, p_178827);
                                            int64_t hi_a_178829 = add64((int64_t) 1, zp_lhs_178828);
                                            bool cond_178830 = slt64(hi_a_178829, window_sizze_152419);
                                            int64_t i_a_178831;
                                            
                                            if (cond_178830) {
                                                i_a_178831 = hi_a_178829;
                                            } else {
                                                i_a_178831 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_178833 = sub64(max_res_178697, p_178827);
                                            int64_t i_b_178834 = sub64(zm_lhs_178833, (int64_t) 1);
                                            bool x_178835 = sle64((int64_t) 0, i_a_178831);
                                            bool y_178836 = slt64(i_a_178831, window_sizze_152419);
                                            bool bounds_check_178837 = x_178835 && y_178836;
                                            bool index_certs_178838;
                                            
                                            if (!bounds_check_178837) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178831, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178841 = sle64((int64_t) 0, i_b_178834);
                                            bool y_178842 = slt64(i_b_178834, window_sizze_152419);
                                            bool bounds_check_178843 = x_178841 && y_178842;
                                            bool index_certs_178844;
                                            
                                            if (!bounds_check_178843) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178834, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178839 = p_175206 + i_a_178831;
                                            float gt_lhs_178840 = ((float *) a_list_mem_180696.mem)[slice_178839];
                                            int64_t slice_178845 = p_175207 + i_b_178834;
                                            float gt_rhs_178846 = ((float *) b_list_mem_180697.mem)[slice_178845];
                                            bool defunc_0_gt_res_178847 = gt_rhs_178846 < gt_lhs_178840;
                                            int64_t loopres_178848;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178848 = i_a_178831;
                                            } else {
                                                loopres_178848 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178849;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178849 = zm_lhs_178833;
                                            } else {
                                                loopres_178849 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178850;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178850 = zl_rhs_178818;
                                            } else {
                                                int64_t tmp_178851 = add64((int64_t) 1, p_178827);
                                                
                                                loopres_178850 = tmp_178851;
                                            }
                                            
                                            bool loop_cond_178852 = slt64(loopres_178850, zl_rhs_178818);
                                            bool loop_while_tmp_182133 = loop_cond_178852;
                                            int64_t p_tmp_182134 = loopres_178848;
                                            int64_t p_tmp_182135 = loopres_178849;
                                            int64_t p_tmp_182136 = loopres_178850;
                                            
                                            loop_while_178824 = loop_while_tmp_182133;
                                            p_178825 = p_tmp_182134;
                                            p_178826 = p_tmp_182135;
                                            p_178827 = p_tmp_182136;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178820 = loop_while_178824;
                                        defunc_0_partFunc_sequential_search_res_f_res_178821 = p_178825;
                                        defunc_0_partFunc_sequential_search_res_f_res_178822 = p_178826;
                                        defunc_0_partFunc_sequential_search_res_f_res_178823 = p_178827;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_f_res_178822;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = p_178690;
                                    loopres_f_res_f_res_f_res_178761 = defunc_0_partFunc_sequential_search_res_178785;
                                    loopres_f_res_f_res_f_res_178762 = defunc_0_partFunc_sequential_search_res_178786;
                                    loopres_f_res_f_res_f_res_178763 = 0;
                                } else {
                                    bool x_178853 = sle64((int64_t) 0, ai_178695);
                                    bool y_178854 = slt64(ai_178695, window_sizze_152419);
                                    bool bounds_check_178855 = x_178853 && y_178854;
                                    bool index_certs_178856;
                                    
                                    if (!bounds_check_178855) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178695, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178857 = p_175206 + ai_178695;
                                    float gt_lhs_178858 = ((float *) a_list_mem_180696.mem)[slice_178857];
                                    bool defunc_0_gt_res_178859 = b_prev_178699 < gt_lhs_178858;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178862;
                                    bool loopres_f_res_f_res_f_res_f_res_178863;
                                    
                                    if (defunc_0_gt_res_178859) {
                                        int64_t leq_lhs_178864 = sub64(ai_178695, (int64_t) 1);
                                        bool x_178865 = sle64((int64_t) 0, leq_lhs_178864);
                                        bool y_178866 = slt64(leq_lhs_178864, window_sizze_152419);
                                        bool bounds_check_178867 = x_178865 && y_178866;
                                        bool index_certs_178868;
                                        
                                        if (!bounds_check_178867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178864, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178871 = sle64((int64_t) 0, max_res_178697);
                                        bool y_178872 = slt64(max_res_178697, window_sizze_152419);
                                        bool bounds_check_178873 = x_178871 && y_178872;
                                        bool index_certs_178874;
                                        
                                        if (!bounds_check_178873) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178697, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178869 = p_175206 + leq_lhs_178864;
                                        float leq_lhs_178870 = ((float *) a_list_mem_180696.mem)[slice_178869];
                                        int64_t slice_178875 = p_175207 + max_res_178697;
                                        float leq_rhs_178876 = ((float *) b_list_mem_180697.mem)[slice_178875];
                                        bool defunc_0_leq_res_178877 = leq_lhs_178870 <= leq_rhs_178876;
                                        bool x_178878 = !defunc_0_leq_res_178877;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = ai_178695;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = leq_lhs_178864;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = max_res_178697;
                                        } else {
                                            int64_t tmp_178881 = add64((int64_t) 1, max_res_178697);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = tmp_178881;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178860 = p_178690;
                                        loopres_f_res_f_res_f_res_f_res_178861 = loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        loopres_f_res_f_res_f_res_f_res_178862 = loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        loopres_f_res_f_res_f_res_f_res_178863 = x_178878;
                                    } else {
                                        int64_t tmp_178882 = add64((int64_t) 1, ai_178695);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178860 = tmp_178882;
                                        loopres_f_res_f_res_f_res_f_res_178861 = p_178691;
                                        loopres_f_res_f_res_f_res_f_res_178862 = p_178692;
                                        loopres_f_res_f_res_f_res_f_res_178863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = loopres_f_res_f_res_f_res_f_res_178860;
                                    loopres_f_res_f_res_f_res_178761 = loopres_f_res_f_res_f_res_f_res_178861;
                                    loopres_f_res_f_res_f_res_178762 = loopres_f_res_f_res_f_res_f_res_178862;
                                    loopres_f_res_f_res_f_res_178763 = loopres_f_res_f_res_f_res_f_res_178863;
                                }
                                loopres_f_res_f_res_178737 = loopres_f_res_f_res_f_res_178760;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_f_res_178761;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_f_res_178762;
                                loopres_f_res_f_res_178740 = loopres_f_res_f_res_f_res_178763;
                            }
                            loopres_f_res_178713 = loopres_f_res_f_res_178737;
                            loopres_f_res_178714 = loopres_f_res_f_res_178738;
                            loopres_f_res_178715 = loopres_f_res_f_res_178739;
                            loopres_f_res_178716 = loopres_f_res_f_res_178740;
                        }
                        loopres_178708 = loopres_f_res_178713;
                        loopres_178709 = loopres_f_res_178714;
                        loopres_178710 = loopres_f_res_178715;
                        loopres_178711 = loopres_f_res_178716;
                    }
                    
                    bool loop_while_tmp_182125 = loopres_178711;
                    int64_t p_tmp_182126 = loopres_178708;
                    int64_t p_tmp_182127 = loopres_178709;
                    int64_t p_tmp_182128 = loopres_178710;
                    
                    loop_while_178689 = loop_while_tmp_182125;
                    p_178690 = p_tmp_182126;
                    p_178691 = p_tmp_182127;
                    p_178692 = p_tmp_182128;
                }
                defunc_0_f_res_178685 = loop_while_178689;
                defunc_0_f_res_178686 = p_178690;
                defunc_0_f_res_178687 = p_178691;
                defunc_0_f_res_178688 = p_178692;
                ((int64_t *) mem_181058)[i_180360] = defunc_0_f_res_178687;
                ((int64_t *) mem_181060)[i_180360] = defunc_0_f_res_178688;
            }
            if (mem_181075_cached_sizze_182510 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181075, &mem_181075_cached_sizze_182510, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181077_cached_sizze_182511 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245) {
                err = lexical_realloc(ctx, &mem_181077, &mem_181077_cached_sizze_182511, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181080_cached_sizze_182512 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182512, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181083_cached_sizze_182513 < bytes_181082) {
                err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182513, bytes_181082);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180426 = 0; i_180426 < threads_152420; i_180426++) {
                bool y_178896 = slt64(i_180426, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool index_certs_178898;
                
                if (!y_178896) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180426, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178899 = sle64((int64_t) 1, i_180426);
                int64_t index_concat_i_178900 = sub64(i_180426, (int64_t) 1);
                int64_t index_concat_178901;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178902 = ((int64_t *) mem_181058)[index_concat_i_178900];
                    
                    index_concat_178901 = x_178902;
                } else {
                    index_concat_178901 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178903;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178903 = index_concat_178901;
                } else {
                    index_concat_branch_178903 = (int64_t) 0;
                }
                
                int64_t index_concat_178904;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178905 = ((int64_t *) mem_181060)[index_concat_i_178900];
                    
                    index_concat_178904 = x_178905;
                } else {
                    index_concat_178904 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178906;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178906 = index_concat_178904;
                } else {
                    index_concat_branch_178906 = (int64_t) 0;
                }
                
                int64_t ubs_178907 = add64((int64_t) 1, i_180426);
                bool x_178908 = sle64((int64_t) 0, ubs_178907);
                bool y_178909 = slt64(ubs_178907, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_178910 = x_178908 && y_178909;
                bool index_certs_178911;
                
                if (!bounds_check_178910) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178907, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178912 = sle64((int64_t) 1, ubs_178907);
                int64_t index_concat_178913;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178914 = ((int64_t *) mem_181058)[i_180426];
                    
                    index_concat_178913 = x_178914;
                } else {
                    index_concat_178913 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178915;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178915 = index_concat_178913;
                } else {
                    index_concat_branch_178915 = (int64_t) 0;
                }
                
                int64_t index_concat_178916;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178917 = ((int64_t *) mem_181060)[i_180426];
                    
                    index_concat_178916 = x_178917;
                } else {
                    index_concat_178916 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178918;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178918 = index_concat_178916;
                } else {
                    index_concat_branch_178918 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 = sub64(index_concat_branch_178918, index_concat_branch_178906);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 = sub64(index_concat_branch_178915, index_concat_branch_178903);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t zm_lhs_178922 = add64(index_concat_branch_178915, index_concat_branch_178918);
                int64_t zm_rhs_178923 = add64(index_concat_branch_178903, index_concat_branch_178906);
                int64_t card_178924 = sub64(zm_lhs_178922, zm_rhs_178923);
                bool empty_slice_178925 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 == (int64_t) 0;
                int64_t m_178926 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 1);
                int64_t i_p_m_t_s_178927 = add64(index_concat_branch_178903, m_178926);
                bool zzero_leq_i_p_m_t_s_178928 = sle64((int64_t) 0, i_p_m_t_s_178927);
                bool i_p_m_t_s_leq_w_178929 = slt64(i_p_m_t_s_178927, window_sizze_152419);
                bool zzero_lte_i_178930 = sle64((int64_t) 0, index_concat_branch_178903);
                bool i_lte_j_178931 = sle64(index_concat_branch_178903, index_concat_branch_178915);
                bool y_178932 = i_p_m_t_s_leq_w_178929 && zzero_lte_i_178930;
                bool y_178933 = zzero_leq_i_p_m_t_s_178928 && y_178932;
                bool forwards_ok_178934 = i_lte_j_178931 && y_178933;
                bool ok_or_empty_178935 = empty_slice_178925 || forwards_ok_178934;
                bool index_certs_178936;
                
                if (!ok_or_empty_178935) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178903, ":", (long long) index_concat_branch_178915, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178937 = slt64(index_concat_branch_178915, index_concat_branch_178903);
                bool valid_178938 = !bounds_invalid_upwards_178937;
                bool range_valid_c_178939;
                
                if (!valid_178938) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178903, "..<", (long long) index_concat_branch_178915, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178944 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 == (int64_t) 0;
                int64_t m_178945 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, (int64_t) 1);
                int64_t i_p_m_t_s_178946 = add64(index_concat_branch_178906, m_178945);
                bool zzero_leq_i_p_m_t_s_178947 = sle64((int64_t) 0, i_p_m_t_s_178946);
                bool i_p_m_t_s_leq_w_178948 = slt64(i_p_m_t_s_178946, window_sizze_152419);
                bool zzero_lte_i_178949 = sle64((int64_t) 0, index_concat_branch_178906);
                bool i_lte_j_178950 = sle64(index_concat_branch_178906, index_concat_branch_178918);
                bool y_178951 = i_p_m_t_s_leq_w_178948 && zzero_lte_i_178949;
                bool y_178952 = zzero_leq_i_p_m_t_s_178947 && y_178951;
                bool forwards_ok_178953 = i_lte_j_178950 && y_178952;
                bool ok_or_empty_178954 = empty_slice_178944 || forwards_ok_178953;
                bool index_certs_178955;
                
                if (!ok_or_empty_178954) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178906, ":", (long long) index_concat_branch_178918, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178956 = slt64(index_concat_branch_178918, index_concat_branch_178906);
                bool valid_178957 = !bounds_invalid_upwards_178956;
                bool range_valid_c_178958;
                
                if (!valid_178957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178906, "..<", (long long) index_concat_branch_178918, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181112 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                int64_t bytes_181114 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool cond_178966 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zs_lhs_178967 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zp_rhs_178968 = sdiv_safe64(zs_lhs_178967, (int64_t) 20);
                int64_t min_num_blocks_178969 = add64((int64_t) 1, zp_rhs_178968);
                bool loop_cond_178970 = slt64((int64_t) 1, min_num_blocks_178969);
                bool smallest_pow_2_geq_than_res_178971;
                int64_t smallest_pow_2_geq_than_res_178972;
                bool loop_while_178973;
                int64_t x_178974;
                
                loop_while_178973 = loop_cond_178970;
                x_178974 = (int64_t) 1;
                while (loop_while_178973) {
                    int64_t loopres_178975 = mul64((int64_t) 2, x_178974);
                    bool loop_cond_178976 = slt64(loopres_178975, min_num_blocks_178969);
                    bool loop_while_tmp_182141 = loop_cond_178976;
                    int64_t x_tmp_182142 = loopres_178975;
                    
                    loop_while_178973 = loop_while_tmp_182141;
                    x_178974 = x_tmp_182142;
                }
                smallest_pow_2_geq_than_res_178971 = loop_while_178973;
                smallest_pow_2_geq_than_res_178972 = x_178974;
                
                bool zzero_178977 = smallest_pow_2_geq_than_res_178972 == (int64_t) 0;
                bool nonzzero_178978 = !zzero_178977;
                bool protect_assert_disj_178979 = cond_178966 || nonzzero_178978;
                bool nonzzero_cert_178980;
                
                if (!protect_assert_disj_178979) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178981 = sdiv_safe64(zs_lhs_178967, smallest_pow_2_geq_than_res_178972);
                int64_t block_sizze_178982 = add64((int64_t) 1, zp_rhs_178981);
                bool y_178989 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                bool protect_assert_disj_181858 = cond_178966 || y_178989;
                bool index_certs_178990;
                
                if (!protect_assert_disj_181858) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179027 = slt64(smallest_pow_2_geq_than_res_178972, (int64_t) 0);
                bool valid_179028 = !bounds_invalid_upwards_179027;
                bool protect_assert_disj_181868 = cond_178966 || valid_179028;
                bool range_valid_c_179029;
                
                if (!protect_assert_disj_181868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178972, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179031 = slt64(block_sizze_178982, (int64_t) 0);
                bool valid_179032 = !bounds_invalid_upwards_179031;
                bool protect_assert_disj_181870 = cond_178966 || valid_179032;
                bool range_valid_c_179033;
                
                if (!protect_assert_disj_181870) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178982, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179035 = sle64(block_sizze_178982, (int64_t) 1);
                int64_t tmp_179036 = sub64(block_sizze_178982, (int64_t) 2);
                bool bounds_invalid_upwards_179037 = slt64(tmp_179036, (int64_t) 0);
                bool valid_179039 = !bounds_invalid_upwards_179037;
                bool protect_assert_disj_179040 = cond_179035 || valid_179039;
                bool protect_assert_disj_181872 = cond_178966 || protect_assert_disj_179040;
                bool range_valid_c_179041;
                
                if (!protect_assert_disj_181872) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179036, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179621 = card_178924 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool empty_or_match_cert_179622;
                
                if (!dim_match_179621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] cannot match shape of type `[", (long long) card_178924, "](i8, i64, f32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179623 = card_178924 == (int64_t) 0;
                int64_t m_179624 = sub64(card_178924, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179625 = sle64((int64_t) 0, m_179624);
                bool i_p_m_t_s_leq_w_179626 = slt64(m_179624, card_178924);
                bool y_179627 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179626;
                bool ok_or_empty_179628 = empty_slice_179623 || y_179627;
                bool index_certs_179629;
                
                if (!ok_or_empty_179628) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) card_178924, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179630 = slt64(m_179624, perThread_175244);
                bool y_179631 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179630;
                bool ok_or_empty_179632 = empty_slice_179623 || y_179631;
                bool index_certs_179633;
                
                if (!ok_or_empty_179632) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182143 = 0; nest_i_182143 < perThread_175244; nest_i_182143++) {
                    ((int8_t *) mem_181077)[i_180426 * perThread_175244 + nest_i_182143] = (int8_t) -1;
                }
                for (int64_t nest_i_182144 = 0; nest_i_182144 < perThread_175244; nest_i_182144++) {
                    ((int64_t *) mem_181080)[i_180426 * perThread_175244 + nest_i_182144] = (int64_t) -1;
                }
                for (int64_t nest_i_182145 = 0; nest_i_182145 < perThread_175244; nest_i_182145++) {
                    ((float *) mem_181083)[i_180426 * perThread_175244 + nest_i_182145] = 0.0F;
                }
                
                int64_t slice_178940 = p_175206 + index_concat_branch_178903;
                
                if (memblock_alloc(ctx, &mem_181111, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "mem_181111")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182146 = 0; nest_i_182146 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; nest_i_182146++) {
                    ((int8_t *) mem_181111.mem)[nest_i_182146] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181113, bytes_181112, "mem_181113")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182147 = 0; i_182147 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; i_182147++) {
                    int64_t x_182148 = index_concat_branch_178903 + i_182147 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[i_182147] = x_182148;
                }
                
                int64_t slice_178959 = p_175207 + index_concat_branch_178906;
                
                for (int64_t nest_i_182149 = 0; nest_i_182149 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; nest_i_182149++) {
                    ((int8_t *) mem_181111.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + nest_i_182149] = (int8_t) 1;
                }
                for (int64_t i_182150 = 0; i_182150 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; i_182150++) {
                    int64_t x_182151 = index_concat_branch_178906 + i_182150 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + i_182150] = x_182151;
                }
                
                int64_t tmp_offs_182152 = (int64_t) 0;
                
                if (!(tmp_offs_182152 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182152 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t tmp_offs_182153 = (int64_t) 0;
                
                if (!(tmp_offs_182153 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182153 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                if (memblock_alloc(ctx, &mem_181115, bytes_181114, "mem_181115")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182154 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, slice_178940, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, slice_178959, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t flat_dim_178983 = smallest_pow_2_geq_than_res_178972 * block_sizze_178982;
                bool x_181853 = !cond_178966;
                int64_t greatest_divisor_leq_than_arg1_178987 = mul64((int64_t) 2, block_sizze_178982);
                int64_t merge_block_sizze_178988;
                
                if (x_181853) {
                    int64_t x_181855;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181855, (int64_t) 8, greatest_divisor_leq_than_arg1_178987) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178988 = x_181855;
                } else {
                    merge_block_sizze_178988 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178991 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 0);
                int8_t index_concat_branch_178992 = btoi_bool_i8(index_concat_cmp_178991);
                int64_t index_concat_i_178994 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t index_primexp_178995 = add64(index_concat_branch_178906, index_concat_i_178994);
                int64_t index_concat_branch_178993;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178993 = index_primexp_178995;
                } else {
                    index_concat_branch_178993 = index_concat_branch_178903;
                }
                
                bool x_181849 = !index_concat_cmp_178991;
                bool protect_cond_conj_181859 = x_181849 && x_181853;
                float index_concat_179001;
                
                if (protect_cond_conj_181859) {
                    float x_181851 = ((float *) a_list_mem_180696.mem)[slice_178940];
                    
                    index_concat_179001 = x_181851;
                } else {
                    index_concat_179001 = 0.0F;
                }
                
                int64_t slice_178999 = p_175207 + index_primexp_178995;
                bool protect_cond_conj_181860 = index_concat_cmp_178991 && x_181853;
                float index_concat_179000;
                
                if (protect_cond_conj_181860) {
                    float x_181847 = ((float *) b_list_mem_180697.mem)[slice_178999];
                    
                    index_concat_179000 = x_181847;
                } else {
                    index_concat_179000 = 0.0F;
                }
                
                float index_concat_branch_178996;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178996 = index_concat_179000;
                } else {
                    index_concat_branch_178996 = index_concat_179001;
                }
                
                int8_t defunc_0_reduce_res_179002;
                int64_t defunc_0_reduce_res_179003;
                float defunc_0_reduce_res_179004;
                
                if (x_181853) {
                    int8_t x_181861;
                    int64_t x_181862;
                    float x_181863;
                    int8_t redout_180363;
                    int64_t redout_180364;
                    float redout_180365;
                    
                    redout_180363 = index_concat_branch_178992;
                    redout_180364 = index_concat_branch_178993;
                    redout_180365 = index_concat_branch_178996;
                    for (int64_t i_180366 = 0; i_180366 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921; i_180366++) {
                        bool index_concat_cmp_180624 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, i_180366);
                        int8_t index_concat_branch_180628 = btoi_bool_i8(index_concat_cmp_180624);
                        int64_t index_concat_branch_180622;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180619 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t index_primexp_180672 = add64(index_concat_branch_178906, index_concat_i_180619);
                            
                            index_concat_branch_180622 = index_primexp_180672;
                        } else {
                            int64_t index_primexp_180674 = add64(index_concat_branch_178903, i_180366);
                            
                            index_concat_branch_180622 = index_primexp_180674;
                        }
                        
                        float index_concat_branch_180616;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180613 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t slice_180669 = slice_178959 + index_concat_i_180613;
                            float index_concat_180614 = ((float *) b_list_mem_180697.mem)[slice_180669];
                            
                            index_concat_branch_180616 = index_concat_180614;
                        } else {
                            int64_t slice_180670 = slice_178940 + i_180366;
                            float index_concat_180615 = ((float *) a_list_mem_180696.mem)[slice_180670];
                            
                            index_concat_branch_180616 = index_concat_180615;
                        }
                        
                        bool eq_x_y_180686 = redout_180363 == (int8_t) 1;
                        bool eq_x_zz_180687 = redout_180363 == (int8_t) 0;
                        bool p_and_eq_x_y_180688 = index_concat_cmp_180624 && eq_x_y_180686;
                        bool not_p_180689 = !index_concat_cmp_180624;
                        bool p_and_eq_x_y_180690 = eq_x_zz_180687 && not_p_180689;
                        bool cond_179014 = p_and_eq_x_y_180688 || p_and_eq_x_y_180690;
                        bool defunc_0_leq_res_t_res_179015 = sle64(redout_180364, index_concat_branch_180622);
                        bool defunc_0_leq_res_179016 = redout_180365 <= index_concat_branch_180616;
                        bool x_179017 = cond_179014 && defunc_0_leq_res_t_res_179015;
                        bool x_179018 = !cond_179014;
                        bool y_179019 = defunc_0_leq_res_179016 && x_179018;
                        bool defunc_0_leq_res_179020 = x_179017 || y_179019;
                        int8_t defunc_0_op_res_179021;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179021 = index_concat_branch_180628;
                        } else {
                            defunc_0_op_res_179021 = redout_180363;
                        }
                        
                        int64_t defunc_0_op_res_179022;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179022 = index_concat_branch_180622;
                        } else {
                            defunc_0_op_res_179022 = redout_180364;
                        }
                        
                        float defunc_0_op_res_179023;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179023 = index_concat_branch_180616;
                        } else {
                            defunc_0_op_res_179023 = redout_180365;
                        }
                        
                        int8_t redout_tmp_182155 = defunc_0_op_res_179021;
                        int64_t redout_tmp_182156 = defunc_0_op_res_179022;
                        float redout_tmp_182157 = defunc_0_op_res_179023;
                        
                        redout_180363 = redout_tmp_182155;
                        redout_180364 = redout_tmp_182156;
                        redout_180365 = redout_tmp_182157;
                    }
                    x_181861 = redout_180363;
                    x_181862 = redout_180364;
                    x_181863 = redout_180365;
                    defunc_0_reduce_res_179002 = x_181861;
                    defunc_0_reduce_res_179003 = x_181862;
                    defunc_0_reduce_res_179004 = x_181863;
                } else {
                    defunc_0_reduce_res_179002 = (int8_t) 0;
                    defunc_0_reduce_res_179003 = (int64_t) 0;
                    defunc_0_reduce_res_179004 = 0.0F;
                }
                
                int64_t distance_179038 = add64((int64_t) 1, tmp_179036);
                int64_t binop_x_181118 = (int64_t) 8 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181119 = block_sizze_178982 * binop_x_181118;
                int64_t binop_x_181121 = (int64_t) 4 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181122 = block_sizze_178982 * binop_x_181121;
                int64_t bytes_181137 = (int64_t) 8 * block_sizze_178982;
                int64_t bytes_181139 = (int64_t) 4 * block_sizze_178982;
                bool loop_cond_179164 = slt64(block_sizze_178982, flat_dim_178983);
                bool zzero_179165 = merge_block_sizze_178988 == (int64_t) 0;
                bool nonzzero_179166 = !zzero_179165;
                
                if (cond_178966) {
                    if (memblock_set(ctx, &ext_mem_181410, &mem_181111, "mem_181111") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &mem_181113, "mem_181113") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &mem_181115, "mem_181115") != 0)
                        return 1;
                } else {
                    if (mem_181117_cached_sizze_182514 < flat_dim_178983) {
                        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_182514, flat_dim_178983);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181120_cached_sizze_182515 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182515, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181123_cached_sizze_182516 < bytes_181122) {
                        err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182516, bytes_181122);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181136_cached_sizze_182517 < block_sizze_178982) {
                        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_182517, block_sizze_178982);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181138_cached_sizze_182518 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_182518, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181140_cached_sizze_182519 < bytes_181139) {
                        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182519, bytes_181139);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180383 = 0; i_180383 < smallest_pow_2_geq_than_res_178972; i_180383++) {
                        int64_t zp_lhs_179046 = mul64(block_sizze_178982, i_180383);
                        
                        for (int64_t i_180373 = 0; i_180373 < block_sizze_178982; i_180373++) {
                            int64_t k_179051 = add64(zp_lhs_179046, i_180373);
                            bool cond_179052 = slt64(k_179051, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                            int8_t lifted_lambda_res_179053;
                            int64_t lifted_lambda_res_179054;
                            float lifted_lambda_res_179055;
                            
                            if (cond_179052) {
                                bool x_179056 = sle64((int64_t) 0, k_179051);
                                bool bounds_check_179057 = cond_179052 && x_179056;
                                bool index_certs_179058;
                                
                                if (!bounds_check_179057) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179051, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179059 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, k_179051);
                                int8_t index_concat_branch_179060 = btoi_bool_i8(index_concat_cmp_179059);
                                int64_t index_concat_branch_179061;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179062 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t index_primexp_179063 = add64(index_concat_branch_178906, index_concat_i_179062);
                                    
                                    index_concat_branch_179061 = index_primexp_179063;
                                } else {
                                    int64_t index_primexp_179064 = add64(index_concat_branch_178903, k_179051);
                                    
                                    index_concat_branch_179061 = index_primexp_179064;
                                }
                                
                                float index_concat_branch_179065;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179066 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t slice_179067 = index_concat_branch_178906 + index_concat_i_179066;
                                    int64_t slice_179068 = p_175207 + slice_179067;
                                    float index_concat_179069 = ((float *) b_list_mem_180697.mem)[slice_179068];
                                    
                                    index_concat_branch_179065 = index_concat_179069;
                                } else {
                                    int64_t slice_179070 = index_concat_branch_178903 + k_179051;
                                    int64_t slice_179071 = p_175206 + slice_179070;
                                    float index_concat_179072 = ((float *) a_list_mem_180696.mem)[slice_179071];
                                    
                                    index_concat_branch_179065 = index_concat_179072;
                                }
                                lifted_lambda_res_179053 = index_concat_branch_179060;
                                lifted_lambda_res_179054 = index_concat_branch_179061;
                                lifted_lambda_res_179055 = index_concat_branch_179065;
                            } else {
                                lifted_lambda_res_179053 = defunc_0_reduce_res_179002;
                                lifted_lambda_res_179054 = defunc_0_reduce_res_179003;
                                lifted_lambda_res_179055 = defunc_0_reduce_res_179004;
                            }
                            ((int8_t *) mem_181136)[i_180373] = lifted_lambda_res_179053;
                            ((int64_t *) mem_181138)[i_180373] = lifted_lambda_res_179054;
                            ((float *) mem_181140)[i_180373] = lifted_lambda_res_179055;
                        }
                        if (!cond_179035) {
                            for (int64_t i_179082 = 0; i_179082 < distance_179038; i_179082++) {
                                int64_t gt_arg1_179086 = add64((int64_t) 1, i_179082);
                                bool x_179087 = sle64((int64_t) 0, gt_arg1_179086);
                                bool y_179088 = slt64(gt_arg1_179086, block_sizze_178982);
                                bool bounds_check_179089 = x_179087 && y_179088;
                                bool index_certs_179090;
                                
                                if (!bounds_check_179089) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179086, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179094 = slt64(i_179082, block_sizze_178982);
                                bool index_certs_179095;
                                
                                if (!y_179094) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179082, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179091 = ((int8_t *) mem_181136)[gt_arg1_179086];
                                int64_t gt_arg1_179092 = ((int64_t *) mem_181138)[gt_arg1_179086];
                                float gt_arg1_179093 = ((float *) mem_181140)[gt_arg1_179086];
                                int8_t gt_arg0_179096 = ((int8_t *) mem_181136)[i_179082];
                                int64_t gt_arg0_179097 = ((int64_t *) mem_181138)[i_179082];
                                float gt_arg0_179098 = ((float *) mem_181140)[i_179082];
                                bool cond_179099 = gt_arg0_179096 == gt_arg1_179091;
                                bool defunc_0_leq_res_t_res_179100 = sle64(gt_arg0_179097, gt_arg1_179092);
                                bool defunc_0_leq_res_179101 = gt_arg0_179098 <= gt_arg1_179093;
                                bool x_179102 = cond_179099 && defunc_0_leq_res_t_res_179100;
                                bool x_179103 = !cond_179099;
                                bool y_179104 = defunc_0_leq_res_179101 && x_179103;
                                bool defunc_0_leq_res_179105 = x_179102 || y_179104;
                                bool defunc_0_lifted_gt_res_179106 = !defunc_0_leq_res_179105;
                                bool s_179107;
                                int64_t s_179111;
                                bool loop_while_179112;
                                int64_t j_179116;
                                
                                loop_while_179112 = defunc_0_lifted_gt_res_179106;
                                j_179116 = i_179082;
                                while (loop_while_179112) {
                                    bool x_179117 = sle64((int64_t) 0, j_179116);
                                    bool y_179118 = slt64(j_179116, block_sizze_178982);
                                    bool bounds_check_179119 = x_179117 && y_179118;
                                    bool index_certs_179120;
                                    
                                    if (!bounds_check_179119) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179116, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179124 = add64((int64_t) 1, j_179116);
                                    bool x_179125 = sle64((int64_t) 0, copy_arg0_179124);
                                    bool y_179126 = slt64(copy_arg0_179124, block_sizze_178982);
                                    bool bounds_check_179127 = x_179125 && y_179126;
                                    bool index_certs_179128;
                                    
                                    if (!bounds_check_179127) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179124, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179121 = ((int8_t *) mem_181136)[j_179116];
                                    int64_t copy_arg0_179122 = ((int64_t *) mem_181138)[j_179116];
                                    float copy_arg0_179123 = ((float *) mem_181140)[j_179116];
                                    int8_t copy_arg0_179129 = ((int8_t *) mem_181136)[copy_arg0_179124];
                                    int64_t copy_arg0_179130 = ((int64_t *) mem_181138)[copy_arg0_179124];
                                    float copy_arg0_179131 = ((float *) mem_181140)[copy_arg0_179124];
                                    
                                    ((int8_t *) mem_181136)[j_179116] = copy_arg0_179129;
                                    ((int64_t *) mem_181138)[j_179116] = copy_arg0_179130;
                                    ((float *) mem_181140)[j_179116] = copy_arg0_179131;
                                    ((int8_t *) mem_181136)[copy_arg0_179124] = copy_arg0_179121;
                                    ((int64_t *) mem_181138)[copy_arg0_179124] = copy_arg0_179122;
                                    ((float *) mem_181140)[copy_arg0_179124] = copy_arg0_179123;
                                    
                                    int64_t tmp_179138 = sub64(j_179116, (int64_t) 1);
                                    bool cond_179139 = sle64((int64_t) 0, tmp_179138);
                                    bool loop_cond_179140;
                                    
                                    if (cond_179139) {
                                        bool y_179144 = slt64(tmp_179138, block_sizze_178982);
                                        bool bounds_check_179145 = cond_179139 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179138, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179141 = ((int8_t *) mem_181136)[j_179116];
                                        int64_t gt_arg1_179142 = ((int64_t *) mem_181138)[j_179116];
                                        float gt_arg1_179143 = ((float *) mem_181140)[j_179116];
                                        int8_t gt_arg0_179147 = ((int8_t *) mem_181136)[tmp_179138];
                                        int64_t gt_arg0_179148 = ((int64_t *) mem_181138)[tmp_179138];
                                        float gt_arg0_179149 = ((float *) mem_181140)[tmp_179138];
                                        bool cond_179150 = gt_arg0_179147 == gt_arg1_179141;
                                        bool defunc_0_leq_res_t_res_179151 = sle64(gt_arg0_179148, gt_arg1_179142);
                                        bool defunc_0_leq_res_179152 = gt_arg0_179149 <= gt_arg1_179143;
                                        bool x_179153 = cond_179150 && defunc_0_leq_res_t_res_179151;
                                        bool x_179154 = !cond_179150;
                                        bool y_179155 = defunc_0_leq_res_179152 && x_179154;
                                        bool defunc_0_leq_res_179156 = x_179153 || y_179155;
                                        bool defunc_0_lifted_gt_res_179157 = !defunc_0_leq_res_179156;
                                        
                                        loop_cond_179140 = defunc_0_lifted_gt_res_179157;
                                    } else {
                                        loop_cond_179140 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182167 = loop_cond_179140;
                                    int64_t j_tmp_182171 = tmp_179138;
                                    
                                    loop_while_179112 = loop_while_tmp_182167;
                                    j_179116 = j_tmp_182171;
                                }
                                s_179107 = loop_while_179112;
                                s_179111 = j_179116;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181117, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181123, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181140, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                    }
                    if (memblock_alloc(ctx, &mem_181217, flat_dim_178983, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181217.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint8_t *) mem_181117, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181221, bytes_181119, "mem_181221")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181221.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181225, bytes_181122, "mem_181225")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181225.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint32_t *) mem_181123, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    
                    int64_t data_179167;
                    bool data_179168;
                    int64_t data_179172;
                    int64_t loop_dz2084Uz2082U_179173;
                    bool loop_while_179174;
                    int64_t stride_179178;
                    
                    if (memblock_set(ctx, &mem_param_181229, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181232, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181235, &mem_181225, "mem_181225") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179173 = flat_dim_178983;
                    loop_while_179174 = loop_cond_179164;
                    stride_179178 = block_sizze_178982;
                    while (loop_while_179174) {
                        int64_t next_stride_179179 = mul64((int64_t) 2, stride_179178);
                        bool zzero_179180 = next_stride_179179 == (int64_t) 0;
                        bool nonzzero_179181 = !zzero_179180;
                        bool nonzzero_cert_179182;
                        
                        if (!nonzzero_179181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179183 = sdiv64(flat_dim_178983, next_stride_179179);
                        bool bounds_invalid_upwards_179184 = slt64(num_merges_179183, (int64_t) 0);
                        bool valid_179185 = !bounds_invalid_upwards_179184;
                        bool range_valid_c_179186;
                        
                        if (!valid_179185) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179183, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179188 = sub64(next_stride_179179, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179189 = sle64((int64_t) 0, m_179188);
                        bool cond_179191 = slt64(next_stride_179179, (int64_t) 10);
                        bool protect_assert_disj_179192 = nonzzero_179166 || cond_179191;
                        bool nonzzero_cert_179193;
                        
                        if (!protect_assert_disj_179192) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179194 = smod_safe64(next_stride_179179, merge_block_sizze_178988);
                        bool num_blocks_179195 = zeze_lhs_179194 == (int64_t) 0;
                        bool protect_assert_disj_179196 = cond_179191 || num_blocks_179195;
                        bool assert_c_179197;
                        
                        if (!protect_assert_disj_179196) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179198 = sdiv_safe64(next_stride_179179, merge_block_sizze_178988);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199 = add64((int64_t) 1, num_blocks_179198);
                        int64_t j_m_i_179200 = sub64(next_stride_179179, stride_179178);
                        int64_t flat_dim_179201 = merge_block_sizze_178988 * num_blocks_179198;
                        bool bounds_invalid_upwards_179202 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, (int64_t) 0);
                        bool empty_slice_179203 = j_m_i_179200 == (int64_t) 0;
                        int64_t m_179204 = sub64(j_m_i_179200, (int64_t) 1);
                        bool zzero_lte_i_179205 = sle64((int64_t) 0, stride_179178);
                        bool i_lte_j_179206 = sle64(stride_179178, next_stride_179179);
                        bool empty_slice_179207 = stride_179178 == (int64_t) 0;
                        int64_t m_179208 = sub64(stride_179178, (int64_t) 1);
                        bool bounds_invalid_upwards_179209 = slt64(num_blocks_179198, (int64_t) 0);
                        bool cond_179210 = slt64((int64_t) 0, stride_179178);
                        bool valid_179211 = !bounds_invalid_upwards_179202;
                        int64_t i_p_m_t_s_179212 = add64(stride_179178, m_179204);
                        bool zzero_leq_i_p_m_t_s_179213 = sle64((int64_t) 0, m_179208);
                        bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, next_stride_179179);
                        bool valid_179215 = !bounds_invalid_upwards_179209;
                        bool i_p_m_t_s_leq_w_179216 = slt64(m_179188, flat_dim_179201);
                        bool y_179217 = slt64((int64_t) 0, j_m_i_179200);
                        bool protect_assert_disj_179218 = cond_179191 || valid_179211;
                        bool range_valid_c_179219;
                        
                        if (!protect_assert_disj_179218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179220 = sle64((int64_t) 0, i_p_m_t_s_179212);
                        bool i_p_m_t_s_leq_w_179221 = slt64(i_p_m_t_s_179212, next_stride_179179);
                        bool y_179222 = zzero_leq_i_p_m_t_s_179213 && i_p_m_t_s_leq_w_179214;
                        bool protect_assert_disj_179223 = cond_179191 || valid_179215;
                        bool range_valid_c_179224;
                        
                        if (!protect_assert_disj_179223) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179198, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179225 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179216;
                        bool y_179226 = zzero_lte_i_179205 && i_p_m_t_s_leq_w_179221;
                        bool forwards_ok_179227 = zzero_lte_i_179205 && y_179222;
                        bool ok_or_empty_179228 = zzero_179180 || y_179225;
                        bool protect_assert_disj_179229 = cond_179210 || y_179217;
                        bool y_179230 = zzero_leq_i_p_m_t_s_179220 && y_179226;
                        bool ok_or_empty_179231 = empty_slice_179207 || forwards_ok_179227;
                        bool protect_assert_disj_179232 = cond_179191 || ok_or_empty_179228;
                        bool index_certs_179233;
                        
                        if (!protect_assert_disj_179232) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) flat_dim_179201, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179234 = !cond_179191;
                        bool protect_assert_disj_179235 = protect_assert_disj_179229 || loop_not_taken_179234;
                        bool index_certs_179236;
                        
                        if (!protect_assert_disj_179235) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179237 = i_lte_j_179206 && y_179230;
                        bool protect_assert_disj_179238 = cond_179191 || ok_or_empty_179231;
                        bool index_certs_179239;
                        
                        if (!protect_assert_disj_179238) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179240 = ok_or_empty_179231 || loop_not_taken_179234;
                        bool index_certs_179241;
                        
                        if (!protect_assert_disj_179240) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179242 = empty_slice_179203 || forwards_ok_179237;
                        bool protect_assert_disj_179243 = cond_179191 || ok_or_empty_179242;
                        bool index_certs_179244;
                        
                        if (!protect_assert_disj_179243) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179245 = loop_not_taken_179234 || ok_or_empty_179242;
                        bool index_certs_179246;
                        
                        if (!protect_assert_disj_179245) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181236 = next_stride_179179 * num_merges_179183;
                        int64_t binop_x_181238 = (int64_t) 8 * num_merges_179183;
                        int64_t bytes_181239 = next_stride_179179 * binop_x_181238;
                        int64_t binop_x_181241 = (int64_t) 4 * num_merges_179183;
                        int64_t bytes_181242 = next_stride_179179 * binop_x_181241;
                        bool i_lte_j_179190 = sle64((int64_t) 0, next_stride_179179);
                        
                        if (mem_181237_cached_sizze_182520 < bytes_181236) {
                            err = lexical_realloc(ctx, &mem_181237, &mem_181237_cached_sizze_182520, bytes_181236);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181240_cached_sizze_182521 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181240, &mem_181240_cached_sizze_182521, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181243_cached_sizze_182522 < bytes_181242) {
                            err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_182522, bytes_181242);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181256 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199;
                        int64_t binop_x_181274 = (int64_t) 8 * num_blocks_179198;
                        int64_t bytes_181275 = merge_block_sizze_178988 * binop_x_181274;
                        int64_t binop_x_181277 = (int64_t) 4 * num_blocks_179198;
                        int64_t bytes_181278 = merge_block_sizze_178988 * binop_x_181277;
                        int64_t bytes_181339 = (int64_t) 16 * stride_179178;
                        int64_t bytes_181341 = (int64_t) 8 * stride_179178;
                        
                        for (int64_t i_180410 = 0; i_180410 < num_merges_179183; i_180410++) {
                            int64_t start_179251 = mul64(next_stride_179179, i_180410);
                            int64_t j_m_i_179252 = sub64(loop_dz2084Uz2082U_179173, start_179251);
                            bool empty_slice_179253 = j_m_i_179252 == (int64_t) 0;
                            int64_t m_179254 = sub64(j_m_i_179252, (int64_t) 1);
                            int64_t i_p_m_t_s_179255 = add64(start_179251, m_179254);
                            bool zzero_leq_i_p_m_t_s_179256 = sle64((int64_t) 0, i_p_m_t_s_179255);
                            bool i_p_m_t_s_leq_w_179257 = slt64(i_p_m_t_s_179255, loop_dz2084Uz2082U_179173);
                            bool zzero_lte_i_179258 = sle64((int64_t) 0, start_179251);
                            bool i_lte_j_179259 = sle64(start_179251, loop_dz2084Uz2082U_179173);
                            bool y_179260 = i_p_m_t_s_leq_w_179257 && zzero_lte_i_179258;
                            bool y_179261 = zzero_leq_i_p_m_t_s_179256 && y_179260;
                            bool forwards_ok_179262 = i_lte_j_179259 && y_179261;
                            bool ok_or_empty_179263 = empty_slice_179253 || forwards_ok_179262;
                            bool index_certs_179264;
                            
                            if (!ok_or_empty_179263) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179251, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179173, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179265 = slt64(m_179188, j_m_i_179252);
                            bool y_179266 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179265;
                            bool forwards_ok_179267 = i_lte_j_179190 && y_179266;
                            bool ok_or_empty_179268 = zzero_179180 || forwards_ok_179267;
                            bool index_certs_179269;
                            
                            if (!ok_or_empty_179268) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) j_m_i_179252, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179191) {
                                int8_t dummy_179273;
                                int64_t dummy_179274;
                                float dummy_179275;
                                
                                if (cond_179210) {
                                    int8_t head_res_179276 = ((int8_t *) mem_param_181229.mem)[start_179251];
                                    int64_t head_res_179277 = ((int64_t *) mem_param_181232.mem)[start_179251];
                                    float head_res_179278 = ((float *) mem_param_181235.mem)[start_179251];
                                    
                                    dummy_179273 = head_res_179276;
                                    dummy_179274 = head_res_179277;
                                    dummy_179275 = head_res_179278;
                                } else {
                                    int64_t slice_179279 = stride_179178 + start_179251;
                                    int8_t head_res_179280 = ((int8_t *) mem_param_181229.mem)[slice_179279];
                                    int64_t head_res_179281 = ((int64_t *) mem_param_181232.mem)[slice_179279];
                                    float head_res_179282 = ((float *) mem_param_181235.mem)[slice_179279];
                                    
                                    dummy_179273 = head_res_179280;
                                    dummy_179274 = head_res_179281;
                                    dummy_179275 = head_res_179282;
                                }
                                if (memblock_alloc(ctx, &mem_181338, next_stride_179179, "mem_181338")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182184 = 0; nest_i_182184 < next_stride_179179; nest_i_182184++) {
                                    ((int8_t *) mem_181338.mem)[nest_i_182184] = dummy_179273;
                                }
                                if (memblock_alloc(ctx, &mem_181340, bytes_181339, "mem_181340")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182185 = 0; nest_i_182185 < next_stride_179179; nest_i_182185++) {
                                    ((int64_t *) mem_181340.mem)[nest_i_182185] = dummy_179274;
                                }
                                if (memblock_alloc(ctx, &mem_181342, bytes_181341, "mem_181342")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182186 = 0; nest_i_182186 < next_stride_179179; nest_i_182186++) {
                                    ((float *) mem_181342.mem)[nest_i_182186] = dummy_179275;
                                }
                                
                                int64_t data_179286;
                                int64_t i_179291 = (int64_t) 0;
                                
                                for (int64_t k_179290 = 0; k_179290 < next_stride_179179; k_179290++) {
                                    int64_t j_179295 = sub64(k_179290, i_179291);
                                    bool cond_179296 = j_179295 == j_m_i_179200;
                                    bool cond_179297;
                                    
                                    if (cond_179296) {
                                        cond_179297 = 1;
                                    } else {
                                        bool cond_179298 = slt64(i_179291, stride_179178);
                                        bool cond_f_res_179299;
                                        
                                        if (cond_179298) {
                                            bool x_179300 = sle64((int64_t) 0, j_179295);
                                            bool y_179301 = slt64(j_179295, j_m_i_179200);
                                            bool bounds_check_179302 = x_179300 && y_179301;
                                            bool index_certs_179303;
                                            
                                            if (!bounds_check_179302) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179309 = sle64((int64_t) 0, i_179291);
                                            bool bounds_check_179310 = cond_179298 && x_179309;
                                            bool index_certs_179311;
                                            
                                            if (!bounds_check_179310) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179304 = stride_179178 + j_179295;
                                            int64_t slice_179305 = start_179251 + slice_179304;
                                            int8_t leq_arg1_179306 = ((int8_t *) mem_param_181229.mem)[slice_179305];
                                            int64_t leq_arg1_179307 = ((int64_t *) mem_param_181232.mem)[slice_179305];
                                            float leq_arg1_179308 = ((float *) mem_param_181235.mem)[slice_179305];
                                            int64_t slice_179312 = start_179251 + i_179291;
                                            int8_t leq_arg0_179313 = ((int8_t *) mem_param_181229.mem)[slice_179312];
                                            int64_t leq_arg0_179314 = ((int64_t *) mem_param_181232.mem)[slice_179312];
                                            float leq_arg0_179315 = ((float *) mem_param_181235.mem)[slice_179312];
                                            bool cond_179316 = leq_arg0_179313 == leq_arg1_179306;
                                            bool defunc_0_leq_res_t_res_179317 = sle64(leq_arg0_179314, leq_arg1_179307);
                                            bool defunc_0_leq_res_179318 = leq_arg0_179315 <= leq_arg1_179308;
                                            bool x_179319 = cond_179316 && defunc_0_leq_res_t_res_179317;
                                            bool x_179320 = !cond_179316;
                                            bool y_179321 = defunc_0_leq_res_179318 && x_179320;
                                            bool defunc_0_leq_res_179322 = x_179319 || y_179321;
                                            
                                            cond_f_res_179299 = defunc_0_leq_res_179322;
                                        } else {
                                            cond_f_res_179299 = 0;
                                        }
                                        cond_179297 = cond_f_res_179299;
                                    }
                                    
                                    int64_t loopres_179323;
                                    int8_t loopres_179324;
                                    int64_t loopres_179325;
                                    float loopres_179326;
                                    
                                    if (cond_179297) {
                                        bool x_179328 = sle64((int64_t) 0, i_179291);
                                        bool y_179329 = slt64(i_179291, stride_179178);
                                        bool bounds_check_179330 = x_179328 && y_179329;
                                        bool index_certs_179331;
                                        
                                        if (!bounds_check_179330) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179327 = add64((int64_t) 1, i_179291);
                                        int64_t slice_179332 = start_179251 + i_179291;
                                        int8_t tmp_179333 = ((int8_t *) mem_param_181229.mem)[slice_179332];
                                        int64_t tmp_179334 = ((int64_t *) mem_param_181232.mem)[slice_179332];
                                        float tmp_179335 = ((float *) mem_param_181235.mem)[slice_179332];
                                        
                                        loopres_179323 = tmp_179327;
                                        loopres_179324 = tmp_179333;
                                        loopres_179325 = tmp_179334;
                                        loopres_179326 = tmp_179335;
                                    } else {
                                        bool x_179336 = sle64((int64_t) 0, j_179295);
                                        bool y_179337 = slt64(j_179295, j_m_i_179200);
                                        bool bounds_check_179338 = x_179336 && y_179337;
                                        bool index_certs_179339;
                                        
                                        if (!bounds_check_179338) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179340 = stride_179178 + j_179295;
                                        int64_t slice_179341 = start_179251 + slice_179340;
                                        int8_t tmp_179342 = ((int8_t *) mem_param_181229.mem)[slice_179341];
                                        int64_t tmp_179343 = ((int64_t *) mem_param_181232.mem)[slice_179341];
                                        float tmp_179344 = ((float *) mem_param_181235.mem)[slice_179341];
                                        
                                        loopres_179323 = i_179291;
                                        loopres_179324 = tmp_179342;
                                        loopres_179325 = tmp_179343;
                                        loopres_179326 = tmp_179344;
                                    }
                                    ((int8_t *) mem_181338.mem)[k_179290] = loopres_179324;
                                    ((int64_t *) mem_181340.mem)[k_179290] = loopres_179325;
                                    ((float *) mem_181342.mem)[k_179290] = loopres_179326;
                                    
                                    int64_t i_tmp_182187 = loopres_179323;
                                    
                                    i_179291 = i_tmp_182187;
                                }
                                data_179286 = i_179291;
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181338, "mem_181338") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181340, "mem_181340") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181342, "mem_181342") != 0)
                                    return 1;
                            } else {
                                if (mem_181257_cached_sizze_182523 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181257, &mem_181257_cached_sizze_182523, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181259_cached_sizze_182524 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181259, &mem_181259_cached_sizze_182524, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180391 = 0; i_180391 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199; i_180391++) {
                                    int64_t split_count_arg3_179352 = mul64(merge_block_sizze_178988, i_180391);
                                    int64_t defunc_0_split_count_res_179353;
                                    int64_t defunc_0_split_count_res_179354;
                                    int64_t defunc_0_split_count_res_179355;
                                    int64_t defunc_0_split_count_res_179356;
                                    int64_t defunc_0_split_count_res_179357;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_179353, &defunc_0_split_count_res_179354, &defunc_0_split_count_res_179355, &defunc_0_split_count_res_179356, &defunc_0_split_count_res_179357, (int64_t) 0, stride_179178, (int64_t) 0, j_m_i_179200, split_count_arg3_179352) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179358 = slt64((int64_t) 0, defunc_0_split_count_res_179357);
                                    bool defunc_0_split_count_res_179359;
                                    int64_t defunc_0_split_count_res_179360;
                                    int64_t defunc_0_split_count_res_179361;
                                    int64_t defunc_0_split_count_res_179362;
                                    int64_t defunc_0_split_count_res_179363;
                                    int64_t defunc_0_split_count_res_179364;
                                    bool loop_while_179365;
                                    int64_t ss_179366;
                                    int64_t ss_179367;
                                    int64_t tt_179368;
                                    int64_t tt_179369;
                                    int64_t count_179370;
                                    
                                    loop_while_179365 = loop_cond_179358;
                                    ss_179366 = defunc_0_split_count_res_179353;
                                    ss_179367 = defunc_0_split_count_res_179354;
                                    tt_179368 = defunc_0_split_count_res_179355;
                                    tt_179369 = defunc_0_split_count_res_179356;
                                    count_179370 = defunc_0_split_count_res_179357;
                                    while (loop_while_179365) {
                                        int64_t zlze_lhs_179371 = sub64(ss_179367, ss_179366);
                                        bool cond_179372 = sle64(zlze_lhs_179371, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179373;
                                        int64_t defunc_0_lifted_step_res_179374;
                                        int64_t defunc_0_lifted_step_res_179375;
                                        int64_t defunc_0_lifted_step_res_179376;
                                        
                                        if (cond_179372) {
                                            int64_t tmp_179377 = add64(tt_179368, count_179370);
                                            
                                            defunc_0_lifted_step_res_179373 = ss_179366;
                                            defunc_0_lifted_step_res_179374 = tmp_179377;
                                            defunc_0_lifted_step_res_179375 = tt_179369;
                                            defunc_0_lifted_step_res_179376 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179378 = sub64(tt_179369, tt_179368);
                                            bool cond_179379 = sle64(zlze_lhs_179378, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179380;
                                            int64_t defunc_0_lifted_step_res_f_res_179381;
                                            int64_t defunc_0_lifted_step_res_f_res_179382;
                                            int64_t defunc_0_lifted_step_res_f_res_179383;
                                            
                                            if (cond_179379) {
                                                int64_t tmp_179384 = add64(ss_179366, count_179370);
                                                
                                                defunc_0_lifted_step_res_f_res_179380 = tmp_179384;
                                                defunc_0_lifted_step_res_f_res_179381 = tt_179368;
                                                defunc_0_lifted_step_res_f_res_179382 = tt_179369;
                                                defunc_0_lifted_step_res_f_res_179383 = (int64_t) 0;
                                            } else {
                                                bool cond_179385 = count_179370 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179386;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179387;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179388;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179389;
                                                
                                                if (cond_179385) {
                                                    bool x_179390 = sle64((int64_t) 0, ss_179366);
                                                    bool y_179391 = slt64(ss_179366, stride_179178);
                                                    bool bounds_check_179392 = x_179390 && y_179391;
                                                    bool index_certs_179393;
                                                    
                                                    if (!bounds_check_179392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179366, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179398 = sle64((int64_t) 0, tt_179368);
                                                    bool y_179399 = slt64(tt_179368, j_m_i_179200);
                                                    bool bounds_check_179400 = x_179398 && y_179399;
                                                    bool index_certs_179401;
                                                    
                                                    if (!bounds_check_179400) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179368, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179394 = start_179251 + ss_179366;
                                                    int8_t leq_arg1_179395 = ((int8_t *) mem_param_181229.mem)[slice_179394];
                                                    int64_t leq_arg1_179396 = ((int64_t *) mem_param_181232.mem)[slice_179394];
                                                    float leq_arg1_179397 = ((float *) mem_param_181235.mem)[slice_179394];
                                                    int64_t slice_179402 = stride_179178 + tt_179368;
                                                    int64_t slice_179403 = start_179251 + slice_179402;
                                                    int8_t leq_arg0_179404 = ((int8_t *) mem_param_181229.mem)[slice_179403];
                                                    int64_t leq_arg0_179405 = ((int64_t *) mem_param_181232.mem)[slice_179403];
                                                    float leq_arg0_179406 = ((float *) mem_param_181235.mem)[slice_179403];
                                                    bool cond_179407 = leq_arg0_179404 == leq_arg1_179395;
                                                    bool defunc_0_leq_res_t_res_179408 = sle64(leq_arg0_179405, leq_arg1_179396);
                                                    bool defunc_0_leq_res_179409 = leq_arg0_179406 <= leq_arg1_179397;
                                                    bool x_179410 = cond_179407 && defunc_0_leq_res_t_res_179408;
                                                    bool x_179411 = !cond_179407;
                                                    bool y_179412 = defunc_0_leq_res_179409 && x_179411;
                                                    bool defunc_0_leq_res_179413 = x_179410 || y_179412;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    
                                                    if (defunc_0_leq_res_179413) {
                                                        int64_t tmp_179416 = add64((int64_t) 1, tt_179368);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = ss_179366;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tmp_179416;
                                                    } else {
                                                        int64_t tmp_179417 = add64((int64_t) 1, ss_179366);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = tmp_179417;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tt_179368;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = tt_179369;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179418 = sdiv64(count_179370, (int64_t) 2);
                                                    int64_t n_179419 = sub64(count_179370, m_179418);
                                                    bool cond_179420 = n_179419 == (int64_t) 0;
                                                    int64_t zgze_lhs_179421 = add64(ss_179366, m_179418);
                                                    bool cond_f_res_179422 = sle64(ss_179367, zgze_lhs_179421);
                                                    bool x_179423 = !cond_179420;
                                                    bool y_179424 = cond_f_res_179422 && x_179423;
                                                    bool cond_179425 = cond_179420 || y_179424;
                                                    bool leq_y_x_179426;
                                                    
                                                    if (cond_179425) {
                                                        leq_y_x_179426 = 1;
                                                    } else {
                                                        bool x_179427 = sle64((int64_t) 0, zgze_lhs_179421);
                                                        bool y_179428 = slt64(zgze_lhs_179421, stride_179178);
                                                        bool bounds_check_179429 = x_179427 && y_179428;
                                                        bool index_certs_179430;
                                                        
                                                        if (!bounds_check_179429) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179421, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179435 = add64(tt_179368, n_179419);
                                                        int64_t leq_arg0_179436 = sub64(zm_lhs_179435, (int64_t) 1);
                                                        bool x_179437 = sle64((int64_t) 0, leq_arg0_179436);
                                                        bool y_179438 = slt64(leq_arg0_179436, j_m_i_179200);
                                                        bool bounds_check_179439 = x_179437 && y_179438;
                                                        bool index_certs_179440;
                                                        
                                                        if (!bounds_check_179439) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179436, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179431 = start_179251 + zgze_lhs_179421;
                                                        int8_t leq_arg1_179432 = ((int8_t *) mem_param_181229.mem)[slice_179431];
                                                        int64_t leq_arg1_179433 = ((int64_t *) mem_param_181232.mem)[slice_179431];
                                                        float leq_arg1_179434 = ((float *) mem_param_181235.mem)[slice_179431];
                                                        int64_t slice_179441 = stride_179178 + leq_arg0_179436;
                                                        int64_t slice_179442 = start_179251 + slice_179441;
                                                        int8_t leq_arg0_179443 = ((int8_t *) mem_param_181229.mem)[slice_179442];
                                                        int64_t leq_arg0_179444 = ((int64_t *) mem_param_181232.mem)[slice_179442];
                                                        float leq_arg0_179445 = ((float *) mem_param_181235.mem)[slice_179442];
                                                        bool cond_179446 = leq_arg0_179443 == leq_arg1_179432;
                                                        bool defunc_0_leq_res_t_res_179447 = sle64(leq_arg0_179444, leq_arg1_179433);
                                                        bool defunc_0_leq_res_179448 = leq_arg0_179445 <= leq_arg1_179434;
                                                        bool x_179449 = cond_179446 && defunc_0_leq_res_t_res_179447;
                                                        bool x_179450 = !cond_179446;
                                                        bool y_179451 = defunc_0_leq_res_179448 && x_179450;
                                                        bool defunc_0_leq_res_179452 = x_179449 || y_179451;
                                                        
                                                        leq_y_x_179426 = defunc_0_leq_res_179452;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                    
                                                    if (leq_y_x_179426) {
                                                        int64_t tmp_179456 = add64(tt_179368, n_179419);
                                                        int64_t tmp_179457 = sub64(count_179370, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tmp_179456;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tt_179369;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = tmp_179457;
                                                    } else {
                                                        int64_t tmp_179458 = add64(tt_179368, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tt_179368;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tmp_179458;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = count_179370;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = ss_179366;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                }
                                                defunc_0_lifted_step_res_f_res_179380 = defunc_0_lifted_step_res_f_res_f_res_179386;
                                                defunc_0_lifted_step_res_f_res_179381 = defunc_0_lifted_step_res_f_res_f_res_179387;
                                                defunc_0_lifted_step_res_f_res_179382 = defunc_0_lifted_step_res_f_res_f_res_179388;
                                                defunc_0_lifted_step_res_f_res_179383 = defunc_0_lifted_step_res_f_res_f_res_179389;
                                            }
                                            defunc_0_lifted_step_res_179373 = defunc_0_lifted_step_res_f_res_179380;
                                            defunc_0_lifted_step_res_179374 = defunc_0_lifted_step_res_f_res_179381;
                                            defunc_0_lifted_step_res_179375 = defunc_0_lifted_step_res_f_res_179382;
                                            defunc_0_lifted_step_res_179376 = defunc_0_lifted_step_res_f_res_179383;
                                        }
                                        
                                        int64_t loopres_179459;
                                        int64_t loopres_179460;
                                        int64_t loopres_179461;
                                        int64_t loopres_179462;
                                        int64_t loopres_179463;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_179459, &loopres_179460, &loopres_179461, &loopres_179462, &loopres_179463, defunc_0_lifted_step_res_179373, ss_179367, defunc_0_lifted_step_res_179374, defunc_0_lifted_step_res_179375, defunc_0_lifted_step_res_179376) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179464 = slt64((int64_t) 0, loopres_179463);
                                        bool loop_while_tmp_182193 = loop_cond_179464;
                                        int64_t ss_tmp_182194 = loopres_179459;
                                        int64_t ss_tmp_182195 = loopres_179460;
                                        int64_t tt_tmp_182196 = loopres_179461;
                                        int64_t tt_tmp_182197 = loopres_179462;
                                        int64_t count_tmp_182198 = loopres_179463;
                                        
                                        loop_while_179365 = loop_while_tmp_182193;
                                        ss_179366 = ss_tmp_182194;
                                        ss_179367 = ss_tmp_182195;
                                        tt_179368 = tt_tmp_182196;
                                        tt_179369 = tt_tmp_182197;
                                        count_179370 = count_tmp_182198;
                                    }
                                    defunc_0_split_count_res_179359 = loop_while_179365;
                                    defunc_0_split_count_res_179360 = ss_179366;
                                    defunc_0_split_count_res_179361 = ss_179367;
                                    defunc_0_split_count_res_179362 = tt_179368;
                                    defunc_0_split_count_res_179363 = tt_179369;
                                    defunc_0_split_count_res_179364 = count_179370;
                                    ((int64_t *) mem_181257)[i_180391] = defunc_0_split_count_res_179360;
                                    ((int64_t *) mem_181259)[i_180391] = defunc_0_split_count_res_179362;
                                }
                                if (mem_181273_cached_sizze_182525 < flat_dim_179201) {
                                    err = lexical_realloc(ctx, &mem_181273, &mem_181273_cached_sizze_182525, flat_dim_179201);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181276_cached_sizze_182526 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181276, &mem_181276_cached_sizze_182526, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181279_cached_sizze_182527 < bytes_181278) {
                                    err = lexical_realloc(ctx, &mem_181279, &mem_181279_cached_sizze_182527, bytes_181278);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180400 = 0; i_180400 < num_blocks_179198; i_180400++) {
                                    bool y_179473 = slt64(i_180400, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool index_certs_179475;
                                    
                                    if (!y_179473) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180400, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179476 = ((int64_t *) mem_181257)[i_180400];
                                    int64_t defunc_0_f_res_179477 = ((int64_t *) mem_181259)[i_180400];
                                    int64_t tmp_179478 = add64((int64_t) 1, i_180400);
                                    bool x_179479 = sle64((int64_t) 0, tmp_179478);
                                    bool y_179480 = slt64(tmp_179478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool bounds_check_179481 = x_179479 && y_179480;
                                    bool index_certs_179482;
                                    
                                    if (!bounds_check_179481) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179478, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179483 = ((int64_t *) mem_181257)[tmp_179478];
                                    int64_t defunc_0_f_res_179484 = ((int64_t *) mem_181259)[tmp_179478];
                                    int64_t merge_sequential_arg2_179485 = add64(stride_179178, defunc_0_f_res_179477);
                                    int64_t merge_sequential_arg2_179486 = add64(stride_179178, defunc_0_f_res_179484);
                                    int64_t j_m_i_179487 = sub64(merge_sequential_arg2_179486, merge_sequential_arg2_179485);
                                    bool empty_slice_179488 = j_m_i_179487 == (int64_t) 0;
                                    int64_t m_179489 = sub64(j_m_i_179487, (int64_t) 1);
                                    int64_t i_p_m_t_s_179490 = add64(merge_sequential_arg2_179485, m_179489);
                                    bool zzero_leq_i_p_m_t_s_179491 = sle64((int64_t) 0, i_p_m_t_s_179490);
                                    bool i_p_m_t_s_leq_w_179492 = slt64(i_p_m_t_s_179490, next_stride_179179);
                                    bool zzero_lte_i_179493 = sle64((int64_t) 0, merge_sequential_arg2_179485);
                                    bool i_lte_j_179494 = sle64(merge_sequential_arg2_179485, merge_sequential_arg2_179486);
                                    bool y_179495 = i_p_m_t_s_leq_w_179492 && zzero_lte_i_179493;
                                    bool y_179496 = zzero_leq_i_p_m_t_s_179491 && y_179495;
                                    bool forwards_ok_179497 = i_lte_j_179494 && y_179496;
                                    bool ok_or_empty_179498 = empty_slice_179488 || forwards_ok_179497;
                                    bool index_certs_179499;
                                    
                                    if (!ok_or_empty_179498) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179485, ":", (long long) merge_sequential_arg2_179486, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179500 = sub64(defunc_0_f_res_179483, defunc_0_f_res_179476);
                                    bool empty_slice_179501 = j_m_i_179500 == (int64_t) 0;
                                    int64_t m_179502 = sub64(j_m_i_179500, (int64_t) 1);
                                    int64_t i_p_m_t_s_179503 = add64(defunc_0_f_res_179476, m_179502);
                                    bool zzero_leq_i_p_m_t_s_179504 = sle64((int64_t) 0, i_p_m_t_s_179503);
                                    bool i_p_m_t_s_leq_w_179505 = slt64(i_p_m_t_s_179503, next_stride_179179);
                                    bool zzero_lte_i_179506 = sle64((int64_t) 0, defunc_0_f_res_179476);
                                    bool i_lte_j_179507 = sle64(defunc_0_f_res_179476, defunc_0_f_res_179483);
                                    bool y_179508 = i_p_m_t_s_leq_w_179505 && zzero_lte_i_179506;
                                    bool y_179509 = zzero_leq_i_p_m_t_s_179504 && y_179508;
                                    bool forwards_ok_179510 = i_lte_j_179507 && y_179509;
                                    bool ok_or_empty_179511 = empty_slice_179501 || forwards_ok_179510;
                                    bool index_certs_179512;
                                    
                                    if (!ok_or_empty_179511) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179476, ":", (long long) defunc_0_f_res_179483, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179513 = slt64((int64_t) 0, j_m_i_179500);
                                    int8_t dummy_179514;
                                    int64_t dummy_179515;
                                    float dummy_179516;
                                    
                                    if (cond_179513) {
                                        bool index_certs_179517;
                                        
                                        if (!cond_179513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179518 = start_179251 + defunc_0_f_res_179476;
                                        int8_t head_res_179519 = ((int8_t *) mem_param_181229.mem)[slice_179518];
                                        int64_t head_res_179520 = ((int64_t *) mem_param_181232.mem)[slice_179518];
                                        float head_res_179521 = ((float *) mem_param_181235.mem)[slice_179518];
                                        
                                        dummy_179514 = head_res_179519;
                                        dummy_179515 = head_res_179520;
                                        dummy_179516 = head_res_179521;
                                    } else {
                                        bool y_179522 = slt64((int64_t) 0, j_m_i_179487);
                                        bool index_certs_179523;
                                        
                                        if (!y_179522) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179524 = start_179251 + merge_sequential_arg2_179485;
                                        int8_t head_res_179525 = ((int8_t *) mem_param_181229.mem)[slice_179524];
                                        int64_t head_res_179526 = ((int64_t *) mem_param_181232.mem)[slice_179524];
                                        float head_res_179527 = ((float *) mem_param_181235.mem)[slice_179524];
                                        
                                        dummy_179514 = head_res_179525;
                                        dummy_179515 = head_res_179526;
                                        dummy_179516 = head_res_179527;
                                    }
                                    for (int64_t nest_i_182202 = 0; nest_i_182202 < merge_block_sizze_178988; nest_i_182202++) {
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + nest_i_182202] = dummy_179514;
                                    }
                                    for (int64_t nest_i_182203 = 0; nest_i_182203 < merge_block_sizze_178988; nest_i_182203++) {
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + nest_i_182203] = dummy_179515;
                                    }
                                    for (int64_t nest_i_182204 = 0; nest_i_182204 < merge_block_sizze_178988; nest_i_182204++) {
                                        ((float *) mem_181279)[i_180400 * merge_block_sizze_178988 + nest_i_182204] = dummy_179516;
                                    }
                                    
                                    int64_t data_179531;
                                    int64_t i_179536 = (int64_t) 0;
                                    
                                    for (int64_t k_179535 = 0; k_179535 < merge_block_sizze_178988; k_179535++) {
                                        int64_t j_179540 = sub64(k_179535, i_179536);
                                        bool cond_179541 = j_179540 == j_m_i_179487;
                                        bool cond_179542;
                                        
                                        if (cond_179541) {
                                            cond_179542 = 1;
                                        } else {
                                            bool cond_179543 = slt64(i_179536, j_m_i_179500);
                                            bool cond_f_res_179544;
                                            
                                            if (cond_179543) {
                                                bool x_179545 = sle64((int64_t) 0, j_179540);
                                                bool y_179546 = slt64(j_179540, j_m_i_179487);
                                                bool bounds_check_179547 = x_179545 && y_179546;
                                                bool index_certs_179548;
                                                
                                                if (!bounds_check_179547) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179554 = sle64((int64_t) 0, i_179536);
                                                bool bounds_check_179555 = cond_179543 && x_179554;
                                                bool index_certs_179556;
                                                
                                                if (!bounds_check_179555) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179549 = merge_sequential_arg2_179485 + j_179540;
                                                int64_t slice_179550 = start_179251 + slice_179549;
                                                int8_t leq_arg1_179551 = ((int8_t *) mem_param_181229.mem)[slice_179550];
                                                int64_t leq_arg1_179552 = ((int64_t *) mem_param_181232.mem)[slice_179550];
                                                float leq_arg1_179553 = ((float *) mem_param_181235.mem)[slice_179550];
                                                int64_t slice_179557 = defunc_0_f_res_179476 + i_179536;
                                                int64_t slice_179558 = start_179251 + slice_179557;
                                                int8_t leq_arg0_179559 = ((int8_t *) mem_param_181229.mem)[slice_179558];
                                                int64_t leq_arg0_179560 = ((int64_t *) mem_param_181232.mem)[slice_179558];
                                                float leq_arg0_179561 = ((float *) mem_param_181235.mem)[slice_179558];
                                                bool cond_179562 = leq_arg0_179559 == leq_arg1_179551;
                                                bool defunc_0_leq_res_t_res_179563 = sle64(leq_arg0_179560, leq_arg1_179552);
                                                bool defunc_0_leq_res_179564 = leq_arg0_179561 <= leq_arg1_179553;
                                                bool x_179565 = cond_179562 && defunc_0_leq_res_t_res_179563;
                                                bool x_179566 = !cond_179562;
                                                bool y_179567 = defunc_0_leq_res_179564 && x_179566;
                                                bool defunc_0_leq_res_179568 = x_179565 || y_179567;
                                                
                                                cond_f_res_179544 = defunc_0_leq_res_179568;
                                            } else {
                                                cond_f_res_179544 = 0;
                                            }
                                            cond_179542 = cond_f_res_179544;
                                        }
                                        
                                        int64_t loopres_179569;
                                        int8_t loopres_179570;
                                        int64_t loopres_179571;
                                        float loopres_179572;
                                        
                                        if (cond_179542) {
                                            bool x_179574 = sle64((int64_t) 0, i_179536);
                                            bool y_179575 = slt64(i_179536, j_m_i_179500);
                                            bool bounds_check_179576 = x_179574 && y_179575;
                                            bool index_certs_179577;
                                            
                                            if (!bounds_check_179576) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179573 = add64((int64_t) 1, i_179536);
                                            int64_t slice_179578 = defunc_0_f_res_179476 + i_179536;
                                            int64_t slice_179579 = start_179251 + slice_179578;
                                            int8_t tmp_179580 = ((int8_t *) mem_param_181229.mem)[slice_179579];
                                            int64_t tmp_179581 = ((int64_t *) mem_param_181232.mem)[slice_179579];
                                            float tmp_179582 = ((float *) mem_param_181235.mem)[slice_179579];
                                            
                                            loopres_179569 = tmp_179573;
                                            loopres_179570 = tmp_179580;
                                            loopres_179571 = tmp_179581;
                                            loopres_179572 = tmp_179582;
                                        } else {
                                            bool x_179583 = sle64((int64_t) 0, j_179540);
                                            bool y_179584 = slt64(j_179540, j_m_i_179487);
                                            bool bounds_check_179585 = x_179583 && y_179584;
                                            bool index_certs_179586;
                                            
                                            if (!bounds_check_179585) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179587 = merge_sequential_arg2_179485 + j_179540;
                                            int64_t slice_179588 = start_179251 + slice_179587;
                                            int8_t tmp_179589 = ((int8_t *) mem_param_181229.mem)[slice_179588];
                                            int64_t tmp_179590 = ((int64_t *) mem_param_181232.mem)[slice_179588];
                                            float tmp_179591 = ((float *) mem_param_181235.mem)[slice_179588];
                                            
                                            loopres_179569 = i_179536;
                                            loopres_179570 = tmp_179589;
                                            loopres_179571 = tmp_179590;
                                            loopres_179572 = tmp_179591;
                                        }
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179570;
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179571;
                                        ((float *) mem_181279)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179572;
                                        
                                        int64_t i_tmp_182205 = loopres_179569;
                                        
                                        i_179536 = i_tmp_182205;
                                    }
                                    data_179531 = i_179536;
                                }
                                if (memblock_alloc(ctx, &mem_181328, flat_dim_179201, "mem_181328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181328.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint8_t *) mem_181273, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181332, bytes_181275, "mem_181332")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181332.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181276, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181336, bytes_181278, "mem_181336")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181336.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint32_t *) mem_181279, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181328, "mem_181328") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181332, "mem_181332") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181336, "mem_181336") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181237, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181240, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181366.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181243, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181363.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181383, bytes_181236, "mem_181383")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181383.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint8_t *) mem_181237, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181387, bytes_181239, "mem_181387")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181387.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181240, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181391, bytes_181242, "mem_181391")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181391.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint32_t *) mem_181243, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        
                        bool loop_cond_179611 = slt64(next_stride_179179, flat_dim_178983);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182172, &mem_181383, "mem_181383") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182173, &mem_181387, "mem_181387") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182174, &mem_181391, "mem_181391") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182175 = bytes_181236;
                        bool loop_while_tmp_182176 = loop_cond_179611;
                        int64_t stride_tmp_182180 = next_stride_179179;
                        
                        if (memblock_set(ctx, &mem_param_181229, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181232, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181235, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179173 = loop_dz2084Uz2082U_tmp_182175;
                        loop_while_179174 = loop_while_tmp_182176;
                        stride_179178 = stride_tmp_182180;
                    }
                    if (memblock_set(ctx, &ext_mem_181401, &mem_param_181229, "mem_param_181229") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_param_181232, "mem_param_181232") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181399, &mem_param_181235, "mem_param_181235") != 0)
                        return 1;
                    data_179167 = loop_dz2084Uz2082U_179173;
                    data_179168 = loop_while_179174;
                    data_179172 = stride_179178;
                    if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
                        return 1;
                    
                    bool empty_slice_179612 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179613 = sle64((int64_t) 0, zs_lhs_178967);
                    bool i_p_m_t_s_leq_w_179614 = slt64(zs_lhs_178967, data_179167);
                    bool y_179615 = zzero_leq_i_p_m_t_s_179613 && i_p_m_t_s_leq_w_179614;
                    bool ok_or_empty_179616 = empty_slice_179612 || y_179615;
                    bool index_certs_179617;
                    
                    if (!ok_or_empty_179616) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] out of bounds for array of shape [", (long long) data_179167, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181410, &ext_mem_181401, "ext_mem_181401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &ext_mem_181400, "ext_mem_181400") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &ext_mem_181399, "ext_mem_181399") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181077, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181410.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181080, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181407.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181083, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
                    return 1;
                for (int64_t i_180416 = 0; i_180416 < perThread_175244; i_180416++) {
                    int64_t lifted_lambda_res_179639 = add64(zm_rhs_178923, i_180416);
                    
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + i_180416] = lifted_lambda_res_179639;
                }
                
                bool cond_179641 = card_178924 == zp_rhs_175243;
                
                if (cond_179641) {
                    bool y_179643 = slt64(card_178924, perThread_175244);
                    bool index_certs_179644;
                    
                    if (!y_179643) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + card_178924] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181436, bytes_180731, "mem_181436")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182210 = 0; nest_i_182210 < window_sizze_152419; nest_i_182210++) {
                ((float *) mem_181436.mem)[nest_i_182210] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_181438, bytes_180729, "mem_181438")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182211 = 0; nest_i_182211 < window_sizze_152419; nest_i_182211++) {
                ((int64_t *) mem_181438.mem)[nest_i_182211] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181439, window_sizze_152419, "mem_181439")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182212 = 0; nest_i_182212 < window_sizze_152419; nest_i_182212++) {
                ((int8_t *) mem_181439.mem)[nest_i_182212] = (int8_t) -1;
            }
            for (int64_t write_iter_180431 = 0; write_iter_180431 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245; write_iter_180431++) {
                int64_t new_index_180583 = squot64(write_iter_180431, perThread_175244);
                int64_t binop_y_180585 = perThread_175244 * new_index_180583;
                int64_t new_index_180586 = write_iter_180431 - binop_y_180585;
                int64_t write_iv_180435 = ((int64_t *) mem_181075)[new_index_180583 * perThread_175244 + new_index_180586];
                int8_t write_iv_180436 = ((int8_t *) mem_181077)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180437 = ((int64_t *) mem_181080)[new_index_180583 * perThread_175244 + new_index_180586];
                float write_iv_180438 = ((float *) mem_181083)[new_index_180583 * perThread_175244 + new_index_180586];
                
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_152419)) {
                    ((int8_t *) mem_181439.mem)[write_iv_180435] = write_iv_180436;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_152419)) {
                    ((int64_t *) mem_181438.mem)[write_iv_180435] = write_iv_180437;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_152419)) {
                    ((float *) mem_181436.mem)[write_iv_180435] = write_iv_180438;
                }
            }
            
            int64_t index_concat_branch_179667;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179668 = ((int64_t *) mem_181058)[index_concat_i_178008];
                
                index_concat_branch_179667 = index_concat_179668;
            } else {
                index_concat_branch_179667 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179669;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179670 = ((int64_t *) mem_181060)[index_concat_i_178008];
                
                index_concat_branch_179669 = index_concat_179670;
            } else {
                index_concat_branch_179669 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_181439, "mem_181439") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_181438, "mem_181438") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_181436, "mem_181436") != 0)
                return 1;
            loopres_175234 = index_concat_branch_179667;
            loopres_175235 = index_concat_branch_179669;
        } else {
            float leq_lhs_176225 = ((float *) a_list_mem_180696.mem)[p_175206];
            float leq_rhs_176228 = ((float *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_176229 = leq_lhs_176225 <= leq_rhs_176228;
            float lowest_176230;
            
            if (defunc_0_leq_res_176229) {
                bool index_certs_179671;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_lhs_176225;
            } else {
                bool index_certs_176235;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_rhs_176228;
            }
            if (mem_180713_cached_sizze_182492 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182492, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180715_cached_sizze_182493 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182493, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180446 = 0; i_180446 < threads_152420; i_180446++) {
                int64_t index_primexp_180662 = add64((int64_t) 1, i_180446);
                int64_t zs_lhs_176251 = mul64(zt_rhs_176244, index_primexp_180662);
                int64_t index_176252 = sdiv64(zs_lhs_176251, partitionFunc_arg0_176221);
                bool cond_176253 = slt64(window_sizze_152419, index_176252);
                int64_t loop_over_176254;
                
                if (cond_176253) {
                    loop_over_176254 = window_sizze_152419;
                } else {
                    loop_over_176254 = index_176252;
                }
                
                int64_t loop_over_176255;
                
                if (cond_176253) {
                    int64_t loop_over_t_res_179672 = sub64(index_176252, window_sizze_152419);
                    
                    loop_over_176255 = loop_over_t_res_179672;
                } else {
                    loop_over_176255 = (int64_t) 0;
                }
                
                int64_t loop_over_176257;
                
                if (cond_176253) {
                    int64_t zm_lhs_179673 = sub64(index_176252, window_sizze_152419);
                    int64_t loop_over_t_res_179674 = sub64(zm_lhs_179673, (int64_t) 1);
                    
                    loop_over_176257 = loop_over_t_res_179674;
                } else {
                    loop_over_176257 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176260;
                int64_t defunc_0_f_res_176261;
                int64_t defunc_0_f_res_176262;
                int64_t defunc_0_f_res_176263;
                bool loop_while_176264;
                int64_t p_176265;
                int64_t p_176266;
                int64_t p_176267;
                
                loop_while_176264 = 1;
                p_176265 = loop_over_176257;
                p_176266 = loop_over_176254;
                p_176267 = loop_over_176255;
                while (loop_while_176264) {
                    int64_t zs_lhs_176268 = sub64(p_176266, p_176265);
                    int64_t offset_176269 = sdiv64(zs_lhs_176268, (int64_t) 2);
                    int64_t ai_176270 = sub64(p_176266, offset_176269);
                    int64_t max_arg1_176271 = add64(p_176267, offset_176269);
                    int64_t max_res_176272 = smax64((int64_t) 0, max_arg1_176271);
                    bool cond_176273 = slt64((int64_t) 0, max_res_176272);
                    float b_prev_176274;
                    
                    if (cond_176273) {
                        int64_t tmp_179675 = sub64(max_res_176272, (int64_t) 1);
                        bool x_179676 = sle64((int64_t) 0, tmp_179675);
                        bool y_179677 = slt64(tmp_179675, window_sizze_152419);
                        bool bounds_check_179678 = x_179676 && y_179677;
                        bool index_certs_179679;
                        
                        if (!bounds_check_179678) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179675, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179680 = p_175207 + tmp_179675;
                        float b_prev_t_res_179681 = ((float *) b_list_mem_180697.mem)[slice_179680];
                        
                        b_prev_176274 = b_prev_t_res_179681;
                    } else {
                        b_prev_176274 = lowest_176230;
                    }
                    
                    bool cond_176281 = sle64(ai_176270, (int64_t) 0);
                    int64_t loopres_176282;
                    int64_t loopres_176283;
                    int64_t loopres_176284;
                    bool loopres_176285;
                    
                    if (cond_176281) {
                        loopres_176282 = p_176265;
                        loopres_176283 = (int64_t) 0;
                        loopres_176284 = max_res_176272;
                        loopres_176285 = 0;
                    } else {
                        bool cond_176286 = sle64(window_sizze_152419, max_res_176272);
                        int64_t loopres_f_res_176287;
                        int64_t loopres_f_res_176288;
                        int64_t loopres_f_res_176289;
                        bool loopres_f_res_176290;
                        
                        if (cond_176286) {
                            int64_t min_res_179683 = smin64(m_175195, ai_176270);
                            bool x_179684 = sle64((int64_t) 0, m_175195);
                            bool y_179685 = slt64(m_175195, window_sizze_152419);
                            bool bounds_check_179686 = x_179684 && y_179685;
                            bool index_certs_179687;
                            
                            if (!bounds_check_179686) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179690 = sle64((int64_t) 0, min_res_179683);
                            bool y_179691 = slt64(min_res_179683, window_sizze_152419);
                            bool bounds_check_179692 = x_179690 && y_179691;
                            bool index_certs_179693;
                            
                            if (!bounds_check_179692) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179683, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_179689 = ((float *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_179694 = p_175206 + min_res_179683;
                            float leq_rhs_179695 = ((float *) a_list_mem_180696.mem)[slice_179694];
                            bool defunc_0_leq_res_179696 = leq_lhs_179689 <= leq_rhs_179695;
                            int64_t loopres_f_res_t_res_179697;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179697 = ai_176270;
                            } else {
                                loopres_f_res_t_res_179697 = p_176266;
                            }
                            
                            bool x_179698 = !defunc_0_leq_res_179696;
                            int64_t loopres_f_res_t_res_179699;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179699 = window_sizze_152419;
                            } else {
                                int64_t tmp_179700 = sub64(m_175195, offset_176269);
                                
                                loopres_f_res_t_res_179699 = tmp_179700;
                            }
                            loopres_f_res_176287 = p_176265;
                            loopres_f_res_176288 = loopres_f_res_t_res_179697;
                            loopres_f_res_176289 = loopres_f_res_t_res_179699;
                            loopres_f_res_176290 = x_179698;
                        } else {
                            bool cond_176308 = sle64(window_sizze_152419, ai_176270);
                            int64_t loopres_f_res_f_res_176309;
                            int64_t loopres_f_res_f_res_176310;
                            int64_t loopres_f_res_f_res_176311;
                            bool loopres_f_res_f_res_176312;
                            
                            if (cond_176308) {
                                int64_t min_res_179702 = smin64(m_175195, max_res_176272);
                                bool x_179703 = sle64((int64_t) 0, m_175195);
                                bool y_179704 = slt64(m_175195, window_sizze_152419);
                                bool bounds_check_179705 = x_179703 && y_179704;
                                bool index_certs_179706;
                                
                                if (!bounds_check_179705) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179709 = sle64((int64_t) 0, min_res_179702);
                                bool y_179710 = slt64(min_res_179702, window_sizze_152419);
                                bool bounds_check_179711 = x_179709 && y_179710;
                                bool index_certs_179712;
                                
                                if (!bounds_check_179711) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179702, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_179708 = ((float *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_179713 = p_175207 + min_res_179702;
                                float leq_rhs_179714 = ((float *) b_list_mem_180697.mem)[slice_179713];
                                bool defunc_0_leq_res_179715 = leq_lhs_179708 <= leq_rhs_179714;
                                int64_t loopres_f_res_f_res_t_res_179716;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179716 = max_res_176272;
                                } else {
                                    loopres_f_res_f_res_t_res_179716 = p_176267;
                                }
                                
                                bool x_179717 = !defunc_0_leq_res_179715;
                                int64_t loopres_f_res_f_res_t_res_179718;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179718 = window_sizze_152419;
                                } else {
                                    loopres_f_res_f_res_t_res_179718 = m_175195;
                                }
                                loopres_f_res_f_res_176309 = p_176265;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_t_res_179718;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_t_res_179716;
                                loopres_f_res_f_res_176312 = x_179717;
                            } else {
                                bool cond_176329 = sle64(p_176266, p_176265);
                                int64_t loopres_f_res_f_res_f_res_176330;
                                int64_t loopres_f_res_f_res_f_res_176331;
                                int64_t loopres_f_res_f_res_f_res_176332;
                                bool loopres_f_res_f_res_f_res_176333;
                                
                                if (cond_176329) {
                                    bool cond_179757 = slt64(ai_176270, window_sizze_152419);
                                    int64_t ai_179758;
                                    
                                    if (cond_179757) {
                                        ai_179758 = ai_176270;
                                    } else {
                                        ai_179758 = m_175195;
                                    }
                                    
                                    bool x_179771 = sle64((int64_t) 0, ai_179758);
                                    bool y_179772 = slt64(ai_179758, window_sizze_152419);
                                    bool bounds_check_179773 = x_179771 && y_179772;
                                    bool index_certs_179774;
                                    
                                    if (!bounds_check_179773) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179758, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179760;
                                    
                                    if (cond_176273) {
                                        int64_t tmp_179761 = sub64(max_res_176272, (int64_t) 1);
                                        bool x_179762 = sle64((int64_t) 0, tmp_179761);
                                        bool y_179763 = slt64(tmp_179761, window_sizze_152419);
                                        bool bounds_check_179764 = x_179762 && y_179763;
                                        bool index_certs_179765;
                                        
                                        if (!bounds_check_179764) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179761, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179766 = p_175207 + tmp_179761;
                                        float b_prev_t_res_179767 = ((float *) b_list_mem_180697.mem)[slice_179766];
                                        
                                        b_prev_179760 = b_prev_t_res_179767;
                                    } else {
                                        bool index_certs_179769;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179760 = leq_rhs_176228;
                                    }
                                    
                                    int64_t slice_179775 = p_175206 + ai_179758;
                                    float gt_lhs_179776 = ((float *) a_list_mem_180696.mem)[slice_179775];
                                    bool defunc_0_gt_res_179777 = b_prev_179760 < gt_lhs_179776;
                                    int64_t defunc_0_partFunc_sequential_search_res_179778;
                                    int64_t defunc_0_partFunc_sequential_search_res_179779;
                                    
                                    if (defunc_0_gt_res_179777) {
                                        int64_t zl_rhs_179780 = sub64(window_sizze_152419, max_res_176272);
                                        bool loop_cond_179781 = slt64((int64_t) 0, zl_rhs_179780);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179782;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179784;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179785;
                                        bool loop_while_179786;
                                        int64_t p_179787;
                                        int64_t p_179788;
                                        int64_t p_179789;
                                        
                                        loop_while_179786 = loop_cond_179781;
                                        p_179787 = ai_179758;
                                        p_179788 = max_res_176272;
                                        p_179789 = (int64_t) 0;
                                        while (loop_while_179786) {
                                            int64_t i_a_179790 = sub64(ai_179758, p_179789);
                                            int64_t i_b_179791 = add64(max_res_176272, p_179789);
                                            int64_t leq_lhs_179792 = sub64(i_a_179790, (int64_t) 1);
                                            bool x_179793 = sle64((int64_t) 0, leq_lhs_179792);
                                            bool y_179794 = slt64(leq_lhs_179792, window_sizze_152419);
                                            bool bounds_check_179795 = x_179793 && y_179794;
                                            bool index_certs_179796;
                                            
                                            if (!bounds_check_179795) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179792, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179799 = sle64((int64_t) 0, i_b_179791);
                                            bool y_179800 = slt64(i_b_179791, window_sizze_152419);
                                            bool bounds_check_179801 = x_179799 && y_179800;
                                            bool index_certs_179802;
                                            
                                            if (!bounds_check_179801) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179791, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179797 = p_175206 + leq_lhs_179792;
                                            float leq_lhs_179798 = ((float *) a_list_mem_180696.mem)[slice_179797];
                                            int64_t slice_179803 = p_175207 + i_b_179791;
                                            float leq_rhs_179804 = ((float *) b_list_mem_180697.mem)[slice_179803];
                                            bool defunc_0_leq_res_179805 = leq_lhs_179798 <= leq_rhs_179804;
                                            int64_t loopres_179806;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179806 = i_a_179790;
                                            } else {
                                                loopres_179806 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179807;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179807 = i_b_179791;
                                            } else {
                                                loopres_179807 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179808;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179808 = zl_rhs_179780;
                                            } else {
                                                int64_t tmp_179809 = add64((int64_t) 1, p_179789);
                                                
                                                loopres_179808 = tmp_179809;
                                            }
                                            
                                            bool loop_cond_179810 = slt64(loopres_179808, zl_rhs_179780);
                                            bool loop_while_tmp_182222 = loop_cond_179810;
                                            int64_t p_tmp_182223 = loopres_179806;
                                            int64_t p_tmp_182224 = loopres_179807;
                                            int64_t p_tmp_182225 = loopres_179808;
                                            
                                            loop_while_179786 = loop_while_tmp_182222;
                                            p_179787 = p_tmp_182223;
                                            p_179788 = p_tmp_182224;
                                            p_179789 = p_tmp_182225;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179782 = loop_while_179786;
                                        defunc_0_partFunc_sequential_search_res_t_res_179783 = p_179787;
                                        defunc_0_partFunc_sequential_search_res_t_res_179784 = p_179788;
                                        defunc_0_partFunc_sequential_search_res_t_res_179785 = p_179789;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_t_res_179784;
                                    } else {
                                        int64_t zl_rhs_179811 = sub64(max_res_176272, (int64_t) 1);
                                        bool loop_cond_179812 = slt64((int64_t) 0, zl_rhs_179811);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179813;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179815;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179816;
                                        bool loop_while_179817;
                                        int64_t p_179818;
                                        int64_t p_179819;
                                        int64_t p_179820;
                                        
                                        loop_while_179817 = loop_cond_179812;
                                        p_179818 = ai_179758;
                                        p_179819 = max_res_176272;
                                        p_179820 = (int64_t) 0;
                                        while (loop_while_179817) {
                                            int64_t zp_lhs_179821 = add64(ai_179758, p_179820);
                                            int64_t hi_a_179822 = add64((int64_t) 1, zp_lhs_179821);
                                            bool cond_179823 = slt64(hi_a_179822, window_sizze_152419);
                                            int64_t i_a_179824;
                                            
                                            if (cond_179823) {
                                                i_a_179824 = hi_a_179822;
                                            } else {
                                                i_a_179824 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_179826 = sub64(max_res_176272, p_179820);
                                            int64_t i_b_179827 = sub64(zm_lhs_179826, (int64_t) 1);
                                            bool x_179828 = sle64((int64_t) 0, i_a_179824);
                                            bool y_179829 = slt64(i_a_179824, window_sizze_152419);
                                            bool bounds_check_179830 = x_179828 && y_179829;
                                            bool index_certs_179831;
                                            
                                            if (!bounds_check_179830) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179824, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179834 = sle64((int64_t) 0, i_b_179827);
                                            bool y_179835 = slt64(i_b_179827, window_sizze_152419);
                                            bool bounds_check_179836 = x_179834 && y_179835;
                                            bool index_certs_179837;
                                            
                                            if (!bounds_check_179836) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179827, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179832 = p_175206 + i_a_179824;
                                            float gt_lhs_179833 = ((float *) a_list_mem_180696.mem)[slice_179832];
                                            int64_t slice_179838 = p_175207 + i_b_179827;
                                            float gt_rhs_179839 = ((float *) b_list_mem_180697.mem)[slice_179838];
                                            bool defunc_0_gt_res_179840 = gt_rhs_179839 < gt_lhs_179833;
                                            int64_t loopres_179841;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179841 = i_a_179824;
                                            } else {
                                                loopres_179841 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179842;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179842 = zm_lhs_179826;
                                            } else {
                                                loopres_179842 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179843;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179843 = zl_rhs_179811;
                                            } else {
                                                int64_t tmp_179844 = add64((int64_t) 1, p_179820);
                                                
                                                loopres_179843 = tmp_179844;
                                            }
                                            
                                            bool loop_cond_179845 = slt64(loopres_179843, zl_rhs_179811);
                                            bool loop_while_tmp_182226 = loop_cond_179845;
                                            int64_t p_tmp_182227 = loopres_179841;
                                            int64_t p_tmp_182228 = loopres_179842;
                                            int64_t p_tmp_182229 = loopres_179843;
                                            
                                            loop_while_179817 = loop_while_tmp_182226;
                                            p_179818 = p_tmp_182227;
                                            p_179819 = p_tmp_182228;
                                            p_179820 = p_tmp_182229;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179813 = loop_while_179817;
                                        defunc_0_partFunc_sequential_search_res_f_res_179814 = p_179818;
                                        defunc_0_partFunc_sequential_search_res_f_res_179815 = p_179819;
                                        defunc_0_partFunc_sequential_search_res_f_res_179816 = p_179820;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_f_res_179815;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = p_176265;
                                    loopres_f_res_f_res_f_res_176331 = defunc_0_partFunc_sequential_search_res_179778;
                                    loopres_f_res_f_res_f_res_176332 = defunc_0_partFunc_sequential_search_res_179779;
                                    loopres_f_res_f_res_f_res_176333 = 0;
                                } else {
                                    bool x_176417 = sle64((int64_t) 0, ai_176270);
                                    bool y_176418 = slt64(ai_176270, window_sizze_152419);
                                    bool bounds_check_176419 = x_176417 && y_176418;
                                    bool index_certs_176420;
                                    
                                    if (!bounds_check_176419) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176270, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178086 = p_175206 + ai_176270;
                                    float gt_lhs_176421 = ((float *) a_list_mem_180696.mem)[slice_178086];
                                    bool defunc_0_gt_res_176422 = b_prev_176274 < gt_lhs_176421;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176423;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176424;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176425;
                                    bool loopres_f_res_f_res_f_res_f_res_176426;
                                    
                                    if (defunc_0_gt_res_176422) {
                                        int64_t leq_lhs_179846 = sub64(ai_176270, (int64_t) 1);
                                        bool x_179847 = sle64((int64_t) 0, leq_lhs_179846);
                                        bool y_179848 = slt64(leq_lhs_179846, window_sizze_152419);
                                        bool bounds_check_179849 = x_179847 && y_179848;
                                        bool index_certs_179850;
                                        
                                        if (!bounds_check_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179846, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179853 = sle64((int64_t) 0, max_res_176272);
                                        bool y_179854 = slt64(max_res_176272, window_sizze_152419);
                                        bool bounds_check_179855 = x_179853 && y_179854;
                                        bool index_certs_179856;
                                        
                                        if (!bounds_check_179855) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176272, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179851 = p_175206 + leq_lhs_179846;
                                        float leq_lhs_179852 = ((float *) a_list_mem_180696.mem)[slice_179851];
                                        int64_t slice_179857 = p_175207 + max_res_176272;
                                        float leq_rhs_179858 = ((float *) b_list_mem_180697.mem)[slice_179857];
                                        bool defunc_0_leq_res_179859 = leq_lhs_179852 <= leq_rhs_179858;
                                        bool x_179860 = !defunc_0_leq_res_179859;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = ai_176270;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = leq_lhs_179846;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = max_res_176272;
                                        } else {
                                            int64_t tmp_179863 = add64((int64_t) 1, max_res_176272);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = tmp_179863;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176423 = p_176265;
                                        loopres_f_res_f_res_f_res_f_res_176424 = loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        loopres_f_res_f_res_f_res_f_res_176425 = loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        loopres_f_res_f_res_f_res_f_res_176426 = x_179860;
                                    } else {
                                        int64_t tmp_176443 = add64((int64_t) 1, ai_176270);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176423 = tmp_176443;
                                        loopres_f_res_f_res_f_res_f_res_176424 = p_176266;
                                        loopres_f_res_f_res_f_res_f_res_176425 = p_176267;
                                        loopres_f_res_f_res_f_res_f_res_176426 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = loopres_f_res_f_res_f_res_f_res_176423;
                                    loopres_f_res_f_res_f_res_176331 = loopres_f_res_f_res_f_res_f_res_176424;
                                    loopres_f_res_f_res_f_res_176332 = loopres_f_res_f_res_f_res_f_res_176425;
                                    loopres_f_res_f_res_f_res_176333 = loopres_f_res_f_res_f_res_f_res_176426;
                                }
                                loopres_f_res_f_res_176309 = loopres_f_res_f_res_f_res_176330;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_f_res_176331;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_f_res_176332;
                                loopres_f_res_f_res_176312 = loopres_f_res_f_res_f_res_176333;
                            }
                            loopres_f_res_176287 = loopres_f_res_f_res_176309;
                            loopres_f_res_176288 = loopres_f_res_f_res_176310;
                            loopres_f_res_176289 = loopres_f_res_f_res_176311;
                            loopres_f_res_176290 = loopres_f_res_f_res_176312;
                        }
                        loopres_176282 = loopres_f_res_176287;
                        loopres_176283 = loopres_f_res_176288;
                        loopres_176284 = loopres_f_res_176289;
                        loopres_176285 = loopres_f_res_176290;
                    }
                    
                    bool loop_while_tmp_182218 = loopres_176285;
                    int64_t p_tmp_182219 = loopres_176282;
                    int64_t p_tmp_182220 = loopres_176283;
                    int64_t p_tmp_182221 = loopres_176284;
                    
                    loop_while_176264 = loop_while_tmp_182218;
                    p_176265 = p_tmp_182219;
                    p_176266 = p_tmp_182220;
                    p_176267 = p_tmp_182221;
                }
                defunc_0_f_res_176260 = loop_while_176264;
                defunc_0_f_res_176261 = p_176265;
                defunc_0_f_res_176262 = p_176266;
                defunc_0_f_res_176263 = p_176267;
                ((int64_t *) mem_180713)[i_180446] = defunc_0_f_res_176262;
                ((int64_t *) mem_180715)[i_180446] = defunc_0_f_res_176263;
            }
            if (memblock_alloc(ctx, &mem_180728, window_sizze_152419, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182230 = 0; nest_i_182230 < window_sizze_152419; nest_i_182230++) {
                ((int8_t *) mem_180728.mem)[nest_i_182230] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180730, bytes_180729, "mem_180730")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182231 = 0; nest_i_182231 < window_sizze_152419; nest_i_182231++) {
                ((int64_t *) mem_180730.mem)[nest_i_182231] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180732, bytes_180731, "mem_180732")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182232 = 0; nest_i_182232 < window_sizze_152419; nest_i_182232++) {
                ((float *) mem_180732.mem)[nest_i_182232] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_176470;
            int64_t defunc_0_mergeFunc_seq_res_176471;
            bool loop_while_176475;
            int64_t p_176476;
            
            loop_while_176475 = loop_cond_176469;
            p_176476 = (int64_t) 0;
            while (loop_while_176475) {
                bool x_176480 = sle64((int64_t) 0, p_176476);
                bool y_176481 = slt64(p_176476, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176482 = x_176480 && y_176481;
                bool index_certs_176483;
                
                if (!bounds_check_176482) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176476, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178069 = sle64((int64_t) 1, p_176476);
                int64_t index_concat_i_178070 = sub64(p_176476, (int64_t) 1);
                int64_t index_concat_178071;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179864 = ((int64_t *) mem_180713)[index_concat_i_178070];
                    
                    index_concat_178071 = x_179864;
                } else {
                    index_concat_178071 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178073;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178073 = index_concat_178071;
                } else {
                    index_concat_branch_178073 = (int64_t) 0;
                }
                
                int64_t index_concat_178065;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179865 = ((int64_t *) mem_180715)[index_concat_i_178070];
                    
                    index_concat_178065 = x_179865;
                } else {
                    index_concat_178065 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178067;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178067 = index_concat_178065;
                } else {
                    index_concat_branch_178067 = (int64_t) 0;
                }
                
                int64_t ubs_176486 = add64((int64_t) 1, p_176476);
                bool x_176487 = sle64((int64_t) 0, ubs_176486);
                bool y_176488 = slt64(ubs_176486, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176489 = x_176487 && y_176488;
                bool index_certs_176490;
                
                if (!bounds_check_176489) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178057 = sle64((int64_t) 1, ubs_176486);
                int64_t index_concat_178059;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179866 = ((int64_t *) mem_180713)[p_176476];
                    
                    index_concat_178059 = x_179866;
                } else {
                    index_concat_178059 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178061;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178061 = index_concat_178059;
                } else {
                    index_concat_branch_178061 = (int64_t) 0;
                }
                
                int64_t index_concat_178053;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179867 = ((int64_t *) mem_180715)[p_176476];
                    
                    index_concat_178053 = x_179867;
                } else {
                    index_concat_178053 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178055;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178055 = index_concat_178053;
                } else {
                    index_concat_branch_178055 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 = sub64(index_concat_branch_178055, index_concat_branch_178067);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 = sub64(index_concat_branch_178061, index_concat_branch_178073);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t ind_bottom_176496 = add64(index_concat_branch_178067, index_concat_branch_178073);
                int64_t ind_top_176497 = add64(index_concat_branch_178055, index_concat_branch_178061);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 = sub64(ind_top_176497, ind_bottom_176496);
                bool empty_slice_176499 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 == (int64_t) 0;
                int64_t m_176500 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 1);
                int64_t i_p_m_t_s_176501 = add64(m_176500, index_concat_branch_178073);
                bool zzero_leq_i_p_m_t_s_176502 = sle64((int64_t) 0, i_p_m_t_s_176501);
                bool i_p_m_t_s_leq_w_176503 = slt64(i_p_m_t_s_176501, window_sizze_152419);
                bool zzero_lte_i_176504 = sle64((int64_t) 0, index_concat_branch_178073);
                bool i_lte_j_176505 = sle64(index_concat_branch_178073, index_concat_branch_178061);
                bool y_176506 = i_p_m_t_s_leq_w_176503 && zzero_lte_i_176504;
                bool y_176507 = zzero_leq_i_p_m_t_s_176502 && y_176506;
                bool forwards_ok_176508 = i_lte_j_176505 && y_176507;
                bool ok_or_empty_176509 = empty_slice_176499 || forwards_ok_176508;
                bool index_certs_176510;
                
                if (!ok_or_empty_176509) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178073, ":", (long long) index_concat_branch_178061, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176511 = slt64(index_concat_branch_178061, index_concat_branch_178073);
                bool valid_176512 = !bounds_invalid_upwards_176511;
                bool range_valid_c_176513;
                
                if (!valid_176512) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178073, "..<", (long long) index_concat_branch_178061, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176519 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 == (int64_t) 0;
                int64_t m_176520 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, (int64_t) 1);
                int64_t i_p_m_t_s_176521 = add64(m_176520, index_concat_branch_178067);
                bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
                bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, window_sizze_152419);
                bool zzero_lte_i_176524 = sle64((int64_t) 0, index_concat_branch_178067);
                bool i_lte_j_176525 = sle64(index_concat_branch_178067, index_concat_branch_178055);
                bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
                bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
                bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
                bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
                bool index_certs_176530;
                
                if (!ok_or_empty_176529) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178067, ":", (long long) index_concat_branch_178055, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176531 = slt64(index_concat_branch_178055, index_concat_branch_178067);
                bool valid_176532 = !bounds_invalid_upwards_176531;
                bool range_valid_c_176533;
                
                if (!valid_176532) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178067, "..<", (long long) index_concat_branch_178055, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180749 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                int64_t bytes_180751 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool cond_176542 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zs_lhs_176543 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zp_rhs_176544 = sdiv_safe64(zs_lhs_176543, (int64_t) 20);
                int64_t min_num_blocks_176545 = add64((int64_t) 1, zp_rhs_176544);
                bool loop_cond_176546 = slt64((int64_t) 1, min_num_blocks_176545);
                bool smallest_pow_2_geq_than_res_176547;
                int64_t smallest_pow_2_geq_than_res_176548;
                bool loop_while_176549;
                int64_t x_176550;
                
                loop_while_176549 = loop_cond_176546;
                x_176550 = (int64_t) 1;
                while (loop_while_176549) {
                    int64_t loopres_176551 = mul64((int64_t) 2, x_176550);
                    bool loop_cond_176552 = slt64(loopres_176551, min_num_blocks_176545);
                    bool loop_while_tmp_182238 = loop_cond_176552;
                    int64_t x_tmp_182239 = loopres_176551;
                    
                    loop_while_176549 = loop_while_tmp_182238;
                    x_176550 = x_tmp_182239;
                }
                smallest_pow_2_geq_than_res_176547 = loop_while_176549;
                smallest_pow_2_geq_than_res_176548 = x_176550;
                
                bool zzero_176553 = smallest_pow_2_geq_than_res_176548 == (int64_t) 0;
                bool nonzzero_176554 = !zzero_176553;
                bool protect_assert_disj_176555 = cond_176542 || nonzzero_176554;
                bool nonzzero_cert_176556;
                
                if (!protect_assert_disj_176555) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176557 = sdiv_safe64(zs_lhs_176543, smallest_pow_2_geq_than_res_176548);
                int64_t block_sizze_176558 = add64((int64_t) 1, zp_rhs_176557);
                bool y_176565 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                bool protect_assert_disj_181902 = cond_176542 || y_176565;
                bool index_certs_176566;
                
                if (!protect_assert_disj_181902) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176592 = slt64(smallest_pow_2_geq_than_res_176548, (int64_t) 0);
                bool valid_176593 = !bounds_invalid_upwards_176592;
                bool protect_assert_disj_181912 = cond_176542 || valid_176593;
                bool range_valid_c_176594;
                
                if (!protect_assert_disj_181912) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176548, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176596 = slt64(block_sizze_176558, (int64_t) 0);
                bool valid_176597 = !bounds_invalid_upwards_176596;
                bool protect_assert_disj_181914 = cond_176542 || valid_176597;
                bool range_valid_c_176598;
                
                if (!protect_assert_disj_181914) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176558, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176600 = sle64(block_sizze_176558, (int64_t) 1);
                int64_t tmp_176601 = sub64(block_sizze_176558, (int64_t) 2);
                bool bounds_invalid_upwards_176602 = slt64(tmp_176601, (int64_t) 0);
                bool valid_176604 = !bounds_invalid_upwards_176602;
                bool protect_assert_disj_176605 = cond_176600 || valid_176604;
                bool protect_assert_disj_181916 = cond_176542 || protect_assert_disj_176605;
                bool range_valid_c_176606;
                
                if (!protect_assert_disj_181916) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176601, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177167 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool empty_or_match_cert_177168;
                
                if (!dim_match_177167) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "](i8, i64, f32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177169 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == (int64_t) 0;
                int64_t m_177170 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177171 = sle64((int64_t) 0, m_177170);
                bool i_p_m_t_s_leq_w_177172 = slt64(m_177170, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498);
                bool y_177173 = zzero_leq_i_p_m_t_s_177171 && i_p_m_t_s_leq_w_177172;
                bool ok_or_empty_177174 = empty_slice_177169 || y_177173;
                bool index_certs_177175;
                
                if (!ok_or_empty_177174) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177176 = add64(ind_bottom_176496, m_177170);
                bool zzero_leq_i_p_m_t_s_177177 = sle64((int64_t) 0, i_p_m_t_s_177176);
                bool i_p_m_t_s_leq_w_177178 = slt64(i_p_m_t_s_177176, window_sizze_152419);
                bool zzero_lte_i_177179 = sle64((int64_t) 0, ind_bottom_176496);
                bool i_lte_j_177180 = sle64(ind_bottom_176496, ind_top_176497);
                bool y_177181 = i_p_m_t_s_leq_w_177178 && zzero_lte_i_177179;
                bool y_177182 = zzero_leq_i_p_m_t_s_177177 && y_177181;
                bool forwards_ok_177183 = i_lte_j_177180 && y_177182;
                bool ok_or_empty_177184 = empty_slice_177169 || forwards_ok_177183;
                bool index_certs_177185;
                
                if (!ok_or_empty_177184) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176496, ":", (long long) ind_top_176497, "] out of bounds for array of shape [", (long long) window_sizze_152419, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178049 = p_175206 + index_concat_branch_178073;
                
                if (memblock_alloc(ctx, &mem_180748, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "mem_180748")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182240 = 0; nest_i_182240 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; nest_i_182240++) {
                    ((int8_t *) mem_180748.mem)[nest_i_182240] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180750, bytes_180749, "mem_180750")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182241 = 0; i_182241 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; i_182241++) {
                    int64_t x_182242 = index_concat_branch_178073 + i_182241 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[i_182241] = x_182242;
                }
                
                int64_t slice_178048 = p_175207 + index_concat_branch_178067;
                
                for (int64_t nest_i_182243 = 0; nest_i_182243 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; nest_i_182243++) {
                    ((int8_t *) mem_180748.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + nest_i_182243] = (int8_t) 1;
                }
                for (int64_t i_182244 = 0; i_182244 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; i_182244++) {
                    int64_t x_182245 = index_concat_branch_178067 + i_182244 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + i_182244] = x_182245;
                }
                
                int64_t tmp_offs_182246 = (int64_t) 0;
                
                if (!(tmp_offs_182246 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182246 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t tmp_offs_182247 = (int64_t) 0;
                
                if (!(tmp_offs_182247 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182247 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                if (memblock_alloc(ctx, &mem_180752, bytes_180751, "mem_180752")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182248 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, slice_178049, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, slice_178048, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t flat_dim_176559 = smallest_pow_2_geq_than_res_176548 * block_sizze_176558;
                bool x_181897 = !cond_176542;
                int64_t greatest_divisor_leq_than_arg1_176563 = mul64((int64_t) 2, block_sizze_176558);
                int64_t merge_block_sizze_176564;
                
                if (x_181897) {
                    int64_t x_181899;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181899, (int64_t) 8, greatest_divisor_leq_than_arg1_176563) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176564 = x_181899;
                } else {
                    merge_block_sizze_176564 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178043 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 0);
                int8_t index_concat_branch_178047 = btoi_bool_i8(index_concat_cmp_178043);
                int64_t index_concat_i_179868 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t index_primexp_179869 = add64(index_concat_branch_178067, index_concat_i_179868);
                int64_t index_concat_branch_178041;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178041 = index_primexp_179869;
                } else {
                    index_concat_branch_178041 = index_concat_branch_178073;
                }
                
                bool x_181893 = !index_concat_cmp_178043;
                bool protect_cond_conj_181903 = x_181893 && x_181897;
                float index_concat_178034;
                
                if (protect_cond_conj_181903) {
                    float x_181895 = ((float *) a_list_mem_180696.mem)[slice_178049];
                    
                    index_concat_178034 = x_181895;
                } else {
                    index_concat_178034 = 0.0F;
                }
                
                int64_t slice_179871 = slice_178048 + index_concat_i_179868;
                bool protect_cond_conj_181904 = index_concat_cmp_178043 && x_181897;
                float index_concat_179872;
                
                if (protect_cond_conj_181904) {
                    float x_181891 = ((float *) b_list_mem_180697.mem)[slice_179871];
                    
                    index_concat_179872 = x_181891;
                } else {
                    index_concat_179872 = 0.0F;
                }
                
                float index_concat_branch_178035;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178035 = index_concat_179872;
                } else {
                    index_concat_branch_178035 = index_concat_178034;
                }
                
                int8_t defunc_0_reduce_res_180103;
                int64_t defunc_0_reduce_res_180104;
                float defunc_0_reduce_res_180105;
                
                if (x_181897) {
                    int8_t x_181905;
                    int64_t x_181906;
                    float x_181907;
                    int8_t redout_180449;
                    int64_t redout_180450;
                    float redout_180451;
                    
                    redout_180449 = index_concat_branch_178047;
                    redout_180450 = index_concat_branch_178041;
                    redout_180451 = index_concat_branch_178035;
                    for (int64_t i_180452 = 0; i_180452 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495; i_180452++) {
                        bool index_concat_cmp_180656 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, i_180452);
                        int8_t index_concat_branch_180660 = btoi_bool_i8(index_concat_cmp_180656);
                        int64_t index_concat_branch_180654;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180651 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t index_primexp_180678 = add64(index_concat_branch_178067, index_concat_i_180651);
                            
                            index_concat_branch_180654 = index_primexp_180678;
                        } else {
                            int64_t index_primexp_180680 = add64(index_concat_branch_178073, i_180452);
                            
                            index_concat_branch_180654 = index_primexp_180680;
                        }
                        
                        float index_concat_branch_180648;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180645 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t slice_180675 = slice_178048 + index_concat_i_180645;
                            float index_concat_180646 = ((float *) b_list_mem_180697.mem)[slice_180675];
                            
                            index_concat_branch_180648 = index_concat_180646;
                        } else {
                            int64_t slice_180676 = slice_178049 + i_180452;
                            float index_concat_180647 = ((float *) a_list_mem_180696.mem)[slice_180676];
                            
                            index_concat_branch_180648 = index_concat_180647;
                        }
                        
                        bool eq_x_y_180691 = redout_180449 == (int8_t) 1;
                        bool eq_x_zz_180692 = redout_180449 == (int8_t) 0;
                        bool p_and_eq_x_y_180693 = index_concat_cmp_180656 && eq_x_y_180691;
                        bool not_p_180694 = !index_concat_cmp_180656;
                        bool p_and_eq_x_y_180695 = eq_x_zz_180692 && not_p_180694;
                        bool cond_176582 = p_and_eq_x_y_180693 || p_and_eq_x_y_180695;
                        bool defunc_0_leq_res_t_res_176583 = sle64(redout_180450, index_concat_branch_180654);
                        bool defunc_0_leq_res_176584 = redout_180451 <= index_concat_branch_180648;
                        bool x_176585 = cond_176582 && defunc_0_leq_res_t_res_176583;
                        bool x_176586 = !cond_176582;
                        bool y_176587 = defunc_0_leq_res_176584 && x_176586;
                        bool defunc_0_leq_res_176588 = x_176585 || y_176587;
                        int8_t defunc_0_op_res_176589;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176589 = index_concat_branch_180660;
                        } else {
                            defunc_0_op_res_176589 = redout_180449;
                        }
                        
                        int64_t defunc_0_op_res_176590;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176590 = index_concat_branch_180654;
                        } else {
                            defunc_0_op_res_176590 = redout_180450;
                        }
                        
                        float defunc_0_op_res_176591;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176591 = index_concat_branch_180648;
                        } else {
                            defunc_0_op_res_176591 = redout_180451;
                        }
                        
                        int8_t redout_tmp_182249 = defunc_0_op_res_176589;
                        int64_t redout_tmp_182250 = defunc_0_op_res_176590;
                        float redout_tmp_182251 = defunc_0_op_res_176591;
                        
                        redout_180449 = redout_tmp_182249;
                        redout_180450 = redout_tmp_182250;
                        redout_180451 = redout_tmp_182251;
                    }
                    x_181905 = redout_180449;
                    x_181906 = redout_180450;
                    x_181907 = redout_180451;
                    defunc_0_reduce_res_180103 = x_181905;
                    defunc_0_reduce_res_180104 = x_181906;
                    defunc_0_reduce_res_180105 = x_181907;
                } else {
                    defunc_0_reduce_res_180103 = (int8_t) 0;
                    defunc_0_reduce_res_180104 = (int64_t) 0;
                    defunc_0_reduce_res_180105 = 0.0F;
                }
                
                int64_t distance_176603 = add64((int64_t) 1, tmp_176601);
                int64_t binop_x_180755 = (int64_t) 8 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180756 = block_sizze_176558 * binop_x_180755;
                int64_t binop_x_180758 = (int64_t) 4 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180759 = block_sizze_176558 * binop_x_180758;
                int64_t bytes_180774 = (int64_t) 8 * block_sizze_176558;
                int64_t bytes_180776 = (int64_t) 4 * block_sizze_176558;
                bool loop_cond_176712 = slt64(block_sizze_176558, flat_dim_176559);
                bool zzero_176713 = merge_block_sizze_176564 == (int64_t) 0;
                bool nonzzero_176714 = !zzero_176713;
                
                if (cond_176542) {
                    if (memblock_set(ctx, &ext_mem_181047, &mem_180748, "mem_180748") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &mem_180750, "mem_180750") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &mem_180752, "mem_180752") != 0)
                        return 1;
                } else {
                    if (mem_180754_cached_sizze_182494 < flat_dim_176559) {
                        err = lexical_realloc(ctx, &mem_180754, &mem_180754_cached_sizze_182494, flat_dim_176559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180757_cached_sizze_182495 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180757, &mem_180757_cached_sizze_182495, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180760_cached_sizze_182496 < bytes_180759) {
                        err = lexical_realloc(ctx, &mem_180760, &mem_180760_cached_sizze_182496, bytes_180759);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180773_cached_sizze_182497 < block_sizze_176558) {
                        err = lexical_realloc(ctx, &mem_180773, &mem_180773_cached_sizze_182497, block_sizze_176558);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180775_cached_sizze_182498 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182498, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180777_cached_sizze_182499 < bytes_180776) {
                        err = lexical_realloc(ctx, &mem_180777, &mem_180777_cached_sizze_182499, bytes_180776);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180469 = 0; i_180469 < smallest_pow_2_geq_than_res_176548; i_180469++) {
                        int64_t zp_lhs_176611 = mul64(block_sizze_176558, i_180469);
                        
                        for (int64_t i_180459 = 0; i_180459 < block_sizze_176558; i_180459++) {
                            int64_t k_176616 = add64(zp_lhs_176611, i_180459);
                            bool cond_176617 = slt64(k_176616, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                            int8_t lifted_lambda_res_176618;
                            int64_t lifted_lambda_res_176619;
                            float lifted_lambda_res_176620;
                            
                            if (cond_176617) {
                                bool x_179878 = sle64((int64_t) 0, k_176616);
                                bool bounds_check_179879 = cond_176617 && x_179878;
                                bool index_certs_179880;
                                
                                if (!bounds_check_179879) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176616, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179881 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, k_176616);
                                int8_t index_concat_branch_179882 = btoi_bool_i8(index_concat_cmp_179881);
                                int64_t index_concat_branch_179883;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179884 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t index_primexp_179885 = add64(index_concat_branch_178067, index_concat_i_179884);
                                    
                                    index_concat_branch_179883 = index_primexp_179885;
                                } else {
                                    int64_t index_primexp_179886 = add64(k_176616, index_concat_branch_178073);
                                    
                                    index_concat_branch_179883 = index_primexp_179886;
                                }
                                
                                float index_concat_branch_179887;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179888 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t slice_179889 = slice_178048 + index_concat_i_179888;
                                    float index_concat_179890 = ((float *) b_list_mem_180697.mem)[slice_179889];
                                    
                                    index_concat_branch_179887 = index_concat_179890;
                                } else {
                                    int64_t slice_179891 = k_176616 + slice_178049;
                                    float index_concat_179892 = ((float *) a_list_mem_180696.mem)[slice_179891];
                                    
                                    index_concat_branch_179887 = index_concat_179892;
                                }
                                lifted_lambda_res_176618 = index_concat_branch_179882;
                                lifted_lambda_res_176619 = index_concat_branch_179883;
                                lifted_lambda_res_176620 = index_concat_branch_179887;
                            } else {
                                lifted_lambda_res_176618 = defunc_0_reduce_res_180103;
                                lifted_lambda_res_176619 = defunc_0_reduce_res_180104;
                                lifted_lambda_res_176620 = defunc_0_reduce_res_180105;
                            }
                            ((int8_t *) mem_180773)[i_180459] = lifted_lambda_res_176618;
                            ((int64_t *) mem_180775)[i_180459] = lifted_lambda_res_176619;
                            ((float *) mem_180777)[i_180459] = lifted_lambda_res_176620;
                        }
                        if (!cond_176600) {
                            for (int64_t i_176633 = 0; i_176633 < distance_176603; i_176633++) {
                                int64_t gt_arg1_176637 = add64((int64_t) 1, i_176633);
                                bool x_176638 = sle64((int64_t) 0, gt_arg1_176637);
                                bool y_176639 = slt64(gt_arg1_176637, block_sizze_176558);
                                bool bounds_check_176640 = x_176638 && y_176639;
                                bool index_certs_176641;
                                
                                if (!bounds_check_176640) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176637, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176645 = slt64(i_176633, block_sizze_176558);
                                bool index_certs_176646;
                                
                                if (!y_176645) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176633, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176642 = ((int8_t *) mem_180773)[gt_arg1_176637];
                                int64_t gt_arg1_176643 = ((int64_t *) mem_180775)[gt_arg1_176637];
                                float gt_arg1_176644 = ((float *) mem_180777)[gt_arg1_176637];
                                int8_t gt_arg0_176647 = ((int8_t *) mem_180773)[i_176633];
                                int64_t gt_arg0_176648 = ((int64_t *) mem_180775)[i_176633];
                                float gt_arg0_176649 = ((float *) mem_180777)[i_176633];
                                bool cond_176650 = gt_arg0_176647 == gt_arg1_176642;
                                bool defunc_0_leq_res_t_res_176651 = sle64(gt_arg0_176648, gt_arg1_176643);
                                bool defunc_0_leq_res_176652 = gt_arg0_176649 <= gt_arg1_176644;
                                bool x_176653 = cond_176650 && defunc_0_leq_res_t_res_176651;
                                bool x_176654 = !cond_176650;
                                bool y_176655 = defunc_0_leq_res_176652 && x_176654;
                                bool defunc_0_leq_res_176656 = x_176653 || y_176655;
                                bool defunc_0_lifted_gt_res_176657 = !defunc_0_leq_res_176656;
                                bool s_176658;
                                int64_t s_176662;
                                bool loop_while_176663;
                                int64_t j_176667;
                                
                                loop_while_176663 = defunc_0_lifted_gt_res_176657;
                                j_176667 = i_176633;
                                while (loop_while_176663) {
                                    bool x_176668 = sle64((int64_t) 0, j_176667);
                                    bool y_176669 = slt64(j_176667, block_sizze_176558);
                                    bool bounds_check_176670 = x_176668 && y_176669;
                                    bool index_certs_176671;
                                    
                                    if (!bounds_check_176670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176667, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176675 = add64((int64_t) 1, j_176667);
                                    bool x_176676 = sle64((int64_t) 0, copy_arg0_176675);
                                    bool y_176677 = slt64(copy_arg0_176675, block_sizze_176558);
                                    bool bounds_check_176678 = x_176676 && y_176677;
                                    bool index_certs_176679;
                                    
                                    if (!bounds_check_176678) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176675, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176672 = ((int8_t *) mem_180773)[j_176667];
                                    int64_t copy_arg0_176673 = ((int64_t *) mem_180775)[j_176667];
                                    float copy_arg0_176674 = ((float *) mem_180777)[j_176667];
                                    int8_t copy_arg0_176680 = ((int8_t *) mem_180773)[copy_arg0_176675];
                                    int64_t copy_arg0_176681 = ((int64_t *) mem_180775)[copy_arg0_176675];
                                    float copy_arg0_176682 = ((float *) mem_180777)[copy_arg0_176675];
                                    
                                    ((int8_t *) mem_180773)[j_176667] = copy_arg0_176680;
                                    ((int64_t *) mem_180775)[j_176667] = copy_arg0_176681;
                                    ((float *) mem_180777)[j_176667] = copy_arg0_176682;
                                    ((int8_t *) mem_180773)[copy_arg0_176675] = copy_arg0_176672;
                                    ((int64_t *) mem_180775)[copy_arg0_176675] = copy_arg0_176673;
                                    ((float *) mem_180777)[copy_arg0_176675] = copy_arg0_176674;
                                    
                                    int64_t tmp_176689 = sub64(j_176667, (int64_t) 1);
                                    bool cond_176690 = sle64((int64_t) 0, tmp_176689);
                                    bool loop_cond_176691;
                                    
                                    if (cond_176690) {
                                        bool y_179896 = slt64(tmp_176689, block_sizze_176558);
                                        bool bounds_check_179897 = cond_176690 && y_179896;
                                        bool index_certs_179898;
                                        
                                        if (!bounds_check_179897) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176689, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179893 = ((int8_t *) mem_180773)[j_176667];
                                        int64_t gt_arg1_179894 = ((int64_t *) mem_180775)[j_176667];
                                        float gt_arg1_179895 = ((float *) mem_180777)[j_176667];
                                        int8_t gt_arg0_179899 = ((int8_t *) mem_180773)[tmp_176689];
                                        int64_t gt_arg0_179900 = ((int64_t *) mem_180775)[tmp_176689];
                                        float gt_arg0_179901 = ((float *) mem_180777)[tmp_176689];
                                        bool cond_179902 = gt_arg0_179899 == gt_arg1_179893;
                                        bool defunc_0_leq_res_t_res_179903 = sle64(gt_arg0_179900, gt_arg1_179894);
                                        bool defunc_0_leq_res_179904 = gt_arg0_179901 <= gt_arg1_179895;
                                        bool x_179905 = cond_179902 && defunc_0_leq_res_t_res_179903;
                                        bool x_179906 = !cond_179902;
                                        bool y_179907 = defunc_0_leq_res_179904 && x_179906;
                                        bool defunc_0_leq_res_179908 = x_179905 || y_179907;
                                        bool defunc_0_lifted_gt_res_179909 = !defunc_0_leq_res_179908;
                                        
                                        loop_cond_176691 = defunc_0_lifted_gt_res_179909;
                                    } else {
                                        loop_cond_176691 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182261 = loop_cond_176691;
                                    int64_t j_tmp_182265 = tmp_176689;
                                    
                                    loop_while_176663 = loop_while_tmp_182261;
                                    j_176667 = j_tmp_182265;
                                }
                                s_176658 = loop_while_176663;
                                s_176662 = j_176667;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180754, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180773, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180757, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180775, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180760, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180777, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                    }
                    if (memblock_alloc(ctx, &mem_180854, flat_dim_176559, "mem_180854")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180854.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint8_t *) mem_180754, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180858, bytes_180756, "mem_180858")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180858.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180757, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180862, bytes_180759, "mem_180862")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180862.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint32_t *) mem_180760, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    
                    int64_t data_176715;
                    bool data_176716;
                    int64_t data_176720;
                    int64_t loop_dz2084Uz2082U_176721;
                    bool loop_while_176722;
                    int64_t stride_176726;
                    
                    if (memblock_set(ctx, &mem_param_180866, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180869, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180872, &mem_180862, "mem_180862") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176721 = flat_dim_176559;
                    loop_while_176722 = loop_cond_176712;
                    stride_176726 = block_sizze_176558;
                    while (loop_while_176722) {
                        int64_t next_stride_176727 = mul64((int64_t) 2, stride_176726);
                        bool zzero_176728 = next_stride_176727 == (int64_t) 0;
                        bool nonzzero_176729 = !zzero_176728;
                        bool nonzzero_cert_176730;
                        
                        if (!nonzzero_176729) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176731 = sdiv64(flat_dim_176559, next_stride_176727);
                        bool bounds_invalid_upwards_176732 = slt64(num_merges_176731, (int64_t) 0);
                        bool valid_176733 = !bounds_invalid_upwards_176732;
                        bool range_valid_c_176734;
                        
                        if (!valid_176733) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176731, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176736 = sub64(next_stride_176727, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176737 = sle64((int64_t) 0, m_176736);
                        bool cond_176739 = slt64(next_stride_176727, (int64_t) 10);
                        bool protect_assert_disj_176740 = nonzzero_176714 || cond_176739;
                        bool nonzzero_cert_176741;
                        
                        if (!protect_assert_disj_176740) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176742 = smod_safe64(next_stride_176727, merge_block_sizze_176564);
                        bool num_blocks_176743 = zeze_lhs_176742 == (int64_t) 0;
                        bool protect_assert_disj_176744 = cond_176739 || num_blocks_176743;
                        bool assert_c_176745;
                        
                        if (!protect_assert_disj_176744) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176747 = sdiv_safe64(next_stride_176727, merge_block_sizze_176564);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748 = add64((int64_t) 1, num_blocks_176747);
                        int64_t j_m_i_176749 = sub64(next_stride_176727, stride_176726);
                        int64_t flat_dim_176750 = merge_block_sizze_176564 * num_blocks_176747;
                        bool bounds_invalid_upwards_176751 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, (int64_t) 0);
                        bool empty_slice_176752 = j_m_i_176749 == (int64_t) 0;
                        int64_t m_176753 = sub64(j_m_i_176749, (int64_t) 1);
                        bool zzero_lte_i_176754 = sle64((int64_t) 0, stride_176726);
                        bool i_lte_j_176755 = sle64(stride_176726, next_stride_176727);
                        bool empty_slice_176756 = stride_176726 == (int64_t) 0;
                        int64_t m_176757 = sub64(stride_176726, (int64_t) 1);
                        bool bounds_invalid_upwards_176758 = slt64(num_blocks_176747, (int64_t) 0);
                        bool cond_176759 = slt64((int64_t) 0, stride_176726);
                        bool valid_176760 = !bounds_invalid_upwards_176751;
                        int64_t i_p_m_t_s_176761 = add64(stride_176726, m_176753);
                        bool zzero_leq_i_p_m_t_s_176762 = sle64((int64_t) 0, m_176757);
                        bool i_p_m_t_s_leq_w_176763 = slt64(m_176757, next_stride_176727);
                        bool valid_176764 = !bounds_invalid_upwards_176758;
                        bool i_p_m_t_s_leq_w_176765 = slt64(m_176736, flat_dim_176750);
                        bool y_176766 = slt64((int64_t) 0, j_m_i_176749);
                        bool protect_assert_disj_176767 = cond_176739 || valid_176760;
                        bool range_valid_c_176768;
                        
                        if (!protect_assert_disj_176767) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176769 = sle64((int64_t) 0, i_p_m_t_s_176761);
                        bool i_p_m_t_s_leq_w_176770 = slt64(i_p_m_t_s_176761, next_stride_176727);
                        bool y_176771 = zzero_leq_i_p_m_t_s_176762 && i_p_m_t_s_leq_w_176763;
                        bool protect_assert_disj_176772 = cond_176739 || valid_176764;
                        bool range_valid_c_176773;
                        
                        if (!protect_assert_disj_176772) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176747, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176774 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176765;
                        bool y_176775 = zzero_lte_i_176754 && i_p_m_t_s_leq_w_176770;
                        bool forwards_ok_176776 = zzero_lte_i_176754 && y_176771;
                        bool ok_or_empty_176777 = zzero_176728 || y_176774;
                        bool protect_assert_disj_176778 = cond_176759 || y_176766;
                        bool y_176779 = zzero_leq_i_p_m_t_s_176769 && y_176775;
                        bool ok_or_empty_176780 = empty_slice_176756 || forwards_ok_176776;
                        bool protect_assert_disj_176781 = cond_176739 || ok_or_empty_176777;
                        bool index_certs_176782;
                        
                        if (!protect_assert_disj_176781) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) flat_dim_176750, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176783 = !cond_176739;
                        bool protect_assert_disj_176784 = protect_assert_disj_176778 || loop_not_taken_176783;
                        bool index_certs_176785;
                        
                        if (!protect_assert_disj_176784) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176786 = i_lte_j_176755 && y_176779;
                        bool protect_assert_disj_176787 = cond_176739 || ok_or_empty_176780;
                        bool index_certs_176788;
                        
                        if (!protect_assert_disj_176787) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176789 = ok_or_empty_176780 || loop_not_taken_176783;
                        bool index_certs_176790;
                        
                        if (!protect_assert_disj_176789) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176791 = empty_slice_176752 || forwards_ok_176786;
                        bool protect_assert_disj_176792 = cond_176739 || ok_or_empty_176791;
                        bool index_certs_176793;
                        
                        if (!protect_assert_disj_176792) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176794 = loop_not_taken_176783 || ok_or_empty_176791;
                        bool index_certs_176795;
                        
                        if (!protect_assert_disj_176794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180873 = next_stride_176727 * num_merges_176731;
                        int64_t binop_x_180875 = (int64_t) 8 * num_merges_176731;
                        int64_t bytes_180876 = next_stride_176727 * binop_x_180875;
                        int64_t binop_x_180878 = (int64_t) 4 * num_merges_176731;
                        int64_t bytes_180879 = next_stride_176727 * binop_x_180878;
                        bool i_lte_j_176738 = sle64((int64_t) 0, next_stride_176727);
                        
                        if (mem_180874_cached_sizze_182500 < bytes_180873) {
                            err = lexical_realloc(ctx, &mem_180874, &mem_180874_cached_sizze_182500, bytes_180873);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180877_cached_sizze_182501 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180877, &mem_180877_cached_sizze_182501, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180880_cached_sizze_182502 < bytes_180879) {
                            err = lexical_realloc(ctx, &mem_180880, &mem_180880_cached_sizze_182502, bytes_180879);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180893 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748;
                        int64_t binop_x_180911 = (int64_t) 8 * num_blocks_176747;
                        int64_t bytes_180912 = merge_block_sizze_176564 * binop_x_180911;
                        int64_t binop_x_180914 = (int64_t) 4 * num_blocks_176747;
                        int64_t bytes_180915 = merge_block_sizze_176564 * binop_x_180914;
                        int64_t bytes_180976 = (int64_t) 16 * stride_176726;
                        int64_t bytes_180978 = (int64_t) 8 * stride_176726;
                        
                        for (int64_t i_180496 = 0; i_180496 < num_merges_176731; i_180496++) {
                            int64_t start_176800 = mul64(next_stride_176727, i_180496);
                            int64_t j_m_i_176801 = sub64(loop_dz2084Uz2082U_176721, start_176800);
                            bool empty_slice_176802 = j_m_i_176801 == (int64_t) 0;
                            int64_t m_176803 = sub64(j_m_i_176801, (int64_t) 1);
                            int64_t i_p_m_t_s_176804 = add64(start_176800, m_176803);
                            bool zzero_leq_i_p_m_t_s_176805 = sle64((int64_t) 0, i_p_m_t_s_176804);
                            bool i_p_m_t_s_leq_w_176806 = slt64(i_p_m_t_s_176804, loop_dz2084Uz2082U_176721);
                            bool zzero_lte_i_176807 = sle64((int64_t) 0, start_176800);
                            bool i_lte_j_176808 = sle64(start_176800, loop_dz2084Uz2082U_176721);
                            bool y_176809 = i_p_m_t_s_leq_w_176806 && zzero_lte_i_176807;
                            bool y_176810 = zzero_leq_i_p_m_t_s_176805 && y_176809;
                            bool forwards_ok_176811 = i_lte_j_176808 && y_176810;
                            bool ok_or_empty_176812 = empty_slice_176802 || forwards_ok_176811;
                            bool index_certs_176813;
                            
                            if (!ok_or_empty_176812) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176800, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176721, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176814 = slt64(m_176736, j_m_i_176801);
                            bool y_176815 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176814;
                            bool forwards_ok_176816 = i_lte_j_176738 && y_176815;
                            bool ok_or_empty_176817 = zzero_176728 || forwards_ok_176816;
                            bool index_certs_176818;
                            
                            if (!ok_or_empty_176817) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) j_m_i_176801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176739) {
                                int8_t dummy_179948;
                                int64_t dummy_179949;
                                float dummy_179950;
                                
                                if (cond_176759) {
                                    int8_t head_res_179951 = ((int8_t *) mem_param_180866.mem)[start_176800];
                                    int64_t head_res_179952 = ((int64_t *) mem_param_180869.mem)[start_176800];
                                    float head_res_179953 = ((float *) mem_param_180872.mem)[start_176800];
                                    
                                    dummy_179948 = head_res_179951;
                                    dummy_179949 = head_res_179952;
                                    dummy_179950 = head_res_179953;
                                } else {
                                    int64_t slice_179954 = stride_176726 + start_176800;
                                    int8_t head_res_179955 = ((int8_t *) mem_param_180866.mem)[slice_179954];
                                    int64_t head_res_179956 = ((int64_t *) mem_param_180869.mem)[slice_179954];
                                    float head_res_179957 = ((float *) mem_param_180872.mem)[slice_179954];
                                    
                                    dummy_179948 = head_res_179955;
                                    dummy_179949 = head_res_179956;
                                    dummy_179950 = head_res_179957;
                                }
                                if (memblock_alloc(ctx, &mem_180975, next_stride_176727, "mem_180975")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182278 = 0; nest_i_182278 < next_stride_176727; nest_i_182278++) {
                                    ((int8_t *) mem_180975.mem)[nest_i_182278] = dummy_179948;
                                }
                                if (memblock_alloc(ctx, &mem_180977, bytes_180976, "mem_180977")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182279 = 0; nest_i_182279 < next_stride_176727; nest_i_182279++) {
                                    ((int64_t *) mem_180977.mem)[nest_i_182279] = dummy_179949;
                                }
                                if (memblock_alloc(ctx, &mem_180979, bytes_180978, "mem_180979")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182280 = 0; nest_i_182280 < next_stride_176727; nest_i_182280++) {
                                    ((float *) mem_180979.mem)[nest_i_182280] = dummy_179950;
                                }
                                
                                int64_t data_179961;
                                int64_t i_179966 = (int64_t) 0;
                                
                                for (int64_t k_179965 = 0; k_179965 < next_stride_176727; k_179965++) {
                                    int64_t j_179970 = sub64(k_179965, i_179966);
                                    bool cond_179971 = j_179970 == j_m_i_176749;
                                    bool cond_179972;
                                    
                                    if (cond_179971) {
                                        cond_179972 = 1;
                                    } else {
                                        bool cond_179973 = slt64(i_179966, stride_176726);
                                        bool cond_f_res_179974;
                                        
                                        if (cond_179973) {
                                            bool x_179975 = sle64((int64_t) 0, j_179970);
                                            bool y_179976 = slt64(j_179970, j_m_i_176749);
                                            bool bounds_check_179977 = x_179975 && y_179976;
                                            bool index_certs_179978;
                                            
                                            if (!bounds_check_179977) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179984 = sle64((int64_t) 0, i_179966);
                                            bool bounds_check_179985 = cond_179973 && x_179984;
                                            bool index_certs_179986;
                                            
                                            if (!bounds_check_179985) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179979 = stride_176726 + j_179970;
                                            int64_t slice_179980 = start_176800 + slice_179979;
                                            int8_t leq_arg1_179981 = ((int8_t *) mem_param_180866.mem)[slice_179980];
                                            int64_t leq_arg1_179982 = ((int64_t *) mem_param_180869.mem)[slice_179980];
                                            float leq_arg1_179983 = ((float *) mem_param_180872.mem)[slice_179980];
                                            int64_t slice_179987 = start_176800 + i_179966;
                                            int8_t leq_arg0_179988 = ((int8_t *) mem_param_180866.mem)[slice_179987];
                                            int64_t leq_arg0_179989 = ((int64_t *) mem_param_180869.mem)[slice_179987];
                                            float leq_arg0_179990 = ((float *) mem_param_180872.mem)[slice_179987];
                                            bool cond_179991 = leq_arg0_179988 == leq_arg1_179981;
                                            bool defunc_0_leq_res_t_res_179992 = sle64(leq_arg0_179989, leq_arg1_179982);
                                            bool defunc_0_leq_res_179993 = leq_arg0_179990 <= leq_arg1_179983;
                                            bool x_179994 = cond_179991 && defunc_0_leq_res_t_res_179992;
                                            bool x_179995 = !cond_179991;
                                            bool y_179996 = defunc_0_leq_res_179993 && x_179995;
                                            bool defunc_0_leq_res_179997 = x_179994 || y_179996;
                                            
                                            cond_f_res_179974 = defunc_0_leq_res_179997;
                                        } else {
                                            cond_f_res_179974 = 0;
                                        }
                                        cond_179972 = cond_f_res_179974;
                                    }
                                    
                                    int64_t loopres_179998;
                                    int8_t loopres_179999;
                                    int64_t loopres_180000;
                                    float loopres_180001;
                                    
                                    if (cond_179972) {
                                        bool x_180003 = sle64((int64_t) 0, i_179966);
                                        bool y_180004 = slt64(i_179966, stride_176726);
                                        bool bounds_check_180005 = x_180003 && y_180004;
                                        bool index_certs_180006;
                                        
                                        if (!bounds_check_180005) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180002 = add64((int64_t) 1, i_179966);
                                        int64_t slice_180007 = start_176800 + i_179966;
                                        int8_t tmp_180008 = ((int8_t *) mem_param_180866.mem)[slice_180007];
                                        int64_t tmp_180009 = ((int64_t *) mem_param_180869.mem)[slice_180007];
                                        float tmp_180010 = ((float *) mem_param_180872.mem)[slice_180007];
                                        
                                        loopres_179998 = tmp_180002;
                                        loopres_179999 = tmp_180008;
                                        loopres_180000 = tmp_180009;
                                        loopres_180001 = tmp_180010;
                                    } else {
                                        bool x_180011 = sle64((int64_t) 0, j_179970);
                                        bool y_180012 = slt64(j_179970, j_m_i_176749);
                                        bool bounds_check_180013 = x_180011 && y_180012;
                                        bool index_certs_180014;
                                        
                                        if (!bounds_check_180013) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180015 = stride_176726 + j_179970;
                                        int64_t slice_180016 = start_176800 + slice_180015;
                                        int8_t tmp_180017 = ((int8_t *) mem_param_180866.mem)[slice_180016];
                                        int64_t tmp_180018 = ((int64_t *) mem_param_180869.mem)[slice_180016];
                                        float tmp_180019 = ((float *) mem_param_180872.mem)[slice_180016];
                                        
                                        loopres_179998 = i_179966;
                                        loopres_179999 = tmp_180017;
                                        loopres_180000 = tmp_180018;
                                        loopres_180001 = tmp_180019;
                                    }
                                    ((int8_t *) mem_180975.mem)[k_179965] = loopres_179999;
                                    ((int64_t *) mem_180977.mem)[k_179965] = loopres_180000;
                                    ((float *) mem_180979.mem)[k_179965] = loopres_180001;
                                    
                                    int64_t i_tmp_182281 = loopres_179998;
                                    
                                    i_179966 = i_tmp_182281;
                                }
                                data_179961 = i_179966;
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180975, "mem_180975") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180977, "mem_180977") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180979, "mem_180979") != 0)
                                    return 1;
                            } else {
                                if (mem_180894_cached_sizze_182503 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180894, &mem_180894_cached_sizze_182503, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180896_cached_sizze_182504 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180896, &mem_180896_cached_sizze_182504, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180477 = 0; i_180477 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748; i_180477++) {
                                    int64_t split_count_arg3_176901 = mul64(merge_block_sizze_176564, i_180477);
                                    int64_t defunc_0_split_count_res_176902;
                                    int64_t defunc_0_split_count_res_176903;
                                    int64_t defunc_0_split_count_res_176904;
                                    int64_t defunc_0_split_count_res_176905;
                                    int64_t defunc_0_split_count_res_176906;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_176902, &defunc_0_split_count_res_176903, &defunc_0_split_count_res_176904, &defunc_0_split_count_res_176905, &defunc_0_split_count_res_176906, (int64_t) 0, stride_176726, (int64_t) 0, j_m_i_176749, split_count_arg3_176901) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176907 = slt64((int64_t) 0, defunc_0_split_count_res_176906);
                                    bool defunc_0_split_count_res_176908;
                                    int64_t defunc_0_split_count_res_176909;
                                    int64_t defunc_0_split_count_res_176910;
                                    int64_t defunc_0_split_count_res_176911;
                                    int64_t defunc_0_split_count_res_176912;
                                    int64_t defunc_0_split_count_res_176913;
                                    bool loop_while_176914;
                                    int64_t ss_176915;
                                    int64_t ss_176916;
                                    int64_t tt_176917;
                                    int64_t tt_176918;
                                    int64_t count_176919;
                                    
                                    loop_while_176914 = loop_cond_176907;
                                    ss_176915 = defunc_0_split_count_res_176902;
                                    ss_176916 = defunc_0_split_count_res_176903;
                                    tt_176917 = defunc_0_split_count_res_176904;
                                    tt_176918 = defunc_0_split_count_res_176905;
                                    count_176919 = defunc_0_split_count_res_176906;
                                    while (loop_while_176914) {
                                        int64_t zlze_lhs_176920 = sub64(ss_176916, ss_176915);
                                        bool cond_176921 = sle64(zlze_lhs_176920, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176922;
                                        int64_t defunc_0_lifted_step_res_176923;
                                        int64_t defunc_0_lifted_step_res_176924;
                                        int64_t defunc_0_lifted_step_res_176925;
                                        
                                        if (cond_176921) {
                                            int64_t tmp_180023 = add64(tt_176917, count_176919);
                                            
                                            defunc_0_lifted_step_res_176922 = ss_176915;
                                            defunc_0_lifted_step_res_176923 = tmp_180023;
                                            defunc_0_lifted_step_res_176924 = tt_176918;
                                            defunc_0_lifted_step_res_176925 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176927 = sub64(tt_176918, tt_176917);
                                            bool cond_176928 = sle64(zlze_lhs_176927, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176929;
                                            int64_t defunc_0_lifted_step_res_f_res_176930;
                                            int64_t defunc_0_lifted_step_res_f_res_176931;
                                            int64_t defunc_0_lifted_step_res_f_res_176932;
                                            
                                            if (cond_176928) {
                                                int64_t tmp_180024 = add64(ss_176915, count_176919);
                                                
                                                defunc_0_lifted_step_res_f_res_176929 = tmp_180024;
                                                defunc_0_lifted_step_res_f_res_176930 = tt_176917;
                                                defunc_0_lifted_step_res_f_res_176931 = tt_176918;
                                                defunc_0_lifted_step_res_f_res_176932 = (int64_t) 0;
                                            } else {
                                                bool cond_176934 = count_176919 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176935;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176936;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176937;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176938;
                                                
                                                if (cond_176934) {
                                                    bool x_180026 = sle64((int64_t) 0, ss_176915);
                                                    bool y_180027 = slt64(ss_176915, stride_176726);
                                                    bool bounds_check_180028 = x_180026 && y_180027;
                                                    bool index_certs_180029;
                                                    
                                                    if (!bounds_check_180028) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176915, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180034 = sle64((int64_t) 0, tt_176917);
                                                    bool y_180035 = slt64(tt_176917, j_m_i_176749);
                                                    bool bounds_check_180036 = x_180034 && y_180035;
                                                    bool index_certs_180037;
                                                    
                                                    if (!bounds_check_180036) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176917, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180030 = start_176800 + ss_176915;
                                                    int8_t leq_arg1_180031 = ((int8_t *) mem_param_180866.mem)[slice_180030];
                                                    int64_t leq_arg1_180032 = ((int64_t *) mem_param_180869.mem)[slice_180030];
                                                    float leq_arg1_180033 = ((float *) mem_param_180872.mem)[slice_180030];
                                                    int64_t slice_180038 = stride_176726 + tt_176917;
                                                    int64_t slice_180039 = start_176800 + slice_180038;
                                                    int8_t leq_arg0_180040 = ((int8_t *) mem_param_180866.mem)[slice_180039];
                                                    int64_t leq_arg0_180041 = ((int64_t *) mem_param_180869.mem)[slice_180039];
                                                    float leq_arg0_180042 = ((float *) mem_param_180872.mem)[slice_180039];
                                                    bool cond_180043 = leq_arg0_180040 == leq_arg1_180031;
                                                    bool defunc_0_leq_res_t_res_180044 = sle64(leq_arg0_180041, leq_arg1_180032);
                                                    bool defunc_0_leq_res_180045 = leq_arg0_180042 <= leq_arg1_180033;
                                                    bool x_180046 = cond_180043 && defunc_0_leq_res_t_res_180044;
                                                    bool x_180047 = !cond_180043;
                                                    bool y_180048 = defunc_0_leq_res_180045 && x_180047;
                                                    bool defunc_0_leq_res_180049 = x_180046 || y_180048;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    
                                                    if (defunc_0_leq_res_180049) {
                                                        int64_t tmp_180052 = add64((int64_t) 1, tt_176917);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = ss_176915;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tmp_180052;
                                                    } else {
                                                        int64_t tmp_180053 = add64((int64_t) 1, ss_176915);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = tmp_180053;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tt_176917;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = tt_176918;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176967 = sdiv64(count_176919, (int64_t) 2);
                                                    int64_t n_176968 = sub64(count_176919, m_176967);
                                                    bool cond_176969 = n_176968 == (int64_t) 0;
                                                    int64_t zgze_lhs_176970 = add64(ss_176915, m_176967);
                                                    bool cond_f_res_176971 = sle64(ss_176916, zgze_lhs_176970);
                                                    bool x_176972 = !cond_176969;
                                                    bool y_176973 = cond_f_res_176971 && x_176972;
                                                    bool cond_176974 = cond_176969 || y_176973;
                                                    bool leq_y_x_176975;
                                                    
                                                    if (cond_176974) {
                                                        leq_y_x_176975 = 1;
                                                    } else {
                                                        bool x_176976 = sle64((int64_t) 0, zgze_lhs_176970);
                                                        bool y_176977 = slt64(zgze_lhs_176970, stride_176726);
                                                        bool bounds_check_176978 = x_176976 && y_176977;
                                                        bool index_certs_176979;
                                                        
                                                        if (!bounds_check_176978) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176970, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176984 = add64(tt_176917, n_176968);
                                                        int64_t leq_arg0_176985 = sub64(zm_lhs_176984, (int64_t) 1);
                                                        bool x_176986 = sle64((int64_t) 0, leq_arg0_176985);
                                                        bool y_176987 = slt64(leq_arg0_176985, j_m_i_176749);
                                                        bool bounds_check_176988 = x_176986 && y_176987;
                                                        bool index_certs_176989;
                                                        
                                                        if (!bounds_check_176988) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176985, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176980 = start_176800 + zgze_lhs_176970;
                                                        int8_t leq_arg1_176981 = ((int8_t *) mem_param_180866.mem)[slice_176980];
                                                        int64_t leq_arg1_176982 = ((int64_t *) mem_param_180869.mem)[slice_176980];
                                                        float leq_arg1_176983 = ((float *) mem_param_180872.mem)[slice_176980];
                                                        int64_t slice_176990 = stride_176726 + leq_arg0_176985;
                                                        int64_t slice_176991 = start_176800 + slice_176990;
                                                        int8_t leq_arg0_176992 = ((int8_t *) mem_param_180866.mem)[slice_176991];
                                                        int64_t leq_arg0_176993 = ((int64_t *) mem_param_180869.mem)[slice_176991];
                                                        float leq_arg0_176994 = ((float *) mem_param_180872.mem)[slice_176991];
                                                        bool cond_176995 = leq_arg0_176992 == leq_arg1_176981;
                                                        bool defunc_0_leq_res_t_res_176996 = sle64(leq_arg0_176993, leq_arg1_176982);
                                                        bool defunc_0_leq_res_176997 = leq_arg0_176994 <= leq_arg1_176983;
                                                        bool x_176998 = cond_176995 && defunc_0_leq_res_t_res_176996;
                                                        bool x_176999 = !cond_176995;
                                                        bool y_177000 = defunc_0_leq_res_176997 && x_176999;
                                                        bool defunc_0_leq_res_177001 = x_176998 || y_177000;
                                                        
                                                        leq_y_x_176975 = defunc_0_leq_res_177001;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                    
                                                    if (leq_y_x_176975) {
                                                        int64_t tmp_180054 = add64(tt_176917, n_176968);
                                                        int64_t tmp_180055 = sub64(count_176919, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tmp_180054;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tt_176918;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = tmp_180055;
                                                    } else {
                                                        int64_t tmp_177007 = add64(tt_176917, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tt_176917;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tmp_177007;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = count_176919;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = ss_176915;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                }
                                                defunc_0_lifted_step_res_f_res_176929 = defunc_0_lifted_step_res_f_res_f_res_176935;
                                                defunc_0_lifted_step_res_f_res_176930 = defunc_0_lifted_step_res_f_res_f_res_176936;
                                                defunc_0_lifted_step_res_f_res_176931 = defunc_0_lifted_step_res_f_res_f_res_176937;
                                                defunc_0_lifted_step_res_f_res_176932 = defunc_0_lifted_step_res_f_res_f_res_176938;
                                            }
                                            defunc_0_lifted_step_res_176922 = defunc_0_lifted_step_res_f_res_176929;
                                            defunc_0_lifted_step_res_176923 = defunc_0_lifted_step_res_f_res_176930;
                                            defunc_0_lifted_step_res_176924 = defunc_0_lifted_step_res_f_res_176931;
                                            defunc_0_lifted_step_res_176925 = defunc_0_lifted_step_res_f_res_176932;
                                        }
                                        
                                        int64_t loopres_177008;
                                        int64_t loopres_177009;
                                        int64_t loopres_177010;
                                        int64_t loopres_177011;
                                        int64_t loopres_177012;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_177008, &loopres_177009, &loopres_177010, &loopres_177011, &loopres_177012, defunc_0_lifted_step_res_176922, ss_176916, defunc_0_lifted_step_res_176923, defunc_0_lifted_step_res_176924, defunc_0_lifted_step_res_176925) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177013 = slt64((int64_t) 0, loopres_177012);
                                        bool loop_while_tmp_182287 = loop_cond_177013;
                                        int64_t ss_tmp_182288 = loopres_177008;
                                        int64_t ss_tmp_182289 = loopres_177009;
                                        int64_t tt_tmp_182290 = loopres_177010;
                                        int64_t tt_tmp_182291 = loopres_177011;
                                        int64_t count_tmp_182292 = loopres_177012;
                                        
                                        loop_while_176914 = loop_while_tmp_182287;
                                        ss_176915 = ss_tmp_182288;
                                        ss_176916 = ss_tmp_182289;
                                        tt_176917 = tt_tmp_182290;
                                        tt_176918 = tt_tmp_182291;
                                        count_176919 = count_tmp_182292;
                                    }
                                    defunc_0_split_count_res_176908 = loop_while_176914;
                                    defunc_0_split_count_res_176909 = ss_176915;
                                    defunc_0_split_count_res_176910 = ss_176916;
                                    defunc_0_split_count_res_176911 = tt_176917;
                                    defunc_0_split_count_res_176912 = tt_176918;
                                    defunc_0_split_count_res_176913 = count_176919;
                                    ((int64_t *) mem_180894)[i_180477] = defunc_0_split_count_res_176909;
                                    ((int64_t *) mem_180896)[i_180477] = defunc_0_split_count_res_176911;
                                }
                                if (mem_180910_cached_sizze_182505 < flat_dim_176750) {
                                    err = lexical_realloc(ctx, &mem_180910, &mem_180910_cached_sizze_182505, flat_dim_176750);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180913_cached_sizze_182506 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180913, &mem_180913_cached_sizze_182506, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180916_cached_sizze_182507 < bytes_180915) {
                                    err = lexical_realloc(ctx, &mem_180916, &mem_180916_cached_sizze_182507, bytes_180915);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180486 = 0; i_180486 < num_blocks_176747; i_180486++) {
                                    bool y_177020 = slt64(i_180486, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool index_certs_177022;
                                    
                                    if (!y_177020) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177023 = ((int64_t *) mem_180894)[i_180486];
                                    int64_t defunc_0_f_res_177024 = ((int64_t *) mem_180896)[i_180486];
                                    int64_t tmp_177025 = add64((int64_t) 1, i_180486);
                                    bool x_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool y_177027 = slt64(tmp_177025, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool bounds_check_177028 = x_177026 && y_177027;
                                    bool index_certs_177029;
                                    
                                    if (!bounds_check_177028) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177030 = ((int64_t *) mem_180894)[tmp_177025];
                                    int64_t defunc_0_f_res_177031 = ((int64_t *) mem_180896)[tmp_177025];
                                    int64_t merge_sequential_arg2_177032 = add64(stride_176726, defunc_0_f_res_177024);
                                    int64_t merge_sequential_arg2_177033 = add64(stride_176726, defunc_0_f_res_177031);
                                    int64_t j_m_i_177034 = sub64(merge_sequential_arg2_177033, merge_sequential_arg2_177032);
                                    bool empty_slice_177035 = j_m_i_177034 == (int64_t) 0;
                                    int64_t m_177036 = sub64(j_m_i_177034, (int64_t) 1);
                                    int64_t i_p_m_t_s_177037 = add64(merge_sequential_arg2_177032, m_177036);
                                    bool zzero_leq_i_p_m_t_s_177038 = sle64((int64_t) 0, i_p_m_t_s_177037);
                                    bool i_p_m_t_s_leq_w_177039 = slt64(i_p_m_t_s_177037, next_stride_176727);
                                    bool zzero_lte_i_177040 = sle64((int64_t) 0, merge_sequential_arg2_177032);
                                    bool i_lte_j_177041 = sle64(merge_sequential_arg2_177032, merge_sequential_arg2_177033);
                                    bool y_177042 = i_p_m_t_s_leq_w_177039 && zzero_lte_i_177040;
                                    bool y_177043 = zzero_leq_i_p_m_t_s_177038 && y_177042;
                                    bool forwards_ok_177044 = i_lte_j_177041 && y_177043;
                                    bool ok_or_empty_177045 = empty_slice_177035 || forwards_ok_177044;
                                    bool index_certs_177046;
                                    
                                    if (!ok_or_empty_177045) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177032, ":", (long long) merge_sequential_arg2_177033, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177047 = sub64(defunc_0_f_res_177030, defunc_0_f_res_177023);
                                    bool empty_slice_177048 = j_m_i_177047 == (int64_t) 0;
                                    int64_t m_177049 = sub64(j_m_i_177047, (int64_t) 1);
                                    int64_t i_p_m_t_s_177050 = add64(defunc_0_f_res_177023, m_177049);
                                    bool zzero_leq_i_p_m_t_s_177051 = sle64((int64_t) 0, i_p_m_t_s_177050);
                                    bool i_p_m_t_s_leq_w_177052 = slt64(i_p_m_t_s_177050, next_stride_176727);
                                    bool zzero_lte_i_177053 = sle64((int64_t) 0, defunc_0_f_res_177023);
                                    bool i_lte_j_177054 = sle64(defunc_0_f_res_177023, defunc_0_f_res_177030);
                                    bool y_177055 = i_p_m_t_s_leq_w_177052 && zzero_lte_i_177053;
                                    bool y_177056 = zzero_leq_i_p_m_t_s_177051 && y_177055;
                                    bool forwards_ok_177057 = i_lte_j_177054 && y_177056;
                                    bool ok_or_empty_177058 = empty_slice_177048 || forwards_ok_177057;
                                    bool index_certs_177059;
                                    
                                    if (!ok_or_empty_177058) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177023, ":", (long long) defunc_0_f_res_177030, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177060 = slt64((int64_t) 0, j_m_i_177047);
                                    int8_t dummy_177061;
                                    int64_t dummy_177062;
                                    float dummy_177063;
                                    
                                    if (cond_177060) {
                                        bool index_certs_180056;
                                        
                                        if (!cond_177060) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180057 = start_176800 + defunc_0_f_res_177023;
                                        int8_t head_res_180058 = ((int8_t *) mem_param_180866.mem)[slice_180057];
                                        int64_t head_res_180059 = ((int64_t *) mem_param_180869.mem)[slice_180057];
                                        float head_res_180060 = ((float *) mem_param_180872.mem)[slice_180057];
                                        
                                        dummy_177061 = head_res_180058;
                                        dummy_177062 = head_res_180059;
                                        dummy_177063 = head_res_180060;
                                    } else {
                                        bool y_177069 = slt64((int64_t) 0, j_m_i_177034);
                                        bool index_certs_177070;
                                        
                                        if (!y_177069) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177071 = start_176800 + merge_sequential_arg2_177032;
                                        int8_t head_res_177072 = ((int8_t *) mem_param_180866.mem)[slice_177071];
                                        int64_t head_res_177073 = ((int64_t *) mem_param_180869.mem)[slice_177071];
                                        float head_res_177074 = ((float *) mem_param_180872.mem)[slice_177071];
                                        
                                        dummy_177061 = head_res_177072;
                                        dummy_177062 = head_res_177073;
                                        dummy_177063 = head_res_177074;
                                    }
                                    for (int64_t nest_i_182296 = 0; nest_i_182296 < merge_block_sizze_176564; nest_i_182296++) {
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + nest_i_182296] = dummy_177061;
                                    }
                                    for (int64_t nest_i_182297 = 0; nest_i_182297 < merge_block_sizze_176564; nest_i_182297++) {
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + nest_i_182297] = dummy_177062;
                                    }
                                    for (int64_t nest_i_182298 = 0; nest_i_182298 < merge_block_sizze_176564; nest_i_182298++) {
                                        ((float *) mem_180916)[i_180486 * merge_block_sizze_176564 + nest_i_182298] = dummy_177063;
                                    }
                                    
                                    int64_t data_177078;
                                    int64_t i_177083 = (int64_t) 0;
                                    
                                    for (int64_t k_177082 = 0; k_177082 < merge_block_sizze_176564; k_177082++) {
                                        int64_t j_177087 = sub64(k_177082, i_177083);
                                        bool cond_177088 = j_177087 == j_m_i_177034;
                                        bool cond_177089;
                                        
                                        if (cond_177088) {
                                            cond_177089 = 1;
                                        } else {
                                            bool cond_177090 = slt64(i_177083, j_m_i_177047);
                                            bool cond_f_res_177091;
                                            
                                            if (cond_177090) {
                                                bool x_180061 = sle64((int64_t) 0, j_177087);
                                                bool y_180062 = slt64(j_177087, j_m_i_177034);
                                                bool bounds_check_180063 = x_180061 && y_180062;
                                                bool index_certs_180064;
                                                
                                                if (!bounds_check_180063) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180070 = sle64((int64_t) 0, i_177083);
                                                bool bounds_check_180071 = cond_177090 && x_180070;
                                                bool index_certs_180072;
                                                
                                                if (!bounds_check_180071) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180065 = merge_sequential_arg2_177032 + j_177087;
                                                int64_t slice_180066 = start_176800 + slice_180065;
                                                int8_t leq_arg1_180067 = ((int8_t *) mem_param_180866.mem)[slice_180066];
                                                int64_t leq_arg1_180068 = ((int64_t *) mem_param_180869.mem)[slice_180066];
                                                float leq_arg1_180069 = ((float *) mem_param_180872.mem)[slice_180066];
                                                int64_t slice_180073 = defunc_0_f_res_177023 + i_177083;
                                                int64_t slice_180074 = start_176800 + slice_180073;
                                                int8_t leq_arg0_180075 = ((int8_t *) mem_param_180866.mem)[slice_180074];
                                                int64_t leq_arg0_180076 = ((int64_t *) mem_param_180869.mem)[slice_180074];
                                                float leq_arg0_180077 = ((float *) mem_param_180872.mem)[slice_180074];
                                                bool cond_180078 = leq_arg0_180075 == leq_arg1_180067;
                                                bool defunc_0_leq_res_t_res_180079 = sle64(leq_arg0_180076, leq_arg1_180068);
                                                bool defunc_0_leq_res_180080 = leq_arg0_180077 <= leq_arg1_180069;
                                                bool x_180081 = cond_180078 && defunc_0_leq_res_t_res_180079;
                                                bool x_180082 = !cond_180078;
                                                bool y_180083 = defunc_0_leq_res_180080 && x_180082;
                                                bool defunc_0_leq_res_180084 = x_180081 || y_180083;
                                                
                                                cond_f_res_177091 = defunc_0_leq_res_180084;
                                            } else {
                                                cond_f_res_177091 = 0;
                                            }
                                            cond_177089 = cond_f_res_177091;
                                        }
                                        
                                        int64_t loopres_177116;
                                        int8_t loopres_177117;
                                        int64_t loopres_177118;
                                        float loopres_177119;
                                        
                                        if (cond_177089) {
                                            bool x_180086 = sle64((int64_t) 0, i_177083);
                                            bool y_180087 = slt64(i_177083, j_m_i_177047);
                                            bool bounds_check_180088 = x_180086 && y_180087;
                                            bool index_certs_180089;
                                            
                                            if (!bounds_check_180088) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180085 = add64((int64_t) 1, i_177083);
                                            int64_t slice_180090 = defunc_0_f_res_177023 + i_177083;
                                            int64_t slice_180091 = start_176800 + slice_180090;
                                            int8_t tmp_180092 = ((int8_t *) mem_param_180866.mem)[slice_180091];
                                            int64_t tmp_180093 = ((int64_t *) mem_param_180869.mem)[slice_180091];
                                            float tmp_180094 = ((float *) mem_param_180872.mem)[slice_180091];
                                            
                                            loopres_177116 = tmp_180085;
                                            loopres_177117 = tmp_180092;
                                            loopres_177118 = tmp_180093;
                                            loopres_177119 = tmp_180094;
                                        } else {
                                            bool x_177130 = sle64((int64_t) 0, j_177087);
                                            bool y_177131 = slt64(j_177087, j_m_i_177034);
                                            bool bounds_check_177132 = x_177130 && y_177131;
                                            bool index_certs_177133;
                                            
                                            if (!bounds_check_177132) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177134 = merge_sequential_arg2_177032 + j_177087;
                                            int64_t slice_177135 = start_176800 + slice_177134;
                                            int8_t tmp_177136 = ((int8_t *) mem_param_180866.mem)[slice_177135];
                                            int64_t tmp_177137 = ((int64_t *) mem_param_180869.mem)[slice_177135];
                                            float tmp_177138 = ((float *) mem_param_180872.mem)[slice_177135];
                                            
                                            loopres_177116 = i_177083;
                                            loopres_177117 = tmp_177136;
                                            loopres_177118 = tmp_177137;
                                            loopres_177119 = tmp_177138;
                                        }
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177117;
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177118;
                                        ((float *) mem_180916)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177119;
                                        
                                        int64_t i_tmp_182299 = loopres_177116;
                                        
                                        i_177083 = i_tmp_182299;
                                    }
                                    data_177078 = i_177083;
                                }
                                if (memblock_alloc(ctx, &mem_180965, flat_dim_176750, "mem_180965")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180965.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint8_t *) mem_180910, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180969, bytes_180912, "mem_180969")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180969.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180913, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180973, bytes_180915, "mem_180973")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180973.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint32_t *) mem_180916, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180965, "mem_180965") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180969, "mem_180969") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180973, "mem_180973") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180874, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181006.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180877, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180880, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181000.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181020, bytes_180873, "mem_181020")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181020.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint8_t *) mem_180874, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181024, bytes_180876, "mem_181024")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181024.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180877, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181028, bytes_180879, "mem_181028")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181028.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint32_t *) mem_180880, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        
                        bool loop_cond_177152 = slt64(next_stride_176727, flat_dim_176559);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182266, &mem_181020, "mem_181020") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182267, &mem_181024, "mem_181024") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182268, &mem_181028, "mem_181028") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182269 = bytes_180873;
                        bool loop_while_tmp_182270 = loop_cond_177152;
                        int64_t stride_tmp_182274 = next_stride_176727;
                        
                        if (memblock_set(ctx, &mem_param_180866, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180869, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180872, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176721 = loop_dz2084Uz2082U_tmp_182269;
                        loop_while_176722 = loop_while_tmp_182270;
                        stride_176726 = stride_tmp_182274;
                    }
                    if (memblock_set(ctx, &ext_mem_181038, &mem_param_180866, "mem_param_180866") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181037, &mem_param_180869, "mem_param_180869") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181036, &mem_param_180872, "mem_param_180872") != 0)
                        return 1;
                    data_176715 = loop_dz2084Uz2082U_176721;
                    data_176716 = loop_while_176722;
                    data_176720 = stride_176726;
                    if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
                        return 1;
                    
                    bool empty_slice_177153 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177154 = sle64((int64_t) 0, zs_lhs_176543);
                    bool i_p_m_t_s_leq_w_177155 = slt64(zs_lhs_176543, data_176715);
                    bool y_177156 = zzero_leq_i_p_m_t_s_177154 && i_p_m_t_s_leq_w_177155;
                    bool ok_or_empty_177157 = empty_slice_177153 || y_177156;
                    bool index_certs_177158;
                    
                    if (!ok_or_empty_177157) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] out of bounds for array of shape [", (long long) data_176715, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181047, &ext_mem_181038, "ext_mem_181038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &ext_mem_181037, "ext_mem_181037") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &ext_mem_181036, "ext_mem_181036") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180728.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180730.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180732.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181041.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
                    return 1;
                
                bool loop_cond_177194 = slt64(ubs_176486, threads_152420);
                bool loop_while_tmp_182233 = loop_cond_177194;
                int64_t p_tmp_182234 = ubs_176486;
                
                loop_while_176475 = loop_while_tmp_182233;
                p_176476 = p_tmp_182234;
            }
            defunc_0_mergeFunc_seq_res_176470 = loop_while_176475;
            defunc_0_mergeFunc_seq_res_176471 = p_176476;
            
            int64_t index_concat_branch_178011;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180109 = ((int64_t *) mem_180713)[index_concat_i_178008];
                
                index_concat_branch_178011 = index_concat_180109;
            } else {
                index_concat_branch_178011 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178005;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180110 = ((int64_t *) mem_180715)[index_concat_i_178008];
                
                index_concat_branch_178005 = index_concat_180110;
            } else {
                index_concat_branch_178005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_180730, "mem_180730") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_180732, "mem_180732") != 0)
                return 1;
            loopres_175234 = index_concat_branch_178011;
            loopres_175235 = index_concat_branch_178005;
        }
        for (int64_t i_180502 = 0; i_180502 < window_sizze_152419; i_180502++) {
            int8_t eta_p_177202 = ((int8_t *) ext_mem_181466.mem)[i_180502];
            int64_t eta_p_177203 = ((int64_t *) ext_mem_181463.mem)[i_180502];
            bool cond_177204 = eta_p_177202 == (int8_t) 0;
            int64_t tmp_177205;
            
            if (cond_177204) {
                int64_t tmp_t_res_180113 = add64(p_175206, eta_p_177203);
                
                tmp_177205 = tmp_t_res_180113;
            } else {
                int64_t tmp_f_res_177207 = add64(p_175207, eta_p_177203);
                
                tmp_177205 = tmp_f_res_177207;
            }
            ((int64_t *) mem_180700.mem)[ind_bottom_175210 + i_180502] = tmp_177205;
        }
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        
        int64_t next_lbs_177208 = add64(p_175206, loopres_175234);
        int64_t next_lbs_177209 = add64(p_175207, loopres_175235);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181466.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152419});
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152419});
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        
        bool cond_177223 = slt64(next_lbs_177208, zl_rhs_175189);
        bool loop_cond_t_res_177224 = slt64(next_lbs_177209, zl_rhs_175191);
        bool x_177225 = cond_177223 && loop_cond_t_res_177224;
        bool loop_while_tmp_182117 = x_177225;
        int64_t p_tmp_182121 = next_lbs_177208;
        int64_t p_tmp_182122 = next_lbs_177209;
        
        loop_while_175202 = loop_while_tmp_182117;
        p_175206 = p_tmp_182121;
        p_175207 = p_tmp_182122;
    }
    defunc_0_merge_pipeline_res_175196 = loop_while_175202;
    defunc_0_merge_pipeline_res_175200 = p_175206;
    defunc_0_merge_pipeline_res_175201 = p_175207;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 = sub64(nb_152418, defunc_0_merge_pipeline_res_175201);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 = sub64(na_152417, defunc_0_merge_pipeline_res_175200);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    bool empty_slice_177229 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 == (int64_t) 0;
    int64_t m_177230 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 1);
    int64_t i_p_m_t_s_177231 = add64(defunc_0_merge_pipeline_res_175200, m_177230);
    bool zzero_leq_i_p_m_t_s_177232 = sle64((int64_t) 0, i_p_m_t_s_177231);
    bool i_p_m_t_s_leq_w_177233 = slt64(i_p_m_t_s_177231, na_152417);
    bool zzero_lte_i_177234 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175200);
    bool i_lte_j_177235 = sle64(defunc_0_merge_pipeline_res_175200, na_152417);
    bool y_177236 = i_p_m_t_s_leq_w_177233 && zzero_lte_i_177234;
    bool y_177237 = zzero_leq_i_p_m_t_s_177232 && y_177236;
    bool forwards_ok_177238 = i_lte_j_177235 && y_177237;
    bool ok_or_empty_177239 = empty_slice_177229 || forwards_ok_177238;
    bool index_certs_177240;
    
    if (!ok_or_empty_177239) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175200, ":", (long long) na_152417, "] out of bounds for array of shape [", (long long) na_152417, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177244 = slt64(na_152417, defunc_0_merge_pipeline_res_175200);
    bool valid_177245 = !bounds_invalid_upwards_177244;
    bool range_valid_c_177246;
    
    if (!valid_177245) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175200, "..<", (long long) na_152417, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177250 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 == (int64_t) 0;
    int64_t m_177251 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, (int64_t) 1);
    int64_t i_p_m_t_s_177252 = add64(defunc_0_merge_pipeline_res_175201, m_177251);
    bool zzero_leq_i_p_m_t_s_177253 = sle64((int64_t) 0, i_p_m_t_s_177252);
    bool i_p_m_t_s_leq_w_177254 = slt64(i_p_m_t_s_177252, nb_152418);
    bool zzero_lte_i_177255 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175201);
    bool i_lte_j_177256 = sle64(defunc_0_merge_pipeline_res_175201, nb_152418);
    bool y_177257 = i_p_m_t_s_leq_w_177254 && zzero_lte_i_177255;
    bool y_177258 = zzero_leq_i_p_m_t_s_177253 && y_177257;
    bool forwards_ok_177259 = i_lte_j_177256 && y_177258;
    bool ok_or_empty_177260 = empty_slice_177250 || forwards_ok_177259;
    bool index_certs_177261;
    
    if (!ok_or_empty_177260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175201, ":", (long long) nb_152418, "] out of bounds for array of shape [", (long long) nb_152418, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177265 = slt64(nb_152418, defunc_0_merge_pipeline_res_175201);
    bool valid_177266 = !bounds_invalid_upwards_177265;
    bool range_valid_c_177267;
    
    if (!valid_177266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175201, "..<", (long long) nb_152418, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181491 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    int64_t bytes_181493 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool cond_177274 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zs_lhs_177275 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zp_rhs_177276 = sdiv_safe64(zs_lhs_177275, (int64_t) 20);
    int64_t min_num_blocks_177277 = add64((int64_t) 1, zp_rhs_177276);
    bool loop_cond_177278 = slt64((int64_t) 1, min_num_blocks_177277);
    bool smallest_pow_2_geq_than_res_177279;
    int64_t smallest_pow_2_geq_than_res_177280;
    bool loop_while_177281;
    int64_t x_177282;
    
    loop_while_177281 = loop_cond_177278;
    x_177282 = (int64_t) 1;
    while (loop_while_177281) {
        int64_t loopres_177283 = mul64((int64_t) 2, x_177282);
        bool loop_cond_177284 = slt64(loopres_177283, min_num_blocks_177277);
        bool loop_while_tmp_182304 = loop_cond_177284;
        int64_t x_tmp_182305 = loopres_177283;
        
        loop_while_177281 = loop_while_tmp_182304;
        x_177282 = x_tmp_182305;
    }
    smallest_pow_2_geq_than_res_177279 = loop_while_177281;
    smallest_pow_2_geq_than_res_177280 = x_177282;
    
    bool zzero_177285 = smallest_pow_2_geq_than_res_177280 == (int64_t) 0;
    bool nonzzero_177286 = !zzero_177285;
    bool protect_assert_disj_177287 = cond_177274 || nonzzero_177286;
    bool nonzzero_cert_177288;
    
    if (!protect_assert_disj_177287) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177289 = sdiv_safe64(zs_lhs_177275, smallest_pow_2_geq_than_res_177280);
    int64_t block_sizze_177290 = add64((int64_t) 1, zp_rhs_177289);
    bool y_177297 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool protect_assert_disj_181819 = cond_177274 || y_177297;
    bool index_certs_177298;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177324 = slt64(smallest_pow_2_geq_than_res_177280, (int64_t) 0);
    bool valid_177325 = !bounds_invalid_upwards_177324;
    bool protect_assert_disj_181829 = cond_177274 || valid_177325;
    bool range_valid_c_177326;
    
    if (!protect_assert_disj_181829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177280, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177328 = slt64(block_sizze_177290, (int64_t) 0);
    bool valid_177329 = !bounds_invalid_upwards_177328;
    bool protect_assert_disj_181831 = cond_177274 || valid_177329;
    bool range_valid_c_177330;
    
    if (!protect_assert_disj_181831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177290, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177332 = sle64(block_sizze_177290, (int64_t) 1);
    int64_t tmp_177333 = sub64(block_sizze_177290, (int64_t) 2);
    bool bounds_invalid_upwards_177334 = slt64(tmp_177333, (int64_t) 0);
    bool valid_177336 = !bounds_invalid_upwards_177334;
    bool protect_assert_disj_177337 = cond_177332 || valid_177336;
    bool protect_assert_disj_181833 = cond_177274 || protect_assert_disj_177337;
    bool range_valid_c_177338;
    
    if (!protect_assert_disj_181833) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177333, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177899 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177901 = sle64((int64_t) 0, zs_lhs_177275);
    bool i_p_m_t_s_leq_w_177902 = slt64(zs_lhs_177275, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool y_177903 = zzero_leq_i_p_m_t_s_177901 && i_p_m_t_s_leq_w_177902;
    bool ok_or_empty_177904 = empty_slice_177899 || y_177903;
    bool index_certs_177905;
    
    if (!ok_or_empty_177904) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177906 = add64(defunc_0_merge_pipeline_res_175200, defunc_0_merge_pipeline_res_175201);
    int64_t j_m_i_177907 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, final_buffer_177906);
    bool empty_slice_177908 = j_m_i_177907 == (int64_t) 0;
    int64_t m_177909 = sub64(j_m_i_177907, (int64_t) 1);
    int64_t i_p_m_t_s_177910 = add64(final_buffer_177906, m_177909);
    bool zzero_leq_i_p_m_t_s_177911 = sle64((int64_t) 0, i_p_m_t_s_177910);
    bool i_p_m_t_s_leq_w_177912 = slt64(i_p_m_t_s_177910, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool zzero_lte_i_177913 = sle64((int64_t) 0, final_buffer_177906);
    bool i_lte_j_177914 = sle64(final_buffer_177906, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool y_177915 = i_p_m_t_s_leq_w_177912 && zzero_lte_i_177913;
    bool y_177916 = zzero_leq_i_p_m_t_s_177911 && y_177915;
    bool forwards_ok_177917 = i_lte_j_177914 && y_177916;
    bool ok_or_empty_177918 = empty_slice_177908 || forwards_ok_177917;
    bool index_certs_177919;
    
    if (!ok_or_empty_177918) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177906, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177920 = j_m_i_177907 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool empty_or_match_cert_177921;
    
    if (!dim_match_177920) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177907, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181490, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "mem_181490")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182306 = 0; nest_i_182306 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; nest_i_182306++) {
        ((int8_t *) mem_181490.mem)[nest_i_182306] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181492, bytes_181491, "mem_181492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182307 = 0; i_182307 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; i_182307++) {
        int64_t x_182308 = defunc_0_merge_pipeline_res_175200 + i_182307 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[i_182307] = x_182308;
    }
    for (int64_t nest_i_182309 = 0; nest_i_182309 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; nest_i_182309++) {
        ((int8_t *) mem_181490.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + nest_i_182309] = (int8_t) 1;
    }
    for (int64_t i_182310 = 0; i_182310 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; i_182310++) {
        int64_t x_182311 = defunc_0_merge_pipeline_res_175201 + i_182310 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + i_182310] = x_182311;
    }
    
    int64_t tmp_offs_182312 = (int64_t) 0;
    
    if (!(tmp_offs_182312 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182312 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t tmp_offs_182313 = (int64_t) 0;
    
    if (!(tmp_offs_182313 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182313 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    if (memblock_alloc(ctx, &mem_181494, bytes_181493, "mem_181494")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182314 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, defunc_0_merge_pipeline_res_175200, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, defunc_0_merge_pipeline_res_175201, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t flat_dim_177291 = smallest_pow_2_geq_than_res_177280 * block_sizze_177290;
    bool x_181814 = !cond_177274;
    int64_t greatest_divisor_leq_than_arg1_177295 = mul64((int64_t) 2, block_sizze_177290);
    int64_t merge_block_sizze_177296;
    
    if (x_181814) {
        int64_t x_181816;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181816, (int64_t) 8, greatest_divisor_leq_than_arg1_177295) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177296 = x_181816;
    } else {
        merge_block_sizze_177296 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177971 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 0);
    int8_t index_concat_branch_177975 = btoi_bool_i8(index_concat_cmp_177971);
    int64_t index_concat_i_180115 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    int64_t index_primexp_180116 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180115);
    int64_t index_concat_branch_177969;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177969 = index_primexp_180116;
    } else {
        index_concat_branch_177969 = defunc_0_merge_pipeline_res_175200;
    }
    
    bool x_181810 = !index_concat_cmp_177971;
    bool protect_cond_conj_181820 = x_181810 && x_181814;
    float index_concat_177962;
    
    if (protect_cond_conj_181820) {
        float x_181812 = ((float *) a_list_mem_180696.mem)[defunc_0_merge_pipeline_res_175200];
        
        index_concat_177962 = x_181812;
    } else {
        index_concat_177962 = 0.0F;
    }
    
    bool protect_cond_conj_181821 = index_concat_cmp_177971 && x_181814;
    float index_concat_180119;
    
    if (protect_cond_conj_181821) {
        float x_181808 = ((float *) b_list_mem_180697.mem)[index_primexp_180116];
        
        index_concat_180119 = x_181808;
    } else {
        index_concat_180119 = 0.0F;
    }
    
    float index_concat_branch_177963;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177963 = index_concat_180119;
    } else {
        index_concat_branch_177963 = index_concat_177962;
    }
    
    int8_t defunc_0_reduce_res_180350;
    int64_t defunc_0_reduce_res_180351;
    float defunc_0_reduce_res_180352;
    
    if (x_181814) {
        int8_t x_181822;
        int64_t x_181823;
        float x_181824;
        int8_t redout_180504;
        int64_t redout_180505;
        float redout_180506;
        
        redout_180504 = index_concat_branch_177975;
        redout_180505 = index_concat_branch_177969;
        redout_180506 = index_concat_branch_177963;
        for (int64_t i_180507 = 0; i_180507 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228; i_180507++) {
            bool index_concat_cmp_180578 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, i_180507);
            int8_t index_concat_branch_180582 = btoi_bool_i8(index_concat_cmp_180578);
            int64_t index_concat_branch_180576;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180573 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t index_primexp_180666 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180573);
                
                index_concat_branch_180576 = index_primexp_180666;
            } else {
                int64_t index_primexp_180668 = add64(defunc_0_merge_pipeline_res_175200, i_180507);
                
                index_concat_branch_180576 = index_primexp_180668;
            }
            
            float index_concat_branch_180570;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180567 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t slice_180663 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180567;
                float index_concat_180568 = ((float *) b_list_mem_180697.mem)[slice_180663];
                
                index_concat_branch_180570 = index_concat_180568;
            } else {
                int64_t slice_180664 = defunc_0_merge_pipeline_res_175200 + i_180507;
                float index_concat_180569 = ((float *) a_list_mem_180696.mem)[slice_180664];
                
                index_concat_branch_180570 = index_concat_180569;
            }
            
            bool eq_x_y_180681 = redout_180504 == (int8_t) 1;
            bool eq_x_zz_180682 = redout_180504 == (int8_t) 0;
            bool p_and_eq_x_y_180683 = index_concat_cmp_180578 && eq_x_y_180681;
            bool not_p_180684 = !index_concat_cmp_180578;
            bool p_and_eq_x_y_180685 = eq_x_zz_180682 && not_p_180684;
            bool cond_177314 = p_and_eq_x_y_180683 || p_and_eq_x_y_180685;
            bool defunc_0_leq_res_t_res_177315 = sle64(redout_180505, index_concat_branch_180576);
            bool defunc_0_leq_res_177316 = redout_180506 <= index_concat_branch_180570;
            bool x_177317 = cond_177314 && defunc_0_leq_res_t_res_177315;
            bool x_177318 = !cond_177314;
            bool y_177319 = defunc_0_leq_res_177316 && x_177318;
            bool defunc_0_leq_res_177320 = x_177317 || y_177319;
            int8_t defunc_0_op_res_177321;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177321 = index_concat_branch_180582;
            } else {
                defunc_0_op_res_177321 = redout_180504;
            }
            
            int64_t defunc_0_op_res_177322;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177322 = index_concat_branch_180576;
            } else {
                defunc_0_op_res_177322 = redout_180505;
            }
            
            float defunc_0_op_res_177323;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177323 = index_concat_branch_180570;
            } else {
                defunc_0_op_res_177323 = redout_180506;
            }
            
            int8_t redout_tmp_182315 = defunc_0_op_res_177321;
            int64_t redout_tmp_182316 = defunc_0_op_res_177322;
            float redout_tmp_182317 = defunc_0_op_res_177323;
            
            redout_180504 = redout_tmp_182315;
            redout_180505 = redout_tmp_182316;
            redout_180506 = redout_tmp_182317;
        }
        x_181822 = redout_180504;
        x_181823 = redout_180505;
        x_181824 = redout_180506;
        defunc_0_reduce_res_180350 = x_181822;
        defunc_0_reduce_res_180351 = x_181823;
        defunc_0_reduce_res_180352 = x_181824;
    } else {
        defunc_0_reduce_res_180350 = (int8_t) 0;
        defunc_0_reduce_res_180351 = (int64_t) 0;
        defunc_0_reduce_res_180352 = 0.0F;
    }
    
    int64_t distance_177335 = add64((int64_t) 1, tmp_177333);
    int64_t binop_x_181497 = (int64_t) 8 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181498 = block_sizze_177290 * binop_x_181497;
    int64_t binop_x_181500 = (int64_t) 4 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181501 = block_sizze_177290 * binop_x_181500;
    int64_t bytes_181516 = (int64_t) 8 * block_sizze_177290;
    int64_t bytes_181518 = (int64_t) 4 * block_sizze_177290;
    bool loop_cond_177444 = slt64(block_sizze_177290, flat_dim_177291);
    bool zzero_177445 = merge_block_sizze_177296 == (int64_t) 0;
    bool nonzzero_177446 = !zzero_177445;
    
    if (cond_177274) {
        if (memblock_set(ctx, &ext_mem_181789, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &mem_181494, "mem_181494") != 0)
            return 1;
    } else {
        if (mem_181496_cached_sizze_182528 < flat_dim_177291) {
            err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182528, flat_dim_177291);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181499_cached_sizze_182529 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181499, &mem_181499_cached_sizze_182529, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181502_cached_sizze_182530 < bytes_181501) {
            err = lexical_realloc(ctx, &mem_181502, &mem_181502_cached_sizze_182530, bytes_181501);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181515_cached_sizze_182531 < block_sizze_177290) {
            err = lexical_realloc(ctx, &mem_181515, &mem_181515_cached_sizze_182531, block_sizze_177290);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181517_cached_sizze_182532 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182532, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181519_cached_sizze_182533 < bytes_181518) {
            err = lexical_realloc(ctx, &mem_181519, &mem_181519_cached_sizze_182533, bytes_181518);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180524 = 0; i_180524 < smallest_pow_2_geq_than_res_177280; i_180524++) {
            int64_t zp_lhs_177343 = mul64(block_sizze_177290, i_180524);
            
            for (int64_t i_180514 = 0; i_180514 < block_sizze_177290; i_180514++) {
                int64_t k_177348 = add64(zp_lhs_177343, i_180514);
                bool cond_177349 = slt64(k_177348, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
                int8_t lifted_lambda_res_177350;
                int64_t lifted_lambda_res_177351;
                float lifted_lambda_res_177352;
                
                if (cond_177349) {
                    bool x_180125 = sle64((int64_t) 0, k_177348);
                    bool bounds_check_180126 = cond_177349 && x_180125;
                    bool index_certs_180127;
                    
                    if (!bounds_check_180126) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177348, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180128 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, k_177348);
                    int8_t index_concat_branch_180129 = btoi_bool_i8(index_concat_cmp_180128);
                    int64_t index_concat_branch_180130;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180131 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t index_primexp_180132 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180131);
                        
                        index_concat_branch_180130 = index_primexp_180132;
                    } else {
                        int64_t index_primexp_180133 = add64(defunc_0_merge_pipeline_res_175200, k_177348);
                        
                        index_concat_branch_180130 = index_primexp_180133;
                    }
                    
                    float index_concat_branch_180134;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180135 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t slice_180136 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180135;
                        float index_concat_180137 = ((float *) b_list_mem_180697.mem)[slice_180136];
                        
                        index_concat_branch_180134 = index_concat_180137;
                    } else {
                        int64_t slice_180138 = defunc_0_merge_pipeline_res_175200 + k_177348;
                        float index_concat_180139 = ((float *) a_list_mem_180696.mem)[slice_180138];
                        
                        index_concat_branch_180134 = index_concat_180139;
                    }
                    lifted_lambda_res_177350 = index_concat_branch_180129;
                    lifted_lambda_res_177351 = index_concat_branch_180130;
                    lifted_lambda_res_177352 = index_concat_branch_180134;
                } else {
                    lifted_lambda_res_177350 = defunc_0_reduce_res_180350;
                    lifted_lambda_res_177351 = defunc_0_reduce_res_180351;
                    lifted_lambda_res_177352 = defunc_0_reduce_res_180352;
                }
                ((int8_t *) mem_181515)[i_180514] = lifted_lambda_res_177350;
                ((int64_t *) mem_181517)[i_180514] = lifted_lambda_res_177351;
                ((float *) mem_181519)[i_180514] = lifted_lambda_res_177352;
            }
            if (!cond_177332) {
                for (int64_t i_177365 = 0; i_177365 < distance_177335; i_177365++) {
                    int64_t gt_arg1_177369 = add64((int64_t) 1, i_177365);
                    bool x_177370 = sle64((int64_t) 0, gt_arg1_177369);
                    bool y_177371 = slt64(gt_arg1_177369, block_sizze_177290);
                    bool bounds_check_177372 = x_177370 && y_177371;
                    bool index_certs_177373;
                    
                    if (!bounds_check_177372) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177369, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177377 = slt64(i_177365, block_sizze_177290);
                    bool index_certs_177378;
                    
                    if (!y_177377) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177365, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177374 = ((int8_t *) mem_181515)[gt_arg1_177369];
                    int64_t gt_arg1_177375 = ((int64_t *) mem_181517)[gt_arg1_177369];
                    float gt_arg1_177376 = ((float *) mem_181519)[gt_arg1_177369];
                    int8_t gt_arg0_177379 = ((int8_t *) mem_181515)[i_177365];
                    int64_t gt_arg0_177380 = ((int64_t *) mem_181517)[i_177365];
                    float gt_arg0_177381 = ((float *) mem_181519)[i_177365];
                    bool cond_177382 = gt_arg0_177379 == gt_arg1_177374;
                    bool defunc_0_leq_res_t_res_177383 = sle64(gt_arg0_177380, gt_arg1_177375);
                    bool defunc_0_leq_res_177384 = gt_arg0_177381 <= gt_arg1_177376;
                    bool x_177385 = cond_177382 && defunc_0_leq_res_t_res_177383;
                    bool x_177386 = !cond_177382;
                    bool y_177387 = defunc_0_leq_res_177384 && x_177386;
                    bool defunc_0_leq_res_177388 = x_177385 || y_177387;
                    bool defunc_0_lifted_gt_res_177389 = !defunc_0_leq_res_177388;
                    bool s_177390;
                    int64_t s_177394;
                    bool loop_while_177395;
                    int64_t j_177399;
                    
                    loop_while_177395 = defunc_0_lifted_gt_res_177389;
                    j_177399 = i_177365;
                    while (loop_while_177395) {
                        bool x_177400 = sle64((int64_t) 0, j_177399);
                        bool y_177401 = slt64(j_177399, block_sizze_177290);
                        bool bounds_check_177402 = x_177400 && y_177401;
                        bool index_certs_177403;
                        
                        if (!bounds_check_177402) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177399, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177407 = add64((int64_t) 1, j_177399);
                        bool x_177408 = sle64((int64_t) 0, copy_arg0_177407);
                        bool y_177409 = slt64(copy_arg0_177407, block_sizze_177290);
                        bool bounds_check_177410 = x_177408 && y_177409;
                        bool index_certs_177411;
                        
                        if (!bounds_check_177410) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177407, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177404 = ((int8_t *) mem_181515)[j_177399];
                        int64_t copy_arg0_177405 = ((int64_t *) mem_181517)[j_177399];
                        float copy_arg0_177406 = ((float *) mem_181519)[j_177399];
                        int8_t copy_arg0_177412 = ((int8_t *) mem_181515)[copy_arg0_177407];
                        int64_t copy_arg0_177413 = ((int64_t *) mem_181517)[copy_arg0_177407];
                        float copy_arg0_177414 = ((float *) mem_181519)[copy_arg0_177407];
                        
                        ((int8_t *) mem_181515)[j_177399] = copy_arg0_177412;
                        ((int64_t *) mem_181517)[j_177399] = copy_arg0_177413;
                        ((float *) mem_181519)[j_177399] = copy_arg0_177414;
                        ((int8_t *) mem_181515)[copy_arg0_177407] = copy_arg0_177404;
                        ((int64_t *) mem_181517)[copy_arg0_177407] = copy_arg0_177405;
                        ((float *) mem_181519)[copy_arg0_177407] = copy_arg0_177406;
                        
                        int64_t tmp_177421 = sub64(j_177399, (int64_t) 1);
                        bool cond_177422 = sle64((int64_t) 0, tmp_177421);
                        bool loop_cond_177423;
                        
                        if (cond_177422) {
                            bool y_180143 = slt64(tmp_177421, block_sizze_177290);
                            bool bounds_check_180144 = cond_177422 && y_180143;
                            bool index_certs_180145;
                            
                            if (!bounds_check_180144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177421, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180140 = ((int8_t *) mem_181515)[j_177399];
                            int64_t gt_arg1_180141 = ((int64_t *) mem_181517)[j_177399];
                            float gt_arg1_180142 = ((float *) mem_181519)[j_177399];
                            int8_t gt_arg0_180146 = ((int8_t *) mem_181515)[tmp_177421];
                            int64_t gt_arg0_180147 = ((int64_t *) mem_181517)[tmp_177421];
                            float gt_arg0_180148 = ((float *) mem_181519)[tmp_177421];
                            bool cond_180149 = gt_arg0_180146 == gt_arg1_180140;
                            bool defunc_0_leq_res_t_res_180150 = sle64(gt_arg0_180147, gt_arg1_180141);
                            bool defunc_0_leq_res_180151 = gt_arg0_180148 <= gt_arg1_180142;
                            bool x_180152 = cond_180149 && defunc_0_leq_res_t_res_180150;
                            bool x_180153 = !cond_180149;
                            bool y_180154 = defunc_0_leq_res_180151 && x_180153;
                            bool defunc_0_leq_res_180155 = x_180152 || y_180154;
                            bool defunc_0_lifted_gt_res_180156 = !defunc_0_leq_res_180155;
                            
                            loop_cond_177423 = defunc_0_lifted_gt_res_180156;
                        } else {
                            loop_cond_177423 = 0;
                        }
                        
                        bool loop_while_tmp_182327 = loop_cond_177423;
                        int64_t j_tmp_182331 = tmp_177421;
                        
                        loop_while_177395 = loop_while_tmp_182327;
                        j_177399 = j_tmp_182331;
                    }
                    s_177390 = loop_while_177395;
                    s_177394 = j_177399;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181496, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181515, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181499, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181517, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181502, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181519, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
        }
        if (memblock_alloc(ctx, &mem_181596, flat_dim_177291, "mem_181596")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181596.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint8_t *) mem_181496, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181600, bytes_181498, "mem_181600")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181600.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181499, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181604, bytes_181501, "mem_181604")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181604.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint32_t *) mem_181502, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        
        int64_t data_177447;
        bool data_177448;
        int64_t data_177452;
        int64_t loop_dz2084Uz2082U_177453;
        bool loop_while_177454;
        int64_t stride_177458;
        
        if (memblock_set(ctx, &mem_param_181608, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181611, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181614, &mem_181604, "mem_181604") != 0)
            return 1;
        loop_dz2084Uz2082U_177453 = flat_dim_177291;
        loop_while_177454 = loop_cond_177444;
        stride_177458 = block_sizze_177290;
        while (loop_while_177454) {
            int64_t next_stride_177459 = mul64((int64_t) 2, stride_177458);
            bool zzero_177460 = next_stride_177459 == (int64_t) 0;
            bool nonzzero_177461 = !zzero_177460;
            bool nonzzero_cert_177462;
            
            if (!nonzzero_177461) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177463 = sdiv64(flat_dim_177291, next_stride_177459);
            bool bounds_invalid_upwards_177464 = slt64(num_merges_177463, (int64_t) 0);
            bool valid_177465 = !bounds_invalid_upwards_177464;
            bool range_valid_c_177466;
            
            if (!valid_177465) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177463, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177468 = sub64(next_stride_177459, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177469 = sle64((int64_t) 0, m_177468);
            bool cond_177471 = slt64(next_stride_177459, (int64_t) 10);
            bool protect_assert_disj_177472 = nonzzero_177446 || cond_177471;
            bool nonzzero_cert_177473;
            
            if (!protect_assert_disj_177472) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177474 = smod_safe64(next_stride_177459, merge_block_sizze_177296);
            bool num_blocks_177475 = zeze_lhs_177474 == (int64_t) 0;
            bool protect_assert_disj_177476 = cond_177471 || num_blocks_177475;
            bool assert_c_177477;
            
            if (!protect_assert_disj_177476) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177479 = sdiv_safe64(next_stride_177459, merge_block_sizze_177296);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480 = add64((int64_t) 1, num_blocks_177479);
            int64_t j_m_i_177481 = sub64(next_stride_177459, stride_177458);
            int64_t flat_dim_177482 = merge_block_sizze_177296 * num_blocks_177479;
            bool bounds_invalid_upwards_177483 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, (int64_t) 0);
            bool empty_slice_177484 = j_m_i_177481 == (int64_t) 0;
            int64_t m_177485 = sub64(j_m_i_177481, (int64_t) 1);
            bool zzero_lte_i_177486 = sle64((int64_t) 0, stride_177458);
            bool i_lte_j_177487 = sle64(stride_177458, next_stride_177459);
            bool empty_slice_177488 = stride_177458 == (int64_t) 0;
            int64_t m_177489 = sub64(stride_177458, (int64_t) 1);
            bool bounds_invalid_upwards_177490 = slt64(num_blocks_177479, (int64_t) 0);
            bool cond_177491 = slt64((int64_t) 0, stride_177458);
            bool valid_177492 = !bounds_invalid_upwards_177483;
            int64_t i_p_m_t_s_177493 = add64(stride_177458, m_177485);
            bool zzero_leq_i_p_m_t_s_177494 = sle64((int64_t) 0, m_177489);
            bool i_p_m_t_s_leq_w_177495 = slt64(m_177489, next_stride_177459);
            bool valid_177496 = !bounds_invalid_upwards_177490;
            bool i_p_m_t_s_leq_w_177497 = slt64(m_177468, flat_dim_177482);
            bool y_177498 = slt64((int64_t) 0, j_m_i_177481);
            bool protect_assert_disj_177499 = cond_177471 || valid_177492;
            bool range_valid_c_177500;
            
            if (!protect_assert_disj_177499) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177501 = sle64((int64_t) 0, i_p_m_t_s_177493);
            bool i_p_m_t_s_leq_w_177502 = slt64(i_p_m_t_s_177493, next_stride_177459);
            bool y_177503 = zzero_leq_i_p_m_t_s_177494 && i_p_m_t_s_leq_w_177495;
            bool protect_assert_disj_177504 = cond_177471 || valid_177496;
            bool range_valid_c_177505;
            
            if (!protect_assert_disj_177504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177479, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177506 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177497;
            bool y_177507 = zzero_lte_i_177486 && i_p_m_t_s_leq_w_177502;
            bool forwards_ok_177508 = zzero_lte_i_177486 && y_177503;
            bool ok_or_empty_177509 = zzero_177460 || y_177506;
            bool protect_assert_disj_177510 = cond_177491 || y_177498;
            bool y_177511 = zzero_leq_i_p_m_t_s_177501 && y_177507;
            bool ok_or_empty_177512 = empty_slice_177488 || forwards_ok_177508;
            bool protect_assert_disj_177513 = cond_177471 || ok_or_empty_177509;
            bool index_certs_177514;
            
            if (!protect_assert_disj_177513) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) flat_dim_177482, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177515 = !cond_177471;
            bool protect_assert_disj_177516 = protect_assert_disj_177510 || loop_not_taken_177515;
            bool index_certs_177517;
            
            if (!protect_assert_disj_177516) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177518 = i_lte_j_177487 && y_177511;
            bool protect_assert_disj_177519 = cond_177471 || ok_or_empty_177512;
            bool index_certs_177520;
            
            if (!protect_assert_disj_177519) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177521 = ok_or_empty_177512 || loop_not_taken_177515;
            bool index_certs_177522;
            
            if (!protect_assert_disj_177521) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177523 = empty_slice_177484 || forwards_ok_177518;
            bool protect_assert_disj_177524 = cond_177471 || ok_or_empty_177523;
            bool index_certs_177525;
            
            if (!protect_assert_disj_177524) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177526 = loop_not_taken_177515 || ok_or_empty_177523;
            bool index_certs_177527;
            
            if (!protect_assert_disj_177526) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181615 = next_stride_177459 * num_merges_177463;
            int64_t binop_x_181617 = (int64_t) 8 * num_merges_177463;
            int64_t bytes_181618 = next_stride_177459 * binop_x_181617;
            int64_t binop_x_181620 = (int64_t) 4 * num_merges_177463;
            int64_t bytes_181621 = next_stride_177459 * binop_x_181620;
            bool i_lte_j_177470 = sle64((int64_t) 0, next_stride_177459);
            
            if (mem_181616_cached_sizze_182534 < bytes_181615) {
                err = lexical_realloc(ctx, &mem_181616, &mem_181616_cached_sizze_182534, bytes_181615);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181619_cached_sizze_182535 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181619, &mem_181619_cached_sizze_182535, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181622_cached_sizze_182536 < bytes_181621) {
                err = lexical_realloc(ctx, &mem_181622, &mem_181622_cached_sizze_182536, bytes_181621);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181635 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480;
            int64_t binop_x_181653 = (int64_t) 8 * num_blocks_177479;
            int64_t bytes_181654 = merge_block_sizze_177296 * binop_x_181653;
            int64_t binop_x_181656 = (int64_t) 4 * num_blocks_177479;
            int64_t bytes_181657 = merge_block_sizze_177296 * binop_x_181656;
            int64_t bytes_181718 = (int64_t) 16 * stride_177458;
            int64_t bytes_181720 = (int64_t) 8 * stride_177458;
            
            for (int64_t i_180551 = 0; i_180551 < num_merges_177463; i_180551++) {
                int64_t start_177532 = mul64(next_stride_177459, i_180551);
                int64_t j_m_i_177533 = sub64(loop_dz2084Uz2082U_177453, start_177532);
                bool empty_slice_177534 = j_m_i_177533 == (int64_t) 0;
                int64_t m_177535 = sub64(j_m_i_177533, (int64_t) 1);
                int64_t i_p_m_t_s_177536 = add64(start_177532, m_177535);
                bool zzero_leq_i_p_m_t_s_177537 = sle64((int64_t) 0, i_p_m_t_s_177536);
                bool i_p_m_t_s_leq_w_177538 = slt64(i_p_m_t_s_177536, loop_dz2084Uz2082U_177453);
                bool zzero_lte_i_177539 = sle64((int64_t) 0, start_177532);
                bool i_lte_j_177540 = sle64(start_177532, loop_dz2084Uz2082U_177453);
                bool y_177541 = i_p_m_t_s_leq_w_177538 && zzero_lte_i_177539;
                bool y_177542 = zzero_leq_i_p_m_t_s_177537 && y_177541;
                bool forwards_ok_177543 = i_lte_j_177540 && y_177542;
                bool ok_or_empty_177544 = empty_slice_177534 || forwards_ok_177543;
                bool index_certs_177545;
                
                if (!ok_or_empty_177544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177532, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177453, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177546 = slt64(m_177468, j_m_i_177533);
                bool y_177547 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177546;
                bool forwards_ok_177548 = i_lte_j_177470 && y_177547;
                bool ok_or_empty_177549 = zzero_177460 || forwards_ok_177548;
                bool index_certs_177550;
                
                if (!ok_or_empty_177549) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) j_m_i_177533, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177471) {
                    int8_t dummy_180195;
                    int64_t dummy_180196;
                    float dummy_180197;
                    
                    if (cond_177491) {
                        int8_t head_res_180198 = ((int8_t *) mem_param_181608.mem)[start_177532];
                        int64_t head_res_180199 = ((int64_t *) mem_param_181611.mem)[start_177532];
                        float head_res_180200 = ((float *) mem_param_181614.mem)[start_177532];
                        
                        dummy_180195 = head_res_180198;
                        dummy_180196 = head_res_180199;
                        dummy_180197 = head_res_180200;
                    } else {
                        int64_t slice_180201 = stride_177458 + start_177532;
                        int8_t head_res_180202 = ((int8_t *) mem_param_181608.mem)[slice_180201];
                        int64_t head_res_180203 = ((int64_t *) mem_param_181611.mem)[slice_180201];
                        float head_res_180204 = ((float *) mem_param_181614.mem)[slice_180201];
                        
                        dummy_180195 = head_res_180202;
                        dummy_180196 = head_res_180203;
                        dummy_180197 = head_res_180204;
                    }
                    if (memblock_alloc(ctx, &mem_181717, next_stride_177459, "mem_181717")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182344 = 0; nest_i_182344 < next_stride_177459; nest_i_182344++) {
                        ((int8_t *) mem_181717.mem)[nest_i_182344] = dummy_180195;
                    }
                    if (memblock_alloc(ctx, &mem_181719, bytes_181718, "mem_181719")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182345 = 0; nest_i_182345 < next_stride_177459; nest_i_182345++) {
                        ((int64_t *) mem_181719.mem)[nest_i_182345] = dummy_180196;
                    }
                    if (memblock_alloc(ctx, &mem_181721, bytes_181720, "mem_181721")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182346 = 0; nest_i_182346 < next_stride_177459; nest_i_182346++) {
                        ((float *) mem_181721.mem)[nest_i_182346] = dummy_180197;
                    }
                    
                    int64_t data_180208;
                    int64_t i_180213 = (int64_t) 0;
                    
                    for (int64_t k_180212 = 0; k_180212 < next_stride_177459; k_180212++) {
                        int64_t j_180217 = sub64(k_180212, i_180213);
                        bool cond_180218 = j_180217 == j_m_i_177481;
                        bool cond_180219;
                        
                        if (cond_180218) {
                            cond_180219 = 1;
                        } else {
                            bool cond_180220 = slt64(i_180213, stride_177458);
                            bool cond_f_res_180221;
                            
                            if (cond_180220) {
                                bool x_180222 = sle64((int64_t) 0, j_180217);
                                bool y_180223 = slt64(j_180217, j_m_i_177481);
                                bool bounds_check_180224 = x_180222 && y_180223;
                                bool index_certs_180225;
                                
                                if (!bounds_check_180224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180231 = sle64((int64_t) 0, i_180213);
                                bool bounds_check_180232 = cond_180220 && x_180231;
                                bool index_certs_180233;
                                
                                if (!bounds_check_180232) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180226 = stride_177458 + j_180217;
                                int64_t slice_180227 = start_177532 + slice_180226;
                                int8_t leq_arg1_180228 = ((int8_t *) mem_param_181608.mem)[slice_180227];
                                int64_t leq_arg1_180229 = ((int64_t *) mem_param_181611.mem)[slice_180227];
                                float leq_arg1_180230 = ((float *) mem_param_181614.mem)[slice_180227];
                                int64_t slice_180234 = start_177532 + i_180213;
                                int8_t leq_arg0_180235 = ((int8_t *) mem_param_181608.mem)[slice_180234];
                                int64_t leq_arg0_180236 = ((int64_t *) mem_param_181611.mem)[slice_180234];
                                float leq_arg0_180237 = ((float *) mem_param_181614.mem)[slice_180234];
                                bool cond_180238 = leq_arg0_180235 == leq_arg1_180228;
                                bool defunc_0_leq_res_t_res_180239 = sle64(leq_arg0_180236, leq_arg1_180229);
                                bool defunc_0_leq_res_180240 = leq_arg0_180237 <= leq_arg1_180230;
                                bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                bool x_180242 = !cond_180238;
                                bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                
                                cond_f_res_180221 = defunc_0_leq_res_180244;
                            } else {
                                cond_f_res_180221 = 0;
                            }
                            cond_180219 = cond_f_res_180221;
                        }
                        
                        int64_t loopres_180245;
                        int8_t loopres_180246;
                        int64_t loopres_180247;
                        float loopres_180248;
                        
                        if (cond_180219) {
                            bool x_180250 = sle64((int64_t) 0, i_180213);
                            bool y_180251 = slt64(i_180213, stride_177458);
                            bool bounds_check_180252 = x_180250 && y_180251;
                            bool index_certs_180253;
                            
                            if (!bounds_check_180252) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180249 = add64((int64_t) 1, i_180213);
                            int64_t slice_180254 = start_177532 + i_180213;
                            int8_t tmp_180255 = ((int8_t *) mem_param_181608.mem)[slice_180254];
                            int64_t tmp_180256 = ((int64_t *) mem_param_181611.mem)[slice_180254];
                            float tmp_180257 = ((float *) mem_param_181614.mem)[slice_180254];
                            
                            loopres_180245 = tmp_180249;
                            loopres_180246 = tmp_180255;
                            loopres_180247 = tmp_180256;
                            loopres_180248 = tmp_180257;
                        } else {
                            bool x_180258 = sle64((int64_t) 0, j_180217);
                            bool y_180259 = slt64(j_180217, j_m_i_177481);
                            bool bounds_check_180260 = x_180258 && y_180259;
                            bool index_certs_180261;
                            
                            if (!bounds_check_180260) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180262 = stride_177458 + j_180217;
                            int64_t slice_180263 = start_177532 + slice_180262;
                            int8_t tmp_180264 = ((int8_t *) mem_param_181608.mem)[slice_180263];
                            int64_t tmp_180265 = ((int64_t *) mem_param_181611.mem)[slice_180263];
                            float tmp_180266 = ((float *) mem_param_181614.mem)[slice_180263];
                            
                            loopres_180245 = i_180213;
                            loopres_180246 = tmp_180264;
                            loopres_180247 = tmp_180265;
                            loopres_180248 = tmp_180266;
                        }
                        ((int8_t *) mem_181717.mem)[k_180212] = loopres_180246;
                        ((int64_t *) mem_181719.mem)[k_180212] = loopres_180247;
                        ((float *) mem_181721.mem)[k_180212] = loopres_180248;
                        
                        int64_t i_tmp_182347 = loopres_180245;
                        
                        i_180213 = i_tmp_182347;
                    }
                    data_180208 = i_180213;
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181717, "mem_181717") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181719, "mem_181719") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181721, "mem_181721") != 0)
                        return 1;
                } else {
                    if (mem_181636_cached_sizze_182537 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181636, &mem_181636_cached_sizze_182537, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181638_cached_sizze_182538 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181638, &mem_181638_cached_sizze_182538, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180532 = 0; i_180532 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480; i_180532++) {
                        int64_t split_count_arg3_177633 = mul64(merge_block_sizze_177296, i_180532);
                        int64_t defunc_0_split_count_res_177634;
                        int64_t defunc_0_split_count_res_177635;
                        int64_t defunc_0_split_count_res_177636;
                        int64_t defunc_0_split_count_res_177637;
                        int64_t defunc_0_split_count_res_177638;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_177634, &defunc_0_split_count_res_177635, &defunc_0_split_count_res_177636, &defunc_0_split_count_res_177637, &defunc_0_split_count_res_177638, (int64_t) 0, stride_177458, (int64_t) 0, j_m_i_177481, split_count_arg3_177633) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177639 = slt64((int64_t) 0, defunc_0_split_count_res_177638);
                        bool defunc_0_split_count_res_177640;
                        int64_t defunc_0_split_count_res_177641;
                        int64_t defunc_0_split_count_res_177642;
                        int64_t defunc_0_split_count_res_177643;
                        int64_t defunc_0_split_count_res_177644;
                        int64_t defunc_0_split_count_res_177645;
                        bool loop_while_177646;
                        int64_t ss_177647;
                        int64_t ss_177648;
                        int64_t tt_177649;
                        int64_t tt_177650;
                        int64_t count_177651;
                        
                        loop_while_177646 = loop_cond_177639;
                        ss_177647 = defunc_0_split_count_res_177634;
                        ss_177648 = defunc_0_split_count_res_177635;
                        tt_177649 = defunc_0_split_count_res_177636;
                        tt_177650 = defunc_0_split_count_res_177637;
                        count_177651 = defunc_0_split_count_res_177638;
                        while (loop_while_177646) {
                            int64_t zlze_lhs_177652 = sub64(ss_177648, ss_177647);
                            bool cond_177653 = sle64(zlze_lhs_177652, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177654;
                            int64_t defunc_0_lifted_step_res_177655;
                            int64_t defunc_0_lifted_step_res_177656;
                            int64_t defunc_0_lifted_step_res_177657;
                            
                            if (cond_177653) {
                                int64_t tmp_180270 = add64(tt_177649, count_177651);
                                
                                defunc_0_lifted_step_res_177654 = ss_177647;
                                defunc_0_lifted_step_res_177655 = tmp_180270;
                                defunc_0_lifted_step_res_177656 = tt_177650;
                                defunc_0_lifted_step_res_177657 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177659 = sub64(tt_177650, tt_177649);
                                bool cond_177660 = sle64(zlze_lhs_177659, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177661;
                                int64_t defunc_0_lifted_step_res_f_res_177662;
                                int64_t defunc_0_lifted_step_res_f_res_177663;
                                int64_t defunc_0_lifted_step_res_f_res_177664;
                                
                                if (cond_177660) {
                                    int64_t tmp_180271 = add64(ss_177647, count_177651);
                                    
                                    defunc_0_lifted_step_res_f_res_177661 = tmp_180271;
                                    defunc_0_lifted_step_res_f_res_177662 = tt_177649;
                                    defunc_0_lifted_step_res_f_res_177663 = tt_177650;
                                    defunc_0_lifted_step_res_f_res_177664 = (int64_t) 0;
                                } else {
                                    bool cond_177666 = count_177651 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177667;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177668;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177669;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177670;
                                    
                                    if (cond_177666) {
                                        bool x_180273 = sle64((int64_t) 0, ss_177647);
                                        bool y_180274 = slt64(ss_177647, stride_177458);
                                        bool bounds_check_180275 = x_180273 && y_180274;
                                        bool index_certs_180276;
                                        
                                        if (!bounds_check_180275) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177647, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180281 = sle64((int64_t) 0, tt_177649);
                                        bool y_180282 = slt64(tt_177649, j_m_i_177481);
                                        bool bounds_check_180283 = x_180281 && y_180282;
                                        bool index_certs_180284;
                                        
                                        if (!bounds_check_180283) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177649, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180277 = start_177532 + ss_177647;
                                        int8_t leq_arg1_180278 = ((int8_t *) mem_param_181608.mem)[slice_180277];
                                        int64_t leq_arg1_180279 = ((int64_t *) mem_param_181611.mem)[slice_180277];
                                        float leq_arg1_180280 = ((float *) mem_param_181614.mem)[slice_180277];
                                        int64_t slice_180285 = stride_177458 + tt_177649;
                                        int64_t slice_180286 = start_177532 + slice_180285;
                                        int8_t leq_arg0_180287 = ((int8_t *) mem_param_181608.mem)[slice_180286];
                                        int64_t leq_arg0_180288 = ((int64_t *) mem_param_181611.mem)[slice_180286];
                                        float leq_arg0_180289 = ((float *) mem_param_181614.mem)[slice_180286];
                                        bool cond_180290 = leq_arg0_180287 == leq_arg1_180278;
                                        bool defunc_0_leq_res_t_res_180291 = sle64(leq_arg0_180288, leq_arg1_180279);
                                        bool defunc_0_leq_res_180292 = leq_arg0_180289 <= leq_arg1_180280;
                                        bool x_180293 = cond_180290 && defunc_0_leq_res_t_res_180291;
                                        bool x_180294 = !cond_180290;
                                        bool y_180295 = defunc_0_leq_res_180292 && x_180294;
                                        bool defunc_0_leq_res_180296 = x_180293 || y_180295;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            int64_t tmp_180299 = add64((int64_t) 1, tt_177649);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = ss_177647;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tmp_180299;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, ss_177647);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = tmp_180300;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tt_177649;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = tt_177650;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = (int64_t) 0;
                                    } else {
                                        int64_t m_177699 = sdiv64(count_177651, (int64_t) 2);
                                        int64_t n_177700 = sub64(count_177651, m_177699);
                                        bool cond_177701 = n_177700 == (int64_t) 0;
                                        int64_t zgze_lhs_177702 = add64(ss_177647, m_177699);
                                        bool cond_f_res_177703 = sle64(ss_177648, zgze_lhs_177702);
                                        bool x_177704 = !cond_177701;
                                        bool y_177705 = cond_f_res_177703 && x_177704;
                                        bool cond_177706 = cond_177701 || y_177705;
                                        bool leq_y_x_177707;
                                        
                                        if (cond_177706) {
                                            leq_y_x_177707 = 1;
                                        } else {
                                            bool x_177708 = sle64((int64_t) 0, zgze_lhs_177702);
                                            bool y_177709 = slt64(zgze_lhs_177702, stride_177458);
                                            bool bounds_check_177710 = x_177708 && y_177709;
                                            bool index_certs_177711;
                                            
                                            if (!bounds_check_177710) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177702, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177716 = add64(tt_177649, n_177700);
                                            int64_t leq_arg0_177717 = sub64(zm_lhs_177716, (int64_t) 1);
                                            bool x_177718 = sle64((int64_t) 0, leq_arg0_177717);
                                            bool y_177719 = slt64(leq_arg0_177717, j_m_i_177481);
                                            bool bounds_check_177720 = x_177718 && y_177719;
                                            bool index_certs_177721;
                                            
                                            if (!bounds_check_177720) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177717, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177712 = start_177532 + zgze_lhs_177702;
                                            int8_t leq_arg1_177713 = ((int8_t *) mem_param_181608.mem)[slice_177712];
                                            int64_t leq_arg1_177714 = ((int64_t *) mem_param_181611.mem)[slice_177712];
                                            float leq_arg1_177715 = ((float *) mem_param_181614.mem)[slice_177712];
                                            int64_t slice_177722 = stride_177458 + leq_arg0_177717;
                                            int64_t slice_177723 = start_177532 + slice_177722;
                                            int8_t leq_arg0_177724 = ((int8_t *) mem_param_181608.mem)[slice_177723];
                                            int64_t leq_arg0_177725 = ((int64_t *) mem_param_181611.mem)[slice_177723];
                                            float leq_arg0_177726 = ((float *) mem_param_181614.mem)[slice_177723];
                                            bool cond_177727 = leq_arg0_177724 == leq_arg1_177713;
                                            bool defunc_0_leq_res_t_res_177728 = sle64(leq_arg0_177725, leq_arg1_177714);
                                            bool defunc_0_leq_res_177729 = leq_arg0_177726 <= leq_arg1_177715;
                                            bool x_177730 = cond_177727 && defunc_0_leq_res_t_res_177728;
                                            bool x_177731 = !cond_177727;
                                            bool y_177732 = defunc_0_leq_res_177729 && x_177731;
                                            bool defunc_0_leq_res_177733 = x_177730 || y_177732;
                                            
                                            leq_y_x_177707 = defunc_0_leq_res_177733;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                        
                                        if (leq_y_x_177707) {
                                            int64_t tmp_180301 = add64(tt_177649, n_177700);
                                            int64_t tmp_180302 = sub64(count_177651, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tmp_180301;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tt_177650;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = tmp_180302;
                                        } else {
                                            int64_t tmp_177739 = add64(tt_177649, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tt_177649;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tmp_177739;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = count_177651;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = ss_177647;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                    }
                                    defunc_0_lifted_step_res_f_res_177661 = defunc_0_lifted_step_res_f_res_f_res_177667;
                                    defunc_0_lifted_step_res_f_res_177662 = defunc_0_lifted_step_res_f_res_f_res_177668;
                                    defunc_0_lifted_step_res_f_res_177663 = defunc_0_lifted_step_res_f_res_f_res_177669;
                                    defunc_0_lifted_step_res_f_res_177664 = defunc_0_lifted_step_res_f_res_f_res_177670;
                                }
                                defunc_0_lifted_step_res_177654 = defunc_0_lifted_step_res_f_res_177661;
                                defunc_0_lifted_step_res_177655 = defunc_0_lifted_step_res_f_res_177662;
                                defunc_0_lifted_step_res_177656 = defunc_0_lifted_step_res_f_res_177663;
                                defunc_0_lifted_step_res_177657 = defunc_0_lifted_step_res_f_res_177664;
                            }
                            
                            int64_t loopres_177740;
                            int64_t loopres_177741;
                            int64_t loopres_177742;
                            int64_t loopres_177743;
                            int64_t loopres_177744;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_177740, &loopres_177741, &loopres_177742, &loopres_177743, &loopres_177744, defunc_0_lifted_step_res_177654, ss_177648, defunc_0_lifted_step_res_177655, defunc_0_lifted_step_res_177656, defunc_0_lifted_step_res_177657) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177745 = slt64((int64_t) 0, loopres_177744);
                            bool loop_while_tmp_182353 = loop_cond_177745;
                            int64_t ss_tmp_182354 = loopres_177740;
                            int64_t ss_tmp_182355 = loopres_177741;
                            int64_t tt_tmp_182356 = loopres_177742;
                            int64_t tt_tmp_182357 = loopres_177743;
                            int64_t count_tmp_182358 = loopres_177744;
                            
                            loop_while_177646 = loop_while_tmp_182353;
                            ss_177647 = ss_tmp_182354;
                            ss_177648 = ss_tmp_182355;
                            tt_177649 = tt_tmp_182356;
                            tt_177650 = tt_tmp_182357;
                            count_177651 = count_tmp_182358;
                        }
                        defunc_0_split_count_res_177640 = loop_while_177646;
                        defunc_0_split_count_res_177641 = ss_177647;
                        defunc_0_split_count_res_177642 = ss_177648;
                        defunc_0_split_count_res_177643 = tt_177649;
                        defunc_0_split_count_res_177644 = tt_177650;
                        defunc_0_split_count_res_177645 = count_177651;
                        ((int64_t *) mem_181636)[i_180532] = defunc_0_split_count_res_177641;
                        ((int64_t *) mem_181638)[i_180532] = defunc_0_split_count_res_177643;
                    }
                    if (mem_181652_cached_sizze_182539 < flat_dim_177482) {
                        err = lexical_realloc(ctx, &mem_181652, &mem_181652_cached_sizze_182539, flat_dim_177482);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181655_cached_sizze_182540 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181655, &mem_181655_cached_sizze_182540, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181658_cached_sizze_182541 < bytes_181657) {
                        err = lexical_realloc(ctx, &mem_181658, &mem_181658_cached_sizze_182541, bytes_181657);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180541 = 0; i_180541 < num_blocks_177479; i_180541++) {
                        bool y_177752 = slt64(i_180541, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool index_certs_177754;
                        
                        if (!y_177752) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177755 = ((int64_t *) mem_181636)[i_180541];
                        int64_t defunc_0_f_res_177756 = ((int64_t *) mem_181638)[i_180541];
                        int64_t tmp_177757 = add64((int64_t) 1, i_180541);
                        bool x_177758 = sle64((int64_t) 0, tmp_177757);
                        bool y_177759 = slt64(tmp_177757, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool bounds_check_177760 = x_177758 && y_177759;
                        bool index_certs_177761;
                        
                        if (!bounds_check_177760) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177762 = ((int64_t *) mem_181636)[tmp_177757];
                        int64_t defunc_0_f_res_177763 = ((int64_t *) mem_181638)[tmp_177757];
                        int64_t merge_sequential_arg2_177764 = add64(stride_177458, defunc_0_f_res_177756);
                        int64_t merge_sequential_arg2_177765 = add64(stride_177458, defunc_0_f_res_177763);
                        int64_t j_m_i_177766 = sub64(merge_sequential_arg2_177765, merge_sequential_arg2_177764);
                        bool empty_slice_177767 = j_m_i_177766 == (int64_t) 0;
                        int64_t m_177768 = sub64(j_m_i_177766, (int64_t) 1);
                        int64_t i_p_m_t_s_177769 = add64(merge_sequential_arg2_177764, m_177768);
                        bool zzero_leq_i_p_m_t_s_177770 = sle64((int64_t) 0, i_p_m_t_s_177769);
                        bool i_p_m_t_s_leq_w_177771 = slt64(i_p_m_t_s_177769, next_stride_177459);
                        bool zzero_lte_i_177772 = sle64((int64_t) 0, merge_sequential_arg2_177764);
                        bool i_lte_j_177773 = sle64(merge_sequential_arg2_177764, merge_sequential_arg2_177765);
                        bool y_177774 = i_p_m_t_s_leq_w_177771 && zzero_lte_i_177772;
                        bool y_177775 = zzero_leq_i_p_m_t_s_177770 && y_177774;
                        bool forwards_ok_177776 = i_lte_j_177773 && y_177775;
                        bool ok_or_empty_177777 = empty_slice_177767 || forwards_ok_177776;
                        bool index_certs_177778;
                        
                        if (!ok_or_empty_177777) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177764, ":", (long long) merge_sequential_arg2_177765, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177779 = sub64(defunc_0_f_res_177762, defunc_0_f_res_177755);
                        bool empty_slice_177780 = j_m_i_177779 == (int64_t) 0;
                        int64_t m_177781 = sub64(j_m_i_177779, (int64_t) 1);
                        int64_t i_p_m_t_s_177782 = add64(defunc_0_f_res_177755, m_177781);
                        bool zzero_leq_i_p_m_t_s_177783 = sle64((int64_t) 0, i_p_m_t_s_177782);
                        bool i_p_m_t_s_leq_w_177784 = slt64(i_p_m_t_s_177782, next_stride_177459);
                        bool zzero_lte_i_177785 = sle64((int64_t) 0, defunc_0_f_res_177755);
                        bool i_lte_j_177786 = sle64(defunc_0_f_res_177755, defunc_0_f_res_177762);
                        bool y_177787 = i_p_m_t_s_leq_w_177784 && zzero_lte_i_177785;
                        bool y_177788 = zzero_leq_i_p_m_t_s_177783 && y_177787;
                        bool forwards_ok_177789 = i_lte_j_177786 && y_177788;
                        bool ok_or_empty_177790 = empty_slice_177780 || forwards_ok_177789;
                        bool index_certs_177791;
                        
                        if (!ok_or_empty_177790) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177755, ":", (long long) defunc_0_f_res_177762, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177792 = slt64((int64_t) 0, j_m_i_177779);
                        int8_t dummy_177793;
                        int64_t dummy_177794;
                        float dummy_177795;
                        
                        if (cond_177792) {
                            bool index_certs_180303;
                            
                            if (!cond_177792) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180304 = start_177532 + defunc_0_f_res_177755;
                            int8_t head_res_180305 = ((int8_t *) mem_param_181608.mem)[slice_180304];
                            int64_t head_res_180306 = ((int64_t *) mem_param_181611.mem)[slice_180304];
                            float head_res_180307 = ((float *) mem_param_181614.mem)[slice_180304];
                            
                            dummy_177793 = head_res_180305;
                            dummy_177794 = head_res_180306;
                            dummy_177795 = head_res_180307;
                        } else {
                            bool y_177801 = slt64((int64_t) 0, j_m_i_177766);
                            bool index_certs_177802;
                            
                            if (!y_177801) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177803 = start_177532 + merge_sequential_arg2_177764;
                            int8_t head_res_177804 = ((int8_t *) mem_param_181608.mem)[slice_177803];
                            int64_t head_res_177805 = ((int64_t *) mem_param_181611.mem)[slice_177803];
                            float head_res_177806 = ((float *) mem_param_181614.mem)[slice_177803];
                            
                            dummy_177793 = head_res_177804;
                            dummy_177794 = head_res_177805;
                            dummy_177795 = head_res_177806;
                        }
                        for (int64_t nest_i_182362 = 0; nest_i_182362 < merge_block_sizze_177296; nest_i_182362++) {
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + nest_i_182362] = dummy_177793;
                        }
                        for (int64_t nest_i_182363 = 0; nest_i_182363 < merge_block_sizze_177296; nest_i_182363++) {
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + nest_i_182363] = dummy_177794;
                        }
                        for (int64_t nest_i_182364 = 0; nest_i_182364 < merge_block_sizze_177296; nest_i_182364++) {
                            ((float *) mem_181658)[i_180541 * merge_block_sizze_177296 + nest_i_182364] = dummy_177795;
                        }
                        
                        int64_t data_177810;
                        int64_t i_177815 = (int64_t) 0;
                        
                        for (int64_t k_177814 = 0; k_177814 < merge_block_sizze_177296; k_177814++) {
                            int64_t j_177819 = sub64(k_177814, i_177815);
                            bool cond_177820 = j_177819 == j_m_i_177766;
                            bool cond_177821;
                            
                            if (cond_177820) {
                                cond_177821 = 1;
                            } else {
                                bool cond_177822 = slt64(i_177815, j_m_i_177779);
                                bool cond_f_res_177823;
                                
                                if (cond_177822) {
                                    bool x_180308 = sle64((int64_t) 0, j_177819);
                                    bool y_180309 = slt64(j_177819, j_m_i_177766);
                                    bool bounds_check_180310 = x_180308 && y_180309;
                                    bool index_certs_180311;
                                    
                                    if (!bounds_check_180310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180317 = sle64((int64_t) 0, i_177815);
                                    bool bounds_check_180318 = cond_177822 && x_180317;
                                    bool index_certs_180319;
                                    
                                    if (!bounds_check_180318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180312 = merge_sequential_arg2_177764 + j_177819;
                                    int64_t slice_180313 = start_177532 + slice_180312;
                                    int8_t leq_arg1_180314 = ((int8_t *) mem_param_181608.mem)[slice_180313];
                                    int64_t leq_arg1_180315 = ((int64_t *) mem_param_181611.mem)[slice_180313];
                                    float leq_arg1_180316 = ((float *) mem_param_181614.mem)[slice_180313];
                                    int64_t slice_180320 = defunc_0_f_res_177755 + i_177815;
                                    int64_t slice_180321 = start_177532 + slice_180320;
                                    int8_t leq_arg0_180322 = ((int8_t *) mem_param_181608.mem)[slice_180321];
                                    int64_t leq_arg0_180323 = ((int64_t *) mem_param_181611.mem)[slice_180321];
                                    float leq_arg0_180324 = ((float *) mem_param_181614.mem)[slice_180321];
                                    bool cond_180325 = leq_arg0_180322 == leq_arg1_180314;
                                    bool defunc_0_leq_res_t_res_180326 = sle64(leq_arg0_180323, leq_arg1_180315);
                                    bool defunc_0_leq_res_180327 = leq_arg0_180324 <= leq_arg1_180316;
                                    bool x_180328 = cond_180325 && defunc_0_leq_res_t_res_180326;
                                    bool x_180329 = !cond_180325;
                                    bool y_180330 = defunc_0_leq_res_180327 && x_180329;
                                    bool defunc_0_leq_res_180331 = x_180328 || y_180330;
                                    
                                    cond_f_res_177823 = defunc_0_leq_res_180331;
                                } else {
                                    cond_f_res_177823 = 0;
                                }
                                cond_177821 = cond_f_res_177823;
                            }
                            
                            int64_t loopres_177848;
                            int8_t loopres_177849;
                            int64_t loopres_177850;
                            float loopres_177851;
                            
                            if (cond_177821) {
                                bool x_180333 = sle64((int64_t) 0, i_177815);
                                bool y_180334 = slt64(i_177815, j_m_i_177779);
                                bool bounds_check_180335 = x_180333 && y_180334;
                                bool index_certs_180336;
                                
                                if (!bounds_check_180335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180332 = add64((int64_t) 1, i_177815);
                                int64_t slice_180337 = defunc_0_f_res_177755 + i_177815;
                                int64_t slice_180338 = start_177532 + slice_180337;
                                int8_t tmp_180339 = ((int8_t *) mem_param_181608.mem)[slice_180338];
                                int64_t tmp_180340 = ((int64_t *) mem_param_181611.mem)[slice_180338];
                                float tmp_180341 = ((float *) mem_param_181614.mem)[slice_180338];
                                
                                loopres_177848 = tmp_180332;
                                loopres_177849 = tmp_180339;
                                loopres_177850 = tmp_180340;
                                loopres_177851 = tmp_180341;
                            } else {
                                bool x_177862 = sle64((int64_t) 0, j_177819);
                                bool y_177863 = slt64(j_177819, j_m_i_177766);
                                bool bounds_check_177864 = x_177862 && y_177863;
                                bool index_certs_177865;
                                
                                if (!bounds_check_177864) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177866 = merge_sequential_arg2_177764 + j_177819;
                                int64_t slice_177867 = start_177532 + slice_177866;
                                int8_t tmp_177868 = ((int8_t *) mem_param_181608.mem)[slice_177867];
                                int64_t tmp_177869 = ((int64_t *) mem_param_181611.mem)[slice_177867];
                                float tmp_177870 = ((float *) mem_param_181614.mem)[slice_177867];
                                
                                loopres_177848 = i_177815;
                                loopres_177849 = tmp_177868;
                                loopres_177850 = tmp_177869;
                                loopres_177851 = tmp_177870;
                            }
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177849;
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177850;
                            ((float *) mem_181658)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177851;
                            
                            int64_t i_tmp_182365 = loopres_177848;
                            
                            i_177815 = i_tmp_182365;
                        }
                        data_177810 = i_177815;
                    }
                    if (memblock_alloc(ctx, &mem_181707, flat_dim_177482, "mem_181707")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181707.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint8_t *) mem_181652, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181711, bytes_181654, "mem_181711")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181711.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181655, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181715, bytes_181657, "mem_181715")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181715.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint32_t *) mem_181658, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181707, "mem_181707") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181711, "mem_181711") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181715, "mem_181715") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181616, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181619, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181745.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181622, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181742.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181762, bytes_181615, "mem_181762")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181762.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint8_t *) mem_181616, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181766, bytes_181618, "mem_181766")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181766.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181619, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181770, bytes_181621, "mem_181770")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181770.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint32_t *) mem_181622, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            
            bool loop_cond_177884 = slt64(next_stride_177459, flat_dim_177291);
            
            if (memblock_set(ctx, &mem_param_tmp_182332, &mem_181762, "mem_181762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182333, &mem_181766, "mem_181766") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182334, &mem_181770, "mem_181770") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182335 = bytes_181615;
            bool loop_while_tmp_182336 = loop_cond_177884;
            int64_t stride_tmp_182340 = next_stride_177459;
            
            if (memblock_set(ctx, &mem_param_181608, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181611, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181614, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
                return 1;
            loop_dz2084Uz2082U_177453 = loop_dz2084Uz2082U_tmp_182335;
            loop_while_177454 = loop_while_tmp_182336;
            stride_177458 = stride_tmp_182340;
        }
        if (memblock_set(ctx, &ext_mem_181780, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181779, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181778, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        data_177447 = loop_dz2084Uz2082U_177453;
        data_177448 = loop_while_177454;
        data_177452 = stride_177458;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177887 = slt64(zs_lhs_177275, data_177447);
        bool y_177888 = i_p_m_t_s_leq_w_177887 && zzero_leq_i_p_m_t_s_177901;
        bool ok_or_empty_177889 = y_177888 || empty_slice_177899;
        bool index_certs_177890;
        
        if (!ok_or_empty_177889) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) data_177447, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181789, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180700.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181786.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181783.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180700, "mem_180700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182112, &mem_180702, "mem_180702") != 0)
        return 1;
    prim_out_182113 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    if (memblock_set(ctx, &*mem_out_p_182488, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182489, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182490, &mem_out_182112, "mem_out_182112") != 0)
        return 1;
    *out_prim_out_182491 = prim_out_182113;
    
  cleanup:
    {
        free(mem_180713);
        free(mem_180715);
        free(mem_180754);
        free(mem_180757);
        free(mem_180760);
        free(mem_180773);
        free(mem_180775);
        free(mem_180777);
        free(mem_180874);
        free(mem_180877);
        free(mem_180880);
        free(mem_180894);
        free(mem_180896);
        free(mem_180910);
        free(mem_180913);
        free(mem_180916);
        free(mem_181058);
        free(mem_181060);
        free(mem_181075);
        free(mem_181077);
        free(mem_181080);
        free(mem_181083);
        free(mem_181117);
        free(mem_181120);
        free(mem_181123);
        free(mem_181136);
        free(mem_181138);
        free(mem_181140);
        free(mem_181237);
        free(mem_181240);
        free(mem_181243);
        free(mem_181257);
        free(mem_181259);
        free(mem_181273);
        free(mem_181276);
        free(mem_181279);
        free(mem_181496);
        free(mem_181499);
        free(mem_181502);
        free(mem_181515);
        free(mem_181517);
        free(mem_181519);
        free(mem_181616);
        free(mem_181619);
        free(mem_181622);
        free(mem_181636);
        free(mem_181638);
        free(mem_181652);
        free(mem_181655);
        free(mem_181658);
        if (memblock_unref(ctx, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181770, "mem_181770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181766, "mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181762, "mem_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181715, "mem_181715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181711, "mem_181711") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181707, "mem_181707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181721, "mem_181721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181717, "mem_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181028, "mem_181028") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181024, "mem_181024") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180973, "mem_180973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180969, "mem_180969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180965, "mem_180965") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180979, "mem_180979") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180977, "mem_180977") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180872, "mem_param_180872") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180869, "mem_param_180869") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180866, "mem_param_180866") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181036, "ext_mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181037, "ext_mem_181037") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180732, "mem_180732") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180730, "mem_180730") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181439, "mem_181439") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181438, "mem_181438") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181436, "mem_181436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181391, "mem_181391") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181387, "mem_181387") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181383, "mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181336, "mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181332, "mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181328, "mem_181328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181342, "mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181340, "mem_181340") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181338, "mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181235, "mem_param_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181232, "mem_param_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181229, "mem_param_181229") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181399, "ext_mem_181399") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181401, "ext_mem_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180702, "mem_180702") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180700, "mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182112, "mem_out_182112") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182542, struct memblock *mem_out_p_182543, struct memblock *mem_out_p_182544, int64_t *out_prim_out_182545, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_131371, int64_t nb_131372, int64_t window_sizze_131373, int64_t threads_131374, bool inParallel_131377)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180713_cached_sizze_182546 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182547 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180754_cached_sizze_182548 = 0;
    unsigned char *mem_180754 = NULL;
    int64_t mem_180757_cached_sizze_182549 = 0;
    unsigned char *mem_180757 = NULL;
    int64_t mem_180760_cached_sizze_182550 = 0;
    unsigned char *mem_180760 = NULL;
    int64_t mem_180773_cached_sizze_182551 = 0;
    unsigned char *mem_180773 = NULL;
    int64_t mem_180775_cached_sizze_182552 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180777_cached_sizze_182553 = 0;
    unsigned char *mem_180777 = NULL;
    int64_t mem_180874_cached_sizze_182554 = 0;
    unsigned char *mem_180874 = NULL;
    int64_t mem_180877_cached_sizze_182555 = 0;
    unsigned char *mem_180877 = NULL;
    int64_t mem_180880_cached_sizze_182556 = 0;
    unsigned char *mem_180880 = NULL;
    int64_t mem_180894_cached_sizze_182557 = 0;
    unsigned char *mem_180894 = NULL;
    int64_t mem_180896_cached_sizze_182558 = 0;
    unsigned char *mem_180896 = NULL;
    int64_t mem_180910_cached_sizze_182559 = 0;
    unsigned char *mem_180910 = NULL;
    int64_t mem_180913_cached_sizze_182560 = 0;
    unsigned char *mem_180913 = NULL;
    int64_t mem_180916_cached_sizze_182561 = 0;
    unsigned char *mem_180916 = NULL;
    int64_t mem_181058_cached_sizze_182562 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181060_cached_sizze_182563 = 0;
    unsigned char *mem_181060 = NULL;
    int64_t mem_181075_cached_sizze_182564 = 0;
    unsigned char *mem_181075 = NULL;
    int64_t mem_181077_cached_sizze_182565 = 0;
    unsigned char *mem_181077 = NULL;
    int64_t mem_181080_cached_sizze_182566 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182567 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181117_cached_sizze_182568 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_182569 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182570 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181136_cached_sizze_182571 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_182572 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181140_cached_sizze_182573 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181237_cached_sizze_182574 = 0;
    unsigned char *mem_181237 = NULL;
    int64_t mem_181240_cached_sizze_182575 = 0;
    unsigned char *mem_181240 = NULL;
    int64_t mem_181243_cached_sizze_182576 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181257_cached_sizze_182577 = 0;
    unsigned char *mem_181257 = NULL;
    int64_t mem_181259_cached_sizze_182578 = 0;
    unsigned char *mem_181259 = NULL;
    int64_t mem_181273_cached_sizze_182579 = 0;
    unsigned char *mem_181273 = NULL;
    int64_t mem_181276_cached_sizze_182580 = 0;
    unsigned char *mem_181276 = NULL;
    int64_t mem_181279_cached_sizze_182581 = 0;
    unsigned char *mem_181279 = NULL;
    int64_t mem_181496_cached_sizze_182582 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181499_cached_sizze_182583 = 0;
    unsigned char *mem_181499 = NULL;
    int64_t mem_181502_cached_sizze_182584 = 0;
    unsigned char *mem_181502 = NULL;
    int64_t mem_181515_cached_sizze_182585 = 0;
    unsigned char *mem_181515 = NULL;
    int64_t mem_181517_cached_sizze_182586 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181519_cached_sizze_182587 = 0;
    unsigned char *mem_181519 = NULL;
    int64_t mem_181616_cached_sizze_182588 = 0;
    unsigned char *mem_181616 = NULL;
    int64_t mem_181619_cached_sizze_182589 = 0;
    unsigned char *mem_181619 = NULL;
    int64_t mem_181622_cached_sizze_182590 = 0;
    unsigned char *mem_181622 = NULL;
    int64_t mem_181636_cached_sizze_182591 = 0;
    unsigned char *mem_181636 = NULL;
    int64_t mem_181638_cached_sizze_182592 = 0;
    unsigned char *mem_181638 = NULL;
    int64_t mem_181652_cached_sizze_182593 = 0;
    unsigned char *mem_181652 = NULL;
    int64_t mem_181655_cached_sizze_182594 = 0;
    unsigned char *mem_181655 = NULL;
    int64_t mem_181658_cached_sizze_182595 = 0;
    unsigned char *mem_181658 = NULL;
    struct memblock mem_param_tmp_182334;
    
    mem_param_tmp_182334.references = NULL;
    
    struct memblock mem_param_tmp_182333;
    
    mem_param_tmp_182333.references = NULL;
    
    struct memblock mem_param_tmp_182332;
    
    mem_param_tmp_182332.references = NULL;
    
    struct memblock mem_181770;
    
    mem_181770.references = NULL;
    
    struct memblock mem_181766;
    
    mem_181766.references = NULL;
    
    struct memblock mem_181762;
    
    mem_181762.references = NULL;
    
    struct memblock mem_181715;
    
    mem_181715.references = NULL;
    
    struct memblock mem_181711;
    
    mem_181711.references = NULL;
    
    struct memblock mem_181707;
    
    mem_181707.references = NULL;
    
    struct memblock mem_181721;
    
    mem_181721.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181717;
    
    mem_181717.references = NULL;
    
    struct memblock ext_mem_181742;
    
    ext_mem_181742.references = NULL;
    
    struct memblock ext_mem_181745;
    
    ext_mem_181745.references = NULL;
    
    struct memblock ext_mem_181748;
    
    ext_mem_181748.references = NULL;
    
    struct memblock mem_param_181614;
    
    mem_param_181614.references = NULL;
    
    struct memblock mem_param_181611;
    
    mem_param_181611.references = NULL;
    
    struct memblock mem_param_181608;
    
    mem_param_181608.references = NULL;
    
    struct memblock ext_mem_181778;
    
    ext_mem_181778.references = NULL;
    
    struct memblock ext_mem_181779;
    
    ext_mem_181779.references = NULL;
    
    struct memblock ext_mem_181780;
    
    ext_mem_181780.references = NULL;
    
    struct memblock mem_181604;
    
    mem_181604.references = NULL;
    
    struct memblock mem_181600;
    
    mem_181600.references = NULL;
    
    struct memblock mem_181596;
    
    mem_181596.references = NULL;
    
    struct memblock ext_mem_181783;
    
    ext_mem_181783.references = NULL;
    
    struct memblock ext_mem_181786;
    
    ext_mem_181786.references = NULL;
    
    struct memblock ext_mem_181789;
    
    ext_mem_181789.references = NULL;
    
    struct memblock mem_181494;
    
    mem_181494.references = NULL;
    
    struct memblock mem_181492;
    
    mem_181492.references = NULL;
    
    struct memblock mem_181490;
    
    mem_181490.references = NULL;
    
    struct memblock mem_param_tmp_182268;
    
    mem_param_tmp_182268.references = NULL;
    
    struct memblock mem_param_tmp_182267;
    
    mem_param_tmp_182267.references = NULL;
    
    struct memblock mem_param_tmp_182266;
    
    mem_param_tmp_182266.references = NULL;
    
    struct memblock mem_181028;
    
    mem_181028.references = NULL;
    
    struct memblock mem_181024;
    
    mem_181024.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_180973;
    
    mem_180973.references = NULL;
    
    struct memblock mem_180969;
    
    mem_180969.references = NULL;
    
    struct memblock mem_180965;
    
    mem_180965.references = NULL;
    
    struct memblock mem_180979;
    
    mem_180979.references = NULL;
    
    struct memblock mem_180977;
    
    mem_180977.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock ext_mem_181000;
    
    ext_mem_181000.references = NULL;
    
    struct memblock ext_mem_181003;
    
    ext_mem_181003.references = NULL;
    
    struct memblock ext_mem_181006;
    
    ext_mem_181006.references = NULL;
    
    struct memblock mem_param_180872;
    
    mem_param_180872.references = NULL;
    
    struct memblock mem_param_180869;
    
    mem_param_180869.references = NULL;
    
    struct memblock mem_param_180866;
    
    mem_param_180866.references = NULL;
    
    struct memblock ext_mem_181036;
    
    ext_mem_181036.references = NULL;
    
    struct memblock ext_mem_181037;
    
    ext_mem_181037.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_180862;
    
    mem_180862.references = NULL;
    
    struct memblock mem_180858;
    
    mem_180858.references = NULL;
    
    struct memblock mem_180854;
    
    mem_180854.references = NULL;
    
    struct memblock ext_mem_181041;
    
    ext_mem_181041.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock mem_180752;
    
    mem_180752.references = NULL;
    
    struct memblock mem_180750;
    
    mem_180750.references = NULL;
    
    struct memblock mem_180748;
    
    mem_180748.references = NULL;
    
    struct memblock mem_180732;
    
    mem_180732.references = NULL;
    
    struct memblock mem_180730;
    
    mem_180730.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_181439;
    
    mem_181439.references = NULL;
    
    struct memblock mem_181438;
    
    mem_181438.references = NULL;
    
    struct memblock mem_181436;
    
    mem_181436.references = NULL;
    
    struct memblock mem_param_tmp_182174;
    
    mem_param_tmp_182174.references = NULL;
    
    struct memblock mem_param_tmp_182173;
    
    mem_param_tmp_182173.references = NULL;
    
    struct memblock mem_param_tmp_182172;
    
    mem_param_tmp_182172.references = NULL;
    
    struct memblock mem_181391;
    
    mem_181391.references = NULL;
    
    struct memblock mem_181387;
    
    mem_181387.references = NULL;
    
    struct memblock mem_181383;
    
    mem_181383.references = NULL;
    
    struct memblock mem_181336;
    
    mem_181336.references = NULL;
    
    struct memblock mem_181332;
    
    mem_181332.references = NULL;
    
    struct memblock mem_181328;
    
    mem_181328.references = NULL;
    
    struct memblock mem_181342;
    
    mem_181342.references = NULL;
    
    struct memblock mem_181340;
    
    mem_181340.references = NULL;
    
    struct memblock mem_181338;
    
    mem_181338.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181366;
    
    ext_mem_181366.references = NULL;
    
    struct memblock ext_mem_181369;
    
    ext_mem_181369.references = NULL;
    
    struct memblock mem_param_181235;
    
    mem_param_181235.references = NULL;
    
    struct memblock mem_param_181232;
    
    mem_param_181232.references = NULL;
    
    struct memblock mem_param_181229;
    
    mem_param_181229.references = NULL;
    
    struct memblock ext_mem_181399;
    
    ext_mem_181399.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181401;
    
    ext_mem_181401.references = NULL;
    
    struct memblock mem_181225;
    
    mem_181225.references = NULL;
    
    struct memblock mem_181221;
    
    mem_181221.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock ext_mem_181404;
    
    ext_mem_181404.references = NULL;
    
    struct memblock ext_mem_181407;
    
    ext_mem_181407.references = NULL;
    
    struct memblock ext_mem_181410;
    
    ext_mem_181410.references = NULL;
    
    struct memblock mem_181115;
    
    mem_181115.references = NULL;
    
    struct memblock mem_181113;
    
    mem_181113.references = NULL;
    
    struct memblock mem_181111;
    
    mem_181111.references = NULL;
    
    struct memblock ext_mem_181460;
    
    ext_mem_181460.references = NULL;
    
    struct memblock ext_mem_181463;
    
    ext_mem_181463.references = NULL;
    
    struct memblock ext_mem_181466;
    
    ext_mem_181466.references = NULL;
    
    struct memblock mem_180702;
    
    mem_180702.references = NULL;
    
    struct memblock mem_180700;
    
    mem_180700.references = NULL;
    
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t prim_out_182113;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185 = add64(na_131371, nb_131372);
    
    if (memblock_alloc(ctx, &mem_180698, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182114 = 0; nest_i_182114 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182114++) {
        ((int8_t *) mem_180698.mem)[nest_i_182114] = (int8_t) -1;
    }
    
    int64_t bytes_180699 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180700, bytes_180699, "mem_180700")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182115 = 0; nest_i_182115 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182115++) {
        ((int64_t *) mem_180700.mem)[nest_i_182115] = (int64_t) -1;
    }
    
    int64_t bytes_180701 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180702, bytes_180701, "mem_180702")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182116 = 0; nest_i_182116 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182116++) {
        ((int32_t *) mem_180702.mem)[nest_i_182116] = 0;
    }
    
    int64_t zl_rhs_175189 = sub64(na_131371, window_sizze_131373);
    bool cond_175190 = slt64((int64_t) 0, zl_rhs_175189);
    int64_t zl_rhs_175191 = sub64(nb_131372, window_sizze_131373);
    bool loop_cond_t_res_175192 = slt64((int64_t) 0, zl_rhs_175191);
    bool x_175193 = cond_175190 && loop_cond_t_res_175192;
    bool empty_slice_175194 = window_sizze_131373 == (int64_t) 0;
    int64_t m_175195 = sub64(window_sizze_131373, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220 = add64((int64_t) 1, threads_131374);
    int64_t partitionFunc_arg0_176221 = mul64((int64_t) 2, threads_131374);
    bool y_176223 = slt64((int64_t) 0, window_sizze_131373);
    bool loop_cond_176469 = slt64((int64_t) 0, threads_131374);
    bool zzero_175240 = threads_131374 == (int64_t) 0;
    bool nonzzero_175241 = !zzero_175240;
    bool loop_not_taken_177998 = !inParallel_131377;
    bool protect_assert_disj_177999 = nonzzero_175241 || loop_not_taken_177998;
    bool loop_not_taken_178088 = !x_175193;
    bool protect_assert_disj_178089 = protect_assert_disj_177999 || loop_not_taken_178088;
    bool nonzzero_cert_175242;
    
    if (!protect_assert_disj_178089) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175243 = sdiv_safe64(window_sizze_131373, threads_131374);
    int64_t perThread_175244 = add64((int64_t) 1, zp_rhs_175243);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245 = mul64(threads_131374, perThread_175244);
    bool protect_assert_disj_178135 = inParallel_131377 || y_176223;
    bool protect_assert_disj_178139 = loop_not_taken_178088 || protect_assert_disj_178135;
    bool index_certs_176224;
    
    if (!protect_assert_disj_178139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176239 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, (int64_t) 1);
    bool y_177196 = slt64(threads_131374, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
    bool protect_assert_disj_178104 = y_176223 || loop_not_taken_177998;
    bool protect_assert_disj_178143 = loop_not_taken_178088 || protect_assert_disj_178104;
    bool index_certs_175248;
    
    if (!protect_assert_disj_178143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176241 = !bounds_invalid_upwards_176239;
    bool protect_assert_disj_178151 = inParallel_131377 || y_177196;
    bool protect_assert_disj_178153 = loop_not_taken_178088 || protect_assert_disj_178151;
    bool index_certs_177198;
    
    if (!protect_assert_disj_178153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131374, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178147 = y_177196 || loop_not_taken_177998;
    bool protect_assert_disj_178155 = loop_not_taken_178088 || protect_assert_disj_178147;
    bool index_certs_176202;
    
    if (!protect_assert_disj_178155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131374, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178163 = inParallel_131377 || valid_176241;
    bool protect_assert_disj_178165 = loop_not_taken_178088 || protect_assert_disj_178163;
    bool range_valid_c_176242;
    
    if (!protect_assert_disj_178165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178007 = sle64((int64_t) 1, threads_131374);
    bool protect_assert_disj_178159 = valid_176241 || loop_not_taken_177998;
    bool protect_assert_disj_178167 = loop_not_taken_178088 || protect_assert_disj_178159;
    bool range_valid_c_175255;
    
    if (!protect_assert_disj_178167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176244 = add64(window_sizze_131373, window_sizze_131373);
    bool zzero_176245 = partitionFunc_arg0_176221 == (int64_t) 0;
    int64_t index_concat_i_178008 = sub64(threads_131374, (int64_t) 1);
    bool nonzzero_176246 = !zzero_176245;
    bool protect_assert_disj_178175 = inParallel_131377 || nonzzero_176246;
    bool protect_assert_disj_178181 = loop_not_taken_178088 || protect_assert_disj_178175;
    bool nonzzero_cert_176247;
    
    if (!protect_assert_disj_178181) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178171 = nonzzero_176246 || loop_not_taken_177998;
    bool protect_assert_disj_178187 = loop_not_taken_178088 || protect_assert_disj_178171;
    bool nonzzero_cert_175260;
    
    if (!protect_assert_disj_178187) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180712 = (int64_t) 8 * threads_131374;
    int64_t bytes_180729 = (int64_t) 8 * window_sizze_131373;
    int64_t bytes_180731 = (int64_t) 4 * window_sizze_131373;
    int64_t bytes_181074 = perThread_175244 * bytes_180712;
    int64_t binop_x_181081 = (int64_t) 4 * threads_131374;
    int64_t bytes_181082 = perThread_175244 * binop_x_181081;
    bool defunc_0_merge_pipeline_res_175196;
    int64_t defunc_0_merge_pipeline_res_175200;
    int64_t defunc_0_merge_pipeline_res_175201;
    bool loop_while_175202;
    int64_t p_175206;
    int64_t p_175207;
    
    loop_while_175202 = x_175193;
    p_175206 = (int64_t) 0;
    p_175207 = (int64_t) 0;
    while (loop_while_175202) {
        int64_t ubs_175208 = add64(window_sizze_131373, p_175206);
        int64_t ubs_175209 = add64(window_sizze_131373, p_175207);
        int64_t ind_bottom_175210 = add64(p_175206, p_175207);
        int64_t ind_top_175211 = add64(window_sizze_131373, ind_bottom_175210);
        int64_t i_p_m_t_s_175212 = add64(m_175195, p_175206);
        bool zzero_leq_i_p_m_t_s_175213 = sle64((int64_t) 0, i_p_m_t_s_175212);
        bool i_p_m_t_s_leq_w_175214 = slt64(i_p_m_t_s_175212, na_131371);
        bool zzero_lte_i_175215 = sle64((int64_t) 0, p_175206);
        bool i_lte_j_175216 = sle64(p_175206, ubs_175208);
        bool y_175217 = i_p_m_t_s_leq_w_175214 && zzero_lte_i_175215;
        bool y_175218 = zzero_leq_i_p_m_t_s_175213 && y_175217;
        bool forwards_ok_175219 = i_lte_j_175216 && y_175218;
        bool ok_or_empty_175220 = empty_slice_175194 || forwards_ok_175219;
        bool index_certs_175221;
        
        if (!ok_or_empty_175220) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175206, ":", (long long) ubs_175208, "] out of bounds for array of shape [", (long long) na_131371, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175223 = add64(m_175195, p_175207);
        bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, i_p_m_t_s_175223);
        bool i_p_m_t_s_leq_w_175225 = slt64(i_p_m_t_s_175223, nb_131372);
        bool zzero_lte_i_175226 = sle64((int64_t) 0, p_175207);
        bool i_lte_j_175227 = sle64(p_175207, ubs_175209);
        bool y_175228 = i_p_m_t_s_leq_w_175225 && zzero_lte_i_175226;
        bool y_175229 = zzero_leq_i_p_m_t_s_175224 && y_175228;
        bool forwards_ok_175230 = i_lte_j_175227 && y_175229;
        bool ok_or_empty_175231 = empty_slice_175194 || forwards_ok_175230;
        bool index_certs_175232;
        
        if (!ok_or_empty_175231) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175207, ":", (long long) ubs_175209, "] out of bounds for array of shape [", (long long) nb_131372, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177210 = add64(m_175195, ind_bottom_175210);
        bool zzero_leq_i_p_m_t_s_177211 = sle64((int64_t) 0, i_p_m_t_s_177210);
        bool i_p_m_t_s_leq_w_177212 = slt64(i_p_m_t_s_177210, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
        bool zzero_lte_i_177213 = sle64((int64_t) 0, ind_bottom_175210);
        bool i_lte_j_177214 = sle64(ind_bottom_175210, ind_top_175211);
        bool y_177215 = i_p_m_t_s_leq_w_177212 && zzero_lte_i_177213;
        bool y_177216 = zzero_leq_i_p_m_t_s_177211 && y_177215;
        bool forwards_ok_177217 = i_lte_j_177214 && y_177216;
        bool ok_or_empty_177218 = empty_slice_175194 || forwards_ok_177217;
        bool index_certs_177219;
        
        if (!ok_or_empty_177218) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175210, ":", (long long) ind_top_175211, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175234;
        int64_t loopres_175235;
        
        if (inParallel_131377) {
            int32_t leq_lhs_178668 = ((int32_t *) a_list_mem_180696.mem)[p_175206];
            int32_t leq_rhs_178669 = ((int32_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_178670 = sle32(leq_lhs_178668, leq_rhs_178669);
            int32_t lowest_178671;
            
            if (defunc_0_leq_res_178670) {
                lowest_178671 = leq_lhs_178668;
            } else {
                lowest_178671 = leq_rhs_178669;
            }
            if (mem_181058_cached_sizze_182562 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182562, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181060_cached_sizze_182563 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181060, &mem_181060_cached_sizze_182563, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180360 = 0; i_180360 < threads_131374; i_180360++) {
                int64_t index_primexp_180632 = add64((int64_t) 1, i_180360);
                int64_t zs_lhs_178676 = mul64(zt_rhs_176244, index_primexp_180632);
                int64_t index_178677 = sdiv64(zs_lhs_178676, partitionFunc_arg0_176221);
                bool cond_178678 = slt64(window_sizze_131373, index_178677);
                int64_t loop_over_178679;
                
                if (cond_178678) {
                    loop_over_178679 = window_sizze_131373;
                } else {
                    loop_over_178679 = index_178677;
                }
                
                int64_t loop_over_178680;
                
                if (cond_178678) {
                    int64_t loop_over_t_res_178681 = sub64(index_178677, window_sizze_131373);
                    
                    loop_over_178680 = loop_over_t_res_178681;
                } else {
                    loop_over_178680 = (int64_t) 0;
                }
                
                int64_t loop_over_178682;
                
                if (cond_178678) {
                    int64_t zm_lhs_178683 = sub64(index_178677, window_sizze_131373);
                    int64_t loop_over_t_res_178684 = sub64(zm_lhs_178683, (int64_t) 1);
                    
                    loop_over_178682 = loop_over_t_res_178684;
                } else {
                    loop_over_178682 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178685;
                int64_t defunc_0_f_res_178686;
                int64_t defunc_0_f_res_178687;
                int64_t defunc_0_f_res_178688;
                bool loop_while_178689;
                int64_t p_178690;
                int64_t p_178691;
                int64_t p_178692;
                
                loop_while_178689 = 1;
                p_178690 = loop_over_178682;
                p_178691 = loop_over_178679;
                p_178692 = loop_over_178680;
                while (loop_while_178689) {
                    int64_t zs_lhs_178693 = sub64(p_178691, p_178690);
                    int64_t offset_178694 = sdiv64(zs_lhs_178693, (int64_t) 2);
                    int64_t ai_178695 = sub64(p_178691, offset_178694);
                    int64_t max_arg1_178696 = add64(p_178692, offset_178694);
                    int64_t max_res_178697 = smax64((int64_t) 0, max_arg1_178696);
                    bool cond_178698 = slt64((int64_t) 0, max_res_178697);
                    int32_t b_prev_178699;
                    
                    if (cond_178698) {
                        int64_t tmp_178700 = sub64(max_res_178697, (int64_t) 1);
                        bool x_178701 = sle64((int64_t) 0, tmp_178700);
                        bool y_178702 = slt64(tmp_178700, window_sizze_131373);
                        bool bounds_check_178703 = x_178701 && y_178702;
                        bool index_certs_178704;
                        
                        if (!bounds_check_178703) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178700, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178705 = p_175207 + tmp_178700;
                        int32_t b_prev_t_res_178706 = ((int32_t *) b_list_mem_180697.mem)[slice_178705];
                        
                        b_prev_178699 = b_prev_t_res_178706;
                    } else {
                        b_prev_178699 = lowest_178671;
                    }
                    
                    bool cond_178707 = sle64(ai_178695, (int64_t) 0);
                    int64_t loopres_178708;
                    int64_t loopres_178709;
                    int64_t loopres_178710;
                    bool loopres_178711;
                    
                    if (cond_178707) {
                        loopres_178708 = p_178690;
                        loopres_178709 = (int64_t) 0;
                        loopres_178710 = max_res_178697;
                        loopres_178711 = 0;
                    } else {
                        bool cond_178712 = sle64(window_sizze_131373, max_res_178697);
                        int64_t loopres_f_res_178713;
                        int64_t loopres_f_res_178714;
                        int64_t loopres_f_res_178715;
                        bool loopres_f_res_178716;
                        
                        if (cond_178712) {
                            int64_t min_res_178718 = smin64(m_175195, ai_178695);
                            bool x_178719 = sle64((int64_t) 0, m_175195);
                            bool y_178720 = slt64(m_175195, window_sizze_131373);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178725 = sle64((int64_t) 0, min_res_178718);
                            bool y_178726 = slt64(min_res_178718, window_sizze_131373);
                            bool bounds_check_178727 = x_178725 && y_178726;
                            bool index_certs_178728;
                            
                            if (!bounds_check_178727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178718, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_178724 = ((int32_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_178729 = p_175206 + min_res_178718;
                            int32_t leq_rhs_178730 = ((int32_t *) a_list_mem_180696.mem)[slice_178729];
                            bool defunc_0_leq_res_178731 = sle32(leq_lhs_178724, leq_rhs_178730);
                            int64_t loopres_f_res_t_res_178732;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178732 = ai_178695;
                            } else {
                                loopres_f_res_t_res_178732 = p_178691;
                            }
                            
                            bool x_178733 = !defunc_0_leq_res_178731;
                            int64_t loopres_f_res_t_res_178734;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178734 = window_sizze_131373;
                            } else {
                                int64_t tmp_178735 = sub64(m_175195, offset_178694);
                                
                                loopres_f_res_t_res_178734 = tmp_178735;
                            }
                            loopres_f_res_178713 = p_178690;
                            loopres_f_res_178714 = loopres_f_res_t_res_178732;
                            loopres_f_res_178715 = loopres_f_res_t_res_178734;
                            loopres_f_res_178716 = x_178733;
                        } else {
                            bool cond_178736 = sle64(window_sizze_131373, ai_178695);
                            int64_t loopres_f_res_f_res_178737;
                            int64_t loopres_f_res_f_res_178738;
                            int64_t loopres_f_res_f_res_178739;
                            bool loopres_f_res_f_res_178740;
                            
                            if (cond_178736) {
                                int64_t min_res_178742 = smin64(m_175195, max_res_178697);
                                bool x_178743 = sle64((int64_t) 0, m_175195);
                                bool y_178744 = slt64(m_175195, window_sizze_131373);
                                bool bounds_check_178745 = x_178743 && y_178744;
                                bool index_certs_178746;
                                
                                if (!bounds_check_178745) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178749 = sle64((int64_t) 0, min_res_178742);
                                bool y_178750 = slt64(min_res_178742, window_sizze_131373);
                                bool bounds_check_178751 = x_178749 && y_178750;
                                bool index_certs_178752;
                                
                                if (!bounds_check_178751) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178742, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_178748 = ((int32_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_178753 = p_175207 + min_res_178742;
                                int32_t leq_rhs_178754 = ((int32_t *) b_list_mem_180697.mem)[slice_178753];
                                bool defunc_0_leq_res_178755 = sle32(leq_lhs_178748, leq_rhs_178754);
                                int64_t loopres_f_res_f_res_t_res_178756;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178756 = max_res_178697;
                                } else {
                                    loopres_f_res_f_res_t_res_178756 = p_178692;
                                }
                                
                                bool x_178757 = !defunc_0_leq_res_178755;
                                int64_t loopres_f_res_f_res_t_res_178758;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178758 = window_sizze_131373;
                                } else {
                                    loopres_f_res_f_res_t_res_178758 = m_175195;
                                }
                                loopres_f_res_f_res_178737 = p_178690;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_t_res_178758;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_t_res_178756;
                                loopres_f_res_f_res_178740 = x_178757;
                            } else {
                                bool cond_178759 = sle64(p_178691, p_178690);
                                int64_t loopres_f_res_f_res_f_res_178760;
                                int64_t loopres_f_res_f_res_f_res_178761;
                                int64_t loopres_f_res_f_res_f_res_178762;
                                bool loopres_f_res_f_res_f_res_178763;
                                
                                if (cond_178759) {
                                    bool cond_178764 = slt64(ai_178695, window_sizze_131373);
                                    int64_t ai_178765;
                                    
                                    if (cond_178764) {
                                        ai_178765 = ai_178695;
                                    } else {
                                        ai_178765 = m_175195;
                                    }
                                    
                                    bool x_178778 = sle64((int64_t) 0, ai_178765);
                                    bool y_178779 = slt64(ai_178765, window_sizze_131373);
                                    bool bounds_check_178780 = x_178778 && y_178779;
                                    bool index_certs_178781;
                                    
                                    if (!bounds_check_178780) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178765, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_178767;
                                    
                                    if (cond_178698) {
                                        int64_t tmp_178768 = sub64(max_res_178697, (int64_t) 1);
                                        bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                        bool y_178770 = slt64(tmp_178768, window_sizze_131373);
                                        bool bounds_check_178771 = x_178769 && y_178770;
                                        bool index_certs_178772;
                                        
                                        if (!bounds_check_178771) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178773 = p_175207 + tmp_178768;
                                        int32_t b_prev_t_res_178774 = ((int32_t *) b_list_mem_180697.mem)[slice_178773];
                                        
                                        b_prev_178767 = b_prev_t_res_178774;
                                    } else {
                                        bool index_certs_178776;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178767 = leq_rhs_178669;
                                    }
                                    
                                    int64_t slice_178782 = p_175206 + ai_178765;
                                    int32_t gt_lhs_178783 = ((int32_t *) a_list_mem_180696.mem)[slice_178782];
                                    bool defunc_0_gt_res_178784 = slt32(b_prev_178767, gt_lhs_178783);
                                    int64_t defunc_0_partFunc_sequential_search_res_178785;
                                    int64_t defunc_0_partFunc_sequential_search_res_178786;
                                    
                                    if (defunc_0_gt_res_178784) {
                                        int64_t zl_rhs_178787 = sub64(window_sizze_131373, max_res_178697);
                                        bool loop_cond_178788 = slt64((int64_t) 0, zl_rhs_178787);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178789;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178791;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178792;
                                        bool loop_while_178793;
                                        int64_t p_178794;
                                        int64_t p_178795;
                                        int64_t p_178796;
                                        
                                        loop_while_178793 = loop_cond_178788;
                                        p_178794 = ai_178765;
                                        p_178795 = max_res_178697;
                                        p_178796 = (int64_t) 0;
                                        while (loop_while_178793) {
                                            int64_t i_a_178797 = sub64(ai_178765, p_178796);
                                            int64_t i_b_178798 = add64(max_res_178697, p_178796);
                                            int64_t leq_lhs_178799 = sub64(i_a_178797, (int64_t) 1);
                                            bool x_178800 = sle64((int64_t) 0, leq_lhs_178799);
                                            bool y_178801 = slt64(leq_lhs_178799, window_sizze_131373);
                                            bool bounds_check_178802 = x_178800 && y_178801;
                                            bool index_certs_178803;
                                            
                                            if (!bounds_check_178802) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178799, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178806 = sle64((int64_t) 0, i_b_178798);
                                            bool y_178807 = slt64(i_b_178798, window_sizze_131373);
                                            bool bounds_check_178808 = x_178806 && y_178807;
                                            bool index_certs_178809;
                                            
                                            if (!bounds_check_178808) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178798, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178804 = p_175206 + leq_lhs_178799;
                                            int32_t leq_lhs_178805 = ((int32_t *) a_list_mem_180696.mem)[slice_178804];
                                            int64_t slice_178810 = p_175207 + i_b_178798;
                                            int32_t leq_rhs_178811 = ((int32_t *) b_list_mem_180697.mem)[slice_178810];
                                            bool defunc_0_leq_res_178812 = sle32(leq_lhs_178805, leq_rhs_178811);
                                            int64_t loopres_178813;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178813 = i_a_178797;
                                            } else {
                                                loopres_178813 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178814;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178814 = i_b_178798;
                                            } else {
                                                loopres_178814 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178815;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178815 = zl_rhs_178787;
                                            } else {
                                                int64_t tmp_178816 = add64((int64_t) 1, p_178796);
                                                
                                                loopres_178815 = tmp_178816;
                                            }
                                            
                                            bool loop_cond_178817 = slt64(loopres_178815, zl_rhs_178787);
                                            bool loop_while_tmp_182129 = loop_cond_178817;
                                            int64_t p_tmp_182130 = loopres_178813;
                                            int64_t p_tmp_182131 = loopres_178814;
                                            int64_t p_tmp_182132 = loopres_178815;
                                            
                                            loop_while_178793 = loop_while_tmp_182129;
                                            p_178794 = p_tmp_182130;
                                            p_178795 = p_tmp_182131;
                                            p_178796 = p_tmp_182132;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178789 = loop_while_178793;
                                        defunc_0_partFunc_sequential_search_res_t_res_178790 = p_178794;
                                        defunc_0_partFunc_sequential_search_res_t_res_178791 = p_178795;
                                        defunc_0_partFunc_sequential_search_res_t_res_178792 = p_178796;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_t_res_178791;
                                    } else {
                                        int64_t zl_rhs_178818 = sub64(max_res_178697, (int64_t) 1);
                                        bool loop_cond_178819 = slt64((int64_t) 0, zl_rhs_178818);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178820;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178822;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178823;
                                        bool loop_while_178824;
                                        int64_t p_178825;
                                        int64_t p_178826;
                                        int64_t p_178827;
                                        
                                        loop_while_178824 = loop_cond_178819;
                                        p_178825 = ai_178765;
                                        p_178826 = max_res_178697;
                                        p_178827 = (int64_t) 0;
                                        while (loop_while_178824) {
                                            int64_t zp_lhs_178828 = add64(ai_178765, p_178827);
                                            int64_t hi_a_178829 = add64((int64_t) 1, zp_lhs_178828);
                                            bool cond_178830 = slt64(hi_a_178829, window_sizze_131373);
                                            int64_t i_a_178831;
                                            
                                            if (cond_178830) {
                                                i_a_178831 = hi_a_178829;
                                            } else {
                                                i_a_178831 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_178833 = sub64(max_res_178697, p_178827);
                                            int64_t i_b_178834 = sub64(zm_lhs_178833, (int64_t) 1);
                                            bool x_178835 = sle64((int64_t) 0, i_a_178831);
                                            bool y_178836 = slt64(i_a_178831, window_sizze_131373);
                                            bool bounds_check_178837 = x_178835 && y_178836;
                                            bool index_certs_178838;
                                            
                                            if (!bounds_check_178837) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178831, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178841 = sle64((int64_t) 0, i_b_178834);
                                            bool y_178842 = slt64(i_b_178834, window_sizze_131373);
                                            bool bounds_check_178843 = x_178841 && y_178842;
                                            bool index_certs_178844;
                                            
                                            if (!bounds_check_178843) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178834, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178839 = p_175206 + i_a_178831;
                                            int32_t gt_lhs_178840 = ((int32_t *) a_list_mem_180696.mem)[slice_178839];
                                            int64_t slice_178845 = p_175207 + i_b_178834;
                                            int32_t gt_rhs_178846 = ((int32_t *) b_list_mem_180697.mem)[slice_178845];
                                            bool defunc_0_gt_res_178847 = slt32(gt_rhs_178846, gt_lhs_178840);
                                            int64_t loopres_178848;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178848 = i_a_178831;
                                            } else {
                                                loopres_178848 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178849;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178849 = zm_lhs_178833;
                                            } else {
                                                loopres_178849 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178850;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178850 = zl_rhs_178818;
                                            } else {
                                                int64_t tmp_178851 = add64((int64_t) 1, p_178827);
                                                
                                                loopres_178850 = tmp_178851;
                                            }
                                            
                                            bool loop_cond_178852 = slt64(loopres_178850, zl_rhs_178818);
                                            bool loop_while_tmp_182133 = loop_cond_178852;
                                            int64_t p_tmp_182134 = loopres_178848;
                                            int64_t p_tmp_182135 = loopres_178849;
                                            int64_t p_tmp_182136 = loopres_178850;
                                            
                                            loop_while_178824 = loop_while_tmp_182133;
                                            p_178825 = p_tmp_182134;
                                            p_178826 = p_tmp_182135;
                                            p_178827 = p_tmp_182136;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178820 = loop_while_178824;
                                        defunc_0_partFunc_sequential_search_res_f_res_178821 = p_178825;
                                        defunc_0_partFunc_sequential_search_res_f_res_178822 = p_178826;
                                        defunc_0_partFunc_sequential_search_res_f_res_178823 = p_178827;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_f_res_178822;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = p_178690;
                                    loopres_f_res_f_res_f_res_178761 = defunc_0_partFunc_sequential_search_res_178785;
                                    loopres_f_res_f_res_f_res_178762 = defunc_0_partFunc_sequential_search_res_178786;
                                    loopres_f_res_f_res_f_res_178763 = 0;
                                } else {
                                    bool x_178853 = sle64((int64_t) 0, ai_178695);
                                    bool y_178854 = slt64(ai_178695, window_sizze_131373);
                                    bool bounds_check_178855 = x_178853 && y_178854;
                                    bool index_certs_178856;
                                    
                                    if (!bounds_check_178855) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178695, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178857 = p_175206 + ai_178695;
                                    int32_t gt_lhs_178858 = ((int32_t *) a_list_mem_180696.mem)[slice_178857];
                                    bool defunc_0_gt_res_178859 = slt32(b_prev_178699, gt_lhs_178858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178862;
                                    bool loopres_f_res_f_res_f_res_f_res_178863;
                                    
                                    if (defunc_0_gt_res_178859) {
                                        int64_t leq_lhs_178864 = sub64(ai_178695, (int64_t) 1);
                                        bool x_178865 = sle64((int64_t) 0, leq_lhs_178864);
                                        bool y_178866 = slt64(leq_lhs_178864, window_sizze_131373);
                                        bool bounds_check_178867 = x_178865 && y_178866;
                                        bool index_certs_178868;
                                        
                                        if (!bounds_check_178867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178864, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178871 = sle64((int64_t) 0, max_res_178697);
                                        bool y_178872 = slt64(max_res_178697, window_sizze_131373);
                                        bool bounds_check_178873 = x_178871 && y_178872;
                                        bool index_certs_178874;
                                        
                                        if (!bounds_check_178873) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178697, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178869 = p_175206 + leq_lhs_178864;
                                        int32_t leq_lhs_178870 = ((int32_t *) a_list_mem_180696.mem)[slice_178869];
                                        int64_t slice_178875 = p_175207 + max_res_178697;
                                        int32_t leq_rhs_178876 = ((int32_t *) b_list_mem_180697.mem)[slice_178875];
                                        bool defunc_0_leq_res_178877 = sle32(leq_lhs_178870, leq_rhs_178876);
                                        bool x_178878 = !defunc_0_leq_res_178877;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = ai_178695;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = leq_lhs_178864;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = max_res_178697;
                                        } else {
                                            int64_t tmp_178881 = add64((int64_t) 1, max_res_178697);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = tmp_178881;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178860 = p_178690;
                                        loopres_f_res_f_res_f_res_f_res_178861 = loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        loopres_f_res_f_res_f_res_f_res_178862 = loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        loopres_f_res_f_res_f_res_f_res_178863 = x_178878;
                                    } else {
                                        int64_t tmp_178882 = add64((int64_t) 1, ai_178695);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178860 = tmp_178882;
                                        loopres_f_res_f_res_f_res_f_res_178861 = p_178691;
                                        loopres_f_res_f_res_f_res_f_res_178862 = p_178692;
                                        loopres_f_res_f_res_f_res_f_res_178863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = loopres_f_res_f_res_f_res_f_res_178860;
                                    loopres_f_res_f_res_f_res_178761 = loopres_f_res_f_res_f_res_f_res_178861;
                                    loopres_f_res_f_res_f_res_178762 = loopres_f_res_f_res_f_res_f_res_178862;
                                    loopres_f_res_f_res_f_res_178763 = loopres_f_res_f_res_f_res_f_res_178863;
                                }
                                loopres_f_res_f_res_178737 = loopres_f_res_f_res_f_res_178760;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_f_res_178761;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_f_res_178762;
                                loopres_f_res_f_res_178740 = loopres_f_res_f_res_f_res_178763;
                            }
                            loopres_f_res_178713 = loopres_f_res_f_res_178737;
                            loopres_f_res_178714 = loopres_f_res_f_res_178738;
                            loopres_f_res_178715 = loopres_f_res_f_res_178739;
                            loopres_f_res_178716 = loopres_f_res_f_res_178740;
                        }
                        loopres_178708 = loopres_f_res_178713;
                        loopres_178709 = loopres_f_res_178714;
                        loopres_178710 = loopres_f_res_178715;
                        loopres_178711 = loopres_f_res_178716;
                    }
                    
                    bool loop_while_tmp_182125 = loopres_178711;
                    int64_t p_tmp_182126 = loopres_178708;
                    int64_t p_tmp_182127 = loopres_178709;
                    int64_t p_tmp_182128 = loopres_178710;
                    
                    loop_while_178689 = loop_while_tmp_182125;
                    p_178690 = p_tmp_182126;
                    p_178691 = p_tmp_182127;
                    p_178692 = p_tmp_182128;
                }
                defunc_0_f_res_178685 = loop_while_178689;
                defunc_0_f_res_178686 = p_178690;
                defunc_0_f_res_178687 = p_178691;
                defunc_0_f_res_178688 = p_178692;
                ((int64_t *) mem_181058)[i_180360] = defunc_0_f_res_178687;
                ((int64_t *) mem_181060)[i_180360] = defunc_0_f_res_178688;
            }
            if (mem_181075_cached_sizze_182564 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181075, &mem_181075_cached_sizze_182564, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181077_cached_sizze_182565 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245) {
                err = lexical_realloc(ctx, &mem_181077, &mem_181077_cached_sizze_182565, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181080_cached_sizze_182566 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182566, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181083_cached_sizze_182567 < bytes_181082) {
                err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182567, bytes_181082);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180426 = 0; i_180426 < threads_131374; i_180426++) {
                bool y_178896 = slt64(i_180426, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool index_certs_178898;
                
                if (!y_178896) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180426, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178899 = sle64((int64_t) 1, i_180426);
                int64_t index_concat_i_178900 = sub64(i_180426, (int64_t) 1);
                int64_t index_concat_178901;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178902 = ((int64_t *) mem_181058)[index_concat_i_178900];
                    
                    index_concat_178901 = x_178902;
                } else {
                    index_concat_178901 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178903;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178903 = index_concat_178901;
                } else {
                    index_concat_branch_178903 = (int64_t) 0;
                }
                
                int64_t index_concat_178904;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178905 = ((int64_t *) mem_181060)[index_concat_i_178900];
                    
                    index_concat_178904 = x_178905;
                } else {
                    index_concat_178904 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178906;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178906 = index_concat_178904;
                } else {
                    index_concat_branch_178906 = (int64_t) 0;
                }
                
                int64_t ubs_178907 = add64((int64_t) 1, i_180426);
                bool x_178908 = sle64((int64_t) 0, ubs_178907);
                bool y_178909 = slt64(ubs_178907, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_178910 = x_178908 && y_178909;
                bool index_certs_178911;
                
                if (!bounds_check_178910) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178907, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178912 = sle64((int64_t) 1, ubs_178907);
                int64_t index_concat_178913;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178914 = ((int64_t *) mem_181058)[i_180426];
                    
                    index_concat_178913 = x_178914;
                } else {
                    index_concat_178913 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178915;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178915 = index_concat_178913;
                } else {
                    index_concat_branch_178915 = (int64_t) 0;
                }
                
                int64_t index_concat_178916;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178917 = ((int64_t *) mem_181060)[i_180426];
                    
                    index_concat_178916 = x_178917;
                } else {
                    index_concat_178916 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178918;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178918 = index_concat_178916;
                } else {
                    index_concat_branch_178918 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 = sub64(index_concat_branch_178918, index_concat_branch_178906);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 = sub64(index_concat_branch_178915, index_concat_branch_178903);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t zm_lhs_178922 = add64(index_concat_branch_178915, index_concat_branch_178918);
                int64_t zm_rhs_178923 = add64(index_concat_branch_178903, index_concat_branch_178906);
                int64_t card_178924 = sub64(zm_lhs_178922, zm_rhs_178923);
                bool empty_slice_178925 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 == (int64_t) 0;
                int64_t m_178926 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 1);
                int64_t i_p_m_t_s_178927 = add64(index_concat_branch_178903, m_178926);
                bool zzero_leq_i_p_m_t_s_178928 = sle64((int64_t) 0, i_p_m_t_s_178927);
                bool i_p_m_t_s_leq_w_178929 = slt64(i_p_m_t_s_178927, window_sizze_131373);
                bool zzero_lte_i_178930 = sle64((int64_t) 0, index_concat_branch_178903);
                bool i_lte_j_178931 = sle64(index_concat_branch_178903, index_concat_branch_178915);
                bool y_178932 = i_p_m_t_s_leq_w_178929 && zzero_lte_i_178930;
                bool y_178933 = zzero_leq_i_p_m_t_s_178928 && y_178932;
                bool forwards_ok_178934 = i_lte_j_178931 && y_178933;
                bool ok_or_empty_178935 = empty_slice_178925 || forwards_ok_178934;
                bool index_certs_178936;
                
                if (!ok_or_empty_178935) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178903, ":", (long long) index_concat_branch_178915, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178937 = slt64(index_concat_branch_178915, index_concat_branch_178903);
                bool valid_178938 = !bounds_invalid_upwards_178937;
                bool range_valid_c_178939;
                
                if (!valid_178938) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178903, "..<", (long long) index_concat_branch_178915, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178944 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 == (int64_t) 0;
                int64_t m_178945 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, (int64_t) 1);
                int64_t i_p_m_t_s_178946 = add64(index_concat_branch_178906, m_178945);
                bool zzero_leq_i_p_m_t_s_178947 = sle64((int64_t) 0, i_p_m_t_s_178946);
                bool i_p_m_t_s_leq_w_178948 = slt64(i_p_m_t_s_178946, window_sizze_131373);
                bool zzero_lte_i_178949 = sle64((int64_t) 0, index_concat_branch_178906);
                bool i_lte_j_178950 = sle64(index_concat_branch_178906, index_concat_branch_178918);
                bool y_178951 = i_p_m_t_s_leq_w_178948 && zzero_lte_i_178949;
                bool y_178952 = zzero_leq_i_p_m_t_s_178947 && y_178951;
                bool forwards_ok_178953 = i_lte_j_178950 && y_178952;
                bool ok_or_empty_178954 = empty_slice_178944 || forwards_ok_178953;
                bool index_certs_178955;
                
                if (!ok_or_empty_178954) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178906, ":", (long long) index_concat_branch_178918, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178956 = slt64(index_concat_branch_178918, index_concat_branch_178906);
                bool valid_178957 = !bounds_invalid_upwards_178956;
                bool range_valid_c_178958;
                
                if (!valid_178957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178906, "..<", (long long) index_concat_branch_178918, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181112 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                int64_t bytes_181114 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool cond_178966 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zs_lhs_178967 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zp_rhs_178968 = sdiv_safe64(zs_lhs_178967, (int64_t) 20);
                int64_t min_num_blocks_178969 = add64((int64_t) 1, zp_rhs_178968);
                bool loop_cond_178970 = slt64((int64_t) 1, min_num_blocks_178969);
                bool smallest_pow_2_geq_than_res_178971;
                int64_t smallest_pow_2_geq_than_res_178972;
                bool loop_while_178973;
                int64_t x_178974;
                
                loop_while_178973 = loop_cond_178970;
                x_178974 = (int64_t) 1;
                while (loop_while_178973) {
                    int64_t loopres_178975 = mul64((int64_t) 2, x_178974);
                    bool loop_cond_178976 = slt64(loopres_178975, min_num_blocks_178969);
                    bool loop_while_tmp_182141 = loop_cond_178976;
                    int64_t x_tmp_182142 = loopres_178975;
                    
                    loop_while_178973 = loop_while_tmp_182141;
                    x_178974 = x_tmp_182142;
                }
                smallest_pow_2_geq_than_res_178971 = loop_while_178973;
                smallest_pow_2_geq_than_res_178972 = x_178974;
                
                bool zzero_178977 = smallest_pow_2_geq_than_res_178972 == (int64_t) 0;
                bool nonzzero_178978 = !zzero_178977;
                bool protect_assert_disj_178979 = cond_178966 || nonzzero_178978;
                bool nonzzero_cert_178980;
                
                if (!protect_assert_disj_178979) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178981 = sdiv_safe64(zs_lhs_178967, smallest_pow_2_geq_than_res_178972);
                int64_t block_sizze_178982 = add64((int64_t) 1, zp_rhs_178981);
                bool y_178989 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                bool protect_assert_disj_181858 = cond_178966 || y_178989;
                bool index_certs_178990;
                
                if (!protect_assert_disj_181858) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179027 = slt64(smallest_pow_2_geq_than_res_178972, (int64_t) 0);
                bool valid_179028 = !bounds_invalid_upwards_179027;
                bool protect_assert_disj_181868 = cond_178966 || valid_179028;
                bool range_valid_c_179029;
                
                if (!protect_assert_disj_181868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178972, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179031 = slt64(block_sizze_178982, (int64_t) 0);
                bool valid_179032 = !bounds_invalid_upwards_179031;
                bool protect_assert_disj_181870 = cond_178966 || valid_179032;
                bool range_valid_c_179033;
                
                if (!protect_assert_disj_181870) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178982, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179035 = sle64(block_sizze_178982, (int64_t) 1);
                int64_t tmp_179036 = sub64(block_sizze_178982, (int64_t) 2);
                bool bounds_invalid_upwards_179037 = slt64(tmp_179036, (int64_t) 0);
                bool valid_179039 = !bounds_invalid_upwards_179037;
                bool protect_assert_disj_179040 = cond_179035 || valid_179039;
                bool protect_assert_disj_181872 = cond_178966 || protect_assert_disj_179040;
                bool range_valid_c_179041;
                
                if (!protect_assert_disj_181872) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179036, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179621 = card_178924 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool empty_or_match_cert_179622;
                
                if (!dim_match_179621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] cannot match shape of type `[", (long long) card_178924, "](i8, i64, i32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179623 = card_178924 == (int64_t) 0;
                int64_t m_179624 = sub64(card_178924, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179625 = sle64((int64_t) 0, m_179624);
                bool i_p_m_t_s_leq_w_179626 = slt64(m_179624, card_178924);
                bool y_179627 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179626;
                bool ok_or_empty_179628 = empty_slice_179623 || y_179627;
                bool index_certs_179629;
                
                if (!ok_or_empty_179628) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) card_178924, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179630 = slt64(m_179624, perThread_175244);
                bool y_179631 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179630;
                bool ok_or_empty_179632 = empty_slice_179623 || y_179631;
                bool index_certs_179633;
                
                if (!ok_or_empty_179632) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182143 = 0; nest_i_182143 < perThread_175244; nest_i_182143++) {
                    ((int8_t *) mem_181077)[i_180426 * perThread_175244 + nest_i_182143] = (int8_t) -1;
                }
                for (int64_t nest_i_182144 = 0; nest_i_182144 < perThread_175244; nest_i_182144++) {
                    ((int64_t *) mem_181080)[i_180426 * perThread_175244 + nest_i_182144] = (int64_t) -1;
                }
                for (int64_t nest_i_182145 = 0; nest_i_182145 < perThread_175244; nest_i_182145++) {
                    ((int32_t *) mem_181083)[i_180426 * perThread_175244 + nest_i_182145] = 0;
                }
                
                int64_t slice_178940 = p_175206 + index_concat_branch_178903;
                
                if (memblock_alloc(ctx, &mem_181111, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "mem_181111")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182146 = 0; nest_i_182146 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; nest_i_182146++) {
                    ((int8_t *) mem_181111.mem)[nest_i_182146] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181113, bytes_181112, "mem_181113")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182147 = 0; i_182147 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; i_182147++) {
                    int64_t x_182148 = index_concat_branch_178903 + i_182147 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[i_182147] = x_182148;
                }
                
                int64_t slice_178959 = p_175207 + index_concat_branch_178906;
                
                for (int64_t nest_i_182149 = 0; nest_i_182149 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; nest_i_182149++) {
                    ((int8_t *) mem_181111.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + nest_i_182149] = (int8_t) 1;
                }
                for (int64_t i_182150 = 0; i_182150 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; i_182150++) {
                    int64_t x_182151 = index_concat_branch_178906 + i_182150 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + i_182150] = x_182151;
                }
                
                int64_t tmp_offs_182152 = (int64_t) 0;
                
                if (!(tmp_offs_182152 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182152 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t tmp_offs_182153 = (int64_t) 0;
                
                if (!(tmp_offs_182153 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182153 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                if (memblock_alloc(ctx, &mem_181115, bytes_181114, "mem_181115")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182154 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, slice_178940, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, slice_178959, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t flat_dim_178983 = smallest_pow_2_geq_than_res_178972 * block_sizze_178982;
                bool x_181853 = !cond_178966;
                int64_t greatest_divisor_leq_than_arg1_178987 = mul64((int64_t) 2, block_sizze_178982);
                int64_t merge_block_sizze_178988;
                
                if (x_181853) {
                    int64_t x_181855;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181855, (int64_t) 8, greatest_divisor_leq_than_arg1_178987) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178988 = x_181855;
                } else {
                    merge_block_sizze_178988 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178991 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 0);
                int8_t index_concat_branch_178992 = btoi_bool_i8(index_concat_cmp_178991);
                int64_t index_concat_i_178994 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t index_primexp_178995 = add64(index_concat_branch_178906, index_concat_i_178994);
                int64_t index_concat_branch_178993;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178993 = index_primexp_178995;
                } else {
                    index_concat_branch_178993 = index_concat_branch_178903;
                }
                
                bool x_181849 = !index_concat_cmp_178991;
                bool protect_cond_conj_181859 = x_181849 && x_181853;
                int32_t index_concat_179001;
                
                if (protect_cond_conj_181859) {
                    int32_t x_181851 = ((int32_t *) a_list_mem_180696.mem)[slice_178940];
                    
                    index_concat_179001 = x_181851;
                } else {
                    index_concat_179001 = 0;
                }
                
                int64_t slice_178999 = p_175207 + index_primexp_178995;
                bool protect_cond_conj_181860 = index_concat_cmp_178991 && x_181853;
                int32_t index_concat_179000;
                
                if (protect_cond_conj_181860) {
                    int32_t x_181847 = ((int32_t *) b_list_mem_180697.mem)[slice_178999];
                    
                    index_concat_179000 = x_181847;
                } else {
                    index_concat_179000 = 0;
                }
                
                int32_t index_concat_branch_178996;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178996 = index_concat_179000;
                } else {
                    index_concat_branch_178996 = index_concat_179001;
                }
                
                int8_t defunc_0_reduce_res_179002;
                int64_t defunc_0_reduce_res_179003;
                int32_t defunc_0_reduce_res_179004;
                
                if (x_181853) {
                    int8_t x_181861;
                    int64_t x_181862;
                    int32_t x_181863;
                    int8_t redout_180363;
                    int64_t redout_180364;
                    int32_t redout_180365;
                    
                    redout_180363 = index_concat_branch_178992;
                    redout_180364 = index_concat_branch_178993;
                    redout_180365 = index_concat_branch_178996;
                    for (int64_t i_180366 = 0; i_180366 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921; i_180366++) {
                        bool index_concat_cmp_180624 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, i_180366);
                        int8_t index_concat_branch_180628 = btoi_bool_i8(index_concat_cmp_180624);
                        int64_t index_concat_branch_180622;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180619 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t index_primexp_180672 = add64(index_concat_branch_178906, index_concat_i_180619);
                            
                            index_concat_branch_180622 = index_primexp_180672;
                        } else {
                            int64_t index_primexp_180674 = add64(index_concat_branch_178903, i_180366);
                            
                            index_concat_branch_180622 = index_primexp_180674;
                        }
                        
                        int32_t index_concat_branch_180616;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180613 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t slice_180669 = slice_178959 + index_concat_i_180613;
                            int32_t index_concat_180614 = ((int32_t *) b_list_mem_180697.mem)[slice_180669];
                            
                            index_concat_branch_180616 = index_concat_180614;
                        } else {
                            int64_t slice_180670 = slice_178940 + i_180366;
                            int32_t index_concat_180615 = ((int32_t *) a_list_mem_180696.mem)[slice_180670];
                            
                            index_concat_branch_180616 = index_concat_180615;
                        }
                        
                        bool eq_x_y_180686 = redout_180363 == (int8_t) 1;
                        bool eq_x_zz_180687 = redout_180363 == (int8_t) 0;
                        bool p_and_eq_x_y_180688 = index_concat_cmp_180624 && eq_x_y_180686;
                        bool not_p_180689 = !index_concat_cmp_180624;
                        bool p_and_eq_x_y_180690 = eq_x_zz_180687 && not_p_180689;
                        bool cond_179014 = p_and_eq_x_y_180688 || p_and_eq_x_y_180690;
                        bool defunc_0_leq_res_t_res_179015 = sle64(redout_180364, index_concat_branch_180622);
                        bool defunc_0_leq_res_179016 = sle32(redout_180365, index_concat_branch_180616);
                        bool x_179017 = cond_179014 && defunc_0_leq_res_t_res_179015;
                        bool x_179018 = !cond_179014;
                        bool y_179019 = defunc_0_leq_res_179016 && x_179018;
                        bool defunc_0_leq_res_179020 = x_179017 || y_179019;
                        int8_t defunc_0_op_res_179021;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179021 = index_concat_branch_180628;
                        } else {
                            defunc_0_op_res_179021 = redout_180363;
                        }
                        
                        int64_t defunc_0_op_res_179022;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179022 = index_concat_branch_180622;
                        } else {
                            defunc_0_op_res_179022 = redout_180364;
                        }
                        
                        int32_t defunc_0_op_res_179023;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179023 = index_concat_branch_180616;
                        } else {
                            defunc_0_op_res_179023 = redout_180365;
                        }
                        
                        int8_t redout_tmp_182155 = defunc_0_op_res_179021;
                        int64_t redout_tmp_182156 = defunc_0_op_res_179022;
                        int32_t redout_tmp_182157 = defunc_0_op_res_179023;
                        
                        redout_180363 = redout_tmp_182155;
                        redout_180364 = redout_tmp_182156;
                        redout_180365 = redout_tmp_182157;
                    }
                    x_181861 = redout_180363;
                    x_181862 = redout_180364;
                    x_181863 = redout_180365;
                    defunc_0_reduce_res_179002 = x_181861;
                    defunc_0_reduce_res_179003 = x_181862;
                    defunc_0_reduce_res_179004 = x_181863;
                } else {
                    defunc_0_reduce_res_179002 = (int8_t) 0;
                    defunc_0_reduce_res_179003 = (int64_t) 0;
                    defunc_0_reduce_res_179004 = 0;
                }
                
                int64_t distance_179038 = add64((int64_t) 1, tmp_179036);
                int64_t binop_x_181118 = (int64_t) 8 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181119 = block_sizze_178982 * binop_x_181118;
                int64_t binop_x_181121 = (int64_t) 4 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181122 = block_sizze_178982 * binop_x_181121;
                int64_t bytes_181137 = (int64_t) 8 * block_sizze_178982;
                int64_t bytes_181139 = (int64_t) 4 * block_sizze_178982;
                bool loop_cond_179164 = slt64(block_sizze_178982, flat_dim_178983);
                bool zzero_179165 = merge_block_sizze_178988 == (int64_t) 0;
                bool nonzzero_179166 = !zzero_179165;
                
                if (cond_178966) {
                    if (memblock_set(ctx, &ext_mem_181410, &mem_181111, "mem_181111") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &mem_181113, "mem_181113") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &mem_181115, "mem_181115") != 0)
                        return 1;
                } else {
                    if (mem_181117_cached_sizze_182568 < flat_dim_178983) {
                        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_182568, flat_dim_178983);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181120_cached_sizze_182569 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182569, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181123_cached_sizze_182570 < bytes_181122) {
                        err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182570, bytes_181122);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181136_cached_sizze_182571 < block_sizze_178982) {
                        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_182571, block_sizze_178982);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181138_cached_sizze_182572 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_182572, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181140_cached_sizze_182573 < bytes_181139) {
                        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182573, bytes_181139);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180383 = 0; i_180383 < smallest_pow_2_geq_than_res_178972; i_180383++) {
                        int64_t zp_lhs_179046 = mul64(block_sizze_178982, i_180383);
                        
                        for (int64_t i_180373 = 0; i_180373 < block_sizze_178982; i_180373++) {
                            int64_t k_179051 = add64(zp_lhs_179046, i_180373);
                            bool cond_179052 = slt64(k_179051, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                            int8_t lifted_lambda_res_179053;
                            int64_t lifted_lambda_res_179054;
                            int32_t lifted_lambda_res_179055;
                            
                            if (cond_179052) {
                                bool x_179056 = sle64((int64_t) 0, k_179051);
                                bool bounds_check_179057 = cond_179052 && x_179056;
                                bool index_certs_179058;
                                
                                if (!bounds_check_179057) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179051, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179059 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, k_179051);
                                int8_t index_concat_branch_179060 = btoi_bool_i8(index_concat_cmp_179059);
                                int64_t index_concat_branch_179061;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179062 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t index_primexp_179063 = add64(index_concat_branch_178906, index_concat_i_179062);
                                    
                                    index_concat_branch_179061 = index_primexp_179063;
                                } else {
                                    int64_t index_primexp_179064 = add64(index_concat_branch_178903, k_179051);
                                    
                                    index_concat_branch_179061 = index_primexp_179064;
                                }
                                
                                int32_t index_concat_branch_179065;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179066 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t slice_179067 = index_concat_branch_178906 + index_concat_i_179066;
                                    int64_t slice_179068 = p_175207 + slice_179067;
                                    int32_t index_concat_179069 = ((int32_t *) b_list_mem_180697.mem)[slice_179068];
                                    
                                    index_concat_branch_179065 = index_concat_179069;
                                } else {
                                    int64_t slice_179070 = index_concat_branch_178903 + k_179051;
                                    int64_t slice_179071 = p_175206 + slice_179070;
                                    int32_t index_concat_179072 = ((int32_t *) a_list_mem_180696.mem)[slice_179071];
                                    
                                    index_concat_branch_179065 = index_concat_179072;
                                }
                                lifted_lambda_res_179053 = index_concat_branch_179060;
                                lifted_lambda_res_179054 = index_concat_branch_179061;
                                lifted_lambda_res_179055 = index_concat_branch_179065;
                            } else {
                                lifted_lambda_res_179053 = defunc_0_reduce_res_179002;
                                lifted_lambda_res_179054 = defunc_0_reduce_res_179003;
                                lifted_lambda_res_179055 = defunc_0_reduce_res_179004;
                            }
                            ((int8_t *) mem_181136)[i_180373] = lifted_lambda_res_179053;
                            ((int64_t *) mem_181138)[i_180373] = lifted_lambda_res_179054;
                            ((int32_t *) mem_181140)[i_180373] = lifted_lambda_res_179055;
                        }
                        if (!cond_179035) {
                            for (int64_t i_179082 = 0; i_179082 < distance_179038; i_179082++) {
                                int64_t gt_arg1_179086 = add64((int64_t) 1, i_179082);
                                bool x_179087 = sle64((int64_t) 0, gt_arg1_179086);
                                bool y_179088 = slt64(gt_arg1_179086, block_sizze_178982);
                                bool bounds_check_179089 = x_179087 && y_179088;
                                bool index_certs_179090;
                                
                                if (!bounds_check_179089) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179086, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179094 = slt64(i_179082, block_sizze_178982);
                                bool index_certs_179095;
                                
                                if (!y_179094) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179082, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179091 = ((int8_t *) mem_181136)[gt_arg1_179086];
                                int64_t gt_arg1_179092 = ((int64_t *) mem_181138)[gt_arg1_179086];
                                int32_t gt_arg1_179093 = ((int32_t *) mem_181140)[gt_arg1_179086];
                                int8_t gt_arg0_179096 = ((int8_t *) mem_181136)[i_179082];
                                int64_t gt_arg0_179097 = ((int64_t *) mem_181138)[i_179082];
                                int32_t gt_arg0_179098 = ((int32_t *) mem_181140)[i_179082];
                                bool cond_179099 = gt_arg0_179096 == gt_arg1_179091;
                                bool defunc_0_leq_res_t_res_179100 = sle64(gt_arg0_179097, gt_arg1_179092);
                                bool defunc_0_leq_res_179101 = sle32(gt_arg0_179098, gt_arg1_179093);
                                bool x_179102 = cond_179099 && defunc_0_leq_res_t_res_179100;
                                bool x_179103 = !cond_179099;
                                bool y_179104 = defunc_0_leq_res_179101 && x_179103;
                                bool defunc_0_leq_res_179105 = x_179102 || y_179104;
                                bool defunc_0_lifted_gt_res_179106 = !defunc_0_leq_res_179105;
                                bool s_179107;
                                int64_t s_179111;
                                bool loop_while_179112;
                                int64_t j_179116;
                                
                                loop_while_179112 = defunc_0_lifted_gt_res_179106;
                                j_179116 = i_179082;
                                while (loop_while_179112) {
                                    bool x_179117 = sle64((int64_t) 0, j_179116);
                                    bool y_179118 = slt64(j_179116, block_sizze_178982);
                                    bool bounds_check_179119 = x_179117 && y_179118;
                                    bool index_certs_179120;
                                    
                                    if (!bounds_check_179119) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179116, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179124 = add64((int64_t) 1, j_179116);
                                    bool x_179125 = sle64((int64_t) 0, copy_arg0_179124);
                                    bool y_179126 = slt64(copy_arg0_179124, block_sizze_178982);
                                    bool bounds_check_179127 = x_179125 && y_179126;
                                    bool index_certs_179128;
                                    
                                    if (!bounds_check_179127) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179124, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179121 = ((int8_t *) mem_181136)[j_179116];
                                    int64_t copy_arg0_179122 = ((int64_t *) mem_181138)[j_179116];
                                    int32_t copy_arg0_179123 = ((int32_t *) mem_181140)[j_179116];
                                    int8_t copy_arg0_179129 = ((int8_t *) mem_181136)[copy_arg0_179124];
                                    int64_t copy_arg0_179130 = ((int64_t *) mem_181138)[copy_arg0_179124];
                                    int32_t copy_arg0_179131 = ((int32_t *) mem_181140)[copy_arg0_179124];
                                    
                                    ((int8_t *) mem_181136)[j_179116] = copy_arg0_179129;
                                    ((int64_t *) mem_181138)[j_179116] = copy_arg0_179130;
                                    ((int32_t *) mem_181140)[j_179116] = copy_arg0_179131;
                                    ((int8_t *) mem_181136)[copy_arg0_179124] = copy_arg0_179121;
                                    ((int64_t *) mem_181138)[copy_arg0_179124] = copy_arg0_179122;
                                    ((int32_t *) mem_181140)[copy_arg0_179124] = copy_arg0_179123;
                                    
                                    int64_t tmp_179138 = sub64(j_179116, (int64_t) 1);
                                    bool cond_179139 = sle64((int64_t) 0, tmp_179138);
                                    bool loop_cond_179140;
                                    
                                    if (cond_179139) {
                                        bool y_179144 = slt64(tmp_179138, block_sizze_178982);
                                        bool bounds_check_179145 = cond_179139 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179138, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179141 = ((int8_t *) mem_181136)[j_179116];
                                        int64_t gt_arg1_179142 = ((int64_t *) mem_181138)[j_179116];
                                        int32_t gt_arg1_179143 = ((int32_t *) mem_181140)[j_179116];
                                        int8_t gt_arg0_179147 = ((int8_t *) mem_181136)[tmp_179138];
                                        int64_t gt_arg0_179148 = ((int64_t *) mem_181138)[tmp_179138];
                                        int32_t gt_arg0_179149 = ((int32_t *) mem_181140)[tmp_179138];
                                        bool cond_179150 = gt_arg0_179147 == gt_arg1_179141;
                                        bool defunc_0_leq_res_t_res_179151 = sle64(gt_arg0_179148, gt_arg1_179142);
                                        bool defunc_0_leq_res_179152 = sle32(gt_arg0_179149, gt_arg1_179143);
                                        bool x_179153 = cond_179150 && defunc_0_leq_res_t_res_179151;
                                        bool x_179154 = !cond_179150;
                                        bool y_179155 = defunc_0_leq_res_179152 && x_179154;
                                        bool defunc_0_leq_res_179156 = x_179153 || y_179155;
                                        bool defunc_0_lifted_gt_res_179157 = !defunc_0_leq_res_179156;
                                        
                                        loop_cond_179140 = defunc_0_lifted_gt_res_179157;
                                    } else {
                                        loop_cond_179140 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182167 = loop_cond_179140;
                                    int64_t j_tmp_182171 = tmp_179138;
                                    
                                    loop_while_179112 = loop_while_tmp_182167;
                                    j_179116 = j_tmp_182171;
                                }
                                s_179107 = loop_while_179112;
                                s_179111 = j_179116;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181117, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181123, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181140, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                    }
                    if (memblock_alloc(ctx, &mem_181217, flat_dim_178983, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181217.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint8_t *) mem_181117, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181221, bytes_181119, "mem_181221")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181221.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181225, bytes_181122, "mem_181225")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181225.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint32_t *) mem_181123, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    
                    int64_t data_179167;
                    bool data_179168;
                    int64_t data_179172;
                    int64_t loop_dz2084Uz2082U_179173;
                    bool loop_while_179174;
                    int64_t stride_179178;
                    
                    if (memblock_set(ctx, &mem_param_181229, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181232, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181235, &mem_181225, "mem_181225") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179173 = flat_dim_178983;
                    loop_while_179174 = loop_cond_179164;
                    stride_179178 = block_sizze_178982;
                    while (loop_while_179174) {
                        int64_t next_stride_179179 = mul64((int64_t) 2, stride_179178);
                        bool zzero_179180 = next_stride_179179 == (int64_t) 0;
                        bool nonzzero_179181 = !zzero_179180;
                        bool nonzzero_cert_179182;
                        
                        if (!nonzzero_179181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179183 = sdiv64(flat_dim_178983, next_stride_179179);
                        bool bounds_invalid_upwards_179184 = slt64(num_merges_179183, (int64_t) 0);
                        bool valid_179185 = !bounds_invalid_upwards_179184;
                        bool range_valid_c_179186;
                        
                        if (!valid_179185) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179183, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179188 = sub64(next_stride_179179, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179189 = sle64((int64_t) 0, m_179188);
                        bool cond_179191 = slt64(next_stride_179179, (int64_t) 10);
                        bool protect_assert_disj_179192 = nonzzero_179166 || cond_179191;
                        bool nonzzero_cert_179193;
                        
                        if (!protect_assert_disj_179192) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179194 = smod_safe64(next_stride_179179, merge_block_sizze_178988);
                        bool num_blocks_179195 = zeze_lhs_179194 == (int64_t) 0;
                        bool protect_assert_disj_179196 = cond_179191 || num_blocks_179195;
                        bool assert_c_179197;
                        
                        if (!protect_assert_disj_179196) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179198 = sdiv_safe64(next_stride_179179, merge_block_sizze_178988);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199 = add64((int64_t) 1, num_blocks_179198);
                        int64_t j_m_i_179200 = sub64(next_stride_179179, stride_179178);
                        int64_t flat_dim_179201 = merge_block_sizze_178988 * num_blocks_179198;
                        bool bounds_invalid_upwards_179202 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, (int64_t) 0);
                        bool empty_slice_179203 = j_m_i_179200 == (int64_t) 0;
                        int64_t m_179204 = sub64(j_m_i_179200, (int64_t) 1);
                        bool zzero_lte_i_179205 = sle64((int64_t) 0, stride_179178);
                        bool i_lte_j_179206 = sle64(stride_179178, next_stride_179179);
                        bool empty_slice_179207 = stride_179178 == (int64_t) 0;
                        int64_t m_179208 = sub64(stride_179178, (int64_t) 1);
                        bool bounds_invalid_upwards_179209 = slt64(num_blocks_179198, (int64_t) 0);
                        bool cond_179210 = slt64((int64_t) 0, stride_179178);
                        bool valid_179211 = !bounds_invalid_upwards_179202;
                        int64_t i_p_m_t_s_179212 = add64(stride_179178, m_179204);
                        bool zzero_leq_i_p_m_t_s_179213 = sle64((int64_t) 0, m_179208);
                        bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, next_stride_179179);
                        bool valid_179215 = !bounds_invalid_upwards_179209;
                        bool i_p_m_t_s_leq_w_179216 = slt64(m_179188, flat_dim_179201);
                        bool y_179217 = slt64((int64_t) 0, j_m_i_179200);
                        bool protect_assert_disj_179218 = cond_179191 || valid_179211;
                        bool range_valid_c_179219;
                        
                        if (!protect_assert_disj_179218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179220 = sle64((int64_t) 0, i_p_m_t_s_179212);
                        bool i_p_m_t_s_leq_w_179221 = slt64(i_p_m_t_s_179212, next_stride_179179);
                        bool y_179222 = zzero_leq_i_p_m_t_s_179213 && i_p_m_t_s_leq_w_179214;
                        bool protect_assert_disj_179223 = cond_179191 || valid_179215;
                        bool range_valid_c_179224;
                        
                        if (!protect_assert_disj_179223) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179198, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179225 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179216;
                        bool y_179226 = zzero_lte_i_179205 && i_p_m_t_s_leq_w_179221;
                        bool forwards_ok_179227 = zzero_lte_i_179205 && y_179222;
                        bool ok_or_empty_179228 = zzero_179180 || y_179225;
                        bool protect_assert_disj_179229 = cond_179210 || y_179217;
                        bool y_179230 = zzero_leq_i_p_m_t_s_179220 && y_179226;
                        bool ok_or_empty_179231 = empty_slice_179207 || forwards_ok_179227;
                        bool protect_assert_disj_179232 = cond_179191 || ok_or_empty_179228;
                        bool index_certs_179233;
                        
                        if (!protect_assert_disj_179232) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) flat_dim_179201, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179234 = !cond_179191;
                        bool protect_assert_disj_179235 = protect_assert_disj_179229 || loop_not_taken_179234;
                        bool index_certs_179236;
                        
                        if (!protect_assert_disj_179235) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179237 = i_lte_j_179206 && y_179230;
                        bool protect_assert_disj_179238 = cond_179191 || ok_or_empty_179231;
                        bool index_certs_179239;
                        
                        if (!protect_assert_disj_179238) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179240 = ok_or_empty_179231 || loop_not_taken_179234;
                        bool index_certs_179241;
                        
                        if (!protect_assert_disj_179240) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179242 = empty_slice_179203 || forwards_ok_179237;
                        bool protect_assert_disj_179243 = cond_179191 || ok_or_empty_179242;
                        bool index_certs_179244;
                        
                        if (!protect_assert_disj_179243) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179245 = loop_not_taken_179234 || ok_or_empty_179242;
                        bool index_certs_179246;
                        
                        if (!protect_assert_disj_179245) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181236 = next_stride_179179 * num_merges_179183;
                        int64_t binop_x_181238 = (int64_t) 8 * num_merges_179183;
                        int64_t bytes_181239 = next_stride_179179 * binop_x_181238;
                        int64_t binop_x_181241 = (int64_t) 4 * num_merges_179183;
                        int64_t bytes_181242 = next_stride_179179 * binop_x_181241;
                        bool i_lte_j_179190 = sle64((int64_t) 0, next_stride_179179);
                        
                        if (mem_181237_cached_sizze_182574 < bytes_181236) {
                            err = lexical_realloc(ctx, &mem_181237, &mem_181237_cached_sizze_182574, bytes_181236);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181240_cached_sizze_182575 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181240, &mem_181240_cached_sizze_182575, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181243_cached_sizze_182576 < bytes_181242) {
                            err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_182576, bytes_181242);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181256 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199;
                        int64_t binop_x_181274 = (int64_t) 8 * num_blocks_179198;
                        int64_t bytes_181275 = merge_block_sizze_178988 * binop_x_181274;
                        int64_t binop_x_181277 = (int64_t) 4 * num_blocks_179198;
                        int64_t bytes_181278 = merge_block_sizze_178988 * binop_x_181277;
                        int64_t bytes_181339 = (int64_t) 16 * stride_179178;
                        int64_t bytes_181341 = (int64_t) 8 * stride_179178;
                        
                        for (int64_t i_180410 = 0; i_180410 < num_merges_179183; i_180410++) {
                            int64_t start_179251 = mul64(next_stride_179179, i_180410);
                            int64_t j_m_i_179252 = sub64(loop_dz2084Uz2082U_179173, start_179251);
                            bool empty_slice_179253 = j_m_i_179252 == (int64_t) 0;
                            int64_t m_179254 = sub64(j_m_i_179252, (int64_t) 1);
                            int64_t i_p_m_t_s_179255 = add64(start_179251, m_179254);
                            bool zzero_leq_i_p_m_t_s_179256 = sle64((int64_t) 0, i_p_m_t_s_179255);
                            bool i_p_m_t_s_leq_w_179257 = slt64(i_p_m_t_s_179255, loop_dz2084Uz2082U_179173);
                            bool zzero_lte_i_179258 = sle64((int64_t) 0, start_179251);
                            bool i_lte_j_179259 = sle64(start_179251, loop_dz2084Uz2082U_179173);
                            bool y_179260 = i_p_m_t_s_leq_w_179257 && zzero_lte_i_179258;
                            bool y_179261 = zzero_leq_i_p_m_t_s_179256 && y_179260;
                            bool forwards_ok_179262 = i_lte_j_179259 && y_179261;
                            bool ok_or_empty_179263 = empty_slice_179253 || forwards_ok_179262;
                            bool index_certs_179264;
                            
                            if (!ok_or_empty_179263) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179251, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179173, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179265 = slt64(m_179188, j_m_i_179252);
                            bool y_179266 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179265;
                            bool forwards_ok_179267 = i_lte_j_179190 && y_179266;
                            bool ok_or_empty_179268 = zzero_179180 || forwards_ok_179267;
                            bool index_certs_179269;
                            
                            if (!ok_or_empty_179268) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) j_m_i_179252, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179191) {
                                int8_t dummy_179273;
                                int64_t dummy_179274;
                                int32_t dummy_179275;
                                
                                if (cond_179210) {
                                    int8_t head_res_179276 = ((int8_t *) mem_param_181229.mem)[start_179251];
                                    int64_t head_res_179277 = ((int64_t *) mem_param_181232.mem)[start_179251];
                                    int32_t head_res_179278 = ((int32_t *) mem_param_181235.mem)[start_179251];
                                    
                                    dummy_179273 = head_res_179276;
                                    dummy_179274 = head_res_179277;
                                    dummy_179275 = head_res_179278;
                                } else {
                                    int64_t slice_179279 = stride_179178 + start_179251;
                                    int8_t head_res_179280 = ((int8_t *) mem_param_181229.mem)[slice_179279];
                                    int64_t head_res_179281 = ((int64_t *) mem_param_181232.mem)[slice_179279];
                                    int32_t head_res_179282 = ((int32_t *) mem_param_181235.mem)[slice_179279];
                                    
                                    dummy_179273 = head_res_179280;
                                    dummy_179274 = head_res_179281;
                                    dummy_179275 = head_res_179282;
                                }
                                if (memblock_alloc(ctx, &mem_181338, next_stride_179179, "mem_181338")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182184 = 0; nest_i_182184 < next_stride_179179; nest_i_182184++) {
                                    ((int8_t *) mem_181338.mem)[nest_i_182184] = dummy_179273;
                                }
                                if (memblock_alloc(ctx, &mem_181340, bytes_181339, "mem_181340")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182185 = 0; nest_i_182185 < next_stride_179179; nest_i_182185++) {
                                    ((int64_t *) mem_181340.mem)[nest_i_182185] = dummy_179274;
                                }
                                if (memblock_alloc(ctx, &mem_181342, bytes_181341, "mem_181342")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182186 = 0; nest_i_182186 < next_stride_179179; nest_i_182186++) {
                                    ((int32_t *) mem_181342.mem)[nest_i_182186] = dummy_179275;
                                }
                                
                                int64_t data_179286;
                                int64_t i_179291 = (int64_t) 0;
                                
                                for (int64_t k_179290 = 0; k_179290 < next_stride_179179; k_179290++) {
                                    int64_t j_179295 = sub64(k_179290, i_179291);
                                    bool cond_179296 = j_179295 == j_m_i_179200;
                                    bool cond_179297;
                                    
                                    if (cond_179296) {
                                        cond_179297 = 1;
                                    } else {
                                        bool cond_179298 = slt64(i_179291, stride_179178);
                                        bool cond_f_res_179299;
                                        
                                        if (cond_179298) {
                                            bool x_179300 = sle64((int64_t) 0, j_179295);
                                            bool y_179301 = slt64(j_179295, j_m_i_179200);
                                            bool bounds_check_179302 = x_179300 && y_179301;
                                            bool index_certs_179303;
                                            
                                            if (!bounds_check_179302) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179309 = sle64((int64_t) 0, i_179291);
                                            bool bounds_check_179310 = cond_179298 && x_179309;
                                            bool index_certs_179311;
                                            
                                            if (!bounds_check_179310) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179304 = stride_179178 + j_179295;
                                            int64_t slice_179305 = start_179251 + slice_179304;
                                            int8_t leq_arg1_179306 = ((int8_t *) mem_param_181229.mem)[slice_179305];
                                            int64_t leq_arg1_179307 = ((int64_t *) mem_param_181232.mem)[slice_179305];
                                            int32_t leq_arg1_179308 = ((int32_t *) mem_param_181235.mem)[slice_179305];
                                            int64_t slice_179312 = start_179251 + i_179291;
                                            int8_t leq_arg0_179313 = ((int8_t *) mem_param_181229.mem)[slice_179312];
                                            int64_t leq_arg0_179314 = ((int64_t *) mem_param_181232.mem)[slice_179312];
                                            int32_t leq_arg0_179315 = ((int32_t *) mem_param_181235.mem)[slice_179312];
                                            bool cond_179316 = leq_arg0_179313 == leq_arg1_179306;
                                            bool defunc_0_leq_res_t_res_179317 = sle64(leq_arg0_179314, leq_arg1_179307);
                                            bool defunc_0_leq_res_179318 = sle32(leq_arg0_179315, leq_arg1_179308);
                                            bool x_179319 = cond_179316 && defunc_0_leq_res_t_res_179317;
                                            bool x_179320 = !cond_179316;
                                            bool y_179321 = defunc_0_leq_res_179318 && x_179320;
                                            bool defunc_0_leq_res_179322 = x_179319 || y_179321;
                                            
                                            cond_f_res_179299 = defunc_0_leq_res_179322;
                                        } else {
                                            cond_f_res_179299 = 0;
                                        }
                                        cond_179297 = cond_f_res_179299;
                                    }
                                    
                                    int64_t loopres_179323;
                                    int8_t loopres_179324;
                                    int64_t loopres_179325;
                                    int32_t loopres_179326;
                                    
                                    if (cond_179297) {
                                        bool x_179328 = sle64((int64_t) 0, i_179291);
                                        bool y_179329 = slt64(i_179291, stride_179178);
                                        bool bounds_check_179330 = x_179328 && y_179329;
                                        bool index_certs_179331;
                                        
                                        if (!bounds_check_179330) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179327 = add64((int64_t) 1, i_179291);
                                        int64_t slice_179332 = start_179251 + i_179291;
                                        int8_t tmp_179333 = ((int8_t *) mem_param_181229.mem)[slice_179332];
                                        int64_t tmp_179334 = ((int64_t *) mem_param_181232.mem)[slice_179332];
                                        int32_t tmp_179335 = ((int32_t *) mem_param_181235.mem)[slice_179332];
                                        
                                        loopres_179323 = tmp_179327;
                                        loopres_179324 = tmp_179333;
                                        loopres_179325 = tmp_179334;
                                        loopres_179326 = tmp_179335;
                                    } else {
                                        bool x_179336 = sle64((int64_t) 0, j_179295);
                                        bool y_179337 = slt64(j_179295, j_m_i_179200);
                                        bool bounds_check_179338 = x_179336 && y_179337;
                                        bool index_certs_179339;
                                        
                                        if (!bounds_check_179338) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179340 = stride_179178 + j_179295;
                                        int64_t slice_179341 = start_179251 + slice_179340;
                                        int8_t tmp_179342 = ((int8_t *) mem_param_181229.mem)[slice_179341];
                                        int64_t tmp_179343 = ((int64_t *) mem_param_181232.mem)[slice_179341];
                                        int32_t tmp_179344 = ((int32_t *) mem_param_181235.mem)[slice_179341];
                                        
                                        loopres_179323 = i_179291;
                                        loopres_179324 = tmp_179342;
                                        loopres_179325 = tmp_179343;
                                        loopres_179326 = tmp_179344;
                                    }
                                    ((int8_t *) mem_181338.mem)[k_179290] = loopres_179324;
                                    ((int64_t *) mem_181340.mem)[k_179290] = loopres_179325;
                                    ((int32_t *) mem_181342.mem)[k_179290] = loopres_179326;
                                    
                                    int64_t i_tmp_182187 = loopres_179323;
                                    
                                    i_179291 = i_tmp_182187;
                                }
                                data_179286 = i_179291;
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181338, "mem_181338") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181340, "mem_181340") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181342, "mem_181342") != 0)
                                    return 1;
                            } else {
                                if (mem_181257_cached_sizze_182577 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181257, &mem_181257_cached_sizze_182577, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181259_cached_sizze_182578 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181259, &mem_181259_cached_sizze_182578, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180391 = 0; i_180391 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199; i_180391++) {
                                    int64_t split_count_arg3_179352 = mul64(merge_block_sizze_178988, i_180391);
                                    int64_t defunc_0_split_count_res_179353;
                                    int64_t defunc_0_split_count_res_179354;
                                    int64_t defunc_0_split_count_res_179355;
                                    int64_t defunc_0_split_count_res_179356;
                                    int64_t defunc_0_split_count_res_179357;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_179353, &defunc_0_split_count_res_179354, &defunc_0_split_count_res_179355, &defunc_0_split_count_res_179356, &defunc_0_split_count_res_179357, (int64_t) 0, stride_179178, (int64_t) 0, j_m_i_179200, split_count_arg3_179352) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179358 = slt64((int64_t) 0, defunc_0_split_count_res_179357);
                                    bool defunc_0_split_count_res_179359;
                                    int64_t defunc_0_split_count_res_179360;
                                    int64_t defunc_0_split_count_res_179361;
                                    int64_t defunc_0_split_count_res_179362;
                                    int64_t defunc_0_split_count_res_179363;
                                    int64_t defunc_0_split_count_res_179364;
                                    bool loop_while_179365;
                                    int64_t ss_179366;
                                    int64_t ss_179367;
                                    int64_t tt_179368;
                                    int64_t tt_179369;
                                    int64_t count_179370;
                                    
                                    loop_while_179365 = loop_cond_179358;
                                    ss_179366 = defunc_0_split_count_res_179353;
                                    ss_179367 = defunc_0_split_count_res_179354;
                                    tt_179368 = defunc_0_split_count_res_179355;
                                    tt_179369 = defunc_0_split_count_res_179356;
                                    count_179370 = defunc_0_split_count_res_179357;
                                    while (loop_while_179365) {
                                        int64_t zlze_lhs_179371 = sub64(ss_179367, ss_179366);
                                        bool cond_179372 = sle64(zlze_lhs_179371, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179373;
                                        int64_t defunc_0_lifted_step_res_179374;
                                        int64_t defunc_0_lifted_step_res_179375;
                                        int64_t defunc_0_lifted_step_res_179376;
                                        
                                        if (cond_179372) {
                                            int64_t tmp_179377 = add64(tt_179368, count_179370);
                                            
                                            defunc_0_lifted_step_res_179373 = ss_179366;
                                            defunc_0_lifted_step_res_179374 = tmp_179377;
                                            defunc_0_lifted_step_res_179375 = tt_179369;
                                            defunc_0_lifted_step_res_179376 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179378 = sub64(tt_179369, tt_179368);
                                            bool cond_179379 = sle64(zlze_lhs_179378, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179380;
                                            int64_t defunc_0_lifted_step_res_f_res_179381;
                                            int64_t defunc_0_lifted_step_res_f_res_179382;
                                            int64_t defunc_0_lifted_step_res_f_res_179383;
                                            
                                            if (cond_179379) {
                                                int64_t tmp_179384 = add64(ss_179366, count_179370);
                                                
                                                defunc_0_lifted_step_res_f_res_179380 = tmp_179384;
                                                defunc_0_lifted_step_res_f_res_179381 = tt_179368;
                                                defunc_0_lifted_step_res_f_res_179382 = tt_179369;
                                                defunc_0_lifted_step_res_f_res_179383 = (int64_t) 0;
                                            } else {
                                                bool cond_179385 = count_179370 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179386;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179387;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179388;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179389;
                                                
                                                if (cond_179385) {
                                                    bool x_179390 = sle64((int64_t) 0, ss_179366);
                                                    bool y_179391 = slt64(ss_179366, stride_179178);
                                                    bool bounds_check_179392 = x_179390 && y_179391;
                                                    bool index_certs_179393;
                                                    
                                                    if (!bounds_check_179392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179366, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179398 = sle64((int64_t) 0, tt_179368);
                                                    bool y_179399 = slt64(tt_179368, j_m_i_179200);
                                                    bool bounds_check_179400 = x_179398 && y_179399;
                                                    bool index_certs_179401;
                                                    
                                                    if (!bounds_check_179400) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179368, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179394 = start_179251 + ss_179366;
                                                    int8_t leq_arg1_179395 = ((int8_t *) mem_param_181229.mem)[slice_179394];
                                                    int64_t leq_arg1_179396 = ((int64_t *) mem_param_181232.mem)[slice_179394];
                                                    int32_t leq_arg1_179397 = ((int32_t *) mem_param_181235.mem)[slice_179394];
                                                    int64_t slice_179402 = stride_179178 + tt_179368;
                                                    int64_t slice_179403 = start_179251 + slice_179402;
                                                    int8_t leq_arg0_179404 = ((int8_t *) mem_param_181229.mem)[slice_179403];
                                                    int64_t leq_arg0_179405 = ((int64_t *) mem_param_181232.mem)[slice_179403];
                                                    int32_t leq_arg0_179406 = ((int32_t *) mem_param_181235.mem)[slice_179403];
                                                    bool cond_179407 = leq_arg0_179404 == leq_arg1_179395;
                                                    bool defunc_0_leq_res_t_res_179408 = sle64(leq_arg0_179405, leq_arg1_179396);
                                                    bool defunc_0_leq_res_179409 = sle32(leq_arg0_179406, leq_arg1_179397);
                                                    bool x_179410 = cond_179407 && defunc_0_leq_res_t_res_179408;
                                                    bool x_179411 = !cond_179407;
                                                    bool y_179412 = defunc_0_leq_res_179409 && x_179411;
                                                    bool defunc_0_leq_res_179413 = x_179410 || y_179412;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    
                                                    if (defunc_0_leq_res_179413) {
                                                        int64_t tmp_179416 = add64((int64_t) 1, tt_179368);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = ss_179366;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tmp_179416;
                                                    } else {
                                                        int64_t tmp_179417 = add64((int64_t) 1, ss_179366);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = tmp_179417;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tt_179368;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = tt_179369;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179418 = sdiv64(count_179370, (int64_t) 2);
                                                    int64_t n_179419 = sub64(count_179370, m_179418);
                                                    bool cond_179420 = n_179419 == (int64_t) 0;
                                                    int64_t zgze_lhs_179421 = add64(ss_179366, m_179418);
                                                    bool cond_f_res_179422 = sle64(ss_179367, zgze_lhs_179421);
                                                    bool x_179423 = !cond_179420;
                                                    bool y_179424 = cond_f_res_179422 && x_179423;
                                                    bool cond_179425 = cond_179420 || y_179424;
                                                    bool leq_y_x_179426;
                                                    
                                                    if (cond_179425) {
                                                        leq_y_x_179426 = 1;
                                                    } else {
                                                        bool x_179427 = sle64((int64_t) 0, zgze_lhs_179421);
                                                        bool y_179428 = slt64(zgze_lhs_179421, stride_179178);
                                                        bool bounds_check_179429 = x_179427 && y_179428;
                                                        bool index_certs_179430;
                                                        
                                                        if (!bounds_check_179429) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179421, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179435 = add64(tt_179368, n_179419);
                                                        int64_t leq_arg0_179436 = sub64(zm_lhs_179435, (int64_t) 1);
                                                        bool x_179437 = sle64((int64_t) 0, leq_arg0_179436);
                                                        bool y_179438 = slt64(leq_arg0_179436, j_m_i_179200);
                                                        bool bounds_check_179439 = x_179437 && y_179438;
                                                        bool index_certs_179440;
                                                        
                                                        if (!bounds_check_179439) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179436, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179431 = start_179251 + zgze_lhs_179421;
                                                        int8_t leq_arg1_179432 = ((int8_t *) mem_param_181229.mem)[slice_179431];
                                                        int64_t leq_arg1_179433 = ((int64_t *) mem_param_181232.mem)[slice_179431];
                                                        int32_t leq_arg1_179434 = ((int32_t *) mem_param_181235.mem)[slice_179431];
                                                        int64_t slice_179441 = stride_179178 + leq_arg0_179436;
                                                        int64_t slice_179442 = start_179251 + slice_179441;
                                                        int8_t leq_arg0_179443 = ((int8_t *) mem_param_181229.mem)[slice_179442];
                                                        int64_t leq_arg0_179444 = ((int64_t *) mem_param_181232.mem)[slice_179442];
                                                        int32_t leq_arg0_179445 = ((int32_t *) mem_param_181235.mem)[slice_179442];
                                                        bool cond_179446 = leq_arg0_179443 == leq_arg1_179432;
                                                        bool defunc_0_leq_res_t_res_179447 = sle64(leq_arg0_179444, leq_arg1_179433);
                                                        bool defunc_0_leq_res_179448 = sle32(leq_arg0_179445, leq_arg1_179434);
                                                        bool x_179449 = cond_179446 && defunc_0_leq_res_t_res_179447;
                                                        bool x_179450 = !cond_179446;
                                                        bool y_179451 = defunc_0_leq_res_179448 && x_179450;
                                                        bool defunc_0_leq_res_179452 = x_179449 || y_179451;
                                                        
                                                        leq_y_x_179426 = defunc_0_leq_res_179452;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                    
                                                    if (leq_y_x_179426) {
                                                        int64_t tmp_179456 = add64(tt_179368, n_179419);
                                                        int64_t tmp_179457 = sub64(count_179370, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tmp_179456;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tt_179369;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = tmp_179457;
                                                    } else {
                                                        int64_t tmp_179458 = add64(tt_179368, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tt_179368;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tmp_179458;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = count_179370;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = ss_179366;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                }
                                                defunc_0_lifted_step_res_f_res_179380 = defunc_0_lifted_step_res_f_res_f_res_179386;
                                                defunc_0_lifted_step_res_f_res_179381 = defunc_0_lifted_step_res_f_res_f_res_179387;
                                                defunc_0_lifted_step_res_f_res_179382 = defunc_0_lifted_step_res_f_res_f_res_179388;
                                                defunc_0_lifted_step_res_f_res_179383 = defunc_0_lifted_step_res_f_res_f_res_179389;
                                            }
                                            defunc_0_lifted_step_res_179373 = defunc_0_lifted_step_res_f_res_179380;
                                            defunc_0_lifted_step_res_179374 = defunc_0_lifted_step_res_f_res_179381;
                                            defunc_0_lifted_step_res_179375 = defunc_0_lifted_step_res_f_res_179382;
                                            defunc_0_lifted_step_res_179376 = defunc_0_lifted_step_res_f_res_179383;
                                        }
                                        
                                        int64_t loopres_179459;
                                        int64_t loopres_179460;
                                        int64_t loopres_179461;
                                        int64_t loopres_179462;
                                        int64_t loopres_179463;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_179459, &loopres_179460, &loopres_179461, &loopres_179462, &loopres_179463, defunc_0_lifted_step_res_179373, ss_179367, defunc_0_lifted_step_res_179374, defunc_0_lifted_step_res_179375, defunc_0_lifted_step_res_179376) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179464 = slt64((int64_t) 0, loopres_179463);
                                        bool loop_while_tmp_182193 = loop_cond_179464;
                                        int64_t ss_tmp_182194 = loopres_179459;
                                        int64_t ss_tmp_182195 = loopres_179460;
                                        int64_t tt_tmp_182196 = loopres_179461;
                                        int64_t tt_tmp_182197 = loopres_179462;
                                        int64_t count_tmp_182198 = loopres_179463;
                                        
                                        loop_while_179365 = loop_while_tmp_182193;
                                        ss_179366 = ss_tmp_182194;
                                        ss_179367 = ss_tmp_182195;
                                        tt_179368 = tt_tmp_182196;
                                        tt_179369 = tt_tmp_182197;
                                        count_179370 = count_tmp_182198;
                                    }
                                    defunc_0_split_count_res_179359 = loop_while_179365;
                                    defunc_0_split_count_res_179360 = ss_179366;
                                    defunc_0_split_count_res_179361 = ss_179367;
                                    defunc_0_split_count_res_179362 = tt_179368;
                                    defunc_0_split_count_res_179363 = tt_179369;
                                    defunc_0_split_count_res_179364 = count_179370;
                                    ((int64_t *) mem_181257)[i_180391] = defunc_0_split_count_res_179360;
                                    ((int64_t *) mem_181259)[i_180391] = defunc_0_split_count_res_179362;
                                }
                                if (mem_181273_cached_sizze_182579 < flat_dim_179201) {
                                    err = lexical_realloc(ctx, &mem_181273, &mem_181273_cached_sizze_182579, flat_dim_179201);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181276_cached_sizze_182580 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181276, &mem_181276_cached_sizze_182580, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181279_cached_sizze_182581 < bytes_181278) {
                                    err = lexical_realloc(ctx, &mem_181279, &mem_181279_cached_sizze_182581, bytes_181278);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180400 = 0; i_180400 < num_blocks_179198; i_180400++) {
                                    bool y_179473 = slt64(i_180400, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool index_certs_179475;
                                    
                                    if (!y_179473) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180400, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179476 = ((int64_t *) mem_181257)[i_180400];
                                    int64_t defunc_0_f_res_179477 = ((int64_t *) mem_181259)[i_180400];
                                    int64_t tmp_179478 = add64((int64_t) 1, i_180400);
                                    bool x_179479 = sle64((int64_t) 0, tmp_179478);
                                    bool y_179480 = slt64(tmp_179478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool bounds_check_179481 = x_179479 && y_179480;
                                    bool index_certs_179482;
                                    
                                    if (!bounds_check_179481) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179478, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179483 = ((int64_t *) mem_181257)[tmp_179478];
                                    int64_t defunc_0_f_res_179484 = ((int64_t *) mem_181259)[tmp_179478];
                                    int64_t merge_sequential_arg2_179485 = add64(stride_179178, defunc_0_f_res_179477);
                                    int64_t merge_sequential_arg2_179486 = add64(stride_179178, defunc_0_f_res_179484);
                                    int64_t j_m_i_179487 = sub64(merge_sequential_arg2_179486, merge_sequential_arg2_179485);
                                    bool empty_slice_179488 = j_m_i_179487 == (int64_t) 0;
                                    int64_t m_179489 = sub64(j_m_i_179487, (int64_t) 1);
                                    int64_t i_p_m_t_s_179490 = add64(merge_sequential_arg2_179485, m_179489);
                                    bool zzero_leq_i_p_m_t_s_179491 = sle64((int64_t) 0, i_p_m_t_s_179490);
                                    bool i_p_m_t_s_leq_w_179492 = slt64(i_p_m_t_s_179490, next_stride_179179);
                                    bool zzero_lte_i_179493 = sle64((int64_t) 0, merge_sequential_arg2_179485);
                                    bool i_lte_j_179494 = sle64(merge_sequential_arg2_179485, merge_sequential_arg2_179486);
                                    bool y_179495 = i_p_m_t_s_leq_w_179492 && zzero_lte_i_179493;
                                    bool y_179496 = zzero_leq_i_p_m_t_s_179491 && y_179495;
                                    bool forwards_ok_179497 = i_lte_j_179494 && y_179496;
                                    bool ok_or_empty_179498 = empty_slice_179488 || forwards_ok_179497;
                                    bool index_certs_179499;
                                    
                                    if (!ok_or_empty_179498) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179485, ":", (long long) merge_sequential_arg2_179486, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179500 = sub64(defunc_0_f_res_179483, defunc_0_f_res_179476);
                                    bool empty_slice_179501 = j_m_i_179500 == (int64_t) 0;
                                    int64_t m_179502 = sub64(j_m_i_179500, (int64_t) 1);
                                    int64_t i_p_m_t_s_179503 = add64(defunc_0_f_res_179476, m_179502);
                                    bool zzero_leq_i_p_m_t_s_179504 = sle64((int64_t) 0, i_p_m_t_s_179503);
                                    bool i_p_m_t_s_leq_w_179505 = slt64(i_p_m_t_s_179503, next_stride_179179);
                                    bool zzero_lte_i_179506 = sle64((int64_t) 0, defunc_0_f_res_179476);
                                    bool i_lte_j_179507 = sle64(defunc_0_f_res_179476, defunc_0_f_res_179483);
                                    bool y_179508 = i_p_m_t_s_leq_w_179505 && zzero_lte_i_179506;
                                    bool y_179509 = zzero_leq_i_p_m_t_s_179504 && y_179508;
                                    bool forwards_ok_179510 = i_lte_j_179507 && y_179509;
                                    bool ok_or_empty_179511 = empty_slice_179501 || forwards_ok_179510;
                                    bool index_certs_179512;
                                    
                                    if (!ok_or_empty_179511) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179476, ":", (long long) defunc_0_f_res_179483, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179513 = slt64((int64_t) 0, j_m_i_179500);
                                    int8_t dummy_179514;
                                    int64_t dummy_179515;
                                    int32_t dummy_179516;
                                    
                                    if (cond_179513) {
                                        bool index_certs_179517;
                                        
                                        if (!cond_179513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179518 = start_179251 + defunc_0_f_res_179476;
                                        int8_t head_res_179519 = ((int8_t *) mem_param_181229.mem)[slice_179518];
                                        int64_t head_res_179520 = ((int64_t *) mem_param_181232.mem)[slice_179518];
                                        int32_t head_res_179521 = ((int32_t *) mem_param_181235.mem)[slice_179518];
                                        
                                        dummy_179514 = head_res_179519;
                                        dummy_179515 = head_res_179520;
                                        dummy_179516 = head_res_179521;
                                    } else {
                                        bool y_179522 = slt64((int64_t) 0, j_m_i_179487);
                                        bool index_certs_179523;
                                        
                                        if (!y_179522) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179524 = start_179251 + merge_sequential_arg2_179485;
                                        int8_t head_res_179525 = ((int8_t *) mem_param_181229.mem)[slice_179524];
                                        int64_t head_res_179526 = ((int64_t *) mem_param_181232.mem)[slice_179524];
                                        int32_t head_res_179527 = ((int32_t *) mem_param_181235.mem)[slice_179524];
                                        
                                        dummy_179514 = head_res_179525;
                                        dummy_179515 = head_res_179526;
                                        dummy_179516 = head_res_179527;
                                    }
                                    for (int64_t nest_i_182202 = 0; nest_i_182202 < merge_block_sizze_178988; nest_i_182202++) {
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + nest_i_182202] = dummy_179514;
                                    }
                                    for (int64_t nest_i_182203 = 0; nest_i_182203 < merge_block_sizze_178988; nest_i_182203++) {
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + nest_i_182203] = dummy_179515;
                                    }
                                    for (int64_t nest_i_182204 = 0; nest_i_182204 < merge_block_sizze_178988; nest_i_182204++) {
                                        ((int32_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + nest_i_182204] = dummy_179516;
                                    }
                                    
                                    int64_t data_179531;
                                    int64_t i_179536 = (int64_t) 0;
                                    
                                    for (int64_t k_179535 = 0; k_179535 < merge_block_sizze_178988; k_179535++) {
                                        int64_t j_179540 = sub64(k_179535, i_179536);
                                        bool cond_179541 = j_179540 == j_m_i_179487;
                                        bool cond_179542;
                                        
                                        if (cond_179541) {
                                            cond_179542 = 1;
                                        } else {
                                            bool cond_179543 = slt64(i_179536, j_m_i_179500);
                                            bool cond_f_res_179544;
                                            
                                            if (cond_179543) {
                                                bool x_179545 = sle64((int64_t) 0, j_179540);
                                                bool y_179546 = slt64(j_179540, j_m_i_179487);
                                                bool bounds_check_179547 = x_179545 && y_179546;
                                                bool index_certs_179548;
                                                
                                                if (!bounds_check_179547) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179554 = sle64((int64_t) 0, i_179536);
                                                bool bounds_check_179555 = cond_179543 && x_179554;
                                                bool index_certs_179556;
                                                
                                                if (!bounds_check_179555) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179549 = merge_sequential_arg2_179485 + j_179540;
                                                int64_t slice_179550 = start_179251 + slice_179549;
                                                int8_t leq_arg1_179551 = ((int8_t *) mem_param_181229.mem)[slice_179550];
                                                int64_t leq_arg1_179552 = ((int64_t *) mem_param_181232.mem)[slice_179550];
                                                int32_t leq_arg1_179553 = ((int32_t *) mem_param_181235.mem)[slice_179550];
                                                int64_t slice_179557 = defunc_0_f_res_179476 + i_179536;
                                                int64_t slice_179558 = start_179251 + slice_179557;
                                                int8_t leq_arg0_179559 = ((int8_t *) mem_param_181229.mem)[slice_179558];
                                                int64_t leq_arg0_179560 = ((int64_t *) mem_param_181232.mem)[slice_179558];
                                                int32_t leq_arg0_179561 = ((int32_t *) mem_param_181235.mem)[slice_179558];
                                                bool cond_179562 = leq_arg0_179559 == leq_arg1_179551;
                                                bool defunc_0_leq_res_t_res_179563 = sle64(leq_arg0_179560, leq_arg1_179552);
                                                bool defunc_0_leq_res_179564 = sle32(leq_arg0_179561, leq_arg1_179553);
                                                bool x_179565 = cond_179562 && defunc_0_leq_res_t_res_179563;
                                                bool x_179566 = !cond_179562;
                                                bool y_179567 = defunc_0_leq_res_179564 && x_179566;
                                                bool defunc_0_leq_res_179568 = x_179565 || y_179567;
                                                
                                                cond_f_res_179544 = defunc_0_leq_res_179568;
                                            } else {
                                                cond_f_res_179544 = 0;
                                            }
                                            cond_179542 = cond_f_res_179544;
                                        }
                                        
                                        int64_t loopres_179569;
                                        int8_t loopres_179570;
                                        int64_t loopres_179571;
                                        int32_t loopres_179572;
                                        
                                        if (cond_179542) {
                                            bool x_179574 = sle64((int64_t) 0, i_179536);
                                            bool y_179575 = slt64(i_179536, j_m_i_179500);
                                            bool bounds_check_179576 = x_179574 && y_179575;
                                            bool index_certs_179577;
                                            
                                            if (!bounds_check_179576) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179573 = add64((int64_t) 1, i_179536);
                                            int64_t slice_179578 = defunc_0_f_res_179476 + i_179536;
                                            int64_t slice_179579 = start_179251 + slice_179578;
                                            int8_t tmp_179580 = ((int8_t *) mem_param_181229.mem)[slice_179579];
                                            int64_t tmp_179581 = ((int64_t *) mem_param_181232.mem)[slice_179579];
                                            int32_t tmp_179582 = ((int32_t *) mem_param_181235.mem)[slice_179579];
                                            
                                            loopres_179569 = tmp_179573;
                                            loopres_179570 = tmp_179580;
                                            loopres_179571 = tmp_179581;
                                            loopres_179572 = tmp_179582;
                                        } else {
                                            bool x_179583 = sle64((int64_t) 0, j_179540);
                                            bool y_179584 = slt64(j_179540, j_m_i_179487);
                                            bool bounds_check_179585 = x_179583 && y_179584;
                                            bool index_certs_179586;
                                            
                                            if (!bounds_check_179585) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179587 = merge_sequential_arg2_179485 + j_179540;
                                            int64_t slice_179588 = start_179251 + slice_179587;
                                            int8_t tmp_179589 = ((int8_t *) mem_param_181229.mem)[slice_179588];
                                            int64_t tmp_179590 = ((int64_t *) mem_param_181232.mem)[slice_179588];
                                            int32_t tmp_179591 = ((int32_t *) mem_param_181235.mem)[slice_179588];
                                            
                                            loopres_179569 = i_179536;
                                            loopres_179570 = tmp_179589;
                                            loopres_179571 = tmp_179590;
                                            loopres_179572 = tmp_179591;
                                        }
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179570;
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179571;
                                        ((int32_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179572;
                                        
                                        int64_t i_tmp_182205 = loopres_179569;
                                        
                                        i_179536 = i_tmp_182205;
                                    }
                                    data_179531 = i_179536;
                                }
                                if (memblock_alloc(ctx, &mem_181328, flat_dim_179201, "mem_181328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181328.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint8_t *) mem_181273, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181332, bytes_181275, "mem_181332")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181332.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181276, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181336, bytes_181278, "mem_181336")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181336.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint32_t *) mem_181279, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181328, "mem_181328") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181332, "mem_181332") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181336, "mem_181336") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181237, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181240, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181366.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181243, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181363.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181383, bytes_181236, "mem_181383")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181383.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint8_t *) mem_181237, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181387, bytes_181239, "mem_181387")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181387.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181240, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181391, bytes_181242, "mem_181391")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181391.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint32_t *) mem_181243, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        
                        bool loop_cond_179611 = slt64(next_stride_179179, flat_dim_178983);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182172, &mem_181383, "mem_181383") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182173, &mem_181387, "mem_181387") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182174, &mem_181391, "mem_181391") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182175 = bytes_181236;
                        bool loop_while_tmp_182176 = loop_cond_179611;
                        int64_t stride_tmp_182180 = next_stride_179179;
                        
                        if (memblock_set(ctx, &mem_param_181229, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181232, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181235, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179173 = loop_dz2084Uz2082U_tmp_182175;
                        loop_while_179174 = loop_while_tmp_182176;
                        stride_179178 = stride_tmp_182180;
                    }
                    if (memblock_set(ctx, &ext_mem_181401, &mem_param_181229, "mem_param_181229") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_param_181232, "mem_param_181232") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181399, &mem_param_181235, "mem_param_181235") != 0)
                        return 1;
                    data_179167 = loop_dz2084Uz2082U_179173;
                    data_179168 = loop_while_179174;
                    data_179172 = stride_179178;
                    if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
                        return 1;
                    
                    bool empty_slice_179612 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179613 = sle64((int64_t) 0, zs_lhs_178967);
                    bool i_p_m_t_s_leq_w_179614 = slt64(zs_lhs_178967, data_179167);
                    bool y_179615 = zzero_leq_i_p_m_t_s_179613 && i_p_m_t_s_leq_w_179614;
                    bool ok_or_empty_179616 = empty_slice_179612 || y_179615;
                    bool index_certs_179617;
                    
                    if (!ok_or_empty_179616) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] out of bounds for array of shape [", (long long) data_179167, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181410, &ext_mem_181401, "ext_mem_181401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &ext_mem_181400, "ext_mem_181400") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &ext_mem_181399, "ext_mem_181399") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181077, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181410.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181080, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181407.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181083, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
                    return 1;
                for (int64_t i_180416 = 0; i_180416 < perThread_175244; i_180416++) {
                    int64_t lifted_lambda_res_179639 = add64(zm_rhs_178923, i_180416);
                    
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + i_180416] = lifted_lambda_res_179639;
                }
                
                bool cond_179641 = card_178924 == zp_rhs_175243;
                
                if (cond_179641) {
                    bool y_179643 = slt64(card_178924, perThread_175244);
                    bool index_certs_179644;
                    
                    if (!y_179643) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + card_178924] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181436, bytes_180731, "mem_181436")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182210 = 0; nest_i_182210 < window_sizze_131373; nest_i_182210++) {
                ((int32_t *) mem_181436.mem)[nest_i_182210] = 0;
            }
            if (memblock_alloc(ctx, &mem_181438, bytes_180729, "mem_181438")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182211 = 0; nest_i_182211 < window_sizze_131373; nest_i_182211++) {
                ((int64_t *) mem_181438.mem)[nest_i_182211] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181439, window_sizze_131373, "mem_181439")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182212 = 0; nest_i_182212 < window_sizze_131373; nest_i_182212++) {
                ((int8_t *) mem_181439.mem)[nest_i_182212] = (int8_t) -1;
            }
            for (int64_t write_iter_180431 = 0; write_iter_180431 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245; write_iter_180431++) {
                int64_t new_index_180583 = squot64(write_iter_180431, perThread_175244);
                int64_t binop_y_180585 = perThread_175244 * new_index_180583;
                int64_t new_index_180586 = write_iter_180431 - binop_y_180585;
                int64_t write_iv_180435 = ((int64_t *) mem_181075)[new_index_180583 * perThread_175244 + new_index_180586];
                int8_t write_iv_180436 = ((int8_t *) mem_181077)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180437 = ((int64_t *) mem_181080)[new_index_180583 * perThread_175244 + new_index_180586];
                int32_t write_iv_180438 = ((int32_t *) mem_181083)[new_index_180583 * perThread_175244 + new_index_180586];
                
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_131373)) {
                    ((int8_t *) mem_181439.mem)[write_iv_180435] = write_iv_180436;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_131373)) {
                    ((int64_t *) mem_181438.mem)[write_iv_180435] = write_iv_180437;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_131373)) {
                    ((int32_t *) mem_181436.mem)[write_iv_180435] = write_iv_180438;
                }
            }
            
            int64_t index_concat_branch_179667;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179668 = ((int64_t *) mem_181058)[index_concat_i_178008];
                
                index_concat_branch_179667 = index_concat_179668;
            } else {
                index_concat_branch_179667 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179669;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179670 = ((int64_t *) mem_181060)[index_concat_i_178008];
                
                index_concat_branch_179669 = index_concat_179670;
            } else {
                index_concat_branch_179669 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_181439, "mem_181439") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_181438, "mem_181438") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_181436, "mem_181436") != 0)
                return 1;
            loopres_175234 = index_concat_branch_179667;
            loopres_175235 = index_concat_branch_179669;
        } else {
            int32_t leq_lhs_176225 = ((int32_t *) a_list_mem_180696.mem)[p_175206];
            int32_t leq_rhs_176228 = ((int32_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_176229 = sle32(leq_lhs_176225, leq_rhs_176228);
            int32_t lowest_176230;
            
            if (defunc_0_leq_res_176229) {
                bool index_certs_179671;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_lhs_176225;
            } else {
                bool index_certs_176235;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_rhs_176228;
            }
            if (mem_180713_cached_sizze_182546 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182546, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180715_cached_sizze_182547 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182547, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180446 = 0; i_180446 < threads_131374; i_180446++) {
                int64_t index_primexp_180662 = add64((int64_t) 1, i_180446);
                int64_t zs_lhs_176251 = mul64(zt_rhs_176244, index_primexp_180662);
                int64_t index_176252 = sdiv64(zs_lhs_176251, partitionFunc_arg0_176221);
                bool cond_176253 = slt64(window_sizze_131373, index_176252);
                int64_t loop_over_176254;
                
                if (cond_176253) {
                    loop_over_176254 = window_sizze_131373;
                } else {
                    loop_over_176254 = index_176252;
                }
                
                int64_t loop_over_176255;
                
                if (cond_176253) {
                    int64_t loop_over_t_res_179672 = sub64(index_176252, window_sizze_131373);
                    
                    loop_over_176255 = loop_over_t_res_179672;
                } else {
                    loop_over_176255 = (int64_t) 0;
                }
                
                int64_t loop_over_176257;
                
                if (cond_176253) {
                    int64_t zm_lhs_179673 = sub64(index_176252, window_sizze_131373);
                    int64_t loop_over_t_res_179674 = sub64(zm_lhs_179673, (int64_t) 1);
                    
                    loop_over_176257 = loop_over_t_res_179674;
                } else {
                    loop_over_176257 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176260;
                int64_t defunc_0_f_res_176261;
                int64_t defunc_0_f_res_176262;
                int64_t defunc_0_f_res_176263;
                bool loop_while_176264;
                int64_t p_176265;
                int64_t p_176266;
                int64_t p_176267;
                
                loop_while_176264 = 1;
                p_176265 = loop_over_176257;
                p_176266 = loop_over_176254;
                p_176267 = loop_over_176255;
                while (loop_while_176264) {
                    int64_t zs_lhs_176268 = sub64(p_176266, p_176265);
                    int64_t offset_176269 = sdiv64(zs_lhs_176268, (int64_t) 2);
                    int64_t ai_176270 = sub64(p_176266, offset_176269);
                    int64_t max_arg1_176271 = add64(p_176267, offset_176269);
                    int64_t max_res_176272 = smax64((int64_t) 0, max_arg1_176271);
                    bool cond_176273 = slt64((int64_t) 0, max_res_176272);
                    int32_t b_prev_176274;
                    
                    if (cond_176273) {
                        int64_t tmp_179675 = sub64(max_res_176272, (int64_t) 1);
                        bool x_179676 = sle64((int64_t) 0, tmp_179675);
                        bool y_179677 = slt64(tmp_179675, window_sizze_131373);
                        bool bounds_check_179678 = x_179676 && y_179677;
                        bool index_certs_179679;
                        
                        if (!bounds_check_179678) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179675, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179680 = p_175207 + tmp_179675;
                        int32_t b_prev_t_res_179681 = ((int32_t *) b_list_mem_180697.mem)[slice_179680];
                        
                        b_prev_176274 = b_prev_t_res_179681;
                    } else {
                        b_prev_176274 = lowest_176230;
                    }
                    
                    bool cond_176281 = sle64(ai_176270, (int64_t) 0);
                    int64_t loopres_176282;
                    int64_t loopres_176283;
                    int64_t loopres_176284;
                    bool loopres_176285;
                    
                    if (cond_176281) {
                        loopres_176282 = p_176265;
                        loopres_176283 = (int64_t) 0;
                        loopres_176284 = max_res_176272;
                        loopres_176285 = 0;
                    } else {
                        bool cond_176286 = sle64(window_sizze_131373, max_res_176272);
                        int64_t loopres_f_res_176287;
                        int64_t loopres_f_res_176288;
                        int64_t loopres_f_res_176289;
                        bool loopres_f_res_176290;
                        
                        if (cond_176286) {
                            int64_t min_res_179683 = smin64(m_175195, ai_176270);
                            bool x_179684 = sle64((int64_t) 0, m_175195);
                            bool y_179685 = slt64(m_175195, window_sizze_131373);
                            bool bounds_check_179686 = x_179684 && y_179685;
                            bool index_certs_179687;
                            
                            if (!bounds_check_179686) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179690 = sle64((int64_t) 0, min_res_179683);
                            bool y_179691 = slt64(min_res_179683, window_sizze_131373);
                            bool bounds_check_179692 = x_179690 && y_179691;
                            bool index_certs_179693;
                            
                            if (!bounds_check_179692) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179683, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_179689 = ((int32_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_179694 = p_175206 + min_res_179683;
                            int32_t leq_rhs_179695 = ((int32_t *) a_list_mem_180696.mem)[slice_179694];
                            bool defunc_0_leq_res_179696 = sle32(leq_lhs_179689, leq_rhs_179695);
                            int64_t loopres_f_res_t_res_179697;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179697 = ai_176270;
                            } else {
                                loopres_f_res_t_res_179697 = p_176266;
                            }
                            
                            bool x_179698 = !defunc_0_leq_res_179696;
                            int64_t loopres_f_res_t_res_179699;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179699 = window_sizze_131373;
                            } else {
                                int64_t tmp_179700 = sub64(m_175195, offset_176269);
                                
                                loopres_f_res_t_res_179699 = tmp_179700;
                            }
                            loopres_f_res_176287 = p_176265;
                            loopres_f_res_176288 = loopres_f_res_t_res_179697;
                            loopres_f_res_176289 = loopres_f_res_t_res_179699;
                            loopres_f_res_176290 = x_179698;
                        } else {
                            bool cond_176308 = sle64(window_sizze_131373, ai_176270);
                            int64_t loopres_f_res_f_res_176309;
                            int64_t loopres_f_res_f_res_176310;
                            int64_t loopres_f_res_f_res_176311;
                            bool loopres_f_res_f_res_176312;
                            
                            if (cond_176308) {
                                int64_t min_res_179702 = smin64(m_175195, max_res_176272);
                                bool x_179703 = sle64((int64_t) 0, m_175195);
                                bool y_179704 = slt64(m_175195, window_sizze_131373);
                                bool bounds_check_179705 = x_179703 && y_179704;
                                bool index_certs_179706;
                                
                                if (!bounds_check_179705) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179709 = sle64((int64_t) 0, min_res_179702);
                                bool y_179710 = slt64(min_res_179702, window_sizze_131373);
                                bool bounds_check_179711 = x_179709 && y_179710;
                                bool index_certs_179712;
                                
                                if (!bounds_check_179711) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179702, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_179708 = ((int32_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_179713 = p_175207 + min_res_179702;
                                int32_t leq_rhs_179714 = ((int32_t *) b_list_mem_180697.mem)[slice_179713];
                                bool defunc_0_leq_res_179715 = sle32(leq_lhs_179708, leq_rhs_179714);
                                int64_t loopres_f_res_f_res_t_res_179716;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179716 = max_res_176272;
                                } else {
                                    loopres_f_res_f_res_t_res_179716 = p_176267;
                                }
                                
                                bool x_179717 = !defunc_0_leq_res_179715;
                                int64_t loopres_f_res_f_res_t_res_179718;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179718 = window_sizze_131373;
                                } else {
                                    loopres_f_res_f_res_t_res_179718 = m_175195;
                                }
                                loopres_f_res_f_res_176309 = p_176265;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_t_res_179718;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_t_res_179716;
                                loopres_f_res_f_res_176312 = x_179717;
                            } else {
                                bool cond_176329 = sle64(p_176266, p_176265);
                                int64_t loopres_f_res_f_res_f_res_176330;
                                int64_t loopres_f_res_f_res_f_res_176331;
                                int64_t loopres_f_res_f_res_f_res_176332;
                                bool loopres_f_res_f_res_f_res_176333;
                                
                                if (cond_176329) {
                                    bool cond_179757 = slt64(ai_176270, window_sizze_131373);
                                    int64_t ai_179758;
                                    
                                    if (cond_179757) {
                                        ai_179758 = ai_176270;
                                    } else {
                                        ai_179758 = m_175195;
                                    }
                                    
                                    bool x_179771 = sle64((int64_t) 0, ai_179758);
                                    bool y_179772 = slt64(ai_179758, window_sizze_131373);
                                    bool bounds_check_179773 = x_179771 && y_179772;
                                    bool index_certs_179774;
                                    
                                    if (!bounds_check_179773) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179758, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179760;
                                    
                                    if (cond_176273) {
                                        int64_t tmp_179761 = sub64(max_res_176272, (int64_t) 1);
                                        bool x_179762 = sle64((int64_t) 0, tmp_179761);
                                        bool y_179763 = slt64(tmp_179761, window_sizze_131373);
                                        bool bounds_check_179764 = x_179762 && y_179763;
                                        bool index_certs_179765;
                                        
                                        if (!bounds_check_179764) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179761, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179766 = p_175207 + tmp_179761;
                                        int32_t b_prev_t_res_179767 = ((int32_t *) b_list_mem_180697.mem)[slice_179766];
                                        
                                        b_prev_179760 = b_prev_t_res_179767;
                                    } else {
                                        bool index_certs_179769;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179760 = leq_rhs_176228;
                                    }
                                    
                                    int64_t slice_179775 = p_175206 + ai_179758;
                                    int32_t gt_lhs_179776 = ((int32_t *) a_list_mem_180696.mem)[slice_179775];
                                    bool defunc_0_gt_res_179777 = slt32(b_prev_179760, gt_lhs_179776);
                                    int64_t defunc_0_partFunc_sequential_search_res_179778;
                                    int64_t defunc_0_partFunc_sequential_search_res_179779;
                                    
                                    if (defunc_0_gt_res_179777) {
                                        int64_t zl_rhs_179780 = sub64(window_sizze_131373, max_res_176272);
                                        bool loop_cond_179781 = slt64((int64_t) 0, zl_rhs_179780);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179782;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179784;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179785;
                                        bool loop_while_179786;
                                        int64_t p_179787;
                                        int64_t p_179788;
                                        int64_t p_179789;
                                        
                                        loop_while_179786 = loop_cond_179781;
                                        p_179787 = ai_179758;
                                        p_179788 = max_res_176272;
                                        p_179789 = (int64_t) 0;
                                        while (loop_while_179786) {
                                            int64_t i_a_179790 = sub64(ai_179758, p_179789);
                                            int64_t i_b_179791 = add64(max_res_176272, p_179789);
                                            int64_t leq_lhs_179792 = sub64(i_a_179790, (int64_t) 1);
                                            bool x_179793 = sle64((int64_t) 0, leq_lhs_179792);
                                            bool y_179794 = slt64(leq_lhs_179792, window_sizze_131373);
                                            bool bounds_check_179795 = x_179793 && y_179794;
                                            bool index_certs_179796;
                                            
                                            if (!bounds_check_179795) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179792, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179799 = sle64((int64_t) 0, i_b_179791);
                                            bool y_179800 = slt64(i_b_179791, window_sizze_131373);
                                            bool bounds_check_179801 = x_179799 && y_179800;
                                            bool index_certs_179802;
                                            
                                            if (!bounds_check_179801) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179791, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179797 = p_175206 + leq_lhs_179792;
                                            int32_t leq_lhs_179798 = ((int32_t *) a_list_mem_180696.mem)[slice_179797];
                                            int64_t slice_179803 = p_175207 + i_b_179791;
                                            int32_t leq_rhs_179804 = ((int32_t *) b_list_mem_180697.mem)[slice_179803];
                                            bool defunc_0_leq_res_179805 = sle32(leq_lhs_179798, leq_rhs_179804);
                                            int64_t loopres_179806;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179806 = i_a_179790;
                                            } else {
                                                loopres_179806 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179807;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179807 = i_b_179791;
                                            } else {
                                                loopres_179807 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179808;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179808 = zl_rhs_179780;
                                            } else {
                                                int64_t tmp_179809 = add64((int64_t) 1, p_179789);
                                                
                                                loopres_179808 = tmp_179809;
                                            }
                                            
                                            bool loop_cond_179810 = slt64(loopres_179808, zl_rhs_179780);
                                            bool loop_while_tmp_182222 = loop_cond_179810;
                                            int64_t p_tmp_182223 = loopres_179806;
                                            int64_t p_tmp_182224 = loopres_179807;
                                            int64_t p_tmp_182225 = loopres_179808;
                                            
                                            loop_while_179786 = loop_while_tmp_182222;
                                            p_179787 = p_tmp_182223;
                                            p_179788 = p_tmp_182224;
                                            p_179789 = p_tmp_182225;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179782 = loop_while_179786;
                                        defunc_0_partFunc_sequential_search_res_t_res_179783 = p_179787;
                                        defunc_0_partFunc_sequential_search_res_t_res_179784 = p_179788;
                                        defunc_0_partFunc_sequential_search_res_t_res_179785 = p_179789;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_t_res_179784;
                                    } else {
                                        int64_t zl_rhs_179811 = sub64(max_res_176272, (int64_t) 1);
                                        bool loop_cond_179812 = slt64((int64_t) 0, zl_rhs_179811);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179813;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179815;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179816;
                                        bool loop_while_179817;
                                        int64_t p_179818;
                                        int64_t p_179819;
                                        int64_t p_179820;
                                        
                                        loop_while_179817 = loop_cond_179812;
                                        p_179818 = ai_179758;
                                        p_179819 = max_res_176272;
                                        p_179820 = (int64_t) 0;
                                        while (loop_while_179817) {
                                            int64_t zp_lhs_179821 = add64(ai_179758, p_179820);
                                            int64_t hi_a_179822 = add64((int64_t) 1, zp_lhs_179821);
                                            bool cond_179823 = slt64(hi_a_179822, window_sizze_131373);
                                            int64_t i_a_179824;
                                            
                                            if (cond_179823) {
                                                i_a_179824 = hi_a_179822;
                                            } else {
                                                i_a_179824 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_179826 = sub64(max_res_176272, p_179820);
                                            int64_t i_b_179827 = sub64(zm_lhs_179826, (int64_t) 1);
                                            bool x_179828 = sle64((int64_t) 0, i_a_179824);
                                            bool y_179829 = slt64(i_a_179824, window_sizze_131373);
                                            bool bounds_check_179830 = x_179828 && y_179829;
                                            bool index_certs_179831;
                                            
                                            if (!bounds_check_179830) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179824, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179834 = sle64((int64_t) 0, i_b_179827);
                                            bool y_179835 = slt64(i_b_179827, window_sizze_131373);
                                            bool bounds_check_179836 = x_179834 && y_179835;
                                            bool index_certs_179837;
                                            
                                            if (!bounds_check_179836) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179827, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179832 = p_175206 + i_a_179824;
                                            int32_t gt_lhs_179833 = ((int32_t *) a_list_mem_180696.mem)[slice_179832];
                                            int64_t slice_179838 = p_175207 + i_b_179827;
                                            int32_t gt_rhs_179839 = ((int32_t *) b_list_mem_180697.mem)[slice_179838];
                                            bool defunc_0_gt_res_179840 = slt32(gt_rhs_179839, gt_lhs_179833);
                                            int64_t loopres_179841;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179841 = i_a_179824;
                                            } else {
                                                loopres_179841 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179842;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179842 = zm_lhs_179826;
                                            } else {
                                                loopres_179842 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179843;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179843 = zl_rhs_179811;
                                            } else {
                                                int64_t tmp_179844 = add64((int64_t) 1, p_179820);
                                                
                                                loopres_179843 = tmp_179844;
                                            }
                                            
                                            bool loop_cond_179845 = slt64(loopres_179843, zl_rhs_179811);
                                            bool loop_while_tmp_182226 = loop_cond_179845;
                                            int64_t p_tmp_182227 = loopres_179841;
                                            int64_t p_tmp_182228 = loopres_179842;
                                            int64_t p_tmp_182229 = loopres_179843;
                                            
                                            loop_while_179817 = loop_while_tmp_182226;
                                            p_179818 = p_tmp_182227;
                                            p_179819 = p_tmp_182228;
                                            p_179820 = p_tmp_182229;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179813 = loop_while_179817;
                                        defunc_0_partFunc_sequential_search_res_f_res_179814 = p_179818;
                                        defunc_0_partFunc_sequential_search_res_f_res_179815 = p_179819;
                                        defunc_0_partFunc_sequential_search_res_f_res_179816 = p_179820;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_f_res_179815;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = p_176265;
                                    loopres_f_res_f_res_f_res_176331 = defunc_0_partFunc_sequential_search_res_179778;
                                    loopres_f_res_f_res_f_res_176332 = defunc_0_partFunc_sequential_search_res_179779;
                                    loopres_f_res_f_res_f_res_176333 = 0;
                                } else {
                                    bool x_176417 = sle64((int64_t) 0, ai_176270);
                                    bool y_176418 = slt64(ai_176270, window_sizze_131373);
                                    bool bounds_check_176419 = x_176417 && y_176418;
                                    bool index_certs_176420;
                                    
                                    if (!bounds_check_176419) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176270, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178086 = p_175206 + ai_176270;
                                    int32_t gt_lhs_176421 = ((int32_t *) a_list_mem_180696.mem)[slice_178086];
                                    bool defunc_0_gt_res_176422 = slt32(b_prev_176274, gt_lhs_176421);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176423;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176424;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176425;
                                    bool loopres_f_res_f_res_f_res_f_res_176426;
                                    
                                    if (defunc_0_gt_res_176422) {
                                        int64_t leq_lhs_179846 = sub64(ai_176270, (int64_t) 1);
                                        bool x_179847 = sle64((int64_t) 0, leq_lhs_179846);
                                        bool y_179848 = slt64(leq_lhs_179846, window_sizze_131373);
                                        bool bounds_check_179849 = x_179847 && y_179848;
                                        bool index_certs_179850;
                                        
                                        if (!bounds_check_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179846, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179853 = sle64((int64_t) 0, max_res_176272);
                                        bool y_179854 = slt64(max_res_176272, window_sizze_131373);
                                        bool bounds_check_179855 = x_179853 && y_179854;
                                        bool index_certs_179856;
                                        
                                        if (!bounds_check_179855) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176272, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179851 = p_175206 + leq_lhs_179846;
                                        int32_t leq_lhs_179852 = ((int32_t *) a_list_mem_180696.mem)[slice_179851];
                                        int64_t slice_179857 = p_175207 + max_res_176272;
                                        int32_t leq_rhs_179858 = ((int32_t *) b_list_mem_180697.mem)[slice_179857];
                                        bool defunc_0_leq_res_179859 = sle32(leq_lhs_179852, leq_rhs_179858);
                                        bool x_179860 = !defunc_0_leq_res_179859;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = ai_176270;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = leq_lhs_179846;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = max_res_176272;
                                        } else {
                                            int64_t tmp_179863 = add64((int64_t) 1, max_res_176272);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = tmp_179863;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176423 = p_176265;
                                        loopres_f_res_f_res_f_res_f_res_176424 = loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        loopres_f_res_f_res_f_res_f_res_176425 = loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        loopres_f_res_f_res_f_res_f_res_176426 = x_179860;
                                    } else {
                                        int64_t tmp_176443 = add64((int64_t) 1, ai_176270);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176423 = tmp_176443;
                                        loopres_f_res_f_res_f_res_f_res_176424 = p_176266;
                                        loopres_f_res_f_res_f_res_f_res_176425 = p_176267;
                                        loopres_f_res_f_res_f_res_f_res_176426 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = loopres_f_res_f_res_f_res_f_res_176423;
                                    loopres_f_res_f_res_f_res_176331 = loopres_f_res_f_res_f_res_f_res_176424;
                                    loopres_f_res_f_res_f_res_176332 = loopres_f_res_f_res_f_res_f_res_176425;
                                    loopres_f_res_f_res_f_res_176333 = loopres_f_res_f_res_f_res_f_res_176426;
                                }
                                loopres_f_res_f_res_176309 = loopres_f_res_f_res_f_res_176330;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_f_res_176331;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_f_res_176332;
                                loopres_f_res_f_res_176312 = loopres_f_res_f_res_f_res_176333;
                            }
                            loopres_f_res_176287 = loopres_f_res_f_res_176309;
                            loopres_f_res_176288 = loopres_f_res_f_res_176310;
                            loopres_f_res_176289 = loopres_f_res_f_res_176311;
                            loopres_f_res_176290 = loopres_f_res_f_res_176312;
                        }
                        loopres_176282 = loopres_f_res_176287;
                        loopres_176283 = loopres_f_res_176288;
                        loopres_176284 = loopres_f_res_176289;
                        loopres_176285 = loopres_f_res_176290;
                    }
                    
                    bool loop_while_tmp_182218 = loopres_176285;
                    int64_t p_tmp_182219 = loopres_176282;
                    int64_t p_tmp_182220 = loopres_176283;
                    int64_t p_tmp_182221 = loopres_176284;
                    
                    loop_while_176264 = loop_while_tmp_182218;
                    p_176265 = p_tmp_182219;
                    p_176266 = p_tmp_182220;
                    p_176267 = p_tmp_182221;
                }
                defunc_0_f_res_176260 = loop_while_176264;
                defunc_0_f_res_176261 = p_176265;
                defunc_0_f_res_176262 = p_176266;
                defunc_0_f_res_176263 = p_176267;
                ((int64_t *) mem_180713)[i_180446] = defunc_0_f_res_176262;
                ((int64_t *) mem_180715)[i_180446] = defunc_0_f_res_176263;
            }
            if (memblock_alloc(ctx, &mem_180728, window_sizze_131373, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182230 = 0; nest_i_182230 < window_sizze_131373; nest_i_182230++) {
                ((int8_t *) mem_180728.mem)[nest_i_182230] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180730, bytes_180729, "mem_180730")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182231 = 0; nest_i_182231 < window_sizze_131373; nest_i_182231++) {
                ((int64_t *) mem_180730.mem)[nest_i_182231] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180732, bytes_180731, "mem_180732")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182232 = 0; nest_i_182232 < window_sizze_131373; nest_i_182232++) {
                ((int32_t *) mem_180732.mem)[nest_i_182232] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176470;
            int64_t defunc_0_mergeFunc_seq_res_176471;
            bool loop_while_176475;
            int64_t p_176476;
            
            loop_while_176475 = loop_cond_176469;
            p_176476 = (int64_t) 0;
            while (loop_while_176475) {
                bool x_176480 = sle64((int64_t) 0, p_176476);
                bool y_176481 = slt64(p_176476, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176482 = x_176480 && y_176481;
                bool index_certs_176483;
                
                if (!bounds_check_176482) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176476, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178069 = sle64((int64_t) 1, p_176476);
                int64_t index_concat_i_178070 = sub64(p_176476, (int64_t) 1);
                int64_t index_concat_178071;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179864 = ((int64_t *) mem_180713)[index_concat_i_178070];
                    
                    index_concat_178071 = x_179864;
                } else {
                    index_concat_178071 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178073;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178073 = index_concat_178071;
                } else {
                    index_concat_branch_178073 = (int64_t) 0;
                }
                
                int64_t index_concat_178065;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179865 = ((int64_t *) mem_180715)[index_concat_i_178070];
                    
                    index_concat_178065 = x_179865;
                } else {
                    index_concat_178065 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178067;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178067 = index_concat_178065;
                } else {
                    index_concat_branch_178067 = (int64_t) 0;
                }
                
                int64_t ubs_176486 = add64((int64_t) 1, p_176476);
                bool x_176487 = sle64((int64_t) 0, ubs_176486);
                bool y_176488 = slt64(ubs_176486, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176489 = x_176487 && y_176488;
                bool index_certs_176490;
                
                if (!bounds_check_176489) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178057 = sle64((int64_t) 1, ubs_176486);
                int64_t index_concat_178059;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179866 = ((int64_t *) mem_180713)[p_176476];
                    
                    index_concat_178059 = x_179866;
                } else {
                    index_concat_178059 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178061;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178061 = index_concat_178059;
                } else {
                    index_concat_branch_178061 = (int64_t) 0;
                }
                
                int64_t index_concat_178053;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179867 = ((int64_t *) mem_180715)[p_176476];
                    
                    index_concat_178053 = x_179867;
                } else {
                    index_concat_178053 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178055;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178055 = index_concat_178053;
                } else {
                    index_concat_branch_178055 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 = sub64(index_concat_branch_178055, index_concat_branch_178067);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 = sub64(index_concat_branch_178061, index_concat_branch_178073);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t ind_bottom_176496 = add64(index_concat_branch_178067, index_concat_branch_178073);
                int64_t ind_top_176497 = add64(index_concat_branch_178055, index_concat_branch_178061);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 = sub64(ind_top_176497, ind_bottom_176496);
                bool empty_slice_176499 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 == (int64_t) 0;
                int64_t m_176500 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 1);
                int64_t i_p_m_t_s_176501 = add64(m_176500, index_concat_branch_178073);
                bool zzero_leq_i_p_m_t_s_176502 = sle64((int64_t) 0, i_p_m_t_s_176501);
                bool i_p_m_t_s_leq_w_176503 = slt64(i_p_m_t_s_176501, window_sizze_131373);
                bool zzero_lte_i_176504 = sle64((int64_t) 0, index_concat_branch_178073);
                bool i_lte_j_176505 = sle64(index_concat_branch_178073, index_concat_branch_178061);
                bool y_176506 = i_p_m_t_s_leq_w_176503 && zzero_lte_i_176504;
                bool y_176507 = zzero_leq_i_p_m_t_s_176502 && y_176506;
                bool forwards_ok_176508 = i_lte_j_176505 && y_176507;
                bool ok_or_empty_176509 = empty_slice_176499 || forwards_ok_176508;
                bool index_certs_176510;
                
                if (!ok_or_empty_176509) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178073, ":", (long long) index_concat_branch_178061, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176511 = slt64(index_concat_branch_178061, index_concat_branch_178073);
                bool valid_176512 = !bounds_invalid_upwards_176511;
                bool range_valid_c_176513;
                
                if (!valid_176512) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178073, "..<", (long long) index_concat_branch_178061, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176519 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 == (int64_t) 0;
                int64_t m_176520 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, (int64_t) 1);
                int64_t i_p_m_t_s_176521 = add64(m_176520, index_concat_branch_178067);
                bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
                bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, window_sizze_131373);
                bool zzero_lte_i_176524 = sle64((int64_t) 0, index_concat_branch_178067);
                bool i_lte_j_176525 = sle64(index_concat_branch_178067, index_concat_branch_178055);
                bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
                bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
                bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
                bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
                bool index_certs_176530;
                
                if (!ok_or_empty_176529) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178067, ":", (long long) index_concat_branch_178055, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176531 = slt64(index_concat_branch_178055, index_concat_branch_178067);
                bool valid_176532 = !bounds_invalid_upwards_176531;
                bool range_valid_c_176533;
                
                if (!valid_176532) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178067, "..<", (long long) index_concat_branch_178055, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180749 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                int64_t bytes_180751 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool cond_176542 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zs_lhs_176543 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zp_rhs_176544 = sdiv_safe64(zs_lhs_176543, (int64_t) 20);
                int64_t min_num_blocks_176545 = add64((int64_t) 1, zp_rhs_176544);
                bool loop_cond_176546 = slt64((int64_t) 1, min_num_blocks_176545);
                bool smallest_pow_2_geq_than_res_176547;
                int64_t smallest_pow_2_geq_than_res_176548;
                bool loop_while_176549;
                int64_t x_176550;
                
                loop_while_176549 = loop_cond_176546;
                x_176550 = (int64_t) 1;
                while (loop_while_176549) {
                    int64_t loopres_176551 = mul64((int64_t) 2, x_176550);
                    bool loop_cond_176552 = slt64(loopres_176551, min_num_blocks_176545);
                    bool loop_while_tmp_182238 = loop_cond_176552;
                    int64_t x_tmp_182239 = loopres_176551;
                    
                    loop_while_176549 = loop_while_tmp_182238;
                    x_176550 = x_tmp_182239;
                }
                smallest_pow_2_geq_than_res_176547 = loop_while_176549;
                smallest_pow_2_geq_than_res_176548 = x_176550;
                
                bool zzero_176553 = smallest_pow_2_geq_than_res_176548 == (int64_t) 0;
                bool nonzzero_176554 = !zzero_176553;
                bool protect_assert_disj_176555 = cond_176542 || nonzzero_176554;
                bool nonzzero_cert_176556;
                
                if (!protect_assert_disj_176555) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176557 = sdiv_safe64(zs_lhs_176543, smallest_pow_2_geq_than_res_176548);
                int64_t block_sizze_176558 = add64((int64_t) 1, zp_rhs_176557);
                bool y_176565 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                bool protect_assert_disj_181902 = cond_176542 || y_176565;
                bool index_certs_176566;
                
                if (!protect_assert_disj_181902) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176592 = slt64(smallest_pow_2_geq_than_res_176548, (int64_t) 0);
                bool valid_176593 = !bounds_invalid_upwards_176592;
                bool protect_assert_disj_181912 = cond_176542 || valid_176593;
                bool range_valid_c_176594;
                
                if (!protect_assert_disj_181912) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176548, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176596 = slt64(block_sizze_176558, (int64_t) 0);
                bool valid_176597 = !bounds_invalid_upwards_176596;
                bool protect_assert_disj_181914 = cond_176542 || valid_176597;
                bool range_valid_c_176598;
                
                if (!protect_assert_disj_181914) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176558, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176600 = sle64(block_sizze_176558, (int64_t) 1);
                int64_t tmp_176601 = sub64(block_sizze_176558, (int64_t) 2);
                bool bounds_invalid_upwards_176602 = slt64(tmp_176601, (int64_t) 0);
                bool valid_176604 = !bounds_invalid_upwards_176602;
                bool protect_assert_disj_176605 = cond_176600 || valid_176604;
                bool protect_assert_disj_181916 = cond_176542 || protect_assert_disj_176605;
                bool range_valid_c_176606;
                
                if (!protect_assert_disj_181916) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176601, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177167 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool empty_or_match_cert_177168;
                
                if (!dim_match_177167) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "](i8, i64, i32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177169 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == (int64_t) 0;
                int64_t m_177170 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177171 = sle64((int64_t) 0, m_177170);
                bool i_p_m_t_s_leq_w_177172 = slt64(m_177170, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498);
                bool y_177173 = zzero_leq_i_p_m_t_s_177171 && i_p_m_t_s_leq_w_177172;
                bool ok_or_empty_177174 = empty_slice_177169 || y_177173;
                bool index_certs_177175;
                
                if (!ok_or_empty_177174) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177176 = add64(ind_bottom_176496, m_177170);
                bool zzero_leq_i_p_m_t_s_177177 = sle64((int64_t) 0, i_p_m_t_s_177176);
                bool i_p_m_t_s_leq_w_177178 = slt64(i_p_m_t_s_177176, window_sizze_131373);
                bool zzero_lte_i_177179 = sle64((int64_t) 0, ind_bottom_176496);
                bool i_lte_j_177180 = sle64(ind_bottom_176496, ind_top_176497);
                bool y_177181 = i_p_m_t_s_leq_w_177178 && zzero_lte_i_177179;
                bool y_177182 = zzero_leq_i_p_m_t_s_177177 && y_177181;
                bool forwards_ok_177183 = i_lte_j_177180 && y_177182;
                bool ok_or_empty_177184 = empty_slice_177169 || forwards_ok_177183;
                bool index_certs_177185;
                
                if (!ok_or_empty_177184) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176496, ":", (long long) ind_top_176497, "] out of bounds for array of shape [", (long long) window_sizze_131373, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178049 = p_175206 + index_concat_branch_178073;
                
                if (memblock_alloc(ctx, &mem_180748, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "mem_180748")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182240 = 0; nest_i_182240 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; nest_i_182240++) {
                    ((int8_t *) mem_180748.mem)[nest_i_182240] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180750, bytes_180749, "mem_180750")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182241 = 0; i_182241 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; i_182241++) {
                    int64_t x_182242 = index_concat_branch_178073 + i_182241 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[i_182241] = x_182242;
                }
                
                int64_t slice_178048 = p_175207 + index_concat_branch_178067;
                
                for (int64_t nest_i_182243 = 0; nest_i_182243 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; nest_i_182243++) {
                    ((int8_t *) mem_180748.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + nest_i_182243] = (int8_t) 1;
                }
                for (int64_t i_182244 = 0; i_182244 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; i_182244++) {
                    int64_t x_182245 = index_concat_branch_178067 + i_182244 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + i_182244] = x_182245;
                }
                
                int64_t tmp_offs_182246 = (int64_t) 0;
                
                if (!(tmp_offs_182246 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182246 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t tmp_offs_182247 = (int64_t) 0;
                
                if (!(tmp_offs_182247 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182247 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                if (memblock_alloc(ctx, &mem_180752, bytes_180751, "mem_180752")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182248 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, slice_178049, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, slice_178048, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t flat_dim_176559 = smallest_pow_2_geq_than_res_176548 * block_sizze_176558;
                bool x_181897 = !cond_176542;
                int64_t greatest_divisor_leq_than_arg1_176563 = mul64((int64_t) 2, block_sizze_176558);
                int64_t merge_block_sizze_176564;
                
                if (x_181897) {
                    int64_t x_181899;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181899, (int64_t) 8, greatest_divisor_leq_than_arg1_176563) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176564 = x_181899;
                } else {
                    merge_block_sizze_176564 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178043 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 0);
                int8_t index_concat_branch_178047 = btoi_bool_i8(index_concat_cmp_178043);
                int64_t index_concat_i_179868 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t index_primexp_179869 = add64(index_concat_branch_178067, index_concat_i_179868);
                int64_t index_concat_branch_178041;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178041 = index_primexp_179869;
                } else {
                    index_concat_branch_178041 = index_concat_branch_178073;
                }
                
                bool x_181893 = !index_concat_cmp_178043;
                bool protect_cond_conj_181903 = x_181893 && x_181897;
                int32_t index_concat_178034;
                
                if (protect_cond_conj_181903) {
                    int32_t x_181895 = ((int32_t *) a_list_mem_180696.mem)[slice_178049];
                    
                    index_concat_178034 = x_181895;
                } else {
                    index_concat_178034 = 0;
                }
                
                int64_t slice_179871 = slice_178048 + index_concat_i_179868;
                bool protect_cond_conj_181904 = index_concat_cmp_178043 && x_181897;
                int32_t index_concat_179872;
                
                if (protect_cond_conj_181904) {
                    int32_t x_181891 = ((int32_t *) b_list_mem_180697.mem)[slice_179871];
                    
                    index_concat_179872 = x_181891;
                } else {
                    index_concat_179872 = 0;
                }
                
                int32_t index_concat_branch_178035;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178035 = index_concat_179872;
                } else {
                    index_concat_branch_178035 = index_concat_178034;
                }
                
                int8_t defunc_0_reduce_res_180103;
                int64_t defunc_0_reduce_res_180104;
                int32_t defunc_0_reduce_res_180105;
                
                if (x_181897) {
                    int8_t x_181905;
                    int64_t x_181906;
                    int32_t x_181907;
                    int8_t redout_180449;
                    int64_t redout_180450;
                    int32_t redout_180451;
                    
                    redout_180449 = index_concat_branch_178047;
                    redout_180450 = index_concat_branch_178041;
                    redout_180451 = index_concat_branch_178035;
                    for (int64_t i_180452 = 0; i_180452 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495; i_180452++) {
                        bool index_concat_cmp_180656 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, i_180452);
                        int8_t index_concat_branch_180660 = btoi_bool_i8(index_concat_cmp_180656);
                        int64_t index_concat_branch_180654;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180651 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t index_primexp_180678 = add64(index_concat_branch_178067, index_concat_i_180651);
                            
                            index_concat_branch_180654 = index_primexp_180678;
                        } else {
                            int64_t index_primexp_180680 = add64(index_concat_branch_178073, i_180452);
                            
                            index_concat_branch_180654 = index_primexp_180680;
                        }
                        
                        int32_t index_concat_branch_180648;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180645 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t slice_180675 = slice_178048 + index_concat_i_180645;
                            int32_t index_concat_180646 = ((int32_t *) b_list_mem_180697.mem)[slice_180675];
                            
                            index_concat_branch_180648 = index_concat_180646;
                        } else {
                            int64_t slice_180676 = slice_178049 + i_180452;
                            int32_t index_concat_180647 = ((int32_t *) a_list_mem_180696.mem)[slice_180676];
                            
                            index_concat_branch_180648 = index_concat_180647;
                        }
                        
                        bool eq_x_y_180691 = redout_180449 == (int8_t) 1;
                        bool eq_x_zz_180692 = redout_180449 == (int8_t) 0;
                        bool p_and_eq_x_y_180693 = index_concat_cmp_180656 && eq_x_y_180691;
                        bool not_p_180694 = !index_concat_cmp_180656;
                        bool p_and_eq_x_y_180695 = eq_x_zz_180692 && not_p_180694;
                        bool cond_176582 = p_and_eq_x_y_180693 || p_and_eq_x_y_180695;
                        bool defunc_0_leq_res_t_res_176583 = sle64(redout_180450, index_concat_branch_180654);
                        bool defunc_0_leq_res_176584 = sle32(redout_180451, index_concat_branch_180648);
                        bool x_176585 = cond_176582 && defunc_0_leq_res_t_res_176583;
                        bool x_176586 = !cond_176582;
                        bool y_176587 = defunc_0_leq_res_176584 && x_176586;
                        bool defunc_0_leq_res_176588 = x_176585 || y_176587;
                        int8_t defunc_0_op_res_176589;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176589 = index_concat_branch_180660;
                        } else {
                            defunc_0_op_res_176589 = redout_180449;
                        }
                        
                        int64_t defunc_0_op_res_176590;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176590 = index_concat_branch_180654;
                        } else {
                            defunc_0_op_res_176590 = redout_180450;
                        }
                        
                        int32_t defunc_0_op_res_176591;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176591 = index_concat_branch_180648;
                        } else {
                            defunc_0_op_res_176591 = redout_180451;
                        }
                        
                        int8_t redout_tmp_182249 = defunc_0_op_res_176589;
                        int64_t redout_tmp_182250 = defunc_0_op_res_176590;
                        int32_t redout_tmp_182251 = defunc_0_op_res_176591;
                        
                        redout_180449 = redout_tmp_182249;
                        redout_180450 = redout_tmp_182250;
                        redout_180451 = redout_tmp_182251;
                    }
                    x_181905 = redout_180449;
                    x_181906 = redout_180450;
                    x_181907 = redout_180451;
                    defunc_0_reduce_res_180103 = x_181905;
                    defunc_0_reduce_res_180104 = x_181906;
                    defunc_0_reduce_res_180105 = x_181907;
                } else {
                    defunc_0_reduce_res_180103 = (int8_t) 0;
                    defunc_0_reduce_res_180104 = (int64_t) 0;
                    defunc_0_reduce_res_180105 = 0;
                }
                
                int64_t distance_176603 = add64((int64_t) 1, tmp_176601);
                int64_t binop_x_180755 = (int64_t) 8 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180756 = block_sizze_176558 * binop_x_180755;
                int64_t binop_x_180758 = (int64_t) 4 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180759 = block_sizze_176558 * binop_x_180758;
                int64_t bytes_180774 = (int64_t) 8 * block_sizze_176558;
                int64_t bytes_180776 = (int64_t) 4 * block_sizze_176558;
                bool loop_cond_176712 = slt64(block_sizze_176558, flat_dim_176559);
                bool zzero_176713 = merge_block_sizze_176564 == (int64_t) 0;
                bool nonzzero_176714 = !zzero_176713;
                
                if (cond_176542) {
                    if (memblock_set(ctx, &ext_mem_181047, &mem_180748, "mem_180748") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &mem_180750, "mem_180750") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &mem_180752, "mem_180752") != 0)
                        return 1;
                } else {
                    if (mem_180754_cached_sizze_182548 < flat_dim_176559) {
                        err = lexical_realloc(ctx, &mem_180754, &mem_180754_cached_sizze_182548, flat_dim_176559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180757_cached_sizze_182549 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180757, &mem_180757_cached_sizze_182549, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180760_cached_sizze_182550 < bytes_180759) {
                        err = lexical_realloc(ctx, &mem_180760, &mem_180760_cached_sizze_182550, bytes_180759);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180773_cached_sizze_182551 < block_sizze_176558) {
                        err = lexical_realloc(ctx, &mem_180773, &mem_180773_cached_sizze_182551, block_sizze_176558);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180775_cached_sizze_182552 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182552, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180777_cached_sizze_182553 < bytes_180776) {
                        err = lexical_realloc(ctx, &mem_180777, &mem_180777_cached_sizze_182553, bytes_180776);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180469 = 0; i_180469 < smallest_pow_2_geq_than_res_176548; i_180469++) {
                        int64_t zp_lhs_176611 = mul64(block_sizze_176558, i_180469);
                        
                        for (int64_t i_180459 = 0; i_180459 < block_sizze_176558; i_180459++) {
                            int64_t k_176616 = add64(zp_lhs_176611, i_180459);
                            bool cond_176617 = slt64(k_176616, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                            int8_t lifted_lambda_res_176618;
                            int64_t lifted_lambda_res_176619;
                            int32_t lifted_lambda_res_176620;
                            
                            if (cond_176617) {
                                bool x_179878 = sle64((int64_t) 0, k_176616);
                                bool bounds_check_179879 = cond_176617 && x_179878;
                                bool index_certs_179880;
                                
                                if (!bounds_check_179879) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176616, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179881 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, k_176616);
                                int8_t index_concat_branch_179882 = btoi_bool_i8(index_concat_cmp_179881);
                                int64_t index_concat_branch_179883;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179884 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t index_primexp_179885 = add64(index_concat_branch_178067, index_concat_i_179884);
                                    
                                    index_concat_branch_179883 = index_primexp_179885;
                                } else {
                                    int64_t index_primexp_179886 = add64(k_176616, index_concat_branch_178073);
                                    
                                    index_concat_branch_179883 = index_primexp_179886;
                                }
                                
                                int32_t index_concat_branch_179887;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179888 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t slice_179889 = slice_178048 + index_concat_i_179888;
                                    int32_t index_concat_179890 = ((int32_t *) b_list_mem_180697.mem)[slice_179889];
                                    
                                    index_concat_branch_179887 = index_concat_179890;
                                } else {
                                    int64_t slice_179891 = k_176616 + slice_178049;
                                    int32_t index_concat_179892 = ((int32_t *) a_list_mem_180696.mem)[slice_179891];
                                    
                                    index_concat_branch_179887 = index_concat_179892;
                                }
                                lifted_lambda_res_176618 = index_concat_branch_179882;
                                lifted_lambda_res_176619 = index_concat_branch_179883;
                                lifted_lambda_res_176620 = index_concat_branch_179887;
                            } else {
                                lifted_lambda_res_176618 = defunc_0_reduce_res_180103;
                                lifted_lambda_res_176619 = defunc_0_reduce_res_180104;
                                lifted_lambda_res_176620 = defunc_0_reduce_res_180105;
                            }
                            ((int8_t *) mem_180773)[i_180459] = lifted_lambda_res_176618;
                            ((int64_t *) mem_180775)[i_180459] = lifted_lambda_res_176619;
                            ((int32_t *) mem_180777)[i_180459] = lifted_lambda_res_176620;
                        }
                        if (!cond_176600) {
                            for (int64_t i_176633 = 0; i_176633 < distance_176603; i_176633++) {
                                int64_t gt_arg1_176637 = add64((int64_t) 1, i_176633);
                                bool x_176638 = sle64((int64_t) 0, gt_arg1_176637);
                                bool y_176639 = slt64(gt_arg1_176637, block_sizze_176558);
                                bool bounds_check_176640 = x_176638 && y_176639;
                                bool index_certs_176641;
                                
                                if (!bounds_check_176640) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176637, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176645 = slt64(i_176633, block_sizze_176558);
                                bool index_certs_176646;
                                
                                if (!y_176645) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176633, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176642 = ((int8_t *) mem_180773)[gt_arg1_176637];
                                int64_t gt_arg1_176643 = ((int64_t *) mem_180775)[gt_arg1_176637];
                                int32_t gt_arg1_176644 = ((int32_t *) mem_180777)[gt_arg1_176637];
                                int8_t gt_arg0_176647 = ((int8_t *) mem_180773)[i_176633];
                                int64_t gt_arg0_176648 = ((int64_t *) mem_180775)[i_176633];
                                int32_t gt_arg0_176649 = ((int32_t *) mem_180777)[i_176633];
                                bool cond_176650 = gt_arg0_176647 == gt_arg1_176642;
                                bool defunc_0_leq_res_t_res_176651 = sle64(gt_arg0_176648, gt_arg1_176643);
                                bool defunc_0_leq_res_176652 = sle32(gt_arg0_176649, gt_arg1_176644);
                                bool x_176653 = cond_176650 && defunc_0_leq_res_t_res_176651;
                                bool x_176654 = !cond_176650;
                                bool y_176655 = defunc_0_leq_res_176652 && x_176654;
                                bool defunc_0_leq_res_176656 = x_176653 || y_176655;
                                bool defunc_0_lifted_gt_res_176657 = !defunc_0_leq_res_176656;
                                bool s_176658;
                                int64_t s_176662;
                                bool loop_while_176663;
                                int64_t j_176667;
                                
                                loop_while_176663 = defunc_0_lifted_gt_res_176657;
                                j_176667 = i_176633;
                                while (loop_while_176663) {
                                    bool x_176668 = sle64((int64_t) 0, j_176667);
                                    bool y_176669 = slt64(j_176667, block_sizze_176558);
                                    bool bounds_check_176670 = x_176668 && y_176669;
                                    bool index_certs_176671;
                                    
                                    if (!bounds_check_176670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176667, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176675 = add64((int64_t) 1, j_176667);
                                    bool x_176676 = sle64((int64_t) 0, copy_arg0_176675);
                                    bool y_176677 = slt64(copy_arg0_176675, block_sizze_176558);
                                    bool bounds_check_176678 = x_176676 && y_176677;
                                    bool index_certs_176679;
                                    
                                    if (!bounds_check_176678) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176675, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176672 = ((int8_t *) mem_180773)[j_176667];
                                    int64_t copy_arg0_176673 = ((int64_t *) mem_180775)[j_176667];
                                    int32_t copy_arg0_176674 = ((int32_t *) mem_180777)[j_176667];
                                    int8_t copy_arg0_176680 = ((int8_t *) mem_180773)[copy_arg0_176675];
                                    int64_t copy_arg0_176681 = ((int64_t *) mem_180775)[copy_arg0_176675];
                                    int32_t copy_arg0_176682 = ((int32_t *) mem_180777)[copy_arg0_176675];
                                    
                                    ((int8_t *) mem_180773)[j_176667] = copy_arg0_176680;
                                    ((int64_t *) mem_180775)[j_176667] = copy_arg0_176681;
                                    ((int32_t *) mem_180777)[j_176667] = copy_arg0_176682;
                                    ((int8_t *) mem_180773)[copy_arg0_176675] = copy_arg0_176672;
                                    ((int64_t *) mem_180775)[copy_arg0_176675] = copy_arg0_176673;
                                    ((int32_t *) mem_180777)[copy_arg0_176675] = copy_arg0_176674;
                                    
                                    int64_t tmp_176689 = sub64(j_176667, (int64_t) 1);
                                    bool cond_176690 = sle64((int64_t) 0, tmp_176689);
                                    bool loop_cond_176691;
                                    
                                    if (cond_176690) {
                                        bool y_179896 = slt64(tmp_176689, block_sizze_176558);
                                        bool bounds_check_179897 = cond_176690 && y_179896;
                                        bool index_certs_179898;
                                        
                                        if (!bounds_check_179897) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176689, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179893 = ((int8_t *) mem_180773)[j_176667];
                                        int64_t gt_arg1_179894 = ((int64_t *) mem_180775)[j_176667];
                                        int32_t gt_arg1_179895 = ((int32_t *) mem_180777)[j_176667];
                                        int8_t gt_arg0_179899 = ((int8_t *) mem_180773)[tmp_176689];
                                        int64_t gt_arg0_179900 = ((int64_t *) mem_180775)[tmp_176689];
                                        int32_t gt_arg0_179901 = ((int32_t *) mem_180777)[tmp_176689];
                                        bool cond_179902 = gt_arg0_179899 == gt_arg1_179893;
                                        bool defunc_0_leq_res_t_res_179903 = sle64(gt_arg0_179900, gt_arg1_179894);
                                        bool defunc_0_leq_res_179904 = sle32(gt_arg0_179901, gt_arg1_179895);
                                        bool x_179905 = cond_179902 && defunc_0_leq_res_t_res_179903;
                                        bool x_179906 = !cond_179902;
                                        bool y_179907 = defunc_0_leq_res_179904 && x_179906;
                                        bool defunc_0_leq_res_179908 = x_179905 || y_179907;
                                        bool defunc_0_lifted_gt_res_179909 = !defunc_0_leq_res_179908;
                                        
                                        loop_cond_176691 = defunc_0_lifted_gt_res_179909;
                                    } else {
                                        loop_cond_176691 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182261 = loop_cond_176691;
                                    int64_t j_tmp_182265 = tmp_176689;
                                    
                                    loop_while_176663 = loop_while_tmp_182261;
                                    j_176667 = j_tmp_182265;
                                }
                                s_176658 = loop_while_176663;
                                s_176662 = j_176667;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180754, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180773, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180757, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180775, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180760, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180777, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                    }
                    if (memblock_alloc(ctx, &mem_180854, flat_dim_176559, "mem_180854")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180854.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint8_t *) mem_180754, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180858, bytes_180756, "mem_180858")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180858.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180757, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180862, bytes_180759, "mem_180862")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180862.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint32_t *) mem_180760, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    
                    int64_t data_176715;
                    bool data_176716;
                    int64_t data_176720;
                    int64_t loop_dz2084Uz2082U_176721;
                    bool loop_while_176722;
                    int64_t stride_176726;
                    
                    if (memblock_set(ctx, &mem_param_180866, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180869, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180872, &mem_180862, "mem_180862") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176721 = flat_dim_176559;
                    loop_while_176722 = loop_cond_176712;
                    stride_176726 = block_sizze_176558;
                    while (loop_while_176722) {
                        int64_t next_stride_176727 = mul64((int64_t) 2, stride_176726);
                        bool zzero_176728 = next_stride_176727 == (int64_t) 0;
                        bool nonzzero_176729 = !zzero_176728;
                        bool nonzzero_cert_176730;
                        
                        if (!nonzzero_176729) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176731 = sdiv64(flat_dim_176559, next_stride_176727);
                        bool bounds_invalid_upwards_176732 = slt64(num_merges_176731, (int64_t) 0);
                        bool valid_176733 = !bounds_invalid_upwards_176732;
                        bool range_valid_c_176734;
                        
                        if (!valid_176733) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176731, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176736 = sub64(next_stride_176727, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176737 = sle64((int64_t) 0, m_176736);
                        bool cond_176739 = slt64(next_stride_176727, (int64_t) 10);
                        bool protect_assert_disj_176740 = nonzzero_176714 || cond_176739;
                        bool nonzzero_cert_176741;
                        
                        if (!protect_assert_disj_176740) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176742 = smod_safe64(next_stride_176727, merge_block_sizze_176564);
                        bool num_blocks_176743 = zeze_lhs_176742 == (int64_t) 0;
                        bool protect_assert_disj_176744 = cond_176739 || num_blocks_176743;
                        bool assert_c_176745;
                        
                        if (!protect_assert_disj_176744) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176747 = sdiv_safe64(next_stride_176727, merge_block_sizze_176564);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748 = add64((int64_t) 1, num_blocks_176747);
                        int64_t j_m_i_176749 = sub64(next_stride_176727, stride_176726);
                        int64_t flat_dim_176750 = merge_block_sizze_176564 * num_blocks_176747;
                        bool bounds_invalid_upwards_176751 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, (int64_t) 0);
                        bool empty_slice_176752 = j_m_i_176749 == (int64_t) 0;
                        int64_t m_176753 = sub64(j_m_i_176749, (int64_t) 1);
                        bool zzero_lte_i_176754 = sle64((int64_t) 0, stride_176726);
                        bool i_lte_j_176755 = sle64(stride_176726, next_stride_176727);
                        bool empty_slice_176756 = stride_176726 == (int64_t) 0;
                        int64_t m_176757 = sub64(stride_176726, (int64_t) 1);
                        bool bounds_invalid_upwards_176758 = slt64(num_blocks_176747, (int64_t) 0);
                        bool cond_176759 = slt64((int64_t) 0, stride_176726);
                        bool valid_176760 = !bounds_invalid_upwards_176751;
                        int64_t i_p_m_t_s_176761 = add64(stride_176726, m_176753);
                        bool zzero_leq_i_p_m_t_s_176762 = sle64((int64_t) 0, m_176757);
                        bool i_p_m_t_s_leq_w_176763 = slt64(m_176757, next_stride_176727);
                        bool valid_176764 = !bounds_invalid_upwards_176758;
                        bool i_p_m_t_s_leq_w_176765 = slt64(m_176736, flat_dim_176750);
                        bool y_176766 = slt64((int64_t) 0, j_m_i_176749);
                        bool protect_assert_disj_176767 = cond_176739 || valid_176760;
                        bool range_valid_c_176768;
                        
                        if (!protect_assert_disj_176767) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176769 = sle64((int64_t) 0, i_p_m_t_s_176761);
                        bool i_p_m_t_s_leq_w_176770 = slt64(i_p_m_t_s_176761, next_stride_176727);
                        bool y_176771 = zzero_leq_i_p_m_t_s_176762 && i_p_m_t_s_leq_w_176763;
                        bool protect_assert_disj_176772 = cond_176739 || valid_176764;
                        bool range_valid_c_176773;
                        
                        if (!protect_assert_disj_176772) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176747, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176774 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176765;
                        bool y_176775 = zzero_lte_i_176754 && i_p_m_t_s_leq_w_176770;
                        bool forwards_ok_176776 = zzero_lte_i_176754 && y_176771;
                        bool ok_or_empty_176777 = zzero_176728 || y_176774;
                        bool protect_assert_disj_176778 = cond_176759 || y_176766;
                        bool y_176779 = zzero_leq_i_p_m_t_s_176769 && y_176775;
                        bool ok_or_empty_176780 = empty_slice_176756 || forwards_ok_176776;
                        bool protect_assert_disj_176781 = cond_176739 || ok_or_empty_176777;
                        bool index_certs_176782;
                        
                        if (!protect_assert_disj_176781) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) flat_dim_176750, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176783 = !cond_176739;
                        bool protect_assert_disj_176784 = protect_assert_disj_176778 || loop_not_taken_176783;
                        bool index_certs_176785;
                        
                        if (!protect_assert_disj_176784) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176786 = i_lte_j_176755 && y_176779;
                        bool protect_assert_disj_176787 = cond_176739 || ok_or_empty_176780;
                        bool index_certs_176788;
                        
                        if (!protect_assert_disj_176787) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176789 = ok_or_empty_176780 || loop_not_taken_176783;
                        bool index_certs_176790;
                        
                        if (!protect_assert_disj_176789) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176791 = empty_slice_176752 || forwards_ok_176786;
                        bool protect_assert_disj_176792 = cond_176739 || ok_or_empty_176791;
                        bool index_certs_176793;
                        
                        if (!protect_assert_disj_176792) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176794 = loop_not_taken_176783 || ok_or_empty_176791;
                        bool index_certs_176795;
                        
                        if (!protect_assert_disj_176794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180873 = next_stride_176727 * num_merges_176731;
                        int64_t binop_x_180875 = (int64_t) 8 * num_merges_176731;
                        int64_t bytes_180876 = next_stride_176727 * binop_x_180875;
                        int64_t binop_x_180878 = (int64_t) 4 * num_merges_176731;
                        int64_t bytes_180879 = next_stride_176727 * binop_x_180878;
                        bool i_lte_j_176738 = sle64((int64_t) 0, next_stride_176727);
                        
                        if (mem_180874_cached_sizze_182554 < bytes_180873) {
                            err = lexical_realloc(ctx, &mem_180874, &mem_180874_cached_sizze_182554, bytes_180873);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180877_cached_sizze_182555 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180877, &mem_180877_cached_sizze_182555, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180880_cached_sizze_182556 < bytes_180879) {
                            err = lexical_realloc(ctx, &mem_180880, &mem_180880_cached_sizze_182556, bytes_180879);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180893 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748;
                        int64_t binop_x_180911 = (int64_t) 8 * num_blocks_176747;
                        int64_t bytes_180912 = merge_block_sizze_176564 * binop_x_180911;
                        int64_t binop_x_180914 = (int64_t) 4 * num_blocks_176747;
                        int64_t bytes_180915 = merge_block_sizze_176564 * binop_x_180914;
                        int64_t bytes_180976 = (int64_t) 16 * stride_176726;
                        int64_t bytes_180978 = (int64_t) 8 * stride_176726;
                        
                        for (int64_t i_180496 = 0; i_180496 < num_merges_176731; i_180496++) {
                            int64_t start_176800 = mul64(next_stride_176727, i_180496);
                            int64_t j_m_i_176801 = sub64(loop_dz2084Uz2082U_176721, start_176800);
                            bool empty_slice_176802 = j_m_i_176801 == (int64_t) 0;
                            int64_t m_176803 = sub64(j_m_i_176801, (int64_t) 1);
                            int64_t i_p_m_t_s_176804 = add64(start_176800, m_176803);
                            bool zzero_leq_i_p_m_t_s_176805 = sle64((int64_t) 0, i_p_m_t_s_176804);
                            bool i_p_m_t_s_leq_w_176806 = slt64(i_p_m_t_s_176804, loop_dz2084Uz2082U_176721);
                            bool zzero_lte_i_176807 = sle64((int64_t) 0, start_176800);
                            bool i_lte_j_176808 = sle64(start_176800, loop_dz2084Uz2082U_176721);
                            bool y_176809 = i_p_m_t_s_leq_w_176806 && zzero_lte_i_176807;
                            bool y_176810 = zzero_leq_i_p_m_t_s_176805 && y_176809;
                            bool forwards_ok_176811 = i_lte_j_176808 && y_176810;
                            bool ok_or_empty_176812 = empty_slice_176802 || forwards_ok_176811;
                            bool index_certs_176813;
                            
                            if (!ok_or_empty_176812) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176800, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176721, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176814 = slt64(m_176736, j_m_i_176801);
                            bool y_176815 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176814;
                            bool forwards_ok_176816 = i_lte_j_176738 && y_176815;
                            bool ok_or_empty_176817 = zzero_176728 || forwards_ok_176816;
                            bool index_certs_176818;
                            
                            if (!ok_or_empty_176817) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) j_m_i_176801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176739) {
                                int8_t dummy_179948;
                                int64_t dummy_179949;
                                int32_t dummy_179950;
                                
                                if (cond_176759) {
                                    int8_t head_res_179951 = ((int8_t *) mem_param_180866.mem)[start_176800];
                                    int64_t head_res_179952 = ((int64_t *) mem_param_180869.mem)[start_176800];
                                    int32_t head_res_179953 = ((int32_t *) mem_param_180872.mem)[start_176800];
                                    
                                    dummy_179948 = head_res_179951;
                                    dummy_179949 = head_res_179952;
                                    dummy_179950 = head_res_179953;
                                } else {
                                    int64_t slice_179954 = stride_176726 + start_176800;
                                    int8_t head_res_179955 = ((int8_t *) mem_param_180866.mem)[slice_179954];
                                    int64_t head_res_179956 = ((int64_t *) mem_param_180869.mem)[slice_179954];
                                    int32_t head_res_179957 = ((int32_t *) mem_param_180872.mem)[slice_179954];
                                    
                                    dummy_179948 = head_res_179955;
                                    dummy_179949 = head_res_179956;
                                    dummy_179950 = head_res_179957;
                                }
                                if (memblock_alloc(ctx, &mem_180975, next_stride_176727, "mem_180975")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182278 = 0; nest_i_182278 < next_stride_176727; nest_i_182278++) {
                                    ((int8_t *) mem_180975.mem)[nest_i_182278] = dummy_179948;
                                }
                                if (memblock_alloc(ctx, &mem_180977, bytes_180976, "mem_180977")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182279 = 0; nest_i_182279 < next_stride_176727; nest_i_182279++) {
                                    ((int64_t *) mem_180977.mem)[nest_i_182279] = dummy_179949;
                                }
                                if (memblock_alloc(ctx, &mem_180979, bytes_180978, "mem_180979")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182280 = 0; nest_i_182280 < next_stride_176727; nest_i_182280++) {
                                    ((int32_t *) mem_180979.mem)[nest_i_182280] = dummy_179950;
                                }
                                
                                int64_t data_179961;
                                int64_t i_179966 = (int64_t) 0;
                                
                                for (int64_t k_179965 = 0; k_179965 < next_stride_176727; k_179965++) {
                                    int64_t j_179970 = sub64(k_179965, i_179966);
                                    bool cond_179971 = j_179970 == j_m_i_176749;
                                    bool cond_179972;
                                    
                                    if (cond_179971) {
                                        cond_179972 = 1;
                                    } else {
                                        bool cond_179973 = slt64(i_179966, stride_176726);
                                        bool cond_f_res_179974;
                                        
                                        if (cond_179973) {
                                            bool x_179975 = sle64((int64_t) 0, j_179970);
                                            bool y_179976 = slt64(j_179970, j_m_i_176749);
                                            bool bounds_check_179977 = x_179975 && y_179976;
                                            bool index_certs_179978;
                                            
                                            if (!bounds_check_179977) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179984 = sle64((int64_t) 0, i_179966);
                                            bool bounds_check_179985 = cond_179973 && x_179984;
                                            bool index_certs_179986;
                                            
                                            if (!bounds_check_179985) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179979 = stride_176726 + j_179970;
                                            int64_t slice_179980 = start_176800 + slice_179979;
                                            int8_t leq_arg1_179981 = ((int8_t *) mem_param_180866.mem)[slice_179980];
                                            int64_t leq_arg1_179982 = ((int64_t *) mem_param_180869.mem)[slice_179980];
                                            int32_t leq_arg1_179983 = ((int32_t *) mem_param_180872.mem)[slice_179980];
                                            int64_t slice_179987 = start_176800 + i_179966;
                                            int8_t leq_arg0_179988 = ((int8_t *) mem_param_180866.mem)[slice_179987];
                                            int64_t leq_arg0_179989 = ((int64_t *) mem_param_180869.mem)[slice_179987];
                                            int32_t leq_arg0_179990 = ((int32_t *) mem_param_180872.mem)[slice_179987];
                                            bool cond_179991 = leq_arg0_179988 == leq_arg1_179981;
                                            bool defunc_0_leq_res_t_res_179992 = sle64(leq_arg0_179989, leq_arg1_179982);
                                            bool defunc_0_leq_res_179993 = sle32(leq_arg0_179990, leq_arg1_179983);
                                            bool x_179994 = cond_179991 && defunc_0_leq_res_t_res_179992;
                                            bool x_179995 = !cond_179991;
                                            bool y_179996 = defunc_0_leq_res_179993 && x_179995;
                                            bool defunc_0_leq_res_179997 = x_179994 || y_179996;
                                            
                                            cond_f_res_179974 = defunc_0_leq_res_179997;
                                        } else {
                                            cond_f_res_179974 = 0;
                                        }
                                        cond_179972 = cond_f_res_179974;
                                    }
                                    
                                    int64_t loopres_179998;
                                    int8_t loopres_179999;
                                    int64_t loopres_180000;
                                    int32_t loopres_180001;
                                    
                                    if (cond_179972) {
                                        bool x_180003 = sle64((int64_t) 0, i_179966);
                                        bool y_180004 = slt64(i_179966, stride_176726);
                                        bool bounds_check_180005 = x_180003 && y_180004;
                                        bool index_certs_180006;
                                        
                                        if (!bounds_check_180005) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180002 = add64((int64_t) 1, i_179966);
                                        int64_t slice_180007 = start_176800 + i_179966;
                                        int8_t tmp_180008 = ((int8_t *) mem_param_180866.mem)[slice_180007];
                                        int64_t tmp_180009 = ((int64_t *) mem_param_180869.mem)[slice_180007];
                                        int32_t tmp_180010 = ((int32_t *) mem_param_180872.mem)[slice_180007];
                                        
                                        loopres_179998 = tmp_180002;
                                        loopres_179999 = tmp_180008;
                                        loopres_180000 = tmp_180009;
                                        loopres_180001 = tmp_180010;
                                    } else {
                                        bool x_180011 = sle64((int64_t) 0, j_179970);
                                        bool y_180012 = slt64(j_179970, j_m_i_176749);
                                        bool bounds_check_180013 = x_180011 && y_180012;
                                        bool index_certs_180014;
                                        
                                        if (!bounds_check_180013) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180015 = stride_176726 + j_179970;
                                        int64_t slice_180016 = start_176800 + slice_180015;
                                        int8_t tmp_180017 = ((int8_t *) mem_param_180866.mem)[slice_180016];
                                        int64_t tmp_180018 = ((int64_t *) mem_param_180869.mem)[slice_180016];
                                        int32_t tmp_180019 = ((int32_t *) mem_param_180872.mem)[slice_180016];
                                        
                                        loopres_179998 = i_179966;
                                        loopres_179999 = tmp_180017;
                                        loopres_180000 = tmp_180018;
                                        loopres_180001 = tmp_180019;
                                    }
                                    ((int8_t *) mem_180975.mem)[k_179965] = loopres_179999;
                                    ((int64_t *) mem_180977.mem)[k_179965] = loopres_180000;
                                    ((int32_t *) mem_180979.mem)[k_179965] = loopres_180001;
                                    
                                    int64_t i_tmp_182281 = loopres_179998;
                                    
                                    i_179966 = i_tmp_182281;
                                }
                                data_179961 = i_179966;
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180975, "mem_180975") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180977, "mem_180977") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180979, "mem_180979") != 0)
                                    return 1;
                            } else {
                                if (mem_180894_cached_sizze_182557 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180894, &mem_180894_cached_sizze_182557, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180896_cached_sizze_182558 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180896, &mem_180896_cached_sizze_182558, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180477 = 0; i_180477 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748; i_180477++) {
                                    int64_t split_count_arg3_176901 = mul64(merge_block_sizze_176564, i_180477);
                                    int64_t defunc_0_split_count_res_176902;
                                    int64_t defunc_0_split_count_res_176903;
                                    int64_t defunc_0_split_count_res_176904;
                                    int64_t defunc_0_split_count_res_176905;
                                    int64_t defunc_0_split_count_res_176906;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_176902, &defunc_0_split_count_res_176903, &defunc_0_split_count_res_176904, &defunc_0_split_count_res_176905, &defunc_0_split_count_res_176906, (int64_t) 0, stride_176726, (int64_t) 0, j_m_i_176749, split_count_arg3_176901) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176907 = slt64((int64_t) 0, defunc_0_split_count_res_176906);
                                    bool defunc_0_split_count_res_176908;
                                    int64_t defunc_0_split_count_res_176909;
                                    int64_t defunc_0_split_count_res_176910;
                                    int64_t defunc_0_split_count_res_176911;
                                    int64_t defunc_0_split_count_res_176912;
                                    int64_t defunc_0_split_count_res_176913;
                                    bool loop_while_176914;
                                    int64_t ss_176915;
                                    int64_t ss_176916;
                                    int64_t tt_176917;
                                    int64_t tt_176918;
                                    int64_t count_176919;
                                    
                                    loop_while_176914 = loop_cond_176907;
                                    ss_176915 = defunc_0_split_count_res_176902;
                                    ss_176916 = defunc_0_split_count_res_176903;
                                    tt_176917 = defunc_0_split_count_res_176904;
                                    tt_176918 = defunc_0_split_count_res_176905;
                                    count_176919 = defunc_0_split_count_res_176906;
                                    while (loop_while_176914) {
                                        int64_t zlze_lhs_176920 = sub64(ss_176916, ss_176915);
                                        bool cond_176921 = sle64(zlze_lhs_176920, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176922;
                                        int64_t defunc_0_lifted_step_res_176923;
                                        int64_t defunc_0_lifted_step_res_176924;
                                        int64_t defunc_0_lifted_step_res_176925;
                                        
                                        if (cond_176921) {
                                            int64_t tmp_180023 = add64(tt_176917, count_176919);
                                            
                                            defunc_0_lifted_step_res_176922 = ss_176915;
                                            defunc_0_lifted_step_res_176923 = tmp_180023;
                                            defunc_0_lifted_step_res_176924 = tt_176918;
                                            defunc_0_lifted_step_res_176925 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176927 = sub64(tt_176918, tt_176917);
                                            bool cond_176928 = sle64(zlze_lhs_176927, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176929;
                                            int64_t defunc_0_lifted_step_res_f_res_176930;
                                            int64_t defunc_0_lifted_step_res_f_res_176931;
                                            int64_t defunc_0_lifted_step_res_f_res_176932;
                                            
                                            if (cond_176928) {
                                                int64_t tmp_180024 = add64(ss_176915, count_176919);
                                                
                                                defunc_0_lifted_step_res_f_res_176929 = tmp_180024;
                                                defunc_0_lifted_step_res_f_res_176930 = tt_176917;
                                                defunc_0_lifted_step_res_f_res_176931 = tt_176918;
                                                defunc_0_lifted_step_res_f_res_176932 = (int64_t) 0;
                                            } else {
                                                bool cond_176934 = count_176919 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176935;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176936;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176937;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176938;
                                                
                                                if (cond_176934) {
                                                    bool x_180026 = sle64((int64_t) 0, ss_176915);
                                                    bool y_180027 = slt64(ss_176915, stride_176726);
                                                    bool bounds_check_180028 = x_180026 && y_180027;
                                                    bool index_certs_180029;
                                                    
                                                    if (!bounds_check_180028) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176915, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180034 = sle64((int64_t) 0, tt_176917);
                                                    bool y_180035 = slt64(tt_176917, j_m_i_176749);
                                                    bool bounds_check_180036 = x_180034 && y_180035;
                                                    bool index_certs_180037;
                                                    
                                                    if (!bounds_check_180036) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176917, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180030 = start_176800 + ss_176915;
                                                    int8_t leq_arg1_180031 = ((int8_t *) mem_param_180866.mem)[slice_180030];
                                                    int64_t leq_arg1_180032 = ((int64_t *) mem_param_180869.mem)[slice_180030];
                                                    int32_t leq_arg1_180033 = ((int32_t *) mem_param_180872.mem)[slice_180030];
                                                    int64_t slice_180038 = stride_176726 + tt_176917;
                                                    int64_t slice_180039 = start_176800 + slice_180038;
                                                    int8_t leq_arg0_180040 = ((int8_t *) mem_param_180866.mem)[slice_180039];
                                                    int64_t leq_arg0_180041 = ((int64_t *) mem_param_180869.mem)[slice_180039];
                                                    int32_t leq_arg0_180042 = ((int32_t *) mem_param_180872.mem)[slice_180039];
                                                    bool cond_180043 = leq_arg0_180040 == leq_arg1_180031;
                                                    bool defunc_0_leq_res_t_res_180044 = sle64(leq_arg0_180041, leq_arg1_180032);
                                                    bool defunc_0_leq_res_180045 = sle32(leq_arg0_180042, leq_arg1_180033);
                                                    bool x_180046 = cond_180043 && defunc_0_leq_res_t_res_180044;
                                                    bool x_180047 = !cond_180043;
                                                    bool y_180048 = defunc_0_leq_res_180045 && x_180047;
                                                    bool defunc_0_leq_res_180049 = x_180046 || y_180048;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    
                                                    if (defunc_0_leq_res_180049) {
                                                        int64_t tmp_180052 = add64((int64_t) 1, tt_176917);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = ss_176915;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tmp_180052;
                                                    } else {
                                                        int64_t tmp_180053 = add64((int64_t) 1, ss_176915);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = tmp_180053;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tt_176917;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = tt_176918;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176967 = sdiv64(count_176919, (int64_t) 2);
                                                    int64_t n_176968 = sub64(count_176919, m_176967);
                                                    bool cond_176969 = n_176968 == (int64_t) 0;
                                                    int64_t zgze_lhs_176970 = add64(ss_176915, m_176967);
                                                    bool cond_f_res_176971 = sle64(ss_176916, zgze_lhs_176970);
                                                    bool x_176972 = !cond_176969;
                                                    bool y_176973 = cond_f_res_176971 && x_176972;
                                                    bool cond_176974 = cond_176969 || y_176973;
                                                    bool leq_y_x_176975;
                                                    
                                                    if (cond_176974) {
                                                        leq_y_x_176975 = 1;
                                                    } else {
                                                        bool x_176976 = sle64((int64_t) 0, zgze_lhs_176970);
                                                        bool y_176977 = slt64(zgze_lhs_176970, stride_176726);
                                                        bool bounds_check_176978 = x_176976 && y_176977;
                                                        bool index_certs_176979;
                                                        
                                                        if (!bounds_check_176978) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176970, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176984 = add64(tt_176917, n_176968);
                                                        int64_t leq_arg0_176985 = sub64(zm_lhs_176984, (int64_t) 1);
                                                        bool x_176986 = sle64((int64_t) 0, leq_arg0_176985);
                                                        bool y_176987 = slt64(leq_arg0_176985, j_m_i_176749);
                                                        bool bounds_check_176988 = x_176986 && y_176987;
                                                        bool index_certs_176989;
                                                        
                                                        if (!bounds_check_176988) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176985, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176980 = start_176800 + zgze_lhs_176970;
                                                        int8_t leq_arg1_176981 = ((int8_t *) mem_param_180866.mem)[slice_176980];
                                                        int64_t leq_arg1_176982 = ((int64_t *) mem_param_180869.mem)[slice_176980];
                                                        int32_t leq_arg1_176983 = ((int32_t *) mem_param_180872.mem)[slice_176980];
                                                        int64_t slice_176990 = stride_176726 + leq_arg0_176985;
                                                        int64_t slice_176991 = start_176800 + slice_176990;
                                                        int8_t leq_arg0_176992 = ((int8_t *) mem_param_180866.mem)[slice_176991];
                                                        int64_t leq_arg0_176993 = ((int64_t *) mem_param_180869.mem)[slice_176991];
                                                        int32_t leq_arg0_176994 = ((int32_t *) mem_param_180872.mem)[slice_176991];
                                                        bool cond_176995 = leq_arg0_176992 == leq_arg1_176981;
                                                        bool defunc_0_leq_res_t_res_176996 = sle64(leq_arg0_176993, leq_arg1_176982);
                                                        bool defunc_0_leq_res_176997 = sle32(leq_arg0_176994, leq_arg1_176983);
                                                        bool x_176998 = cond_176995 && defunc_0_leq_res_t_res_176996;
                                                        bool x_176999 = !cond_176995;
                                                        bool y_177000 = defunc_0_leq_res_176997 && x_176999;
                                                        bool defunc_0_leq_res_177001 = x_176998 || y_177000;
                                                        
                                                        leq_y_x_176975 = defunc_0_leq_res_177001;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                    
                                                    if (leq_y_x_176975) {
                                                        int64_t tmp_180054 = add64(tt_176917, n_176968);
                                                        int64_t tmp_180055 = sub64(count_176919, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tmp_180054;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tt_176918;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = tmp_180055;
                                                    } else {
                                                        int64_t tmp_177007 = add64(tt_176917, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tt_176917;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tmp_177007;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = count_176919;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = ss_176915;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                }
                                                defunc_0_lifted_step_res_f_res_176929 = defunc_0_lifted_step_res_f_res_f_res_176935;
                                                defunc_0_lifted_step_res_f_res_176930 = defunc_0_lifted_step_res_f_res_f_res_176936;
                                                defunc_0_lifted_step_res_f_res_176931 = defunc_0_lifted_step_res_f_res_f_res_176937;
                                                defunc_0_lifted_step_res_f_res_176932 = defunc_0_lifted_step_res_f_res_f_res_176938;
                                            }
                                            defunc_0_lifted_step_res_176922 = defunc_0_lifted_step_res_f_res_176929;
                                            defunc_0_lifted_step_res_176923 = defunc_0_lifted_step_res_f_res_176930;
                                            defunc_0_lifted_step_res_176924 = defunc_0_lifted_step_res_f_res_176931;
                                            defunc_0_lifted_step_res_176925 = defunc_0_lifted_step_res_f_res_176932;
                                        }
                                        
                                        int64_t loopres_177008;
                                        int64_t loopres_177009;
                                        int64_t loopres_177010;
                                        int64_t loopres_177011;
                                        int64_t loopres_177012;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_177008, &loopres_177009, &loopres_177010, &loopres_177011, &loopres_177012, defunc_0_lifted_step_res_176922, ss_176916, defunc_0_lifted_step_res_176923, defunc_0_lifted_step_res_176924, defunc_0_lifted_step_res_176925) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177013 = slt64((int64_t) 0, loopres_177012);
                                        bool loop_while_tmp_182287 = loop_cond_177013;
                                        int64_t ss_tmp_182288 = loopres_177008;
                                        int64_t ss_tmp_182289 = loopres_177009;
                                        int64_t tt_tmp_182290 = loopres_177010;
                                        int64_t tt_tmp_182291 = loopres_177011;
                                        int64_t count_tmp_182292 = loopres_177012;
                                        
                                        loop_while_176914 = loop_while_tmp_182287;
                                        ss_176915 = ss_tmp_182288;
                                        ss_176916 = ss_tmp_182289;
                                        tt_176917 = tt_tmp_182290;
                                        tt_176918 = tt_tmp_182291;
                                        count_176919 = count_tmp_182292;
                                    }
                                    defunc_0_split_count_res_176908 = loop_while_176914;
                                    defunc_0_split_count_res_176909 = ss_176915;
                                    defunc_0_split_count_res_176910 = ss_176916;
                                    defunc_0_split_count_res_176911 = tt_176917;
                                    defunc_0_split_count_res_176912 = tt_176918;
                                    defunc_0_split_count_res_176913 = count_176919;
                                    ((int64_t *) mem_180894)[i_180477] = defunc_0_split_count_res_176909;
                                    ((int64_t *) mem_180896)[i_180477] = defunc_0_split_count_res_176911;
                                }
                                if (mem_180910_cached_sizze_182559 < flat_dim_176750) {
                                    err = lexical_realloc(ctx, &mem_180910, &mem_180910_cached_sizze_182559, flat_dim_176750);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180913_cached_sizze_182560 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180913, &mem_180913_cached_sizze_182560, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180916_cached_sizze_182561 < bytes_180915) {
                                    err = lexical_realloc(ctx, &mem_180916, &mem_180916_cached_sizze_182561, bytes_180915);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180486 = 0; i_180486 < num_blocks_176747; i_180486++) {
                                    bool y_177020 = slt64(i_180486, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool index_certs_177022;
                                    
                                    if (!y_177020) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177023 = ((int64_t *) mem_180894)[i_180486];
                                    int64_t defunc_0_f_res_177024 = ((int64_t *) mem_180896)[i_180486];
                                    int64_t tmp_177025 = add64((int64_t) 1, i_180486);
                                    bool x_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool y_177027 = slt64(tmp_177025, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool bounds_check_177028 = x_177026 && y_177027;
                                    bool index_certs_177029;
                                    
                                    if (!bounds_check_177028) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177030 = ((int64_t *) mem_180894)[tmp_177025];
                                    int64_t defunc_0_f_res_177031 = ((int64_t *) mem_180896)[tmp_177025];
                                    int64_t merge_sequential_arg2_177032 = add64(stride_176726, defunc_0_f_res_177024);
                                    int64_t merge_sequential_arg2_177033 = add64(stride_176726, defunc_0_f_res_177031);
                                    int64_t j_m_i_177034 = sub64(merge_sequential_arg2_177033, merge_sequential_arg2_177032);
                                    bool empty_slice_177035 = j_m_i_177034 == (int64_t) 0;
                                    int64_t m_177036 = sub64(j_m_i_177034, (int64_t) 1);
                                    int64_t i_p_m_t_s_177037 = add64(merge_sequential_arg2_177032, m_177036);
                                    bool zzero_leq_i_p_m_t_s_177038 = sle64((int64_t) 0, i_p_m_t_s_177037);
                                    bool i_p_m_t_s_leq_w_177039 = slt64(i_p_m_t_s_177037, next_stride_176727);
                                    bool zzero_lte_i_177040 = sle64((int64_t) 0, merge_sequential_arg2_177032);
                                    bool i_lte_j_177041 = sle64(merge_sequential_arg2_177032, merge_sequential_arg2_177033);
                                    bool y_177042 = i_p_m_t_s_leq_w_177039 && zzero_lte_i_177040;
                                    bool y_177043 = zzero_leq_i_p_m_t_s_177038 && y_177042;
                                    bool forwards_ok_177044 = i_lte_j_177041 && y_177043;
                                    bool ok_or_empty_177045 = empty_slice_177035 || forwards_ok_177044;
                                    bool index_certs_177046;
                                    
                                    if (!ok_or_empty_177045) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177032, ":", (long long) merge_sequential_arg2_177033, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177047 = sub64(defunc_0_f_res_177030, defunc_0_f_res_177023);
                                    bool empty_slice_177048 = j_m_i_177047 == (int64_t) 0;
                                    int64_t m_177049 = sub64(j_m_i_177047, (int64_t) 1);
                                    int64_t i_p_m_t_s_177050 = add64(defunc_0_f_res_177023, m_177049);
                                    bool zzero_leq_i_p_m_t_s_177051 = sle64((int64_t) 0, i_p_m_t_s_177050);
                                    bool i_p_m_t_s_leq_w_177052 = slt64(i_p_m_t_s_177050, next_stride_176727);
                                    bool zzero_lte_i_177053 = sle64((int64_t) 0, defunc_0_f_res_177023);
                                    bool i_lte_j_177054 = sle64(defunc_0_f_res_177023, defunc_0_f_res_177030);
                                    bool y_177055 = i_p_m_t_s_leq_w_177052 && zzero_lte_i_177053;
                                    bool y_177056 = zzero_leq_i_p_m_t_s_177051 && y_177055;
                                    bool forwards_ok_177057 = i_lte_j_177054 && y_177056;
                                    bool ok_or_empty_177058 = empty_slice_177048 || forwards_ok_177057;
                                    bool index_certs_177059;
                                    
                                    if (!ok_or_empty_177058) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177023, ":", (long long) defunc_0_f_res_177030, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177060 = slt64((int64_t) 0, j_m_i_177047);
                                    int8_t dummy_177061;
                                    int64_t dummy_177062;
                                    int32_t dummy_177063;
                                    
                                    if (cond_177060) {
                                        bool index_certs_180056;
                                        
                                        if (!cond_177060) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180057 = start_176800 + defunc_0_f_res_177023;
                                        int8_t head_res_180058 = ((int8_t *) mem_param_180866.mem)[slice_180057];
                                        int64_t head_res_180059 = ((int64_t *) mem_param_180869.mem)[slice_180057];
                                        int32_t head_res_180060 = ((int32_t *) mem_param_180872.mem)[slice_180057];
                                        
                                        dummy_177061 = head_res_180058;
                                        dummy_177062 = head_res_180059;
                                        dummy_177063 = head_res_180060;
                                    } else {
                                        bool y_177069 = slt64((int64_t) 0, j_m_i_177034);
                                        bool index_certs_177070;
                                        
                                        if (!y_177069) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177071 = start_176800 + merge_sequential_arg2_177032;
                                        int8_t head_res_177072 = ((int8_t *) mem_param_180866.mem)[slice_177071];
                                        int64_t head_res_177073 = ((int64_t *) mem_param_180869.mem)[slice_177071];
                                        int32_t head_res_177074 = ((int32_t *) mem_param_180872.mem)[slice_177071];
                                        
                                        dummy_177061 = head_res_177072;
                                        dummy_177062 = head_res_177073;
                                        dummy_177063 = head_res_177074;
                                    }
                                    for (int64_t nest_i_182296 = 0; nest_i_182296 < merge_block_sizze_176564; nest_i_182296++) {
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + nest_i_182296] = dummy_177061;
                                    }
                                    for (int64_t nest_i_182297 = 0; nest_i_182297 < merge_block_sizze_176564; nest_i_182297++) {
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + nest_i_182297] = dummy_177062;
                                    }
                                    for (int64_t nest_i_182298 = 0; nest_i_182298 < merge_block_sizze_176564; nest_i_182298++) {
                                        ((int32_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + nest_i_182298] = dummy_177063;
                                    }
                                    
                                    int64_t data_177078;
                                    int64_t i_177083 = (int64_t) 0;
                                    
                                    for (int64_t k_177082 = 0; k_177082 < merge_block_sizze_176564; k_177082++) {
                                        int64_t j_177087 = sub64(k_177082, i_177083);
                                        bool cond_177088 = j_177087 == j_m_i_177034;
                                        bool cond_177089;
                                        
                                        if (cond_177088) {
                                            cond_177089 = 1;
                                        } else {
                                            bool cond_177090 = slt64(i_177083, j_m_i_177047);
                                            bool cond_f_res_177091;
                                            
                                            if (cond_177090) {
                                                bool x_180061 = sle64((int64_t) 0, j_177087);
                                                bool y_180062 = slt64(j_177087, j_m_i_177034);
                                                bool bounds_check_180063 = x_180061 && y_180062;
                                                bool index_certs_180064;
                                                
                                                if (!bounds_check_180063) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180070 = sle64((int64_t) 0, i_177083);
                                                bool bounds_check_180071 = cond_177090 && x_180070;
                                                bool index_certs_180072;
                                                
                                                if (!bounds_check_180071) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180065 = merge_sequential_arg2_177032 + j_177087;
                                                int64_t slice_180066 = start_176800 + slice_180065;
                                                int8_t leq_arg1_180067 = ((int8_t *) mem_param_180866.mem)[slice_180066];
                                                int64_t leq_arg1_180068 = ((int64_t *) mem_param_180869.mem)[slice_180066];
                                                int32_t leq_arg1_180069 = ((int32_t *) mem_param_180872.mem)[slice_180066];
                                                int64_t slice_180073 = defunc_0_f_res_177023 + i_177083;
                                                int64_t slice_180074 = start_176800 + slice_180073;
                                                int8_t leq_arg0_180075 = ((int8_t *) mem_param_180866.mem)[slice_180074];
                                                int64_t leq_arg0_180076 = ((int64_t *) mem_param_180869.mem)[slice_180074];
                                                int32_t leq_arg0_180077 = ((int32_t *) mem_param_180872.mem)[slice_180074];
                                                bool cond_180078 = leq_arg0_180075 == leq_arg1_180067;
                                                bool defunc_0_leq_res_t_res_180079 = sle64(leq_arg0_180076, leq_arg1_180068);
                                                bool defunc_0_leq_res_180080 = sle32(leq_arg0_180077, leq_arg1_180069);
                                                bool x_180081 = cond_180078 && defunc_0_leq_res_t_res_180079;
                                                bool x_180082 = !cond_180078;
                                                bool y_180083 = defunc_0_leq_res_180080 && x_180082;
                                                bool defunc_0_leq_res_180084 = x_180081 || y_180083;
                                                
                                                cond_f_res_177091 = defunc_0_leq_res_180084;
                                            } else {
                                                cond_f_res_177091 = 0;
                                            }
                                            cond_177089 = cond_f_res_177091;
                                        }
                                        
                                        int64_t loopres_177116;
                                        int8_t loopres_177117;
                                        int64_t loopres_177118;
                                        int32_t loopres_177119;
                                        
                                        if (cond_177089) {
                                            bool x_180086 = sle64((int64_t) 0, i_177083);
                                            bool y_180087 = slt64(i_177083, j_m_i_177047);
                                            bool bounds_check_180088 = x_180086 && y_180087;
                                            bool index_certs_180089;
                                            
                                            if (!bounds_check_180088) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180085 = add64((int64_t) 1, i_177083);
                                            int64_t slice_180090 = defunc_0_f_res_177023 + i_177083;
                                            int64_t slice_180091 = start_176800 + slice_180090;
                                            int8_t tmp_180092 = ((int8_t *) mem_param_180866.mem)[slice_180091];
                                            int64_t tmp_180093 = ((int64_t *) mem_param_180869.mem)[slice_180091];
                                            int32_t tmp_180094 = ((int32_t *) mem_param_180872.mem)[slice_180091];
                                            
                                            loopres_177116 = tmp_180085;
                                            loopres_177117 = tmp_180092;
                                            loopres_177118 = tmp_180093;
                                            loopres_177119 = tmp_180094;
                                        } else {
                                            bool x_177130 = sle64((int64_t) 0, j_177087);
                                            bool y_177131 = slt64(j_177087, j_m_i_177034);
                                            bool bounds_check_177132 = x_177130 && y_177131;
                                            bool index_certs_177133;
                                            
                                            if (!bounds_check_177132) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177134 = merge_sequential_arg2_177032 + j_177087;
                                            int64_t slice_177135 = start_176800 + slice_177134;
                                            int8_t tmp_177136 = ((int8_t *) mem_param_180866.mem)[slice_177135];
                                            int64_t tmp_177137 = ((int64_t *) mem_param_180869.mem)[slice_177135];
                                            int32_t tmp_177138 = ((int32_t *) mem_param_180872.mem)[slice_177135];
                                            
                                            loopres_177116 = i_177083;
                                            loopres_177117 = tmp_177136;
                                            loopres_177118 = tmp_177137;
                                            loopres_177119 = tmp_177138;
                                        }
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177117;
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177118;
                                        ((int32_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177119;
                                        
                                        int64_t i_tmp_182299 = loopres_177116;
                                        
                                        i_177083 = i_tmp_182299;
                                    }
                                    data_177078 = i_177083;
                                }
                                if (memblock_alloc(ctx, &mem_180965, flat_dim_176750, "mem_180965")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180965.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint8_t *) mem_180910, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180969, bytes_180912, "mem_180969")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180969.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180913, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180973, bytes_180915, "mem_180973")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180973.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint32_t *) mem_180916, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180965, "mem_180965") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180969, "mem_180969") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180973, "mem_180973") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180874, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181006.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180877, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180880, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181000.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181020, bytes_180873, "mem_181020")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181020.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint8_t *) mem_180874, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181024, bytes_180876, "mem_181024")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181024.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180877, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181028, bytes_180879, "mem_181028")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181028.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint32_t *) mem_180880, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        
                        bool loop_cond_177152 = slt64(next_stride_176727, flat_dim_176559);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182266, &mem_181020, "mem_181020") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182267, &mem_181024, "mem_181024") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182268, &mem_181028, "mem_181028") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182269 = bytes_180873;
                        bool loop_while_tmp_182270 = loop_cond_177152;
                        int64_t stride_tmp_182274 = next_stride_176727;
                        
                        if (memblock_set(ctx, &mem_param_180866, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180869, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180872, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176721 = loop_dz2084Uz2082U_tmp_182269;
                        loop_while_176722 = loop_while_tmp_182270;
                        stride_176726 = stride_tmp_182274;
                    }
                    if (memblock_set(ctx, &ext_mem_181038, &mem_param_180866, "mem_param_180866") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181037, &mem_param_180869, "mem_param_180869") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181036, &mem_param_180872, "mem_param_180872") != 0)
                        return 1;
                    data_176715 = loop_dz2084Uz2082U_176721;
                    data_176716 = loop_while_176722;
                    data_176720 = stride_176726;
                    if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
                        return 1;
                    
                    bool empty_slice_177153 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177154 = sle64((int64_t) 0, zs_lhs_176543);
                    bool i_p_m_t_s_leq_w_177155 = slt64(zs_lhs_176543, data_176715);
                    bool y_177156 = zzero_leq_i_p_m_t_s_177154 && i_p_m_t_s_leq_w_177155;
                    bool ok_or_empty_177157 = empty_slice_177153 || y_177156;
                    bool index_certs_177158;
                    
                    if (!ok_or_empty_177157) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] out of bounds for array of shape [", (long long) data_176715, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181047, &ext_mem_181038, "ext_mem_181038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &ext_mem_181037, "ext_mem_181037") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &ext_mem_181036, "ext_mem_181036") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180728.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180730.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180732.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181041.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
                    return 1;
                
                bool loop_cond_177194 = slt64(ubs_176486, threads_131374);
                bool loop_while_tmp_182233 = loop_cond_177194;
                int64_t p_tmp_182234 = ubs_176486;
                
                loop_while_176475 = loop_while_tmp_182233;
                p_176476 = p_tmp_182234;
            }
            defunc_0_mergeFunc_seq_res_176470 = loop_while_176475;
            defunc_0_mergeFunc_seq_res_176471 = p_176476;
            
            int64_t index_concat_branch_178011;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180109 = ((int64_t *) mem_180713)[index_concat_i_178008];
                
                index_concat_branch_178011 = index_concat_180109;
            } else {
                index_concat_branch_178011 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178005;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180110 = ((int64_t *) mem_180715)[index_concat_i_178008];
                
                index_concat_branch_178005 = index_concat_180110;
            } else {
                index_concat_branch_178005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_180730, "mem_180730") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_180732, "mem_180732") != 0)
                return 1;
            loopres_175234 = index_concat_branch_178011;
            loopres_175235 = index_concat_branch_178005;
        }
        for (int64_t i_180502 = 0; i_180502 < window_sizze_131373; i_180502++) {
            int8_t eta_p_177202 = ((int8_t *) ext_mem_181466.mem)[i_180502];
            int64_t eta_p_177203 = ((int64_t *) ext_mem_181463.mem)[i_180502];
            bool cond_177204 = eta_p_177202 == (int8_t) 0;
            int64_t tmp_177205;
            
            if (cond_177204) {
                int64_t tmp_t_res_180113 = add64(p_175206, eta_p_177203);
                
                tmp_177205 = tmp_t_res_180113;
            } else {
                int64_t tmp_f_res_177207 = add64(p_175207, eta_p_177203);
                
                tmp_177205 = tmp_f_res_177207;
            }
            ((int64_t *) mem_180700.mem)[ind_bottom_175210 + i_180502] = tmp_177205;
        }
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        
        int64_t next_lbs_177208 = add64(p_175206, loopres_175234);
        int64_t next_lbs_177209 = add64(p_175207, loopres_175235);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181466.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131373});
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131373});
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        
        bool cond_177223 = slt64(next_lbs_177208, zl_rhs_175189);
        bool loop_cond_t_res_177224 = slt64(next_lbs_177209, zl_rhs_175191);
        bool x_177225 = cond_177223 && loop_cond_t_res_177224;
        bool loop_while_tmp_182117 = x_177225;
        int64_t p_tmp_182121 = next_lbs_177208;
        int64_t p_tmp_182122 = next_lbs_177209;
        
        loop_while_175202 = loop_while_tmp_182117;
        p_175206 = p_tmp_182121;
        p_175207 = p_tmp_182122;
    }
    defunc_0_merge_pipeline_res_175196 = loop_while_175202;
    defunc_0_merge_pipeline_res_175200 = p_175206;
    defunc_0_merge_pipeline_res_175201 = p_175207;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 = sub64(nb_131372, defunc_0_merge_pipeline_res_175201);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 = sub64(na_131371, defunc_0_merge_pipeline_res_175200);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    bool empty_slice_177229 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 == (int64_t) 0;
    int64_t m_177230 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 1);
    int64_t i_p_m_t_s_177231 = add64(defunc_0_merge_pipeline_res_175200, m_177230);
    bool zzero_leq_i_p_m_t_s_177232 = sle64((int64_t) 0, i_p_m_t_s_177231);
    bool i_p_m_t_s_leq_w_177233 = slt64(i_p_m_t_s_177231, na_131371);
    bool zzero_lte_i_177234 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175200);
    bool i_lte_j_177235 = sle64(defunc_0_merge_pipeline_res_175200, na_131371);
    bool y_177236 = i_p_m_t_s_leq_w_177233 && zzero_lte_i_177234;
    bool y_177237 = zzero_leq_i_p_m_t_s_177232 && y_177236;
    bool forwards_ok_177238 = i_lte_j_177235 && y_177237;
    bool ok_or_empty_177239 = empty_slice_177229 || forwards_ok_177238;
    bool index_certs_177240;
    
    if (!ok_or_empty_177239) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175200, ":", (long long) na_131371, "] out of bounds for array of shape [", (long long) na_131371, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177244 = slt64(na_131371, defunc_0_merge_pipeline_res_175200);
    bool valid_177245 = !bounds_invalid_upwards_177244;
    bool range_valid_c_177246;
    
    if (!valid_177245) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175200, "..<", (long long) na_131371, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177250 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 == (int64_t) 0;
    int64_t m_177251 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, (int64_t) 1);
    int64_t i_p_m_t_s_177252 = add64(defunc_0_merge_pipeline_res_175201, m_177251);
    bool zzero_leq_i_p_m_t_s_177253 = sle64((int64_t) 0, i_p_m_t_s_177252);
    bool i_p_m_t_s_leq_w_177254 = slt64(i_p_m_t_s_177252, nb_131372);
    bool zzero_lte_i_177255 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175201);
    bool i_lte_j_177256 = sle64(defunc_0_merge_pipeline_res_175201, nb_131372);
    bool y_177257 = i_p_m_t_s_leq_w_177254 && zzero_lte_i_177255;
    bool y_177258 = zzero_leq_i_p_m_t_s_177253 && y_177257;
    bool forwards_ok_177259 = i_lte_j_177256 && y_177258;
    bool ok_or_empty_177260 = empty_slice_177250 || forwards_ok_177259;
    bool index_certs_177261;
    
    if (!ok_or_empty_177260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175201, ":", (long long) nb_131372, "] out of bounds for array of shape [", (long long) nb_131372, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177265 = slt64(nb_131372, defunc_0_merge_pipeline_res_175201);
    bool valid_177266 = !bounds_invalid_upwards_177265;
    bool range_valid_c_177267;
    
    if (!valid_177266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175201, "..<", (long long) nb_131372, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181491 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    int64_t bytes_181493 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool cond_177274 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zs_lhs_177275 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zp_rhs_177276 = sdiv_safe64(zs_lhs_177275, (int64_t) 20);
    int64_t min_num_blocks_177277 = add64((int64_t) 1, zp_rhs_177276);
    bool loop_cond_177278 = slt64((int64_t) 1, min_num_blocks_177277);
    bool smallest_pow_2_geq_than_res_177279;
    int64_t smallest_pow_2_geq_than_res_177280;
    bool loop_while_177281;
    int64_t x_177282;
    
    loop_while_177281 = loop_cond_177278;
    x_177282 = (int64_t) 1;
    while (loop_while_177281) {
        int64_t loopres_177283 = mul64((int64_t) 2, x_177282);
        bool loop_cond_177284 = slt64(loopres_177283, min_num_blocks_177277);
        bool loop_while_tmp_182304 = loop_cond_177284;
        int64_t x_tmp_182305 = loopres_177283;
        
        loop_while_177281 = loop_while_tmp_182304;
        x_177282 = x_tmp_182305;
    }
    smallest_pow_2_geq_than_res_177279 = loop_while_177281;
    smallest_pow_2_geq_than_res_177280 = x_177282;
    
    bool zzero_177285 = smallest_pow_2_geq_than_res_177280 == (int64_t) 0;
    bool nonzzero_177286 = !zzero_177285;
    bool protect_assert_disj_177287 = cond_177274 || nonzzero_177286;
    bool nonzzero_cert_177288;
    
    if (!protect_assert_disj_177287) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177289 = sdiv_safe64(zs_lhs_177275, smallest_pow_2_geq_than_res_177280);
    int64_t block_sizze_177290 = add64((int64_t) 1, zp_rhs_177289);
    bool y_177297 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool protect_assert_disj_181819 = cond_177274 || y_177297;
    bool index_certs_177298;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177324 = slt64(smallest_pow_2_geq_than_res_177280, (int64_t) 0);
    bool valid_177325 = !bounds_invalid_upwards_177324;
    bool protect_assert_disj_181829 = cond_177274 || valid_177325;
    bool range_valid_c_177326;
    
    if (!protect_assert_disj_181829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177280, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177328 = slt64(block_sizze_177290, (int64_t) 0);
    bool valid_177329 = !bounds_invalid_upwards_177328;
    bool protect_assert_disj_181831 = cond_177274 || valid_177329;
    bool range_valid_c_177330;
    
    if (!protect_assert_disj_181831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177290, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177332 = sle64(block_sizze_177290, (int64_t) 1);
    int64_t tmp_177333 = sub64(block_sizze_177290, (int64_t) 2);
    bool bounds_invalid_upwards_177334 = slt64(tmp_177333, (int64_t) 0);
    bool valid_177336 = !bounds_invalid_upwards_177334;
    bool protect_assert_disj_177337 = cond_177332 || valid_177336;
    bool protect_assert_disj_181833 = cond_177274 || protect_assert_disj_177337;
    bool range_valid_c_177338;
    
    if (!protect_assert_disj_181833) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177333, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177899 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177901 = sle64((int64_t) 0, zs_lhs_177275);
    bool i_p_m_t_s_leq_w_177902 = slt64(zs_lhs_177275, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool y_177903 = zzero_leq_i_p_m_t_s_177901 && i_p_m_t_s_leq_w_177902;
    bool ok_or_empty_177904 = empty_slice_177899 || y_177903;
    bool index_certs_177905;
    
    if (!ok_or_empty_177904) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177906 = add64(defunc_0_merge_pipeline_res_175200, defunc_0_merge_pipeline_res_175201);
    int64_t j_m_i_177907 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, final_buffer_177906);
    bool empty_slice_177908 = j_m_i_177907 == (int64_t) 0;
    int64_t m_177909 = sub64(j_m_i_177907, (int64_t) 1);
    int64_t i_p_m_t_s_177910 = add64(final_buffer_177906, m_177909);
    bool zzero_leq_i_p_m_t_s_177911 = sle64((int64_t) 0, i_p_m_t_s_177910);
    bool i_p_m_t_s_leq_w_177912 = slt64(i_p_m_t_s_177910, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool zzero_lte_i_177913 = sle64((int64_t) 0, final_buffer_177906);
    bool i_lte_j_177914 = sle64(final_buffer_177906, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool y_177915 = i_p_m_t_s_leq_w_177912 && zzero_lte_i_177913;
    bool y_177916 = zzero_leq_i_p_m_t_s_177911 && y_177915;
    bool forwards_ok_177917 = i_lte_j_177914 && y_177916;
    bool ok_or_empty_177918 = empty_slice_177908 || forwards_ok_177917;
    bool index_certs_177919;
    
    if (!ok_or_empty_177918) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177906, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177920 = j_m_i_177907 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool empty_or_match_cert_177921;
    
    if (!dim_match_177920) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177907, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181490, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "mem_181490")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182306 = 0; nest_i_182306 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; nest_i_182306++) {
        ((int8_t *) mem_181490.mem)[nest_i_182306] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181492, bytes_181491, "mem_181492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182307 = 0; i_182307 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; i_182307++) {
        int64_t x_182308 = defunc_0_merge_pipeline_res_175200 + i_182307 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[i_182307] = x_182308;
    }
    for (int64_t nest_i_182309 = 0; nest_i_182309 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; nest_i_182309++) {
        ((int8_t *) mem_181490.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + nest_i_182309] = (int8_t) 1;
    }
    for (int64_t i_182310 = 0; i_182310 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; i_182310++) {
        int64_t x_182311 = defunc_0_merge_pipeline_res_175201 + i_182310 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + i_182310] = x_182311;
    }
    
    int64_t tmp_offs_182312 = (int64_t) 0;
    
    if (!(tmp_offs_182312 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182312 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t tmp_offs_182313 = (int64_t) 0;
    
    if (!(tmp_offs_182313 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182313 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    if (memblock_alloc(ctx, &mem_181494, bytes_181493, "mem_181494")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182314 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180696.mem, defunc_0_merge_pipeline_res_175200, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180697.mem, defunc_0_merge_pipeline_res_175201, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t flat_dim_177291 = smallest_pow_2_geq_than_res_177280 * block_sizze_177290;
    bool x_181814 = !cond_177274;
    int64_t greatest_divisor_leq_than_arg1_177295 = mul64((int64_t) 2, block_sizze_177290);
    int64_t merge_block_sizze_177296;
    
    if (x_181814) {
        int64_t x_181816;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181816, (int64_t) 8, greatest_divisor_leq_than_arg1_177295) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177296 = x_181816;
    } else {
        merge_block_sizze_177296 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177971 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 0);
    int8_t index_concat_branch_177975 = btoi_bool_i8(index_concat_cmp_177971);
    int64_t index_concat_i_180115 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    int64_t index_primexp_180116 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180115);
    int64_t index_concat_branch_177969;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177969 = index_primexp_180116;
    } else {
        index_concat_branch_177969 = defunc_0_merge_pipeline_res_175200;
    }
    
    bool x_181810 = !index_concat_cmp_177971;
    bool protect_cond_conj_181820 = x_181810 && x_181814;
    int32_t index_concat_177962;
    
    if (protect_cond_conj_181820) {
        int32_t x_181812 = ((int32_t *) a_list_mem_180696.mem)[defunc_0_merge_pipeline_res_175200];
        
        index_concat_177962 = x_181812;
    } else {
        index_concat_177962 = 0;
    }
    
    bool protect_cond_conj_181821 = index_concat_cmp_177971 && x_181814;
    int32_t index_concat_180119;
    
    if (protect_cond_conj_181821) {
        int32_t x_181808 = ((int32_t *) b_list_mem_180697.mem)[index_primexp_180116];
        
        index_concat_180119 = x_181808;
    } else {
        index_concat_180119 = 0;
    }
    
    int32_t index_concat_branch_177963;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177963 = index_concat_180119;
    } else {
        index_concat_branch_177963 = index_concat_177962;
    }
    
    int8_t defunc_0_reduce_res_180350;
    int64_t defunc_0_reduce_res_180351;
    int32_t defunc_0_reduce_res_180352;
    
    if (x_181814) {
        int8_t x_181822;
        int64_t x_181823;
        int32_t x_181824;
        int8_t redout_180504;
        int64_t redout_180505;
        int32_t redout_180506;
        
        redout_180504 = index_concat_branch_177975;
        redout_180505 = index_concat_branch_177969;
        redout_180506 = index_concat_branch_177963;
        for (int64_t i_180507 = 0; i_180507 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228; i_180507++) {
            bool index_concat_cmp_180578 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, i_180507);
            int8_t index_concat_branch_180582 = btoi_bool_i8(index_concat_cmp_180578);
            int64_t index_concat_branch_180576;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180573 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t index_primexp_180666 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180573);
                
                index_concat_branch_180576 = index_primexp_180666;
            } else {
                int64_t index_primexp_180668 = add64(defunc_0_merge_pipeline_res_175200, i_180507);
                
                index_concat_branch_180576 = index_primexp_180668;
            }
            
            int32_t index_concat_branch_180570;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180567 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t slice_180663 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180567;
                int32_t index_concat_180568 = ((int32_t *) b_list_mem_180697.mem)[slice_180663];
                
                index_concat_branch_180570 = index_concat_180568;
            } else {
                int64_t slice_180664 = defunc_0_merge_pipeline_res_175200 + i_180507;
                int32_t index_concat_180569 = ((int32_t *) a_list_mem_180696.mem)[slice_180664];
                
                index_concat_branch_180570 = index_concat_180569;
            }
            
            bool eq_x_y_180681 = redout_180504 == (int8_t) 1;
            bool eq_x_zz_180682 = redout_180504 == (int8_t) 0;
            bool p_and_eq_x_y_180683 = index_concat_cmp_180578 && eq_x_y_180681;
            bool not_p_180684 = !index_concat_cmp_180578;
            bool p_and_eq_x_y_180685 = eq_x_zz_180682 && not_p_180684;
            bool cond_177314 = p_and_eq_x_y_180683 || p_and_eq_x_y_180685;
            bool defunc_0_leq_res_t_res_177315 = sle64(redout_180505, index_concat_branch_180576);
            bool defunc_0_leq_res_177316 = sle32(redout_180506, index_concat_branch_180570);
            bool x_177317 = cond_177314 && defunc_0_leq_res_t_res_177315;
            bool x_177318 = !cond_177314;
            bool y_177319 = defunc_0_leq_res_177316 && x_177318;
            bool defunc_0_leq_res_177320 = x_177317 || y_177319;
            int8_t defunc_0_op_res_177321;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177321 = index_concat_branch_180582;
            } else {
                defunc_0_op_res_177321 = redout_180504;
            }
            
            int64_t defunc_0_op_res_177322;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177322 = index_concat_branch_180576;
            } else {
                defunc_0_op_res_177322 = redout_180505;
            }
            
            int32_t defunc_0_op_res_177323;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177323 = index_concat_branch_180570;
            } else {
                defunc_0_op_res_177323 = redout_180506;
            }
            
            int8_t redout_tmp_182315 = defunc_0_op_res_177321;
            int64_t redout_tmp_182316 = defunc_0_op_res_177322;
            int32_t redout_tmp_182317 = defunc_0_op_res_177323;
            
            redout_180504 = redout_tmp_182315;
            redout_180505 = redout_tmp_182316;
            redout_180506 = redout_tmp_182317;
        }
        x_181822 = redout_180504;
        x_181823 = redout_180505;
        x_181824 = redout_180506;
        defunc_0_reduce_res_180350 = x_181822;
        defunc_0_reduce_res_180351 = x_181823;
        defunc_0_reduce_res_180352 = x_181824;
    } else {
        defunc_0_reduce_res_180350 = (int8_t) 0;
        defunc_0_reduce_res_180351 = (int64_t) 0;
        defunc_0_reduce_res_180352 = 0;
    }
    
    int64_t distance_177335 = add64((int64_t) 1, tmp_177333);
    int64_t binop_x_181497 = (int64_t) 8 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181498 = block_sizze_177290 * binop_x_181497;
    int64_t binop_x_181500 = (int64_t) 4 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181501 = block_sizze_177290 * binop_x_181500;
    int64_t bytes_181516 = (int64_t) 8 * block_sizze_177290;
    int64_t bytes_181518 = (int64_t) 4 * block_sizze_177290;
    bool loop_cond_177444 = slt64(block_sizze_177290, flat_dim_177291);
    bool zzero_177445 = merge_block_sizze_177296 == (int64_t) 0;
    bool nonzzero_177446 = !zzero_177445;
    
    if (cond_177274) {
        if (memblock_set(ctx, &ext_mem_181789, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &mem_181494, "mem_181494") != 0)
            return 1;
    } else {
        if (mem_181496_cached_sizze_182582 < flat_dim_177291) {
            err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182582, flat_dim_177291);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181499_cached_sizze_182583 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181499, &mem_181499_cached_sizze_182583, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181502_cached_sizze_182584 < bytes_181501) {
            err = lexical_realloc(ctx, &mem_181502, &mem_181502_cached_sizze_182584, bytes_181501);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181515_cached_sizze_182585 < block_sizze_177290) {
            err = lexical_realloc(ctx, &mem_181515, &mem_181515_cached_sizze_182585, block_sizze_177290);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181517_cached_sizze_182586 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182586, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181519_cached_sizze_182587 < bytes_181518) {
            err = lexical_realloc(ctx, &mem_181519, &mem_181519_cached_sizze_182587, bytes_181518);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180524 = 0; i_180524 < smallest_pow_2_geq_than_res_177280; i_180524++) {
            int64_t zp_lhs_177343 = mul64(block_sizze_177290, i_180524);
            
            for (int64_t i_180514 = 0; i_180514 < block_sizze_177290; i_180514++) {
                int64_t k_177348 = add64(zp_lhs_177343, i_180514);
                bool cond_177349 = slt64(k_177348, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
                int8_t lifted_lambda_res_177350;
                int64_t lifted_lambda_res_177351;
                int32_t lifted_lambda_res_177352;
                
                if (cond_177349) {
                    bool x_180125 = sle64((int64_t) 0, k_177348);
                    bool bounds_check_180126 = cond_177349 && x_180125;
                    bool index_certs_180127;
                    
                    if (!bounds_check_180126) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177348, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180128 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, k_177348);
                    int8_t index_concat_branch_180129 = btoi_bool_i8(index_concat_cmp_180128);
                    int64_t index_concat_branch_180130;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180131 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t index_primexp_180132 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180131);
                        
                        index_concat_branch_180130 = index_primexp_180132;
                    } else {
                        int64_t index_primexp_180133 = add64(defunc_0_merge_pipeline_res_175200, k_177348);
                        
                        index_concat_branch_180130 = index_primexp_180133;
                    }
                    
                    int32_t index_concat_branch_180134;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180135 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t slice_180136 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180135;
                        int32_t index_concat_180137 = ((int32_t *) b_list_mem_180697.mem)[slice_180136];
                        
                        index_concat_branch_180134 = index_concat_180137;
                    } else {
                        int64_t slice_180138 = defunc_0_merge_pipeline_res_175200 + k_177348;
                        int32_t index_concat_180139 = ((int32_t *) a_list_mem_180696.mem)[slice_180138];
                        
                        index_concat_branch_180134 = index_concat_180139;
                    }
                    lifted_lambda_res_177350 = index_concat_branch_180129;
                    lifted_lambda_res_177351 = index_concat_branch_180130;
                    lifted_lambda_res_177352 = index_concat_branch_180134;
                } else {
                    lifted_lambda_res_177350 = defunc_0_reduce_res_180350;
                    lifted_lambda_res_177351 = defunc_0_reduce_res_180351;
                    lifted_lambda_res_177352 = defunc_0_reduce_res_180352;
                }
                ((int8_t *) mem_181515)[i_180514] = lifted_lambda_res_177350;
                ((int64_t *) mem_181517)[i_180514] = lifted_lambda_res_177351;
                ((int32_t *) mem_181519)[i_180514] = lifted_lambda_res_177352;
            }
            if (!cond_177332) {
                for (int64_t i_177365 = 0; i_177365 < distance_177335; i_177365++) {
                    int64_t gt_arg1_177369 = add64((int64_t) 1, i_177365);
                    bool x_177370 = sle64((int64_t) 0, gt_arg1_177369);
                    bool y_177371 = slt64(gt_arg1_177369, block_sizze_177290);
                    bool bounds_check_177372 = x_177370 && y_177371;
                    bool index_certs_177373;
                    
                    if (!bounds_check_177372) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177369, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177377 = slt64(i_177365, block_sizze_177290);
                    bool index_certs_177378;
                    
                    if (!y_177377) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177365, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177374 = ((int8_t *) mem_181515)[gt_arg1_177369];
                    int64_t gt_arg1_177375 = ((int64_t *) mem_181517)[gt_arg1_177369];
                    int32_t gt_arg1_177376 = ((int32_t *) mem_181519)[gt_arg1_177369];
                    int8_t gt_arg0_177379 = ((int8_t *) mem_181515)[i_177365];
                    int64_t gt_arg0_177380 = ((int64_t *) mem_181517)[i_177365];
                    int32_t gt_arg0_177381 = ((int32_t *) mem_181519)[i_177365];
                    bool cond_177382 = gt_arg0_177379 == gt_arg1_177374;
                    bool defunc_0_leq_res_t_res_177383 = sle64(gt_arg0_177380, gt_arg1_177375);
                    bool defunc_0_leq_res_177384 = sle32(gt_arg0_177381, gt_arg1_177376);
                    bool x_177385 = cond_177382 && defunc_0_leq_res_t_res_177383;
                    bool x_177386 = !cond_177382;
                    bool y_177387 = defunc_0_leq_res_177384 && x_177386;
                    bool defunc_0_leq_res_177388 = x_177385 || y_177387;
                    bool defunc_0_lifted_gt_res_177389 = !defunc_0_leq_res_177388;
                    bool s_177390;
                    int64_t s_177394;
                    bool loop_while_177395;
                    int64_t j_177399;
                    
                    loop_while_177395 = defunc_0_lifted_gt_res_177389;
                    j_177399 = i_177365;
                    while (loop_while_177395) {
                        bool x_177400 = sle64((int64_t) 0, j_177399);
                        bool y_177401 = slt64(j_177399, block_sizze_177290);
                        bool bounds_check_177402 = x_177400 && y_177401;
                        bool index_certs_177403;
                        
                        if (!bounds_check_177402) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177399, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177407 = add64((int64_t) 1, j_177399);
                        bool x_177408 = sle64((int64_t) 0, copy_arg0_177407);
                        bool y_177409 = slt64(copy_arg0_177407, block_sizze_177290);
                        bool bounds_check_177410 = x_177408 && y_177409;
                        bool index_certs_177411;
                        
                        if (!bounds_check_177410) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177407, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177404 = ((int8_t *) mem_181515)[j_177399];
                        int64_t copy_arg0_177405 = ((int64_t *) mem_181517)[j_177399];
                        int32_t copy_arg0_177406 = ((int32_t *) mem_181519)[j_177399];
                        int8_t copy_arg0_177412 = ((int8_t *) mem_181515)[copy_arg0_177407];
                        int64_t copy_arg0_177413 = ((int64_t *) mem_181517)[copy_arg0_177407];
                        int32_t copy_arg0_177414 = ((int32_t *) mem_181519)[copy_arg0_177407];
                        
                        ((int8_t *) mem_181515)[j_177399] = copy_arg0_177412;
                        ((int64_t *) mem_181517)[j_177399] = copy_arg0_177413;
                        ((int32_t *) mem_181519)[j_177399] = copy_arg0_177414;
                        ((int8_t *) mem_181515)[copy_arg0_177407] = copy_arg0_177404;
                        ((int64_t *) mem_181517)[copy_arg0_177407] = copy_arg0_177405;
                        ((int32_t *) mem_181519)[copy_arg0_177407] = copy_arg0_177406;
                        
                        int64_t tmp_177421 = sub64(j_177399, (int64_t) 1);
                        bool cond_177422 = sle64((int64_t) 0, tmp_177421);
                        bool loop_cond_177423;
                        
                        if (cond_177422) {
                            bool y_180143 = slt64(tmp_177421, block_sizze_177290);
                            bool bounds_check_180144 = cond_177422 && y_180143;
                            bool index_certs_180145;
                            
                            if (!bounds_check_180144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177421, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180140 = ((int8_t *) mem_181515)[j_177399];
                            int64_t gt_arg1_180141 = ((int64_t *) mem_181517)[j_177399];
                            int32_t gt_arg1_180142 = ((int32_t *) mem_181519)[j_177399];
                            int8_t gt_arg0_180146 = ((int8_t *) mem_181515)[tmp_177421];
                            int64_t gt_arg0_180147 = ((int64_t *) mem_181517)[tmp_177421];
                            int32_t gt_arg0_180148 = ((int32_t *) mem_181519)[tmp_177421];
                            bool cond_180149 = gt_arg0_180146 == gt_arg1_180140;
                            bool defunc_0_leq_res_t_res_180150 = sle64(gt_arg0_180147, gt_arg1_180141);
                            bool defunc_0_leq_res_180151 = sle32(gt_arg0_180148, gt_arg1_180142);
                            bool x_180152 = cond_180149 && defunc_0_leq_res_t_res_180150;
                            bool x_180153 = !cond_180149;
                            bool y_180154 = defunc_0_leq_res_180151 && x_180153;
                            bool defunc_0_leq_res_180155 = x_180152 || y_180154;
                            bool defunc_0_lifted_gt_res_180156 = !defunc_0_leq_res_180155;
                            
                            loop_cond_177423 = defunc_0_lifted_gt_res_180156;
                        } else {
                            loop_cond_177423 = 0;
                        }
                        
                        bool loop_while_tmp_182327 = loop_cond_177423;
                        int64_t j_tmp_182331 = tmp_177421;
                        
                        loop_while_177395 = loop_while_tmp_182327;
                        j_177399 = j_tmp_182331;
                    }
                    s_177390 = loop_while_177395;
                    s_177394 = j_177399;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181496, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181515, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181499, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181517, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181502, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181519, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
        }
        if (memblock_alloc(ctx, &mem_181596, flat_dim_177291, "mem_181596")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181596.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint8_t *) mem_181496, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181600, bytes_181498, "mem_181600")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181600.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181499, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181604, bytes_181501, "mem_181604")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181604.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint32_t *) mem_181502, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        
        int64_t data_177447;
        bool data_177448;
        int64_t data_177452;
        int64_t loop_dz2084Uz2082U_177453;
        bool loop_while_177454;
        int64_t stride_177458;
        
        if (memblock_set(ctx, &mem_param_181608, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181611, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181614, &mem_181604, "mem_181604") != 0)
            return 1;
        loop_dz2084Uz2082U_177453 = flat_dim_177291;
        loop_while_177454 = loop_cond_177444;
        stride_177458 = block_sizze_177290;
        while (loop_while_177454) {
            int64_t next_stride_177459 = mul64((int64_t) 2, stride_177458);
            bool zzero_177460 = next_stride_177459 == (int64_t) 0;
            bool nonzzero_177461 = !zzero_177460;
            bool nonzzero_cert_177462;
            
            if (!nonzzero_177461) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177463 = sdiv64(flat_dim_177291, next_stride_177459);
            bool bounds_invalid_upwards_177464 = slt64(num_merges_177463, (int64_t) 0);
            bool valid_177465 = !bounds_invalid_upwards_177464;
            bool range_valid_c_177466;
            
            if (!valid_177465) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177463, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177468 = sub64(next_stride_177459, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177469 = sle64((int64_t) 0, m_177468);
            bool cond_177471 = slt64(next_stride_177459, (int64_t) 10);
            bool protect_assert_disj_177472 = nonzzero_177446 || cond_177471;
            bool nonzzero_cert_177473;
            
            if (!protect_assert_disj_177472) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177474 = smod_safe64(next_stride_177459, merge_block_sizze_177296);
            bool num_blocks_177475 = zeze_lhs_177474 == (int64_t) 0;
            bool protect_assert_disj_177476 = cond_177471 || num_blocks_177475;
            bool assert_c_177477;
            
            if (!protect_assert_disj_177476) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177479 = sdiv_safe64(next_stride_177459, merge_block_sizze_177296);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480 = add64((int64_t) 1, num_blocks_177479);
            int64_t j_m_i_177481 = sub64(next_stride_177459, stride_177458);
            int64_t flat_dim_177482 = merge_block_sizze_177296 * num_blocks_177479;
            bool bounds_invalid_upwards_177483 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, (int64_t) 0);
            bool empty_slice_177484 = j_m_i_177481 == (int64_t) 0;
            int64_t m_177485 = sub64(j_m_i_177481, (int64_t) 1);
            bool zzero_lte_i_177486 = sle64((int64_t) 0, stride_177458);
            bool i_lte_j_177487 = sle64(stride_177458, next_stride_177459);
            bool empty_slice_177488 = stride_177458 == (int64_t) 0;
            int64_t m_177489 = sub64(stride_177458, (int64_t) 1);
            bool bounds_invalid_upwards_177490 = slt64(num_blocks_177479, (int64_t) 0);
            bool cond_177491 = slt64((int64_t) 0, stride_177458);
            bool valid_177492 = !bounds_invalid_upwards_177483;
            int64_t i_p_m_t_s_177493 = add64(stride_177458, m_177485);
            bool zzero_leq_i_p_m_t_s_177494 = sle64((int64_t) 0, m_177489);
            bool i_p_m_t_s_leq_w_177495 = slt64(m_177489, next_stride_177459);
            bool valid_177496 = !bounds_invalid_upwards_177490;
            bool i_p_m_t_s_leq_w_177497 = slt64(m_177468, flat_dim_177482);
            bool y_177498 = slt64((int64_t) 0, j_m_i_177481);
            bool protect_assert_disj_177499 = cond_177471 || valid_177492;
            bool range_valid_c_177500;
            
            if (!protect_assert_disj_177499) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177501 = sle64((int64_t) 0, i_p_m_t_s_177493);
            bool i_p_m_t_s_leq_w_177502 = slt64(i_p_m_t_s_177493, next_stride_177459);
            bool y_177503 = zzero_leq_i_p_m_t_s_177494 && i_p_m_t_s_leq_w_177495;
            bool protect_assert_disj_177504 = cond_177471 || valid_177496;
            bool range_valid_c_177505;
            
            if (!protect_assert_disj_177504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177479, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177506 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177497;
            bool y_177507 = zzero_lte_i_177486 && i_p_m_t_s_leq_w_177502;
            bool forwards_ok_177508 = zzero_lte_i_177486 && y_177503;
            bool ok_or_empty_177509 = zzero_177460 || y_177506;
            bool protect_assert_disj_177510 = cond_177491 || y_177498;
            bool y_177511 = zzero_leq_i_p_m_t_s_177501 && y_177507;
            bool ok_or_empty_177512 = empty_slice_177488 || forwards_ok_177508;
            bool protect_assert_disj_177513 = cond_177471 || ok_or_empty_177509;
            bool index_certs_177514;
            
            if (!protect_assert_disj_177513) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) flat_dim_177482, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177515 = !cond_177471;
            bool protect_assert_disj_177516 = protect_assert_disj_177510 || loop_not_taken_177515;
            bool index_certs_177517;
            
            if (!protect_assert_disj_177516) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177518 = i_lte_j_177487 && y_177511;
            bool protect_assert_disj_177519 = cond_177471 || ok_or_empty_177512;
            bool index_certs_177520;
            
            if (!protect_assert_disj_177519) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177521 = ok_or_empty_177512 || loop_not_taken_177515;
            bool index_certs_177522;
            
            if (!protect_assert_disj_177521) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177523 = empty_slice_177484 || forwards_ok_177518;
            bool protect_assert_disj_177524 = cond_177471 || ok_or_empty_177523;
            bool index_certs_177525;
            
            if (!protect_assert_disj_177524) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177526 = loop_not_taken_177515 || ok_or_empty_177523;
            bool index_certs_177527;
            
            if (!protect_assert_disj_177526) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181615 = next_stride_177459 * num_merges_177463;
            int64_t binop_x_181617 = (int64_t) 8 * num_merges_177463;
            int64_t bytes_181618 = next_stride_177459 * binop_x_181617;
            int64_t binop_x_181620 = (int64_t) 4 * num_merges_177463;
            int64_t bytes_181621 = next_stride_177459 * binop_x_181620;
            bool i_lte_j_177470 = sle64((int64_t) 0, next_stride_177459);
            
            if (mem_181616_cached_sizze_182588 < bytes_181615) {
                err = lexical_realloc(ctx, &mem_181616, &mem_181616_cached_sizze_182588, bytes_181615);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181619_cached_sizze_182589 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181619, &mem_181619_cached_sizze_182589, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181622_cached_sizze_182590 < bytes_181621) {
                err = lexical_realloc(ctx, &mem_181622, &mem_181622_cached_sizze_182590, bytes_181621);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181635 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480;
            int64_t binop_x_181653 = (int64_t) 8 * num_blocks_177479;
            int64_t bytes_181654 = merge_block_sizze_177296 * binop_x_181653;
            int64_t binop_x_181656 = (int64_t) 4 * num_blocks_177479;
            int64_t bytes_181657 = merge_block_sizze_177296 * binop_x_181656;
            int64_t bytes_181718 = (int64_t) 16 * stride_177458;
            int64_t bytes_181720 = (int64_t) 8 * stride_177458;
            
            for (int64_t i_180551 = 0; i_180551 < num_merges_177463; i_180551++) {
                int64_t start_177532 = mul64(next_stride_177459, i_180551);
                int64_t j_m_i_177533 = sub64(loop_dz2084Uz2082U_177453, start_177532);
                bool empty_slice_177534 = j_m_i_177533 == (int64_t) 0;
                int64_t m_177535 = sub64(j_m_i_177533, (int64_t) 1);
                int64_t i_p_m_t_s_177536 = add64(start_177532, m_177535);
                bool zzero_leq_i_p_m_t_s_177537 = sle64((int64_t) 0, i_p_m_t_s_177536);
                bool i_p_m_t_s_leq_w_177538 = slt64(i_p_m_t_s_177536, loop_dz2084Uz2082U_177453);
                bool zzero_lte_i_177539 = sle64((int64_t) 0, start_177532);
                bool i_lte_j_177540 = sle64(start_177532, loop_dz2084Uz2082U_177453);
                bool y_177541 = i_p_m_t_s_leq_w_177538 && zzero_lte_i_177539;
                bool y_177542 = zzero_leq_i_p_m_t_s_177537 && y_177541;
                bool forwards_ok_177543 = i_lte_j_177540 && y_177542;
                bool ok_or_empty_177544 = empty_slice_177534 || forwards_ok_177543;
                bool index_certs_177545;
                
                if (!ok_or_empty_177544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177532, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177453, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177546 = slt64(m_177468, j_m_i_177533);
                bool y_177547 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177546;
                bool forwards_ok_177548 = i_lte_j_177470 && y_177547;
                bool ok_or_empty_177549 = zzero_177460 || forwards_ok_177548;
                bool index_certs_177550;
                
                if (!ok_or_empty_177549) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) j_m_i_177533, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177471) {
                    int8_t dummy_180195;
                    int64_t dummy_180196;
                    int32_t dummy_180197;
                    
                    if (cond_177491) {
                        int8_t head_res_180198 = ((int8_t *) mem_param_181608.mem)[start_177532];
                        int64_t head_res_180199 = ((int64_t *) mem_param_181611.mem)[start_177532];
                        int32_t head_res_180200 = ((int32_t *) mem_param_181614.mem)[start_177532];
                        
                        dummy_180195 = head_res_180198;
                        dummy_180196 = head_res_180199;
                        dummy_180197 = head_res_180200;
                    } else {
                        int64_t slice_180201 = stride_177458 + start_177532;
                        int8_t head_res_180202 = ((int8_t *) mem_param_181608.mem)[slice_180201];
                        int64_t head_res_180203 = ((int64_t *) mem_param_181611.mem)[slice_180201];
                        int32_t head_res_180204 = ((int32_t *) mem_param_181614.mem)[slice_180201];
                        
                        dummy_180195 = head_res_180202;
                        dummy_180196 = head_res_180203;
                        dummy_180197 = head_res_180204;
                    }
                    if (memblock_alloc(ctx, &mem_181717, next_stride_177459, "mem_181717")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182344 = 0; nest_i_182344 < next_stride_177459; nest_i_182344++) {
                        ((int8_t *) mem_181717.mem)[nest_i_182344] = dummy_180195;
                    }
                    if (memblock_alloc(ctx, &mem_181719, bytes_181718, "mem_181719")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182345 = 0; nest_i_182345 < next_stride_177459; nest_i_182345++) {
                        ((int64_t *) mem_181719.mem)[nest_i_182345] = dummy_180196;
                    }
                    if (memblock_alloc(ctx, &mem_181721, bytes_181720, "mem_181721")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182346 = 0; nest_i_182346 < next_stride_177459; nest_i_182346++) {
                        ((int32_t *) mem_181721.mem)[nest_i_182346] = dummy_180197;
                    }
                    
                    int64_t data_180208;
                    int64_t i_180213 = (int64_t) 0;
                    
                    for (int64_t k_180212 = 0; k_180212 < next_stride_177459; k_180212++) {
                        int64_t j_180217 = sub64(k_180212, i_180213);
                        bool cond_180218 = j_180217 == j_m_i_177481;
                        bool cond_180219;
                        
                        if (cond_180218) {
                            cond_180219 = 1;
                        } else {
                            bool cond_180220 = slt64(i_180213, stride_177458);
                            bool cond_f_res_180221;
                            
                            if (cond_180220) {
                                bool x_180222 = sle64((int64_t) 0, j_180217);
                                bool y_180223 = slt64(j_180217, j_m_i_177481);
                                bool bounds_check_180224 = x_180222 && y_180223;
                                bool index_certs_180225;
                                
                                if (!bounds_check_180224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180231 = sle64((int64_t) 0, i_180213);
                                bool bounds_check_180232 = cond_180220 && x_180231;
                                bool index_certs_180233;
                                
                                if (!bounds_check_180232) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180226 = stride_177458 + j_180217;
                                int64_t slice_180227 = start_177532 + slice_180226;
                                int8_t leq_arg1_180228 = ((int8_t *) mem_param_181608.mem)[slice_180227];
                                int64_t leq_arg1_180229 = ((int64_t *) mem_param_181611.mem)[slice_180227];
                                int32_t leq_arg1_180230 = ((int32_t *) mem_param_181614.mem)[slice_180227];
                                int64_t slice_180234 = start_177532 + i_180213;
                                int8_t leq_arg0_180235 = ((int8_t *) mem_param_181608.mem)[slice_180234];
                                int64_t leq_arg0_180236 = ((int64_t *) mem_param_181611.mem)[slice_180234];
                                int32_t leq_arg0_180237 = ((int32_t *) mem_param_181614.mem)[slice_180234];
                                bool cond_180238 = leq_arg0_180235 == leq_arg1_180228;
                                bool defunc_0_leq_res_t_res_180239 = sle64(leq_arg0_180236, leq_arg1_180229);
                                bool defunc_0_leq_res_180240 = sle32(leq_arg0_180237, leq_arg1_180230);
                                bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                bool x_180242 = !cond_180238;
                                bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                
                                cond_f_res_180221 = defunc_0_leq_res_180244;
                            } else {
                                cond_f_res_180221 = 0;
                            }
                            cond_180219 = cond_f_res_180221;
                        }
                        
                        int64_t loopres_180245;
                        int8_t loopres_180246;
                        int64_t loopres_180247;
                        int32_t loopres_180248;
                        
                        if (cond_180219) {
                            bool x_180250 = sle64((int64_t) 0, i_180213);
                            bool y_180251 = slt64(i_180213, stride_177458);
                            bool bounds_check_180252 = x_180250 && y_180251;
                            bool index_certs_180253;
                            
                            if (!bounds_check_180252) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180249 = add64((int64_t) 1, i_180213);
                            int64_t slice_180254 = start_177532 + i_180213;
                            int8_t tmp_180255 = ((int8_t *) mem_param_181608.mem)[slice_180254];
                            int64_t tmp_180256 = ((int64_t *) mem_param_181611.mem)[slice_180254];
                            int32_t tmp_180257 = ((int32_t *) mem_param_181614.mem)[slice_180254];
                            
                            loopres_180245 = tmp_180249;
                            loopres_180246 = tmp_180255;
                            loopres_180247 = tmp_180256;
                            loopres_180248 = tmp_180257;
                        } else {
                            bool x_180258 = sle64((int64_t) 0, j_180217);
                            bool y_180259 = slt64(j_180217, j_m_i_177481);
                            bool bounds_check_180260 = x_180258 && y_180259;
                            bool index_certs_180261;
                            
                            if (!bounds_check_180260) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180262 = stride_177458 + j_180217;
                            int64_t slice_180263 = start_177532 + slice_180262;
                            int8_t tmp_180264 = ((int8_t *) mem_param_181608.mem)[slice_180263];
                            int64_t tmp_180265 = ((int64_t *) mem_param_181611.mem)[slice_180263];
                            int32_t tmp_180266 = ((int32_t *) mem_param_181614.mem)[slice_180263];
                            
                            loopres_180245 = i_180213;
                            loopres_180246 = tmp_180264;
                            loopres_180247 = tmp_180265;
                            loopres_180248 = tmp_180266;
                        }
                        ((int8_t *) mem_181717.mem)[k_180212] = loopres_180246;
                        ((int64_t *) mem_181719.mem)[k_180212] = loopres_180247;
                        ((int32_t *) mem_181721.mem)[k_180212] = loopres_180248;
                        
                        int64_t i_tmp_182347 = loopres_180245;
                        
                        i_180213 = i_tmp_182347;
                    }
                    data_180208 = i_180213;
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181717, "mem_181717") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181719, "mem_181719") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181721, "mem_181721") != 0)
                        return 1;
                } else {
                    if (mem_181636_cached_sizze_182591 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181636, &mem_181636_cached_sizze_182591, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181638_cached_sizze_182592 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181638, &mem_181638_cached_sizze_182592, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180532 = 0; i_180532 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480; i_180532++) {
                        int64_t split_count_arg3_177633 = mul64(merge_block_sizze_177296, i_180532);
                        int64_t defunc_0_split_count_res_177634;
                        int64_t defunc_0_split_count_res_177635;
                        int64_t defunc_0_split_count_res_177636;
                        int64_t defunc_0_split_count_res_177637;
                        int64_t defunc_0_split_count_res_177638;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_177634, &defunc_0_split_count_res_177635, &defunc_0_split_count_res_177636, &defunc_0_split_count_res_177637, &defunc_0_split_count_res_177638, (int64_t) 0, stride_177458, (int64_t) 0, j_m_i_177481, split_count_arg3_177633) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177639 = slt64((int64_t) 0, defunc_0_split_count_res_177638);
                        bool defunc_0_split_count_res_177640;
                        int64_t defunc_0_split_count_res_177641;
                        int64_t defunc_0_split_count_res_177642;
                        int64_t defunc_0_split_count_res_177643;
                        int64_t defunc_0_split_count_res_177644;
                        int64_t defunc_0_split_count_res_177645;
                        bool loop_while_177646;
                        int64_t ss_177647;
                        int64_t ss_177648;
                        int64_t tt_177649;
                        int64_t tt_177650;
                        int64_t count_177651;
                        
                        loop_while_177646 = loop_cond_177639;
                        ss_177647 = defunc_0_split_count_res_177634;
                        ss_177648 = defunc_0_split_count_res_177635;
                        tt_177649 = defunc_0_split_count_res_177636;
                        tt_177650 = defunc_0_split_count_res_177637;
                        count_177651 = defunc_0_split_count_res_177638;
                        while (loop_while_177646) {
                            int64_t zlze_lhs_177652 = sub64(ss_177648, ss_177647);
                            bool cond_177653 = sle64(zlze_lhs_177652, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177654;
                            int64_t defunc_0_lifted_step_res_177655;
                            int64_t defunc_0_lifted_step_res_177656;
                            int64_t defunc_0_lifted_step_res_177657;
                            
                            if (cond_177653) {
                                int64_t tmp_180270 = add64(tt_177649, count_177651);
                                
                                defunc_0_lifted_step_res_177654 = ss_177647;
                                defunc_0_lifted_step_res_177655 = tmp_180270;
                                defunc_0_lifted_step_res_177656 = tt_177650;
                                defunc_0_lifted_step_res_177657 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177659 = sub64(tt_177650, tt_177649);
                                bool cond_177660 = sle64(zlze_lhs_177659, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177661;
                                int64_t defunc_0_lifted_step_res_f_res_177662;
                                int64_t defunc_0_lifted_step_res_f_res_177663;
                                int64_t defunc_0_lifted_step_res_f_res_177664;
                                
                                if (cond_177660) {
                                    int64_t tmp_180271 = add64(ss_177647, count_177651);
                                    
                                    defunc_0_lifted_step_res_f_res_177661 = tmp_180271;
                                    defunc_0_lifted_step_res_f_res_177662 = tt_177649;
                                    defunc_0_lifted_step_res_f_res_177663 = tt_177650;
                                    defunc_0_lifted_step_res_f_res_177664 = (int64_t) 0;
                                } else {
                                    bool cond_177666 = count_177651 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177667;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177668;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177669;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177670;
                                    
                                    if (cond_177666) {
                                        bool x_180273 = sle64((int64_t) 0, ss_177647);
                                        bool y_180274 = slt64(ss_177647, stride_177458);
                                        bool bounds_check_180275 = x_180273 && y_180274;
                                        bool index_certs_180276;
                                        
                                        if (!bounds_check_180275) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177647, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180281 = sle64((int64_t) 0, tt_177649);
                                        bool y_180282 = slt64(tt_177649, j_m_i_177481);
                                        bool bounds_check_180283 = x_180281 && y_180282;
                                        bool index_certs_180284;
                                        
                                        if (!bounds_check_180283) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177649, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180277 = start_177532 + ss_177647;
                                        int8_t leq_arg1_180278 = ((int8_t *) mem_param_181608.mem)[slice_180277];
                                        int64_t leq_arg1_180279 = ((int64_t *) mem_param_181611.mem)[slice_180277];
                                        int32_t leq_arg1_180280 = ((int32_t *) mem_param_181614.mem)[slice_180277];
                                        int64_t slice_180285 = stride_177458 + tt_177649;
                                        int64_t slice_180286 = start_177532 + slice_180285;
                                        int8_t leq_arg0_180287 = ((int8_t *) mem_param_181608.mem)[slice_180286];
                                        int64_t leq_arg0_180288 = ((int64_t *) mem_param_181611.mem)[slice_180286];
                                        int32_t leq_arg0_180289 = ((int32_t *) mem_param_181614.mem)[slice_180286];
                                        bool cond_180290 = leq_arg0_180287 == leq_arg1_180278;
                                        bool defunc_0_leq_res_t_res_180291 = sle64(leq_arg0_180288, leq_arg1_180279);
                                        bool defunc_0_leq_res_180292 = sle32(leq_arg0_180289, leq_arg1_180280);
                                        bool x_180293 = cond_180290 && defunc_0_leq_res_t_res_180291;
                                        bool x_180294 = !cond_180290;
                                        bool y_180295 = defunc_0_leq_res_180292 && x_180294;
                                        bool defunc_0_leq_res_180296 = x_180293 || y_180295;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            int64_t tmp_180299 = add64((int64_t) 1, tt_177649);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = ss_177647;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tmp_180299;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, ss_177647);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = tmp_180300;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tt_177649;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = tt_177650;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = (int64_t) 0;
                                    } else {
                                        int64_t m_177699 = sdiv64(count_177651, (int64_t) 2);
                                        int64_t n_177700 = sub64(count_177651, m_177699);
                                        bool cond_177701 = n_177700 == (int64_t) 0;
                                        int64_t zgze_lhs_177702 = add64(ss_177647, m_177699);
                                        bool cond_f_res_177703 = sle64(ss_177648, zgze_lhs_177702);
                                        bool x_177704 = !cond_177701;
                                        bool y_177705 = cond_f_res_177703 && x_177704;
                                        bool cond_177706 = cond_177701 || y_177705;
                                        bool leq_y_x_177707;
                                        
                                        if (cond_177706) {
                                            leq_y_x_177707 = 1;
                                        } else {
                                            bool x_177708 = sle64((int64_t) 0, zgze_lhs_177702);
                                            bool y_177709 = slt64(zgze_lhs_177702, stride_177458);
                                            bool bounds_check_177710 = x_177708 && y_177709;
                                            bool index_certs_177711;
                                            
                                            if (!bounds_check_177710) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177702, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177716 = add64(tt_177649, n_177700);
                                            int64_t leq_arg0_177717 = sub64(zm_lhs_177716, (int64_t) 1);
                                            bool x_177718 = sle64((int64_t) 0, leq_arg0_177717);
                                            bool y_177719 = slt64(leq_arg0_177717, j_m_i_177481);
                                            bool bounds_check_177720 = x_177718 && y_177719;
                                            bool index_certs_177721;
                                            
                                            if (!bounds_check_177720) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177717, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177712 = start_177532 + zgze_lhs_177702;
                                            int8_t leq_arg1_177713 = ((int8_t *) mem_param_181608.mem)[slice_177712];
                                            int64_t leq_arg1_177714 = ((int64_t *) mem_param_181611.mem)[slice_177712];
                                            int32_t leq_arg1_177715 = ((int32_t *) mem_param_181614.mem)[slice_177712];
                                            int64_t slice_177722 = stride_177458 + leq_arg0_177717;
                                            int64_t slice_177723 = start_177532 + slice_177722;
                                            int8_t leq_arg0_177724 = ((int8_t *) mem_param_181608.mem)[slice_177723];
                                            int64_t leq_arg0_177725 = ((int64_t *) mem_param_181611.mem)[slice_177723];
                                            int32_t leq_arg0_177726 = ((int32_t *) mem_param_181614.mem)[slice_177723];
                                            bool cond_177727 = leq_arg0_177724 == leq_arg1_177713;
                                            bool defunc_0_leq_res_t_res_177728 = sle64(leq_arg0_177725, leq_arg1_177714);
                                            bool defunc_0_leq_res_177729 = sle32(leq_arg0_177726, leq_arg1_177715);
                                            bool x_177730 = cond_177727 && defunc_0_leq_res_t_res_177728;
                                            bool x_177731 = !cond_177727;
                                            bool y_177732 = defunc_0_leq_res_177729 && x_177731;
                                            bool defunc_0_leq_res_177733 = x_177730 || y_177732;
                                            
                                            leq_y_x_177707 = defunc_0_leq_res_177733;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                        
                                        if (leq_y_x_177707) {
                                            int64_t tmp_180301 = add64(tt_177649, n_177700);
                                            int64_t tmp_180302 = sub64(count_177651, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tmp_180301;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tt_177650;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = tmp_180302;
                                        } else {
                                            int64_t tmp_177739 = add64(tt_177649, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tt_177649;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tmp_177739;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = count_177651;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = ss_177647;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                    }
                                    defunc_0_lifted_step_res_f_res_177661 = defunc_0_lifted_step_res_f_res_f_res_177667;
                                    defunc_0_lifted_step_res_f_res_177662 = defunc_0_lifted_step_res_f_res_f_res_177668;
                                    defunc_0_lifted_step_res_f_res_177663 = defunc_0_lifted_step_res_f_res_f_res_177669;
                                    defunc_0_lifted_step_res_f_res_177664 = defunc_0_lifted_step_res_f_res_f_res_177670;
                                }
                                defunc_0_lifted_step_res_177654 = defunc_0_lifted_step_res_f_res_177661;
                                defunc_0_lifted_step_res_177655 = defunc_0_lifted_step_res_f_res_177662;
                                defunc_0_lifted_step_res_177656 = defunc_0_lifted_step_res_f_res_177663;
                                defunc_0_lifted_step_res_177657 = defunc_0_lifted_step_res_f_res_177664;
                            }
                            
                            int64_t loopres_177740;
                            int64_t loopres_177741;
                            int64_t loopres_177742;
                            int64_t loopres_177743;
                            int64_t loopres_177744;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_177740, &loopres_177741, &loopres_177742, &loopres_177743, &loopres_177744, defunc_0_lifted_step_res_177654, ss_177648, defunc_0_lifted_step_res_177655, defunc_0_lifted_step_res_177656, defunc_0_lifted_step_res_177657) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177745 = slt64((int64_t) 0, loopres_177744);
                            bool loop_while_tmp_182353 = loop_cond_177745;
                            int64_t ss_tmp_182354 = loopres_177740;
                            int64_t ss_tmp_182355 = loopres_177741;
                            int64_t tt_tmp_182356 = loopres_177742;
                            int64_t tt_tmp_182357 = loopres_177743;
                            int64_t count_tmp_182358 = loopres_177744;
                            
                            loop_while_177646 = loop_while_tmp_182353;
                            ss_177647 = ss_tmp_182354;
                            ss_177648 = ss_tmp_182355;
                            tt_177649 = tt_tmp_182356;
                            tt_177650 = tt_tmp_182357;
                            count_177651 = count_tmp_182358;
                        }
                        defunc_0_split_count_res_177640 = loop_while_177646;
                        defunc_0_split_count_res_177641 = ss_177647;
                        defunc_0_split_count_res_177642 = ss_177648;
                        defunc_0_split_count_res_177643 = tt_177649;
                        defunc_0_split_count_res_177644 = tt_177650;
                        defunc_0_split_count_res_177645 = count_177651;
                        ((int64_t *) mem_181636)[i_180532] = defunc_0_split_count_res_177641;
                        ((int64_t *) mem_181638)[i_180532] = defunc_0_split_count_res_177643;
                    }
                    if (mem_181652_cached_sizze_182593 < flat_dim_177482) {
                        err = lexical_realloc(ctx, &mem_181652, &mem_181652_cached_sizze_182593, flat_dim_177482);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181655_cached_sizze_182594 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181655, &mem_181655_cached_sizze_182594, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181658_cached_sizze_182595 < bytes_181657) {
                        err = lexical_realloc(ctx, &mem_181658, &mem_181658_cached_sizze_182595, bytes_181657);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180541 = 0; i_180541 < num_blocks_177479; i_180541++) {
                        bool y_177752 = slt64(i_180541, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool index_certs_177754;
                        
                        if (!y_177752) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177755 = ((int64_t *) mem_181636)[i_180541];
                        int64_t defunc_0_f_res_177756 = ((int64_t *) mem_181638)[i_180541];
                        int64_t tmp_177757 = add64((int64_t) 1, i_180541);
                        bool x_177758 = sle64((int64_t) 0, tmp_177757);
                        bool y_177759 = slt64(tmp_177757, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool bounds_check_177760 = x_177758 && y_177759;
                        bool index_certs_177761;
                        
                        if (!bounds_check_177760) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177762 = ((int64_t *) mem_181636)[tmp_177757];
                        int64_t defunc_0_f_res_177763 = ((int64_t *) mem_181638)[tmp_177757];
                        int64_t merge_sequential_arg2_177764 = add64(stride_177458, defunc_0_f_res_177756);
                        int64_t merge_sequential_arg2_177765 = add64(stride_177458, defunc_0_f_res_177763);
                        int64_t j_m_i_177766 = sub64(merge_sequential_arg2_177765, merge_sequential_arg2_177764);
                        bool empty_slice_177767 = j_m_i_177766 == (int64_t) 0;
                        int64_t m_177768 = sub64(j_m_i_177766, (int64_t) 1);
                        int64_t i_p_m_t_s_177769 = add64(merge_sequential_arg2_177764, m_177768);
                        bool zzero_leq_i_p_m_t_s_177770 = sle64((int64_t) 0, i_p_m_t_s_177769);
                        bool i_p_m_t_s_leq_w_177771 = slt64(i_p_m_t_s_177769, next_stride_177459);
                        bool zzero_lte_i_177772 = sle64((int64_t) 0, merge_sequential_arg2_177764);
                        bool i_lte_j_177773 = sle64(merge_sequential_arg2_177764, merge_sequential_arg2_177765);
                        bool y_177774 = i_p_m_t_s_leq_w_177771 && zzero_lte_i_177772;
                        bool y_177775 = zzero_leq_i_p_m_t_s_177770 && y_177774;
                        bool forwards_ok_177776 = i_lte_j_177773 && y_177775;
                        bool ok_or_empty_177777 = empty_slice_177767 || forwards_ok_177776;
                        bool index_certs_177778;
                        
                        if (!ok_or_empty_177777) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177764, ":", (long long) merge_sequential_arg2_177765, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177779 = sub64(defunc_0_f_res_177762, defunc_0_f_res_177755);
                        bool empty_slice_177780 = j_m_i_177779 == (int64_t) 0;
                        int64_t m_177781 = sub64(j_m_i_177779, (int64_t) 1);
                        int64_t i_p_m_t_s_177782 = add64(defunc_0_f_res_177755, m_177781);
                        bool zzero_leq_i_p_m_t_s_177783 = sle64((int64_t) 0, i_p_m_t_s_177782);
                        bool i_p_m_t_s_leq_w_177784 = slt64(i_p_m_t_s_177782, next_stride_177459);
                        bool zzero_lte_i_177785 = sle64((int64_t) 0, defunc_0_f_res_177755);
                        bool i_lte_j_177786 = sle64(defunc_0_f_res_177755, defunc_0_f_res_177762);
                        bool y_177787 = i_p_m_t_s_leq_w_177784 && zzero_lte_i_177785;
                        bool y_177788 = zzero_leq_i_p_m_t_s_177783 && y_177787;
                        bool forwards_ok_177789 = i_lte_j_177786 && y_177788;
                        bool ok_or_empty_177790 = empty_slice_177780 || forwards_ok_177789;
                        bool index_certs_177791;
                        
                        if (!ok_or_empty_177790) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177755, ":", (long long) defunc_0_f_res_177762, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177792 = slt64((int64_t) 0, j_m_i_177779);
                        int8_t dummy_177793;
                        int64_t dummy_177794;
                        int32_t dummy_177795;
                        
                        if (cond_177792) {
                            bool index_certs_180303;
                            
                            if (!cond_177792) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180304 = start_177532 + defunc_0_f_res_177755;
                            int8_t head_res_180305 = ((int8_t *) mem_param_181608.mem)[slice_180304];
                            int64_t head_res_180306 = ((int64_t *) mem_param_181611.mem)[slice_180304];
                            int32_t head_res_180307 = ((int32_t *) mem_param_181614.mem)[slice_180304];
                            
                            dummy_177793 = head_res_180305;
                            dummy_177794 = head_res_180306;
                            dummy_177795 = head_res_180307;
                        } else {
                            bool y_177801 = slt64((int64_t) 0, j_m_i_177766);
                            bool index_certs_177802;
                            
                            if (!y_177801) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177803 = start_177532 + merge_sequential_arg2_177764;
                            int8_t head_res_177804 = ((int8_t *) mem_param_181608.mem)[slice_177803];
                            int64_t head_res_177805 = ((int64_t *) mem_param_181611.mem)[slice_177803];
                            int32_t head_res_177806 = ((int32_t *) mem_param_181614.mem)[slice_177803];
                            
                            dummy_177793 = head_res_177804;
                            dummy_177794 = head_res_177805;
                            dummy_177795 = head_res_177806;
                        }
                        for (int64_t nest_i_182362 = 0; nest_i_182362 < merge_block_sizze_177296; nest_i_182362++) {
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + nest_i_182362] = dummy_177793;
                        }
                        for (int64_t nest_i_182363 = 0; nest_i_182363 < merge_block_sizze_177296; nest_i_182363++) {
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + nest_i_182363] = dummy_177794;
                        }
                        for (int64_t nest_i_182364 = 0; nest_i_182364 < merge_block_sizze_177296; nest_i_182364++) {
                            ((int32_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + nest_i_182364] = dummy_177795;
                        }
                        
                        int64_t data_177810;
                        int64_t i_177815 = (int64_t) 0;
                        
                        for (int64_t k_177814 = 0; k_177814 < merge_block_sizze_177296; k_177814++) {
                            int64_t j_177819 = sub64(k_177814, i_177815);
                            bool cond_177820 = j_177819 == j_m_i_177766;
                            bool cond_177821;
                            
                            if (cond_177820) {
                                cond_177821 = 1;
                            } else {
                                bool cond_177822 = slt64(i_177815, j_m_i_177779);
                                bool cond_f_res_177823;
                                
                                if (cond_177822) {
                                    bool x_180308 = sle64((int64_t) 0, j_177819);
                                    bool y_180309 = slt64(j_177819, j_m_i_177766);
                                    bool bounds_check_180310 = x_180308 && y_180309;
                                    bool index_certs_180311;
                                    
                                    if (!bounds_check_180310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180317 = sle64((int64_t) 0, i_177815);
                                    bool bounds_check_180318 = cond_177822 && x_180317;
                                    bool index_certs_180319;
                                    
                                    if (!bounds_check_180318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180312 = merge_sequential_arg2_177764 + j_177819;
                                    int64_t slice_180313 = start_177532 + slice_180312;
                                    int8_t leq_arg1_180314 = ((int8_t *) mem_param_181608.mem)[slice_180313];
                                    int64_t leq_arg1_180315 = ((int64_t *) mem_param_181611.mem)[slice_180313];
                                    int32_t leq_arg1_180316 = ((int32_t *) mem_param_181614.mem)[slice_180313];
                                    int64_t slice_180320 = defunc_0_f_res_177755 + i_177815;
                                    int64_t slice_180321 = start_177532 + slice_180320;
                                    int8_t leq_arg0_180322 = ((int8_t *) mem_param_181608.mem)[slice_180321];
                                    int64_t leq_arg0_180323 = ((int64_t *) mem_param_181611.mem)[slice_180321];
                                    int32_t leq_arg0_180324 = ((int32_t *) mem_param_181614.mem)[slice_180321];
                                    bool cond_180325 = leq_arg0_180322 == leq_arg1_180314;
                                    bool defunc_0_leq_res_t_res_180326 = sle64(leq_arg0_180323, leq_arg1_180315);
                                    bool defunc_0_leq_res_180327 = sle32(leq_arg0_180324, leq_arg1_180316);
                                    bool x_180328 = cond_180325 && defunc_0_leq_res_t_res_180326;
                                    bool x_180329 = !cond_180325;
                                    bool y_180330 = defunc_0_leq_res_180327 && x_180329;
                                    bool defunc_0_leq_res_180331 = x_180328 || y_180330;
                                    
                                    cond_f_res_177823 = defunc_0_leq_res_180331;
                                } else {
                                    cond_f_res_177823 = 0;
                                }
                                cond_177821 = cond_f_res_177823;
                            }
                            
                            int64_t loopres_177848;
                            int8_t loopres_177849;
                            int64_t loopres_177850;
                            int32_t loopres_177851;
                            
                            if (cond_177821) {
                                bool x_180333 = sle64((int64_t) 0, i_177815);
                                bool y_180334 = slt64(i_177815, j_m_i_177779);
                                bool bounds_check_180335 = x_180333 && y_180334;
                                bool index_certs_180336;
                                
                                if (!bounds_check_180335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180332 = add64((int64_t) 1, i_177815);
                                int64_t slice_180337 = defunc_0_f_res_177755 + i_177815;
                                int64_t slice_180338 = start_177532 + slice_180337;
                                int8_t tmp_180339 = ((int8_t *) mem_param_181608.mem)[slice_180338];
                                int64_t tmp_180340 = ((int64_t *) mem_param_181611.mem)[slice_180338];
                                int32_t tmp_180341 = ((int32_t *) mem_param_181614.mem)[slice_180338];
                                
                                loopres_177848 = tmp_180332;
                                loopres_177849 = tmp_180339;
                                loopres_177850 = tmp_180340;
                                loopres_177851 = tmp_180341;
                            } else {
                                bool x_177862 = sle64((int64_t) 0, j_177819);
                                bool y_177863 = slt64(j_177819, j_m_i_177766);
                                bool bounds_check_177864 = x_177862 && y_177863;
                                bool index_certs_177865;
                                
                                if (!bounds_check_177864) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177866 = merge_sequential_arg2_177764 + j_177819;
                                int64_t slice_177867 = start_177532 + slice_177866;
                                int8_t tmp_177868 = ((int8_t *) mem_param_181608.mem)[slice_177867];
                                int64_t tmp_177869 = ((int64_t *) mem_param_181611.mem)[slice_177867];
                                int32_t tmp_177870 = ((int32_t *) mem_param_181614.mem)[slice_177867];
                                
                                loopres_177848 = i_177815;
                                loopres_177849 = tmp_177868;
                                loopres_177850 = tmp_177869;
                                loopres_177851 = tmp_177870;
                            }
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177849;
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177850;
                            ((int32_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177851;
                            
                            int64_t i_tmp_182365 = loopres_177848;
                            
                            i_177815 = i_tmp_182365;
                        }
                        data_177810 = i_177815;
                    }
                    if (memblock_alloc(ctx, &mem_181707, flat_dim_177482, "mem_181707")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181707.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint8_t *) mem_181652, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181711, bytes_181654, "mem_181711")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181711.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181655, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181715, bytes_181657, "mem_181715")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181715.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint32_t *) mem_181658, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181707, "mem_181707") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181711, "mem_181711") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181715, "mem_181715") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181616, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181619, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181745.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181622, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181742.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181762, bytes_181615, "mem_181762")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181762.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint8_t *) mem_181616, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181766, bytes_181618, "mem_181766")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181766.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181619, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181770, bytes_181621, "mem_181770")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181770.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint32_t *) mem_181622, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            
            bool loop_cond_177884 = slt64(next_stride_177459, flat_dim_177291);
            
            if (memblock_set(ctx, &mem_param_tmp_182332, &mem_181762, "mem_181762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182333, &mem_181766, "mem_181766") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182334, &mem_181770, "mem_181770") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182335 = bytes_181615;
            bool loop_while_tmp_182336 = loop_cond_177884;
            int64_t stride_tmp_182340 = next_stride_177459;
            
            if (memblock_set(ctx, &mem_param_181608, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181611, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181614, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
                return 1;
            loop_dz2084Uz2082U_177453 = loop_dz2084Uz2082U_tmp_182335;
            loop_while_177454 = loop_while_tmp_182336;
            stride_177458 = stride_tmp_182340;
        }
        if (memblock_set(ctx, &ext_mem_181780, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181779, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181778, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        data_177447 = loop_dz2084Uz2082U_177453;
        data_177448 = loop_while_177454;
        data_177452 = stride_177458;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177887 = slt64(zs_lhs_177275, data_177447);
        bool y_177888 = i_p_m_t_s_leq_w_177887 && zzero_leq_i_p_m_t_s_177901;
        bool ok_or_empty_177889 = y_177888 || empty_slice_177899;
        bool index_certs_177890;
        
        if (!ok_or_empty_177889) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) data_177447, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181789, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180700.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181786.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180702.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181783.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180700, "mem_180700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182112, &mem_180702, "mem_180702") != 0)
        return 1;
    prim_out_182113 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    if (memblock_set(ctx, &*mem_out_p_182542, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182543, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182544, &mem_out_182112, "mem_out_182112") != 0)
        return 1;
    *out_prim_out_182545 = prim_out_182113;
    
  cleanup:
    {
        free(mem_180713);
        free(mem_180715);
        free(mem_180754);
        free(mem_180757);
        free(mem_180760);
        free(mem_180773);
        free(mem_180775);
        free(mem_180777);
        free(mem_180874);
        free(mem_180877);
        free(mem_180880);
        free(mem_180894);
        free(mem_180896);
        free(mem_180910);
        free(mem_180913);
        free(mem_180916);
        free(mem_181058);
        free(mem_181060);
        free(mem_181075);
        free(mem_181077);
        free(mem_181080);
        free(mem_181083);
        free(mem_181117);
        free(mem_181120);
        free(mem_181123);
        free(mem_181136);
        free(mem_181138);
        free(mem_181140);
        free(mem_181237);
        free(mem_181240);
        free(mem_181243);
        free(mem_181257);
        free(mem_181259);
        free(mem_181273);
        free(mem_181276);
        free(mem_181279);
        free(mem_181496);
        free(mem_181499);
        free(mem_181502);
        free(mem_181515);
        free(mem_181517);
        free(mem_181519);
        free(mem_181616);
        free(mem_181619);
        free(mem_181622);
        free(mem_181636);
        free(mem_181638);
        free(mem_181652);
        free(mem_181655);
        free(mem_181658);
        if (memblock_unref(ctx, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181770, "mem_181770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181766, "mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181762, "mem_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181715, "mem_181715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181711, "mem_181711") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181707, "mem_181707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181721, "mem_181721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181717, "mem_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181028, "mem_181028") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181024, "mem_181024") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180973, "mem_180973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180969, "mem_180969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180965, "mem_180965") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180979, "mem_180979") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180977, "mem_180977") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180872, "mem_param_180872") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180869, "mem_param_180869") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180866, "mem_param_180866") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181036, "ext_mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181037, "ext_mem_181037") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180732, "mem_180732") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180730, "mem_180730") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181439, "mem_181439") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181438, "mem_181438") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181436, "mem_181436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181391, "mem_181391") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181387, "mem_181387") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181383, "mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181336, "mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181332, "mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181328, "mem_181328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181342, "mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181340, "mem_181340") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181338, "mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181235, "mem_param_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181232, "mem_param_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181229, "mem_param_181229") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181399, "ext_mem_181399") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181401, "ext_mem_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180702, "mem_180702") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180700, "mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182112, "mem_out_182112") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182596, struct memblock *mem_out_p_182597, struct memblock *mem_out_p_182598, int64_t *out_prim_out_182599, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_141894, int64_t nb_141895, int64_t window_sizze_141896, int64_t threads_141897, bool inParallel_141900)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180713_cached_sizze_182600 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182601 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180754_cached_sizze_182602 = 0;
    unsigned char *mem_180754 = NULL;
    int64_t mem_180757_cached_sizze_182603 = 0;
    unsigned char *mem_180757 = NULL;
    int64_t mem_180760_cached_sizze_182604 = 0;
    unsigned char *mem_180760 = NULL;
    int64_t mem_180773_cached_sizze_182605 = 0;
    unsigned char *mem_180773 = NULL;
    int64_t mem_180775_cached_sizze_182606 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180777_cached_sizze_182607 = 0;
    unsigned char *mem_180777 = NULL;
    int64_t mem_180874_cached_sizze_182608 = 0;
    unsigned char *mem_180874 = NULL;
    int64_t mem_180877_cached_sizze_182609 = 0;
    unsigned char *mem_180877 = NULL;
    int64_t mem_180880_cached_sizze_182610 = 0;
    unsigned char *mem_180880 = NULL;
    int64_t mem_180894_cached_sizze_182611 = 0;
    unsigned char *mem_180894 = NULL;
    int64_t mem_180896_cached_sizze_182612 = 0;
    unsigned char *mem_180896 = NULL;
    int64_t mem_180910_cached_sizze_182613 = 0;
    unsigned char *mem_180910 = NULL;
    int64_t mem_180913_cached_sizze_182614 = 0;
    unsigned char *mem_180913 = NULL;
    int64_t mem_180916_cached_sizze_182615 = 0;
    unsigned char *mem_180916 = NULL;
    int64_t mem_181058_cached_sizze_182616 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181060_cached_sizze_182617 = 0;
    unsigned char *mem_181060 = NULL;
    int64_t mem_181075_cached_sizze_182618 = 0;
    unsigned char *mem_181075 = NULL;
    int64_t mem_181077_cached_sizze_182619 = 0;
    unsigned char *mem_181077 = NULL;
    int64_t mem_181080_cached_sizze_182620 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182621 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181117_cached_sizze_182622 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_182623 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182624 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181136_cached_sizze_182625 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_182626 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181140_cached_sizze_182627 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181237_cached_sizze_182628 = 0;
    unsigned char *mem_181237 = NULL;
    int64_t mem_181240_cached_sizze_182629 = 0;
    unsigned char *mem_181240 = NULL;
    int64_t mem_181243_cached_sizze_182630 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181257_cached_sizze_182631 = 0;
    unsigned char *mem_181257 = NULL;
    int64_t mem_181259_cached_sizze_182632 = 0;
    unsigned char *mem_181259 = NULL;
    int64_t mem_181273_cached_sizze_182633 = 0;
    unsigned char *mem_181273 = NULL;
    int64_t mem_181276_cached_sizze_182634 = 0;
    unsigned char *mem_181276 = NULL;
    int64_t mem_181279_cached_sizze_182635 = 0;
    unsigned char *mem_181279 = NULL;
    int64_t mem_181496_cached_sizze_182636 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181499_cached_sizze_182637 = 0;
    unsigned char *mem_181499 = NULL;
    int64_t mem_181502_cached_sizze_182638 = 0;
    unsigned char *mem_181502 = NULL;
    int64_t mem_181515_cached_sizze_182639 = 0;
    unsigned char *mem_181515 = NULL;
    int64_t mem_181517_cached_sizze_182640 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181519_cached_sizze_182641 = 0;
    unsigned char *mem_181519 = NULL;
    int64_t mem_181616_cached_sizze_182642 = 0;
    unsigned char *mem_181616 = NULL;
    int64_t mem_181619_cached_sizze_182643 = 0;
    unsigned char *mem_181619 = NULL;
    int64_t mem_181622_cached_sizze_182644 = 0;
    unsigned char *mem_181622 = NULL;
    int64_t mem_181636_cached_sizze_182645 = 0;
    unsigned char *mem_181636 = NULL;
    int64_t mem_181638_cached_sizze_182646 = 0;
    unsigned char *mem_181638 = NULL;
    int64_t mem_181652_cached_sizze_182647 = 0;
    unsigned char *mem_181652 = NULL;
    int64_t mem_181655_cached_sizze_182648 = 0;
    unsigned char *mem_181655 = NULL;
    int64_t mem_181658_cached_sizze_182649 = 0;
    unsigned char *mem_181658 = NULL;
    struct memblock mem_param_tmp_182334;
    
    mem_param_tmp_182334.references = NULL;
    
    struct memblock mem_param_tmp_182333;
    
    mem_param_tmp_182333.references = NULL;
    
    struct memblock mem_param_tmp_182332;
    
    mem_param_tmp_182332.references = NULL;
    
    struct memblock mem_181770;
    
    mem_181770.references = NULL;
    
    struct memblock mem_181766;
    
    mem_181766.references = NULL;
    
    struct memblock mem_181762;
    
    mem_181762.references = NULL;
    
    struct memblock mem_181715;
    
    mem_181715.references = NULL;
    
    struct memblock mem_181711;
    
    mem_181711.references = NULL;
    
    struct memblock mem_181707;
    
    mem_181707.references = NULL;
    
    struct memblock mem_181721;
    
    mem_181721.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181717;
    
    mem_181717.references = NULL;
    
    struct memblock ext_mem_181742;
    
    ext_mem_181742.references = NULL;
    
    struct memblock ext_mem_181745;
    
    ext_mem_181745.references = NULL;
    
    struct memblock ext_mem_181748;
    
    ext_mem_181748.references = NULL;
    
    struct memblock mem_param_181614;
    
    mem_param_181614.references = NULL;
    
    struct memblock mem_param_181611;
    
    mem_param_181611.references = NULL;
    
    struct memblock mem_param_181608;
    
    mem_param_181608.references = NULL;
    
    struct memblock ext_mem_181778;
    
    ext_mem_181778.references = NULL;
    
    struct memblock ext_mem_181779;
    
    ext_mem_181779.references = NULL;
    
    struct memblock ext_mem_181780;
    
    ext_mem_181780.references = NULL;
    
    struct memblock mem_181604;
    
    mem_181604.references = NULL;
    
    struct memblock mem_181600;
    
    mem_181600.references = NULL;
    
    struct memblock mem_181596;
    
    mem_181596.references = NULL;
    
    struct memblock ext_mem_181783;
    
    ext_mem_181783.references = NULL;
    
    struct memblock ext_mem_181786;
    
    ext_mem_181786.references = NULL;
    
    struct memblock ext_mem_181789;
    
    ext_mem_181789.references = NULL;
    
    struct memblock mem_181494;
    
    mem_181494.references = NULL;
    
    struct memblock mem_181492;
    
    mem_181492.references = NULL;
    
    struct memblock mem_181490;
    
    mem_181490.references = NULL;
    
    struct memblock mem_param_tmp_182268;
    
    mem_param_tmp_182268.references = NULL;
    
    struct memblock mem_param_tmp_182267;
    
    mem_param_tmp_182267.references = NULL;
    
    struct memblock mem_param_tmp_182266;
    
    mem_param_tmp_182266.references = NULL;
    
    struct memblock mem_181028;
    
    mem_181028.references = NULL;
    
    struct memblock mem_181024;
    
    mem_181024.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_180973;
    
    mem_180973.references = NULL;
    
    struct memblock mem_180969;
    
    mem_180969.references = NULL;
    
    struct memblock mem_180965;
    
    mem_180965.references = NULL;
    
    struct memblock mem_180979;
    
    mem_180979.references = NULL;
    
    struct memblock mem_180977;
    
    mem_180977.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock ext_mem_181000;
    
    ext_mem_181000.references = NULL;
    
    struct memblock ext_mem_181003;
    
    ext_mem_181003.references = NULL;
    
    struct memblock ext_mem_181006;
    
    ext_mem_181006.references = NULL;
    
    struct memblock mem_param_180872;
    
    mem_param_180872.references = NULL;
    
    struct memblock mem_param_180869;
    
    mem_param_180869.references = NULL;
    
    struct memblock mem_param_180866;
    
    mem_param_180866.references = NULL;
    
    struct memblock ext_mem_181036;
    
    ext_mem_181036.references = NULL;
    
    struct memblock ext_mem_181037;
    
    ext_mem_181037.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_180862;
    
    mem_180862.references = NULL;
    
    struct memblock mem_180858;
    
    mem_180858.references = NULL;
    
    struct memblock mem_180854;
    
    mem_180854.references = NULL;
    
    struct memblock ext_mem_181041;
    
    ext_mem_181041.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock mem_180752;
    
    mem_180752.references = NULL;
    
    struct memblock mem_180750;
    
    mem_180750.references = NULL;
    
    struct memblock mem_180748;
    
    mem_180748.references = NULL;
    
    struct memblock mem_180732;
    
    mem_180732.references = NULL;
    
    struct memblock mem_180730;
    
    mem_180730.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_181439;
    
    mem_181439.references = NULL;
    
    struct memblock mem_181438;
    
    mem_181438.references = NULL;
    
    struct memblock mem_181436;
    
    mem_181436.references = NULL;
    
    struct memblock mem_param_tmp_182174;
    
    mem_param_tmp_182174.references = NULL;
    
    struct memblock mem_param_tmp_182173;
    
    mem_param_tmp_182173.references = NULL;
    
    struct memblock mem_param_tmp_182172;
    
    mem_param_tmp_182172.references = NULL;
    
    struct memblock mem_181391;
    
    mem_181391.references = NULL;
    
    struct memblock mem_181387;
    
    mem_181387.references = NULL;
    
    struct memblock mem_181383;
    
    mem_181383.references = NULL;
    
    struct memblock mem_181336;
    
    mem_181336.references = NULL;
    
    struct memblock mem_181332;
    
    mem_181332.references = NULL;
    
    struct memblock mem_181328;
    
    mem_181328.references = NULL;
    
    struct memblock mem_181342;
    
    mem_181342.references = NULL;
    
    struct memblock mem_181340;
    
    mem_181340.references = NULL;
    
    struct memblock mem_181338;
    
    mem_181338.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181366;
    
    ext_mem_181366.references = NULL;
    
    struct memblock ext_mem_181369;
    
    ext_mem_181369.references = NULL;
    
    struct memblock mem_param_181235;
    
    mem_param_181235.references = NULL;
    
    struct memblock mem_param_181232;
    
    mem_param_181232.references = NULL;
    
    struct memblock mem_param_181229;
    
    mem_param_181229.references = NULL;
    
    struct memblock ext_mem_181399;
    
    ext_mem_181399.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181401;
    
    ext_mem_181401.references = NULL;
    
    struct memblock mem_181225;
    
    mem_181225.references = NULL;
    
    struct memblock mem_181221;
    
    mem_181221.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock ext_mem_181404;
    
    ext_mem_181404.references = NULL;
    
    struct memblock ext_mem_181407;
    
    ext_mem_181407.references = NULL;
    
    struct memblock ext_mem_181410;
    
    ext_mem_181410.references = NULL;
    
    struct memblock mem_181115;
    
    mem_181115.references = NULL;
    
    struct memblock mem_181113;
    
    mem_181113.references = NULL;
    
    struct memblock mem_181111;
    
    mem_181111.references = NULL;
    
    struct memblock ext_mem_181460;
    
    ext_mem_181460.references = NULL;
    
    struct memblock ext_mem_181463;
    
    ext_mem_181463.references = NULL;
    
    struct memblock ext_mem_181466;
    
    ext_mem_181466.references = NULL;
    
    struct memblock mem_180702;
    
    mem_180702.references = NULL;
    
    struct memblock mem_180700;
    
    mem_180700.references = NULL;
    
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t prim_out_182113;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185 = add64(na_141894, nb_141895);
    
    if (memblock_alloc(ctx, &mem_180698, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182114 = 0; nest_i_182114 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182114++) {
        ((int8_t *) mem_180698.mem)[nest_i_182114] = (int8_t) -1;
    }
    
    int64_t bytes_180699 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180700, bytes_180699, "mem_180700")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182115 = 0; nest_i_182115 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182115++) {
        ((int64_t *) mem_180700.mem)[nest_i_182115] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_180702, bytes_180699, "mem_180702")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182116 = 0; nest_i_182116 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182116++) {
        ((int64_t *) mem_180702.mem)[nest_i_182116] = (int64_t) 0;
    }
    
    int64_t zl_rhs_175189 = sub64(na_141894, window_sizze_141896);
    bool cond_175190 = slt64((int64_t) 0, zl_rhs_175189);
    int64_t zl_rhs_175191 = sub64(nb_141895, window_sizze_141896);
    bool loop_cond_t_res_175192 = slt64((int64_t) 0, zl_rhs_175191);
    bool x_175193 = cond_175190 && loop_cond_t_res_175192;
    bool empty_slice_175194 = window_sizze_141896 == (int64_t) 0;
    int64_t m_175195 = sub64(window_sizze_141896, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220 = add64((int64_t) 1, threads_141897);
    int64_t partitionFunc_arg0_176221 = mul64((int64_t) 2, threads_141897);
    bool y_176223 = slt64((int64_t) 0, window_sizze_141896);
    bool loop_cond_176469 = slt64((int64_t) 0, threads_141897);
    bool zzero_175240 = threads_141897 == (int64_t) 0;
    bool nonzzero_175241 = !zzero_175240;
    bool loop_not_taken_177998 = !inParallel_141900;
    bool protect_assert_disj_177999 = nonzzero_175241 || loop_not_taken_177998;
    bool loop_not_taken_178088 = !x_175193;
    bool protect_assert_disj_178089 = protect_assert_disj_177999 || loop_not_taken_178088;
    bool nonzzero_cert_175242;
    
    if (!protect_assert_disj_178089) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175243 = sdiv_safe64(window_sizze_141896, threads_141897);
    int64_t perThread_175244 = add64((int64_t) 1, zp_rhs_175243);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245 = mul64(threads_141897, perThread_175244);
    bool protect_assert_disj_178135 = inParallel_141900 || y_176223;
    bool protect_assert_disj_178139 = loop_not_taken_178088 || protect_assert_disj_178135;
    bool index_certs_176224;
    
    if (!protect_assert_disj_178139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176239 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, (int64_t) 1);
    bool y_177196 = slt64(threads_141897, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
    bool protect_assert_disj_178104 = y_176223 || loop_not_taken_177998;
    bool protect_assert_disj_178143 = loop_not_taken_178088 || protect_assert_disj_178104;
    bool index_certs_175248;
    
    if (!protect_assert_disj_178143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176241 = !bounds_invalid_upwards_176239;
    bool protect_assert_disj_178151 = inParallel_141900 || y_177196;
    bool protect_assert_disj_178153 = loop_not_taken_178088 || protect_assert_disj_178151;
    bool index_certs_177198;
    
    if (!protect_assert_disj_178153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178147 = y_177196 || loop_not_taken_177998;
    bool protect_assert_disj_178155 = loop_not_taken_178088 || protect_assert_disj_178147;
    bool index_certs_176202;
    
    if (!protect_assert_disj_178155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141897, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178163 = inParallel_141900 || valid_176241;
    bool protect_assert_disj_178165 = loop_not_taken_178088 || protect_assert_disj_178163;
    bool range_valid_c_176242;
    
    if (!protect_assert_disj_178165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178007 = sle64((int64_t) 1, threads_141897);
    bool protect_assert_disj_178159 = valid_176241 || loop_not_taken_177998;
    bool protect_assert_disj_178167 = loop_not_taken_178088 || protect_assert_disj_178159;
    bool range_valid_c_175255;
    
    if (!protect_assert_disj_178167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176244 = add64(window_sizze_141896, window_sizze_141896);
    bool zzero_176245 = partitionFunc_arg0_176221 == (int64_t) 0;
    int64_t index_concat_i_178008 = sub64(threads_141897, (int64_t) 1);
    bool nonzzero_176246 = !zzero_176245;
    bool protect_assert_disj_178175 = inParallel_141900 || nonzzero_176246;
    bool protect_assert_disj_178181 = loop_not_taken_178088 || protect_assert_disj_178175;
    bool nonzzero_cert_176247;
    
    if (!protect_assert_disj_178181) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178171 = nonzzero_176246 || loop_not_taken_177998;
    bool protect_assert_disj_178187 = loop_not_taken_178088 || protect_assert_disj_178171;
    bool nonzzero_cert_175260;
    
    if (!protect_assert_disj_178187) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180712 = (int64_t) 8 * threads_141897;
    int64_t bytes_180729 = (int64_t) 8 * window_sizze_141896;
    int64_t bytes_181074 = perThread_175244 * bytes_180712;
    bool defunc_0_merge_pipeline_res_175196;
    int64_t defunc_0_merge_pipeline_res_175200;
    int64_t defunc_0_merge_pipeline_res_175201;
    bool loop_while_175202;
    int64_t p_175206;
    int64_t p_175207;
    
    loop_while_175202 = x_175193;
    p_175206 = (int64_t) 0;
    p_175207 = (int64_t) 0;
    while (loop_while_175202) {
        int64_t ubs_175208 = add64(window_sizze_141896, p_175206);
        int64_t ubs_175209 = add64(window_sizze_141896, p_175207);
        int64_t ind_bottom_175210 = add64(p_175206, p_175207);
        int64_t ind_top_175211 = add64(window_sizze_141896, ind_bottom_175210);
        int64_t i_p_m_t_s_175212 = add64(m_175195, p_175206);
        bool zzero_leq_i_p_m_t_s_175213 = sle64((int64_t) 0, i_p_m_t_s_175212);
        bool i_p_m_t_s_leq_w_175214 = slt64(i_p_m_t_s_175212, na_141894);
        bool zzero_lte_i_175215 = sle64((int64_t) 0, p_175206);
        bool i_lte_j_175216 = sle64(p_175206, ubs_175208);
        bool y_175217 = i_p_m_t_s_leq_w_175214 && zzero_lte_i_175215;
        bool y_175218 = zzero_leq_i_p_m_t_s_175213 && y_175217;
        bool forwards_ok_175219 = i_lte_j_175216 && y_175218;
        bool ok_or_empty_175220 = empty_slice_175194 || forwards_ok_175219;
        bool index_certs_175221;
        
        if (!ok_or_empty_175220) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175206, ":", (long long) ubs_175208, "] out of bounds for array of shape [", (long long) na_141894, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175223 = add64(m_175195, p_175207);
        bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, i_p_m_t_s_175223);
        bool i_p_m_t_s_leq_w_175225 = slt64(i_p_m_t_s_175223, nb_141895);
        bool zzero_lte_i_175226 = sle64((int64_t) 0, p_175207);
        bool i_lte_j_175227 = sle64(p_175207, ubs_175209);
        bool y_175228 = i_p_m_t_s_leq_w_175225 && zzero_lte_i_175226;
        bool y_175229 = zzero_leq_i_p_m_t_s_175224 && y_175228;
        bool forwards_ok_175230 = i_lte_j_175227 && y_175229;
        bool ok_or_empty_175231 = empty_slice_175194 || forwards_ok_175230;
        bool index_certs_175232;
        
        if (!ok_or_empty_175231) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175207, ":", (long long) ubs_175209, "] out of bounds for array of shape [", (long long) nb_141895, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177210 = add64(m_175195, ind_bottom_175210);
        bool zzero_leq_i_p_m_t_s_177211 = sle64((int64_t) 0, i_p_m_t_s_177210);
        bool i_p_m_t_s_leq_w_177212 = slt64(i_p_m_t_s_177210, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
        bool zzero_lte_i_177213 = sle64((int64_t) 0, ind_bottom_175210);
        bool i_lte_j_177214 = sle64(ind_bottom_175210, ind_top_175211);
        bool y_177215 = i_p_m_t_s_leq_w_177212 && zzero_lte_i_177213;
        bool y_177216 = zzero_leq_i_p_m_t_s_177211 && y_177215;
        bool forwards_ok_177217 = i_lte_j_177214 && y_177216;
        bool ok_or_empty_177218 = empty_slice_175194 || forwards_ok_177217;
        bool index_certs_177219;
        
        if (!ok_or_empty_177218) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175210, ":", (long long) ind_top_175211, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175234;
        int64_t loopres_175235;
        
        if (inParallel_141900) {
            int64_t leq_lhs_178668 = ((int64_t *) a_list_mem_180696.mem)[p_175206];
            int64_t leq_rhs_178669 = ((int64_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_178670 = sle64(leq_lhs_178668, leq_rhs_178669);
            int64_t lowest_178671;
            
            if (defunc_0_leq_res_178670) {
                lowest_178671 = leq_lhs_178668;
            } else {
                lowest_178671 = leq_rhs_178669;
            }
            if (mem_181058_cached_sizze_182616 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182616, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181060_cached_sizze_182617 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181060, &mem_181060_cached_sizze_182617, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180360 = 0; i_180360 < threads_141897; i_180360++) {
                int64_t index_primexp_180632 = add64((int64_t) 1, i_180360);
                int64_t zs_lhs_178676 = mul64(zt_rhs_176244, index_primexp_180632);
                int64_t index_178677 = sdiv64(zs_lhs_178676, partitionFunc_arg0_176221);
                bool cond_178678 = slt64(window_sizze_141896, index_178677);
                int64_t loop_over_178679;
                
                if (cond_178678) {
                    loop_over_178679 = window_sizze_141896;
                } else {
                    loop_over_178679 = index_178677;
                }
                
                int64_t loop_over_178680;
                
                if (cond_178678) {
                    int64_t loop_over_t_res_178681 = sub64(index_178677, window_sizze_141896);
                    
                    loop_over_178680 = loop_over_t_res_178681;
                } else {
                    loop_over_178680 = (int64_t) 0;
                }
                
                int64_t loop_over_178682;
                
                if (cond_178678) {
                    int64_t zm_lhs_178683 = sub64(index_178677, window_sizze_141896);
                    int64_t loop_over_t_res_178684 = sub64(zm_lhs_178683, (int64_t) 1);
                    
                    loop_over_178682 = loop_over_t_res_178684;
                } else {
                    loop_over_178682 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178685;
                int64_t defunc_0_f_res_178686;
                int64_t defunc_0_f_res_178687;
                int64_t defunc_0_f_res_178688;
                bool loop_while_178689;
                int64_t p_178690;
                int64_t p_178691;
                int64_t p_178692;
                
                loop_while_178689 = 1;
                p_178690 = loop_over_178682;
                p_178691 = loop_over_178679;
                p_178692 = loop_over_178680;
                while (loop_while_178689) {
                    int64_t zs_lhs_178693 = sub64(p_178691, p_178690);
                    int64_t offset_178694 = sdiv64(zs_lhs_178693, (int64_t) 2);
                    int64_t ai_178695 = sub64(p_178691, offset_178694);
                    int64_t max_arg1_178696 = add64(p_178692, offset_178694);
                    int64_t max_res_178697 = smax64((int64_t) 0, max_arg1_178696);
                    bool cond_178698 = slt64((int64_t) 0, max_res_178697);
                    int64_t b_prev_178699;
                    
                    if (cond_178698) {
                        int64_t tmp_178700 = sub64(max_res_178697, (int64_t) 1);
                        bool x_178701 = sle64((int64_t) 0, tmp_178700);
                        bool y_178702 = slt64(tmp_178700, window_sizze_141896);
                        bool bounds_check_178703 = x_178701 && y_178702;
                        bool index_certs_178704;
                        
                        if (!bounds_check_178703) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178700, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178705 = p_175207 + tmp_178700;
                        int64_t b_prev_t_res_178706 = ((int64_t *) b_list_mem_180697.mem)[slice_178705];
                        
                        b_prev_178699 = b_prev_t_res_178706;
                    } else {
                        b_prev_178699 = lowest_178671;
                    }
                    
                    bool cond_178707 = sle64(ai_178695, (int64_t) 0);
                    int64_t loopres_178708;
                    int64_t loopres_178709;
                    int64_t loopres_178710;
                    bool loopres_178711;
                    
                    if (cond_178707) {
                        loopres_178708 = p_178690;
                        loopres_178709 = (int64_t) 0;
                        loopres_178710 = max_res_178697;
                        loopres_178711 = 0;
                    } else {
                        bool cond_178712 = sle64(window_sizze_141896, max_res_178697);
                        int64_t loopres_f_res_178713;
                        int64_t loopres_f_res_178714;
                        int64_t loopres_f_res_178715;
                        bool loopres_f_res_178716;
                        
                        if (cond_178712) {
                            int64_t min_res_178718 = smin64(m_175195, ai_178695);
                            bool x_178719 = sle64((int64_t) 0, m_175195);
                            bool y_178720 = slt64(m_175195, window_sizze_141896);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178725 = sle64((int64_t) 0, min_res_178718);
                            bool y_178726 = slt64(min_res_178718, window_sizze_141896);
                            bool bounds_check_178727 = x_178725 && y_178726;
                            bool index_certs_178728;
                            
                            if (!bounds_check_178727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178718, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_178724 = ((int64_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_178729 = p_175206 + min_res_178718;
                            int64_t leq_rhs_178730 = ((int64_t *) a_list_mem_180696.mem)[slice_178729];
                            bool defunc_0_leq_res_178731 = sle64(leq_lhs_178724, leq_rhs_178730);
                            int64_t loopres_f_res_t_res_178732;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178732 = ai_178695;
                            } else {
                                loopres_f_res_t_res_178732 = p_178691;
                            }
                            
                            bool x_178733 = !defunc_0_leq_res_178731;
                            int64_t loopres_f_res_t_res_178734;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178734 = window_sizze_141896;
                            } else {
                                int64_t tmp_178735 = sub64(m_175195, offset_178694);
                                
                                loopres_f_res_t_res_178734 = tmp_178735;
                            }
                            loopres_f_res_178713 = p_178690;
                            loopres_f_res_178714 = loopres_f_res_t_res_178732;
                            loopres_f_res_178715 = loopres_f_res_t_res_178734;
                            loopres_f_res_178716 = x_178733;
                        } else {
                            bool cond_178736 = sle64(window_sizze_141896, ai_178695);
                            int64_t loopres_f_res_f_res_178737;
                            int64_t loopres_f_res_f_res_178738;
                            int64_t loopres_f_res_f_res_178739;
                            bool loopres_f_res_f_res_178740;
                            
                            if (cond_178736) {
                                int64_t min_res_178742 = smin64(m_175195, max_res_178697);
                                bool x_178743 = sle64((int64_t) 0, m_175195);
                                bool y_178744 = slt64(m_175195, window_sizze_141896);
                                bool bounds_check_178745 = x_178743 && y_178744;
                                bool index_certs_178746;
                                
                                if (!bounds_check_178745) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178749 = sle64((int64_t) 0, min_res_178742);
                                bool y_178750 = slt64(min_res_178742, window_sizze_141896);
                                bool bounds_check_178751 = x_178749 && y_178750;
                                bool index_certs_178752;
                                
                                if (!bounds_check_178751) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178742, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_178748 = ((int64_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_178753 = p_175207 + min_res_178742;
                                int64_t leq_rhs_178754 = ((int64_t *) b_list_mem_180697.mem)[slice_178753];
                                bool defunc_0_leq_res_178755 = sle64(leq_lhs_178748, leq_rhs_178754);
                                int64_t loopres_f_res_f_res_t_res_178756;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178756 = max_res_178697;
                                } else {
                                    loopres_f_res_f_res_t_res_178756 = p_178692;
                                }
                                
                                bool x_178757 = !defunc_0_leq_res_178755;
                                int64_t loopres_f_res_f_res_t_res_178758;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178758 = window_sizze_141896;
                                } else {
                                    loopres_f_res_f_res_t_res_178758 = m_175195;
                                }
                                loopres_f_res_f_res_178737 = p_178690;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_t_res_178758;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_t_res_178756;
                                loopres_f_res_f_res_178740 = x_178757;
                            } else {
                                bool cond_178759 = sle64(p_178691, p_178690);
                                int64_t loopres_f_res_f_res_f_res_178760;
                                int64_t loopres_f_res_f_res_f_res_178761;
                                int64_t loopres_f_res_f_res_f_res_178762;
                                bool loopres_f_res_f_res_f_res_178763;
                                
                                if (cond_178759) {
                                    bool cond_178764 = slt64(ai_178695, window_sizze_141896);
                                    int64_t ai_178765;
                                    
                                    if (cond_178764) {
                                        ai_178765 = ai_178695;
                                    } else {
                                        ai_178765 = m_175195;
                                    }
                                    
                                    bool x_178778 = sle64((int64_t) 0, ai_178765);
                                    bool y_178779 = slt64(ai_178765, window_sizze_141896);
                                    bool bounds_check_178780 = x_178778 && y_178779;
                                    bool index_certs_178781;
                                    
                                    if (!bounds_check_178780) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178765, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_178767;
                                    
                                    if (cond_178698) {
                                        int64_t tmp_178768 = sub64(max_res_178697, (int64_t) 1);
                                        bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                        bool y_178770 = slt64(tmp_178768, window_sizze_141896);
                                        bool bounds_check_178771 = x_178769 && y_178770;
                                        bool index_certs_178772;
                                        
                                        if (!bounds_check_178771) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178773 = p_175207 + tmp_178768;
                                        int64_t b_prev_t_res_178774 = ((int64_t *) b_list_mem_180697.mem)[slice_178773];
                                        
                                        b_prev_178767 = b_prev_t_res_178774;
                                    } else {
                                        bool index_certs_178776;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178767 = leq_rhs_178669;
                                    }
                                    
                                    int64_t slice_178782 = p_175206 + ai_178765;
                                    int64_t gt_lhs_178783 = ((int64_t *) a_list_mem_180696.mem)[slice_178782];
                                    bool defunc_0_gt_res_178784 = slt64(b_prev_178767, gt_lhs_178783);
                                    int64_t defunc_0_partFunc_sequential_search_res_178785;
                                    int64_t defunc_0_partFunc_sequential_search_res_178786;
                                    
                                    if (defunc_0_gt_res_178784) {
                                        int64_t zl_rhs_178787 = sub64(window_sizze_141896, max_res_178697);
                                        bool loop_cond_178788 = slt64((int64_t) 0, zl_rhs_178787);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178789;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178791;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178792;
                                        bool loop_while_178793;
                                        int64_t p_178794;
                                        int64_t p_178795;
                                        int64_t p_178796;
                                        
                                        loop_while_178793 = loop_cond_178788;
                                        p_178794 = ai_178765;
                                        p_178795 = max_res_178697;
                                        p_178796 = (int64_t) 0;
                                        while (loop_while_178793) {
                                            int64_t i_a_178797 = sub64(ai_178765, p_178796);
                                            int64_t i_b_178798 = add64(max_res_178697, p_178796);
                                            int64_t leq_lhs_178799 = sub64(i_a_178797, (int64_t) 1);
                                            bool x_178800 = sle64((int64_t) 0, leq_lhs_178799);
                                            bool y_178801 = slt64(leq_lhs_178799, window_sizze_141896);
                                            bool bounds_check_178802 = x_178800 && y_178801;
                                            bool index_certs_178803;
                                            
                                            if (!bounds_check_178802) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178799, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178806 = sle64((int64_t) 0, i_b_178798);
                                            bool y_178807 = slt64(i_b_178798, window_sizze_141896);
                                            bool bounds_check_178808 = x_178806 && y_178807;
                                            bool index_certs_178809;
                                            
                                            if (!bounds_check_178808) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178798, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178804 = p_175206 + leq_lhs_178799;
                                            int64_t leq_lhs_178805 = ((int64_t *) a_list_mem_180696.mem)[slice_178804];
                                            int64_t slice_178810 = p_175207 + i_b_178798;
                                            int64_t leq_rhs_178811 = ((int64_t *) b_list_mem_180697.mem)[slice_178810];
                                            bool defunc_0_leq_res_178812 = sle64(leq_lhs_178805, leq_rhs_178811);
                                            int64_t loopres_178813;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178813 = i_a_178797;
                                            } else {
                                                loopres_178813 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178814;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178814 = i_b_178798;
                                            } else {
                                                loopres_178814 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178815;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178815 = zl_rhs_178787;
                                            } else {
                                                int64_t tmp_178816 = add64((int64_t) 1, p_178796);
                                                
                                                loopres_178815 = tmp_178816;
                                            }
                                            
                                            bool loop_cond_178817 = slt64(loopres_178815, zl_rhs_178787);
                                            bool loop_while_tmp_182129 = loop_cond_178817;
                                            int64_t p_tmp_182130 = loopres_178813;
                                            int64_t p_tmp_182131 = loopres_178814;
                                            int64_t p_tmp_182132 = loopres_178815;
                                            
                                            loop_while_178793 = loop_while_tmp_182129;
                                            p_178794 = p_tmp_182130;
                                            p_178795 = p_tmp_182131;
                                            p_178796 = p_tmp_182132;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178789 = loop_while_178793;
                                        defunc_0_partFunc_sequential_search_res_t_res_178790 = p_178794;
                                        defunc_0_partFunc_sequential_search_res_t_res_178791 = p_178795;
                                        defunc_0_partFunc_sequential_search_res_t_res_178792 = p_178796;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_t_res_178791;
                                    } else {
                                        int64_t zl_rhs_178818 = sub64(max_res_178697, (int64_t) 1);
                                        bool loop_cond_178819 = slt64((int64_t) 0, zl_rhs_178818);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178820;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178822;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178823;
                                        bool loop_while_178824;
                                        int64_t p_178825;
                                        int64_t p_178826;
                                        int64_t p_178827;
                                        
                                        loop_while_178824 = loop_cond_178819;
                                        p_178825 = ai_178765;
                                        p_178826 = max_res_178697;
                                        p_178827 = (int64_t) 0;
                                        while (loop_while_178824) {
                                            int64_t zp_lhs_178828 = add64(ai_178765, p_178827);
                                            int64_t hi_a_178829 = add64((int64_t) 1, zp_lhs_178828);
                                            bool cond_178830 = slt64(hi_a_178829, window_sizze_141896);
                                            int64_t i_a_178831;
                                            
                                            if (cond_178830) {
                                                i_a_178831 = hi_a_178829;
                                            } else {
                                                i_a_178831 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_178833 = sub64(max_res_178697, p_178827);
                                            int64_t i_b_178834 = sub64(zm_lhs_178833, (int64_t) 1);
                                            bool x_178835 = sle64((int64_t) 0, i_a_178831);
                                            bool y_178836 = slt64(i_a_178831, window_sizze_141896);
                                            bool bounds_check_178837 = x_178835 && y_178836;
                                            bool index_certs_178838;
                                            
                                            if (!bounds_check_178837) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178831, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178841 = sle64((int64_t) 0, i_b_178834);
                                            bool y_178842 = slt64(i_b_178834, window_sizze_141896);
                                            bool bounds_check_178843 = x_178841 && y_178842;
                                            bool index_certs_178844;
                                            
                                            if (!bounds_check_178843) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178834, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178839 = p_175206 + i_a_178831;
                                            int64_t gt_lhs_178840 = ((int64_t *) a_list_mem_180696.mem)[slice_178839];
                                            int64_t slice_178845 = p_175207 + i_b_178834;
                                            int64_t gt_rhs_178846 = ((int64_t *) b_list_mem_180697.mem)[slice_178845];
                                            bool defunc_0_gt_res_178847 = slt64(gt_rhs_178846, gt_lhs_178840);
                                            int64_t loopres_178848;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178848 = i_a_178831;
                                            } else {
                                                loopres_178848 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178849;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178849 = zm_lhs_178833;
                                            } else {
                                                loopres_178849 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178850;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178850 = zl_rhs_178818;
                                            } else {
                                                int64_t tmp_178851 = add64((int64_t) 1, p_178827);
                                                
                                                loopres_178850 = tmp_178851;
                                            }
                                            
                                            bool loop_cond_178852 = slt64(loopres_178850, zl_rhs_178818);
                                            bool loop_while_tmp_182133 = loop_cond_178852;
                                            int64_t p_tmp_182134 = loopres_178848;
                                            int64_t p_tmp_182135 = loopres_178849;
                                            int64_t p_tmp_182136 = loopres_178850;
                                            
                                            loop_while_178824 = loop_while_tmp_182133;
                                            p_178825 = p_tmp_182134;
                                            p_178826 = p_tmp_182135;
                                            p_178827 = p_tmp_182136;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178820 = loop_while_178824;
                                        defunc_0_partFunc_sequential_search_res_f_res_178821 = p_178825;
                                        defunc_0_partFunc_sequential_search_res_f_res_178822 = p_178826;
                                        defunc_0_partFunc_sequential_search_res_f_res_178823 = p_178827;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_f_res_178822;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = p_178690;
                                    loopres_f_res_f_res_f_res_178761 = defunc_0_partFunc_sequential_search_res_178785;
                                    loopres_f_res_f_res_f_res_178762 = defunc_0_partFunc_sequential_search_res_178786;
                                    loopres_f_res_f_res_f_res_178763 = 0;
                                } else {
                                    bool x_178853 = sle64((int64_t) 0, ai_178695);
                                    bool y_178854 = slt64(ai_178695, window_sizze_141896);
                                    bool bounds_check_178855 = x_178853 && y_178854;
                                    bool index_certs_178856;
                                    
                                    if (!bounds_check_178855) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178695, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178857 = p_175206 + ai_178695;
                                    int64_t gt_lhs_178858 = ((int64_t *) a_list_mem_180696.mem)[slice_178857];
                                    bool defunc_0_gt_res_178859 = slt64(b_prev_178699, gt_lhs_178858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178862;
                                    bool loopres_f_res_f_res_f_res_f_res_178863;
                                    
                                    if (defunc_0_gt_res_178859) {
                                        int64_t leq_lhs_178864 = sub64(ai_178695, (int64_t) 1);
                                        bool x_178865 = sle64((int64_t) 0, leq_lhs_178864);
                                        bool y_178866 = slt64(leq_lhs_178864, window_sizze_141896);
                                        bool bounds_check_178867 = x_178865 && y_178866;
                                        bool index_certs_178868;
                                        
                                        if (!bounds_check_178867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178864, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178871 = sle64((int64_t) 0, max_res_178697);
                                        bool y_178872 = slt64(max_res_178697, window_sizze_141896);
                                        bool bounds_check_178873 = x_178871 && y_178872;
                                        bool index_certs_178874;
                                        
                                        if (!bounds_check_178873) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178697, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178869 = p_175206 + leq_lhs_178864;
                                        int64_t leq_lhs_178870 = ((int64_t *) a_list_mem_180696.mem)[slice_178869];
                                        int64_t slice_178875 = p_175207 + max_res_178697;
                                        int64_t leq_rhs_178876 = ((int64_t *) b_list_mem_180697.mem)[slice_178875];
                                        bool defunc_0_leq_res_178877 = sle64(leq_lhs_178870, leq_rhs_178876);
                                        bool x_178878 = !defunc_0_leq_res_178877;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = ai_178695;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = leq_lhs_178864;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = max_res_178697;
                                        } else {
                                            int64_t tmp_178881 = add64((int64_t) 1, max_res_178697);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = tmp_178881;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178860 = p_178690;
                                        loopres_f_res_f_res_f_res_f_res_178861 = loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        loopres_f_res_f_res_f_res_f_res_178862 = loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        loopres_f_res_f_res_f_res_f_res_178863 = x_178878;
                                    } else {
                                        int64_t tmp_178882 = add64((int64_t) 1, ai_178695);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178860 = tmp_178882;
                                        loopres_f_res_f_res_f_res_f_res_178861 = p_178691;
                                        loopres_f_res_f_res_f_res_f_res_178862 = p_178692;
                                        loopres_f_res_f_res_f_res_f_res_178863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = loopres_f_res_f_res_f_res_f_res_178860;
                                    loopres_f_res_f_res_f_res_178761 = loopres_f_res_f_res_f_res_f_res_178861;
                                    loopres_f_res_f_res_f_res_178762 = loopres_f_res_f_res_f_res_f_res_178862;
                                    loopres_f_res_f_res_f_res_178763 = loopres_f_res_f_res_f_res_f_res_178863;
                                }
                                loopres_f_res_f_res_178737 = loopres_f_res_f_res_f_res_178760;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_f_res_178761;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_f_res_178762;
                                loopres_f_res_f_res_178740 = loopres_f_res_f_res_f_res_178763;
                            }
                            loopres_f_res_178713 = loopres_f_res_f_res_178737;
                            loopres_f_res_178714 = loopres_f_res_f_res_178738;
                            loopres_f_res_178715 = loopres_f_res_f_res_178739;
                            loopres_f_res_178716 = loopres_f_res_f_res_178740;
                        }
                        loopres_178708 = loopres_f_res_178713;
                        loopres_178709 = loopres_f_res_178714;
                        loopres_178710 = loopres_f_res_178715;
                        loopres_178711 = loopres_f_res_178716;
                    }
                    
                    bool loop_while_tmp_182125 = loopres_178711;
                    int64_t p_tmp_182126 = loopres_178708;
                    int64_t p_tmp_182127 = loopres_178709;
                    int64_t p_tmp_182128 = loopres_178710;
                    
                    loop_while_178689 = loop_while_tmp_182125;
                    p_178690 = p_tmp_182126;
                    p_178691 = p_tmp_182127;
                    p_178692 = p_tmp_182128;
                }
                defunc_0_f_res_178685 = loop_while_178689;
                defunc_0_f_res_178686 = p_178690;
                defunc_0_f_res_178687 = p_178691;
                defunc_0_f_res_178688 = p_178692;
                ((int64_t *) mem_181058)[i_180360] = defunc_0_f_res_178687;
                ((int64_t *) mem_181060)[i_180360] = defunc_0_f_res_178688;
            }
            if (mem_181075_cached_sizze_182618 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181075, &mem_181075_cached_sizze_182618, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181077_cached_sizze_182619 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245) {
                err = lexical_realloc(ctx, &mem_181077, &mem_181077_cached_sizze_182619, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181080_cached_sizze_182620 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182620, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181083_cached_sizze_182621 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182621, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180426 = 0; i_180426 < threads_141897; i_180426++) {
                bool y_178896 = slt64(i_180426, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool index_certs_178898;
                
                if (!y_178896) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180426, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178899 = sle64((int64_t) 1, i_180426);
                int64_t index_concat_i_178900 = sub64(i_180426, (int64_t) 1);
                int64_t index_concat_178901;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178902 = ((int64_t *) mem_181058)[index_concat_i_178900];
                    
                    index_concat_178901 = x_178902;
                } else {
                    index_concat_178901 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178903;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178903 = index_concat_178901;
                } else {
                    index_concat_branch_178903 = (int64_t) 0;
                }
                
                int64_t index_concat_178904;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178905 = ((int64_t *) mem_181060)[index_concat_i_178900];
                    
                    index_concat_178904 = x_178905;
                } else {
                    index_concat_178904 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178906;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178906 = index_concat_178904;
                } else {
                    index_concat_branch_178906 = (int64_t) 0;
                }
                
                int64_t ubs_178907 = add64((int64_t) 1, i_180426);
                bool x_178908 = sle64((int64_t) 0, ubs_178907);
                bool y_178909 = slt64(ubs_178907, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_178910 = x_178908 && y_178909;
                bool index_certs_178911;
                
                if (!bounds_check_178910) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178907, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178912 = sle64((int64_t) 1, ubs_178907);
                int64_t index_concat_178913;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178914 = ((int64_t *) mem_181058)[i_180426];
                    
                    index_concat_178913 = x_178914;
                } else {
                    index_concat_178913 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178915;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178915 = index_concat_178913;
                } else {
                    index_concat_branch_178915 = (int64_t) 0;
                }
                
                int64_t index_concat_178916;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178917 = ((int64_t *) mem_181060)[i_180426];
                    
                    index_concat_178916 = x_178917;
                } else {
                    index_concat_178916 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178918;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178918 = index_concat_178916;
                } else {
                    index_concat_branch_178918 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 = sub64(index_concat_branch_178918, index_concat_branch_178906);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 = sub64(index_concat_branch_178915, index_concat_branch_178903);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t zm_lhs_178922 = add64(index_concat_branch_178915, index_concat_branch_178918);
                int64_t zm_rhs_178923 = add64(index_concat_branch_178903, index_concat_branch_178906);
                int64_t card_178924 = sub64(zm_lhs_178922, zm_rhs_178923);
                bool empty_slice_178925 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 == (int64_t) 0;
                int64_t m_178926 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 1);
                int64_t i_p_m_t_s_178927 = add64(index_concat_branch_178903, m_178926);
                bool zzero_leq_i_p_m_t_s_178928 = sle64((int64_t) 0, i_p_m_t_s_178927);
                bool i_p_m_t_s_leq_w_178929 = slt64(i_p_m_t_s_178927, window_sizze_141896);
                bool zzero_lte_i_178930 = sle64((int64_t) 0, index_concat_branch_178903);
                bool i_lte_j_178931 = sle64(index_concat_branch_178903, index_concat_branch_178915);
                bool y_178932 = i_p_m_t_s_leq_w_178929 && zzero_lte_i_178930;
                bool y_178933 = zzero_leq_i_p_m_t_s_178928 && y_178932;
                bool forwards_ok_178934 = i_lte_j_178931 && y_178933;
                bool ok_or_empty_178935 = empty_slice_178925 || forwards_ok_178934;
                bool index_certs_178936;
                
                if (!ok_or_empty_178935) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178903, ":", (long long) index_concat_branch_178915, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178937 = slt64(index_concat_branch_178915, index_concat_branch_178903);
                bool valid_178938 = !bounds_invalid_upwards_178937;
                bool range_valid_c_178939;
                
                if (!valid_178938) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178903, "..<", (long long) index_concat_branch_178915, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178944 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 == (int64_t) 0;
                int64_t m_178945 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, (int64_t) 1);
                int64_t i_p_m_t_s_178946 = add64(index_concat_branch_178906, m_178945);
                bool zzero_leq_i_p_m_t_s_178947 = sle64((int64_t) 0, i_p_m_t_s_178946);
                bool i_p_m_t_s_leq_w_178948 = slt64(i_p_m_t_s_178946, window_sizze_141896);
                bool zzero_lte_i_178949 = sle64((int64_t) 0, index_concat_branch_178906);
                bool i_lte_j_178950 = sle64(index_concat_branch_178906, index_concat_branch_178918);
                bool y_178951 = i_p_m_t_s_leq_w_178948 && zzero_lte_i_178949;
                bool y_178952 = zzero_leq_i_p_m_t_s_178947 && y_178951;
                bool forwards_ok_178953 = i_lte_j_178950 && y_178952;
                bool ok_or_empty_178954 = empty_slice_178944 || forwards_ok_178953;
                bool index_certs_178955;
                
                if (!ok_or_empty_178954) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178906, ":", (long long) index_concat_branch_178918, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178956 = slt64(index_concat_branch_178918, index_concat_branch_178906);
                bool valid_178957 = !bounds_invalid_upwards_178956;
                bool range_valid_c_178958;
                
                if (!valid_178957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178906, "..<", (long long) index_concat_branch_178918, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181112 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool cond_178966 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zs_lhs_178967 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zp_rhs_178968 = sdiv_safe64(zs_lhs_178967, (int64_t) 20);
                int64_t min_num_blocks_178969 = add64((int64_t) 1, zp_rhs_178968);
                bool loop_cond_178970 = slt64((int64_t) 1, min_num_blocks_178969);
                bool smallest_pow_2_geq_than_res_178971;
                int64_t smallest_pow_2_geq_than_res_178972;
                bool loop_while_178973;
                int64_t x_178974;
                
                loop_while_178973 = loop_cond_178970;
                x_178974 = (int64_t) 1;
                while (loop_while_178973) {
                    int64_t loopres_178975 = mul64((int64_t) 2, x_178974);
                    bool loop_cond_178976 = slt64(loopres_178975, min_num_blocks_178969);
                    bool loop_while_tmp_182141 = loop_cond_178976;
                    int64_t x_tmp_182142 = loopres_178975;
                    
                    loop_while_178973 = loop_while_tmp_182141;
                    x_178974 = x_tmp_182142;
                }
                smallest_pow_2_geq_than_res_178971 = loop_while_178973;
                smallest_pow_2_geq_than_res_178972 = x_178974;
                
                bool zzero_178977 = smallest_pow_2_geq_than_res_178972 == (int64_t) 0;
                bool nonzzero_178978 = !zzero_178977;
                bool protect_assert_disj_178979 = cond_178966 || nonzzero_178978;
                bool nonzzero_cert_178980;
                
                if (!protect_assert_disj_178979) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178981 = sdiv_safe64(zs_lhs_178967, smallest_pow_2_geq_than_res_178972);
                int64_t block_sizze_178982 = add64((int64_t) 1, zp_rhs_178981);
                bool y_178989 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                bool protect_assert_disj_181858 = cond_178966 || y_178989;
                bool index_certs_178990;
                
                if (!protect_assert_disj_181858) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179027 = slt64(smallest_pow_2_geq_than_res_178972, (int64_t) 0);
                bool valid_179028 = !bounds_invalid_upwards_179027;
                bool protect_assert_disj_181868 = cond_178966 || valid_179028;
                bool range_valid_c_179029;
                
                if (!protect_assert_disj_181868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178972, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179031 = slt64(block_sizze_178982, (int64_t) 0);
                bool valid_179032 = !bounds_invalid_upwards_179031;
                bool protect_assert_disj_181870 = cond_178966 || valid_179032;
                bool range_valid_c_179033;
                
                if (!protect_assert_disj_181870) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178982, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179035 = sle64(block_sizze_178982, (int64_t) 1);
                int64_t tmp_179036 = sub64(block_sizze_178982, (int64_t) 2);
                bool bounds_invalid_upwards_179037 = slt64(tmp_179036, (int64_t) 0);
                bool valid_179039 = !bounds_invalid_upwards_179037;
                bool protect_assert_disj_179040 = cond_179035 || valid_179039;
                bool protect_assert_disj_181872 = cond_178966 || protect_assert_disj_179040;
                bool range_valid_c_179041;
                
                if (!protect_assert_disj_181872) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179036, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179621 = card_178924 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool empty_or_match_cert_179622;
                
                if (!dim_match_179621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] cannot match shape of type `[", (long long) card_178924, "](i8, i64, i64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179623 = card_178924 == (int64_t) 0;
                int64_t m_179624 = sub64(card_178924, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179625 = sle64((int64_t) 0, m_179624);
                bool i_p_m_t_s_leq_w_179626 = slt64(m_179624, card_178924);
                bool y_179627 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179626;
                bool ok_or_empty_179628 = empty_slice_179623 || y_179627;
                bool index_certs_179629;
                
                if (!ok_or_empty_179628) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) card_178924, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179630 = slt64(m_179624, perThread_175244);
                bool y_179631 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179630;
                bool ok_or_empty_179632 = empty_slice_179623 || y_179631;
                bool index_certs_179633;
                
                if (!ok_or_empty_179632) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182143 = 0; nest_i_182143 < perThread_175244; nest_i_182143++) {
                    ((int8_t *) mem_181077)[i_180426 * perThread_175244 + nest_i_182143] = (int8_t) -1;
                }
                for (int64_t nest_i_182144 = 0; nest_i_182144 < perThread_175244; nest_i_182144++) {
                    ((int64_t *) mem_181080)[i_180426 * perThread_175244 + nest_i_182144] = (int64_t) -1;
                }
                for (int64_t nest_i_182145 = 0; nest_i_182145 < perThread_175244; nest_i_182145++) {
                    ((int64_t *) mem_181083)[i_180426 * perThread_175244 + nest_i_182145] = (int64_t) 0;
                }
                
                int64_t slice_178940 = p_175206 + index_concat_branch_178903;
                
                if (memblock_alloc(ctx, &mem_181111, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "mem_181111")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182146 = 0; nest_i_182146 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; nest_i_182146++) {
                    ((int8_t *) mem_181111.mem)[nest_i_182146] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181113, bytes_181112, "mem_181113")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182147 = 0; i_182147 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; i_182147++) {
                    int64_t x_182148 = index_concat_branch_178903 + i_182147 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[i_182147] = x_182148;
                }
                
                int64_t slice_178959 = p_175207 + index_concat_branch_178906;
                
                for (int64_t nest_i_182149 = 0; nest_i_182149 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; nest_i_182149++) {
                    ((int8_t *) mem_181111.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + nest_i_182149] = (int8_t) 1;
                }
                for (int64_t i_182150 = 0; i_182150 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; i_182150++) {
                    int64_t x_182151 = index_concat_branch_178906 + i_182150 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + i_182150] = x_182151;
                }
                
                int64_t tmp_offs_182152 = (int64_t) 0;
                
                if (!(tmp_offs_182152 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182152 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t tmp_offs_182153 = (int64_t) 0;
                
                if (!(tmp_offs_182153 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182153 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                if (memblock_alloc(ctx, &mem_181115, bytes_181112, "mem_181115")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182154 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, slice_178940, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, slice_178959, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t flat_dim_178983 = smallest_pow_2_geq_than_res_178972 * block_sizze_178982;
                bool x_181853 = !cond_178966;
                int64_t greatest_divisor_leq_than_arg1_178987 = mul64((int64_t) 2, block_sizze_178982);
                int64_t merge_block_sizze_178988;
                
                if (x_181853) {
                    int64_t x_181855;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181855, (int64_t) 8, greatest_divisor_leq_than_arg1_178987) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178988 = x_181855;
                } else {
                    merge_block_sizze_178988 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178991 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 0);
                int8_t index_concat_branch_178992 = btoi_bool_i8(index_concat_cmp_178991);
                int64_t index_concat_i_178994 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t index_primexp_178995 = add64(index_concat_branch_178906, index_concat_i_178994);
                int64_t index_concat_branch_178993;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178993 = index_primexp_178995;
                } else {
                    index_concat_branch_178993 = index_concat_branch_178903;
                }
                
                bool x_181849 = !index_concat_cmp_178991;
                bool protect_cond_conj_181859 = x_181849 && x_181853;
                int64_t index_concat_179001;
                
                if (protect_cond_conj_181859) {
                    int64_t x_181851 = ((int64_t *) a_list_mem_180696.mem)[slice_178940];
                    
                    index_concat_179001 = x_181851;
                } else {
                    index_concat_179001 = (int64_t) 0;
                }
                
                int64_t slice_178999 = p_175207 + index_primexp_178995;
                bool protect_cond_conj_181860 = index_concat_cmp_178991 && x_181853;
                int64_t index_concat_179000;
                
                if (protect_cond_conj_181860) {
                    int64_t x_181847 = ((int64_t *) b_list_mem_180697.mem)[slice_178999];
                    
                    index_concat_179000 = x_181847;
                } else {
                    index_concat_179000 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178996;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178996 = index_concat_179000;
                } else {
                    index_concat_branch_178996 = index_concat_179001;
                }
                
                int8_t defunc_0_reduce_res_179002;
                int64_t defunc_0_reduce_res_179003;
                int64_t defunc_0_reduce_res_179004;
                
                if (x_181853) {
                    int8_t x_181861;
                    int64_t x_181862;
                    int64_t x_181863;
                    int8_t redout_180363;
                    int64_t redout_180364;
                    int64_t redout_180365;
                    
                    redout_180363 = index_concat_branch_178992;
                    redout_180364 = index_concat_branch_178993;
                    redout_180365 = index_concat_branch_178996;
                    for (int64_t i_180366 = 0; i_180366 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921; i_180366++) {
                        bool index_concat_cmp_180624 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, i_180366);
                        int8_t index_concat_branch_180628 = btoi_bool_i8(index_concat_cmp_180624);
                        int64_t index_concat_branch_180622;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180619 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t index_primexp_180672 = add64(index_concat_branch_178906, index_concat_i_180619);
                            
                            index_concat_branch_180622 = index_primexp_180672;
                        } else {
                            int64_t index_primexp_180674 = add64(index_concat_branch_178903, i_180366);
                            
                            index_concat_branch_180622 = index_primexp_180674;
                        }
                        
                        int64_t index_concat_branch_180616;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180613 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t slice_180669 = slice_178959 + index_concat_i_180613;
                            int64_t index_concat_180614 = ((int64_t *) b_list_mem_180697.mem)[slice_180669];
                            
                            index_concat_branch_180616 = index_concat_180614;
                        } else {
                            int64_t slice_180670 = slice_178940 + i_180366;
                            int64_t index_concat_180615 = ((int64_t *) a_list_mem_180696.mem)[slice_180670];
                            
                            index_concat_branch_180616 = index_concat_180615;
                        }
                        
                        bool eq_x_y_180686 = redout_180363 == (int8_t) 1;
                        bool eq_x_zz_180687 = redout_180363 == (int8_t) 0;
                        bool p_and_eq_x_y_180688 = index_concat_cmp_180624 && eq_x_y_180686;
                        bool not_p_180689 = !index_concat_cmp_180624;
                        bool p_and_eq_x_y_180690 = eq_x_zz_180687 && not_p_180689;
                        bool cond_179014 = p_and_eq_x_y_180688 || p_and_eq_x_y_180690;
                        bool defunc_0_leq_res_t_res_179015 = sle64(redout_180364, index_concat_branch_180622);
                        bool defunc_0_leq_res_179016 = sle64(redout_180365, index_concat_branch_180616);
                        bool x_179017 = cond_179014 && defunc_0_leq_res_t_res_179015;
                        bool x_179018 = !cond_179014;
                        bool y_179019 = defunc_0_leq_res_179016 && x_179018;
                        bool defunc_0_leq_res_179020 = x_179017 || y_179019;
                        int8_t defunc_0_op_res_179021;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179021 = index_concat_branch_180628;
                        } else {
                            defunc_0_op_res_179021 = redout_180363;
                        }
                        
                        int64_t defunc_0_op_res_179022;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179022 = index_concat_branch_180622;
                        } else {
                            defunc_0_op_res_179022 = redout_180364;
                        }
                        
                        int64_t defunc_0_op_res_179023;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179023 = index_concat_branch_180616;
                        } else {
                            defunc_0_op_res_179023 = redout_180365;
                        }
                        
                        int8_t redout_tmp_182155 = defunc_0_op_res_179021;
                        int64_t redout_tmp_182156 = defunc_0_op_res_179022;
                        int64_t redout_tmp_182157 = defunc_0_op_res_179023;
                        
                        redout_180363 = redout_tmp_182155;
                        redout_180364 = redout_tmp_182156;
                        redout_180365 = redout_tmp_182157;
                    }
                    x_181861 = redout_180363;
                    x_181862 = redout_180364;
                    x_181863 = redout_180365;
                    defunc_0_reduce_res_179002 = x_181861;
                    defunc_0_reduce_res_179003 = x_181862;
                    defunc_0_reduce_res_179004 = x_181863;
                } else {
                    defunc_0_reduce_res_179002 = (int8_t) 0;
                    defunc_0_reduce_res_179003 = (int64_t) 0;
                    defunc_0_reduce_res_179004 = (int64_t) 0;
                }
                
                int64_t distance_179038 = add64((int64_t) 1, tmp_179036);
                int64_t binop_x_181118 = (int64_t) 8 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181119 = block_sizze_178982 * binop_x_181118;
                int64_t bytes_181137 = (int64_t) 8 * block_sizze_178982;
                bool loop_cond_179164 = slt64(block_sizze_178982, flat_dim_178983);
                bool zzero_179165 = merge_block_sizze_178988 == (int64_t) 0;
                bool nonzzero_179166 = !zzero_179165;
                
                if (cond_178966) {
                    if (memblock_set(ctx, &ext_mem_181410, &mem_181111, "mem_181111") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &mem_181113, "mem_181113") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &mem_181115, "mem_181115") != 0)
                        return 1;
                } else {
                    if (mem_181117_cached_sizze_182622 < flat_dim_178983) {
                        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_182622, flat_dim_178983);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181120_cached_sizze_182623 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182623, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181123_cached_sizze_182624 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182624, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181136_cached_sizze_182625 < block_sizze_178982) {
                        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_182625, block_sizze_178982);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181138_cached_sizze_182626 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_182626, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181140_cached_sizze_182627 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182627, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180383 = 0; i_180383 < smallest_pow_2_geq_than_res_178972; i_180383++) {
                        int64_t zp_lhs_179046 = mul64(block_sizze_178982, i_180383);
                        
                        for (int64_t i_180373 = 0; i_180373 < block_sizze_178982; i_180373++) {
                            int64_t k_179051 = add64(zp_lhs_179046, i_180373);
                            bool cond_179052 = slt64(k_179051, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                            int8_t lifted_lambda_res_179053;
                            int64_t lifted_lambda_res_179054;
                            int64_t lifted_lambda_res_179055;
                            
                            if (cond_179052) {
                                bool x_179056 = sle64((int64_t) 0, k_179051);
                                bool bounds_check_179057 = cond_179052 && x_179056;
                                bool index_certs_179058;
                                
                                if (!bounds_check_179057) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179051, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179059 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, k_179051);
                                int8_t index_concat_branch_179060 = btoi_bool_i8(index_concat_cmp_179059);
                                int64_t index_concat_branch_179061;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179062 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t index_primexp_179063 = add64(index_concat_branch_178906, index_concat_i_179062);
                                    
                                    index_concat_branch_179061 = index_primexp_179063;
                                } else {
                                    int64_t index_primexp_179064 = add64(index_concat_branch_178903, k_179051);
                                    
                                    index_concat_branch_179061 = index_primexp_179064;
                                }
                                
                                int64_t index_concat_branch_179065;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179066 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t slice_179067 = index_concat_branch_178906 + index_concat_i_179066;
                                    int64_t slice_179068 = p_175207 + slice_179067;
                                    int64_t index_concat_179069 = ((int64_t *) b_list_mem_180697.mem)[slice_179068];
                                    
                                    index_concat_branch_179065 = index_concat_179069;
                                } else {
                                    int64_t slice_179070 = index_concat_branch_178903 + k_179051;
                                    int64_t slice_179071 = p_175206 + slice_179070;
                                    int64_t index_concat_179072 = ((int64_t *) a_list_mem_180696.mem)[slice_179071];
                                    
                                    index_concat_branch_179065 = index_concat_179072;
                                }
                                lifted_lambda_res_179053 = index_concat_branch_179060;
                                lifted_lambda_res_179054 = index_concat_branch_179061;
                                lifted_lambda_res_179055 = index_concat_branch_179065;
                            } else {
                                lifted_lambda_res_179053 = defunc_0_reduce_res_179002;
                                lifted_lambda_res_179054 = defunc_0_reduce_res_179003;
                                lifted_lambda_res_179055 = defunc_0_reduce_res_179004;
                            }
                            ((int8_t *) mem_181136)[i_180373] = lifted_lambda_res_179053;
                            ((int64_t *) mem_181138)[i_180373] = lifted_lambda_res_179054;
                            ((int64_t *) mem_181140)[i_180373] = lifted_lambda_res_179055;
                        }
                        if (!cond_179035) {
                            for (int64_t i_179082 = 0; i_179082 < distance_179038; i_179082++) {
                                int64_t gt_arg1_179086 = add64((int64_t) 1, i_179082);
                                bool x_179087 = sle64((int64_t) 0, gt_arg1_179086);
                                bool y_179088 = slt64(gt_arg1_179086, block_sizze_178982);
                                bool bounds_check_179089 = x_179087 && y_179088;
                                bool index_certs_179090;
                                
                                if (!bounds_check_179089) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179086, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179094 = slt64(i_179082, block_sizze_178982);
                                bool index_certs_179095;
                                
                                if (!y_179094) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179082, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179091 = ((int8_t *) mem_181136)[gt_arg1_179086];
                                int64_t gt_arg1_179092 = ((int64_t *) mem_181138)[gt_arg1_179086];
                                int64_t gt_arg1_179093 = ((int64_t *) mem_181140)[gt_arg1_179086];
                                int8_t gt_arg0_179096 = ((int8_t *) mem_181136)[i_179082];
                                int64_t gt_arg0_179097 = ((int64_t *) mem_181138)[i_179082];
                                int64_t gt_arg0_179098 = ((int64_t *) mem_181140)[i_179082];
                                bool cond_179099 = gt_arg0_179096 == gt_arg1_179091;
                                bool defunc_0_leq_res_t_res_179100 = sle64(gt_arg0_179097, gt_arg1_179092);
                                bool defunc_0_leq_res_179101 = sle64(gt_arg0_179098, gt_arg1_179093);
                                bool x_179102 = cond_179099 && defunc_0_leq_res_t_res_179100;
                                bool x_179103 = !cond_179099;
                                bool y_179104 = defunc_0_leq_res_179101 && x_179103;
                                bool defunc_0_leq_res_179105 = x_179102 || y_179104;
                                bool defunc_0_lifted_gt_res_179106 = !defunc_0_leq_res_179105;
                                bool s_179107;
                                int64_t s_179111;
                                bool loop_while_179112;
                                int64_t j_179116;
                                
                                loop_while_179112 = defunc_0_lifted_gt_res_179106;
                                j_179116 = i_179082;
                                while (loop_while_179112) {
                                    bool x_179117 = sle64((int64_t) 0, j_179116);
                                    bool y_179118 = slt64(j_179116, block_sizze_178982);
                                    bool bounds_check_179119 = x_179117 && y_179118;
                                    bool index_certs_179120;
                                    
                                    if (!bounds_check_179119) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179116, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179124 = add64((int64_t) 1, j_179116);
                                    bool x_179125 = sle64((int64_t) 0, copy_arg0_179124);
                                    bool y_179126 = slt64(copy_arg0_179124, block_sizze_178982);
                                    bool bounds_check_179127 = x_179125 && y_179126;
                                    bool index_certs_179128;
                                    
                                    if (!bounds_check_179127) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179124, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179121 = ((int8_t *) mem_181136)[j_179116];
                                    int64_t copy_arg0_179122 = ((int64_t *) mem_181138)[j_179116];
                                    int64_t copy_arg0_179123 = ((int64_t *) mem_181140)[j_179116];
                                    int8_t copy_arg0_179129 = ((int8_t *) mem_181136)[copy_arg0_179124];
                                    int64_t copy_arg0_179130 = ((int64_t *) mem_181138)[copy_arg0_179124];
                                    int64_t copy_arg0_179131 = ((int64_t *) mem_181140)[copy_arg0_179124];
                                    
                                    ((int8_t *) mem_181136)[j_179116] = copy_arg0_179129;
                                    ((int64_t *) mem_181138)[j_179116] = copy_arg0_179130;
                                    ((int64_t *) mem_181140)[j_179116] = copy_arg0_179131;
                                    ((int8_t *) mem_181136)[copy_arg0_179124] = copy_arg0_179121;
                                    ((int64_t *) mem_181138)[copy_arg0_179124] = copy_arg0_179122;
                                    ((int64_t *) mem_181140)[copy_arg0_179124] = copy_arg0_179123;
                                    
                                    int64_t tmp_179138 = sub64(j_179116, (int64_t) 1);
                                    bool cond_179139 = sle64((int64_t) 0, tmp_179138);
                                    bool loop_cond_179140;
                                    
                                    if (cond_179139) {
                                        bool y_179144 = slt64(tmp_179138, block_sizze_178982);
                                        bool bounds_check_179145 = cond_179139 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179138, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179141 = ((int8_t *) mem_181136)[j_179116];
                                        int64_t gt_arg1_179142 = ((int64_t *) mem_181138)[j_179116];
                                        int64_t gt_arg1_179143 = ((int64_t *) mem_181140)[j_179116];
                                        int8_t gt_arg0_179147 = ((int8_t *) mem_181136)[tmp_179138];
                                        int64_t gt_arg0_179148 = ((int64_t *) mem_181138)[tmp_179138];
                                        int64_t gt_arg0_179149 = ((int64_t *) mem_181140)[tmp_179138];
                                        bool cond_179150 = gt_arg0_179147 == gt_arg1_179141;
                                        bool defunc_0_leq_res_t_res_179151 = sle64(gt_arg0_179148, gt_arg1_179142);
                                        bool defunc_0_leq_res_179152 = sle64(gt_arg0_179149, gt_arg1_179143);
                                        bool x_179153 = cond_179150 && defunc_0_leq_res_t_res_179151;
                                        bool x_179154 = !cond_179150;
                                        bool y_179155 = defunc_0_leq_res_179152 && x_179154;
                                        bool defunc_0_leq_res_179156 = x_179153 || y_179155;
                                        bool defunc_0_lifted_gt_res_179157 = !defunc_0_leq_res_179156;
                                        
                                        loop_cond_179140 = defunc_0_lifted_gt_res_179157;
                                    } else {
                                        loop_cond_179140 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182167 = loop_cond_179140;
                                    int64_t j_tmp_182171 = tmp_179138;
                                    
                                    loop_while_179112 = loop_while_tmp_182167;
                                    j_179116 = j_tmp_182171;
                                }
                                s_179107 = loop_while_179112;
                                s_179111 = j_179116;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181117, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181140, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                    }
                    if (memblock_alloc(ctx, &mem_181217, flat_dim_178983, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181217.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint8_t *) mem_181117, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181221, bytes_181119, "mem_181221")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181221.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181225, bytes_181119, "mem_181225")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181225.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    
                    int64_t data_179167;
                    bool data_179168;
                    int64_t data_179172;
                    int64_t loop_dz2084Uz2082U_179173;
                    bool loop_while_179174;
                    int64_t stride_179178;
                    
                    if (memblock_set(ctx, &mem_param_181229, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181232, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181235, &mem_181225, "mem_181225") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179173 = flat_dim_178983;
                    loop_while_179174 = loop_cond_179164;
                    stride_179178 = block_sizze_178982;
                    while (loop_while_179174) {
                        int64_t next_stride_179179 = mul64((int64_t) 2, stride_179178);
                        bool zzero_179180 = next_stride_179179 == (int64_t) 0;
                        bool nonzzero_179181 = !zzero_179180;
                        bool nonzzero_cert_179182;
                        
                        if (!nonzzero_179181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179183 = sdiv64(flat_dim_178983, next_stride_179179);
                        bool bounds_invalid_upwards_179184 = slt64(num_merges_179183, (int64_t) 0);
                        bool valid_179185 = !bounds_invalid_upwards_179184;
                        bool range_valid_c_179186;
                        
                        if (!valid_179185) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179183, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179188 = sub64(next_stride_179179, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179189 = sle64((int64_t) 0, m_179188);
                        bool cond_179191 = slt64(next_stride_179179, (int64_t) 10);
                        bool protect_assert_disj_179192 = nonzzero_179166 || cond_179191;
                        bool nonzzero_cert_179193;
                        
                        if (!protect_assert_disj_179192) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179194 = smod_safe64(next_stride_179179, merge_block_sizze_178988);
                        bool num_blocks_179195 = zeze_lhs_179194 == (int64_t) 0;
                        bool protect_assert_disj_179196 = cond_179191 || num_blocks_179195;
                        bool assert_c_179197;
                        
                        if (!protect_assert_disj_179196) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179198 = sdiv_safe64(next_stride_179179, merge_block_sizze_178988);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199 = add64((int64_t) 1, num_blocks_179198);
                        int64_t j_m_i_179200 = sub64(next_stride_179179, stride_179178);
                        int64_t flat_dim_179201 = merge_block_sizze_178988 * num_blocks_179198;
                        bool bounds_invalid_upwards_179202 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, (int64_t) 0);
                        bool empty_slice_179203 = j_m_i_179200 == (int64_t) 0;
                        int64_t m_179204 = sub64(j_m_i_179200, (int64_t) 1);
                        bool zzero_lte_i_179205 = sle64((int64_t) 0, stride_179178);
                        bool i_lte_j_179206 = sle64(stride_179178, next_stride_179179);
                        bool empty_slice_179207 = stride_179178 == (int64_t) 0;
                        int64_t m_179208 = sub64(stride_179178, (int64_t) 1);
                        bool bounds_invalid_upwards_179209 = slt64(num_blocks_179198, (int64_t) 0);
                        bool cond_179210 = slt64((int64_t) 0, stride_179178);
                        bool valid_179211 = !bounds_invalid_upwards_179202;
                        int64_t i_p_m_t_s_179212 = add64(stride_179178, m_179204);
                        bool zzero_leq_i_p_m_t_s_179213 = sle64((int64_t) 0, m_179208);
                        bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, next_stride_179179);
                        bool valid_179215 = !bounds_invalid_upwards_179209;
                        bool i_p_m_t_s_leq_w_179216 = slt64(m_179188, flat_dim_179201);
                        bool y_179217 = slt64((int64_t) 0, j_m_i_179200);
                        bool protect_assert_disj_179218 = cond_179191 || valid_179211;
                        bool range_valid_c_179219;
                        
                        if (!protect_assert_disj_179218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179220 = sle64((int64_t) 0, i_p_m_t_s_179212);
                        bool i_p_m_t_s_leq_w_179221 = slt64(i_p_m_t_s_179212, next_stride_179179);
                        bool y_179222 = zzero_leq_i_p_m_t_s_179213 && i_p_m_t_s_leq_w_179214;
                        bool protect_assert_disj_179223 = cond_179191 || valid_179215;
                        bool range_valid_c_179224;
                        
                        if (!protect_assert_disj_179223) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179198, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179225 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179216;
                        bool y_179226 = zzero_lte_i_179205 && i_p_m_t_s_leq_w_179221;
                        bool forwards_ok_179227 = zzero_lte_i_179205 && y_179222;
                        bool ok_or_empty_179228 = zzero_179180 || y_179225;
                        bool protect_assert_disj_179229 = cond_179210 || y_179217;
                        bool y_179230 = zzero_leq_i_p_m_t_s_179220 && y_179226;
                        bool ok_or_empty_179231 = empty_slice_179207 || forwards_ok_179227;
                        bool protect_assert_disj_179232 = cond_179191 || ok_or_empty_179228;
                        bool index_certs_179233;
                        
                        if (!protect_assert_disj_179232) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) flat_dim_179201, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179234 = !cond_179191;
                        bool protect_assert_disj_179235 = protect_assert_disj_179229 || loop_not_taken_179234;
                        bool index_certs_179236;
                        
                        if (!protect_assert_disj_179235) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179237 = i_lte_j_179206 && y_179230;
                        bool protect_assert_disj_179238 = cond_179191 || ok_or_empty_179231;
                        bool index_certs_179239;
                        
                        if (!protect_assert_disj_179238) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179240 = ok_or_empty_179231 || loop_not_taken_179234;
                        bool index_certs_179241;
                        
                        if (!protect_assert_disj_179240) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179242 = empty_slice_179203 || forwards_ok_179237;
                        bool protect_assert_disj_179243 = cond_179191 || ok_or_empty_179242;
                        bool index_certs_179244;
                        
                        if (!protect_assert_disj_179243) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179245 = loop_not_taken_179234 || ok_or_empty_179242;
                        bool index_certs_179246;
                        
                        if (!protect_assert_disj_179245) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181236 = next_stride_179179 * num_merges_179183;
                        int64_t binop_x_181238 = (int64_t) 8 * num_merges_179183;
                        int64_t bytes_181239 = next_stride_179179 * binop_x_181238;
                        bool i_lte_j_179190 = sle64((int64_t) 0, next_stride_179179);
                        
                        if (mem_181237_cached_sizze_182628 < bytes_181236) {
                            err = lexical_realloc(ctx, &mem_181237, &mem_181237_cached_sizze_182628, bytes_181236);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181240_cached_sizze_182629 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181240, &mem_181240_cached_sizze_182629, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181243_cached_sizze_182630 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_182630, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181256 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199;
                        int64_t binop_x_181274 = (int64_t) 8 * num_blocks_179198;
                        int64_t bytes_181275 = merge_block_sizze_178988 * binop_x_181274;
                        int64_t bytes_181339 = (int64_t) 16 * stride_179178;
                        
                        for (int64_t i_180410 = 0; i_180410 < num_merges_179183; i_180410++) {
                            int64_t start_179251 = mul64(next_stride_179179, i_180410);
                            int64_t j_m_i_179252 = sub64(loop_dz2084Uz2082U_179173, start_179251);
                            bool empty_slice_179253 = j_m_i_179252 == (int64_t) 0;
                            int64_t m_179254 = sub64(j_m_i_179252, (int64_t) 1);
                            int64_t i_p_m_t_s_179255 = add64(start_179251, m_179254);
                            bool zzero_leq_i_p_m_t_s_179256 = sle64((int64_t) 0, i_p_m_t_s_179255);
                            bool i_p_m_t_s_leq_w_179257 = slt64(i_p_m_t_s_179255, loop_dz2084Uz2082U_179173);
                            bool zzero_lte_i_179258 = sle64((int64_t) 0, start_179251);
                            bool i_lte_j_179259 = sle64(start_179251, loop_dz2084Uz2082U_179173);
                            bool y_179260 = i_p_m_t_s_leq_w_179257 && zzero_lte_i_179258;
                            bool y_179261 = zzero_leq_i_p_m_t_s_179256 && y_179260;
                            bool forwards_ok_179262 = i_lte_j_179259 && y_179261;
                            bool ok_or_empty_179263 = empty_slice_179253 || forwards_ok_179262;
                            bool index_certs_179264;
                            
                            if (!ok_or_empty_179263) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179251, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179173, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179265 = slt64(m_179188, j_m_i_179252);
                            bool y_179266 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179265;
                            bool forwards_ok_179267 = i_lte_j_179190 && y_179266;
                            bool ok_or_empty_179268 = zzero_179180 || forwards_ok_179267;
                            bool index_certs_179269;
                            
                            if (!ok_or_empty_179268) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) j_m_i_179252, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179191) {
                                int8_t dummy_179273;
                                int64_t dummy_179274;
                                int64_t dummy_179275;
                                
                                if (cond_179210) {
                                    int8_t head_res_179276 = ((int8_t *) mem_param_181229.mem)[start_179251];
                                    int64_t head_res_179277 = ((int64_t *) mem_param_181232.mem)[start_179251];
                                    int64_t head_res_179278 = ((int64_t *) mem_param_181235.mem)[start_179251];
                                    
                                    dummy_179273 = head_res_179276;
                                    dummy_179274 = head_res_179277;
                                    dummy_179275 = head_res_179278;
                                } else {
                                    int64_t slice_179279 = stride_179178 + start_179251;
                                    int8_t head_res_179280 = ((int8_t *) mem_param_181229.mem)[slice_179279];
                                    int64_t head_res_179281 = ((int64_t *) mem_param_181232.mem)[slice_179279];
                                    int64_t head_res_179282 = ((int64_t *) mem_param_181235.mem)[slice_179279];
                                    
                                    dummy_179273 = head_res_179280;
                                    dummy_179274 = head_res_179281;
                                    dummy_179275 = head_res_179282;
                                }
                                if (memblock_alloc(ctx, &mem_181338, next_stride_179179, "mem_181338")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182184 = 0; nest_i_182184 < next_stride_179179; nest_i_182184++) {
                                    ((int8_t *) mem_181338.mem)[nest_i_182184] = dummy_179273;
                                }
                                if (memblock_alloc(ctx, &mem_181340, bytes_181339, "mem_181340")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182185 = 0; nest_i_182185 < next_stride_179179; nest_i_182185++) {
                                    ((int64_t *) mem_181340.mem)[nest_i_182185] = dummy_179274;
                                }
                                if (memblock_alloc(ctx, &mem_181342, bytes_181339, "mem_181342")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182186 = 0; nest_i_182186 < next_stride_179179; nest_i_182186++) {
                                    ((int64_t *) mem_181342.mem)[nest_i_182186] = dummy_179275;
                                }
                                
                                int64_t data_179286;
                                int64_t i_179291 = (int64_t) 0;
                                
                                for (int64_t k_179290 = 0; k_179290 < next_stride_179179; k_179290++) {
                                    int64_t j_179295 = sub64(k_179290, i_179291);
                                    bool cond_179296 = j_179295 == j_m_i_179200;
                                    bool cond_179297;
                                    
                                    if (cond_179296) {
                                        cond_179297 = 1;
                                    } else {
                                        bool cond_179298 = slt64(i_179291, stride_179178);
                                        bool cond_f_res_179299;
                                        
                                        if (cond_179298) {
                                            bool x_179300 = sle64((int64_t) 0, j_179295);
                                            bool y_179301 = slt64(j_179295, j_m_i_179200);
                                            bool bounds_check_179302 = x_179300 && y_179301;
                                            bool index_certs_179303;
                                            
                                            if (!bounds_check_179302) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179309 = sle64((int64_t) 0, i_179291);
                                            bool bounds_check_179310 = cond_179298 && x_179309;
                                            bool index_certs_179311;
                                            
                                            if (!bounds_check_179310) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179304 = stride_179178 + j_179295;
                                            int64_t slice_179305 = start_179251 + slice_179304;
                                            int8_t leq_arg1_179306 = ((int8_t *) mem_param_181229.mem)[slice_179305];
                                            int64_t leq_arg1_179307 = ((int64_t *) mem_param_181232.mem)[slice_179305];
                                            int64_t leq_arg1_179308 = ((int64_t *) mem_param_181235.mem)[slice_179305];
                                            int64_t slice_179312 = start_179251 + i_179291;
                                            int8_t leq_arg0_179313 = ((int8_t *) mem_param_181229.mem)[slice_179312];
                                            int64_t leq_arg0_179314 = ((int64_t *) mem_param_181232.mem)[slice_179312];
                                            int64_t leq_arg0_179315 = ((int64_t *) mem_param_181235.mem)[slice_179312];
                                            bool cond_179316 = leq_arg0_179313 == leq_arg1_179306;
                                            bool defunc_0_leq_res_t_res_179317 = sle64(leq_arg0_179314, leq_arg1_179307);
                                            bool defunc_0_leq_res_179318 = sle64(leq_arg0_179315, leq_arg1_179308);
                                            bool x_179319 = cond_179316 && defunc_0_leq_res_t_res_179317;
                                            bool x_179320 = !cond_179316;
                                            bool y_179321 = defunc_0_leq_res_179318 && x_179320;
                                            bool defunc_0_leq_res_179322 = x_179319 || y_179321;
                                            
                                            cond_f_res_179299 = defunc_0_leq_res_179322;
                                        } else {
                                            cond_f_res_179299 = 0;
                                        }
                                        cond_179297 = cond_f_res_179299;
                                    }
                                    
                                    int64_t loopres_179323;
                                    int8_t loopres_179324;
                                    int64_t loopres_179325;
                                    int64_t loopres_179326;
                                    
                                    if (cond_179297) {
                                        bool x_179328 = sle64((int64_t) 0, i_179291);
                                        bool y_179329 = slt64(i_179291, stride_179178);
                                        bool bounds_check_179330 = x_179328 && y_179329;
                                        bool index_certs_179331;
                                        
                                        if (!bounds_check_179330) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179327 = add64((int64_t) 1, i_179291);
                                        int64_t slice_179332 = start_179251 + i_179291;
                                        int8_t tmp_179333 = ((int8_t *) mem_param_181229.mem)[slice_179332];
                                        int64_t tmp_179334 = ((int64_t *) mem_param_181232.mem)[slice_179332];
                                        int64_t tmp_179335 = ((int64_t *) mem_param_181235.mem)[slice_179332];
                                        
                                        loopres_179323 = tmp_179327;
                                        loopres_179324 = tmp_179333;
                                        loopres_179325 = tmp_179334;
                                        loopres_179326 = tmp_179335;
                                    } else {
                                        bool x_179336 = sle64((int64_t) 0, j_179295);
                                        bool y_179337 = slt64(j_179295, j_m_i_179200);
                                        bool bounds_check_179338 = x_179336 && y_179337;
                                        bool index_certs_179339;
                                        
                                        if (!bounds_check_179338) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179340 = stride_179178 + j_179295;
                                        int64_t slice_179341 = start_179251 + slice_179340;
                                        int8_t tmp_179342 = ((int8_t *) mem_param_181229.mem)[slice_179341];
                                        int64_t tmp_179343 = ((int64_t *) mem_param_181232.mem)[slice_179341];
                                        int64_t tmp_179344 = ((int64_t *) mem_param_181235.mem)[slice_179341];
                                        
                                        loopres_179323 = i_179291;
                                        loopres_179324 = tmp_179342;
                                        loopres_179325 = tmp_179343;
                                        loopres_179326 = tmp_179344;
                                    }
                                    ((int8_t *) mem_181338.mem)[k_179290] = loopres_179324;
                                    ((int64_t *) mem_181340.mem)[k_179290] = loopres_179325;
                                    ((int64_t *) mem_181342.mem)[k_179290] = loopres_179326;
                                    
                                    int64_t i_tmp_182187 = loopres_179323;
                                    
                                    i_179291 = i_tmp_182187;
                                }
                                data_179286 = i_179291;
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181338, "mem_181338") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181340, "mem_181340") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181342, "mem_181342") != 0)
                                    return 1;
                            } else {
                                if (mem_181257_cached_sizze_182631 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181257, &mem_181257_cached_sizze_182631, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181259_cached_sizze_182632 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181259, &mem_181259_cached_sizze_182632, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180391 = 0; i_180391 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199; i_180391++) {
                                    int64_t split_count_arg3_179352 = mul64(merge_block_sizze_178988, i_180391);
                                    int64_t defunc_0_split_count_res_179353;
                                    int64_t defunc_0_split_count_res_179354;
                                    int64_t defunc_0_split_count_res_179355;
                                    int64_t defunc_0_split_count_res_179356;
                                    int64_t defunc_0_split_count_res_179357;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_179353, &defunc_0_split_count_res_179354, &defunc_0_split_count_res_179355, &defunc_0_split_count_res_179356, &defunc_0_split_count_res_179357, (int64_t) 0, stride_179178, (int64_t) 0, j_m_i_179200, split_count_arg3_179352) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179358 = slt64((int64_t) 0, defunc_0_split_count_res_179357);
                                    bool defunc_0_split_count_res_179359;
                                    int64_t defunc_0_split_count_res_179360;
                                    int64_t defunc_0_split_count_res_179361;
                                    int64_t defunc_0_split_count_res_179362;
                                    int64_t defunc_0_split_count_res_179363;
                                    int64_t defunc_0_split_count_res_179364;
                                    bool loop_while_179365;
                                    int64_t ss_179366;
                                    int64_t ss_179367;
                                    int64_t tt_179368;
                                    int64_t tt_179369;
                                    int64_t count_179370;
                                    
                                    loop_while_179365 = loop_cond_179358;
                                    ss_179366 = defunc_0_split_count_res_179353;
                                    ss_179367 = defunc_0_split_count_res_179354;
                                    tt_179368 = defunc_0_split_count_res_179355;
                                    tt_179369 = defunc_0_split_count_res_179356;
                                    count_179370 = defunc_0_split_count_res_179357;
                                    while (loop_while_179365) {
                                        int64_t zlze_lhs_179371 = sub64(ss_179367, ss_179366);
                                        bool cond_179372 = sle64(zlze_lhs_179371, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179373;
                                        int64_t defunc_0_lifted_step_res_179374;
                                        int64_t defunc_0_lifted_step_res_179375;
                                        int64_t defunc_0_lifted_step_res_179376;
                                        
                                        if (cond_179372) {
                                            int64_t tmp_179377 = add64(tt_179368, count_179370);
                                            
                                            defunc_0_lifted_step_res_179373 = ss_179366;
                                            defunc_0_lifted_step_res_179374 = tmp_179377;
                                            defunc_0_lifted_step_res_179375 = tt_179369;
                                            defunc_0_lifted_step_res_179376 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179378 = sub64(tt_179369, tt_179368);
                                            bool cond_179379 = sle64(zlze_lhs_179378, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179380;
                                            int64_t defunc_0_lifted_step_res_f_res_179381;
                                            int64_t defunc_0_lifted_step_res_f_res_179382;
                                            int64_t defunc_0_lifted_step_res_f_res_179383;
                                            
                                            if (cond_179379) {
                                                int64_t tmp_179384 = add64(ss_179366, count_179370);
                                                
                                                defunc_0_lifted_step_res_f_res_179380 = tmp_179384;
                                                defunc_0_lifted_step_res_f_res_179381 = tt_179368;
                                                defunc_0_lifted_step_res_f_res_179382 = tt_179369;
                                                defunc_0_lifted_step_res_f_res_179383 = (int64_t) 0;
                                            } else {
                                                bool cond_179385 = count_179370 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179386;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179387;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179388;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179389;
                                                
                                                if (cond_179385) {
                                                    bool x_179390 = sle64((int64_t) 0, ss_179366);
                                                    bool y_179391 = slt64(ss_179366, stride_179178);
                                                    bool bounds_check_179392 = x_179390 && y_179391;
                                                    bool index_certs_179393;
                                                    
                                                    if (!bounds_check_179392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179366, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179398 = sle64((int64_t) 0, tt_179368);
                                                    bool y_179399 = slt64(tt_179368, j_m_i_179200);
                                                    bool bounds_check_179400 = x_179398 && y_179399;
                                                    bool index_certs_179401;
                                                    
                                                    if (!bounds_check_179400) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179368, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179394 = start_179251 + ss_179366;
                                                    int8_t leq_arg1_179395 = ((int8_t *) mem_param_181229.mem)[slice_179394];
                                                    int64_t leq_arg1_179396 = ((int64_t *) mem_param_181232.mem)[slice_179394];
                                                    int64_t leq_arg1_179397 = ((int64_t *) mem_param_181235.mem)[slice_179394];
                                                    int64_t slice_179402 = stride_179178 + tt_179368;
                                                    int64_t slice_179403 = start_179251 + slice_179402;
                                                    int8_t leq_arg0_179404 = ((int8_t *) mem_param_181229.mem)[slice_179403];
                                                    int64_t leq_arg0_179405 = ((int64_t *) mem_param_181232.mem)[slice_179403];
                                                    int64_t leq_arg0_179406 = ((int64_t *) mem_param_181235.mem)[slice_179403];
                                                    bool cond_179407 = leq_arg0_179404 == leq_arg1_179395;
                                                    bool defunc_0_leq_res_t_res_179408 = sle64(leq_arg0_179405, leq_arg1_179396);
                                                    bool defunc_0_leq_res_179409 = sle64(leq_arg0_179406, leq_arg1_179397);
                                                    bool x_179410 = cond_179407 && defunc_0_leq_res_t_res_179408;
                                                    bool x_179411 = !cond_179407;
                                                    bool y_179412 = defunc_0_leq_res_179409 && x_179411;
                                                    bool defunc_0_leq_res_179413 = x_179410 || y_179412;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    
                                                    if (defunc_0_leq_res_179413) {
                                                        int64_t tmp_179416 = add64((int64_t) 1, tt_179368);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = ss_179366;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tmp_179416;
                                                    } else {
                                                        int64_t tmp_179417 = add64((int64_t) 1, ss_179366);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = tmp_179417;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tt_179368;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = tt_179369;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179418 = sdiv64(count_179370, (int64_t) 2);
                                                    int64_t n_179419 = sub64(count_179370, m_179418);
                                                    bool cond_179420 = n_179419 == (int64_t) 0;
                                                    int64_t zgze_lhs_179421 = add64(ss_179366, m_179418);
                                                    bool cond_f_res_179422 = sle64(ss_179367, zgze_lhs_179421);
                                                    bool x_179423 = !cond_179420;
                                                    bool y_179424 = cond_f_res_179422 && x_179423;
                                                    bool cond_179425 = cond_179420 || y_179424;
                                                    bool leq_y_x_179426;
                                                    
                                                    if (cond_179425) {
                                                        leq_y_x_179426 = 1;
                                                    } else {
                                                        bool x_179427 = sle64((int64_t) 0, zgze_lhs_179421);
                                                        bool y_179428 = slt64(zgze_lhs_179421, stride_179178);
                                                        bool bounds_check_179429 = x_179427 && y_179428;
                                                        bool index_certs_179430;
                                                        
                                                        if (!bounds_check_179429) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179421, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179435 = add64(tt_179368, n_179419);
                                                        int64_t leq_arg0_179436 = sub64(zm_lhs_179435, (int64_t) 1);
                                                        bool x_179437 = sle64((int64_t) 0, leq_arg0_179436);
                                                        bool y_179438 = slt64(leq_arg0_179436, j_m_i_179200);
                                                        bool bounds_check_179439 = x_179437 && y_179438;
                                                        bool index_certs_179440;
                                                        
                                                        if (!bounds_check_179439) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179436, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179431 = start_179251 + zgze_lhs_179421;
                                                        int8_t leq_arg1_179432 = ((int8_t *) mem_param_181229.mem)[slice_179431];
                                                        int64_t leq_arg1_179433 = ((int64_t *) mem_param_181232.mem)[slice_179431];
                                                        int64_t leq_arg1_179434 = ((int64_t *) mem_param_181235.mem)[slice_179431];
                                                        int64_t slice_179441 = stride_179178 + leq_arg0_179436;
                                                        int64_t slice_179442 = start_179251 + slice_179441;
                                                        int8_t leq_arg0_179443 = ((int8_t *) mem_param_181229.mem)[slice_179442];
                                                        int64_t leq_arg0_179444 = ((int64_t *) mem_param_181232.mem)[slice_179442];
                                                        int64_t leq_arg0_179445 = ((int64_t *) mem_param_181235.mem)[slice_179442];
                                                        bool cond_179446 = leq_arg0_179443 == leq_arg1_179432;
                                                        bool defunc_0_leq_res_t_res_179447 = sle64(leq_arg0_179444, leq_arg1_179433);
                                                        bool defunc_0_leq_res_179448 = sle64(leq_arg0_179445, leq_arg1_179434);
                                                        bool x_179449 = cond_179446 && defunc_0_leq_res_t_res_179447;
                                                        bool x_179450 = !cond_179446;
                                                        bool y_179451 = defunc_0_leq_res_179448 && x_179450;
                                                        bool defunc_0_leq_res_179452 = x_179449 || y_179451;
                                                        
                                                        leq_y_x_179426 = defunc_0_leq_res_179452;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                    
                                                    if (leq_y_x_179426) {
                                                        int64_t tmp_179456 = add64(tt_179368, n_179419);
                                                        int64_t tmp_179457 = sub64(count_179370, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tmp_179456;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tt_179369;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = tmp_179457;
                                                    } else {
                                                        int64_t tmp_179458 = add64(tt_179368, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tt_179368;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tmp_179458;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = count_179370;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = ss_179366;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                }
                                                defunc_0_lifted_step_res_f_res_179380 = defunc_0_lifted_step_res_f_res_f_res_179386;
                                                defunc_0_lifted_step_res_f_res_179381 = defunc_0_lifted_step_res_f_res_f_res_179387;
                                                defunc_0_lifted_step_res_f_res_179382 = defunc_0_lifted_step_res_f_res_f_res_179388;
                                                defunc_0_lifted_step_res_f_res_179383 = defunc_0_lifted_step_res_f_res_f_res_179389;
                                            }
                                            defunc_0_lifted_step_res_179373 = defunc_0_lifted_step_res_f_res_179380;
                                            defunc_0_lifted_step_res_179374 = defunc_0_lifted_step_res_f_res_179381;
                                            defunc_0_lifted_step_res_179375 = defunc_0_lifted_step_res_f_res_179382;
                                            defunc_0_lifted_step_res_179376 = defunc_0_lifted_step_res_f_res_179383;
                                        }
                                        
                                        int64_t loopres_179459;
                                        int64_t loopres_179460;
                                        int64_t loopres_179461;
                                        int64_t loopres_179462;
                                        int64_t loopres_179463;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_179459, &loopres_179460, &loopres_179461, &loopres_179462, &loopres_179463, defunc_0_lifted_step_res_179373, ss_179367, defunc_0_lifted_step_res_179374, defunc_0_lifted_step_res_179375, defunc_0_lifted_step_res_179376) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179464 = slt64((int64_t) 0, loopres_179463);
                                        bool loop_while_tmp_182193 = loop_cond_179464;
                                        int64_t ss_tmp_182194 = loopres_179459;
                                        int64_t ss_tmp_182195 = loopres_179460;
                                        int64_t tt_tmp_182196 = loopres_179461;
                                        int64_t tt_tmp_182197 = loopres_179462;
                                        int64_t count_tmp_182198 = loopres_179463;
                                        
                                        loop_while_179365 = loop_while_tmp_182193;
                                        ss_179366 = ss_tmp_182194;
                                        ss_179367 = ss_tmp_182195;
                                        tt_179368 = tt_tmp_182196;
                                        tt_179369 = tt_tmp_182197;
                                        count_179370 = count_tmp_182198;
                                    }
                                    defunc_0_split_count_res_179359 = loop_while_179365;
                                    defunc_0_split_count_res_179360 = ss_179366;
                                    defunc_0_split_count_res_179361 = ss_179367;
                                    defunc_0_split_count_res_179362 = tt_179368;
                                    defunc_0_split_count_res_179363 = tt_179369;
                                    defunc_0_split_count_res_179364 = count_179370;
                                    ((int64_t *) mem_181257)[i_180391] = defunc_0_split_count_res_179360;
                                    ((int64_t *) mem_181259)[i_180391] = defunc_0_split_count_res_179362;
                                }
                                if (mem_181273_cached_sizze_182633 < flat_dim_179201) {
                                    err = lexical_realloc(ctx, &mem_181273, &mem_181273_cached_sizze_182633, flat_dim_179201);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181276_cached_sizze_182634 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181276, &mem_181276_cached_sizze_182634, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181279_cached_sizze_182635 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181279, &mem_181279_cached_sizze_182635, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180400 = 0; i_180400 < num_blocks_179198; i_180400++) {
                                    bool y_179473 = slt64(i_180400, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool index_certs_179475;
                                    
                                    if (!y_179473) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180400, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179476 = ((int64_t *) mem_181257)[i_180400];
                                    int64_t defunc_0_f_res_179477 = ((int64_t *) mem_181259)[i_180400];
                                    int64_t tmp_179478 = add64((int64_t) 1, i_180400);
                                    bool x_179479 = sle64((int64_t) 0, tmp_179478);
                                    bool y_179480 = slt64(tmp_179478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool bounds_check_179481 = x_179479 && y_179480;
                                    bool index_certs_179482;
                                    
                                    if (!bounds_check_179481) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179478, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179483 = ((int64_t *) mem_181257)[tmp_179478];
                                    int64_t defunc_0_f_res_179484 = ((int64_t *) mem_181259)[tmp_179478];
                                    int64_t merge_sequential_arg2_179485 = add64(stride_179178, defunc_0_f_res_179477);
                                    int64_t merge_sequential_arg2_179486 = add64(stride_179178, defunc_0_f_res_179484);
                                    int64_t j_m_i_179487 = sub64(merge_sequential_arg2_179486, merge_sequential_arg2_179485);
                                    bool empty_slice_179488 = j_m_i_179487 == (int64_t) 0;
                                    int64_t m_179489 = sub64(j_m_i_179487, (int64_t) 1);
                                    int64_t i_p_m_t_s_179490 = add64(merge_sequential_arg2_179485, m_179489);
                                    bool zzero_leq_i_p_m_t_s_179491 = sle64((int64_t) 0, i_p_m_t_s_179490);
                                    bool i_p_m_t_s_leq_w_179492 = slt64(i_p_m_t_s_179490, next_stride_179179);
                                    bool zzero_lte_i_179493 = sle64((int64_t) 0, merge_sequential_arg2_179485);
                                    bool i_lte_j_179494 = sle64(merge_sequential_arg2_179485, merge_sequential_arg2_179486);
                                    bool y_179495 = i_p_m_t_s_leq_w_179492 && zzero_lte_i_179493;
                                    bool y_179496 = zzero_leq_i_p_m_t_s_179491 && y_179495;
                                    bool forwards_ok_179497 = i_lte_j_179494 && y_179496;
                                    bool ok_or_empty_179498 = empty_slice_179488 || forwards_ok_179497;
                                    bool index_certs_179499;
                                    
                                    if (!ok_or_empty_179498) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179485, ":", (long long) merge_sequential_arg2_179486, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179500 = sub64(defunc_0_f_res_179483, defunc_0_f_res_179476);
                                    bool empty_slice_179501 = j_m_i_179500 == (int64_t) 0;
                                    int64_t m_179502 = sub64(j_m_i_179500, (int64_t) 1);
                                    int64_t i_p_m_t_s_179503 = add64(defunc_0_f_res_179476, m_179502);
                                    bool zzero_leq_i_p_m_t_s_179504 = sle64((int64_t) 0, i_p_m_t_s_179503);
                                    bool i_p_m_t_s_leq_w_179505 = slt64(i_p_m_t_s_179503, next_stride_179179);
                                    bool zzero_lte_i_179506 = sle64((int64_t) 0, defunc_0_f_res_179476);
                                    bool i_lte_j_179507 = sle64(defunc_0_f_res_179476, defunc_0_f_res_179483);
                                    bool y_179508 = i_p_m_t_s_leq_w_179505 && zzero_lte_i_179506;
                                    bool y_179509 = zzero_leq_i_p_m_t_s_179504 && y_179508;
                                    bool forwards_ok_179510 = i_lte_j_179507 && y_179509;
                                    bool ok_or_empty_179511 = empty_slice_179501 || forwards_ok_179510;
                                    bool index_certs_179512;
                                    
                                    if (!ok_or_empty_179511) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179476, ":", (long long) defunc_0_f_res_179483, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179513 = slt64((int64_t) 0, j_m_i_179500);
                                    int8_t dummy_179514;
                                    int64_t dummy_179515;
                                    int64_t dummy_179516;
                                    
                                    if (cond_179513) {
                                        bool index_certs_179517;
                                        
                                        if (!cond_179513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179518 = start_179251 + defunc_0_f_res_179476;
                                        int8_t head_res_179519 = ((int8_t *) mem_param_181229.mem)[slice_179518];
                                        int64_t head_res_179520 = ((int64_t *) mem_param_181232.mem)[slice_179518];
                                        int64_t head_res_179521 = ((int64_t *) mem_param_181235.mem)[slice_179518];
                                        
                                        dummy_179514 = head_res_179519;
                                        dummy_179515 = head_res_179520;
                                        dummy_179516 = head_res_179521;
                                    } else {
                                        bool y_179522 = slt64((int64_t) 0, j_m_i_179487);
                                        bool index_certs_179523;
                                        
                                        if (!y_179522) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179524 = start_179251 + merge_sequential_arg2_179485;
                                        int8_t head_res_179525 = ((int8_t *) mem_param_181229.mem)[slice_179524];
                                        int64_t head_res_179526 = ((int64_t *) mem_param_181232.mem)[slice_179524];
                                        int64_t head_res_179527 = ((int64_t *) mem_param_181235.mem)[slice_179524];
                                        
                                        dummy_179514 = head_res_179525;
                                        dummy_179515 = head_res_179526;
                                        dummy_179516 = head_res_179527;
                                    }
                                    for (int64_t nest_i_182202 = 0; nest_i_182202 < merge_block_sizze_178988; nest_i_182202++) {
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + nest_i_182202] = dummy_179514;
                                    }
                                    for (int64_t nest_i_182203 = 0; nest_i_182203 < merge_block_sizze_178988; nest_i_182203++) {
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + nest_i_182203] = dummy_179515;
                                    }
                                    for (int64_t nest_i_182204 = 0; nest_i_182204 < merge_block_sizze_178988; nest_i_182204++) {
                                        ((int64_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + nest_i_182204] = dummy_179516;
                                    }
                                    
                                    int64_t data_179531;
                                    int64_t i_179536 = (int64_t) 0;
                                    
                                    for (int64_t k_179535 = 0; k_179535 < merge_block_sizze_178988; k_179535++) {
                                        int64_t j_179540 = sub64(k_179535, i_179536);
                                        bool cond_179541 = j_179540 == j_m_i_179487;
                                        bool cond_179542;
                                        
                                        if (cond_179541) {
                                            cond_179542 = 1;
                                        } else {
                                            bool cond_179543 = slt64(i_179536, j_m_i_179500);
                                            bool cond_f_res_179544;
                                            
                                            if (cond_179543) {
                                                bool x_179545 = sle64((int64_t) 0, j_179540);
                                                bool y_179546 = slt64(j_179540, j_m_i_179487);
                                                bool bounds_check_179547 = x_179545 && y_179546;
                                                bool index_certs_179548;
                                                
                                                if (!bounds_check_179547) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179554 = sle64((int64_t) 0, i_179536);
                                                bool bounds_check_179555 = cond_179543 && x_179554;
                                                bool index_certs_179556;
                                                
                                                if (!bounds_check_179555) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179549 = merge_sequential_arg2_179485 + j_179540;
                                                int64_t slice_179550 = start_179251 + slice_179549;
                                                int8_t leq_arg1_179551 = ((int8_t *) mem_param_181229.mem)[slice_179550];
                                                int64_t leq_arg1_179552 = ((int64_t *) mem_param_181232.mem)[slice_179550];
                                                int64_t leq_arg1_179553 = ((int64_t *) mem_param_181235.mem)[slice_179550];
                                                int64_t slice_179557 = defunc_0_f_res_179476 + i_179536;
                                                int64_t slice_179558 = start_179251 + slice_179557;
                                                int8_t leq_arg0_179559 = ((int8_t *) mem_param_181229.mem)[slice_179558];
                                                int64_t leq_arg0_179560 = ((int64_t *) mem_param_181232.mem)[slice_179558];
                                                int64_t leq_arg0_179561 = ((int64_t *) mem_param_181235.mem)[slice_179558];
                                                bool cond_179562 = leq_arg0_179559 == leq_arg1_179551;
                                                bool defunc_0_leq_res_t_res_179563 = sle64(leq_arg0_179560, leq_arg1_179552);
                                                bool defunc_0_leq_res_179564 = sle64(leq_arg0_179561, leq_arg1_179553);
                                                bool x_179565 = cond_179562 && defunc_0_leq_res_t_res_179563;
                                                bool x_179566 = !cond_179562;
                                                bool y_179567 = defunc_0_leq_res_179564 && x_179566;
                                                bool defunc_0_leq_res_179568 = x_179565 || y_179567;
                                                
                                                cond_f_res_179544 = defunc_0_leq_res_179568;
                                            } else {
                                                cond_f_res_179544 = 0;
                                            }
                                            cond_179542 = cond_f_res_179544;
                                        }
                                        
                                        int64_t loopres_179569;
                                        int8_t loopres_179570;
                                        int64_t loopres_179571;
                                        int64_t loopres_179572;
                                        
                                        if (cond_179542) {
                                            bool x_179574 = sle64((int64_t) 0, i_179536);
                                            bool y_179575 = slt64(i_179536, j_m_i_179500);
                                            bool bounds_check_179576 = x_179574 && y_179575;
                                            bool index_certs_179577;
                                            
                                            if (!bounds_check_179576) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179573 = add64((int64_t) 1, i_179536);
                                            int64_t slice_179578 = defunc_0_f_res_179476 + i_179536;
                                            int64_t slice_179579 = start_179251 + slice_179578;
                                            int8_t tmp_179580 = ((int8_t *) mem_param_181229.mem)[slice_179579];
                                            int64_t tmp_179581 = ((int64_t *) mem_param_181232.mem)[slice_179579];
                                            int64_t tmp_179582 = ((int64_t *) mem_param_181235.mem)[slice_179579];
                                            
                                            loopres_179569 = tmp_179573;
                                            loopres_179570 = tmp_179580;
                                            loopres_179571 = tmp_179581;
                                            loopres_179572 = tmp_179582;
                                        } else {
                                            bool x_179583 = sle64((int64_t) 0, j_179540);
                                            bool y_179584 = slt64(j_179540, j_m_i_179487);
                                            bool bounds_check_179585 = x_179583 && y_179584;
                                            bool index_certs_179586;
                                            
                                            if (!bounds_check_179585) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179587 = merge_sequential_arg2_179485 + j_179540;
                                            int64_t slice_179588 = start_179251 + slice_179587;
                                            int8_t tmp_179589 = ((int8_t *) mem_param_181229.mem)[slice_179588];
                                            int64_t tmp_179590 = ((int64_t *) mem_param_181232.mem)[slice_179588];
                                            int64_t tmp_179591 = ((int64_t *) mem_param_181235.mem)[slice_179588];
                                            
                                            loopres_179569 = i_179536;
                                            loopres_179570 = tmp_179589;
                                            loopres_179571 = tmp_179590;
                                            loopres_179572 = tmp_179591;
                                        }
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179570;
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179571;
                                        ((int64_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179572;
                                        
                                        int64_t i_tmp_182205 = loopres_179569;
                                        
                                        i_179536 = i_tmp_182205;
                                    }
                                    data_179531 = i_179536;
                                }
                                if (memblock_alloc(ctx, &mem_181328, flat_dim_179201, "mem_181328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181328.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint8_t *) mem_181273, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181332, bytes_181275, "mem_181332")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181332.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181276, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181336, bytes_181275, "mem_181336")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181336.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181279, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181328, "mem_181328") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181332, "mem_181332") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181336, "mem_181336") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181237, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181240, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181366.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181243, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181363.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181383, bytes_181236, "mem_181383")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181383.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint8_t *) mem_181237, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181387, bytes_181239, "mem_181387")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181387.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181240, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181391, bytes_181239, "mem_181391")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181391.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181243, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        
                        bool loop_cond_179611 = slt64(next_stride_179179, flat_dim_178983);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182172, &mem_181383, "mem_181383") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182173, &mem_181387, "mem_181387") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182174, &mem_181391, "mem_181391") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182175 = bytes_181236;
                        bool loop_while_tmp_182176 = loop_cond_179611;
                        int64_t stride_tmp_182180 = next_stride_179179;
                        
                        if (memblock_set(ctx, &mem_param_181229, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181232, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181235, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179173 = loop_dz2084Uz2082U_tmp_182175;
                        loop_while_179174 = loop_while_tmp_182176;
                        stride_179178 = stride_tmp_182180;
                    }
                    if (memblock_set(ctx, &ext_mem_181401, &mem_param_181229, "mem_param_181229") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_param_181232, "mem_param_181232") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181399, &mem_param_181235, "mem_param_181235") != 0)
                        return 1;
                    data_179167 = loop_dz2084Uz2082U_179173;
                    data_179168 = loop_while_179174;
                    data_179172 = stride_179178;
                    if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
                        return 1;
                    
                    bool empty_slice_179612 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179613 = sle64((int64_t) 0, zs_lhs_178967);
                    bool i_p_m_t_s_leq_w_179614 = slt64(zs_lhs_178967, data_179167);
                    bool y_179615 = zzero_leq_i_p_m_t_s_179613 && i_p_m_t_s_leq_w_179614;
                    bool ok_or_empty_179616 = empty_slice_179612 || y_179615;
                    bool index_certs_179617;
                    
                    if (!ok_or_empty_179616) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] out of bounds for array of shape [", (long long) data_179167, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181410, &ext_mem_181401, "ext_mem_181401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &ext_mem_181400, "ext_mem_181400") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &ext_mem_181399, "ext_mem_181399") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181077, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181410.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181080, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181407.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
                    return 1;
                for (int64_t i_180416 = 0; i_180416 < perThread_175244; i_180416++) {
                    int64_t lifted_lambda_res_179639 = add64(zm_rhs_178923, i_180416);
                    
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + i_180416] = lifted_lambda_res_179639;
                }
                
                bool cond_179641 = card_178924 == zp_rhs_175243;
                
                if (cond_179641) {
                    bool y_179643 = slt64(card_178924, perThread_175244);
                    bool index_certs_179644;
                    
                    if (!y_179643) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + card_178924] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181436, bytes_180729, "mem_181436")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182210 = 0; nest_i_182210 < window_sizze_141896; nest_i_182210++) {
                ((int64_t *) mem_181436.mem)[nest_i_182210] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181438, bytes_180729, "mem_181438")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182211 = 0; nest_i_182211 < window_sizze_141896; nest_i_182211++) {
                ((int64_t *) mem_181438.mem)[nest_i_182211] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181439, window_sizze_141896, "mem_181439")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182212 = 0; nest_i_182212 < window_sizze_141896; nest_i_182212++) {
                ((int8_t *) mem_181439.mem)[nest_i_182212] = (int8_t) -1;
            }
            for (int64_t write_iter_180431 = 0; write_iter_180431 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245; write_iter_180431++) {
                int64_t new_index_180583 = squot64(write_iter_180431, perThread_175244);
                int64_t binop_y_180585 = perThread_175244 * new_index_180583;
                int64_t new_index_180586 = write_iter_180431 - binop_y_180585;
                int64_t write_iv_180435 = ((int64_t *) mem_181075)[new_index_180583 * perThread_175244 + new_index_180586];
                int8_t write_iv_180436 = ((int8_t *) mem_181077)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180437 = ((int64_t *) mem_181080)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180438 = ((int64_t *) mem_181083)[new_index_180583 * perThread_175244 + new_index_180586];
                
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_141896)) {
                    ((int8_t *) mem_181439.mem)[write_iv_180435] = write_iv_180436;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_141896)) {
                    ((int64_t *) mem_181438.mem)[write_iv_180435] = write_iv_180437;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_141896)) {
                    ((int64_t *) mem_181436.mem)[write_iv_180435] = write_iv_180438;
                }
            }
            
            int64_t index_concat_branch_179667;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179668 = ((int64_t *) mem_181058)[index_concat_i_178008];
                
                index_concat_branch_179667 = index_concat_179668;
            } else {
                index_concat_branch_179667 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179669;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179670 = ((int64_t *) mem_181060)[index_concat_i_178008];
                
                index_concat_branch_179669 = index_concat_179670;
            } else {
                index_concat_branch_179669 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_181439, "mem_181439") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_181438, "mem_181438") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_181436, "mem_181436") != 0)
                return 1;
            loopres_175234 = index_concat_branch_179667;
            loopres_175235 = index_concat_branch_179669;
        } else {
            int64_t leq_lhs_176225 = ((int64_t *) a_list_mem_180696.mem)[p_175206];
            int64_t leq_rhs_176228 = ((int64_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_176229 = sle64(leq_lhs_176225, leq_rhs_176228);
            int64_t lowest_176230;
            
            if (defunc_0_leq_res_176229) {
                bool index_certs_179671;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_lhs_176225;
            } else {
                bool index_certs_176235;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_rhs_176228;
            }
            if (mem_180713_cached_sizze_182600 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182600, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180715_cached_sizze_182601 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182601, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180446 = 0; i_180446 < threads_141897; i_180446++) {
                int64_t index_primexp_180662 = add64((int64_t) 1, i_180446);
                int64_t zs_lhs_176251 = mul64(zt_rhs_176244, index_primexp_180662);
                int64_t index_176252 = sdiv64(zs_lhs_176251, partitionFunc_arg0_176221);
                bool cond_176253 = slt64(window_sizze_141896, index_176252);
                int64_t loop_over_176254;
                
                if (cond_176253) {
                    loop_over_176254 = window_sizze_141896;
                } else {
                    loop_over_176254 = index_176252;
                }
                
                int64_t loop_over_176255;
                
                if (cond_176253) {
                    int64_t loop_over_t_res_179672 = sub64(index_176252, window_sizze_141896);
                    
                    loop_over_176255 = loop_over_t_res_179672;
                } else {
                    loop_over_176255 = (int64_t) 0;
                }
                
                int64_t loop_over_176257;
                
                if (cond_176253) {
                    int64_t zm_lhs_179673 = sub64(index_176252, window_sizze_141896);
                    int64_t loop_over_t_res_179674 = sub64(zm_lhs_179673, (int64_t) 1);
                    
                    loop_over_176257 = loop_over_t_res_179674;
                } else {
                    loop_over_176257 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176260;
                int64_t defunc_0_f_res_176261;
                int64_t defunc_0_f_res_176262;
                int64_t defunc_0_f_res_176263;
                bool loop_while_176264;
                int64_t p_176265;
                int64_t p_176266;
                int64_t p_176267;
                
                loop_while_176264 = 1;
                p_176265 = loop_over_176257;
                p_176266 = loop_over_176254;
                p_176267 = loop_over_176255;
                while (loop_while_176264) {
                    int64_t zs_lhs_176268 = sub64(p_176266, p_176265);
                    int64_t offset_176269 = sdiv64(zs_lhs_176268, (int64_t) 2);
                    int64_t ai_176270 = sub64(p_176266, offset_176269);
                    int64_t max_arg1_176271 = add64(p_176267, offset_176269);
                    int64_t max_res_176272 = smax64((int64_t) 0, max_arg1_176271);
                    bool cond_176273 = slt64((int64_t) 0, max_res_176272);
                    int64_t b_prev_176274;
                    
                    if (cond_176273) {
                        int64_t tmp_179675 = sub64(max_res_176272, (int64_t) 1);
                        bool x_179676 = sle64((int64_t) 0, tmp_179675);
                        bool y_179677 = slt64(tmp_179675, window_sizze_141896);
                        bool bounds_check_179678 = x_179676 && y_179677;
                        bool index_certs_179679;
                        
                        if (!bounds_check_179678) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179675, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179680 = p_175207 + tmp_179675;
                        int64_t b_prev_t_res_179681 = ((int64_t *) b_list_mem_180697.mem)[slice_179680];
                        
                        b_prev_176274 = b_prev_t_res_179681;
                    } else {
                        b_prev_176274 = lowest_176230;
                    }
                    
                    bool cond_176281 = sle64(ai_176270, (int64_t) 0);
                    int64_t loopres_176282;
                    int64_t loopres_176283;
                    int64_t loopres_176284;
                    bool loopres_176285;
                    
                    if (cond_176281) {
                        loopres_176282 = p_176265;
                        loopres_176283 = (int64_t) 0;
                        loopres_176284 = max_res_176272;
                        loopres_176285 = 0;
                    } else {
                        bool cond_176286 = sle64(window_sizze_141896, max_res_176272);
                        int64_t loopres_f_res_176287;
                        int64_t loopres_f_res_176288;
                        int64_t loopres_f_res_176289;
                        bool loopres_f_res_176290;
                        
                        if (cond_176286) {
                            int64_t min_res_179683 = smin64(m_175195, ai_176270);
                            bool x_179684 = sle64((int64_t) 0, m_175195);
                            bool y_179685 = slt64(m_175195, window_sizze_141896);
                            bool bounds_check_179686 = x_179684 && y_179685;
                            bool index_certs_179687;
                            
                            if (!bounds_check_179686) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179690 = sle64((int64_t) 0, min_res_179683);
                            bool y_179691 = slt64(min_res_179683, window_sizze_141896);
                            bool bounds_check_179692 = x_179690 && y_179691;
                            bool index_certs_179693;
                            
                            if (!bounds_check_179692) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179683, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_179689 = ((int64_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_179694 = p_175206 + min_res_179683;
                            int64_t leq_rhs_179695 = ((int64_t *) a_list_mem_180696.mem)[slice_179694];
                            bool defunc_0_leq_res_179696 = sle64(leq_lhs_179689, leq_rhs_179695);
                            int64_t loopres_f_res_t_res_179697;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179697 = ai_176270;
                            } else {
                                loopres_f_res_t_res_179697 = p_176266;
                            }
                            
                            bool x_179698 = !defunc_0_leq_res_179696;
                            int64_t loopres_f_res_t_res_179699;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179699 = window_sizze_141896;
                            } else {
                                int64_t tmp_179700 = sub64(m_175195, offset_176269);
                                
                                loopres_f_res_t_res_179699 = tmp_179700;
                            }
                            loopres_f_res_176287 = p_176265;
                            loopres_f_res_176288 = loopres_f_res_t_res_179697;
                            loopres_f_res_176289 = loopres_f_res_t_res_179699;
                            loopres_f_res_176290 = x_179698;
                        } else {
                            bool cond_176308 = sle64(window_sizze_141896, ai_176270);
                            int64_t loopres_f_res_f_res_176309;
                            int64_t loopres_f_res_f_res_176310;
                            int64_t loopres_f_res_f_res_176311;
                            bool loopres_f_res_f_res_176312;
                            
                            if (cond_176308) {
                                int64_t min_res_179702 = smin64(m_175195, max_res_176272);
                                bool x_179703 = sle64((int64_t) 0, m_175195);
                                bool y_179704 = slt64(m_175195, window_sizze_141896);
                                bool bounds_check_179705 = x_179703 && y_179704;
                                bool index_certs_179706;
                                
                                if (!bounds_check_179705) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179709 = sle64((int64_t) 0, min_res_179702);
                                bool y_179710 = slt64(min_res_179702, window_sizze_141896);
                                bool bounds_check_179711 = x_179709 && y_179710;
                                bool index_certs_179712;
                                
                                if (!bounds_check_179711) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179702, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_179708 = ((int64_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_179713 = p_175207 + min_res_179702;
                                int64_t leq_rhs_179714 = ((int64_t *) b_list_mem_180697.mem)[slice_179713];
                                bool defunc_0_leq_res_179715 = sle64(leq_lhs_179708, leq_rhs_179714);
                                int64_t loopres_f_res_f_res_t_res_179716;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179716 = max_res_176272;
                                } else {
                                    loopres_f_res_f_res_t_res_179716 = p_176267;
                                }
                                
                                bool x_179717 = !defunc_0_leq_res_179715;
                                int64_t loopres_f_res_f_res_t_res_179718;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179718 = window_sizze_141896;
                                } else {
                                    loopres_f_res_f_res_t_res_179718 = m_175195;
                                }
                                loopres_f_res_f_res_176309 = p_176265;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_t_res_179718;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_t_res_179716;
                                loopres_f_res_f_res_176312 = x_179717;
                            } else {
                                bool cond_176329 = sle64(p_176266, p_176265);
                                int64_t loopres_f_res_f_res_f_res_176330;
                                int64_t loopres_f_res_f_res_f_res_176331;
                                int64_t loopres_f_res_f_res_f_res_176332;
                                bool loopres_f_res_f_res_f_res_176333;
                                
                                if (cond_176329) {
                                    bool cond_179757 = slt64(ai_176270, window_sizze_141896);
                                    int64_t ai_179758;
                                    
                                    if (cond_179757) {
                                        ai_179758 = ai_176270;
                                    } else {
                                        ai_179758 = m_175195;
                                    }
                                    
                                    bool x_179771 = sle64((int64_t) 0, ai_179758);
                                    bool y_179772 = slt64(ai_179758, window_sizze_141896);
                                    bool bounds_check_179773 = x_179771 && y_179772;
                                    bool index_certs_179774;
                                    
                                    if (!bounds_check_179773) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179758, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179760;
                                    
                                    if (cond_176273) {
                                        int64_t tmp_179761 = sub64(max_res_176272, (int64_t) 1);
                                        bool x_179762 = sle64((int64_t) 0, tmp_179761);
                                        bool y_179763 = slt64(tmp_179761, window_sizze_141896);
                                        bool bounds_check_179764 = x_179762 && y_179763;
                                        bool index_certs_179765;
                                        
                                        if (!bounds_check_179764) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179761, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179766 = p_175207 + tmp_179761;
                                        int64_t b_prev_t_res_179767 = ((int64_t *) b_list_mem_180697.mem)[slice_179766];
                                        
                                        b_prev_179760 = b_prev_t_res_179767;
                                    } else {
                                        bool index_certs_179769;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179760 = leq_rhs_176228;
                                    }
                                    
                                    int64_t slice_179775 = p_175206 + ai_179758;
                                    int64_t gt_lhs_179776 = ((int64_t *) a_list_mem_180696.mem)[slice_179775];
                                    bool defunc_0_gt_res_179777 = slt64(b_prev_179760, gt_lhs_179776);
                                    int64_t defunc_0_partFunc_sequential_search_res_179778;
                                    int64_t defunc_0_partFunc_sequential_search_res_179779;
                                    
                                    if (defunc_0_gt_res_179777) {
                                        int64_t zl_rhs_179780 = sub64(window_sizze_141896, max_res_176272);
                                        bool loop_cond_179781 = slt64((int64_t) 0, zl_rhs_179780);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179782;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179784;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179785;
                                        bool loop_while_179786;
                                        int64_t p_179787;
                                        int64_t p_179788;
                                        int64_t p_179789;
                                        
                                        loop_while_179786 = loop_cond_179781;
                                        p_179787 = ai_179758;
                                        p_179788 = max_res_176272;
                                        p_179789 = (int64_t) 0;
                                        while (loop_while_179786) {
                                            int64_t i_a_179790 = sub64(ai_179758, p_179789);
                                            int64_t i_b_179791 = add64(max_res_176272, p_179789);
                                            int64_t leq_lhs_179792 = sub64(i_a_179790, (int64_t) 1);
                                            bool x_179793 = sle64((int64_t) 0, leq_lhs_179792);
                                            bool y_179794 = slt64(leq_lhs_179792, window_sizze_141896);
                                            bool bounds_check_179795 = x_179793 && y_179794;
                                            bool index_certs_179796;
                                            
                                            if (!bounds_check_179795) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179792, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179799 = sle64((int64_t) 0, i_b_179791);
                                            bool y_179800 = slt64(i_b_179791, window_sizze_141896);
                                            bool bounds_check_179801 = x_179799 && y_179800;
                                            bool index_certs_179802;
                                            
                                            if (!bounds_check_179801) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179791, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179797 = p_175206 + leq_lhs_179792;
                                            int64_t leq_lhs_179798 = ((int64_t *) a_list_mem_180696.mem)[slice_179797];
                                            int64_t slice_179803 = p_175207 + i_b_179791;
                                            int64_t leq_rhs_179804 = ((int64_t *) b_list_mem_180697.mem)[slice_179803];
                                            bool defunc_0_leq_res_179805 = sle64(leq_lhs_179798, leq_rhs_179804);
                                            int64_t loopres_179806;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179806 = i_a_179790;
                                            } else {
                                                loopres_179806 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179807;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179807 = i_b_179791;
                                            } else {
                                                loopres_179807 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179808;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179808 = zl_rhs_179780;
                                            } else {
                                                int64_t tmp_179809 = add64((int64_t) 1, p_179789);
                                                
                                                loopres_179808 = tmp_179809;
                                            }
                                            
                                            bool loop_cond_179810 = slt64(loopres_179808, zl_rhs_179780);
                                            bool loop_while_tmp_182222 = loop_cond_179810;
                                            int64_t p_tmp_182223 = loopres_179806;
                                            int64_t p_tmp_182224 = loopres_179807;
                                            int64_t p_tmp_182225 = loopres_179808;
                                            
                                            loop_while_179786 = loop_while_tmp_182222;
                                            p_179787 = p_tmp_182223;
                                            p_179788 = p_tmp_182224;
                                            p_179789 = p_tmp_182225;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179782 = loop_while_179786;
                                        defunc_0_partFunc_sequential_search_res_t_res_179783 = p_179787;
                                        defunc_0_partFunc_sequential_search_res_t_res_179784 = p_179788;
                                        defunc_0_partFunc_sequential_search_res_t_res_179785 = p_179789;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_t_res_179784;
                                    } else {
                                        int64_t zl_rhs_179811 = sub64(max_res_176272, (int64_t) 1);
                                        bool loop_cond_179812 = slt64((int64_t) 0, zl_rhs_179811);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179813;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179815;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179816;
                                        bool loop_while_179817;
                                        int64_t p_179818;
                                        int64_t p_179819;
                                        int64_t p_179820;
                                        
                                        loop_while_179817 = loop_cond_179812;
                                        p_179818 = ai_179758;
                                        p_179819 = max_res_176272;
                                        p_179820 = (int64_t) 0;
                                        while (loop_while_179817) {
                                            int64_t zp_lhs_179821 = add64(ai_179758, p_179820);
                                            int64_t hi_a_179822 = add64((int64_t) 1, zp_lhs_179821);
                                            bool cond_179823 = slt64(hi_a_179822, window_sizze_141896);
                                            int64_t i_a_179824;
                                            
                                            if (cond_179823) {
                                                i_a_179824 = hi_a_179822;
                                            } else {
                                                i_a_179824 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_179826 = sub64(max_res_176272, p_179820);
                                            int64_t i_b_179827 = sub64(zm_lhs_179826, (int64_t) 1);
                                            bool x_179828 = sle64((int64_t) 0, i_a_179824);
                                            bool y_179829 = slt64(i_a_179824, window_sizze_141896);
                                            bool bounds_check_179830 = x_179828 && y_179829;
                                            bool index_certs_179831;
                                            
                                            if (!bounds_check_179830) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179824, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179834 = sle64((int64_t) 0, i_b_179827);
                                            bool y_179835 = slt64(i_b_179827, window_sizze_141896);
                                            bool bounds_check_179836 = x_179834 && y_179835;
                                            bool index_certs_179837;
                                            
                                            if (!bounds_check_179836) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179827, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179832 = p_175206 + i_a_179824;
                                            int64_t gt_lhs_179833 = ((int64_t *) a_list_mem_180696.mem)[slice_179832];
                                            int64_t slice_179838 = p_175207 + i_b_179827;
                                            int64_t gt_rhs_179839 = ((int64_t *) b_list_mem_180697.mem)[slice_179838];
                                            bool defunc_0_gt_res_179840 = slt64(gt_rhs_179839, gt_lhs_179833);
                                            int64_t loopres_179841;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179841 = i_a_179824;
                                            } else {
                                                loopres_179841 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179842;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179842 = zm_lhs_179826;
                                            } else {
                                                loopres_179842 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179843;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179843 = zl_rhs_179811;
                                            } else {
                                                int64_t tmp_179844 = add64((int64_t) 1, p_179820);
                                                
                                                loopres_179843 = tmp_179844;
                                            }
                                            
                                            bool loop_cond_179845 = slt64(loopres_179843, zl_rhs_179811);
                                            bool loop_while_tmp_182226 = loop_cond_179845;
                                            int64_t p_tmp_182227 = loopres_179841;
                                            int64_t p_tmp_182228 = loopres_179842;
                                            int64_t p_tmp_182229 = loopres_179843;
                                            
                                            loop_while_179817 = loop_while_tmp_182226;
                                            p_179818 = p_tmp_182227;
                                            p_179819 = p_tmp_182228;
                                            p_179820 = p_tmp_182229;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179813 = loop_while_179817;
                                        defunc_0_partFunc_sequential_search_res_f_res_179814 = p_179818;
                                        defunc_0_partFunc_sequential_search_res_f_res_179815 = p_179819;
                                        defunc_0_partFunc_sequential_search_res_f_res_179816 = p_179820;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_f_res_179815;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = p_176265;
                                    loopres_f_res_f_res_f_res_176331 = defunc_0_partFunc_sequential_search_res_179778;
                                    loopres_f_res_f_res_f_res_176332 = defunc_0_partFunc_sequential_search_res_179779;
                                    loopres_f_res_f_res_f_res_176333 = 0;
                                } else {
                                    bool x_176417 = sle64((int64_t) 0, ai_176270);
                                    bool y_176418 = slt64(ai_176270, window_sizze_141896);
                                    bool bounds_check_176419 = x_176417 && y_176418;
                                    bool index_certs_176420;
                                    
                                    if (!bounds_check_176419) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176270, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178086 = p_175206 + ai_176270;
                                    int64_t gt_lhs_176421 = ((int64_t *) a_list_mem_180696.mem)[slice_178086];
                                    bool defunc_0_gt_res_176422 = slt64(b_prev_176274, gt_lhs_176421);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176423;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176424;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176425;
                                    bool loopres_f_res_f_res_f_res_f_res_176426;
                                    
                                    if (defunc_0_gt_res_176422) {
                                        int64_t leq_lhs_179846 = sub64(ai_176270, (int64_t) 1);
                                        bool x_179847 = sle64((int64_t) 0, leq_lhs_179846);
                                        bool y_179848 = slt64(leq_lhs_179846, window_sizze_141896);
                                        bool bounds_check_179849 = x_179847 && y_179848;
                                        bool index_certs_179850;
                                        
                                        if (!bounds_check_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179846, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179853 = sle64((int64_t) 0, max_res_176272);
                                        bool y_179854 = slt64(max_res_176272, window_sizze_141896);
                                        bool bounds_check_179855 = x_179853 && y_179854;
                                        bool index_certs_179856;
                                        
                                        if (!bounds_check_179855) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176272, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179851 = p_175206 + leq_lhs_179846;
                                        int64_t leq_lhs_179852 = ((int64_t *) a_list_mem_180696.mem)[slice_179851];
                                        int64_t slice_179857 = p_175207 + max_res_176272;
                                        int64_t leq_rhs_179858 = ((int64_t *) b_list_mem_180697.mem)[slice_179857];
                                        bool defunc_0_leq_res_179859 = sle64(leq_lhs_179852, leq_rhs_179858);
                                        bool x_179860 = !defunc_0_leq_res_179859;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = ai_176270;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = leq_lhs_179846;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = max_res_176272;
                                        } else {
                                            int64_t tmp_179863 = add64((int64_t) 1, max_res_176272);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = tmp_179863;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176423 = p_176265;
                                        loopres_f_res_f_res_f_res_f_res_176424 = loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        loopres_f_res_f_res_f_res_f_res_176425 = loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        loopres_f_res_f_res_f_res_f_res_176426 = x_179860;
                                    } else {
                                        int64_t tmp_176443 = add64((int64_t) 1, ai_176270);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176423 = tmp_176443;
                                        loopres_f_res_f_res_f_res_f_res_176424 = p_176266;
                                        loopres_f_res_f_res_f_res_f_res_176425 = p_176267;
                                        loopres_f_res_f_res_f_res_f_res_176426 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = loopres_f_res_f_res_f_res_f_res_176423;
                                    loopres_f_res_f_res_f_res_176331 = loopres_f_res_f_res_f_res_f_res_176424;
                                    loopres_f_res_f_res_f_res_176332 = loopres_f_res_f_res_f_res_f_res_176425;
                                    loopres_f_res_f_res_f_res_176333 = loopres_f_res_f_res_f_res_f_res_176426;
                                }
                                loopres_f_res_f_res_176309 = loopres_f_res_f_res_f_res_176330;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_f_res_176331;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_f_res_176332;
                                loopres_f_res_f_res_176312 = loopres_f_res_f_res_f_res_176333;
                            }
                            loopres_f_res_176287 = loopres_f_res_f_res_176309;
                            loopres_f_res_176288 = loopres_f_res_f_res_176310;
                            loopres_f_res_176289 = loopres_f_res_f_res_176311;
                            loopres_f_res_176290 = loopres_f_res_f_res_176312;
                        }
                        loopres_176282 = loopres_f_res_176287;
                        loopres_176283 = loopres_f_res_176288;
                        loopres_176284 = loopres_f_res_176289;
                        loopres_176285 = loopres_f_res_176290;
                    }
                    
                    bool loop_while_tmp_182218 = loopres_176285;
                    int64_t p_tmp_182219 = loopres_176282;
                    int64_t p_tmp_182220 = loopres_176283;
                    int64_t p_tmp_182221 = loopres_176284;
                    
                    loop_while_176264 = loop_while_tmp_182218;
                    p_176265 = p_tmp_182219;
                    p_176266 = p_tmp_182220;
                    p_176267 = p_tmp_182221;
                }
                defunc_0_f_res_176260 = loop_while_176264;
                defunc_0_f_res_176261 = p_176265;
                defunc_0_f_res_176262 = p_176266;
                defunc_0_f_res_176263 = p_176267;
                ((int64_t *) mem_180713)[i_180446] = defunc_0_f_res_176262;
                ((int64_t *) mem_180715)[i_180446] = defunc_0_f_res_176263;
            }
            if (memblock_alloc(ctx, &mem_180728, window_sizze_141896, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182230 = 0; nest_i_182230 < window_sizze_141896; nest_i_182230++) {
                ((int8_t *) mem_180728.mem)[nest_i_182230] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180730, bytes_180729, "mem_180730")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182231 = 0; nest_i_182231 < window_sizze_141896; nest_i_182231++) {
                ((int64_t *) mem_180730.mem)[nest_i_182231] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180732, bytes_180729, "mem_180732")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182232 = 0; nest_i_182232 < window_sizze_141896; nest_i_182232++) {
                ((int64_t *) mem_180732.mem)[nest_i_182232] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176470;
            int64_t defunc_0_mergeFunc_seq_res_176471;
            bool loop_while_176475;
            int64_t p_176476;
            
            loop_while_176475 = loop_cond_176469;
            p_176476 = (int64_t) 0;
            while (loop_while_176475) {
                bool x_176480 = sle64((int64_t) 0, p_176476);
                bool y_176481 = slt64(p_176476, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176482 = x_176480 && y_176481;
                bool index_certs_176483;
                
                if (!bounds_check_176482) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176476, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178069 = sle64((int64_t) 1, p_176476);
                int64_t index_concat_i_178070 = sub64(p_176476, (int64_t) 1);
                int64_t index_concat_178071;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179864 = ((int64_t *) mem_180713)[index_concat_i_178070];
                    
                    index_concat_178071 = x_179864;
                } else {
                    index_concat_178071 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178073;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178073 = index_concat_178071;
                } else {
                    index_concat_branch_178073 = (int64_t) 0;
                }
                
                int64_t index_concat_178065;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179865 = ((int64_t *) mem_180715)[index_concat_i_178070];
                    
                    index_concat_178065 = x_179865;
                } else {
                    index_concat_178065 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178067;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178067 = index_concat_178065;
                } else {
                    index_concat_branch_178067 = (int64_t) 0;
                }
                
                int64_t ubs_176486 = add64((int64_t) 1, p_176476);
                bool x_176487 = sle64((int64_t) 0, ubs_176486);
                bool y_176488 = slt64(ubs_176486, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176489 = x_176487 && y_176488;
                bool index_certs_176490;
                
                if (!bounds_check_176489) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178057 = sle64((int64_t) 1, ubs_176486);
                int64_t index_concat_178059;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179866 = ((int64_t *) mem_180713)[p_176476];
                    
                    index_concat_178059 = x_179866;
                } else {
                    index_concat_178059 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178061;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178061 = index_concat_178059;
                } else {
                    index_concat_branch_178061 = (int64_t) 0;
                }
                
                int64_t index_concat_178053;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179867 = ((int64_t *) mem_180715)[p_176476];
                    
                    index_concat_178053 = x_179867;
                } else {
                    index_concat_178053 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178055;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178055 = index_concat_178053;
                } else {
                    index_concat_branch_178055 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 = sub64(index_concat_branch_178055, index_concat_branch_178067);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 = sub64(index_concat_branch_178061, index_concat_branch_178073);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t ind_bottom_176496 = add64(index_concat_branch_178067, index_concat_branch_178073);
                int64_t ind_top_176497 = add64(index_concat_branch_178055, index_concat_branch_178061);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 = sub64(ind_top_176497, ind_bottom_176496);
                bool empty_slice_176499 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 == (int64_t) 0;
                int64_t m_176500 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 1);
                int64_t i_p_m_t_s_176501 = add64(m_176500, index_concat_branch_178073);
                bool zzero_leq_i_p_m_t_s_176502 = sle64((int64_t) 0, i_p_m_t_s_176501);
                bool i_p_m_t_s_leq_w_176503 = slt64(i_p_m_t_s_176501, window_sizze_141896);
                bool zzero_lte_i_176504 = sle64((int64_t) 0, index_concat_branch_178073);
                bool i_lte_j_176505 = sle64(index_concat_branch_178073, index_concat_branch_178061);
                bool y_176506 = i_p_m_t_s_leq_w_176503 && zzero_lte_i_176504;
                bool y_176507 = zzero_leq_i_p_m_t_s_176502 && y_176506;
                bool forwards_ok_176508 = i_lte_j_176505 && y_176507;
                bool ok_or_empty_176509 = empty_slice_176499 || forwards_ok_176508;
                bool index_certs_176510;
                
                if (!ok_or_empty_176509) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178073, ":", (long long) index_concat_branch_178061, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176511 = slt64(index_concat_branch_178061, index_concat_branch_178073);
                bool valid_176512 = !bounds_invalid_upwards_176511;
                bool range_valid_c_176513;
                
                if (!valid_176512) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178073, "..<", (long long) index_concat_branch_178061, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176519 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 == (int64_t) 0;
                int64_t m_176520 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, (int64_t) 1);
                int64_t i_p_m_t_s_176521 = add64(m_176520, index_concat_branch_178067);
                bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
                bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, window_sizze_141896);
                bool zzero_lte_i_176524 = sle64((int64_t) 0, index_concat_branch_178067);
                bool i_lte_j_176525 = sle64(index_concat_branch_178067, index_concat_branch_178055);
                bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
                bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
                bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
                bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
                bool index_certs_176530;
                
                if (!ok_or_empty_176529) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178067, ":", (long long) index_concat_branch_178055, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176531 = slt64(index_concat_branch_178055, index_concat_branch_178067);
                bool valid_176532 = !bounds_invalid_upwards_176531;
                bool range_valid_c_176533;
                
                if (!valid_176532) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178067, "..<", (long long) index_concat_branch_178055, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180749 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool cond_176542 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zs_lhs_176543 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zp_rhs_176544 = sdiv_safe64(zs_lhs_176543, (int64_t) 20);
                int64_t min_num_blocks_176545 = add64((int64_t) 1, zp_rhs_176544);
                bool loop_cond_176546 = slt64((int64_t) 1, min_num_blocks_176545);
                bool smallest_pow_2_geq_than_res_176547;
                int64_t smallest_pow_2_geq_than_res_176548;
                bool loop_while_176549;
                int64_t x_176550;
                
                loop_while_176549 = loop_cond_176546;
                x_176550 = (int64_t) 1;
                while (loop_while_176549) {
                    int64_t loopres_176551 = mul64((int64_t) 2, x_176550);
                    bool loop_cond_176552 = slt64(loopres_176551, min_num_blocks_176545);
                    bool loop_while_tmp_182238 = loop_cond_176552;
                    int64_t x_tmp_182239 = loopres_176551;
                    
                    loop_while_176549 = loop_while_tmp_182238;
                    x_176550 = x_tmp_182239;
                }
                smallest_pow_2_geq_than_res_176547 = loop_while_176549;
                smallest_pow_2_geq_than_res_176548 = x_176550;
                
                bool zzero_176553 = smallest_pow_2_geq_than_res_176548 == (int64_t) 0;
                bool nonzzero_176554 = !zzero_176553;
                bool protect_assert_disj_176555 = cond_176542 || nonzzero_176554;
                bool nonzzero_cert_176556;
                
                if (!protect_assert_disj_176555) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176557 = sdiv_safe64(zs_lhs_176543, smallest_pow_2_geq_than_res_176548);
                int64_t block_sizze_176558 = add64((int64_t) 1, zp_rhs_176557);
                bool y_176565 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                bool protect_assert_disj_181902 = cond_176542 || y_176565;
                bool index_certs_176566;
                
                if (!protect_assert_disj_181902) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176592 = slt64(smallest_pow_2_geq_than_res_176548, (int64_t) 0);
                bool valid_176593 = !bounds_invalid_upwards_176592;
                bool protect_assert_disj_181912 = cond_176542 || valid_176593;
                bool range_valid_c_176594;
                
                if (!protect_assert_disj_181912) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176548, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176596 = slt64(block_sizze_176558, (int64_t) 0);
                bool valid_176597 = !bounds_invalid_upwards_176596;
                bool protect_assert_disj_181914 = cond_176542 || valid_176597;
                bool range_valid_c_176598;
                
                if (!protect_assert_disj_181914) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176558, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176600 = sle64(block_sizze_176558, (int64_t) 1);
                int64_t tmp_176601 = sub64(block_sizze_176558, (int64_t) 2);
                bool bounds_invalid_upwards_176602 = slt64(tmp_176601, (int64_t) 0);
                bool valid_176604 = !bounds_invalid_upwards_176602;
                bool protect_assert_disj_176605 = cond_176600 || valid_176604;
                bool protect_assert_disj_181916 = cond_176542 || protect_assert_disj_176605;
                bool range_valid_c_176606;
                
                if (!protect_assert_disj_181916) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176601, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177167 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool empty_or_match_cert_177168;
                
                if (!dim_match_177167) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "](i8, i64, i64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177169 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == (int64_t) 0;
                int64_t m_177170 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177171 = sle64((int64_t) 0, m_177170);
                bool i_p_m_t_s_leq_w_177172 = slt64(m_177170, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498);
                bool y_177173 = zzero_leq_i_p_m_t_s_177171 && i_p_m_t_s_leq_w_177172;
                bool ok_or_empty_177174 = empty_slice_177169 || y_177173;
                bool index_certs_177175;
                
                if (!ok_or_empty_177174) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177176 = add64(ind_bottom_176496, m_177170);
                bool zzero_leq_i_p_m_t_s_177177 = sle64((int64_t) 0, i_p_m_t_s_177176);
                bool i_p_m_t_s_leq_w_177178 = slt64(i_p_m_t_s_177176, window_sizze_141896);
                bool zzero_lte_i_177179 = sle64((int64_t) 0, ind_bottom_176496);
                bool i_lte_j_177180 = sle64(ind_bottom_176496, ind_top_176497);
                bool y_177181 = i_p_m_t_s_leq_w_177178 && zzero_lte_i_177179;
                bool y_177182 = zzero_leq_i_p_m_t_s_177177 && y_177181;
                bool forwards_ok_177183 = i_lte_j_177180 && y_177182;
                bool ok_or_empty_177184 = empty_slice_177169 || forwards_ok_177183;
                bool index_certs_177185;
                
                if (!ok_or_empty_177184) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176496, ":", (long long) ind_top_176497, "] out of bounds for array of shape [", (long long) window_sizze_141896, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178049 = p_175206 + index_concat_branch_178073;
                
                if (memblock_alloc(ctx, &mem_180748, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "mem_180748")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182240 = 0; nest_i_182240 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; nest_i_182240++) {
                    ((int8_t *) mem_180748.mem)[nest_i_182240] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180750, bytes_180749, "mem_180750")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182241 = 0; i_182241 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; i_182241++) {
                    int64_t x_182242 = index_concat_branch_178073 + i_182241 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[i_182241] = x_182242;
                }
                
                int64_t slice_178048 = p_175207 + index_concat_branch_178067;
                
                for (int64_t nest_i_182243 = 0; nest_i_182243 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; nest_i_182243++) {
                    ((int8_t *) mem_180748.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + nest_i_182243] = (int8_t) 1;
                }
                for (int64_t i_182244 = 0; i_182244 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; i_182244++) {
                    int64_t x_182245 = index_concat_branch_178067 + i_182244 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + i_182244] = x_182245;
                }
                
                int64_t tmp_offs_182246 = (int64_t) 0;
                
                if (!(tmp_offs_182246 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182246 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t tmp_offs_182247 = (int64_t) 0;
                
                if (!(tmp_offs_182247 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182247 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                if (memblock_alloc(ctx, &mem_180752, bytes_180749, "mem_180752")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182248 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, slice_178049, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, slice_178048, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t flat_dim_176559 = smallest_pow_2_geq_than_res_176548 * block_sizze_176558;
                bool x_181897 = !cond_176542;
                int64_t greatest_divisor_leq_than_arg1_176563 = mul64((int64_t) 2, block_sizze_176558);
                int64_t merge_block_sizze_176564;
                
                if (x_181897) {
                    int64_t x_181899;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181899, (int64_t) 8, greatest_divisor_leq_than_arg1_176563) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176564 = x_181899;
                } else {
                    merge_block_sizze_176564 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178043 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 0);
                int8_t index_concat_branch_178047 = btoi_bool_i8(index_concat_cmp_178043);
                int64_t index_concat_i_179868 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t index_primexp_179869 = add64(index_concat_branch_178067, index_concat_i_179868);
                int64_t index_concat_branch_178041;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178041 = index_primexp_179869;
                } else {
                    index_concat_branch_178041 = index_concat_branch_178073;
                }
                
                bool x_181893 = !index_concat_cmp_178043;
                bool protect_cond_conj_181903 = x_181893 && x_181897;
                int64_t index_concat_178034;
                
                if (protect_cond_conj_181903) {
                    int64_t x_181895 = ((int64_t *) a_list_mem_180696.mem)[slice_178049];
                    
                    index_concat_178034 = x_181895;
                } else {
                    index_concat_178034 = (int64_t) 0;
                }
                
                int64_t slice_179871 = slice_178048 + index_concat_i_179868;
                bool protect_cond_conj_181904 = index_concat_cmp_178043 && x_181897;
                int64_t index_concat_179872;
                
                if (protect_cond_conj_181904) {
                    int64_t x_181891 = ((int64_t *) b_list_mem_180697.mem)[slice_179871];
                    
                    index_concat_179872 = x_181891;
                } else {
                    index_concat_179872 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178035;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178035 = index_concat_179872;
                } else {
                    index_concat_branch_178035 = index_concat_178034;
                }
                
                int8_t defunc_0_reduce_res_180103;
                int64_t defunc_0_reduce_res_180104;
                int64_t defunc_0_reduce_res_180105;
                
                if (x_181897) {
                    int8_t x_181905;
                    int64_t x_181906;
                    int64_t x_181907;
                    int8_t redout_180449;
                    int64_t redout_180450;
                    int64_t redout_180451;
                    
                    redout_180449 = index_concat_branch_178047;
                    redout_180450 = index_concat_branch_178041;
                    redout_180451 = index_concat_branch_178035;
                    for (int64_t i_180452 = 0; i_180452 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495; i_180452++) {
                        bool index_concat_cmp_180656 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, i_180452);
                        int8_t index_concat_branch_180660 = btoi_bool_i8(index_concat_cmp_180656);
                        int64_t index_concat_branch_180654;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180651 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t index_primexp_180678 = add64(index_concat_branch_178067, index_concat_i_180651);
                            
                            index_concat_branch_180654 = index_primexp_180678;
                        } else {
                            int64_t index_primexp_180680 = add64(index_concat_branch_178073, i_180452);
                            
                            index_concat_branch_180654 = index_primexp_180680;
                        }
                        
                        int64_t index_concat_branch_180648;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180645 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t slice_180675 = slice_178048 + index_concat_i_180645;
                            int64_t index_concat_180646 = ((int64_t *) b_list_mem_180697.mem)[slice_180675];
                            
                            index_concat_branch_180648 = index_concat_180646;
                        } else {
                            int64_t slice_180676 = slice_178049 + i_180452;
                            int64_t index_concat_180647 = ((int64_t *) a_list_mem_180696.mem)[slice_180676];
                            
                            index_concat_branch_180648 = index_concat_180647;
                        }
                        
                        bool eq_x_y_180691 = redout_180449 == (int8_t) 1;
                        bool eq_x_zz_180692 = redout_180449 == (int8_t) 0;
                        bool p_and_eq_x_y_180693 = index_concat_cmp_180656 && eq_x_y_180691;
                        bool not_p_180694 = !index_concat_cmp_180656;
                        bool p_and_eq_x_y_180695 = eq_x_zz_180692 && not_p_180694;
                        bool cond_176582 = p_and_eq_x_y_180693 || p_and_eq_x_y_180695;
                        bool defunc_0_leq_res_t_res_176583 = sle64(redout_180450, index_concat_branch_180654);
                        bool defunc_0_leq_res_176584 = sle64(redout_180451, index_concat_branch_180648);
                        bool x_176585 = cond_176582 && defunc_0_leq_res_t_res_176583;
                        bool x_176586 = !cond_176582;
                        bool y_176587 = defunc_0_leq_res_176584 && x_176586;
                        bool defunc_0_leq_res_176588 = x_176585 || y_176587;
                        int8_t defunc_0_op_res_176589;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176589 = index_concat_branch_180660;
                        } else {
                            defunc_0_op_res_176589 = redout_180449;
                        }
                        
                        int64_t defunc_0_op_res_176590;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176590 = index_concat_branch_180654;
                        } else {
                            defunc_0_op_res_176590 = redout_180450;
                        }
                        
                        int64_t defunc_0_op_res_176591;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176591 = index_concat_branch_180648;
                        } else {
                            defunc_0_op_res_176591 = redout_180451;
                        }
                        
                        int8_t redout_tmp_182249 = defunc_0_op_res_176589;
                        int64_t redout_tmp_182250 = defunc_0_op_res_176590;
                        int64_t redout_tmp_182251 = defunc_0_op_res_176591;
                        
                        redout_180449 = redout_tmp_182249;
                        redout_180450 = redout_tmp_182250;
                        redout_180451 = redout_tmp_182251;
                    }
                    x_181905 = redout_180449;
                    x_181906 = redout_180450;
                    x_181907 = redout_180451;
                    defunc_0_reduce_res_180103 = x_181905;
                    defunc_0_reduce_res_180104 = x_181906;
                    defunc_0_reduce_res_180105 = x_181907;
                } else {
                    defunc_0_reduce_res_180103 = (int8_t) 0;
                    defunc_0_reduce_res_180104 = (int64_t) 0;
                    defunc_0_reduce_res_180105 = (int64_t) 0;
                }
                
                int64_t distance_176603 = add64((int64_t) 1, tmp_176601);
                int64_t binop_x_180755 = (int64_t) 8 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180756 = block_sizze_176558 * binop_x_180755;
                int64_t bytes_180774 = (int64_t) 8 * block_sizze_176558;
                bool loop_cond_176712 = slt64(block_sizze_176558, flat_dim_176559);
                bool zzero_176713 = merge_block_sizze_176564 == (int64_t) 0;
                bool nonzzero_176714 = !zzero_176713;
                
                if (cond_176542) {
                    if (memblock_set(ctx, &ext_mem_181047, &mem_180748, "mem_180748") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &mem_180750, "mem_180750") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &mem_180752, "mem_180752") != 0)
                        return 1;
                } else {
                    if (mem_180754_cached_sizze_182602 < flat_dim_176559) {
                        err = lexical_realloc(ctx, &mem_180754, &mem_180754_cached_sizze_182602, flat_dim_176559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180757_cached_sizze_182603 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180757, &mem_180757_cached_sizze_182603, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180760_cached_sizze_182604 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180760, &mem_180760_cached_sizze_182604, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180773_cached_sizze_182605 < block_sizze_176558) {
                        err = lexical_realloc(ctx, &mem_180773, &mem_180773_cached_sizze_182605, block_sizze_176558);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180775_cached_sizze_182606 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182606, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180777_cached_sizze_182607 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180777, &mem_180777_cached_sizze_182607, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180469 = 0; i_180469 < smallest_pow_2_geq_than_res_176548; i_180469++) {
                        int64_t zp_lhs_176611 = mul64(block_sizze_176558, i_180469);
                        
                        for (int64_t i_180459 = 0; i_180459 < block_sizze_176558; i_180459++) {
                            int64_t k_176616 = add64(zp_lhs_176611, i_180459);
                            bool cond_176617 = slt64(k_176616, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                            int8_t lifted_lambda_res_176618;
                            int64_t lifted_lambda_res_176619;
                            int64_t lifted_lambda_res_176620;
                            
                            if (cond_176617) {
                                bool x_179878 = sle64((int64_t) 0, k_176616);
                                bool bounds_check_179879 = cond_176617 && x_179878;
                                bool index_certs_179880;
                                
                                if (!bounds_check_179879) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176616, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179881 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, k_176616);
                                int8_t index_concat_branch_179882 = btoi_bool_i8(index_concat_cmp_179881);
                                int64_t index_concat_branch_179883;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179884 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t index_primexp_179885 = add64(index_concat_branch_178067, index_concat_i_179884);
                                    
                                    index_concat_branch_179883 = index_primexp_179885;
                                } else {
                                    int64_t index_primexp_179886 = add64(k_176616, index_concat_branch_178073);
                                    
                                    index_concat_branch_179883 = index_primexp_179886;
                                }
                                
                                int64_t index_concat_branch_179887;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179888 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t slice_179889 = slice_178048 + index_concat_i_179888;
                                    int64_t index_concat_179890 = ((int64_t *) b_list_mem_180697.mem)[slice_179889];
                                    
                                    index_concat_branch_179887 = index_concat_179890;
                                } else {
                                    int64_t slice_179891 = k_176616 + slice_178049;
                                    int64_t index_concat_179892 = ((int64_t *) a_list_mem_180696.mem)[slice_179891];
                                    
                                    index_concat_branch_179887 = index_concat_179892;
                                }
                                lifted_lambda_res_176618 = index_concat_branch_179882;
                                lifted_lambda_res_176619 = index_concat_branch_179883;
                                lifted_lambda_res_176620 = index_concat_branch_179887;
                            } else {
                                lifted_lambda_res_176618 = defunc_0_reduce_res_180103;
                                lifted_lambda_res_176619 = defunc_0_reduce_res_180104;
                                lifted_lambda_res_176620 = defunc_0_reduce_res_180105;
                            }
                            ((int8_t *) mem_180773)[i_180459] = lifted_lambda_res_176618;
                            ((int64_t *) mem_180775)[i_180459] = lifted_lambda_res_176619;
                            ((int64_t *) mem_180777)[i_180459] = lifted_lambda_res_176620;
                        }
                        if (!cond_176600) {
                            for (int64_t i_176633 = 0; i_176633 < distance_176603; i_176633++) {
                                int64_t gt_arg1_176637 = add64((int64_t) 1, i_176633);
                                bool x_176638 = sle64((int64_t) 0, gt_arg1_176637);
                                bool y_176639 = slt64(gt_arg1_176637, block_sizze_176558);
                                bool bounds_check_176640 = x_176638 && y_176639;
                                bool index_certs_176641;
                                
                                if (!bounds_check_176640) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176637, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176645 = slt64(i_176633, block_sizze_176558);
                                bool index_certs_176646;
                                
                                if (!y_176645) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176633, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176642 = ((int8_t *) mem_180773)[gt_arg1_176637];
                                int64_t gt_arg1_176643 = ((int64_t *) mem_180775)[gt_arg1_176637];
                                int64_t gt_arg1_176644 = ((int64_t *) mem_180777)[gt_arg1_176637];
                                int8_t gt_arg0_176647 = ((int8_t *) mem_180773)[i_176633];
                                int64_t gt_arg0_176648 = ((int64_t *) mem_180775)[i_176633];
                                int64_t gt_arg0_176649 = ((int64_t *) mem_180777)[i_176633];
                                bool cond_176650 = gt_arg0_176647 == gt_arg1_176642;
                                bool defunc_0_leq_res_t_res_176651 = sle64(gt_arg0_176648, gt_arg1_176643);
                                bool defunc_0_leq_res_176652 = sle64(gt_arg0_176649, gt_arg1_176644);
                                bool x_176653 = cond_176650 && defunc_0_leq_res_t_res_176651;
                                bool x_176654 = !cond_176650;
                                bool y_176655 = defunc_0_leq_res_176652 && x_176654;
                                bool defunc_0_leq_res_176656 = x_176653 || y_176655;
                                bool defunc_0_lifted_gt_res_176657 = !defunc_0_leq_res_176656;
                                bool s_176658;
                                int64_t s_176662;
                                bool loop_while_176663;
                                int64_t j_176667;
                                
                                loop_while_176663 = defunc_0_lifted_gt_res_176657;
                                j_176667 = i_176633;
                                while (loop_while_176663) {
                                    bool x_176668 = sle64((int64_t) 0, j_176667);
                                    bool y_176669 = slt64(j_176667, block_sizze_176558);
                                    bool bounds_check_176670 = x_176668 && y_176669;
                                    bool index_certs_176671;
                                    
                                    if (!bounds_check_176670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176667, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176675 = add64((int64_t) 1, j_176667);
                                    bool x_176676 = sle64((int64_t) 0, copy_arg0_176675);
                                    bool y_176677 = slt64(copy_arg0_176675, block_sizze_176558);
                                    bool bounds_check_176678 = x_176676 && y_176677;
                                    bool index_certs_176679;
                                    
                                    if (!bounds_check_176678) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176675, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176672 = ((int8_t *) mem_180773)[j_176667];
                                    int64_t copy_arg0_176673 = ((int64_t *) mem_180775)[j_176667];
                                    int64_t copy_arg0_176674 = ((int64_t *) mem_180777)[j_176667];
                                    int8_t copy_arg0_176680 = ((int8_t *) mem_180773)[copy_arg0_176675];
                                    int64_t copy_arg0_176681 = ((int64_t *) mem_180775)[copy_arg0_176675];
                                    int64_t copy_arg0_176682 = ((int64_t *) mem_180777)[copy_arg0_176675];
                                    
                                    ((int8_t *) mem_180773)[j_176667] = copy_arg0_176680;
                                    ((int64_t *) mem_180775)[j_176667] = copy_arg0_176681;
                                    ((int64_t *) mem_180777)[j_176667] = copy_arg0_176682;
                                    ((int8_t *) mem_180773)[copy_arg0_176675] = copy_arg0_176672;
                                    ((int64_t *) mem_180775)[copy_arg0_176675] = copy_arg0_176673;
                                    ((int64_t *) mem_180777)[copy_arg0_176675] = copy_arg0_176674;
                                    
                                    int64_t tmp_176689 = sub64(j_176667, (int64_t) 1);
                                    bool cond_176690 = sle64((int64_t) 0, tmp_176689);
                                    bool loop_cond_176691;
                                    
                                    if (cond_176690) {
                                        bool y_179896 = slt64(tmp_176689, block_sizze_176558);
                                        bool bounds_check_179897 = cond_176690 && y_179896;
                                        bool index_certs_179898;
                                        
                                        if (!bounds_check_179897) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176689, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179893 = ((int8_t *) mem_180773)[j_176667];
                                        int64_t gt_arg1_179894 = ((int64_t *) mem_180775)[j_176667];
                                        int64_t gt_arg1_179895 = ((int64_t *) mem_180777)[j_176667];
                                        int8_t gt_arg0_179899 = ((int8_t *) mem_180773)[tmp_176689];
                                        int64_t gt_arg0_179900 = ((int64_t *) mem_180775)[tmp_176689];
                                        int64_t gt_arg0_179901 = ((int64_t *) mem_180777)[tmp_176689];
                                        bool cond_179902 = gt_arg0_179899 == gt_arg1_179893;
                                        bool defunc_0_leq_res_t_res_179903 = sle64(gt_arg0_179900, gt_arg1_179894);
                                        bool defunc_0_leq_res_179904 = sle64(gt_arg0_179901, gt_arg1_179895);
                                        bool x_179905 = cond_179902 && defunc_0_leq_res_t_res_179903;
                                        bool x_179906 = !cond_179902;
                                        bool y_179907 = defunc_0_leq_res_179904 && x_179906;
                                        bool defunc_0_leq_res_179908 = x_179905 || y_179907;
                                        bool defunc_0_lifted_gt_res_179909 = !defunc_0_leq_res_179908;
                                        
                                        loop_cond_176691 = defunc_0_lifted_gt_res_179909;
                                    } else {
                                        loop_cond_176691 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182261 = loop_cond_176691;
                                    int64_t j_tmp_182265 = tmp_176689;
                                    
                                    loop_while_176663 = loop_while_tmp_182261;
                                    j_176667 = j_tmp_182265;
                                }
                                s_176658 = loop_while_176663;
                                s_176662 = j_176667;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180754, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180773, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180757, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180775, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180760, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180777, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                    }
                    if (memblock_alloc(ctx, &mem_180854, flat_dim_176559, "mem_180854")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180854.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint8_t *) mem_180754, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180858, bytes_180756, "mem_180858")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180858.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180757, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180862, bytes_180756, "mem_180862")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180862.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180760, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    
                    int64_t data_176715;
                    bool data_176716;
                    int64_t data_176720;
                    int64_t loop_dz2084Uz2082U_176721;
                    bool loop_while_176722;
                    int64_t stride_176726;
                    
                    if (memblock_set(ctx, &mem_param_180866, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180869, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180872, &mem_180862, "mem_180862") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176721 = flat_dim_176559;
                    loop_while_176722 = loop_cond_176712;
                    stride_176726 = block_sizze_176558;
                    while (loop_while_176722) {
                        int64_t next_stride_176727 = mul64((int64_t) 2, stride_176726);
                        bool zzero_176728 = next_stride_176727 == (int64_t) 0;
                        bool nonzzero_176729 = !zzero_176728;
                        bool nonzzero_cert_176730;
                        
                        if (!nonzzero_176729) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176731 = sdiv64(flat_dim_176559, next_stride_176727);
                        bool bounds_invalid_upwards_176732 = slt64(num_merges_176731, (int64_t) 0);
                        bool valid_176733 = !bounds_invalid_upwards_176732;
                        bool range_valid_c_176734;
                        
                        if (!valid_176733) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176731, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176736 = sub64(next_stride_176727, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176737 = sle64((int64_t) 0, m_176736);
                        bool cond_176739 = slt64(next_stride_176727, (int64_t) 10);
                        bool protect_assert_disj_176740 = nonzzero_176714 || cond_176739;
                        bool nonzzero_cert_176741;
                        
                        if (!protect_assert_disj_176740) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176742 = smod_safe64(next_stride_176727, merge_block_sizze_176564);
                        bool num_blocks_176743 = zeze_lhs_176742 == (int64_t) 0;
                        bool protect_assert_disj_176744 = cond_176739 || num_blocks_176743;
                        bool assert_c_176745;
                        
                        if (!protect_assert_disj_176744) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176747 = sdiv_safe64(next_stride_176727, merge_block_sizze_176564);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748 = add64((int64_t) 1, num_blocks_176747);
                        int64_t j_m_i_176749 = sub64(next_stride_176727, stride_176726);
                        int64_t flat_dim_176750 = merge_block_sizze_176564 * num_blocks_176747;
                        bool bounds_invalid_upwards_176751 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, (int64_t) 0);
                        bool empty_slice_176752 = j_m_i_176749 == (int64_t) 0;
                        int64_t m_176753 = sub64(j_m_i_176749, (int64_t) 1);
                        bool zzero_lte_i_176754 = sle64((int64_t) 0, stride_176726);
                        bool i_lte_j_176755 = sle64(stride_176726, next_stride_176727);
                        bool empty_slice_176756 = stride_176726 == (int64_t) 0;
                        int64_t m_176757 = sub64(stride_176726, (int64_t) 1);
                        bool bounds_invalid_upwards_176758 = slt64(num_blocks_176747, (int64_t) 0);
                        bool cond_176759 = slt64((int64_t) 0, stride_176726);
                        bool valid_176760 = !bounds_invalid_upwards_176751;
                        int64_t i_p_m_t_s_176761 = add64(stride_176726, m_176753);
                        bool zzero_leq_i_p_m_t_s_176762 = sle64((int64_t) 0, m_176757);
                        bool i_p_m_t_s_leq_w_176763 = slt64(m_176757, next_stride_176727);
                        bool valid_176764 = !bounds_invalid_upwards_176758;
                        bool i_p_m_t_s_leq_w_176765 = slt64(m_176736, flat_dim_176750);
                        bool y_176766 = slt64((int64_t) 0, j_m_i_176749);
                        bool protect_assert_disj_176767 = cond_176739 || valid_176760;
                        bool range_valid_c_176768;
                        
                        if (!protect_assert_disj_176767) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176769 = sle64((int64_t) 0, i_p_m_t_s_176761);
                        bool i_p_m_t_s_leq_w_176770 = slt64(i_p_m_t_s_176761, next_stride_176727);
                        bool y_176771 = zzero_leq_i_p_m_t_s_176762 && i_p_m_t_s_leq_w_176763;
                        bool protect_assert_disj_176772 = cond_176739 || valid_176764;
                        bool range_valid_c_176773;
                        
                        if (!protect_assert_disj_176772) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176747, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176774 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176765;
                        bool y_176775 = zzero_lte_i_176754 && i_p_m_t_s_leq_w_176770;
                        bool forwards_ok_176776 = zzero_lte_i_176754 && y_176771;
                        bool ok_or_empty_176777 = zzero_176728 || y_176774;
                        bool protect_assert_disj_176778 = cond_176759 || y_176766;
                        bool y_176779 = zzero_leq_i_p_m_t_s_176769 && y_176775;
                        bool ok_or_empty_176780 = empty_slice_176756 || forwards_ok_176776;
                        bool protect_assert_disj_176781 = cond_176739 || ok_or_empty_176777;
                        bool index_certs_176782;
                        
                        if (!protect_assert_disj_176781) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) flat_dim_176750, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176783 = !cond_176739;
                        bool protect_assert_disj_176784 = protect_assert_disj_176778 || loop_not_taken_176783;
                        bool index_certs_176785;
                        
                        if (!protect_assert_disj_176784) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176786 = i_lte_j_176755 && y_176779;
                        bool protect_assert_disj_176787 = cond_176739 || ok_or_empty_176780;
                        bool index_certs_176788;
                        
                        if (!protect_assert_disj_176787) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176789 = ok_or_empty_176780 || loop_not_taken_176783;
                        bool index_certs_176790;
                        
                        if (!protect_assert_disj_176789) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176791 = empty_slice_176752 || forwards_ok_176786;
                        bool protect_assert_disj_176792 = cond_176739 || ok_or_empty_176791;
                        bool index_certs_176793;
                        
                        if (!protect_assert_disj_176792) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176794 = loop_not_taken_176783 || ok_or_empty_176791;
                        bool index_certs_176795;
                        
                        if (!protect_assert_disj_176794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180873 = next_stride_176727 * num_merges_176731;
                        int64_t binop_x_180875 = (int64_t) 8 * num_merges_176731;
                        int64_t bytes_180876 = next_stride_176727 * binop_x_180875;
                        bool i_lte_j_176738 = sle64((int64_t) 0, next_stride_176727);
                        
                        if (mem_180874_cached_sizze_182608 < bytes_180873) {
                            err = lexical_realloc(ctx, &mem_180874, &mem_180874_cached_sizze_182608, bytes_180873);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180877_cached_sizze_182609 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180877, &mem_180877_cached_sizze_182609, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180880_cached_sizze_182610 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180880, &mem_180880_cached_sizze_182610, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180893 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748;
                        int64_t binop_x_180911 = (int64_t) 8 * num_blocks_176747;
                        int64_t bytes_180912 = merge_block_sizze_176564 * binop_x_180911;
                        int64_t bytes_180976 = (int64_t) 16 * stride_176726;
                        
                        for (int64_t i_180496 = 0; i_180496 < num_merges_176731; i_180496++) {
                            int64_t start_176800 = mul64(next_stride_176727, i_180496);
                            int64_t j_m_i_176801 = sub64(loop_dz2084Uz2082U_176721, start_176800);
                            bool empty_slice_176802 = j_m_i_176801 == (int64_t) 0;
                            int64_t m_176803 = sub64(j_m_i_176801, (int64_t) 1);
                            int64_t i_p_m_t_s_176804 = add64(start_176800, m_176803);
                            bool zzero_leq_i_p_m_t_s_176805 = sle64((int64_t) 0, i_p_m_t_s_176804);
                            bool i_p_m_t_s_leq_w_176806 = slt64(i_p_m_t_s_176804, loop_dz2084Uz2082U_176721);
                            bool zzero_lte_i_176807 = sle64((int64_t) 0, start_176800);
                            bool i_lte_j_176808 = sle64(start_176800, loop_dz2084Uz2082U_176721);
                            bool y_176809 = i_p_m_t_s_leq_w_176806 && zzero_lte_i_176807;
                            bool y_176810 = zzero_leq_i_p_m_t_s_176805 && y_176809;
                            bool forwards_ok_176811 = i_lte_j_176808 && y_176810;
                            bool ok_or_empty_176812 = empty_slice_176802 || forwards_ok_176811;
                            bool index_certs_176813;
                            
                            if (!ok_or_empty_176812) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176800, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176721, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176814 = slt64(m_176736, j_m_i_176801);
                            bool y_176815 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176814;
                            bool forwards_ok_176816 = i_lte_j_176738 && y_176815;
                            bool ok_or_empty_176817 = zzero_176728 || forwards_ok_176816;
                            bool index_certs_176818;
                            
                            if (!ok_or_empty_176817) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) j_m_i_176801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176739) {
                                int8_t dummy_179948;
                                int64_t dummy_179949;
                                int64_t dummy_179950;
                                
                                if (cond_176759) {
                                    int8_t head_res_179951 = ((int8_t *) mem_param_180866.mem)[start_176800];
                                    int64_t head_res_179952 = ((int64_t *) mem_param_180869.mem)[start_176800];
                                    int64_t head_res_179953 = ((int64_t *) mem_param_180872.mem)[start_176800];
                                    
                                    dummy_179948 = head_res_179951;
                                    dummy_179949 = head_res_179952;
                                    dummy_179950 = head_res_179953;
                                } else {
                                    int64_t slice_179954 = stride_176726 + start_176800;
                                    int8_t head_res_179955 = ((int8_t *) mem_param_180866.mem)[slice_179954];
                                    int64_t head_res_179956 = ((int64_t *) mem_param_180869.mem)[slice_179954];
                                    int64_t head_res_179957 = ((int64_t *) mem_param_180872.mem)[slice_179954];
                                    
                                    dummy_179948 = head_res_179955;
                                    dummy_179949 = head_res_179956;
                                    dummy_179950 = head_res_179957;
                                }
                                if (memblock_alloc(ctx, &mem_180975, next_stride_176727, "mem_180975")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182278 = 0; nest_i_182278 < next_stride_176727; nest_i_182278++) {
                                    ((int8_t *) mem_180975.mem)[nest_i_182278] = dummy_179948;
                                }
                                if (memblock_alloc(ctx, &mem_180977, bytes_180976, "mem_180977")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182279 = 0; nest_i_182279 < next_stride_176727; nest_i_182279++) {
                                    ((int64_t *) mem_180977.mem)[nest_i_182279] = dummy_179949;
                                }
                                if (memblock_alloc(ctx, &mem_180979, bytes_180976, "mem_180979")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182280 = 0; nest_i_182280 < next_stride_176727; nest_i_182280++) {
                                    ((int64_t *) mem_180979.mem)[nest_i_182280] = dummy_179950;
                                }
                                
                                int64_t data_179961;
                                int64_t i_179966 = (int64_t) 0;
                                
                                for (int64_t k_179965 = 0; k_179965 < next_stride_176727; k_179965++) {
                                    int64_t j_179970 = sub64(k_179965, i_179966);
                                    bool cond_179971 = j_179970 == j_m_i_176749;
                                    bool cond_179972;
                                    
                                    if (cond_179971) {
                                        cond_179972 = 1;
                                    } else {
                                        bool cond_179973 = slt64(i_179966, stride_176726);
                                        bool cond_f_res_179974;
                                        
                                        if (cond_179973) {
                                            bool x_179975 = sle64((int64_t) 0, j_179970);
                                            bool y_179976 = slt64(j_179970, j_m_i_176749);
                                            bool bounds_check_179977 = x_179975 && y_179976;
                                            bool index_certs_179978;
                                            
                                            if (!bounds_check_179977) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179984 = sle64((int64_t) 0, i_179966);
                                            bool bounds_check_179985 = cond_179973 && x_179984;
                                            bool index_certs_179986;
                                            
                                            if (!bounds_check_179985) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179979 = stride_176726 + j_179970;
                                            int64_t slice_179980 = start_176800 + slice_179979;
                                            int8_t leq_arg1_179981 = ((int8_t *) mem_param_180866.mem)[slice_179980];
                                            int64_t leq_arg1_179982 = ((int64_t *) mem_param_180869.mem)[slice_179980];
                                            int64_t leq_arg1_179983 = ((int64_t *) mem_param_180872.mem)[slice_179980];
                                            int64_t slice_179987 = start_176800 + i_179966;
                                            int8_t leq_arg0_179988 = ((int8_t *) mem_param_180866.mem)[slice_179987];
                                            int64_t leq_arg0_179989 = ((int64_t *) mem_param_180869.mem)[slice_179987];
                                            int64_t leq_arg0_179990 = ((int64_t *) mem_param_180872.mem)[slice_179987];
                                            bool cond_179991 = leq_arg0_179988 == leq_arg1_179981;
                                            bool defunc_0_leq_res_t_res_179992 = sle64(leq_arg0_179989, leq_arg1_179982);
                                            bool defunc_0_leq_res_179993 = sle64(leq_arg0_179990, leq_arg1_179983);
                                            bool x_179994 = cond_179991 && defunc_0_leq_res_t_res_179992;
                                            bool x_179995 = !cond_179991;
                                            bool y_179996 = defunc_0_leq_res_179993 && x_179995;
                                            bool defunc_0_leq_res_179997 = x_179994 || y_179996;
                                            
                                            cond_f_res_179974 = defunc_0_leq_res_179997;
                                        } else {
                                            cond_f_res_179974 = 0;
                                        }
                                        cond_179972 = cond_f_res_179974;
                                    }
                                    
                                    int64_t loopres_179998;
                                    int8_t loopres_179999;
                                    int64_t loopres_180000;
                                    int64_t loopres_180001;
                                    
                                    if (cond_179972) {
                                        bool x_180003 = sle64((int64_t) 0, i_179966);
                                        bool y_180004 = slt64(i_179966, stride_176726);
                                        bool bounds_check_180005 = x_180003 && y_180004;
                                        bool index_certs_180006;
                                        
                                        if (!bounds_check_180005) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180002 = add64((int64_t) 1, i_179966);
                                        int64_t slice_180007 = start_176800 + i_179966;
                                        int8_t tmp_180008 = ((int8_t *) mem_param_180866.mem)[slice_180007];
                                        int64_t tmp_180009 = ((int64_t *) mem_param_180869.mem)[slice_180007];
                                        int64_t tmp_180010 = ((int64_t *) mem_param_180872.mem)[slice_180007];
                                        
                                        loopres_179998 = tmp_180002;
                                        loopres_179999 = tmp_180008;
                                        loopres_180000 = tmp_180009;
                                        loopres_180001 = tmp_180010;
                                    } else {
                                        bool x_180011 = sle64((int64_t) 0, j_179970);
                                        bool y_180012 = slt64(j_179970, j_m_i_176749);
                                        bool bounds_check_180013 = x_180011 && y_180012;
                                        bool index_certs_180014;
                                        
                                        if (!bounds_check_180013) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180015 = stride_176726 + j_179970;
                                        int64_t slice_180016 = start_176800 + slice_180015;
                                        int8_t tmp_180017 = ((int8_t *) mem_param_180866.mem)[slice_180016];
                                        int64_t tmp_180018 = ((int64_t *) mem_param_180869.mem)[slice_180016];
                                        int64_t tmp_180019 = ((int64_t *) mem_param_180872.mem)[slice_180016];
                                        
                                        loopres_179998 = i_179966;
                                        loopres_179999 = tmp_180017;
                                        loopres_180000 = tmp_180018;
                                        loopres_180001 = tmp_180019;
                                    }
                                    ((int8_t *) mem_180975.mem)[k_179965] = loopres_179999;
                                    ((int64_t *) mem_180977.mem)[k_179965] = loopres_180000;
                                    ((int64_t *) mem_180979.mem)[k_179965] = loopres_180001;
                                    
                                    int64_t i_tmp_182281 = loopres_179998;
                                    
                                    i_179966 = i_tmp_182281;
                                }
                                data_179961 = i_179966;
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180975, "mem_180975") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180977, "mem_180977") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180979, "mem_180979") != 0)
                                    return 1;
                            } else {
                                if (mem_180894_cached_sizze_182611 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180894, &mem_180894_cached_sizze_182611, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180896_cached_sizze_182612 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180896, &mem_180896_cached_sizze_182612, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180477 = 0; i_180477 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748; i_180477++) {
                                    int64_t split_count_arg3_176901 = mul64(merge_block_sizze_176564, i_180477);
                                    int64_t defunc_0_split_count_res_176902;
                                    int64_t defunc_0_split_count_res_176903;
                                    int64_t defunc_0_split_count_res_176904;
                                    int64_t defunc_0_split_count_res_176905;
                                    int64_t defunc_0_split_count_res_176906;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_176902, &defunc_0_split_count_res_176903, &defunc_0_split_count_res_176904, &defunc_0_split_count_res_176905, &defunc_0_split_count_res_176906, (int64_t) 0, stride_176726, (int64_t) 0, j_m_i_176749, split_count_arg3_176901) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176907 = slt64((int64_t) 0, defunc_0_split_count_res_176906);
                                    bool defunc_0_split_count_res_176908;
                                    int64_t defunc_0_split_count_res_176909;
                                    int64_t defunc_0_split_count_res_176910;
                                    int64_t defunc_0_split_count_res_176911;
                                    int64_t defunc_0_split_count_res_176912;
                                    int64_t defunc_0_split_count_res_176913;
                                    bool loop_while_176914;
                                    int64_t ss_176915;
                                    int64_t ss_176916;
                                    int64_t tt_176917;
                                    int64_t tt_176918;
                                    int64_t count_176919;
                                    
                                    loop_while_176914 = loop_cond_176907;
                                    ss_176915 = defunc_0_split_count_res_176902;
                                    ss_176916 = defunc_0_split_count_res_176903;
                                    tt_176917 = defunc_0_split_count_res_176904;
                                    tt_176918 = defunc_0_split_count_res_176905;
                                    count_176919 = defunc_0_split_count_res_176906;
                                    while (loop_while_176914) {
                                        int64_t zlze_lhs_176920 = sub64(ss_176916, ss_176915);
                                        bool cond_176921 = sle64(zlze_lhs_176920, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176922;
                                        int64_t defunc_0_lifted_step_res_176923;
                                        int64_t defunc_0_lifted_step_res_176924;
                                        int64_t defunc_0_lifted_step_res_176925;
                                        
                                        if (cond_176921) {
                                            int64_t tmp_180023 = add64(tt_176917, count_176919);
                                            
                                            defunc_0_lifted_step_res_176922 = ss_176915;
                                            defunc_0_lifted_step_res_176923 = tmp_180023;
                                            defunc_0_lifted_step_res_176924 = tt_176918;
                                            defunc_0_lifted_step_res_176925 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176927 = sub64(tt_176918, tt_176917);
                                            bool cond_176928 = sle64(zlze_lhs_176927, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176929;
                                            int64_t defunc_0_lifted_step_res_f_res_176930;
                                            int64_t defunc_0_lifted_step_res_f_res_176931;
                                            int64_t defunc_0_lifted_step_res_f_res_176932;
                                            
                                            if (cond_176928) {
                                                int64_t tmp_180024 = add64(ss_176915, count_176919);
                                                
                                                defunc_0_lifted_step_res_f_res_176929 = tmp_180024;
                                                defunc_0_lifted_step_res_f_res_176930 = tt_176917;
                                                defunc_0_lifted_step_res_f_res_176931 = tt_176918;
                                                defunc_0_lifted_step_res_f_res_176932 = (int64_t) 0;
                                            } else {
                                                bool cond_176934 = count_176919 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176935;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176936;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176937;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176938;
                                                
                                                if (cond_176934) {
                                                    bool x_180026 = sle64((int64_t) 0, ss_176915);
                                                    bool y_180027 = slt64(ss_176915, stride_176726);
                                                    bool bounds_check_180028 = x_180026 && y_180027;
                                                    bool index_certs_180029;
                                                    
                                                    if (!bounds_check_180028) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176915, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180034 = sle64((int64_t) 0, tt_176917);
                                                    bool y_180035 = slt64(tt_176917, j_m_i_176749);
                                                    bool bounds_check_180036 = x_180034 && y_180035;
                                                    bool index_certs_180037;
                                                    
                                                    if (!bounds_check_180036) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176917, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180030 = start_176800 + ss_176915;
                                                    int8_t leq_arg1_180031 = ((int8_t *) mem_param_180866.mem)[slice_180030];
                                                    int64_t leq_arg1_180032 = ((int64_t *) mem_param_180869.mem)[slice_180030];
                                                    int64_t leq_arg1_180033 = ((int64_t *) mem_param_180872.mem)[slice_180030];
                                                    int64_t slice_180038 = stride_176726 + tt_176917;
                                                    int64_t slice_180039 = start_176800 + slice_180038;
                                                    int8_t leq_arg0_180040 = ((int8_t *) mem_param_180866.mem)[slice_180039];
                                                    int64_t leq_arg0_180041 = ((int64_t *) mem_param_180869.mem)[slice_180039];
                                                    int64_t leq_arg0_180042 = ((int64_t *) mem_param_180872.mem)[slice_180039];
                                                    bool cond_180043 = leq_arg0_180040 == leq_arg1_180031;
                                                    bool defunc_0_leq_res_t_res_180044 = sle64(leq_arg0_180041, leq_arg1_180032);
                                                    bool defunc_0_leq_res_180045 = sle64(leq_arg0_180042, leq_arg1_180033);
                                                    bool x_180046 = cond_180043 && defunc_0_leq_res_t_res_180044;
                                                    bool x_180047 = !cond_180043;
                                                    bool y_180048 = defunc_0_leq_res_180045 && x_180047;
                                                    bool defunc_0_leq_res_180049 = x_180046 || y_180048;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    
                                                    if (defunc_0_leq_res_180049) {
                                                        int64_t tmp_180052 = add64((int64_t) 1, tt_176917);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = ss_176915;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tmp_180052;
                                                    } else {
                                                        int64_t tmp_180053 = add64((int64_t) 1, ss_176915);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = tmp_180053;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tt_176917;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = tt_176918;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176967 = sdiv64(count_176919, (int64_t) 2);
                                                    int64_t n_176968 = sub64(count_176919, m_176967);
                                                    bool cond_176969 = n_176968 == (int64_t) 0;
                                                    int64_t zgze_lhs_176970 = add64(ss_176915, m_176967);
                                                    bool cond_f_res_176971 = sle64(ss_176916, zgze_lhs_176970);
                                                    bool x_176972 = !cond_176969;
                                                    bool y_176973 = cond_f_res_176971 && x_176972;
                                                    bool cond_176974 = cond_176969 || y_176973;
                                                    bool leq_y_x_176975;
                                                    
                                                    if (cond_176974) {
                                                        leq_y_x_176975 = 1;
                                                    } else {
                                                        bool x_176976 = sle64((int64_t) 0, zgze_lhs_176970);
                                                        bool y_176977 = slt64(zgze_lhs_176970, stride_176726);
                                                        bool bounds_check_176978 = x_176976 && y_176977;
                                                        bool index_certs_176979;
                                                        
                                                        if (!bounds_check_176978) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176970, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176984 = add64(tt_176917, n_176968);
                                                        int64_t leq_arg0_176985 = sub64(zm_lhs_176984, (int64_t) 1);
                                                        bool x_176986 = sle64((int64_t) 0, leq_arg0_176985);
                                                        bool y_176987 = slt64(leq_arg0_176985, j_m_i_176749);
                                                        bool bounds_check_176988 = x_176986 && y_176987;
                                                        bool index_certs_176989;
                                                        
                                                        if (!bounds_check_176988) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176985, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176980 = start_176800 + zgze_lhs_176970;
                                                        int8_t leq_arg1_176981 = ((int8_t *) mem_param_180866.mem)[slice_176980];
                                                        int64_t leq_arg1_176982 = ((int64_t *) mem_param_180869.mem)[slice_176980];
                                                        int64_t leq_arg1_176983 = ((int64_t *) mem_param_180872.mem)[slice_176980];
                                                        int64_t slice_176990 = stride_176726 + leq_arg0_176985;
                                                        int64_t slice_176991 = start_176800 + slice_176990;
                                                        int8_t leq_arg0_176992 = ((int8_t *) mem_param_180866.mem)[slice_176991];
                                                        int64_t leq_arg0_176993 = ((int64_t *) mem_param_180869.mem)[slice_176991];
                                                        int64_t leq_arg0_176994 = ((int64_t *) mem_param_180872.mem)[slice_176991];
                                                        bool cond_176995 = leq_arg0_176992 == leq_arg1_176981;
                                                        bool defunc_0_leq_res_t_res_176996 = sle64(leq_arg0_176993, leq_arg1_176982);
                                                        bool defunc_0_leq_res_176997 = sle64(leq_arg0_176994, leq_arg1_176983);
                                                        bool x_176998 = cond_176995 && defunc_0_leq_res_t_res_176996;
                                                        bool x_176999 = !cond_176995;
                                                        bool y_177000 = defunc_0_leq_res_176997 && x_176999;
                                                        bool defunc_0_leq_res_177001 = x_176998 || y_177000;
                                                        
                                                        leq_y_x_176975 = defunc_0_leq_res_177001;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                    
                                                    if (leq_y_x_176975) {
                                                        int64_t tmp_180054 = add64(tt_176917, n_176968);
                                                        int64_t tmp_180055 = sub64(count_176919, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tmp_180054;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tt_176918;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = tmp_180055;
                                                    } else {
                                                        int64_t tmp_177007 = add64(tt_176917, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tt_176917;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tmp_177007;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = count_176919;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = ss_176915;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                }
                                                defunc_0_lifted_step_res_f_res_176929 = defunc_0_lifted_step_res_f_res_f_res_176935;
                                                defunc_0_lifted_step_res_f_res_176930 = defunc_0_lifted_step_res_f_res_f_res_176936;
                                                defunc_0_lifted_step_res_f_res_176931 = defunc_0_lifted_step_res_f_res_f_res_176937;
                                                defunc_0_lifted_step_res_f_res_176932 = defunc_0_lifted_step_res_f_res_f_res_176938;
                                            }
                                            defunc_0_lifted_step_res_176922 = defunc_0_lifted_step_res_f_res_176929;
                                            defunc_0_lifted_step_res_176923 = defunc_0_lifted_step_res_f_res_176930;
                                            defunc_0_lifted_step_res_176924 = defunc_0_lifted_step_res_f_res_176931;
                                            defunc_0_lifted_step_res_176925 = defunc_0_lifted_step_res_f_res_176932;
                                        }
                                        
                                        int64_t loopres_177008;
                                        int64_t loopres_177009;
                                        int64_t loopres_177010;
                                        int64_t loopres_177011;
                                        int64_t loopres_177012;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_177008, &loopres_177009, &loopres_177010, &loopres_177011, &loopres_177012, defunc_0_lifted_step_res_176922, ss_176916, defunc_0_lifted_step_res_176923, defunc_0_lifted_step_res_176924, defunc_0_lifted_step_res_176925) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177013 = slt64((int64_t) 0, loopres_177012);
                                        bool loop_while_tmp_182287 = loop_cond_177013;
                                        int64_t ss_tmp_182288 = loopres_177008;
                                        int64_t ss_tmp_182289 = loopres_177009;
                                        int64_t tt_tmp_182290 = loopres_177010;
                                        int64_t tt_tmp_182291 = loopres_177011;
                                        int64_t count_tmp_182292 = loopres_177012;
                                        
                                        loop_while_176914 = loop_while_tmp_182287;
                                        ss_176915 = ss_tmp_182288;
                                        ss_176916 = ss_tmp_182289;
                                        tt_176917 = tt_tmp_182290;
                                        tt_176918 = tt_tmp_182291;
                                        count_176919 = count_tmp_182292;
                                    }
                                    defunc_0_split_count_res_176908 = loop_while_176914;
                                    defunc_0_split_count_res_176909 = ss_176915;
                                    defunc_0_split_count_res_176910 = ss_176916;
                                    defunc_0_split_count_res_176911 = tt_176917;
                                    defunc_0_split_count_res_176912 = tt_176918;
                                    defunc_0_split_count_res_176913 = count_176919;
                                    ((int64_t *) mem_180894)[i_180477] = defunc_0_split_count_res_176909;
                                    ((int64_t *) mem_180896)[i_180477] = defunc_0_split_count_res_176911;
                                }
                                if (mem_180910_cached_sizze_182613 < flat_dim_176750) {
                                    err = lexical_realloc(ctx, &mem_180910, &mem_180910_cached_sizze_182613, flat_dim_176750);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180913_cached_sizze_182614 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180913, &mem_180913_cached_sizze_182614, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180916_cached_sizze_182615 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180916, &mem_180916_cached_sizze_182615, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180486 = 0; i_180486 < num_blocks_176747; i_180486++) {
                                    bool y_177020 = slt64(i_180486, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool index_certs_177022;
                                    
                                    if (!y_177020) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177023 = ((int64_t *) mem_180894)[i_180486];
                                    int64_t defunc_0_f_res_177024 = ((int64_t *) mem_180896)[i_180486];
                                    int64_t tmp_177025 = add64((int64_t) 1, i_180486);
                                    bool x_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool y_177027 = slt64(tmp_177025, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool bounds_check_177028 = x_177026 && y_177027;
                                    bool index_certs_177029;
                                    
                                    if (!bounds_check_177028) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177030 = ((int64_t *) mem_180894)[tmp_177025];
                                    int64_t defunc_0_f_res_177031 = ((int64_t *) mem_180896)[tmp_177025];
                                    int64_t merge_sequential_arg2_177032 = add64(stride_176726, defunc_0_f_res_177024);
                                    int64_t merge_sequential_arg2_177033 = add64(stride_176726, defunc_0_f_res_177031);
                                    int64_t j_m_i_177034 = sub64(merge_sequential_arg2_177033, merge_sequential_arg2_177032);
                                    bool empty_slice_177035 = j_m_i_177034 == (int64_t) 0;
                                    int64_t m_177036 = sub64(j_m_i_177034, (int64_t) 1);
                                    int64_t i_p_m_t_s_177037 = add64(merge_sequential_arg2_177032, m_177036);
                                    bool zzero_leq_i_p_m_t_s_177038 = sle64((int64_t) 0, i_p_m_t_s_177037);
                                    bool i_p_m_t_s_leq_w_177039 = slt64(i_p_m_t_s_177037, next_stride_176727);
                                    bool zzero_lte_i_177040 = sle64((int64_t) 0, merge_sequential_arg2_177032);
                                    bool i_lte_j_177041 = sle64(merge_sequential_arg2_177032, merge_sequential_arg2_177033);
                                    bool y_177042 = i_p_m_t_s_leq_w_177039 && zzero_lte_i_177040;
                                    bool y_177043 = zzero_leq_i_p_m_t_s_177038 && y_177042;
                                    bool forwards_ok_177044 = i_lte_j_177041 && y_177043;
                                    bool ok_or_empty_177045 = empty_slice_177035 || forwards_ok_177044;
                                    bool index_certs_177046;
                                    
                                    if (!ok_or_empty_177045) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177032, ":", (long long) merge_sequential_arg2_177033, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177047 = sub64(defunc_0_f_res_177030, defunc_0_f_res_177023);
                                    bool empty_slice_177048 = j_m_i_177047 == (int64_t) 0;
                                    int64_t m_177049 = sub64(j_m_i_177047, (int64_t) 1);
                                    int64_t i_p_m_t_s_177050 = add64(defunc_0_f_res_177023, m_177049);
                                    bool zzero_leq_i_p_m_t_s_177051 = sle64((int64_t) 0, i_p_m_t_s_177050);
                                    bool i_p_m_t_s_leq_w_177052 = slt64(i_p_m_t_s_177050, next_stride_176727);
                                    bool zzero_lte_i_177053 = sle64((int64_t) 0, defunc_0_f_res_177023);
                                    bool i_lte_j_177054 = sle64(defunc_0_f_res_177023, defunc_0_f_res_177030);
                                    bool y_177055 = i_p_m_t_s_leq_w_177052 && zzero_lte_i_177053;
                                    bool y_177056 = zzero_leq_i_p_m_t_s_177051 && y_177055;
                                    bool forwards_ok_177057 = i_lte_j_177054 && y_177056;
                                    bool ok_or_empty_177058 = empty_slice_177048 || forwards_ok_177057;
                                    bool index_certs_177059;
                                    
                                    if (!ok_or_empty_177058) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177023, ":", (long long) defunc_0_f_res_177030, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177060 = slt64((int64_t) 0, j_m_i_177047);
                                    int8_t dummy_177061;
                                    int64_t dummy_177062;
                                    int64_t dummy_177063;
                                    
                                    if (cond_177060) {
                                        bool index_certs_180056;
                                        
                                        if (!cond_177060) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180057 = start_176800 + defunc_0_f_res_177023;
                                        int8_t head_res_180058 = ((int8_t *) mem_param_180866.mem)[slice_180057];
                                        int64_t head_res_180059 = ((int64_t *) mem_param_180869.mem)[slice_180057];
                                        int64_t head_res_180060 = ((int64_t *) mem_param_180872.mem)[slice_180057];
                                        
                                        dummy_177061 = head_res_180058;
                                        dummy_177062 = head_res_180059;
                                        dummy_177063 = head_res_180060;
                                    } else {
                                        bool y_177069 = slt64((int64_t) 0, j_m_i_177034);
                                        bool index_certs_177070;
                                        
                                        if (!y_177069) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177071 = start_176800 + merge_sequential_arg2_177032;
                                        int8_t head_res_177072 = ((int8_t *) mem_param_180866.mem)[slice_177071];
                                        int64_t head_res_177073 = ((int64_t *) mem_param_180869.mem)[slice_177071];
                                        int64_t head_res_177074 = ((int64_t *) mem_param_180872.mem)[slice_177071];
                                        
                                        dummy_177061 = head_res_177072;
                                        dummy_177062 = head_res_177073;
                                        dummy_177063 = head_res_177074;
                                    }
                                    for (int64_t nest_i_182296 = 0; nest_i_182296 < merge_block_sizze_176564; nest_i_182296++) {
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + nest_i_182296] = dummy_177061;
                                    }
                                    for (int64_t nest_i_182297 = 0; nest_i_182297 < merge_block_sizze_176564; nest_i_182297++) {
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + nest_i_182297] = dummy_177062;
                                    }
                                    for (int64_t nest_i_182298 = 0; nest_i_182298 < merge_block_sizze_176564; nest_i_182298++) {
                                        ((int64_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + nest_i_182298] = dummy_177063;
                                    }
                                    
                                    int64_t data_177078;
                                    int64_t i_177083 = (int64_t) 0;
                                    
                                    for (int64_t k_177082 = 0; k_177082 < merge_block_sizze_176564; k_177082++) {
                                        int64_t j_177087 = sub64(k_177082, i_177083);
                                        bool cond_177088 = j_177087 == j_m_i_177034;
                                        bool cond_177089;
                                        
                                        if (cond_177088) {
                                            cond_177089 = 1;
                                        } else {
                                            bool cond_177090 = slt64(i_177083, j_m_i_177047);
                                            bool cond_f_res_177091;
                                            
                                            if (cond_177090) {
                                                bool x_180061 = sle64((int64_t) 0, j_177087);
                                                bool y_180062 = slt64(j_177087, j_m_i_177034);
                                                bool bounds_check_180063 = x_180061 && y_180062;
                                                bool index_certs_180064;
                                                
                                                if (!bounds_check_180063) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180070 = sle64((int64_t) 0, i_177083);
                                                bool bounds_check_180071 = cond_177090 && x_180070;
                                                bool index_certs_180072;
                                                
                                                if (!bounds_check_180071) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180065 = merge_sequential_arg2_177032 + j_177087;
                                                int64_t slice_180066 = start_176800 + slice_180065;
                                                int8_t leq_arg1_180067 = ((int8_t *) mem_param_180866.mem)[slice_180066];
                                                int64_t leq_arg1_180068 = ((int64_t *) mem_param_180869.mem)[slice_180066];
                                                int64_t leq_arg1_180069 = ((int64_t *) mem_param_180872.mem)[slice_180066];
                                                int64_t slice_180073 = defunc_0_f_res_177023 + i_177083;
                                                int64_t slice_180074 = start_176800 + slice_180073;
                                                int8_t leq_arg0_180075 = ((int8_t *) mem_param_180866.mem)[slice_180074];
                                                int64_t leq_arg0_180076 = ((int64_t *) mem_param_180869.mem)[slice_180074];
                                                int64_t leq_arg0_180077 = ((int64_t *) mem_param_180872.mem)[slice_180074];
                                                bool cond_180078 = leq_arg0_180075 == leq_arg1_180067;
                                                bool defunc_0_leq_res_t_res_180079 = sle64(leq_arg0_180076, leq_arg1_180068);
                                                bool defunc_0_leq_res_180080 = sle64(leq_arg0_180077, leq_arg1_180069);
                                                bool x_180081 = cond_180078 && defunc_0_leq_res_t_res_180079;
                                                bool x_180082 = !cond_180078;
                                                bool y_180083 = defunc_0_leq_res_180080 && x_180082;
                                                bool defunc_0_leq_res_180084 = x_180081 || y_180083;
                                                
                                                cond_f_res_177091 = defunc_0_leq_res_180084;
                                            } else {
                                                cond_f_res_177091 = 0;
                                            }
                                            cond_177089 = cond_f_res_177091;
                                        }
                                        
                                        int64_t loopres_177116;
                                        int8_t loopres_177117;
                                        int64_t loopres_177118;
                                        int64_t loopres_177119;
                                        
                                        if (cond_177089) {
                                            bool x_180086 = sle64((int64_t) 0, i_177083);
                                            bool y_180087 = slt64(i_177083, j_m_i_177047);
                                            bool bounds_check_180088 = x_180086 && y_180087;
                                            bool index_certs_180089;
                                            
                                            if (!bounds_check_180088) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180085 = add64((int64_t) 1, i_177083);
                                            int64_t slice_180090 = defunc_0_f_res_177023 + i_177083;
                                            int64_t slice_180091 = start_176800 + slice_180090;
                                            int8_t tmp_180092 = ((int8_t *) mem_param_180866.mem)[slice_180091];
                                            int64_t tmp_180093 = ((int64_t *) mem_param_180869.mem)[slice_180091];
                                            int64_t tmp_180094 = ((int64_t *) mem_param_180872.mem)[slice_180091];
                                            
                                            loopres_177116 = tmp_180085;
                                            loopres_177117 = tmp_180092;
                                            loopres_177118 = tmp_180093;
                                            loopres_177119 = tmp_180094;
                                        } else {
                                            bool x_177130 = sle64((int64_t) 0, j_177087);
                                            bool y_177131 = slt64(j_177087, j_m_i_177034);
                                            bool bounds_check_177132 = x_177130 && y_177131;
                                            bool index_certs_177133;
                                            
                                            if (!bounds_check_177132) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177134 = merge_sequential_arg2_177032 + j_177087;
                                            int64_t slice_177135 = start_176800 + slice_177134;
                                            int8_t tmp_177136 = ((int8_t *) mem_param_180866.mem)[slice_177135];
                                            int64_t tmp_177137 = ((int64_t *) mem_param_180869.mem)[slice_177135];
                                            int64_t tmp_177138 = ((int64_t *) mem_param_180872.mem)[slice_177135];
                                            
                                            loopres_177116 = i_177083;
                                            loopres_177117 = tmp_177136;
                                            loopres_177118 = tmp_177137;
                                            loopres_177119 = tmp_177138;
                                        }
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177117;
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177118;
                                        ((int64_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177119;
                                        
                                        int64_t i_tmp_182299 = loopres_177116;
                                        
                                        i_177083 = i_tmp_182299;
                                    }
                                    data_177078 = i_177083;
                                }
                                if (memblock_alloc(ctx, &mem_180965, flat_dim_176750, "mem_180965")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180965.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint8_t *) mem_180910, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180969, bytes_180912, "mem_180969")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180969.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180913, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180973, bytes_180912, "mem_180973")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180973.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180916, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180965, "mem_180965") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180969, "mem_180969") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180973, "mem_180973") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180874, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181006.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180877, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180880, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181000.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181020, bytes_180873, "mem_181020")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181020.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint8_t *) mem_180874, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181024, bytes_180876, "mem_181024")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181024.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180877, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181028, bytes_180876, "mem_181028")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181028.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180880, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        
                        bool loop_cond_177152 = slt64(next_stride_176727, flat_dim_176559);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182266, &mem_181020, "mem_181020") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182267, &mem_181024, "mem_181024") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182268, &mem_181028, "mem_181028") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182269 = bytes_180873;
                        bool loop_while_tmp_182270 = loop_cond_177152;
                        int64_t stride_tmp_182274 = next_stride_176727;
                        
                        if (memblock_set(ctx, &mem_param_180866, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180869, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180872, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176721 = loop_dz2084Uz2082U_tmp_182269;
                        loop_while_176722 = loop_while_tmp_182270;
                        stride_176726 = stride_tmp_182274;
                    }
                    if (memblock_set(ctx, &ext_mem_181038, &mem_param_180866, "mem_param_180866") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181037, &mem_param_180869, "mem_param_180869") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181036, &mem_param_180872, "mem_param_180872") != 0)
                        return 1;
                    data_176715 = loop_dz2084Uz2082U_176721;
                    data_176716 = loop_while_176722;
                    data_176720 = stride_176726;
                    if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
                        return 1;
                    
                    bool empty_slice_177153 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177154 = sle64((int64_t) 0, zs_lhs_176543);
                    bool i_p_m_t_s_leq_w_177155 = slt64(zs_lhs_176543, data_176715);
                    bool y_177156 = zzero_leq_i_p_m_t_s_177154 && i_p_m_t_s_leq_w_177155;
                    bool ok_or_empty_177157 = empty_slice_177153 || y_177156;
                    bool index_certs_177158;
                    
                    if (!ok_or_empty_177157) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] out of bounds for array of shape [", (long long) data_176715, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181047, &ext_mem_181038, "ext_mem_181038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &ext_mem_181037, "ext_mem_181037") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &ext_mem_181036, "ext_mem_181036") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180728.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180730.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180732.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181041.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
                    return 1;
                
                bool loop_cond_177194 = slt64(ubs_176486, threads_141897);
                bool loop_while_tmp_182233 = loop_cond_177194;
                int64_t p_tmp_182234 = ubs_176486;
                
                loop_while_176475 = loop_while_tmp_182233;
                p_176476 = p_tmp_182234;
            }
            defunc_0_mergeFunc_seq_res_176470 = loop_while_176475;
            defunc_0_mergeFunc_seq_res_176471 = p_176476;
            
            int64_t index_concat_branch_178011;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180109 = ((int64_t *) mem_180713)[index_concat_i_178008];
                
                index_concat_branch_178011 = index_concat_180109;
            } else {
                index_concat_branch_178011 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178005;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180110 = ((int64_t *) mem_180715)[index_concat_i_178008];
                
                index_concat_branch_178005 = index_concat_180110;
            } else {
                index_concat_branch_178005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_180730, "mem_180730") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_180732, "mem_180732") != 0)
                return 1;
            loopres_175234 = index_concat_branch_178011;
            loopres_175235 = index_concat_branch_178005;
        }
        for (int64_t i_180502 = 0; i_180502 < window_sizze_141896; i_180502++) {
            int8_t eta_p_177202 = ((int8_t *) ext_mem_181466.mem)[i_180502];
            int64_t eta_p_177203 = ((int64_t *) ext_mem_181463.mem)[i_180502];
            bool cond_177204 = eta_p_177202 == (int8_t) 0;
            int64_t tmp_177205;
            
            if (cond_177204) {
                int64_t tmp_t_res_180113 = add64(p_175206, eta_p_177203);
                
                tmp_177205 = tmp_t_res_180113;
            } else {
                int64_t tmp_f_res_177207 = add64(p_175207, eta_p_177203);
                
                tmp_177205 = tmp_f_res_177207;
            }
            ((int64_t *) mem_180700.mem)[ind_bottom_175210 + i_180502] = tmp_177205;
        }
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        
        int64_t next_lbs_177208 = add64(p_175206, loopres_175234);
        int64_t next_lbs_177209 = add64(p_175207, loopres_175235);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181466.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141896});
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141896});
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        
        bool cond_177223 = slt64(next_lbs_177208, zl_rhs_175189);
        bool loop_cond_t_res_177224 = slt64(next_lbs_177209, zl_rhs_175191);
        bool x_177225 = cond_177223 && loop_cond_t_res_177224;
        bool loop_while_tmp_182117 = x_177225;
        int64_t p_tmp_182121 = next_lbs_177208;
        int64_t p_tmp_182122 = next_lbs_177209;
        
        loop_while_175202 = loop_while_tmp_182117;
        p_175206 = p_tmp_182121;
        p_175207 = p_tmp_182122;
    }
    defunc_0_merge_pipeline_res_175196 = loop_while_175202;
    defunc_0_merge_pipeline_res_175200 = p_175206;
    defunc_0_merge_pipeline_res_175201 = p_175207;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 = sub64(nb_141895, defunc_0_merge_pipeline_res_175201);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 = sub64(na_141894, defunc_0_merge_pipeline_res_175200);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    bool empty_slice_177229 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 == (int64_t) 0;
    int64_t m_177230 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 1);
    int64_t i_p_m_t_s_177231 = add64(defunc_0_merge_pipeline_res_175200, m_177230);
    bool zzero_leq_i_p_m_t_s_177232 = sle64((int64_t) 0, i_p_m_t_s_177231);
    bool i_p_m_t_s_leq_w_177233 = slt64(i_p_m_t_s_177231, na_141894);
    bool zzero_lte_i_177234 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175200);
    bool i_lte_j_177235 = sle64(defunc_0_merge_pipeline_res_175200, na_141894);
    bool y_177236 = i_p_m_t_s_leq_w_177233 && zzero_lte_i_177234;
    bool y_177237 = zzero_leq_i_p_m_t_s_177232 && y_177236;
    bool forwards_ok_177238 = i_lte_j_177235 && y_177237;
    bool ok_or_empty_177239 = empty_slice_177229 || forwards_ok_177238;
    bool index_certs_177240;
    
    if (!ok_or_empty_177239) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175200, ":", (long long) na_141894, "] out of bounds for array of shape [", (long long) na_141894, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177244 = slt64(na_141894, defunc_0_merge_pipeline_res_175200);
    bool valid_177245 = !bounds_invalid_upwards_177244;
    bool range_valid_c_177246;
    
    if (!valid_177245) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175200, "..<", (long long) na_141894, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177250 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 == (int64_t) 0;
    int64_t m_177251 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, (int64_t) 1);
    int64_t i_p_m_t_s_177252 = add64(defunc_0_merge_pipeline_res_175201, m_177251);
    bool zzero_leq_i_p_m_t_s_177253 = sle64((int64_t) 0, i_p_m_t_s_177252);
    bool i_p_m_t_s_leq_w_177254 = slt64(i_p_m_t_s_177252, nb_141895);
    bool zzero_lte_i_177255 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175201);
    bool i_lte_j_177256 = sle64(defunc_0_merge_pipeline_res_175201, nb_141895);
    bool y_177257 = i_p_m_t_s_leq_w_177254 && zzero_lte_i_177255;
    bool y_177258 = zzero_leq_i_p_m_t_s_177253 && y_177257;
    bool forwards_ok_177259 = i_lte_j_177256 && y_177258;
    bool ok_or_empty_177260 = empty_slice_177250 || forwards_ok_177259;
    bool index_certs_177261;
    
    if (!ok_or_empty_177260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175201, ":", (long long) nb_141895, "] out of bounds for array of shape [", (long long) nb_141895, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177265 = slt64(nb_141895, defunc_0_merge_pipeline_res_175201);
    bool valid_177266 = !bounds_invalid_upwards_177265;
    bool range_valid_c_177267;
    
    if (!valid_177266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175201, "..<", (long long) nb_141895, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181491 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool cond_177274 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zs_lhs_177275 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zp_rhs_177276 = sdiv_safe64(zs_lhs_177275, (int64_t) 20);
    int64_t min_num_blocks_177277 = add64((int64_t) 1, zp_rhs_177276);
    bool loop_cond_177278 = slt64((int64_t) 1, min_num_blocks_177277);
    bool smallest_pow_2_geq_than_res_177279;
    int64_t smallest_pow_2_geq_than_res_177280;
    bool loop_while_177281;
    int64_t x_177282;
    
    loop_while_177281 = loop_cond_177278;
    x_177282 = (int64_t) 1;
    while (loop_while_177281) {
        int64_t loopres_177283 = mul64((int64_t) 2, x_177282);
        bool loop_cond_177284 = slt64(loopres_177283, min_num_blocks_177277);
        bool loop_while_tmp_182304 = loop_cond_177284;
        int64_t x_tmp_182305 = loopres_177283;
        
        loop_while_177281 = loop_while_tmp_182304;
        x_177282 = x_tmp_182305;
    }
    smallest_pow_2_geq_than_res_177279 = loop_while_177281;
    smallest_pow_2_geq_than_res_177280 = x_177282;
    
    bool zzero_177285 = smallest_pow_2_geq_than_res_177280 == (int64_t) 0;
    bool nonzzero_177286 = !zzero_177285;
    bool protect_assert_disj_177287 = cond_177274 || nonzzero_177286;
    bool nonzzero_cert_177288;
    
    if (!protect_assert_disj_177287) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177289 = sdiv_safe64(zs_lhs_177275, smallest_pow_2_geq_than_res_177280);
    int64_t block_sizze_177290 = add64((int64_t) 1, zp_rhs_177289);
    bool y_177297 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool protect_assert_disj_181819 = cond_177274 || y_177297;
    bool index_certs_177298;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177324 = slt64(smallest_pow_2_geq_than_res_177280, (int64_t) 0);
    bool valid_177325 = !bounds_invalid_upwards_177324;
    bool protect_assert_disj_181829 = cond_177274 || valid_177325;
    bool range_valid_c_177326;
    
    if (!protect_assert_disj_181829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177280, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177328 = slt64(block_sizze_177290, (int64_t) 0);
    bool valid_177329 = !bounds_invalid_upwards_177328;
    bool protect_assert_disj_181831 = cond_177274 || valid_177329;
    bool range_valid_c_177330;
    
    if (!protect_assert_disj_181831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177290, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177332 = sle64(block_sizze_177290, (int64_t) 1);
    int64_t tmp_177333 = sub64(block_sizze_177290, (int64_t) 2);
    bool bounds_invalid_upwards_177334 = slt64(tmp_177333, (int64_t) 0);
    bool valid_177336 = !bounds_invalid_upwards_177334;
    bool protect_assert_disj_177337 = cond_177332 || valid_177336;
    bool protect_assert_disj_181833 = cond_177274 || protect_assert_disj_177337;
    bool range_valid_c_177338;
    
    if (!protect_assert_disj_181833) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177333, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177899 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177901 = sle64((int64_t) 0, zs_lhs_177275);
    bool i_p_m_t_s_leq_w_177902 = slt64(zs_lhs_177275, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool y_177903 = zzero_leq_i_p_m_t_s_177901 && i_p_m_t_s_leq_w_177902;
    bool ok_or_empty_177904 = empty_slice_177899 || y_177903;
    bool index_certs_177905;
    
    if (!ok_or_empty_177904) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177906 = add64(defunc_0_merge_pipeline_res_175200, defunc_0_merge_pipeline_res_175201);
    int64_t j_m_i_177907 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, final_buffer_177906);
    bool empty_slice_177908 = j_m_i_177907 == (int64_t) 0;
    int64_t m_177909 = sub64(j_m_i_177907, (int64_t) 1);
    int64_t i_p_m_t_s_177910 = add64(final_buffer_177906, m_177909);
    bool zzero_leq_i_p_m_t_s_177911 = sle64((int64_t) 0, i_p_m_t_s_177910);
    bool i_p_m_t_s_leq_w_177912 = slt64(i_p_m_t_s_177910, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool zzero_lte_i_177913 = sle64((int64_t) 0, final_buffer_177906);
    bool i_lte_j_177914 = sle64(final_buffer_177906, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool y_177915 = i_p_m_t_s_leq_w_177912 && zzero_lte_i_177913;
    bool y_177916 = zzero_leq_i_p_m_t_s_177911 && y_177915;
    bool forwards_ok_177917 = i_lte_j_177914 && y_177916;
    bool ok_or_empty_177918 = empty_slice_177908 || forwards_ok_177917;
    bool index_certs_177919;
    
    if (!ok_or_empty_177918) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177906, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177920 = j_m_i_177907 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool empty_or_match_cert_177921;
    
    if (!dim_match_177920) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177907, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181490, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "mem_181490")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182306 = 0; nest_i_182306 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; nest_i_182306++) {
        ((int8_t *) mem_181490.mem)[nest_i_182306] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181492, bytes_181491, "mem_181492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182307 = 0; i_182307 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; i_182307++) {
        int64_t x_182308 = defunc_0_merge_pipeline_res_175200 + i_182307 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[i_182307] = x_182308;
    }
    for (int64_t nest_i_182309 = 0; nest_i_182309 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; nest_i_182309++) {
        ((int8_t *) mem_181490.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + nest_i_182309] = (int8_t) 1;
    }
    for (int64_t i_182310 = 0; i_182310 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; i_182310++) {
        int64_t x_182311 = defunc_0_merge_pipeline_res_175201 + i_182310 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + i_182310] = x_182311;
    }
    
    int64_t tmp_offs_182312 = (int64_t) 0;
    
    if (!(tmp_offs_182312 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182312 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t tmp_offs_182313 = (int64_t) 0;
    
    if (!(tmp_offs_182313 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182313 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    if (memblock_alloc(ctx, &mem_181494, bytes_181491, "mem_181494")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182314 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180696.mem, defunc_0_merge_pipeline_res_175200, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180697.mem, defunc_0_merge_pipeline_res_175201, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t flat_dim_177291 = smallest_pow_2_geq_than_res_177280 * block_sizze_177290;
    bool x_181814 = !cond_177274;
    int64_t greatest_divisor_leq_than_arg1_177295 = mul64((int64_t) 2, block_sizze_177290);
    int64_t merge_block_sizze_177296;
    
    if (x_181814) {
        int64_t x_181816;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181816, (int64_t) 8, greatest_divisor_leq_than_arg1_177295) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177296 = x_181816;
    } else {
        merge_block_sizze_177296 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177971 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 0);
    int8_t index_concat_branch_177975 = btoi_bool_i8(index_concat_cmp_177971);
    int64_t index_concat_i_180115 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    int64_t index_primexp_180116 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180115);
    int64_t index_concat_branch_177969;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177969 = index_primexp_180116;
    } else {
        index_concat_branch_177969 = defunc_0_merge_pipeline_res_175200;
    }
    
    bool x_181810 = !index_concat_cmp_177971;
    bool protect_cond_conj_181820 = x_181810 && x_181814;
    int64_t index_concat_177962;
    
    if (protect_cond_conj_181820) {
        int64_t x_181812 = ((int64_t *) a_list_mem_180696.mem)[defunc_0_merge_pipeline_res_175200];
        
        index_concat_177962 = x_181812;
    } else {
        index_concat_177962 = (int64_t) 0;
    }
    
    bool protect_cond_conj_181821 = index_concat_cmp_177971 && x_181814;
    int64_t index_concat_180119;
    
    if (protect_cond_conj_181821) {
        int64_t x_181808 = ((int64_t *) b_list_mem_180697.mem)[index_primexp_180116];
        
        index_concat_180119 = x_181808;
    } else {
        index_concat_180119 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_177963;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177963 = index_concat_180119;
    } else {
        index_concat_branch_177963 = index_concat_177962;
    }
    
    int8_t defunc_0_reduce_res_180350;
    int64_t defunc_0_reduce_res_180351;
    int64_t defunc_0_reduce_res_180352;
    
    if (x_181814) {
        int8_t x_181822;
        int64_t x_181823;
        int64_t x_181824;
        int8_t redout_180504;
        int64_t redout_180505;
        int64_t redout_180506;
        
        redout_180504 = index_concat_branch_177975;
        redout_180505 = index_concat_branch_177969;
        redout_180506 = index_concat_branch_177963;
        for (int64_t i_180507 = 0; i_180507 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228; i_180507++) {
            bool index_concat_cmp_180578 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, i_180507);
            int8_t index_concat_branch_180582 = btoi_bool_i8(index_concat_cmp_180578);
            int64_t index_concat_branch_180576;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180573 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t index_primexp_180666 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180573);
                
                index_concat_branch_180576 = index_primexp_180666;
            } else {
                int64_t index_primexp_180668 = add64(defunc_0_merge_pipeline_res_175200, i_180507);
                
                index_concat_branch_180576 = index_primexp_180668;
            }
            
            int64_t index_concat_branch_180570;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180567 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t slice_180663 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180567;
                int64_t index_concat_180568 = ((int64_t *) b_list_mem_180697.mem)[slice_180663];
                
                index_concat_branch_180570 = index_concat_180568;
            } else {
                int64_t slice_180664 = defunc_0_merge_pipeline_res_175200 + i_180507;
                int64_t index_concat_180569 = ((int64_t *) a_list_mem_180696.mem)[slice_180664];
                
                index_concat_branch_180570 = index_concat_180569;
            }
            
            bool eq_x_y_180681 = redout_180504 == (int8_t) 1;
            bool eq_x_zz_180682 = redout_180504 == (int8_t) 0;
            bool p_and_eq_x_y_180683 = index_concat_cmp_180578 && eq_x_y_180681;
            bool not_p_180684 = !index_concat_cmp_180578;
            bool p_and_eq_x_y_180685 = eq_x_zz_180682 && not_p_180684;
            bool cond_177314 = p_and_eq_x_y_180683 || p_and_eq_x_y_180685;
            bool defunc_0_leq_res_t_res_177315 = sle64(redout_180505, index_concat_branch_180576);
            bool defunc_0_leq_res_177316 = sle64(redout_180506, index_concat_branch_180570);
            bool x_177317 = cond_177314 && defunc_0_leq_res_t_res_177315;
            bool x_177318 = !cond_177314;
            bool y_177319 = defunc_0_leq_res_177316 && x_177318;
            bool defunc_0_leq_res_177320 = x_177317 || y_177319;
            int8_t defunc_0_op_res_177321;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177321 = index_concat_branch_180582;
            } else {
                defunc_0_op_res_177321 = redout_180504;
            }
            
            int64_t defunc_0_op_res_177322;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177322 = index_concat_branch_180576;
            } else {
                defunc_0_op_res_177322 = redout_180505;
            }
            
            int64_t defunc_0_op_res_177323;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177323 = index_concat_branch_180570;
            } else {
                defunc_0_op_res_177323 = redout_180506;
            }
            
            int8_t redout_tmp_182315 = defunc_0_op_res_177321;
            int64_t redout_tmp_182316 = defunc_0_op_res_177322;
            int64_t redout_tmp_182317 = defunc_0_op_res_177323;
            
            redout_180504 = redout_tmp_182315;
            redout_180505 = redout_tmp_182316;
            redout_180506 = redout_tmp_182317;
        }
        x_181822 = redout_180504;
        x_181823 = redout_180505;
        x_181824 = redout_180506;
        defunc_0_reduce_res_180350 = x_181822;
        defunc_0_reduce_res_180351 = x_181823;
        defunc_0_reduce_res_180352 = x_181824;
    } else {
        defunc_0_reduce_res_180350 = (int8_t) 0;
        defunc_0_reduce_res_180351 = (int64_t) 0;
        defunc_0_reduce_res_180352 = (int64_t) 0;
    }
    
    int64_t distance_177335 = add64((int64_t) 1, tmp_177333);
    int64_t binop_x_181497 = (int64_t) 8 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181498 = block_sizze_177290 * binop_x_181497;
    int64_t bytes_181516 = (int64_t) 8 * block_sizze_177290;
    bool loop_cond_177444 = slt64(block_sizze_177290, flat_dim_177291);
    bool zzero_177445 = merge_block_sizze_177296 == (int64_t) 0;
    bool nonzzero_177446 = !zzero_177445;
    
    if (cond_177274) {
        if (memblock_set(ctx, &ext_mem_181789, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &mem_181494, "mem_181494") != 0)
            return 1;
    } else {
        if (mem_181496_cached_sizze_182636 < flat_dim_177291) {
            err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182636, flat_dim_177291);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181499_cached_sizze_182637 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181499, &mem_181499_cached_sizze_182637, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181502_cached_sizze_182638 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181502, &mem_181502_cached_sizze_182638, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181515_cached_sizze_182639 < block_sizze_177290) {
            err = lexical_realloc(ctx, &mem_181515, &mem_181515_cached_sizze_182639, block_sizze_177290);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181517_cached_sizze_182640 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182640, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181519_cached_sizze_182641 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181519, &mem_181519_cached_sizze_182641, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180524 = 0; i_180524 < smallest_pow_2_geq_than_res_177280; i_180524++) {
            int64_t zp_lhs_177343 = mul64(block_sizze_177290, i_180524);
            
            for (int64_t i_180514 = 0; i_180514 < block_sizze_177290; i_180514++) {
                int64_t k_177348 = add64(zp_lhs_177343, i_180514);
                bool cond_177349 = slt64(k_177348, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
                int8_t lifted_lambda_res_177350;
                int64_t lifted_lambda_res_177351;
                int64_t lifted_lambda_res_177352;
                
                if (cond_177349) {
                    bool x_180125 = sle64((int64_t) 0, k_177348);
                    bool bounds_check_180126 = cond_177349 && x_180125;
                    bool index_certs_180127;
                    
                    if (!bounds_check_180126) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177348, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180128 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, k_177348);
                    int8_t index_concat_branch_180129 = btoi_bool_i8(index_concat_cmp_180128);
                    int64_t index_concat_branch_180130;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180131 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t index_primexp_180132 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180131);
                        
                        index_concat_branch_180130 = index_primexp_180132;
                    } else {
                        int64_t index_primexp_180133 = add64(defunc_0_merge_pipeline_res_175200, k_177348);
                        
                        index_concat_branch_180130 = index_primexp_180133;
                    }
                    
                    int64_t index_concat_branch_180134;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180135 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t slice_180136 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180135;
                        int64_t index_concat_180137 = ((int64_t *) b_list_mem_180697.mem)[slice_180136];
                        
                        index_concat_branch_180134 = index_concat_180137;
                    } else {
                        int64_t slice_180138 = defunc_0_merge_pipeline_res_175200 + k_177348;
                        int64_t index_concat_180139 = ((int64_t *) a_list_mem_180696.mem)[slice_180138];
                        
                        index_concat_branch_180134 = index_concat_180139;
                    }
                    lifted_lambda_res_177350 = index_concat_branch_180129;
                    lifted_lambda_res_177351 = index_concat_branch_180130;
                    lifted_lambda_res_177352 = index_concat_branch_180134;
                } else {
                    lifted_lambda_res_177350 = defunc_0_reduce_res_180350;
                    lifted_lambda_res_177351 = defunc_0_reduce_res_180351;
                    lifted_lambda_res_177352 = defunc_0_reduce_res_180352;
                }
                ((int8_t *) mem_181515)[i_180514] = lifted_lambda_res_177350;
                ((int64_t *) mem_181517)[i_180514] = lifted_lambda_res_177351;
                ((int64_t *) mem_181519)[i_180514] = lifted_lambda_res_177352;
            }
            if (!cond_177332) {
                for (int64_t i_177365 = 0; i_177365 < distance_177335; i_177365++) {
                    int64_t gt_arg1_177369 = add64((int64_t) 1, i_177365);
                    bool x_177370 = sle64((int64_t) 0, gt_arg1_177369);
                    bool y_177371 = slt64(gt_arg1_177369, block_sizze_177290);
                    bool bounds_check_177372 = x_177370 && y_177371;
                    bool index_certs_177373;
                    
                    if (!bounds_check_177372) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177369, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177377 = slt64(i_177365, block_sizze_177290);
                    bool index_certs_177378;
                    
                    if (!y_177377) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177365, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177374 = ((int8_t *) mem_181515)[gt_arg1_177369];
                    int64_t gt_arg1_177375 = ((int64_t *) mem_181517)[gt_arg1_177369];
                    int64_t gt_arg1_177376 = ((int64_t *) mem_181519)[gt_arg1_177369];
                    int8_t gt_arg0_177379 = ((int8_t *) mem_181515)[i_177365];
                    int64_t gt_arg0_177380 = ((int64_t *) mem_181517)[i_177365];
                    int64_t gt_arg0_177381 = ((int64_t *) mem_181519)[i_177365];
                    bool cond_177382 = gt_arg0_177379 == gt_arg1_177374;
                    bool defunc_0_leq_res_t_res_177383 = sle64(gt_arg0_177380, gt_arg1_177375);
                    bool defunc_0_leq_res_177384 = sle64(gt_arg0_177381, gt_arg1_177376);
                    bool x_177385 = cond_177382 && defunc_0_leq_res_t_res_177383;
                    bool x_177386 = !cond_177382;
                    bool y_177387 = defunc_0_leq_res_177384 && x_177386;
                    bool defunc_0_leq_res_177388 = x_177385 || y_177387;
                    bool defunc_0_lifted_gt_res_177389 = !defunc_0_leq_res_177388;
                    bool s_177390;
                    int64_t s_177394;
                    bool loop_while_177395;
                    int64_t j_177399;
                    
                    loop_while_177395 = defunc_0_lifted_gt_res_177389;
                    j_177399 = i_177365;
                    while (loop_while_177395) {
                        bool x_177400 = sle64((int64_t) 0, j_177399);
                        bool y_177401 = slt64(j_177399, block_sizze_177290);
                        bool bounds_check_177402 = x_177400 && y_177401;
                        bool index_certs_177403;
                        
                        if (!bounds_check_177402) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177399, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177407 = add64((int64_t) 1, j_177399);
                        bool x_177408 = sle64((int64_t) 0, copy_arg0_177407);
                        bool y_177409 = slt64(copy_arg0_177407, block_sizze_177290);
                        bool bounds_check_177410 = x_177408 && y_177409;
                        bool index_certs_177411;
                        
                        if (!bounds_check_177410) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177407, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177404 = ((int8_t *) mem_181515)[j_177399];
                        int64_t copy_arg0_177405 = ((int64_t *) mem_181517)[j_177399];
                        int64_t copy_arg0_177406 = ((int64_t *) mem_181519)[j_177399];
                        int8_t copy_arg0_177412 = ((int8_t *) mem_181515)[copy_arg0_177407];
                        int64_t copy_arg0_177413 = ((int64_t *) mem_181517)[copy_arg0_177407];
                        int64_t copy_arg0_177414 = ((int64_t *) mem_181519)[copy_arg0_177407];
                        
                        ((int8_t *) mem_181515)[j_177399] = copy_arg0_177412;
                        ((int64_t *) mem_181517)[j_177399] = copy_arg0_177413;
                        ((int64_t *) mem_181519)[j_177399] = copy_arg0_177414;
                        ((int8_t *) mem_181515)[copy_arg0_177407] = copy_arg0_177404;
                        ((int64_t *) mem_181517)[copy_arg0_177407] = copy_arg0_177405;
                        ((int64_t *) mem_181519)[copy_arg0_177407] = copy_arg0_177406;
                        
                        int64_t tmp_177421 = sub64(j_177399, (int64_t) 1);
                        bool cond_177422 = sle64((int64_t) 0, tmp_177421);
                        bool loop_cond_177423;
                        
                        if (cond_177422) {
                            bool y_180143 = slt64(tmp_177421, block_sizze_177290);
                            bool bounds_check_180144 = cond_177422 && y_180143;
                            bool index_certs_180145;
                            
                            if (!bounds_check_180144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177421, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180140 = ((int8_t *) mem_181515)[j_177399];
                            int64_t gt_arg1_180141 = ((int64_t *) mem_181517)[j_177399];
                            int64_t gt_arg1_180142 = ((int64_t *) mem_181519)[j_177399];
                            int8_t gt_arg0_180146 = ((int8_t *) mem_181515)[tmp_177421];
                            int64_t gt_arg0_180147 = ((int64_t *) mem_181517)[tmp_177421];
                            int64_t gt_arg0_180148 = ((int64_t *) mem_181519)[tmp_177421];
                            bool cond_180149 = gt_arg0_180146 == gt_arg1_180140;
                            bool defunc_0_leq_res_t_res_180150 = sle64(gt_arg0_180147, gt_arg1_180141);
                            bool defunc_0_leq_res_180151 = sle64(gt_arg0_180148, gt_arg1_180142);
                            bool x_180152 = cond_180149 && defunc_0_leq_res_t_res_180150;
                            bool x_180153 = !cond_180149;
                            bool y_180154 = defunc_0_leq_res_180151 && x_180153;
                            bool defunc_0_leq_res_180155 = x_180152 || y_180154;
                            bool defunc_0_lifted_gt_res_180156 = !defunc_0_leq_res_180155;
                            
                            loop_cond_177423 = defunc_0_lifted_gt_res_180156;
                        } else {
                            loop_cond_177423 = 0;
                        }
                        
                        bool loop_while_tmp_182327 = loop_cond_177423;
                        int64_t j_tmp_182331 = tmp_177421;
                        
                        loop_while_177395 = loop_while_tmp_182327;
                        j_177399 = j_tmp_182331;
                    }
                    s_177390 = loop_while_177395;
                    s_177394 = j_177399;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181496, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181515, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181499, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181517, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181502, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181519, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
        }
        if (memblock_alloc(ctx, &mem_181596, flat_dim_177291, "mem_181596")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181596.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint8_t *) mem_181496, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181600, bytes_181498, "mem_181600")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181600.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181499, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181604, bytes_181498, "mem_181604")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181604.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181502, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        
        int64_t data_177447;
        bool data_177448;
        int64_t data_177452;
        int64_t loop_dz2084Uz2082U_177453;
        bool loop_while_177454;
        int64_t stride_177458;
        
        if (memblock_set(ctx, &mem_param_181608, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181611, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181614, &mem_181604, "mem_181604") != 0)
            return 1;
        loop_dz2084Uz2082U_177453 = flat_dim_177291;
        loop_while_177454 = loop_cond_177444;
        stride_177458 = block_sizze_177290;
        while (loop_while_177454) {
            int64_t next_stride_177459 = mul64((int64_t) 2, stride_177458);
            bool zzero_177460 = next_stride_177459 == (int64_t) 0;
            bool nonzzero_177461 = !zzero_177460;
            bool nonzzero_cert_177462;
            
            if (!nonzzero_177461) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177463 = sdiv64(flat_dim_177291, next_stride_177459);
            bool bounds_invalid_upwards_177464 = slt64(num_merges_177463, (int64_t) 0);
            bool valid_177465 = !bounds_invalid_upwards_177464;
            bool range_valid_c_177466;
            
            if (!valid_177465) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177463, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177468 = sub64(next_stride_177459, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177469 = sle64((int64_t) 0, m_177468);
            bool cond_177471 = slt64(next_stride_177459, (int64_t) 10);
            bool protect_assert_disj_177472 = nonzzero_177446 || cond_177471;
            bool nonzzero_cert_177473;
            
            if (!protect_assert_disj_177472) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177474 = smod_safe64(next_stride_177459, merge_block_sizze_177296);
            bool num_blocks_177475 = zeze_lhs_177474 == (int64_t) 0;
            bool protect_assert_disj_177476 = cond_177471 || num_blocks_177475;
            bool assert_c_177477;
            
            if (!protect_assert_disj_177476) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177479 = sdiv_safe64(next_stride_177459, merge_block_sizze_177296);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480 = add64((int64_t) 1, num_blocks_177479);
            int64_t j_m_i_177481 = sub64(next_stride_177459, stride_177458);
            int64_t flat_dim_177482 = merge_block_sizze_177296 * num_blocks_177479;
            bool bounds_invalid_upwards_177483 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, (int64_t) 0);
            bool empty_slice_177484 = j_m_i_177481 == (int64_t) 0;
            int64_t m_177485 = sub64(j_m_i_177481, (int64_t) 1);
            bool zzero_lte_i_177486 = sle64((int64_t) 0, stride_177458);
            bool i_lte_j_177487 = sle64(stride_177458, next_stride_177459);
            bool empty_slice_177488 = stride_177458 == (int64_t) 0;
            int64_t m_177489 = sub64(stride_177458, (int64_t) 1);
            bool bounds_invalid_upwards_177490 = slt64(num_blocks_177479, (int64_t) 0);
            bool cond_177491 = slt64((int64_t) 0, stride_177458);
            bool valid_177492 = !bounds_invalid_upwards_177483;
            int64_t i_p_m_t_s_177493 = add64(stride_177458, m_177485);
            bool zzero_leq_i_p_m_t_s_177494 = sle64((int64_t) 0, m_177489);
            bool i_p_m_t_s_leq_w_177495 = slt64(m_177489, next_stride_177459);
            bool valid_177496 = !bounds_invalid_upwards_177490;
            bool i_p_m_t_s_leq_w_177497 = slt64(m_177468, flat_dim_177482);
            bool y_177498 = slt64((int64_t) 0, j_m_i_177481);
            bool protect_assert_disj_177499 = cond_177471 || valid_177492;
            bool range_valid_c_177500;
            
            if (!protect_assert_disj_177499) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177501 = sle64((int64_t) 0, i_p_m_t_s_177493);
            bool i_p_m_t_s_leq_w_177502 = slt64(i_p_m_t_s_177493, next_stride_177459);
            bool y_177503 = zzero_leq_i_p_m_t_s_177494 && i_p_m_t_s_leq_w_177495;
            bool protect_assert_disj_177504 = cond_177471 || valid_177496;
            bool range_valid_c_177505;
            
            if (!protect_assert_disj_177504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177479, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177506 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177497;
            bool y_177507 = zzero_lte_i_177486 && i_p_m_t_s_leq_w_177502;
            bool forwards_ok_177508 = zzero_lte_i_177486 && y_177503;
            bool ok_or_empty_177509 = zzero_177460 || y_177506;
            bool protect_assert_disj_177510 = cond_177491 || y_177498;
            bool y_177511 = zzero_leq_i_p_m_t_s_177501 && y_177507;
            bool ok_or_empty_177512 = empty_slice_177488 || forwards_ok_177508;
            bool protect_assert_disj_177513 = cond_177471 || ok_or_empty_177509;
            bool index_certs_177514;
            
            if (!protect_assert_disj_177513) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) flat_dim_177482, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177515 = !cond_177471;
            bool protect_assert_disj_177516 = protect_assert_disj_177510 || loop_not_taken_177515;
            bool index_certs_177517;
            
            if (!protect_assert_disj_177516) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177518 = i_lte_j_177487 && y_177511;
            bool protect_assert_disj_177519 = cond_177471 || ok_or_empty_177512;
            bool index_certs_177520;
            
            if (!protect_assert_disj_177519) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177521 = ok_or_empty_177512 || loop_not_taken_177515;
            bool index_certs_177522;
            
            if (!protect_assert_disj_177521) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177523 = empty_slice_177484 || forwards_ok_177518;
            bool protect_assert_disj_177524 = cond_177471 || ok_or_empty_177523;
            bool index_certs_177525;
            
            if (!protect_assert_disj_177524) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177526 = loop_not_taken_177515 || ok_or_empty_177523;
            bool index_certs_177527;
            
            if (!protect_assert_disj_177526) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181615 = next_stride_177459 * num_merges_177463;
            int64_t binop_x_181617 = (int64_t) 8 * num_merges_177463;
            int64_t bytes_181618 = next_stride_177459 * binop_x_181617;
            bool i_lte_j_177470 = sle64((int64_t) 0, next_stride_177459);
            
            if (mem_181616_cached_sizze_182642 < bytes_181615) {
                err = lexical_realloc(ctx, &mem_181616, &mem_181616_cached_sizze_182642, bytes_181615);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181619_cached_sizze_182643 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181619, &mem_181619_cached_sizze_182643, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181622_cached_sizze_182644 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181622, &mem_181622_cached_sizze_182644, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181635 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480;
            int64_t binop_x_181653 = (int64_t) 8 * num_blocks_177479;
            int64_t bytes_181654 = merge_block_sizze_177296 * binop_x_181653;
            int64_t bytes_181718 = (int64_t) 16 * stride_177458;
            
            for (int64_t i_180551 = 0; i_180551 < num_merges_177463; i_180551++) {
                int64_t start_177532 = mul64(next_stride_177459, i_180551);
                int64_t j_m_i_177533 = sub64(loop_dz2084Uz2082U_177453, start_177532);
                bool empty_slice_177534 = j_m_i_177533 == (int64_t) 0;
                int64_t m_177535 = sub64(j_m_i_177533, (int64_t) 1);
                int64_t i_p_m_t_s_177536 = add64(start_177532, m_177535);
                bool zzero_leq_i_p_m_t_s_177537 = sle64((int64_t) 0, i_p_m_t_s_177536);
                bool i_p_m_t_s_leq_w_177538 = slt64(i_p_m_t_s_177536, loop_dz2084Uz2082U_177453);
                bool zzero_lte_i_177539 = sle64((int64_t) 0, start_177532);
                bool i_lte_j_177540 = sle64(start_177532, loop_dz2084Uz2082U_177453);
                bool y_177541 = i_p_m_t_s_leq_w_177538 && zzero_lte_i_177539;
                bool y_177542 = zzero_leq_i_p_m_t_s_177537 && y_177541;
                bool forwards_ok_177543 = i_lte_j_177540 && y_177542;
                bool ok_or_empty_177544 = empty_slice_177534 || forwards_ok_177543;
                bool index_certs_177545;
                
                if (!ok_or_empty_177544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177532, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177453, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177546 = slt64(m_177468, j_m_i_177533);
                bool y_177547 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177546;
                bool forwards_ok_177548 = i_lte_j_177470 && y_177547;
                bool ok_or_empty_177549 = zzero_177460 || forwards_ok_177548;
                bool index_certs_177550;
                
                if (!ok_or_empty_177549) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) j_m_i_177533, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177471) {
                    int8_t dummy_180195;
                    int64_t dummy_180196;
                    int64_t dummy_180197;
                    
                    if (cond_177491) {
                        int8_t head_res_180198 = ((int8_t *) mem_param_181608.mem)[start_177532];
                        int64_t head_res_180199 = ((int64_t *) mem_param_181611.mem)[start_177532];
                        int64_t head_res_180200 = ((int64_t *) mem_param_181614.mem)[start_177532];
                        
                        dummy_180195 = head_res_180198;
                        dummy_180196 = head_res_180199;
                        dummy_180197 = head_res_180200;
                    } else {
                        int64_t slice_180201 = stride_177458 + start_177532;
                        int8_t head_res_180202 = ((int8_t *) mem_param_181608.mem)[slice_180201];
                        int64_t head_res_180203 = ((int64_t *) mem_param_181611.mem)[slice_180201];
                        int64_t head_res_180204 = ((int64_t *) mem_param_181614.mem)[slice_180201];
                        
                        dummy_180195 = head_res_180202;
                        dummy_180196 = head_res_180203;
                        dummy_180197 = head_res_180204;
                    }
                    if (memblock_alloc(ctx, &mem_181717, next_stride_177459, "mem_181717")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182344 = 0; nest_i_182344 < next_stride_177459; nest_i_182344++) {
                        ((int8_t *) mem_181717.mem)[nest_i_182344] = dummy_180195;
                    }
                    if (memblock_alloc(ctx, &mem_181719, bytes_181718, "mem_181719")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182345 = 0; nest_i_182345 < next_stride_177459; nest_i_182345++) {
                        ((int64_t *) mem_181719.mem)[nest_i_182345] = dummy_180196;
                    }
                    if (memblock_alloc(ctx, &mem_181721, bytes_181718, "mem_181721")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182346 = 0; nest_i_182346 < next_stride_177459; nest_i_182346++) {
                        ((int64_t *) mem_181721.mem)[nest_i_182346] = dummy_180197;
                    }
                    
                    int64_t data_180208;
                    int64_t i_180213 = (int64_t) 0;
                    
                    for (int64_t k_180212 = 0; k_180212 < next_stride_177459; k_180212++) {
                        int64_t j_180217 = sub64(k_180212, i_180213);
                        bool cond_180218 = j_180217 == j_m_i_177481;
                        bool cond_180219;
                        
                        if (cond_180218) {
                            cond_180219 = 1;
                        } else {
                            bool cond_180220 = slt64(i_180213, stride_177458);
                            bool cond_f_res_180221;
                            
                            if (cond_180220) {
                                bool x_180222 = sle64((int64_t) 0, j_180217);
                                bool y_180223 = slt64(j_180217, j_m_i_177481);
                                bool bounds_check_180224 = x_180222 && y_180223;
                                bool index_certs_180225;
                                
                                if (!bounds_check_180224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180231 = sle64((int64_t) 0, i_180213);
                                bool bounds_check_180232 = cond_180220 && x_180231;
                                bool index_certs_180233;
                                
                                if (!bounds_check_180232) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180226 = stride_177458 + j_180217;
                                int64_t slice_180227 = start_177532 + slice_180226;
                                int8_t leq_arg1_180228 = ((int8_t *) mem_param_181608.mem)[slice_180227];
                                int64_t leq_arg1_180229 = ((int64_t *) mem_param_181611.mem)[slice_180227];
                                int64_t leq_arg1_180230 = ((int64_t *) mem_param_181614.mem)[slice_180227];
                                int64_t slice_180234 = start_177532 + i_180213;
                                int8_t leq_arg0_180235 = ((int8_t *) mem_param_181608.mem)[slice_180234];
                                int64_t leq_arg0_180236 = ((int64_t *) mem_param_181611.mem)[slice_180234];
                                int64_t leq_arg0_180237 = ((int64_t *) mem_param_181614.mem)[slice_180234];
                                bool cond_180238 = leq_arg0_180235 == leq_arg1_180228;
                                bool defunc_0_leq_res_t_res_180239 = sle64(leq_arg0_180236, leq_arg1_180229);
                                bool defunc_0_leq_res_180240 = sle64(leq_arg0_180237, leq_arg1_180230);
                                bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                bool x_180242 = !cond_180238;
                                bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                
                                cond_f_res_180221 = defunc_0_leq_res_180244;
                            } else {
                                cond_f_res_180221 = 0;
                            }
                            cond_180219 = cond_f_res_180221;
                        }
                        
                        int64_t loopres_180245;
                        int8_t loopres_180246;
                        int64_t loopres_180247;
                        int64_t loopres_180248;
                        
                        if (cond_180219) {
                            bool x_180250 = sle64((int64_t) 0, i_180213);
                            bool y_180251 = slt64(i_180213, stride_177458);
                            bool bounds_check_180252 = x_180250 && y_180251;
                            bool index_certs_180253;
                            
                            if (!bounds_check_180252) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180249 = add64((int64_t) 1, i_180213);
                            int64_t slice_180254 = start_177532 + i_180213;
                            int8_t tmp_180255 = ((int8_t *) mem_param_181608.mem)[slice_180254];
                            int64_t tmp_180256 = ((int64_t *) mem_param_181611.mem)[slice_180254];
                            int64_t tmp_180257 = ((int64_t *) mem_param_181614.mem)[slice_180254];
                            
                            loopres_180245 = tmp_180249;
                            loopres_180246 = tmp_180255;
                            loopres_180247 = tmp_180256;
                            loopres_180248 = tmp_180257;
                        } else {
                            bool x_180258 = sle64((int64_t) 0, j_180217);
                            bool y_180259 = slt64(j_180217, j_m_i_177481);
                            bool bounds_check_180260 = x_180258 && y_180259;
                            bool index_certs_180261;
                            
                            if (!bounds_check_180260) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180262 = stride_177458 + j_180217;
                            int64_t slice_180263 = start_177532 + slice_180262;
                            int8_t tmp_180264 = ((int8_t *) mem_param_181608.mem)[slice_180263];
                            int64_t tmp_180265 = ((int64_t *) mem_param_181611.mem)[slice_180263];
                            int64_t tmp_180266 = ((int64_t *) mem_param_181614.mem)[slice_180263];
                            
                            loopres_180245 = i_180213;
                            loopres_180246 = tmp_180264;
                            loopres_180247 = tmp_180265;
                            loopres_180248 = tmp_180266;
                        }
                        ((int8_t *) mem_181717.mem)[k_180212] = loopres_180246;
                        ((int64_t *) mem_181719.mem)[k_180212] = loopres_180247;
                        ((int64_t *) mem_181721.mem)[k_180212] = loopres_180248;
                        
                        int64_t i_tmp_182347 = loopres_180245;
                        
                        i_180213 = i_tmp_182347;
                    }
                    data_180208 = i_180213;
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181717, "mem_181717") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181719, "mem_181719") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181721, "mem_181721") != 0)
                        return 1;
                } else {
                    if (mem_181636_cached_sizze_182645 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181636, &mem_181636_cached_sizze_182645, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181638_cached_sizze_182646 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181638, &mem_181638_cached_sizze_182646, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180532 = 0; i_180532 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480; i_180532++) {
                        int64_t split_count_arg3_177633 = mul64(merge_block_sizze_177296, i_180532);
                        int64_t defunc_0_split_count_res_177634;
                        int64_t defunc_0_split_count_res_177635;
                        int64_t defunc_0_split_count_res_177636;
                        int64_t defunc_0_split_count_res_177637;
                        int64_t defunc_0_split_count_res_177638;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_177634, &defunc_0_split_count_res_177635, &defunc_0_split_count_res_177636, &defunc_0_split_count_res_177637, &defunc_0_split_count_res_177638, (int64_t) 0, stride_177458, (int64_t) 0, j_m_i_177481, split_count_arg3_177633) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177639 = slt64((int64_t) 0, defunc_0_split_count_res_177638);
                        bool defunc_0_split_count_res_177640;
                        int64_t defunc_0_split_count_res_177641;
                        int64_t defunc_0_split_count_res_177642;
                        int64_t defunc_0_split_count_res_177643;
                        int64_t defunc_0_split_count_res_177644;
                        int64_t defunc_0_split_count_res_177645;
                        bool loop_while_177646;
                        int64_t ss_177647;
                        int64_t ss_177648;
                        int64_t tt_177649;
                        int64_t tt_177650;
                        int64_t count_177651;
                        
                        loop_while_177646 = loop_cond_177639;
                        ss_177647 = defunc_0_split_count_res_177634;
                        ss_177648 = defunc_0_split_count_res_177635;
                        tt_177649 = defunc_0_split_count_res_177636;
                        tt_177650 = defunc_0_split_count_res_177637;
                        count_177651 = defunc_0_split_count_res_177638;
                        while (loop_while_177646) {
                            int64_t zlze_lhs_177652 = sub64(ss_177648, ss_177647);
                            bool cond_177653 = sle64(zlze_lhs_177652, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177654;
                            int64_t defunc_0_lifted_step_res_177655;
                            int64_t defunc_0_lifted_step_res_177656;
                            int64_t defunc_0_lifted_step_res_177657;
                            
                            if (cond_177653) {
                                int64_t tmp_180270 = add64(tt_177649, count_177651);
                                
                                defunc_0_lifted_step_res_177654 = ss_177647;
                                defunc_0_lifted_step_res_177655 = tmp_180270;
                                defunc_0_lifted_step_res_177656 = tt_177650;
                                defunc_0_lifted_step_res_177657 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177659 = sub64(tt_177650, tt_177649);
                                bool cond_177660 = sle64(zlze_lhs_177659, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177661;
                                int64_t defunc_0_lifted_step_res_f_res_177662;
                                int64_t defunc_0_lifted_step_res_f_res_177663;
                                int64_t defunc_0_lifted_step_res_f_res_177664;
                                
                                if (cond_177660) {
                                    int64_t tmp_180271 = add64(ss_177647, count_177651);
                                    
                                    defunc_0_lifted_step_res_f_res_177661 = tmp_180271;
                                    defunc_0_lifted_step_res_f_res_177662 = tt_177649;
                                    defunc_0_lifted_step_res_f_res_177663 = tt_177650;
                                    defunc_0_lifted_step_res_f_res_177664 = (int64_t) 0;
                                } else {
                                    bool cond_177666 = count_177651 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177667;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177668;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177669;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177670;
                                    
                                    if (cond_177666) {
                                        bool x_180273 = sle64((int64_t) 0, ss_177647);
                                        bool y_180274 = slt64(ss_177647, stride_177458);
                                        bool bounds_check_180275 = x_180273 && y_180274;
                                        bool index_certs_180276;
                                        
                                        if (!bounds_check_180275) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177647, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180281 = sle64((int64_t) 0, tt_177649);
                                        bool y_180282 = slt64(tt_177649, j_m_i_177481);
                                        bool bounds_check_180283 = x_180281 && y_180282;
                                        bool index_certs_180284;
                                        
                                        if (!bounds_check_180283) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177649, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180277 = start_177532 + ss_177647;
                                        int8_t leq_arg1_180278 = ((int8_t *) mem_param_181608.mem)[slice_180277];
                                        int64_t leq_arg1_180279 = ((int64_t *) mem_param_181611.mem)[slice_180277];
                                        int64_t leq_arg1_180280 = ((int64_t *) mem_param_181614.mem)[slice_180277];
                                        int64_t slice_180285 = stride_177458 + tt_177649;
                                        int64_t slice_180286 = start_177532 + slice_180285;
                                        int8_t leq_arg0_180287 = ((int8_t *) mem_param_181608.mem)[slice_180286];
                                        int64_t leq_arg0_180288 = ((int64_t *) mem_param_181611.mem)[slice_180286];
                                        int64_t leq_arg0_180289 = ((int64_t *) mem_param_181614.mem)[slice_180286];
                                        bool cond_180290 = leq_arg0_180287 == leq_arg1_180278;
                                        bool defunc_0_leq_res_t_res_180291 = sle64(leq_arg0_180288, leq_arg1_180279);
                                        bool defunc_0_leq_res_180292 = sle64(leq_arg0_180289, leq_arg1_180280);
                                        bool x_180293 = cond_180290 && defunc_0_leq_res_t_res_180291;
                                        bool x_180294 = !cond_180290;
                                        bool y_180295 = defunc_0_leq_res_180292 && x_180294;
                                        bool defunc_0_leq_res_180296 = x_180293 || y_180295;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            int64_t tmp_180299 = add64((int64_t) 1, tt_177649);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = ss_177647;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tmp_180299;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, ss_177647);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = tmp_180300;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tt_177649;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = tt_177650;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = (int64_t) 0;
                                    } else {
                                        int64_t m_177699 = sdiv64(count_177651, (int64_t) 2);
                                        int64_t n_177700 = sub64(count_177651, m_177699);
                                        bool cond_177701 = n_177700 == (int64_t) 0;
                                        int64_t zgze_lhs_177702 = add64(ss_177647, m_177699);
                                        bool cond_f_res_177703 = sle64(ss_177648, zgze_lhs_177702);
                                        bool x_177704 = !cond_177701;
                                        bool y_177705 = cond_f_res_177703 && x_177704;
                                        bool cond_177706 = cond_177701 || y_177705;
                                        bool leq_y_x_177707;
                                        
                                        if (cond_177706) {
                                            leq_y_x_177707 = 1;
                                        } else {
                                            bool x_177708 = sle64((int64_t) 0, zgze_lhs_177702);
                                            bool y_177709 = slt64(zgze_lhs_177702, stride_177458);
                                            bool bounds_check_177710 = x_177708 && y_177709;
                                            bool index_certs_177711;
                                            
                                            if (!bounds_check_177710) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177702, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177716 = add64(tt_177649, n_177700);
                                            int64_t leq_arg0_177717 = sub64(zm_lhs_177716, (int64_t) 1);
                                            bool x_177718 = sle64((int64_t) 0, leq_arg0_177717);
                                            bool y_177719 = slt64(leq_arg0_177717, j_m_i_177481);
                                            bool bounds_check_177720 = x_177718 && y_177719;
                                            bool index_certs_177721;
                                            
                                            if (!bounds_check_177720) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177717, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177712 = start_177532 + zgze_lhs_177702;
                                            int8_t leq_arg1_177713 = ((int8_t *) mem_param_181608.mem)[slice_177712];
                                            int64_t leq_arg1_177714 = ((int64_t *) mem_param_181611.mem)[slice_177712];
                                            int64_t leq_arg1_177715 = ((int64_t *) mem_param_181614.mem)[slice_177712];
                                            int64_t slice_177722 = stride_177458 + leq_arg0_177717;
                                            int64_t slice_177723 = start_177532 + slice_177722;
                                            int8_t leq_arg0_177724 = ((int8_t *) mem_param_181608.mem)[slice_177723];
                                            int64_t leq_arg0_177725 = ((int64_t *) mem_param_181611.mem)[slice_177723];
                                            int64_t leq_arg0_177726 = ((int64_t *) mem_param_181614.mem)[slice_177723];
                                            bool cond_177727 = leq_arg0_177724 == leq_arg1_177713;
                                            bool defunc_0_leq_res_t_res_177728 = sle64(leq_arg0_177725, leq_arg1_177714);
                                            bool defunc_0_leq_res_177729 = sle64(leq_arg0_177726, leq_arg1_177715);
                                            bool x_177730 = cond_177727 && defunc_0_leq_res_t_res_177728;
                                            bool x_177731 = !cond_177727;
                                            bool y_177732 = defunc_0_leq_res_177729 && x_177731;
                                            bool defunc_0_leq_res_177733 = x_177730 || y_177732;
                                            
                                            leq_y_x_177707 = defunc_0_leq_res_177733;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                        
                                        if (leq_y_x_177707) {
                                            int64_t tmp_180301 = add64(tt_177649, n_177700);
                                            int64_t tmp_180302 = sub64(count_177651, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tmp_180301;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tt_177650;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = tmp_180302;
                                        } else {
                                            int64_t tmp_177739 = add64(tt_177649, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tt_177649;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tmp_177739;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = count_177651;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = ss_177647;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                    }
                                    defunc_0_lifted_step_res_f_res_177661 = defunc_0_lifted_step_res_f_res_f_res_177667;
                                    defunc_0_lifted_step_res_f_res_177662 = defunc_0_lifted_step_res_f_res_f_res_177668;
                                    defunc_0_lifted_step_res_f_res_177663 = defunc_0_lifted_step_res_f_res_f_res_177669;
                                    defunc_0_lifted_step_res_f_res_177664 = defunc_0_lifted_step_res_f_res_f_res_177670;
                                }
                                defunc_0_lifted_step_res_177654 = defunc_0_lifted_step_res_f_res_177661;
                                defunc_0_lifted_step_res_177655 = defunc_0_lifted_step_res_f_res_177662;
                                defunc_0_lifted_step_res_177656 = defunc_0_lifted_step_res_f_res_177663;
                                defunc_0_lifted_step_res_177657 = defunc_0_lifted_step_res_f_res_177664;
                            }
                            
                            int64_t loopres_177740;
                            int64_t loopres_177741;
                            int64_t loopres_177742;
                            int64_t loopres_177743;
                            int64_t loopres_177744;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_177740, &loopres_177741, &loopres_177742, &loopres_177743, &loopres_177744, defunc_0_lifted_step_res_177654, ss_177648, defunc_0_lifted_step_res_177655, defunc_0_lifted_step_res_177656, defunc_0_lifted_step_res_177657) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177745 = slt64((int64_t) 0, loopres_177744);
                            bool loop_while_tmp_182353 = loop_cond_177745;
                            int64_t ss_tmp_182354 = loopres_177740;
                            int64_t ss_tmp_182355 = loopres_177741;
                            int64_t tt_tmp_182356 = loopres_177742;
                            int64_t tt_tmp_182357 = loopres_177743;
                            int64_t count_tmp_182358 = loopres_177744;
                            
                            loop_while_177646 = loop_while_tmp_182353;
                            ss_177647 = ss_tmp_182354;
                            ss_177648 = ss_tmp_182355;
                            tt_177649 = tt_tmp_182356;
                            tt_177650 = tt_tmp_182357;
                            count_177651 = count_tmp_182358;
                        }
                        defunc_0_split_count_res_177640 = loop_while_177646;
                        defunc_0_split_count_res_177641 = ss_177647;
                        defunc_0_split_count_res_177642 = ss_177648;
                        defunc_0_split_count_res_177643 = tt_177649;
                        defunc_0_split_count_res_177644 = tt_177650;
                        defunc_0_split_count_res_177645 = count_177651;
                        ((int64_t *) mem_181636)[i_180532] = defunc_0_split_count_res_177641;
                        ((int64_t *) mem_181638)[i_180532] = defunc_0_split_count_res_177643;
                    }
                    if (mem_181652_cached_sizze_182647 < flat_dim_177482) {
                        err = lexical_realloc(ctx, &mem_181652, &mem_181652_cached_sizze_182647, flat_dim_177482);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181655_cached_sizze_182648 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181655, &mem_181655_cached_sizze_182648, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181658_cached_sizze_182649 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181658, &mem_181658_cached_sizze_182649, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180541 = 0; i_180541 < num_blocks_177479; i_180541++) {
                        bool y_177752 = slt64(i_180541, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool index_certs_177754;
                        
                        if (!y_177752) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177755 = ((int64_t *) mem_181636)[i_180541];
                        int64_t defunc_0_f_res_177756 = ((int64_t *) mem_181638)[i_180541];
                        int64_t tmp_177757 = add64((int64_t) 1, i_180541);
                        bool x_177758 = sle64((int64_t) 0, tmp_177757);
                        bool y_177759 = slt64(tmp_177757, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool bounds_check_177760 = x_177758 && y_177759;
                        bool index_certs_177761;
                        
                        if (!bounds_check_177760) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177762 = ((int64_t *) mem_181636)[tmp_177757];
                        int64_t defunc_0_f_res_177763 = ((int64_t *) mem_181638)[tmp_177757];
                        int64_t merge_sequential_arg2_177764 = add64(stride_177458, defunc_0_f_res_177756);
                        int64_t merge_sequential_arg2_177765 = add64(stride_177458, defunc_0_f_res_177763);
                        int64_t j_m_i_177766 = sub64(merge_sequential_arg2_177765, merge_sequential_arg2_177764);
                        bool empty_slice_177767 = j_m_i_177766 == (int64_t) 0;
                        int64_t m_177768 = sub64(j_m_i_177766, (int64_t) 1);
                        int64_t i_p_m_t_s_177769 = add64(merge_sequential_arg2_177764, m_177768);
                        bool zzero_leq_i_p_m_t_s_177770 = sle64((int64_t) 0, i_p_m_t_s_177769);
                        bool i_p_m_t_s_leq_w_177771 = slt64(i_p_m_t_s_177769, next_stride_177459);
                        bool zzero_lte_i_177772 = sle64((int64_t) 0, merge_sequential_arg2_177764);
                        bool i_lte_j_177773 = sle64(merge_sequential_arg2_177764, merge_sequential_arg2_177765);
                        bool y_177774 = i_p_m_t_s_leq_w_177771 && zzero_lte_i_177772;
                        bool y_177775 = zzero_leq_i_p_m_t_s_177770 && y_177774;
                        bool forwards_ok_177776 = i_lte_j_177773 && y_177775;
                        bool ok_or_empty_177777 = empty_slice_177767 || forwards_ok_177776;
                        bool index_certs_177778;
                        
                        if (!ok_or_empty_177777) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177764, ":", (long long) merge_sequential_arg2_177765, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177779 = sub64(defunc_0_f_res_177762, defunc_0_f_res_177755);
                        bool empty_slice_177780 = j_m_i_177779 == (int64_t) 0;
                        int64_t m_177781 = sub64(j_m_i_177779, (int64_t) 1);
                        int64_t i_p_m_t_s_177782 = add64(defunc_0_f_res_177755, m_177781);
                        bool zzero_leq_i_p_m_t_s_177783 = sle64((int64_t) 0, i_p_m_t_s_177782);
                        bool i_p_m_t_s_leq_w_177784 = slt64(i_p_m_t_s_177782, next_stride_177459);
                        bool zzero_lte_i_177785 = sle64((int64_t) 0, defunc_0_f_res_177755);
                        bool i_lte_j_177786 = sle64(defunc_0_f_res_177755, defunc_0_f_res_177762);
                        bool y_177787 = i_p_m_t_s_leq_w_177784 && zzero_lte_i_177785;
                        bool y_177788 = zzero_leq_i_p_m_t_s_177783 && y_177787;
                        bool forwards_ok_177789 = i_lte_j_177786 && y_177788;
                        bool ok_or_empty_177790 = empty_slice_177780 || forwards_ok_177789;
                        bool index_certs_177791;
                        
                        if (!ok_or_empty_177790) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177755, ":", (long long) defunc_0_f_res_177762, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177792 = slt64((int64_t) 0, j_m_i_177779);
                        int8_t dummy_177793;
                        int64_t dummy_177794;
                        int64_t dummy_177795;
                        
                        if (cond_177792) {
                            bool index_certs_180303;
                            
                            if (!cond_177792) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180304 = start_177532 + defunc_0_f_res_177755;
                            int8_t head_res_180305 = ((int8_t *) mem_param_181608.mem)[slice_180304];
                            int64_t head_res_180306 = ((int64_t *) mem_param_181611.mem)[slice_180304];
                            int64_t head_res_180307 = ((int64_t *) mem_param_181614.mem)[slice_180304];
                            
                            dummy_177793 = head_res_180305;
                            dummy_177794 = head_res_180306;
                            dummy_177795 = head_res_180307;
                        } else {
                            bool y_177801 = slt64((int64_t) 0, j_m_i_177766);
                            bool index_certs_177802;
                            
                            if (!y_177801) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177803 = start_177532 + merge_sequential_arg2_177764;
                            int8_t head_res_177804 = ((int8_t *) mem_param_181608.mem)[slice_177803];
                            int64_t head_res_177805 = ((int64_t *) mem_param_181611.mem)[slice_177803];
                            int64_t head_res_177806 = ((int64_t *) mem_param_181614.mem)[slice_177803];
                            
                            dummy_177793 = head_res_177804;
                            dummy_177794 = head_res_177805;
                            dummy_177795 = head_res_177806;
                        }
                        for (int64_t nest_i_182362 = 0; nest_i_182362 < merge_block_sizze_177296; nest_i_182362++) {
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + nest_i_182362] = dummy_177793;
                        }
                        for (int64_t nest_i_182363 = 0; nest_i_182363 < merge_block_sizze_177296; nest_i_182363++) {
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + nest_i_182363] = dummy_177794;
                        }
                        for (int64_t nest_i_182364 = 0; nest_i_182364 < merge_block_sizze_177296; nest_i_182364++) {
                            ((int64_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + nest_i_182364] = dummy_177795;
                        }
                        
                        int64_t data_177810;
                        int64_t i_177815 = (int64_t) 0;
                        
                        for (int64_t k_177814 = 0; k_177814 < merge_block_sizze_177296; k_177814++) {
                            int64_t j_177819 = sub64(k_177814, i_177815);
                            bool cond_177820 = j_177819 == j_m_i_177766;
                            bool cond_177821;
                            
                            if (cond_177820) {
                                cond_177821 = 1;
                            } else {
                                bool cond_177822 = slt64(i_177815, j_m_i_177779);
                                bool cond_f_res_177823;
                                
                                if (cond_177822) {
                                    bool x_180308 = sle64((int64_t) 0, j_177819);
                                    bool y_180309 = slt64(j_177819, j_m_i_177766);
                                    bool bounds_check_180310 = x_180308 && y_180309;
                                    bool index_certs_180311;
                                    
                                    if (!bounds_check_180310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180317 = sle64((int64_t) 0, i_177815);
                                    bool bounds_check_180318 = cond_177822 && x_180317;
                                    bool index_certs_180319;
                                    
                                    if (!bounds_check_180318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180312 = merge_sequential_arg2_177764 + j_177819;
                                    int64_t slice_180313 = start_177532 + slice_180312;
                                    int8_t leq_arg1_180314 = ((int8_t *) mem_param_181608.mem)[slice_180313];
                                    int64_t leq_arg1_180315 = ((int64_t *) mem_param_181611.mem)[slice_180313];
                                    int64_t leq_arg1_180316 = ((int64_t *) mem_param_181614.mem)[slice_180313];
                                    int64_t slice_180320 = defunc_0_f_res_177755 + i_177815;
                                    int64_t slice_180321 = start_177532 + slice_180320;
                                    int8_t leq_arg0_180322 = ((int8_t *) mem_param_181608.mem)[slice_180321];
                                    int64_t leq_arg0_180323 = ((int64_t *) mem_param_181611.mem)[slice_180321];
                                    int64_t leq_arg0_180324 = ((int64_t *) mem_param_181614.mem)[slice_180321];
                                    bool cond_180325 = leq_arg0_180322 == leq_arg1_180314;
                                    bool defunc_0_leq_res_t_res_180326 = sle64(leq_arg0_180323, leq_arg1_180315);
                                    bool defunc_0_leq_res_180327 = sle64(leq_arg0_180324, leq_arg1_180316);
                                    bool x_180328 = cond_180325 && defunc_0_leq_res_t_res_180326;
                                    bool x_180329 = !cond_180325;
                                    bool y_180330 = defunc_0_leq_res_180327 && x_180329;
                                    bool defunc_0_leq_res_180331 = x_180328 || y_180330;
                                    
                                    cond_f_res_177823 = defunc_0_leq_res_180331;
                                } else {
                                    cond_f_res_177823 = 0;
                                }
                                cond_177821 = cond_f_res_177823;
                            }
                            
                            int64_t loopres_177848;
                            int8_t loopres_177849;
                            int64_t loopres_177850;
                            int64_t loopres_177851;
                            
                            if (cond_177821) {
                                bool x_180333 = sle64((int64_t) 0, i_177815);
                                bool y_180334 = slt64(i_177815, j_m_i_177779);
                                bool bounds_check_180335 = x_180333 && y_180334;
                                bool index_certs_180336;
                                
                                if (!bounds_check_180335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180332 = add64((int64_t) 1, i_177815);
                                int64_t slice_180337 = defunc_0_f_res_177755 + i_177815;
                                int64_t slice_180338 = start_177532 + slice_180337;
                                int8_t tmp_180339 = ((int8_t *) mem_param_181608.mem)[slice_180338];
                                int64_t tmp_180340 = ((int64_t *) mem_param_181611.mem)[slice_180338];
                                int64_t tmp_180341 = ((int64_t *) mem_param_181614.mem)[slice_180338];
                                
                                loopres_177848 = tmp_180332;
                                loopres_177849 = tmp_180339;
                                loopres_177850 = tmp_180340;
                                loopres_177851 = tmp_180341;
                            } else {
                                bool x_177862 = sle64((int64_t) 0, j_177819);
                                bool y_177863 = slt64(j_177819, j_m_i_177766);
                                bool bounds_check_177864 = x_177862 && y_177863;
                                bool index_certs_177865;
                                
                                if (!bounds_check_177864) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177866 = merge_sequential_arg2_177764 + j_177819;
                                int64_t slice_177867 = start_177532 + slice_177866;
                                int8_t tmp_177868 = ((int8_t *) mem_param_181608.mem)[slice_177867];
                                int64_t tmp_177869 = ((int64_t *) mem_param_181611.mem)[slice_177867];
                                int64_t tmp_177870 = ((int64_t *) mem_param_181614.mem)[slice_177867];
                                
                                loopres_177848 = i_177815;
                                loopres_177849 = tmp_177868;
                                loopres_177850 = tmp_177869;
                                loopres_177851 = tmp_177870;
                            }
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177849;
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177850;
                            ((int64_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177851;
                            
                            int64_t i_tmp_182365 = loopres_177848;
                            
                            i_177815 = i_tmp_182365;
                        }
                        data_177810 = i_177815;
                    }
                    if (memblock_alloc(ctx, &mem_181707, flat_dim_177482, "mem_181707")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181707.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint8_t *) mem_181652, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181711, bytes_181654, "mem_181711")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181711.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181655, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181715, bytes_181654, "mem_181715")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181715.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181658, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181707, "mem_181707") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181711, "mem_181711") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181715, "mem_181715") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181616, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181619, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181745.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181622, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181742.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181762, bytes_181615, "mem_181762")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181762.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint8_t *) mem_181616, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181766, bytes_181618, "mem_181766")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181766.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181619, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181770, bytes_181618, "mem_181770")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181770.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181622, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            
            bool loop_cond_177884 = slt64(next_stride_177459, flat_dim_177291);
            
            if (memblock_set(ctx, &mem_param_tmp_182332, &mem_181762, "mem_181762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182333, &mem_181766, "mem_181766") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182334, &mem_181770, "mem_181770") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182335 = bytes_181615;
            bool loop_while_tmp_182336 = loop_cond_177884;
            int64_t stride_tmp_182340 = next_stride_177459;
            
            if (memblock_set(ctx, &mem_param_181608, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181611, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181614, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
                return 1;
            loop_dz2084Uz2082U_177453 = loop_dz2084Uz2082U_tmp_182335;
            loop_while_177454 = loop_while_tmp_182336;
            stride_177458 = stride_tmp_182340;
        }
        if (memblock_set(ctx, &ext_mem_181780, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181779, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181778, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        data_177447 = loop_dz2084Uz2082U_177453;
        data_177448 = loop_while_177454;
        data_177452 = stride_177458;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177887 = slt64(zs_lhs_177275, data_177447);
        bool y_177888 = i_p_m_t_s_leq_w_177887 && zzero_leq_i_p_m_t_s_177901;
        bool ok_or_empty_177889 = y_177888 || empty_slice_177899;
        bool index_certs_177890;
        
        if (!ok_or_empty_177889) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) data_177447, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181789, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180700.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181786.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180702.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181783.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180700, "mem_180700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182112, &mem_180702, "mem_180702") != 0)
        return 1;
    prim_out_182113 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    if (memblock_set(ctx, &*mem_out_p_182596, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182597, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182598, &mem_out_182112, "mem_out_182112") != 0)
        return 1;
    *out_prim_out_182599 = prim_out_182113;
    
  cleanup:
    {
        free(mem_180713);
        free(mem_180715);
        free(mem_180754);
        free(mem_180757);
        free(mem_180760);
        free(mem_180773);
        free(mem_180775);
        free(mem_180777);
        free(mem_180874);
        free(mem_180877);
        free(mem_180880);
        free(mem_180894);
        free(mem_180896);
        free(mem_180910);
        free(mem_180913);
        free(mem_180916);
        free(mem_181058);
        free(mem_181060);
        free(mem_181075);
        free(mem_181077);
        free(mem_181080);
        free(mem_181083);
        free(mem_181117);
        free(mem_181120);
        free(mem_181123);
        free(mem_181136);
        free(mem_181138);
        free(mem_181140);
        free(mem_181237);
        free(mem_181240);
        free(mem_181243);
        free(mem_181257);
        free(mem_181259);
        free(mem_181273);
        free(mem_181276);
        free(mem_181279);
        free(mem_181496);
        free(mem_181499);
        free(mem_181502);
        free(mem_181515);
        free(mem_181517);
        free(mem_181519);
        free(mem_181616);
        free(mem_181619);
        free(mem_181622);
        free(mem_181636);
        free(mem_181638);
        free(mem_181652);
        free(mem_181655);
        free(mem_181658);
        if (memblock_unref(ctx, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181770, "mem_181770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181766, "mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181762, "mem_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181715, "mem_181715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181711, "mem_181711") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181707, "mem_181707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181721, "mem_181721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181717, "mem_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181028, "mem_181028") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181024, "mem_181024") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180973, "mem_180973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180969, "mem_180969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180965, "mem_180965") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180979, "mem_180979") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180977, "mem_180977") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180872, "mem_param_180872") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180869, "mem_param_180869") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180866, "mem_param_180866") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181036, "ext_mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181037, "ext_mem_181037") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180732, "mem_180732") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180730, "mem_180730") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181439, "mem_181439") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181438, "mem_181438") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181436, "mem_181436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181391, "mem_181391") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181387, "mem_181387") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181383, "mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181336, "mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181332, "mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181328, "mem_181328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181342, "mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181340, "mem_181340") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181338, "mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181235, "mem_param_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181232, "mem_param_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181229, "mem_param_181229") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181399, "ext_mem_181399") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181401, "ext_mem_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180702, "mem_180702") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180700, "mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182112, "mem_out_182112") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182650, struct memblock *mem_out_p_182651, struct memblock *mem_out_p_182652, int64_t *out_prim_out_182653, struct memblock a_list_mem_180696, struct memblock b_list_mem_180697, int64_t na_120848, int64_t nb_120849, int64_t window_sizze_120850, int64_t threads_120851, bool inParallel_120854)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180713_cached_sizze_182654 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182655 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180754_cached_sizze_182656 = 0;
    unsigned char *mem_180754 = NULL;
    int64_t mem_180757_cached_sizze_182657 = 0;
    unsigned char *mem_180757 = NULL;
    int64_t mem_180760_cached_sizze_182658 = 0;
    unsigned char *mem_180760 = NULL;
    int64_t mem_180773_cached_sizze_182659 = 0;
    unsigned char *mem_180773 = NULL;
    int64_t mem_180775_cached_sizze_182660 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180777_cached_sizze_182661 = 0;
    unsigned char *mem_180777 = NULL;
    int64_t mem_180874_cached_sizze_182662 = 0;
    unsigned char *mem_180874 = NULL;
    int64_t mem_180877_cached_sizze_182663 = 0;
    unsigned char *mem_180877 = NULL;
    int64_t mem_180880_cached_sizze_182664 = 0;
    unsigned char *mem_180880 = NULL;
    int64_t mem_180894_cached_sizze_182665 = 0;
    unsigned char *mem_180894 = NULL;
    int64_t mem_180896_cached_sizze_182666 = 0;
    unsigned char *mem_180896 = NULL;
    int64_t mem_180910_cached_sizze_182667 = 0;
    unsigned char *mem_180910 = NULL;
    int64_t mem_180913_cached_sizze_182668 = 0;
    unsigned char *mem_180913 = NULL;
    int64_t mem_180916_cached_sizze_182669 = 0;
    unsigned char *mem_180916 = NULL;
    int64_t mem_181058_cached_sizze_182670 = 0;
    unsigned char *mem_181058 = NULL;
    int64_t mem_181060_cached_sizze_182671 = 0;
    unsigned char *mem_181060 = NULL;
    int64_t mem_181075_cached_sizze_182672 = 0;
    unsigned char *mem_181075 = NULL;
    int64_t mem_181077_cached_sizze_182673 = 0;
    unsigned char *mem_181077 = NULL;
    int64_t mem_181080_cached_sizze_182674 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182675 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181117_cached_sizze_182676 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_182677 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182678 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181136_cached_sizze_182679 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_182680 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181140_cached_sizze_182681 = 0;
    unsigned char *mem_181140 = NULL;
    int64_t mem_181237_cached_sizze_182682 = 0;
    unsigned char *mem_181237 = NULL;
    int64_t mem_181240_cached_sizze_182683 = 0;
    unsigned char *mem_181240 = NULL;
    int64_t mem_181243_cached_sizze_182684 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181257_cached_sizze_182685 = 0;
    unsigned char *mem_181257 = NULL;
    int64_t mem_181259_cached_sizze_182686 = 0;
    unsigned char *mem_181259 = NULL;
    int64_t mem_181273_cached_sizze_182687 = 0;
    unsigned char *mem_181273 = NULL;
    int64_t mem_181276_cached_sizze_182688 = 0;
    unsigned char *mem_181276 = NULL;
    int64_t mem_181279_cached_sizze_182689 = 0;
    unsigned char *mem_181279 = NULL;
    int64_t mem_181496_cached_sizze_182690 = 0;
    unsigned char *mem_181496 = NULL;
    int64_t mem_181499_cached_sizze_182691 = 0;
    unsigned char *mem_181499 = NULL;
    int64_t mem_181502_cached_sizze_182692 = 0;
    unsigned char *mem_181502 = NULL;
    int64_t mem_181515_cached_sizze_182693 = 0;
    unsigned char *mem_181515 = NULL;
    int64_t mem_181517_cached_sizze_182694 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181519_cached_sizze_182695 = 0;
    unsigned char *mem_181519 = NULL;
    int64_t mem_181616_cached_sizze_182696 = 0;
    unsigned char *mem_181616 = NULL;
    int64_t mem_181619_cached_sizze_182697 = 0;
    unsigned char *mem_181619 = NULL;
    int64_t mem_181622_cached_sizze_182698 = 0;
    unsigned char *mem_181622 = NULL;
    int64_t mem_181636_cached_sizze_182699 = 0;
    unsigned char *mem_181636 = NULL;
    int64_t mem_181638_cached_sizze_182700 = 0;
    unsigned char *mem_181638 = NULL;
    int64_t mem_181652_cached_sizze_182701 = 0;
    unsigned char *mem_181652 = NULL;
    int64_t mem_181655_cached_sizze_182702 = 0;
    unsigned char *mem_181655 = NULL;
    int64_t mem_181658_cached_sizze_182703 = 0;
    unsigned char *mem_181658 = NULL;
    struct memblock mem_param_tmp_182334;
    
    mem_param_tmp_182334.references = NULL;
    
    struct memblock mem_param_tmp_182333;
    
    mem_param_tmp_182333.references = NULL;
    
    struct memblock mem_param_tmp_182332;
    
    mem_param_tmp_182332.references = NULL;
    
    struct memblock mem_181770;
    
    mem_181770.references = NULL;
    
    struct memblock mem_181766;
    
    mem_181766.references = NULL;
    
    struct memblock mem_181762;
    
    mem_181762.references = NULL;
    
    struct memblock mem_181715;
    
    mem_181715.references = NULL;
    
    struct memblock mem_181711;
    
    mem_181711.references = NULL;
    
    struct memblock mem_181707;
    
    mem_181707.references = NULL;
    
    struct memblock mem_181721;
    
    mem_181721.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181717;
    
    mem_181717.references = NULL;
    
    struct memblock ext_mem_181742;
    
    ext_mem_181742.references = NULL;
    
    struct memblock ext_mem_181745;
    
    ext_mem_181745.references = NULL;
    
    struct memblock ext_mem_181748;
    
    ext_mem_181748.references = NULL;
    
    struct memblock mem_param_181614;
    
    mem_param_181614.references = NULL;
    
    struct memblock mem_param_181611;
    
    mem_param_181611.references = NULL;
    
    struct memblock mem_param_181608;
    
    mem_param_181608.references = NULL;
    
    struct memblock ext_mem_181778;
    
    ext_mem_181778.references = NULL;
    
    struct memblock ext_mem_181779;
    
    ext_mem_181779.references = NULL;
    
    struct memblock ext_mem_181780;
    
    ext_mem_181780.references = NULL;
    
    struct memblock mem_181604;
    
    mem_181604.references = NULL;
    
    struct memblock mem_181600;
    
    mem_181600.references = NULL;
    
    struct memblock mem_181596;
    
    mem_181596.references = NULL;
    
    struct memblock ext_mem_181783;
    
    ext_mem_181783.references = NULL;
    
    struct memblock ext_mem_181786;
    
    ext_mem_181786.references = NULL;
    
    struct memblock ext_mem_181789;
    
    ext_mem_181789.references = NULL;
    
    struct memblock mem_181494;
    
    mem_181494.references = NULL;
    
    struct memblock mem_181492;
    
    mem_181492.references = NULL;
    
    struct memblock mem_181490;
    
    mem_181490.references = NULL;
    
    struct memblock mem_param_tmp_182268;
    
    mem_param_tmp_182268.references = NULL;
    
    struct memblock mem_param_tmp_182267;
    
    mem_param_tmp_182267.references = NULL;
    
    struct memblock mem_param_tmp_182266;
    
    mem_param_tmp_182266.references = NULL;
    
    struct memblock mem_181028;
    
    mem_181028.references = NULL;
    
    struct memblock mem_181024;
    
    mem_181024.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_180973;
    
    mem_180973.references = NULL;
    
    struct memblock mem_180969;
    
    mem_180969.references = NULL;
    
    struct memblock mem_180965;
    
    mem_180965.references = NULL;
    
    struct memblock mem_180979;
    
    mem_180979.references = NULL;
    
    struct memblock mem_180977;
    
    mem_180977.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock ext_mem_181000;
    
    ext_mem_181000.references = NULL;
    
    struct memblock ext_mem_181003;
    
    ext_mem_181003.references = NULL;
    
    struct memblock ext_mem_181006;
    
    ext_mem_181006.references = NULL;
    
    struct memblock mem_param_180872;
    
    mem_param_180872.references = NULL;
    
    struct memblock mem_param_180869;
    
    mem_param_180869.references = NULL;
    
    struct memblock mem_param_180866;
    
    mem_param_180866.references = NULL;
    
    struct memblock ext_mem_181036;
    
    ext_mem_181036.references = NULL;
    
    struct memblock ext_mem_181037;
    
    ext_mem_181037.references = NULL;
    
    struct memblock ext_mem_181038;
    
    ext_mem_181038.references = NULL;
    
    struct memblock mem_180862;
    
    mem_180862.references = NULL;
    
    struct memblock mem_180858;
    
    mem_180858.references = NULL;
    
    struct memblock mem_180854;
    
    mem_180854.references = NULL;
    
    struct memblock ext_mem_181041;
    
    ext_mem_181041.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock mem_180752;
    
    mem_180752.references = NULL;
    
    struct memblock mem_180750;
    
    mem_180750.references = NULL;
    
    struct memblock mem_180748;
    
    mem_180748.references = NULL;
    
    struct memblock mem_180732;
    
    mem_180732.references = NULL;
    
    struct memblock mem_180730;
    
    mem_180730.references = NULL;
    
    struct memblock mem_180728;
    
    mem_180728.references = NULL;
    
    struct memblock mem_181439;
    
    mem_181439.references = NULL;
    
    struct memblock mem_181438;
    
    mem_181438.references = NULL;
    
    struct memblock mem_181436;
    
    mem_181436.references = NULL;
    
    struct memblock mem_param_tmp_182174;
    
    mem_param_tmp_182174.references = NULL;
    
    struct memblock mem_param_tmp_182173;
    
    mem_param_tmp_182173.references = NULL;
    
    struct memblock mem_param_tmp_182172;
    
    mem_param_tmp_182172.references = NULL;
    
    struct memblock mem_181391;
    
    mem_181391.references = NULL;
    
    struct memblock mem_181387;
    
    mem_181387.references = NULL;
    
    struct memblock mem_181383;
    
    mem_181383.references = NULL;
    
    struct memblock mem_181336;
    
    mem_181336.references = NULL;
    
    struct memblock mem_181332;
    
    mem_181332.references = NULL;
    
    struct memblock mem_181328;
    
    mem_181328.references = NULL;
    
    struct memblock mem_181342;
    
    mem_181342.references = NULL;
    
    struct memblock mem_181340;
    
    mem_181340.references = NULL;
    
    struct memblock mem_181338;
    
    mem_181338.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181366;
    
    ext_mem_181366.references = NULL;
    
    struct memblock ext_mem_181369;
    
    ext_mem_181369.references = NULL;
    
    struct memblock mem_param_181235;
    
    mem_param_181235.references = NULL;
    
    struct memblock mem_param_181232;
    
    mem_param_181232.references = NULL;
    
    struct memblock mem_param_181229;
    
    mem_param_181229.references = NULL;
    
    struct memblock ext_mem_181399;
    
    ext_mem_181399.references = NULL;
    
    struct memblock ext_mem_181400;
    
    ext_mem_181400.references = NULL;
    
    struct memblock ext_mem_181401;
    
    ext_mem_181401.references = NULL;
    
    struct memblock mem_181225;
    
    mem_181225.references = NULL;
    
    struct memblock mem_181221;
    
    mem_181221.references = NULL;
    
    struct memblock mem_181217;
    
    mem_181217.references = NULL;
    
    struct memblock ext_mem_181404;
    
    ext_mem_181404.references = NULL;
    
    struct memblock ext_mem_181407;
    
    ext_mem_181407.references = NULL;
    
    struct memblock ext_mem_181410;
    
    ext_mem_181410.references = NULL;
    
    struct memblock mem_181115;
    
    mem_181115.references = NULL;
    
    struct memblock mem_181113;
    
    mem_181113.references = NULL;
    
    struct memblock mem_181111;
    
    mem_181111.references = NULL;
    
    struct memblock ext_mem_181460;
    
    ext_mem_181460.references = NULL;
    
    struct memblock ext_mem_181463;
    
    ext_mem_181463.references = NULL;
    
    struct memblock ext_mem_181466;
    
    ext_mem_181466.references = NULL;
    
    struct memblock mem_180702;
    
    mem_180702.references = NULL;
    
    struct memblock mem_180700;
    
    mem_180700.references = NULL;
    
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t prim_out_182113;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185 = add64(na_120848, nb_120849);
    
    if (memblock_alloc(ctx, &mem_180698, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182114 = 0; nest_i_182114 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182114++) {
        ((int8_t *) mem_180698.mem)[nest_i_182114] = (int8_t) -1;
    }
    
    int64_t bytes_180699 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180700, bytes_180699, "mem_180700")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182115 = 0; nest_i_182115 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182115++) {
        ((int64_t *) mem_180700.mem)[nest_i_182115] = (int64_t) -1;
    }
    
    int64_t bytes_180701 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    
    if (memblock_alloc(ctx, &mem_180702, bytes_180701, "mem_180702")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182116 = 0; nest_i_182116 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185; nest_i_182116++) {
        ((int16_t *) mem_180702.mem)[nest_i_182116] = (int16_t) 0;
    }
    
    int64_t zl_rhs_175189 = sub64(na_120848, window_sizze_120850);
    bool cond_175190 = slt64((int64_t) 0, zl_rhs_175189);
    int64_t zl_rhs_175191 = sub64(nb_120849, window_sizze_120850);
    bool loop_cond_t_res_175192 = slt64((int64_t) 0, zl_rhs_175191);
    bool x_175193 = cond_175190 && loop_cond_t_res_175192;
    bool empty_slice_175194 = window_sizze_120850 == (int64_t) 0;
    int64_t m_175195 = sub64(window_sizze_120850, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220 = add64((int64_t) 1, threads_120851);
    int64_t partitionFunc_arg0_176221 = mul64((int64_t) 2, threads_120851);
    bool y_176223 = slt64((int64_t) 0, window_sizze_120850);
    bool loop_cond_176469 = slt64((int64_t) 0, threads_120851);
    bool zzero_175240 = threads_120851 == (int64_t) 0;
    bool nonzzero_175241 = !zzero_175240;
    bool loop_not_taken_177998 = !inParallel_120854;
    bool protect_assert_disj_177999 = nonzzero_175241 || loop_not_taken_177998;
    bool loop_not_taken_178088 = !x_175193;
    bool protect_assert_disj_178089 = protect_assert_disj_177999 || loop_not_taken_178088;
    bool nonzzero_cert_175242;
    
    if (!protect_assert_disj_178089) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175243 = sdiv_safe64(window_sizze_120850, threads_120851);
    int64_t perThread_175244 = add64((int64_t) 1, zp_rhs_175243);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245 = mul64(threads_120851, perThread_175244);
    bool protect_assert_disj_178135 = inParallel_120854 || y_176223;
    bool protect_assert_disj_178139 = loop_not_taken_178088 || protect_assert_disj_178135;
    bool index_certs_176224;
    
    if (!protect_assert_disj_178139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176239 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, (int64_t) 1);
    bool y_177196 = slt64(threads_120851, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
    bool protect_assert_disj_178104 = y_176223 || loop_not_taken_177998;
    bool protect_assert_disj_178143 = loop_not_taken_178088 || protect_assert_disj_178104;
    bool index_certs_175248;
    
    if (!protect_assert_disj_178143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176241 = !bounds_invalid_upwards_176239;
    bool protect_assert_disj_178151 = inParallel_120854 || y_177196;
    bool protect_assert_disj_178153 = loop_not_taken_178088 || protect_assert_disj_178151;
    bool index_certs_177198;
    
    if (!protect_assert_disj_178153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120851, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178147 = y_177196 || loop_not_taken_177998;
    bool protect_assert_disj_178155 = loop_not_taken_178088 || protect_assert_disj_178147;
    bool index_certs_176202;
    
    if (!protect_assert_disj_178155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120851, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178163 = inParallel_120854 || valid_176241;
    bool protect_assert_disj_178165 = loop_not_taken_178088 || protect_assert_disj_178163;
    bool range_valid_c_176242;
    
    if (!protect_assert_disj_178165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178007 = sle64((int64_t) 1, threads_120851);
    bool protect_assert_disj_178159 = valid_176241 || loop_not_taken_177998;
    bool protect_assert_disj_178167 = loop_not_taken_178088 || protect_assert_disj_178159;
    bool range_valid_c_175255;
    
    if (!protect_assert_disj_178167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176244 = add64(window_sizze_120850, window_sizze_120850);
    bool zzero_176245 = partitionFunc_arg0_176221 == (int64_t) 0;
    int64_t index_concat_i_178008 = sub64(threads_120851, (int64_t) 1);
    bool nonzzero_176246 = !zzero_176245;
    bool protect_assert_disj_178175 = inParallel_120854 || nonzzero_176246;
    bool protect_assert_disj_178181 = loop_not_taken_178088 || protect_assert_disj_178175;
    bool nonzzero_cert_176247;
    
    if (!protect_assert_disj_178181) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178171 = nonzzero_176246 || loop_not_taken_177998;
    bool protect_assert_disj_178187 = loop_not_taken_178088 || protect_assert_disj_178171;
    bool nonzzero_cert_175260;
    
    if (!protect_assert_disj_178187) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180712 = (int64_t) 8 * threads_120851;
    int64_t bytes_180729 = (int64_t) 8 * window_sizze_120850;
    int64_t bytes_180731 = (int64_t) 2 * window_sizze_120850;
    int64_t bytes_181074 = perThread_175244 * bytes_180712;
    int64_t bytes_181082 = perThread_175244 * partitionFunc_arg0_176221;
    bool defunc_0_merge_pipeline_res_175196;
    int64_t defunc_0_merge_pipeline_res_175200;
    int64_t defunc_0_merge_pipeline_res_175201;
    bool loop_while_175202;
    int64_t p_175206;
    int64_t p_175207;
    
    loop_while_175202 = x_175193;
    p_175206 = (int64_t) 0;
    p_175207 = (int64_t) 0;
    while (loop_while_175202) {
        int64_t ubs_175208 = add64(window_sizze_120850, p_175206);
        int64_t ubs_175209 = add64(window_sizze_120850, p_175207);
        int64_t ind_bottom_175210 = add64(p_175206, p_175207);
        int64_t ind_top_175211 = add64(window_sizze_120850, ind_bottom_175210);
        int64_t i_p_m_t_s_175212 = add64(m_175195, p_175206);
        bool zzero_leq_i_p_m_t_s_175213 = sle64((int64_t) 0, i_p_m_t_s_175212);
        bool i_p_m_t_s_leq_w_175214 = slt64(i_p_m_t_s_175212, na_120848);
        bool zzero_lte_i_175215 = sle64((int64_t) 0, p_175206);
        bool i_lte_j_175216 = sle64(p_175206, ubs_175208);
        bool y_175217 = i_p_m_t_s_leq_w_175214 && zzero_lte_i_175215;
        bool y_175218 = zzero_leq_i_p_m_t_s_175213 && y_175217;
        bool forwards_ok_175219 = i_lte_j_175216 && y_175218;
        bool ok_or_empty_175220 = empty_slice_175194 || forwards_ok_175219;
        bool index_certs_175221;
        
        if (!ok_or_empty_175220) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175206, ":", (long long) ubs_175208, "] out of bounds for array of shape [", (long long) na_120848, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175223 = add64(m_175195, p_175207);
        bool zzero_leq_i_p_m_t_s_175224 = sle64((int64_t) 0, i_p_m_t_s_175223);
        bool i_p_m_t_s_leq_w_175225 = slt64(i_p_m_t_s_175223, nb_120849);
        bool zzero_lte_i_175226 = sle64((int64_t) 0, p_175207);
        bool i_lte_j_175227 = sle64(p_175207, ubs_175209);
        bool y_175228 = i_p_m_t_s_leq_w_175225 && zzero_lte_i_175226;
        bool y_175229 = zzero_leq_i_p_m_t_s_175224 && y_175228;
        bool forwards_ok_175230 = i_lte_j_175227 && y_175229;
        bool ok_or_empty_175231 = empty_slice_175194 || forwards_ok_175230;
        bool index_certs_175232;
        
        if (!ok_or_empty_175231) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175207, ":", (long long) ubs_175209, "] out of bounds for array of shape [", (long long) nb_120849, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177210 = add64(m_175195, ind_bottom_175210);
        bool zzero_leq_i_p_m_t_s_177211 = sle64((int64_t) 0, i_p_m_t_s_177210);
        bool i_p_m_t_s_leq_w_177212 = slt64(i_p_m_t_s_177210, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
        bool zzero_lte_i_177213 = sle64((int64_t) 0, ind_bottom_175210);
        bool i_lte_j_177214 = sle64(ind_bottom_175210, ind_top_175211);
        bool y_177215 = i_p_m_t_s_leq_w_177212 && zzero_lte_i_177213;
        bool y_177216 = zzero_leq_i_p_m_t_s_177211 && y_177215;
        bool forwards_ok_177217 = i_lte_j_177214 && y_177216;
        bool ok_or_empty_177218 = empty_slice_175194 || forwards_ok_177217;
        bool index_certs_177219;
        
        if (!ok_or_empty_177218) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175210, ":", (long long) ind_top_175211, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175234;
        int64_t loopres_175235;
        
        if (inParallel_120854) {
            int16_t leq_lhs_178668 = ((int16_t *) a_list_mem_180696.mem)[p_175206];
            int16_t leq_rhs_178669 = ((int16_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_178670 = sle16(leq_lhs_178668, leq_rhs_178669);
            int16_t lowest_178671;
            
            if (defunc_0_leq_res_178670) {
                lowest_178671 = leq_lhs_178668;
            } else {
                lowest_178671 = leq_rhs_178669;
            }
            if (mem_181058_cached_sizze_182670 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181058, &mem_181058_cached_sizze_182670, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181060_cached_sizze_182671 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_181060, &mem_181060_cached_sizze_182671, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180360 = 0; i_180360 < threads_120851; i_180360++) {
                int64_t index_primexp_180632 = add64((int64_t) 1, i_180360);
                int64_t zs_lhs_178676 = mul64(zt_rhs_176244, index_primexp_180632);
                int64_t index_178677 = sdiv64(zs_lhs_178676, partitionFunc_arg0_176221);
                bool cond_178678 = slt64(window_sizze_120850, index_178677);
                int64_t loop_over_178679;
                
                if (cond_178678) {
                    loop_over_178679 = window_sizze_120850;
                } else {
                    loop_over_178679 = index_178677;
                }
                
                int64_t loop_over_178680;
                
                if (cond_178678) {
                    int64_t loop_over_t_res_178681 = sub64(index_178677, window_sizze_120850);
                    
                    loop_over_178680 = loop_over_t_res_178681;
                } else {
                    loop_over_178680 = (int64_t) 0;
                }
                
                int64_t loop_over_178682;
                
                if (cond_178678) {
                    int64_t zm_lhs_178683 = sub64(index_178677, window_sizze_120850);
                    int64_t loop_over_t_res_178684 = sub64(zm_lhs_178683, (int64_t) 1);
                    
                    loop_over_178682 = loop_over_t_res_178684;
                } else {
                    loop_over_178682 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178685;
                int64_t defunc_0_f_res_178686;
                int64_t defunc_0_f_res_178687;
                int64_t defunc_0_f_res_178688;
                bool loop_while_178689;
                int64_t p_178690;
                int64_t p_178691;
                int64_t p_178692;
                
                loop_while_178689 = 1;
                p_178690 = loop_over_178682;
                p_178691 = loop_over_178679;
                p_178692 = loop_over_178680;
                while (loop_while_178689) {
                    int64_t zs_lhs_178693 = sub64(p_178691, p_178690);
                    int64_t offset_178694 = sdiv64(zs_lhs_178693, (int64_t) 2);
                    int64_t ai_178695 = sub64(p_178691, offset_178694);
                    int64_t max_arg1_178696 = add64(p_178692, offset_178694);
                    int64_t max_res_178697 = smax64((int64_t) 0, max_arg1_178696);
                    bool cond_178698 = slt64((int64_t) 0, max_res_178697);
                    int16_t b_prev_178699;
                    
                    if (cond_178698) {
                        int64_t tmp_178700 = sub64(max_res_178697, (int64_t) 1);
                        bool x_178701 = sle64((int64_t) 0, tmp_178700);
                        bool y_178702 = slt64(tmp_178700, window_sizze_120850);
                        bool bounds_check_178703 = x_178701 && y_178702;
                        bool index_certs_178704;
                        
                        if (!bounds_check_178703) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178700, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178705 = p_175207 + tmp_178700;
                        int16_t b_prev_t_res_178706 = ((int16_t *) b_list_mem_180697.mem)[slice_178705];
                        
                        b_prev_178699 = b_prev_t_res_178706;
                    } else {
                        b_prev_178699 = lowest_178671;
                    }
                    
                    bool cond_178707 = sle64(ai_178695, (int64_t) 0);
                    int64_t loopres_178708;
                    int64_t loopres_178709;
                    int64_t loopres_178710;
                    bool loopres_178711;
                    
                    if (cond_178707) {
                        loopres_178708 = p_178690;
                        loopres_178709 = (int64_t) 0;
                        loopres_178710 = max_res_178697;
                        loopres_178711 = 0;
                    } else {
                        bool cond_178712 = sle64(window_sizze_120850, max_res_178697);
                        int64_t loopres_f_res_178713;
                        int64_t loopres_f_res_178714;
                        int64_t loopres_f_res_178715;
                        bool loopres_f_res_178716;
                        
                        if (cond_178712) {
                            int64_t min_res_178718 = smin64(m_175195, ai_178695);
                            bool x_178719 = sle64((int64_t) 0, m_175195);
                            bool y_178720 = slt64(m_175195, window_sizze_120850);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178725 = sle64((int64_t) 0, min_res_178718);
                            bool y_178726 = slt64(min_res_178718, window_sizze_120850);
                            bool bounds_check_178727 = x_178725 && y_178726;
                            bool index_certs_178728;
                            
                            if (!bounds_check_178727) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178718, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_178724 = ((int16_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_178729 = p_175206 + min_res_178718;
                            int16_t leq_rhs_178730 = ((int16_t *) a_list_mem_180696.mem)[slice_178729];
                            bool defunc_0_leq_res_178731 = sle16(leq_lhs_178724, leq_rhs_178730);
                            int64_t loopres_f_res_t_res_178732;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178732 = ai_178695;
                            } else {
                                loopres_f_res_t_res_178732 = p_178691;
                            }
                            
                            bool x_178733 = !defunc_0_leq_res_178731;
                            int64_t loopres_f_res_t_res_178734;
                            
                            if (defunc_0_leq_res_178731) {
                                loopres_f_res_t_res_178734 = window_sizze_120850;
                            } else {
                                int64_t tmp_178735 = sub64(m_175195, offset_178694);
                                
                                loopres_f_res_t_res_178734 = tmp_178735;
                            }
                            loopres_f_res_178713 = p_178690;
                            loopres_f_res_178714 = loopres_f_res_t_res_178732;
                            loopres_f_res_178715 = loopres_f_res_t_res_178734;
                            loopres_f_res_178716 = x_178733;
                        } else {
                            bool cond_178736 = sle64(window_sizze_120850, ai_178695);
                            int64_t loopres_f_res_f_res_178737;
                            int64_t loopres_f_res_f_res_178738;
                            int64_t loopres_f_res_f_res_178739;
                            bool loopres_f_res_f_res_178740;
                            
                            if (cond_178736) {
                                int64_t min_res_178742 = smin64(m_175195, max_res_178697);
                                bool x_178743 = sle64((int64_t) 0, m_175195);
                                bool y_178744 = slt64(m_175195, window_sizze_120850);
                                bool bounds_check_178745 = x_178743 && y_178744;
                                bool index_certs_178746;
                                
                                if (!bounds_check_178745) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178749 = sle64((int64_t) 0, min_res_178742);
                                bool y_178750 = slt64(min_res_178742, window_sizze_120850);
                                bool bounds_check_178751 = x_178749 && y_178750;
                                bool index_certs_178752;
                                
                                if (!bounds_check_178751) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178742, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_178748 = ((int16_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_178753 = p_175207 + min_res_178742;
                                int16_t leq_rhs_178754 = ((int16_t *) b_list_mem_180697.mem)[slice_178753];
                                bool defunc_0_leq_res_178755 = sle16(leq_lhs_178748, leq_rhs_178754);
                                int64_t loopres_f_res_f_res_t_res_178756;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178756 = max_res_178697;
                                } else {
                                    loopres_f_res_f_res_t_res_178756 = p_178692;
                                }
                                
                                bool x_178757 = !defunc_0_leq_res_178755;
                                int64_t loopres_f_res_f_res_t_res_178758;
                                
                                if (defunc_0_leq_res_178755) {
                                    loopres_f_res_f_res_t_res_178758 = window_sizze_120850;
                                } else {
                                    loopres_f_res_f_res_t_res_178758 = m_175195;
                                }
                                loopres_f_res_f_res_178737 = p_178690;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_t_res_178758;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_t_res_178756;
                                loopres_f_res_f_res_178740 = x_178757;
                            } else {
                                bool cond_178759 = sle64(p_178691, p_178690);
                                int64_t loopres_f_res_f_res_f_res_178760;
                                int64_t loopres_f_res_f_res_f_res_178761;
                                int64_t loopres_f_res_f_res_f_res_178762;
                                bool loopres_f_res_f_res_f_res_178763;
                                
                                if (cond_178759) {
                                    bool cond_178764 = slt64(ai_178695, window_sizze_120850);
                                    int64_t ai_178765;
                                    
                                    if (cond_178764) {
                                        ai_178765 = ai_178695;
                                    } else {
                                        ai_178765 = m_175195;
                                    }
                                    
                                    bool x_178778 = sle64((int64_t) 0, ai_178765);
                                    bool y_178779 = slt64(ai_178765, window_sizze_120850);
                                    bool bounds_check_178780 = x_178778 && y_178779;
                                    bool index_certs_178781;
                                    
                                    if (!bounds_check_178780) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178765, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_178767;
                                    
                                    if (cond_178698) {
                                        int64_t tmp_178768 = sub64(max_res_178697, (int64_t) 1);
                                        bool x_178769 = sle64((int64_t) 0, tmp_178768);
                                        bool y_178770 = slt64(tmp_178768, window_sizze_120850);
                                        bool bounds_check_178771 = x_178769 && y_178770;
                                        bool index_certs_178772;
                                        
                                        if (!bounds_check_178771) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178768, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178773 = p_175207 + tmp_178768;
                                        int16_t b_prev_t_res_178774 = ((int16_t *) b_list_mem_180697.mem)[slice_178773];
                                        
                                        b_prev_178767 = b_prev_t_res_178774;
                                    } else {
                                        bool index_certs_178776;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178767 = leq_rhs_178669;
                                    }
                                    
                                    int64_t slice_178782 = p_175206 + ai_178765;
                                    int16_t gt_lhs_178783 = ((int16_t *) a_list_mem_180696.mem)[slice_178782];
                                    bool defunc_0_gt_res_178784 = slt16(b_prev_178767, gt_lhs_178783);
                                    int64_t defunc_0_partFunc_sequential_search_res_178785;
                                    int64_t defunc_0_partFunc_sequential_search_res_178786;
                                    
                                    if (defunc_0_gt_res_178784) {
                                        int64_t zl_rhs_178787 = sub64(window_sizze_120850, max_res_178697);
                                        bool loop_cond_178788 = slt64((int64_t) 0, zl_rhs_178787);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178789;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178791;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178792;
                                        bool loop_while_178793;
                                        int64_t p_178794;
                                        int64_t p_178795;
                                        int64_t p_178796;
                                        
                                        loop_while_178793 = loop_cond_178788;
                                        p_178794 = ai_178765;
                                        p_178795 = max_res_178697;
                                        p_178796 = (int64_t) 0;
                                        while (loop_while_178793) {
                                            int64_t i_a_178797 = sub64(ai_178765, p_178796);
                                            int64_t i_b_178798 = add64(max_res_178697, p_178796);
                                            int64_t leq_lhs_178799 = sub64(i_a_178797, (int64_t) 1);
                                            bool x_178800 = sle64((int64_t) 0, leq_lhs_178799);
                                            bool y_178801 = slt64(leq_lhs_178799, window_sizze_120850);
                                            bool bounds_check_178802 = x_178800 && y_178801;
                                            bool index_certs_178803;
                                            
                                            if (!bounds_check_178802) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178799, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178806 = sle64((int64_t) 0, i_b_178798);
                                            bool y_178807 = slt64(i_b_178798, window_sizze_120850);
                                            bool bounds_check_178808 = x_178806 && y_178807;
                                            bool index_certs_178809;
                                            
                                            if (!bounds_check_178808) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178798, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178804 = p_175206 + leq_lhs_178799;
                                            int16_t leq_lhs_178805 = ((int16_t *) a_list_mem_180696.mem)[slice_178804];
                                            int64_t slice_178810 = p_175207 + i_b_178798;
                                            int16_t leq_rhs_178811 = ((int16_t *) b_list_mem_180697.mem)[slice_178810];
                                            bool defunc_0_leq_res_178812 = sle16(leq_lhs_178805, leq_rhs_178811);
                                            int64_t loopres_178813;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178813 = i_a_178797;
                                            } else {
                                                loopres_178813 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178814;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178814 = i_b_178798;
                                            } else {
                                                loopres_178814 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178815;
                                            
                                            if (defunc_0_leq_res_178812) {
                                                loopres_178815 = zl_rhs_178787;
                                            } else {
                                                int64_t tmp_178816 = add64((int64_t) 1, p_178796);
                                                
                                                loopres_178815 = tmp_178816;
                                            }
                                            
                                            bool loop_cond_178817 = slt64(loopres_178815, zl_rhs_178787);
                                            bool loop_while_tmp_182129 = loop_cond_178817;
                                            int64_t p_tmp_182130 = loopres_178813;
                                            int64_t p_tmp_182131 = loopres_178814;
                                            int64_t p_tmp_182132 = loopres_178815;
                                            
                                            loop_while_178793 = loop_while_tmp_182129;
                                            p_178794 = p_tmp_182130;
                                            p_178795 = p_tmp_182131;
                                            p_178796 = p_tmp_182132;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178789 = loop_while_178793;
                                        defunc_0_partFunc_sequential_search_res_t_res_178790 = p_178794;
                                        defunc_0_partFunc_sequential_search_res_t_res_178791 = p_178795;
                                        defunc_0_partFunc_sequential_search_res_t_res_178792 = p_178796;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_t_res_178790;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_t_res_178791;
                                    } else {
                                        int64_t zl_rhs_178818 = sub64(max_res_178697, (int64_t) 1);
                                        bool loop_cond_178819 = slt64((int64_t) 0, zl_rhs_178818);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178820;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178822;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178823;
                                        bool loop_while_178824;
                                        int64_t p_178825;
                                        int64_t p_178826;
                                        int64_t p_178827;
                                        
                                        loop_while_178824 = loop_cond_178819;
                                        p_178825 = ai_178765;
                                        p_178826 = max_res_178697;
                                        p_178827 = (int64_t) 0;
                                        while (loop_while_178824) {
                                            int64_t zp_lhs_178828 = add64(ai_178765, p_178827);
                                            int64_t hi_a_178829 = add64((int64_t) 1, zp_lhs_178828);
                                            bool cond_178830 = slt64(hi_a_178829, window_sizze_120850);
                                            int64_t i_a_178831;
                                            
                                            if (cond_178830) {
                                                i_a_178831 = hi_a_178829;
                                            } else {
                                                i_a_178831 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_178833 = sub64(max_res_178697, p_178827);
                                            int64_t i_b_178834 = sub64(zm_lhs_178833, (int64_t) 1);
                                            bool x_178835 = sle64((int64_t) 0, i_a_178831);
                                            bool y_178836 = slt64(i_a_178831, window_sizze_120850);
                                            bool bounds_check_178837 = x_178835 && y_178836;
                                            bool index_certs_178838;
                                            
                                            if (!bounds_check_178837) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178831, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178841 = sle64((int64_t) 0, i_b_178834);
                                            bool y_178842 = slt64(i_b_178834, window_sizze_120850);
                                            bool bounds_check_178843 = x_178841 && y_178842;
                                            bool index_certs_178844;
                                            
                                            if (!bounds_check_178843) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178834, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178839 = p_175206 + i_a_178831;
                                            int16_t gt_lhs_178840 = ((int16_t *) a_list_mem_180696.mem)[slice_178839];
                                            int64_t slice_178845 = p_175207 + i_b_178834;
                                            int16_t gt_rhs_178846 = ((int16_t *) b_list_mem_180697.mem)[slice_178845];
                                            bool defunc_0_gt_res_178847 = slt16(gt_rhs_178846, gt_lhs_178840);
                                            int64_t loopres_178848;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178848 = i_a_178831;
                                            } else {
                                                loopres_178848 = ai_178765;
                                            }
                                            
                                            int64_t loopres_178849;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178849 = zm_lhs_178833;
                                            } else {
                                                loopres_178849 = max_res_178697;
                                            }
                                            
                                            int64_t loopres_178850;
                                            
                                            if (defunc_0_gt_res_178847) {
                                                loopres_178850 = zl_rhs_178818;
                                            } else {
                                                int64_t tmp_178851 = add64((int64_t) 1, p_178827);
                                                
                                                loopres_178850 = tmp_178851;
                                            }
                                            
                                            bool loop_cond_178852 = slt64(loopres_178850, zl_rhs_178818);
                                            bool loop_while_tmp_182133 = loop_cond_178852;
                                            int64_t p_tmp_182134 = loopres_178848;
                                            int64_t p_tmp_182135 = loopres_178849;
                                            int64_t p_tmp_182136 = loopres_178850;
                                            
                                            loop_while_178824 = loop_while_tmp_182133;
                                            p_178825 = p_tmp_182134;
                                            p_178826 = p_tmp_182135;
                                            p_178827 = p_tmp_182136;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178820 = loop_while_178824;
                                        defunc_0_partFunc_sequential_search_res_f_res_178821 = p_178825;
                                        defunc_0_partFunc_sequential_search_res_f_res_178822 = p_178826;
                                        defunc_0_partFunc_sequential_search_res_f_res_178823 = p_178827;
                                        defunc_0_partFunc_sequential_search_res_178785 = defunc_0_partFunc_sequential_search_res_f_res_178821;
                                        defunc_0_partFunc_sequential_search_res_178786 = defunc_0_partFunc_sequential_search_res_f_res_178822;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = p_178690;
                                    loopres_f_res_f_res_f_res_178761 = defunc_0_partFunc_sequential_search_res_178785;
                                    loopres_f_res_f_res_f_res_178762 = defunc_0_partFunc_sequential_search_res_178786;
                                    loopres_f_res_f_res_f_res_178763 = 0;
                                } else {
                                    bool x_178853 = sle64((int64_t) 0, ai_178695);
                                    bool y_178854 = slt64(ai_178695, window_sizze_120850);
                                    bool bounds_check_178855 = x_178853 && y_178854;
                                    bool index_certs_178856;
                                    
                                    if (!bounds_check_178855) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178695, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178857 = p_175206 + ai_178695;
                                    int16_t gt_lhs_178858 = ((int16_t *) a_list_mem_180696.mem)[slice_178857];
                                    bool defunc_0_gt_res_178859 = slt16(b_prev_178699, gt_lhs_178858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178862;
                                    bool loopres_f_res_f_res_f_res_f_res_178863;
                                    
                                    if (defunc_0_gt_res_178859) {
                                        int64_t leq_lhs_178864 = sub64(ai_178695, (int64_t) 1);
                                        bool x_178865 = sle64((int64_t) 0, leq_lhs_178864);
                                        bool y_178866 = slt64(leq_lhs_178864, window_sizze_120850);
                                        bool bounds_check_178867 = x_178865 && y_178866;
                                        bool index_certs_178868;
                                        
                                        if (!bounds_check_178867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178864, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178871 = sle64((int64_t) 0, max_res_178697);
                                        bool y_178872 = slt64(max_res_178697, window_sizze_120850);
                                        bool bounds_check_178873 = x_178871 && y_178872;
                                        bool index_certs_178874;
                                        
                                        if (!bounds_check_178873) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178697, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178869 = p_175206 + leq_lhs_178864;
                                        int16_t leq_lhs_178870 = ((int16_t *) a_list_mem_180696.mem)[slice_178869];
                                        int64_t slice_178875 = p_175207 + max_res_178697;
                                        int16_t leq_rhs_178876 = ((int16_t *) b_list_mem_180697.mem)[slice_178875];
                                        bool defunc_0_leq_res_178877 = sle16(leq_lhs_178870, leq_rhs_178876);
                                        bool x_178878 = !defunc_0_leq_res_178877;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = ai_178695;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178879 = leq_lhs_178864;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        
                                        if (defunc_0_leq_res_178877) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = max_res_178697;
                                        } else {
                                            int64_t tmp_178881 = add64((int64_t) 1, max_res_178697);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178880 = tmp_178881;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178860 = p_178690;
                                        loopres_f_res_f_res_f_res_f_res_178861 = loopres_f_res_f_res_f_res_f_res_t_res_178879;
                                        loopres_f_res_f_res_f_res_f_res_178862 = loopres_f_res_f_res_f_res_f_res_t_res_178880;
                                        loopres_f_res_f_res_f_res_f_res_178863 = x_178878;
                                    } else {
                                        int64_t tmp_178882 = add64((int64_t) 1, ai_178695);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178860 = tmp_178882;
                                        loopres_f_res_f_res_f_res_f_res_178861 = p_178691;
                                        loopres_f_res_f_res_f_res_f_res_178862 = p_178692;
                                        loopres_f_res_f_res_f_res_f_res_178863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178760 = loopres_f_res_f_res_f_res_f_res_178860;
                                    loopres_f_res_f_res_f_res_178761 = loopres_f_res_f_res_f_res_f_res_178861;
                                    loopres_f_res_f_res_f_res_178762 = loopres_f_res_f_res_f_res_f_res_178862;
                                    loopres_f_res_f_res_f_res_178763 = loopres_f_res_f_res_f_res_f_res_178863;
                                }
                                loopres_f_res_f_res_178737 = loopres_f_res_f_res_f_res_178760;
                                loopres_f_res_f_res_178738 = loopres_f_res_f_res_f_res_178761;
                                loopres_f_res_f_res_178739 = loopres_f_res_f_res_f_res_178762;
                                loopres_f_res_f_res_178740 = loopres_f_res_f_res_f_res_178763;
                            }
                            loopres_f_res_178713 = loopres_f_res_f_res_178737;
                            loopres_f_res_178714 = loopres_f_res_f_res_178738;
                            loopres_f_res_178715 = loopres_f_res_f_res_178739;
                            loopres_f_res_178716 = loopres_f_res_f_res_178740;
                        }
                        loopres_178708 = loopres_f_res_178713;
                        loopres_178709 = loopres_f_res_178714;
                        loopres_178710 = loopres_f_res_178715;
                        loopres_178711 = loopres_f_res_178716;
                    }
                    
                    bool loop_while_tmp_182125 = loopres_178711;
                    int64_t p_tmp_182126 = loopres_178708;
                    int64_t p_tmp_182127 = loopres_178709;
                    int64_t p_tmp_182128 = loopres_178710;
                    
                    loop_while_178689 = loop_while_tmp_182125;
                    p_178690 = p_tmp_182126;
                    p_178691 = p_tmp_182127;
                    p_178692 = p_tmp_182128;
                }
                defunc_0_f_res_178685 = loop_while_178689;
                defunc_0_f_res_178686 = p_178690;
                defunc_0_f_res_178687 = p_178691;
                defunc_0_f_res_178688 = p_178692;
                ((int64_t *) mem_181058)[i_180360] = defunc_0_f_res_178687;
                ((int64_t *) mem_181060)[i_180360] = defunc_0_f_res_178688;
            }
            if (mem_181075_cached_sizze_182672 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181075, &mem_181075_cached_sizze_182672, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181077_cached_sizze_182673 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245) {
                err = lexical_realloc(ctx, &mem_181077, &mem_181077_cached_sizze_182673, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181080_cached_sizze_182674 < bytes_181074) {
                err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182674, bytes_181074);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181083_cached_sizze_182675 < bytes_181082) {
                err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182675, bytes_181082);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180426 = 0; i_180426 < threads_120851; i_180426++) {
                bool y_178896 = slt64(i_180426, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool index_certs_178898;
                
                if (!y_178896) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180426, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178899 = sle64((int64_t) 1, i_180426);
                int64_t index_concat_i_178900 = sub64(i_180426, (int64_t) 1);
                int64_t index_concat_178901;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178902 = ((int64_t *) mem_181058)[index_concat_i_178900];
                    
                    index_concat_178901 = x_178902;
                } else {
                    index_concat_178901 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178903;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178903 = index_concat_178901;
                } else {
                    index_concat_branch_178903 = (int64_t) 0;
                }
                
                int64_t index_concat_178904;
                
                if (index_concat_cmp_178899) {
                    int64_t x_178905 = ((int64_t *) mem_181060)[index_concat_i_178900];
                    
                    index_concat_178904 = x_178905;
                } else {
                    index_concat_178904 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178906;
                
                if (index_concat_cmp_178899) {
                    index_concat_branch_178906 = index_concat_178904;
                } else {
                    index_concat_branch_178906 = (int64_t) 0;
                }
                
                int64_t ubs_178907 = add64((int64_t) 1, i_180426);
                bool x_178908 = sle64((int64_t) 0, ubs_178907);
                bool y_178909 = slt64(ubs_178907, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_178910 = x_178908 && y_178909;
                bool index_certs_178911;
                
                if (!bounds_check_178910) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178907, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178912 = sle64((int64_t) 1, ubs_178907);
                int64_t index_concat_178913;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178914 = ((int64_t *) mem_181058)[i_180426];
                    
                    index_concat_178913 = x_178914;
                } else {
                    index_concat_178913 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178915;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178915 = index_concat_178913;
                } else {
                    index_concat_branch_178915 = (int64_t) 0;
                }
                
                int64_t index_concat_178916;
                
                if (index_concat_cmp_178912) {
                    int64_t x_178917 = ((int64_t *) mem_181060)[i_180426];
                    
                    index_concat_178916 = x_178917;
                } else {
                    index_concat_178916 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178918;
                
                if (index_concat_cmp_178912) {
                    index_concat_branch_178918 = index_concat_178916;
                } else {
                    index_concat_branch_178918 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 = sub64(index_concat_branch_178918, index_concat_branch_178906);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 = sub64(index_concat_branch_178915, index_concat_branch_178903);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t zm_lhs_178922 = add64(index_concat_branch_178915, index_concat_branch_178918);
                int64_t zm_rhs_178923 = add64(index_concat_branch_178903, index_concat_branch_178906);
                int64_t card_178924 = sub64(zm_lhs_178922, zm_rhs_178923);
                bool empty_slice_178925 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 == (int64_t) 0;
                int64_t m_178926 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 1);
                int64_t i_p_m_t_s_178927 = add64(index_concat_branch_178903, m_178926);
                bool zzero_leq_i_p_m_t_s_178928 = sle64((int64_t) 0, i_p_m_t_s_178927);
                bool i_p_m_t_s_leq_w_178929 = slt64(i_p_m_t_s_178927, window_sizze_120850);
                bool zzero_lte_i_178930 = sle64((int64_t) 0, index_concat_branch_178903);
                bool i_lte_j_178931 = sle64(index_concat_branch_178903, index_concat_branch_178915);
                bool y_178932 = i_p_m_t_s_leq_w_178929 && zzero_lte_i_178930;
                bool y_178933 = zzero_leq_i_p_m_t_s_178928 && y_178932;
                bool forwards_ok_178934 = i_lte_j_178931 && y_178933;
                bool ok_or_empty_178935 = empty_slice_178925 || forwards_ok_178934;
                bool index_certs_178936;
                
                if (!ok_or_empty_178935) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178903, ":", (long long) index_concat_branch_178915, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178937 = slt64(index_concat_branch_178915, index_concat_branch_178903);
                bool valid_178938 = !bounds_invalid_upwards_178937;
                bool range_valid_c_178939;
                
                if (!valid_178938) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178903, "..<", (long long) index_concat_branch_178915, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178944 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919 == (int64_t) 0;
                int64_t m_178945 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919, (int64_t) 1);
                int64_t i_p_m_t_s_178946 = add64(index_concat_branch_178906, m_178945);
                bool zzero_leq_i_p_m_t_s_178947 = sle64((int64_t) 0, i_p_m_t_s_178946);
                bool i_p_m_t_s_leq_w_178948 = slt64(i_p_m_t_s_178946, window_sizze_120850);
                bool zzero_lte_i_178949 = sle64((int64_t) 0, index_concat_branch_178906);
                bool i_lte_j_178950 = sle64(index_concat_branch_178906, index_concat_branch_178918);
                bool y_178951 = i_p_m_t_s_leq_w_178948 && zzero_lte_i_178949;
                bool y_178952 = zzero_leq_i_p_m_t_s_178947 && y_178951;
                bool forwards_ok_178953 = i_lte_j_178950 && y_178952;
                bool ok_or_empty_178954 = empty_slice_178944 || forwards_ok_178953;
                bool index_certs_178955;
                
                if (!ok_or_empty_178954) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178906, ":", (long long) index_concat_branch_178918, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178956 = slt64(index_concat_branch_178918, index_concat_branch_178906);
                bool valid_178957 = !bounds_invalid_upwards_178956;
                bool range_valid_c_178958;
                
                if (!valid_178957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178906, "..<", (long long) index_concat_branch_178918, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181112 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                int64_t bytes_181114 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool cond_178966 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zs_lhs_178967 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, (int64_t) 1);
                int64_t zp_rhs_178968 = sdiv_safe64(zs_lhs_178967, (int64_t) 20);
                int64_t min_num_blocks_178969 = add64((int64_t) 1, zp_rhs_178968);
                bool loop_cond_178970 = slt64((int64_t) 1, min_num_blocks_178969);
                bool smallest_pow_2_geq_than_res_178971;
                int64_t smallest_pow_2_geq_than_res_178972;
                bool loop_while_178973;
                int64_t x_178974;
                
                loop_while_178973 = loop_cond_178970;
                x_178974 = (int64_t) 1;
                while (loop_while_178973) {
                    int64_t loopres_178975 = mul64((int64_t) 2, x_178974);
                    bool loop_cond_178976 = slt64(loopres_178975, min_num_blocks_178969);
                    bool loop_while_tmp_182141 = loop_cond_178976;
                    int64_t x_tmp_182142 = loopres_178975;
                    
                    loop_while_178973 = loop_while_tmp_182141;
                    x_178974 = x_tmp_182142;
                }
                smallest_pow_2_geq_than_res_178971 = loop_while_178973;
                smallest_pow_2_geq_than_res_178972 = x_178974;
                
                bool zzero_178977 = smallest_pow_2_geq_than_res_178972 == (int64_t) 0;
                bool nonzzero_178978 = !zzero_178977;
                bool protect_assert_disj_178979 = cond_178966 || nonzzero_178978;
                bool nonzzero_cert_178980;
                
                if (!protect_assert_disj_178979) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178981 = sdiv_safe64(zs_lhs_178967, smallest_pow_2_geq_than_res_178972);
                int64_t block_sizze_178982 = add64((int64_t) 1, zp_rhs_178981);
                bool y_178989 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                bool protect_assert_disj_181858 = cond_178966 || y_178989;
                bool index_certs_178990;
                
                if (!protect_assert_disj_181858) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179027 = slt64(smallest_pow_2_geq_than_res_178972, (int64_t) 0);
                bool valid_179028 = !bounds_invalid_upwards_179027;
                bool protect_assert_disj_181868 = cond_178966 || valid_179028;
                bool range_valid_c_179029;
                
                if (!protect_assert_disj_181868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178972, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179031 = slt64(block_sizze_178982, (int64_t) 0);
                bool valid_179032 = !bounds_invalid_upwards_179031;
                bool protect_assert_disj_181870 = cond_178966 || valid_179032;
                bool range_valid_c_179033;
                
                if (!protect_assert_disj_181870) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178982, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179035 = sle64(block_sizze_178982, (int64_t) 1);
                int64_t tmp_179036 = sub64(block_sizze_178982, (int64_t) 2);
                bool bounds_invalid_upwards_179037 = slt64(tmp_179036, (int64_t) 0);
                bool valid_179039 = !bounds_invalid_upwards_179037;
                bool protect_assert_disj_179040 = cond_179035 || valid_179039;
                bool protect_assert_disj_181872 = cond_178966 || protect_assert_disj_179040;
                bool range_valid_c_179041;
                
                if (!protect_assert_disj_181872) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179036, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179621 = card_178924 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921;
                bool empty_or_match_cert_179622;
                
                if (!dim_match_179621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] cannot match shape of type `[", (long long) card_178924, "](i8, i64, i16)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179623 = card_178924 == (int64_t) 0;
                int64_t m_179624 = sub64(card_178924, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179625 = sle64((int64_t) 0, m_179624);
                bool i_p_m_t_s_leq_w_179626 = slt64(m_179624, card_178924);
                bool y_179627 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179626;
                bool ok_or_empty_179628 = empty_slice_179623 || y_179627;
                bool index_certs_179629;
                
                if (!ok_or_empty_179628) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) card_178924, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179630 = slt64(m_179624, perThread_175244);
                bool y_179631 = zzero_leq_i_p_m_t_s_179625 && i_p_m_t_s_leq_w_179630;
                bool ok_or_empty_179632 = empty_slice_179623 || y_179631;
                bool index_certs_179633;
                
                if (!ok_or_empty_179632) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182143 = 0; nest_i_182143 < perThread_175244; nest_i_182143++) {
                    ((int8_t *) mem_181077)[i_180426 * perThread_175244 + nest_i_182143] = (int8_t) -1;
                }
                for (int64_t nest_i_182144 = 0; nest_i_182144 < perThread_175244; nest_i_182144++) {
                    ((int64_t *) mem_181080)[i_180426 * perThread_175244 + nest_i_182144] = (int64_t) -1;
                }
                for (int64_t nest_i_182145 = 0; nest_i_182145 < perThread_175244; nest_i_182145++) {
                    ((int16_t *) mem_181083)[i_180426 * perThread_175244 + nest_i_182145] = (int16_t) 0;
                }
                
                int64_t slice_178940 = p_175206 + index_concat_branch_178903;
                
                if (memblock_alloc(ctx, &mem_181111, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "mem_181111")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182146 = 0; nest_i_182146 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; nest_i_182146++) {
                    ((int8_t *) mem_181111.mem)[nest_i_182146] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181113, bytes_181112, "mem_181113")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182147 = 0; i_182147 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920; i_182147++) {
                    int64_t x_182148 = index_concat_branch_178903 + i_182147 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[i_182147] = x_182148;
                }
                
                int64_t slice_178959 = p_175207 + index_concat_branch_178906;
                
                for (int64_t nest_i_182149 = 0; nest_i_182149 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; nest_i_182149++) {
                    ((int8_t *) mem_181111.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + nest_i_182149] = (int8_t) 1;
                }
                for (int64_t i_182150 = 0; i_182150 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919; i_182150++) {
                    int64_t x_182151 = index_concat_branch_178906 + i_182150 * (int64_t) 1;
                    
                    ((int64_t *) mem_181113.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920 + i_182150] = x_182151;
                }
                
                int64_t tmp_offs_182152 = (int64_t) 0;
                
                if (!(tmp_offs_182152 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182152 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181111.mem, tmp_offs_182152, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181111.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182152 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t tmp_offs_182153 = (int64_t) 0;
                
                if (!(tmp_offs_182153 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                if (!(tmp_offs_182153 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181113.mem, tmp_offs_182153, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                }
                tmp_offs_182153 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                if (memblock_alloc(ctx, &mem_181115, bytes_181114, "mem_181115")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182154 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180696.mem, slice_178940, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181115.mem, tmp_offs_182154, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180697.mem, slice_178959, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919});
                tmp_offs_182154 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178919;
                
                int64_t flat_dim_178983 = smallest_pow_2_geq_than_res_178972 * block_sizze_178982;
                bool x_181853 = !cond_178966;
                int64_t greatest_divisor_leq_than_arg1_178987 = mul64((int64_t) 2, block_sizze_178982);
                int64_t merge_block_sizze_178988;
                
                if (x_181853) {
                    int64_t x_181855;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181855, (int64_t) 8, greatest_divisor_leq_than_arg1_178987) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178988 = x_181855;
                } else {
                    merge_block_sizze_178988 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178991 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, (int64_t) 0);
                int8_t index_concat_branch_178992 = btoi_bool_i8(index_concat_cmp_178991);
                int64_t index_concat_i_178994 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                int64_t index_primexp_178995 = add64(index_concat_branch_178906, index_concat_i_178994);
                int64_t index_concat_branch_178993;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178993 = index_primexp_178995;
                } else {
                    index_concat_branch_178993 = index_concat_branch_178903;
                }
                
                bool x_181849 = !index_concat_cmp_178991;
                bool protect_cond_conj_181859 = x_181849 && x_181853;
                int16_t index_concat_179001;
                
                if (protect_cond_conj_181859) {
                    int16_t x_181851 = ((int16_t *) a_list_mem_180696.mem)[slice_178940];
                    
                    index_concat_179001 = x_181851;
                } else {
                    index_concat_179001 = (int16_t) 0;
                }
                
                int64_t slice_178999 = p_175207 + index_primexp_178995;
                bool protect_cond_conj_181860 = index_concat_cmp_178991 && x_181853;
                int16_t index_concat_179000;
                
                if (protect_cond_conj_181860) {
                    int16_t x_181847 = ((int16_t *) b_list_mem_180697.mem)[slice_178999];
                    
                    index_concat_179000 = x_181847;
                } else {
                    index_concat_179000 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178996;
                
                if (index_concat_cmp_178991) {
                    index_concat_branch_178996 = index_concat_179000;
                } else {
                    index_concat_branch_178996 = index_concat_179001;
                }
                
                int8_t defunc_0_reduce_res_179002;
                int64_t defunc_0_reduce_res_179003;
                int16_t defunc_0_reduce_res_179004;
                
                if (x_181853) {
                    int8_t x_181861;
                    int64_t x_181862;
                    int16_t x_181863;
                    int8_t redout_180363;
                    int64_t redout_180364;
                    int16_t redout_180365;
                    
                    redout_180363 = index_concat_branch_178992;
                    redout_180364 = index_concat_branch_178993;
                    redout_180365 = index_concat_branch_178996;
                    for (int64_t i_180366 = 0; i_180366 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921; i_180366++) {
                        bool index_concat_cmp_180624 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, i_180366);
                        int8_t index_concat_branch_180628 = btoi_bool_i8(index_concat_cmp_180624);
                        int64_t index_concat_branch_180622;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180619 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t index_primexp_180672 = add64(index_concat_branch_178906, index_concat_i_180619);
                            
                            index_concat_branch_180622 = index_primexp_180672;
                        } else {
                            int64_t index_primexp_180674 = add64(index_concat_branch_178903, i_180366);
                            
                            index_concat_branch_180622 = index_primexp_180674;
                        }
                        
                        int16_t index_concat_branch_180616;
                        
                        if (index_concat_cmp_180624) {
                            int64_t index_concat_i_180613 = sub64(i_180366, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                            int64_t slice_180669 = slice_178959 + index_concat_i_180613;
                            int16_t index_concat_180614 = ((int16_t *) b_list_mem_180697.mem)[slice_180669];
                            
                            index_concat_branch_180616 = index_concat_180614;
                        } else {
                            int64_t slice_180670 = slice_178940 + i_180366;
                            int16_t index_concat_180615 = ((int16_t *) a_list_mem_180696.mem)[slice_180670];
                            
                            index_concat_branch_180616 = index_concat_180615;
                        }
                        
                        bool eq_x_y_180686 = redout_180363 == (int8_t) 1;
                        bool eq_x_zz_180687 = redout_180363 == (int8_t) 0;
                        bool p_and_eq_x_y_180688 = index_concat_cmp_180624 && eq_x_y_180686;
                        bool not_p_180689 = !index_concat_cmp_180624;
                        bool p_and_eq_x_y_180690 = eq_x_zz_180687 && not_p_180689;
                        bool cond_179014 = p_and_eq_x_y_180688 || p_and_eq_x_y_180690;
                        bool defunc_0_leq_res_t_res_179015 = sle64(redout_180364, index_concat_branch_180622);
                        bool defunc_0_leq_res_179016 = sle16(redout_180365, index_concat_branch_180616);
                        bool x_179017 = cond_179014 && defunc_0_leq_res_t_res_179015;
                        bool x_179018 = !cond_179014;
                        bool y_179019 = defunc_0_leq_res_179016 && x_179018;
                        bool defunc_0_leq_res_179020 = x_179017 || y_179019;
                        int8_t defunc_0_op_res_179021;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179021 = index_concat_branch_180628;
                        } else {
                            defunc_0_op_res_179021 = redout_180363;
                        }
                        
                        int64_t defunc_0_op_res_179022;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179022 = index_concat_branch_180622;
                        } else {
                            defunc_0_op_res_179022 = redout_180364;
                        }
                        
                        int16_t defunc_0_op_res_179023;
                        
                        if (defunc_0_leq_res_179020) {
                            defunc_0_op_res_179023 = index_concat_branch_180616;
                        } else {
                            defunc_0_op_res_179023 = redout_180365;
                        }
                        
                        int8_t redout_tmp_182155 = defunc_0_op_res_179021;
                        int64_t redout_tmp_182156 = defunc_0_op_res_179022;
                        int16_t redout_tmp_182157 = defunc_0_op_res_179023;
                        
                        redout_180363 = redout_tmp_182155;
                        redout_180364 = redout_tmp_182156;
                        redout_180365 = redout_tmp_182157;
                    }
                    x_181861 = redout_180363;
                    x_181862 = redout_180364;
                    x_181863 = redout_180365;
                    defunc_0_reduce_res_179002 = x_181861;
                    defunc_0_reduce_res_179003 = x_181862;
                    defunc_0_reduce_res_179004 = x_181863;
                } else {
                    defunc_0_reduce_res_179002 = (int8_t) 0;
                    defunc_0_reduce_res_179003 = (int64_t) 0;
                    defunc_0_reduce_res_179004 = (int16_t) 0;
                }
                
                int64_t distance_179038 = add64((int64_t) 1, tmp_179036);
                int64_t binop_x_181118 = (int64_t) 8 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181119 = block_sizze_178982 * binop_x_181118;
                int64_t binop_x_181121 = (int64_t) 2 * smallest_pow_2_geq_than_res_178972;
                int64_t bytes_181122 = block_sizze_178982 * binop_x_181121;
                int64_t bytes_181137 = (int64_t) 8 * block_sizze_178982;
                bool loop_cond_179164 = slt64(block_sizze_178982, flat_dim_178983);
                bool zzero_179165 = merge_block_sizze_178988 == (int64_t) 0;
                bool nonzzero_179166 = !zzero_179165;
                
                if (cond_178966) {
                    if (memblock_set(ctx, &ext_mem_181410, &mem_181111, "mem_181111") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &mem_181113, "mem_181113") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &mem_181115, "mem_181115") != 0)
                        return 1;
                } else {
                    if (mem_181117_cached_sizze_182676 < flat_dim_178983) {
                        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_182676, flat_dim_178983);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181120_cached_sizze_182677 < bytes_181119) {
                        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182677, bytes_181119);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181123_cached_sizze_182678 < bytes_181122) {
                        err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182678, bytes_181122);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181136_cached_sizze_182679 < block_sizze_178982) {
                        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_182679, block_sizze_178982);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181138_cached_sizze_182680 < bytes_181137) {
                        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_182680, bytes_181137);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181140_cached_sizze_182681 < greatest_divisor_leq_than_arg1_178987) {
                        err = lexical_realloc(ctx, &mem_181140, &mem_181140_cached_sizze_182681, greatest_divisor_leq_than_arg1_178987);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180383 = 0; i_180383 < smallest_pow_2_geq_than_res_178972; i_180383++) {
                        int64_t zp_lhs_179046 = mul64(block_sizze_178982, i_180383);
                        
                        for (int64_t i_180373 = 0; i_180373 < block_sizze_178982; i_180373++) {
                            int64_t k_179051 = add64(zp_lhs_179046, i_180373);
                            bool cond_179052 = slt64(k_179051, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921);
                            int8_t lifted_lambda_res_179053;
                            int64_t lifted_lambda_res_179054;
                            int16_t lifted_lambda_res_179055;
                            
                            if (cond_179052) {
                                bool x_179056 = sle64((int64_t) 0, k_179051);
                                bool bounds_check_179057 = cond_179052 && x_179056;
                                bool index_certs_179058;
                                
                                if (!bounds_check_179057) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179051, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179059 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920, k_179051);
                                int8_t index_concat_branch_179060 = btoi_bool_i8(index_concat_cmp_179059);
                                int64_t index_concat_branch_179061;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179062 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t index_primexp_179063 = add64(index_concat_branch_178906, index_concat_i_179062);
                                    
                                    index_concat_branch_179061 = index_primexp_179063;
                                } else {
                                    int64_t index_primexp_179064 = add64(index_concat_branch_178903, k_179051);
                                    
                                    index_concat_branch_179061 = index_primexp_179064;
                                }
                                
                                int16_t index_concat_branch_179065;
                                
                                if (index_concat_cmp_179059) {
                                    int64_t index_concat_i_179066 = sub64(k_179051, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178920);
                                    int64_t slice_179067 = index_concat_branch_178906 + index_concat_i_179066;
                                    int64_t slice_179068 = p_175207 + slice_179067;
                                    int16_t index_concat_179069 = ((int16_t *) b_list_mem_180697.mem)[slice_179068];
                                    
                                    index_concat_branch_179065 = index_concat_179069;
                                } else {
                                    int64_t slice_179070 = index_concat_branch_178903 + k_179051;
                                    int64_t slice_179071 = p_175206 + slice_179070;
                                    int16_t index_concat_179072 = ((int16_t *) a_list_mem_180696.mem)[slice_179071];
                                    
                                    index_concat_branch_179065 = index_concat_179072;
                                }
                                lifted_lambda_res_179053 = index_concat_branch_179060;
                                lifted_lambda_res_179054 = index_concat_branch_179061;
                                lifted_lambda_res_179055 = index_concat_branch_179065;
                            } else {
                                lifted_lambda_res_179053 = defunc_0_reduce_res_179002;
                                lifted_lambda_res_179054 = defunc_0_reduce_res_179003;
                                lifted_lambda_res_179055 = defunc_0_reduce_res_179004;
                            }
                            ((int8_t *) mem_181136)[i_180373] = lifted_lambda_res_179053;
                            ((int64_t *) mem_181138)[i_180373] = lifted_lambda_res_179054;
                            ((int16_t *) mem_181140)[i_180373] = lifted_lambda_res_179055;
                        }
                        if (!cond_179035) {
                            for (int64_t i_179082 = 0; i_179082 < distance_179038; i_179082++) {
                                int64_t gt_arg1_179086 = add64((int64_t) 1, i_179082);
                                bool x_179087 = sle64((int64_t) 0, gt_arg1_179086);
                                bool y_179088 = slt64(gt_arg1_179086, block_sizze_178982);
                                bool bounds_check_179089 = x_179087 && y_179088;
                                bool index_certs_179090;
                                
                                if (!bounds_check_179089) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179086, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179094 = slt64(i_179082, block_sizze_178982);
                                bool index_certs_179095;
                                
                                if (!y_179094) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179082, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179091 = ((int8_t *) mem_181136)[gt_arg1_179086];
                                int64_t gt_arg1_179092 = ((int64_t *) mem_181138)[gt_arg1_179086];
                                int16_t gt_arg1_179093 = ((int16_t *) mem_181140)[gt_arg1_179086];
                                int8_t gt_arg0_179096 = ((int8_t *) mem_181136)[i_179082];
                                int64_t gt_arg0_179097 = ((int64_t *) mem_181138)[i_179082];
                                int16_t gt_arg0_179098 = ((int16_t *) mem_181140)[i_179082];
                                bool cond_179099 = gt_arg0_179096 == gt_arg1_179091;
                                bool defunc_0_leq_res_t_res_179100 = sle64(gt_arg0_179097, gt_arg1_179092);
                                bool defunc_0_leq_res_179101 = sle16(gt_arg0_179098, gt_arg1_179093);
                                bool x_179102 = cond_179099 && defunc_0_leq_res_t_res_179100;
                                bool x_179103 = !cond_179099;
                                bool y_179104 = defunc_0_leq_res_179101 && x_179103;
                                bool defunc_0_leq_res_179105 = x_179102 || y_179104;
                                bool defunc_0_lifted_gt_res_179106 = !defunc_0_leq_res_179105;
                                bool s_179107;
                                int64_t s_179111;
                                bool loop_while_179112;
                                int64_t j_179116;
                                
                                loop_while_179112 = defunc_0_lifted_gt_res_179106;
                                j_179116 = i_179082;
                                while (loop_while_179112) {
                                    bool x_179117 = sle64((int64_t) 0, j_179116);
                                    bool y_179118 = slt64(j_179116, block_sizze_178982);
                                    bool bounds_check_179119 = x_179117 && y_179118;
                                    bool index_certs_179120;
                                    
                                    if (!bounds_check_179119) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179116, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179124 = add64((int64_t) 1, j_179116);
                                    bool x_179125 = sle64((int64_t) 0, copy_arg0_179124);
                                    bool y_179126 = slt64(copy_arg0_179124, block_sizze_178982);
                                    bool bounds_check_179127 = x_179125 && y_179126;
                                    bool index_certs_179128;
                                    
                                    if (!bounds_check_179127) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179124, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179121 = ((int8_t *) mem_181136)[j_179116];
                                    int64_t copy_arg0_179122 = ((int64_t *) mem_181138)[j_179116];
                                    int16_t copy_arg0_179123 = ((int16_t *) mem_181140)[j_179116];
                                    int8_t copy_arg0_179129 = ((int8_t *) mem_181136)[copy_arg0_179124];
                                    int64_t copy_arg0_179130 = ((int64_t *) mem_181138)[copy_arg0_179124];
                                    int16_t copy_arg0_179131 = ((int16_t *) mem_181140)[copy_arg0_179124];
                                    
                                    ((int8_t *) mem_181136)[j_179116] = copy_arg0_179129;
                                    ((int64_t *) mem_181138)[j_179116] = copy_arg0_179130;
                                    ((int16_t *) mem_181140)[j_179116] = copy_arg0_179131;
                                    ((int8_t *) mem_181136)[copy_arg0_179124] = copy_arg0_179121;
                                    ((int64_t *) mem_181138)[copy_arg0_179124] = copy_arg0_179122;
                                    ((int16_t *) mem_181140)[copy_arg0_179124] = copy_arg0_179123;
                                    
                                    int64_t tmp_179138 = sub64(j_179116, (int64_t) 1);
                                    bool cond_179139 = sle64((int64_t) 0, tmp_179138);
                                    bool loop_cond_179140;
                                    
                                    if (cond_179139) {
                                        bool y_179144 = slt64(tmp_179138, block_sizze_178982);
                                        bool bounds_check_179145 = cond_179139 && y_179144;
                                        bool index_certs_179146;
                                        
                                        if (!bounds_check_179145) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179138, "] out of bounds for array of shape [", (long long) block_sizze_178982, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179141 = ((int8_t *) mem_181136)[j_179116];
                                        int64_t gt_arg1_179142 = ((int64_t *) mem_181138)[j_179116];
                                        int16_t gt_arg1_179143 = ((int16_t *) mem_181140)[j_179116];
                                        int8_t gt_arg0_179147 = ((int8_t *) mem_181136)[tmp_179138];
                                        int64_t gt_arg0_179148 = ((int64_t *) mem_181138)[tmp_179138];
                                        int16_t gt_arg0_179149 = ((int16_t *) mem_181140)[tmp_179138];
                                        bool cond_179150 = gt_arg0_179147 == gt_arg1_179141;
                                        bool defunc_0_leq_res_t_res_179151 = sle64(gt_arg0_179148, gt_arg1_179142);
                                        bool defunc_0_leq_res_179152 = sle16(gt_arg0_179149, gt_arg1_179143);
                                        bool x_179153 = cond_179150 && defunc_0_leq_res_t_res_179151;
                                        bool x_179154 = !cond_179150;
                                        bool y_179155 = defunc_0_leq_res_179152 && x_179154;
                                        bool defunc_0_leq_res_179156 = x_179153 || y_179155;
                                        bool defunc_0_lifted_gt_res_179157 = !defunc_0_leq_res_179156;
                                        
                                        loop_cond_179140 = defunc_0_lifted_gt_res_179157;
                                    } else {
                                        loop_cond_179140 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182167 = loop_cond_179140;
                                    int64_t j_tmp_182171 = tmp_179138;
                                    
                                    loop_while_179112 = loop_while_tmp_182167;
                                    j_179116 = j_tmp_182171;
                                }
                                s_179107 = loop_while_179112;
                                s_179111 = j_179116;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181117, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181123, i_180383 * block_sizze_178982, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181140, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178982});
                    }
                    if (memblock_alloc(ctx, &mem_181217, flat_dim_178983, "mem_181217")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181217.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint8_t *) mem_181117, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181221, bytes_181119, "mem_181221")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181221.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    if (memblock_alloc(ctx, &mem_181225, bytes_181122, "mem_181225")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181225.mem, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (uint16_t *) mem_181123, (int64_t) 0, (int64_t []) {block_sizze_178982, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178972, block_sizze_178982});
                    
                    int64_t data_179167;
                    bool data_179168;
                    int64_t data_179172;
                    int64_t loop_dz2084Uz2082U_179173;
                    bool loop_while_179174;
                    int64_t stride_179178;
                    
                    if (memblock_set(ctx, &mem_param_181229, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181232, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181235, &mem_181225, "mem_181225") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179173 = flat_dim_178983;
                    loop_while_179174 = loop_cond_179164;
                    stride_179178 = block_sizze_178982;
                    while (loop_while_179174) {
                        int64_t next_stride_179179 = mul64((int64_t) 2, stride_179178);
                        bool zzero_179180 = next_stride_179179 == (int64_t) 0;
                        bool nonzzero_179181 = !zzero_179180;
                        bool nonzzero_cert_179182;
                        
                        if (!nonzzero_179181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179183 = sdiv64(flat_dim_178983, next_stride_179179);
                        bool bounds_invalid_upwards_179184 = slt64(num_merges_179183, (int64_t) 0);
                        bool valid_179185 = !bounds_invalid_upwards_179184;
                        bool range_valid_c_179186;
                        
                        if (!valid_179185) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179183, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179188 = sub64(next_stride_179179, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179189 = sle64((int64_t) 0, m_179188);
                        bool cond_179191 = slt64(next_stride_179179, (int64_t) 10);
                        bool protect_assert_disj_179192 = nonzzero_179166 || cond_179191;
                        bool nonzzero_cert_179193;
                        
                        if (!protect_assert_disj_179192) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179194 = smod_safe64(next_stride_179179, merge_block_sizze_178988);
                        bool num_blocks_179195 = zeze_lhs_179194 == (int64_t) 0;
                        bool protect_assert_disj_179196 = cond_179191 || num_blocks_179195;
                        bool assert_c_179197;
                        
                        if (!protect_assert_disj_179196) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179198 = sdiv_safe64(next_stride_179179, merge_block_sizze_178988);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199 = add64((int64_t) 1, num_blocks_179198);
                        int64_t j_m_i_179200 = sub64(next_stride_179179, stride_179178);
                        int64_t flat_dim_179201 = merge_block_sizze_178988 * num_blocks_179198;
                        bool bounds_invalid_upwards_179202 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, (int64_t) 0);
                        bool empty_slice_179203 = j_m_i_179200 == (int64_t) 0;
                        int64_t m_179204 = sub64(j_m_i_179200, (int64_t) 1);
                        bool zzero_lte_i_179205 = sle64((int64_t) 0, stride_179178);
                        bool i_lte_j_179206 = sle64(stride_179178, next_stride_179179);
                        bool empty_slice_179207 = stride_179178 == (int64_t) 0;
                        int64_t m_179208 = sub64(stride_179178, (int64_t) 1);
                        bool bounds_invalid_upwards_179209 = slt64(num_blocks_179198, (int64_t) 0);
                        bool cond_179210 = slt64((int64_t) 0, stride_179178);
                        bool valid_179211 = !bounds_invalid_upwards_179202;
                        int64_t i_p_m_t_s_179212 = add64(stride_179178, m_179204);
                        bool zzero_leq_i_p_m_t_s_179213 = sle64((int64_t) 0, m_179208);
                        bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, next_stride_179179);
                        bool valid_179215 = !bounds_invalid_upwards_179209;
                        bool i_p_m_t_s_leq_w_179216 = slt64(m_179188, flat_dim_179201);
                        bool y_179217 = slt64((int64_t) 0, j_m_i_179200);
                        bool protect_assert_disj_179218 = cond_179191 || valid_179211;
                        bool range_valid_c_179219;
                        
                        if (!protect_assert_disj_179218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179220 = sle64((int64_t) 0, i_p_m_t_s_179212);
                        bool i_p_m_t_s_leq_w_179221 = slt64(i_p_m_t_s_179212, next_stride_179179);
                        bool y_179222 = zzero_leq_i_p_m_t_s_179213 && i_p_m_t_s_leq_w_179214;
                        bool protect_assert_disj_179223 = cond_179191 || valid_179215;
                        bool range_valid_c_179224;
                        
                        if (!protect_assert_disj_179223) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179198, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179225 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179216;
                        bool y_179226 = zzero_lte_i_179205 && i_p_m_t_s_leq_w_179221;
                        bool forwards_ok_179227 = zzero_lte_i_179205 && y_179222;
                        bool ok_or_empty_179228 = zzero_179180 || y_179225;
                        bool protect_assert_disj_179229 = cond_179210 || y_179217;
                        bool y_179230 = zzero_leq_i_p_m_t_s_179220 && y_179226;
                        bool ok_or_empty_179231 = empty_slice_179207 || forwards_ok_179227;
                        bool protect_assert_disj_179232 = cond_179191 || ok_or_empty_179228;
                        bool index_certs_179233;
                        
                        if (!protect_assert_disj_179232) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) flat_dim_179201, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179234 = !cond_179191;
                        bool protect_assert_disj_179235 = protect_assert_disj_179229 || loop_not_taken_179234;
                        bool index_certs_179236;
                        
                        if (!protect_assert_disj_179235) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179237 = i_lte_j_179206 && y_179230;
                        bool protect_assert_disj_179238 = cond_179191 || ok_or_empty_179231;
                        bool index_certs_179239;
                        
                        if (!protect_assert_disj_179238) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179240 = ok_or_empty_179231 || loop_not_taken_179234;
                        bool index_certs_179241;
                        
                        if (!protect_assert_disj_179240) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179178, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179242 = empty_slice_179203 || forwards_ok_179237;
                        bool protect_assert_disj_179243 = cond_179191 || ok_or_empty_179242;
                        bool index_certs_179244;
                        
                        if (!protect_assert_disj_179243) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179245 = loop_not_taken_179234 || ok_or_empty_179242;
                        bool index_certs_179246;
                        
                        if (!protect_assert_disj_179245) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179178, ":] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181236 = next_stride_179179 * num_merges_179183;
                        int64_t binop_x_181238 = (int64_t) 8 * num_merges_179183;
                        int64_t bytes_181239 = next_stride_179179 * binop_x_181238;
                        int64_t binop_x_181241 = (int64_t) 2 * num_merges_179183;
                        int64_t bytes_181242 = next_stride_179179 * binop_x_181241;
                        bool i_lte_j_179190 = sle64((int64_t) 0, next_stride_179179);
                        
                        if (mem_181237_cached_sizze_182682 < bytes_181236) {
                            err = lexical_realloc(ctx, &mem_181237, &mem_181237_cached_sizze_182682, bytes_181236);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181240_cached_sizze_182683 < bytes_181239) {
                            err = lexical_realloc(ctx, &mem_181240, &mem_181240_cached_sizze_182683, bytes_181239);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181243_cached_sizze_182684 < bytes_181242) {
                            err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_182684, bytes_181242);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181256 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199;
                        int64_t binop_x_181274 = (int64_t) 8 * num_blocks_179198;
                        int64_t bytes_181275 = merge_block_sizze_178988 * binop_x_181274;
                        int64_t binop_x_181277 = (int64_t) 2 * num_blocks_179198;
                        int64_t bytes_181278 = merge_block_sizze_178988 * binop_x_181277;
                        int64_t bytes_181339 = (int64_t) 16 * stride_179178;
                        int64_t bytes_181341 = (int64_t) 4 * stride_179178;
                        
                        for (int64_t i_180410 = 0; i_180410 < num_merges_179183; i_180410++) {
                            int64_t start_179251 = mul64(next_stride_179179, i_180410);
                            int64_t j_m_i_179252 = sub64(loop_dz2084Uz2082U_179173, start_179251);
                            bool empty_slice_179253 = j_m_i_179252 == (int64_t) 0;
                            int64_t m_179254 = sub64(j_m_i_179252, (int64_t) 1);
                            int64_t i_p_m_t_s_179255 = add64(start_179251, m_179254);
                            bool zzero_leq_i_p_m_t_s_179256 = sle64((int64_t) 0, i_p_m_t_s_179255);
                            bool i_p_m_t_s_leq_w_179257 = slt64(i_p_m_t_s_179255, loop_dz2084Uz2082U_179173);
                            bool zzero_lte_i_179258 = sle64((int64_t) 0, start_179251);
                            bool i_lte_j_179259 = sle64(start_179251, loop_dz2084Uz2082U_179173);
                            bool y_179260 = i_p_m_t_s_leq_w_179257 && zzero_lte_i_179258;
                            bool y_179261 = zzero_leq_i_p_m_t_s_179256 && y_179260;
                            bool forwards_ok_179262 = i_lte_j_179259 && y_179261;
                            bool ok_or_empty_179263 = empty_slice_179253 || forwards_ok_179262;
                            bool index_certs_179264;
                            
                            if (!ok_or_empty_179263) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179251, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179173, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179265 = slt64(m_179188, j_m_i_179252);
                            bool y_179266 = zzero_leq_i_p_m_t_s_179189 && i_p_m_t_s_leq_w_179265;
                            bool forwards_ok_179267 = i_lte_j_179190 && y_179266;
                            bool ok_or_empty_179268 = zzero_179180 || forwards_ok_179267;
                            bool index_certs_179269;
                            
                            if (!ok_or_empty_179268) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179179, "] out of bounds for array of shape [", (long long) j_m_i_179252, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179191) {
                                int8_t dummy_179273;
                                int64_t dummy_179274;
                                int16_t dummy_179275;
                                
                                if (cond_179210) {
                                    int8_t head_res_179276 = ((int8_t *) mem_param_181229.mem)[start_179251];
                                    int64_t head_res_179277 = ((int64_t *) mem_param_181232.mem)[start_179251];
                                    int16_t head_res_179278 = ((int16_t *) mem_param_181235.mem)[start_179251];
                                    
                                    dummy_179273 = head_res_179276;
                                    dummy_179274 = head_res_179277;
                                    dummy_179275 = head_res_179278;
                                } else {
                                    int64_t slice_179279 = stride_179178 + start_179251;
                                    int8_t head_res_179280 = ((int8_t *) mem_param_181229.mem)[slice_179279];
                                    int64_t head_res_179281 = ((int64_t *) mem_param_181232.mem)[slice_179279];
                                    int16_t head_res_179282 = ((int16_t *) mem_param_181235.mem)[slice_179279];
                                    
                                    dummy_179273 = head_res_179280;
                                    dummy_179274 = head_res_179281;
                                    dummy_179275 = head_res_179282;
                                }
                                if (memblock_alloc(ctx, &mem_181338, next_stride_179179, "mem_181338")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182184 = 0; nest_i_182184 < next_stride_179179; nest_i_182184++) {
                                    ((int8_t *) mem_181338.mem)[nest_i_182184] = dummy_179273;
                                }
                                if (memblock_alloc(ctx, &mem_181340, bytes_181339, "mem_181340")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182185 = 0; nest_i_182185 < next_stride_179179; nest_i_182185++) {
                                    ((int64_t *) mem_181340.mem)[nest_i_182185] = dummy_179274;
                                }
                                if (memblock_alloc(ctx, &mem_181342, bytes_181341, "mem_181342")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182186 = 0; nest_i_182186 < next_stride_179179; nest_i_182186++) {
                                    ((int16_t *) mem_181342.mem)[nest_i_182186] = dummy_179275;
                                }
                                
                                int64_t data_179286;
                                int64_t i_179291 = (int64_t) 0;
                                
                                for (int64_t k_179290 = 0; k_179290 < next_stride_179179; k_179290++) {
                                    int64_t j_179295 = sub64(k_179290, i_179291);
                                    bool cond_179296 = j_179295 == j_m_i_179200;
                                    bool cond_179297;
                                    
                                    if (cond_179296) {
                                        cond_179297 = 1;
                                    } else {
                                        bool cond_179298 = slt64(i_179291, stride_179178);
                                        bool cond_f_res_179299;
                                        
                                        if (cond_179298) {
                                            bool x_179300 = sle64((int64_t) 0, j_179295);
                                            bool y_179301 = slt64(j_179295, j_m_i_179200);
                                            bool bounds_check_179302 = x_179300 && y_179301;
                                            bool index_certs_179303;
                                            
                                            if (!bounds_check_179302) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179309 = sle64((int64_t) 0, i_179291);
                                            bool bounds_check_179310 = cond_179298 && x_179309;
                                            bool index_certs_179311;
                                            
                                            if (!bounds_check_179310) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179304 = stride_179178 + j_179295;
                                            int64_t slice_179305 = start_179251 + slice_179304;
                                            int8_t leq_arg1_179306 = ((int8_t *) mem_param_181229.mem)[slice_179305];
                                            int64_t leq_arg1_179307 = ((int64_t *) mem_param_181232.mem)[slice_179305];
                                            int16_t leq_arg1_179308 = ((int16_t *) mem_param_181235.mem)[slice_179305];
                                            int64_t slice_179312 = start_179251 + i_179291;
                                            int8_t leq_arg0_179313 = ((int8_t *) mem_param_181229.mem)[slice_179312];
                                            int64_t leq_arg0_179314 = ((int64_t *) mem_param_181232.mem)[slice_179312];
                                            int16_t leq_arg0_179315 = ((int16_t *) mem_param_181235.mem)[slice_179312];
                                            bool cond_179316 = leq_arg0_179313 == leq_arg1_179306;
                                            bool defunc_0_leq_res_t_res_179317 = sle64(leq_arg0_179314, leq_arg1_179307);
                                            bool defunc_0_leq_res_179318 = sle16(leq_arg0_179315, leq_arg1_179308);
                                            bool x_179319 = cond_179316 && defunc_0_leq_res_t_res_179317;
                                            bool x_179320 = !cond_179316;
                                            bool y_179321 = defunc_0_leq_res_179318 && x_179320;
                                            bool defunc_0_leq_res_179322 = x_179319 || y_179321;
                                            
                                            cond_f_res_179299 = defunc_0_leq_res_179322;
                                        } else {
                                            cond_f_res_179299 = 0;
                                        }
                                        cond_179297 = cond_f_res_179299;
                                    }
                                    
                                    int64_t loopres_179323;
                                    int8_t loopres_179324;
                                    int64_t loopres_179325;
                                    int16_t loopres_179326;
                                    
                                    if (cond_179297) {
                                        bool x_179328 = sle64((int64_t) 0, i_179291);
                                        bool y_179329 = slt64(i_179291, stride_179178);
                                        bool bounds_check_179330 = x_179328 && y_179329;
                                        bool index_certs_179331;
                                        
                                        if (!bounds_check_179330) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179291, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179327 = add64((int64_t) 1, i_179291);
                                        int64_t slice_179332 = start_179251 + i_179291;
                                        int8_t tmp_179333 = ((int8_t *) mem_param_181229.mem)[slice_179332];
                                        int64_t tmp_179334 = ((int64_t *) mem_param_181232.mem)[slice_179332];
                                        int16_t tmp_179335 = ((int16_t *) mem_param_181235.mem)[slice_179332];
                                        
                                        loopres_179323 = tmp_179327;
                                        loopres_179324 = tmp_179333;
                                        loopres_179325 = tmp_179334;
                                        loopres_179326 = tmp_179335;
                                    } else {
                                        bool x_179336 = sle64((int64_t) 0, j_179295);
                                        bool y_179337 = slt64(j_179295, j_m_i_179200);
                                        bool bounds_check_179338 = x_179336 && y_179337;
                                        bool index_certs_179339;
                                        
                                        if (!bounds_check_179338) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179295, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179340 = stride_179178 + j_179295;
                                        int64_t slice_179341 = start_179251 + slice_179340;
                                        int8_t tmp_179342 = ((int8_t *) mem_param_181229.mem)[slice_179341];
                                        int64_t tmp_179343 = ((int64_t *) mem_param_181232.mem)[slice_179341];
                                        int16_t tmp_179344 = ((int16_t *) mem_param_181235.mem)[slice_179341];
                                        
                                        loopres_179323 = i_179291;
                                        loopres_179324 = tmp_179342;
                                        loopres_179325 = tmp_179343;
                                        loopres_179326 = tmp_179344;
                                    }
                                    ((int8_t *) mem_181338.mem)[k_179290] = loopres_179324;
                                    ((int64_t *) mem_181340.mem)[k_179290] = loopres_179325;
                                    ((int16_t *) mem_181342.mem)[k_179290] = loopres_179326;
                                    
                                    int64_t i_tmp_182187 = loopres_179323;
                                    
                                    i_179291 = i_tmp_182187;
                                }
                                data_179286 = i_179291;
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181338, "mem_181338") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181340, "mem_181340") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181342, "mem_181342") != 0)
                                    return 1;
                            } else {
                                if (mem_181257_cached_sizze_182685 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181257, &mem_181257_cached_sizze_182685, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181259_cached_sizze_182686 < bytes_181256) {
                                    err = lexical_realloc(ctx, &mem_181259, &mem_181259_cached_sizze_182686, bytes_181256);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180391 = 0; i_180391 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199; i_180391++) {
                                    int64_t split_count_arg3_179352 = mul64(merge_block_sizze_178988, i_180391);
                                    int64_t defunc_0_split_count_res_179353;
                                    int64_t defunc_0_split_count_res_179354;
                                    int64_t defunc_0_split_count_res_179355;
                                    int64_t defunc_0_split_count_res_179356;
                                    int64_t defunc_0_split_count_res_179357;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_179353, &defunc_0_split_count_res_179354, &defunc_0_split_count_res_179355, &defunc_0_split_count_res_179356, &defunc_0_split_count_res_179357, (int64_t) 0, stride_179178, (int64_t) 0, j_m_i_179200, split_count_arg3_179352) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179358 = slt64((int64_t) 0, defunc_0_split_count_res_179357);
                                    bool defunc_0_split_count_res_179359;
                                    int64_t defunc_0_split_count_res_179360;
                                    int64_t defunc_0_split_count_res_179361;
                                    int64_t defunc_0_split_count_res_179362;
                                    int64_t defunc_0_split_count_res_179363;
                                    int64_t defunc_0_split_count_res_179364;
                                    bool loop_while_179365;
                                    int64_t ss_179366;
                                    int64_t ss_179367;
                                    int64_t tt_179368;
                                    int64_t tt_179369;
                                    int64_t count_179370;
                                    
                                    loop_while_179365 = loop_cond_179358;
                                    ss_179366 = defunc_0_split_count_res_179353;
                                    ss_179367 = defunc_0_split_count_res_179354;
                                    tt_179368 = defunc_0_split_count_res_179355;
                                    tt_179369 = defunc_0_split_count_res_179356;
                                    count_179370 = defunc_0_split_count_res_179357;
                                    while (loop_while_179365) {
                                        int64_t zlze_lhs_179371 = sub64(ss_179367, ss_179366);
                                        bool cond_179372 = sle64(zlze_lhs_179371, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179373;
                                        int64_t defunc_0_lifted_step_res_179374;
                                        int64_t defunc_0_lifted_step_res_179375;
                                        int64_t defunc_0_lifted_step_res_179376;
                                        
                                        if (cond_179372) {
                                            int64_t tmp_179377 = add64(tt_179368, count_179370);
                                            
                                            defunc_0_lifted_step_res_179373 = ss_179366;
                                            defunc_0_lifted_step_res_179374 = tmp_179377;
                                            defunc_0_lifted_step_res_179375 = tt_179369;
                                            defunc_0_lifted_step_res_179376 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179378 = sub64(tt_179369, tt_179368);
                                            bool cond_179379 = sle64(zlze_lhs_179378, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179380;
                                            int64_t defunc_0_lifted_step_res_f_res_179381;
                                            int64_t defunc_0_lifted_step_res_f_res_179382;
                                            int64_t defunc_0_lifted_step_res_f_res_179383;
                                            
                                            if (cond_179379) {
                                                int64_t tmp_179384 = add64(ss_179366, count_179370);
                                                
                                                defunc_0_lifted_step_res_f_res_179380 = tmp_179384;
                                                defunc_0_lifted_step_res_f_res_179381 = tt_179368;
                                                defunc_0_lifted_step_res_f_res_179382 = tt_179369;
                                                defunc_0_lifted_step_res_f_res_179383 = (int64_t) 0;
                                            } else {
                                                bool cond_179385 = count_179370 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179386;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179387;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179388;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179389;
                                                
                                                if (cond_179385) {
                                                    bool x_179390 = sle64((int64_t) 0, ss_179366);
                                                    bool y_179391 = slt64(ss_179366, stride_179178);
                                                    bool bounds_check_179392 = x_179390 && y_179391;
                                                    bool index_certs_179393;
                                                    
                                                    if (!bounds_check_179392) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179366, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179398 = sle64((int64_t) 0, tt_179368);
                                                    bool y_179399 = slt64(tt_179368, j_m_i_179200);
                                                    bool bounds_check_179400 = x_179398 && y_179399;
                                                    bool index_certs_179401;
                                                    
                                                    if (!bounds_check_179400) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179368, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179394 = start_179251 + ss_179366;
                                                    int8_t leq_arg1_179395 = ((int8_t *) mem_param_181229.mem)[slice_179394];
                                                    int64_t leq_arg1_179396 = ((int64_t *) mem_param_181232.mem)[slice_179394];
                                                    int16_t leq_arg1_179397 = ((int16_t *) mem_param_181235.mem)[slice_179394];
                                                    int64_t slice_179402 = stride_179178 + tt_179368;
                                                    int64_t slice_179403 = start_179251 + slice_179402;
                                                    int8_t leq_arg0_179404 = ((int8_t *) mem_param_181229.mem)[slice_179403];
                                                    int64_t leq_arg0_179405 = ((int64_t *) mem_param_181232.mem)[slice_179403];
                                                    int16_t leq_arg0_179406 = ((int16_t *) mem_param_181235.mem)[slice_179403];
                                                    bool cond_179407 = leq_arg0_179404 == leq_arg1_179395;
                                                    bool defunc_0_leq_res_t_res_179408 = sle64(leq_arg0_179405, leq_arg1_179396);
                                                    bool defunc_0_leq_res_179409 = sle16(leq_arg0_179406, leq_arg1_179397);
                                                    bool x_179410 = cond_179407 && defunc_0_leq_res_t_res_179408;
                                                    bool x_179411 = !cond_179407;
                                                    bool y_179412 = defunc_0_leq_res_179409 && x_179411;
                                                    bool defunc_0_leq_res_179413 = x_179410 || y_179412;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    
                                                    if (defunc_0_leq_res_179413) {
                                                        int64_t tmp_179416 = add64((int64_t) 1, tt_179368);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = ss_179366;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tmp_179416;
                                                    } else {
                                                        int64_t tmp_179417 = add64((int64_t) 1, ss_179366);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179414 = tmp_179417;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179415 = tt_179368;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = defunc_0_lifted_step_res_f_res_f_res_t_res_179414;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_t_res_179415;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = tt_179369;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179418 = sdiv64(count_179370, (int64_t) 2);
                                                    int64_t n_179419 = sub64(count_179370, m_179418);
                                                    bool cond_179420 = n_179419 == (int64_t) 0;
                                                    int64_t zgze_lhs_179421 = add64(ss_179366, m_179418);
                                                    bool cond_f_res_179422 = sle64(ss_179367, zgze_lhs_179421);
                                                    bool x_179423 = !cond_179420;
                                                    bool y_179424 = cond_f_res_179422 && x_179423;
                                                    bool cond_179425 = cond_179420 || y_179424;
                                                    bool leq_y_x_179426;
                                                    
                                                    if (cond_179425) {
                                                        leq_y_x_179426 = 1;
                                                    } else {
                                                        bool x_179427 = sle64((int64_t) 0, zgze_lhs_179421);
                                                        bool y_179428 = slt64(zgze_lhs_179421, stride_179178);
                                                        bool bounds_check_179429 = x_179427 && y_179428;
                                                        bool index_certs_179430;
                                                        
                                                        if (!bounds_check_179429) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179421, "] out of bounds for array of shape [", (long long) stride_179178, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179435 = add64(tt_179368, n_179419);
                                                        int64_t leq_arg0_179436 = sub64(zm_lhs_179435, (int64_t) 1);
                                                        bool x_179437 = sle64((int64_t) 0, leq_arg0_179436);
                                                        bool y_179438 = slt64(leq_arg0_179436, j_m_i_179200);
                                                        bool bounds_check_179439 = x_179437 && y_179438;
                                                        bool index_certs_179440;
                                                        
                                                        if (!bounds_check_179439) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179436, "] out of bounds for array of shape [", (long long) j_m_i_179200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179431 = start_179251 + zgze_lhs_179421;
                                                        int8_t leq_arg1_179432 = ((int8_t *) mem_param_181229.mem)[slice_179431];
                                                        int64_t leq_arg1_179433 = ((int64_t *) mem_param_181232.mem)[slice_179431];
                                                        int16_t leq_arg1_179434 = ((int16_t *) mem_param_181235.mem)[slice_179431];
                                                        int64_t slice_179441 = stride_179178 + leq_arg0_179436;
                                                        int64_t slice_179442 = start_179251 + slice_179441;
                                                        int8_t leq_arg0_179443 = ((int8_t *) mem_param_181229.mem)[slice_179442];
                                                        int64_t leq_arg0_179444 = ((int64_t *) mem_param_181232.mem)[slice_179442];
                                                        int16_t leq_arg0_179445 = ((int16_t *) mem_param_181235.mem)[slice_179442];
                                                        bool cond_179446 = leq_arg0_179443 == leq_arg1_179432;
                                                        bool defunc_0_leq_res_t_res_179447 = sle64(leq_arg0_179444, leq_arg1_179433);
                                                        bool defunc_0_leq_res_179448 = sle16(leq_arg0_179445, leq_arg1_179434);
                                                        bool x_179449 = cond_179446 && defunc_0_leq_res_t_res_179447;
                                                        bool x_179450 = !cond_179446;
                                                        bool y_179451 = defunc_0_leq_res_179448 && x_179450;
                                                        bool defunc_0_leq_res_179452 = x_179449 || y_179451;
                                                        
                                                        leq_y_x_179426 = defunc_0_leq_res_179452;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                    
                                                    if (leq_y_x_179426) {
                                                        int64_t tmp_179456 = add64(tt_179368, n_179419);
                                                        int64_t tmp_179457 = sub64(count_179370, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tmp_179456;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tt_179369;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = tmp_179457;
                                                    } else {
                                                        int64_t tmp_179458 = add64(tt_179368, n_179419);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179453 = tt_179368;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179454 = tmp_179458;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179455 = count_179370;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179386 = ss_179366;
                                                    defunc_0_lifted_step_res_f_res_f_res_179387 = defunc_0_lifted_step_res_f_res_f_res_f_res_179453;
                                                    defunc_0_lifted_step_res_f_res_f_res_179388 = defunc_0_lifted_step_res_f_res_f_res_f_res_179454;
                                                    defunc_0_lifted_step_res_f_res_f_res_179389 = defunc_0_lifted_step_res_f_res_f_res_f_res_179455;
                                                }
                                                defunc_0_lifted_step_res_f_res_179380 = defunc_0_lifted_step_res_f_res_f_res_179386;
                                                defunc_0_lifted_step_res_f_res_179381 = defunc_0_lifted_step_res_f_res_f_res_179387;
                                                defunc_0_lifted_step_res_f_res_179382 = defunc_0_lifted_step_res_f_res_f_res_179388;
                                                defunc_0_lifted_step_res_f_res_179383 = defunc_0_lifted_step_res_f_res_f_res_179389;
                                            }
                                            defunc_0_lifted_step_res_179373 = defunc_0_lifted_step_res_f_res_179380;
                                            defunc_0_lifted_step_res_179374 = defunc_0_lifted_step_res_f_res_179381;
                                            defunc_0_lifted_step_res_179375 = defunc_0_lifted_step_res_f_res_179382;
                                            defunc_0_lifted_step_res_179376 = defunc_0_lifted_step_res_f_res_179383;
                                        }
                                        
                                        int64_t loopres_179459;
                                        int64_t loopres_179460;
                                        int64_t loopres_179461;
                                        int64_t loopres_179462;
                                        int64_t loopres_179463;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_179459, &loopres_179460, &loopres_179461, &loopres_179462, &loopres_179463, defunc_0_lifted_step_res_179373, ss_179367, defunc_0_lifted_step_res_179374, defunc_0_lifted_step_res_179375, defunc_0_lifted_step_res_179376) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179464 = slt64((int64_t) 0, loopres_179463);
                                        bool loop_while_tmp_182193 = loop_cond_179464;
                                        int64_t ss_tmp_182194 = loopres_179459;
                                        int64_t ss_tmp_182195 = loopres_179460;
                                        int64_t tt_tmp_182196 = loopres_179461;
                                        int64_t tt_tmp_182197 = loopres_179462;
                                        int64_t count_tmp_182198 = loopres_179463;
                                        
                                        loop_while_179365 = loop_while_tmp_182193;
                                        ss_179366 = ss_tmp_182194;
                                        ss_179367 = ss_tmp_182195;
                                        tt_179368 = tt_tmp_182196;
                                        tt_179369 = tt_tmp_182197;
                                        count_179370 = count_tmp_182198;
                                    }
                                    defunc_0_split_count_res_179359 = loop_while_179365;
                                    defunc_0_split_count_res_179360 = ss_179366;
                                    defunc_0_split_count_res_179361 = ss_179367;
                                    defunc_0_split_count_res_179362 = tt_179368;
                                    defunc_0_split_count_res_179363 = tt_179369;
                                    defunc_0_split_count_res_179364 = count_179370;
                                    ((int64_t *) mem_181257)[i_180391] = defunc_0_split_count_res_179360;
                                    ((int64_t *) mem_181259)[i_180391] = defunc_0_split_count_res_179362;
                                }
                                if (mem_181273_cached_sizze_182687 < flat_dim_179201) {
                                    err = lexical_realloc(ctx, &mem_181273, &mem_181273_cached_sizze_182687, flat_dim_179201);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181276_cached_sizze_182688 < bytes_181275) {
                                    err = lexical_realloc(ctx, &mem_181276, &mem_181276_cached_sizze_182688, bytes_181275);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181279_cached_sizze_182689 < bytes_181278) {
                                    err = lexical_realloc(ctx, &mem_181279, &mem_181279_cached_sizze_182689, bytes_181278);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180400 = 0; i_180400 < num_blocks_179198; i_180400++) {
                                    bool y_179473 = slt64(i_180400, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool index_certs_179475;
                                    
                                    if (!y_179473) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180400, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179476 = ((int64_t *) mem_181257)[i_180400];
                                    int64_t defunc_0_f_res_179477 = ((int64_t *) mem_181259)[i_180400];
                                    int64_t tmp_179478 = add64((int64_t) 1, i_180400);
                                    bool x_179479 = sle64((int64_t) 0, tmp_179478);
                                    bool y_179480 = slt64(tmp_179478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199);
                                    bool bounds_check_179481 = x_179479 && y_179480;
                                    bool index_certs_179482;
                                    
                                    if (!bounds_check_179481) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179478, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179199, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179483 = ((int64_t *) mem_181257)[tmp_179478];
                                    int64_t defunc_0_f_res_179484 = ((int64_t *) mem_181259)[tmp_179478];
                                    int64_t merge_sequential_arg2_179485 = add64(stride_179178, defunc_0_f_res_179477);
                                    int64_t merge_sequential_arg2_179486 = add64(stride_179178, defunc_0_f_res_179484);
                                    int64_t j_m_i_179487 = sub64(merge_sequential_arg2_179486, merge_sequential_arg2_179485);
                                    bool empty_slice_179488 = j_m_i_179487 == (int64_t) 0;
                                    int64_t m_179489 = sub64(j_m_i_179487, (int64_t) 1);
                                    int64_t i_p_m_t_s_179490 = add64(merge_sequential_arg2_179485, m_179489);
                                    bool zzero_leq_i_p_m_t_s_179491 = sle64((int64_t) 0, i_p_m_t_s_179490);
                                    bool i_p_m_t_s_leq_w_179492 = slt64(i_p_m_t_s_179490, next_stride_179179);
                                    bool zzero_lte_i_179493 = sle64((int64_t) 0, merge_sequential_arg2_179485);
                                    bool i_lte_j_179494 = sle64(merge_sequential_arg2_179485, merge_sequential_arg2_179486);
                                    bool y_179495 = i_p_m_t_s_leq_w_179492 && zzero_lte_i_179493;
                                    bool y_179496 = zzero_leq_i_p_m_t_s_179491 && y_179495;
                                    bool forwards_ok_179497 = i_lte_j_179494 && y_179496;
                                    bool ok_or_empty_179498 = empty_slice_179488 || forwards_ok_179497;
                                    bool index_certs_179499;
                                    
                                    if (!ok_or_empty_179498) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179485, ":", (long long) merge_sequential_arg2_179486, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179500 = sub64(defunc_0_f_res_179483, defunc_0_f_res_179476);
                                    bool empty_slice_179501 = j_m_i_179500 == (int64_t) 0;
                                    int64_t m_179502 = sub64(j_m_i_179500, (int64_t) 1);
                                    int64_t i_p_m_t_s_179503 = add64(defunc_0_f_res_179476, m_179502);
                                    bool zzero_leq_i_p_m_t_s_179504 = sle64((int64_t) 0, i_p_m_t_s_179503);
                                    bool i_p_m_t_s_leq_w_179505 = slt64(i_p_m_t_s_179503, next_stride_179179);
                                    bool zzero_lte_i_179506 = sle64((int64_t) 0, defunc_0_f_res_179476);
                                    bool i_lte_j_179507 = sle64(defunc_0_f_res_179476, defunc_0_f_res_179483);
                                    bool y_179508 = i_p_m_t_s_leq_w_179505 && zzero_lte_i_179506;
                                    bool y_179509 = zzero_leq_i_p_m_t_s_179504 && y_179508;
                                    bool forwards_ok_179510 = i_lte_j_179507 && y_179509;
                                    bool ok_or_empty_179511 = empty_slice_179501 || forwards_ok_179510;
                                    bool index_certs_179512;
                                    
                                    if (!ok_or_empty_179511) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179476, ":", (long long) defunc_0_f_res_179483, "] out of bounds for array of shape [", (long long) next_stride_179179, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179513 = slt64((int64_t) 0, j_m_i_179500);
                                    int8_t dummy_179514;
                                    int64_t dummy_179515;
                                    int16_t dummy_179516;
                                    
                                    if (cond_179513) {
                                        bool index_certs_179517;
                                        
                                        if (!cond_179513) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179518 = start_179251 + defunc_0_f_res_179476;
                                        int8_t head_res_179519 = ((int8_t *) mem_param_181229.mem)[slice_179518];
                                        int64_t head_res_179520 = ((int64_t *) mem_param_181232.mem)[slice_179518];
                                        int16_t head_res_179521 = ((int16_t *) mem_param_181235.mem)[slice_179518];
                                        
                                        dummy_179514 = head_res_179519;
                                        dummy_179515 = head_res_179520;
                                        dummy_179516 = head_res_179521;
                                    } else {
                                        bool y_179522 = slt64((int64_t) 0, j_m_i_179487);
                                        bool index_certs_179523;
                                        
                                        if (!y_179522) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179524 = start_179251 + merge_sequential_arg2_179485;
                                        int8_t head_res_179525 = ((int8_t *) mem_param_181229.mem)[slice_179524];
                                        int64_t head_res_179526 = ((int64_t *) mem_param_181232.mem)[slice_179524];
                                        int16_t head_res_179527 = ((int16_t *) mem_param_181235.mem)[slice_179524];
                                        
                                        dummy_179514 = head_res_179525;
                                        dummy_179515 = head_res_179526;
                                        dummy_179516 = head_res_179527;
                                    }
                                    for (int64_t nest_i_182202 = 0; nest_i_182202 < merge_block_sizze_178988; nest_i_182202++) {
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + nest_i_182202] = dummy_179514;
                                    }
                                    for (int64_t nest_i_182203 = 0; nest_i_182203 < merge_block_sizze_178988; nest_i_182203++) {
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + nest_i_182203] = dummy_179515;
                                    }
                                    for (int64_t nest_i_182204 = 0; nest_i_182204 < merge_block_sizze_178988; nest_i_182204++) {
                                        ((int16_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + nest_i_182204] = dummy_179516;
                                    }
                                    
                                    int64_t data_179531;
                                    int64_t i_179536 = (int64_t) 0;
                                    
                                    for (int64_t k_179535 = 0; k_179535 < merge_block_sizze_178988; k_179535++) {
                                        int64_t j_179540 = sub64(k_179535, i_179536);
                                        bool cond_179541 = j_179540 == j_m_i_179487;
                                        bool cond_179542;
                                        
                                        if (cond_179541) {
                                            cond_179542 = 1;
                                        } else {
                                            bool cond_179543 = slt64(i_179536, j_m_i_179500);
                                            bool cond_f_res_179544;
                                            
                                            if (cond_179543) {
                                                bool x_179545 = sle64((int64_t) 0, j_179540);
                                                bool y_179546 = slt64(j_179540, j_m_i_179487);
                                                bool bounds_check_179547 = x_179545 && y_179546;
                                                bool index_certs_179548;
                                                
                                                if (!bounds_check_179547) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179554 = sle64((int64_t) 0, i_179536);
                                                bool bounds_check_179555 = cond_179543 && x_179554;
                                                bool index_certs_179556;
                                                
                                                if (!bounds_check_179555) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179549 = merge_sequential_arg2_179485 + j_179540;
                                                int64_t slice_179550 = start_179251 + slice_179549;
                                                int8_t leq_arg1_179551 = ((int8_t *) mem_param_181229.mem)[slice_179550];
                                                int64_t leq_arg1_179552 = ((int64_t *) mem_param_181232.mem)[slice_179550];
                                                int16_t leq_arg1_179553 = ((int16_t *) mem_param_181235.mem)[slice_179550];
                                                int64_t slice_179557 = defunc_0_f_res_179476 + i_179536;
                                                int64_t slice_179558 = start_179251 + slice_179557;
                                                int8_t leq_arg0_179559 = ((int8_t *) mem_param_181229.mem)[slice_179558];
                                                int64_t leq_arg0_179560 = ((int64_t *) mem_param_181232.mem)[slice_179558];
                                                int16_t leq_arg0_179561 = ((int16_t *) mem_param_181235.mem)[slice_179558];
                                                bool cond_179562 = leq_arg0_179559 == leq_arg1_179551;
                                                bool defunc_0_leq_res_t_res_179563 = sle64(leq_arg0_179560, leq_arg1_179552);
                                                bool defunc_0_leq_res_179564 = sle16(leq_arg0_179561, leq_arg1_179553);
                                                bool x_179565 = cond_179562 && defunc_0_leq_res_t_res_179563;
                                                bool x_179566 = !cond_179562;
                                                bool y_179567 = defunc_0_leq_res_179564 && x_179566;
                                                bool defunc_0_leq_res_179568 = x_179565 || y_179567;
                                                
                                                cond_f_res_179544 = defunc_0_leq_res_179568;
                                            } else {
                                                cond_f_res_179544 = 0;
                                            }
                                            cond_179542 = cond_f_res_179544;
                                        }
                                        
                                        int64_t loopres_179569;
                                        int8_t loopres_179570;
                                        int64_t loopres_179571;
                                        int16_t loopres_179572;
                                        
                                        if (cond_179542) {
                                            bool x_179574 = sle64((int64_t) 0, i_179536);
                                            bool y_179575 = slt64(i_179536, j_m_i_179500);
                                            bool bounds_check_179576 = x_179574 && y_179575;
                                            bool index_certs_179577;
                                            
                                            if (!bounds_check_179576) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179536, "] out of bounds for array of shape [", (long long) j_m_i_179500, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179573 = add64((int64_t) 1, i_179536);
                                            int64_t slice_179578 = defunc_0_f_res_179476 + i_179536;
                                            int64_t slice_179579 = start_179251 + slice_179578;
                                            int8_t tmp_179580 = ((int8_t *) mem_param_181229.mem)[slice_179579];
                                            int64_t tmp_179581 = ((int64_t *) mem_param_181232.mem)[slice_179579];
                                            int16_t tmp_179582 = ((int16_t *) mem_param_181235.mem)[slice_179579];
                                            
                                            loopres_179569 = tmp_179573;
                                            loopres_179570 = tmp_179580;
                                            loopres_179571 = tmp_179581;
                                            loopres_179572 = tmp_179582;
                                        } else {
                                            bool x_179583 = sle64((int64_t) 0, j_179540);
                                            bool y_179584 = slt64(j_179540, j_m_i_179487);
                                            bool bounds_check_179585 = x_179583 && y_179584;
                                            bool index_certs_179586;
                                            
                                            if (!bounds_check_179585) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179540, "] out of bounds for array of shape [", (long long) j_m_i_179487, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179587 = merge_sequential_arg2_179485 + j_179540;
                                            int64_t slice_179588 = start_179251 + slice_179587;
                                            int8_t tmp_179589 = ((int8_t *) mem_param_181229.mem)[slice_179588];
                                            int64_t tmp_179590 = ((int64_t *) mem_param_181232.mem)[slice_179588];
                                            int16_t tmp_179591 = ((int16_t *) mem_param_181235.mem)[slice_179588];
                                            
                                            loopres_179569 = i_179536;
                                            loopres_179570 = tmp_179589;
                                            loopres_179571 = tmp_179590;
                                            loopres_179572 = tmp_179591;
                                        }
                                        ((int8_t *) mem_181273)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179570;
                                        ((int64_t *) mem_181276)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179571;
                                        ((int16_t *) mem_181279)[i_180400 * merge_block_sizze_178988 + k_179535] = loopres_179572;
                                        
                                        int64_t i_tmp_182205 = loopres_179569;
                                        
                                        i_179536 = i_tmp_182205;
                                    }
                                    data_179531 = i_179536;
                                }
                                if (memblock_alloc(ctx, &mem_181328, flat_dim_179201, "mem_181328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181328.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint8_t *) mem_181273, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181332, bytes_181275, "mem_181332")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181332.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint64_t *) mem_181276, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_alloc(ctx, &mem_181336, bytes_181278, "mem_181336")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181336.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (uint16_t *) mem_181279, (int64_t) 0, (int64_t []) {merge_block_sizze_178988, (int64_t) 1}, (int64_t []) {num_blocks_179198, merge_block_sizze_178988});
                                if (memblock_set(ctx, &ext_mem_181369, &mem_181328, "mem_181328") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181366, &mem_181332, "mem_181332") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181363, &mem_181336, "mem_181336") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181237, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181369.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181240, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181366.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181243, i_180410 * next_stride_179179, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181363.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179179});
                            if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181383, bytes_181236, "mem_181383")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181383.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint8_t *) mem_181237, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181387, bytes_181239, "mem_181387")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181387.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint64_t *) mem_181240, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        if (memblock_alloc(ctx, &mem_181391, bytes_181242, "mem_181391")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181391.mem, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (uint16_t *) mem_181243, (int64_t) 0, (int64_t []) {next_stride_179179, (int64_t) 1}, (int64_t []) {num_merges_179183, next_stride_179179});
                        
                        bool loop_cond_179611 = slt64(next_stride_179179, flat_dim_178983);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182172, &mem_181383, "mem_181383") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182173, &mem_181387, "mem_181387") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182174, &mem_181391, "mem_181391") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182175 = bytes_181236;
                        bool loop_while_tmp_182176 = loop_cond_179611;
                        int64_t stride_tmp_182180 = next_stride_179179;
                        
                        if (memblock_set(ctx, &mem_param_181229, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181232, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181235, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179173 = loop_dz2084Uz2082U_tmp_182175;
                        loop_while_179174 = loop_while_tmp_182176;
                        stride_179178 = stride_tmp_182180;
                    }
                    if (memblock_set(ctx, &ext_mem_181401, &mem_param_181229, "mem_param_181229") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181400, &mem_param_181232, "mem_param_181232") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181399, &mem_param_181235, "mem_param_181235") != 0)
                        return 1;
                    data_179167 = loop_dz2084Uz2082U_179173;
                    data_179168 = loop_while_179174;
                    data_179172 = stride_179178;
                    if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
                        return 1;
                    
                    bool empty_slice_179612 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179613 = sle64((int64_t) 0, zs_lhs_178967);
                    bool i_p_m_t_s_leq_w_179614 = slt64(zs_lhs_178967, data_179167);
                    bool y_179615 = zzero_leq_i_p_m_t_s_179613 && i_p_m_t_s_leq_w_179614;
                    bool ok_or_empty_179616 = empty_slice_179612 || y_179615;
                    bool index_certs_179617;
                    
                    if (!ok_or_empty_179616) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921, "] out of bounds for array of shape [", (long long) data_179167, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181410, &ext_mem_181401, "ext_mem_181401") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181407, &ext_mem_181400, "ext_mem_181400") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181404, &ext_mem_181399, "ext_mem_181399") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181077, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181410.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181080, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181407.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181083, i_180426 * perThread_175244, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178921});
                if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
                    return 1;
                for (int64_t i_180416 = 0; i_180416 < perThread_175244; i_180416++) {
                    int64_t lifted_lambda_res_179639 = add64(zm_rhs_178923, i_180416);
                    
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + i_180416] = lifted_lambda_res_179639;
                }
                
                bool cond_179641 = card_178924 == zp_rhs_175243;
                
                if (cond_179641) {
                    bool y_179643 = slt64(card_178924, perThread_175244);
                    bool index_certs_179644;
                    
                    if (!y_179643) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178924, "] out of bounds for array of shape [", (long long) perThread_175244, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181075)[i_180426 * perThread_175244 + card_178924] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181436, bytes_180731, "mem_181436")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182210 = 0; nest_i_182210 < window_sizze_120850; nest_i_182210++) {
                ((int16_t *) mem_181436.mem)[nest_i_182210] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181438, bytes_180729, "mem_181438")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182211 = 0; nest_i_182211 < window_sizze_120850; nest_i_182211++) {
                ((int64_t *) mem_181438.mem)[nest_i_182211] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181439, window_sizze_120850, "mem_181439")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182212 = 0; nest_i_182212 < window_sizze_120850; nest_i_182212++) {
                ((int8_t *) mem_181439.mem)[nest_i_182212] = (int8_t) -1;
            }
            for (int64_t write_iter_180431 = 0; write_iter_180431 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175245; write_iter_180431++) {
                int64_t new_index_180583 = squot64(write_iter_180431, perThread_175244);
                int64_t binop_y_180585 = perThread_175244 * new_index_180583;
                int64_t new_index_180586 = write_iter_180431 - binop_y_180585;
                int64_t write_iv_180435 = ((int64_t *) mem_181075)[new_index_180583 * perThread_175244 + new_index_180586];
                int8_t write_iv_180436 = ((int8_t *) mem_181077)[new_index_180583 * perThread_175244 + new_index_180586];
                int64_t write_iv_180437 = ((int64_t *) mem_181080)[new_index_180583 * perThread_175244 + new_index_180586];
                int16_t write_iv_180438 = ((int16_t *) mem_181083)[new_index_180583 * perThread_175244 + new_index_180586];
                
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_120850)) {
                    ((int8_t *) mem_181439.mem)[write_iv_180435] = write_iv_180436;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_120850)) {
                    ((int64_t *) mem_181438.mem)[write_iv_180435] = write_iv_180437;
                }
                if (sle64((int64_t) 0, write_iv_180435) && slt64(write_iv_180435, window_sizze_120850)) {
                    ((int16_t *) mem_181436.mem)[write_iv_180435] = write_iv_180438;
                }
            }
            
            int64_t index_concat_branch_179667;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179668 = ((int64_t *) mem_181058)[index_concat_i_178008];
                
                index_concat_branch_179667 = index_concat_179668;
            } else {
                index_concat_branch_179667 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179669;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_179670 = ((int64_t *) mem_181060)[index_concat_i_178008];
                
                index_concat_branch_179669 = index_concat_179670;
            } else {
                index_concat_branch_179669 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_181439, "mem_181439") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_181438, "mem_181438") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_181436, "mem_181436") != 0)
                return 1;
            loopres_175234 = index_concat_branch_179667;
            loopres_175235 = index_concat_branch_179669;
        } else {
            int16_t leq_lhs_176225 = ((int16_t *) a_list_mem_180696.mem)[p_175206];
            int16_t leq_rhs_176228 = ((int16_t *) b_list_mem_180697.mem)[p_175207];
            bool defunc_0_leq_res_176229 = sle16(leq_lhs_176225, leq_rhs_176228);
            int16_t lowest_176230;
            
            if (defunc_0_leq_res_176229) {
                bool index_certs_179671;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_lhs_176225;
            } else {
                bool index_certs_176235;
                
                if (!y_176223) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176230 = leq_rhs_176228;
            }
            if (mem_180713_cached_sizze_182654 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182654, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180715_cached_sizze_182655 < bytes_180712) {
                err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182655, bytes_180712);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180446 = 0; i_180446 < threads_120851; i_180446++) {
                int64_t index_primexp_180662 = add64((int64_t) 1, i_180446);
                int64_t zs_lhs_176251 = mul64(zt_rhs_176244, index_primexp_180662);
                int64_t index_176252 = sdiv64(zs_lhs_176251, partitionFunc_arg0_176221);
                bool cond_176253 = slt64(window_sizze_120850, index_176252);
                int64_t loop_over_176254;
                
                if (cond_176253) {
                    loop_over_176254 = window_sizze_120850;
                } else {
                    loop_over_176254 = index_176252;
                }
                
                int64_t loop_over_176255;
                
                if (cond_176253) {
                    int64_t loop_over_t_res_179672 = sub64(index_176252, window_sizze_120850);
                    
                    loop_over_176255 = loop_over_t_res_179672;
                } else {
                    loop_over_176255 = (int64_t) 0;
                }
                
                int64_t loop_over_176257;
                
                if (cond_176253) {
                    int64_t zm_lhs_179673 = sub64(index_176252, window_sizze_120850);
                    int64_t loop_over_t_res_179674 = sub64(zm_lhs_179673, (int64_t) 1);
                    
                    loop_over_176257 = loop_over_t_res_179674;
                } else {
                    loop_over_176257 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176260;
                int64_t defunc_0_f_res_176261;
                int64_t defunc_0_f_res_176262;
                int64_t defunc_0_f_res_176263;
                bool loop_while_176264;
                int64_t p_176265;
                int64_t p_176266;
                int64_t p_176267;
                
                loop_while_176264 = 1;
                p_176265 = loop_over_176257;
                p_176266 = loop_over_176254;
                p_176267 = loop_over_176255;
                while (loop_while_176264) {
                    int64_t zs_lhs_176268 = sub64(p_176266, p_176265);
                    int64_t offset_176269 = sdiv64(zs_lhs_176268, (int64_t) 2);
                    int64_t ai_176270 = sub64(p_176266, offset_176269);
                    int64_t max_arg1_176271 = add64(p_176267, offset_176269);
                    int64_t max_res_176272 = smax64((int64_t) 0, max_arg1_176271);
                    bool cond_176273 = slt64((int64_t) 0, max_res_176272);
                    int16_t b_prev_176274;
                    
                    if (cond_176273) {
                        int64_t tmp_179675 = sub64(max_res_176272, (int64_t) 1);
                        bool x_179676 = sle64((int64_t) 0, tmp_179675);
                        bool y_179677 = slt64(tmp_179675, window_sizze_120850);
                        bool bounds_check_179678 = x_179676 && y_179677;
                        bool index_certs_179679;
                        
                        if (!bounds_check_179678) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179675, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179680 = p_175207 + tmp_179675;
                        int16_t b_prev_t_res_179681 = ((int16_t *) b_list_mem_180697.mem)[slice_179680];
                        
                        b_prev_176274 = b_prev_t_res_179681;
                    } else {
                        b_prev_176274 = lowest_176230;
                    }
                    
                    bool cond_176281 = sle64(ai_176270, (int64_t) 0);
                    int64_t loopres_176282;
                    int64_t loopres_176283;
                    int64_t loopres_176284;
                    bool loopres_176285;
                    
                    if (cond_176281) {
                        loopres_176282 = p_176265;
                        loopres_176283 = (int64_t) 0;
                        loopres_176284 = max_res_176272;
                        loopres_176285 = 0;
                    } else {
                        bool cond_176286 = sle64(window_sizze_120850, max_res_176272);
                        int64_t loopres_f_res_176287;
                        int64_t loopres_f_res_176288;
                        int64_t loopres_f_res_176289;
                        bool loopres_f_res_176290;
                        
                        if (cond_176286) {
                            int64_t min_res_179683 = smin64(m_175195, ai_176270);
                            bool x_179684 = sle64((int64_t) 0, m_175195);
                            bool y_179685 = slt64(m_175195, window_sizze_120850);
                            bool bounds_check_179686 = x_179684 && y_179685;
                            bool index_certs_179687;
                            
                            if (!bounds_check_179686) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179690 = sle64((int64_t) 0, min_res_179683);
                            bool y_179691 = slt64(min_res_179683, window_sizze_120850);
                            bool bounds_check_179692 = x_179690 && y_179691;
                            bool index_certs_179693;
                            
                            if (!bounds_check_179692) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179683, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_179689 = ((int16_t *) b_list_mem_180697.mem)[i_p_m_t_s_175223];
                            int64_t slice_179694 = p_175206 + min_res_179683;
                            int16_t leq_rhs_179695 = ((int16_t *) a_list_mem_180696.mem)[slice_179694];
                            bool defunc_0_leq_res_179696 = sle16(leq_lhs_179689, leq_rhs_179695);
                            int64_t loopres_f_res_t_res_179697;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179697 = ai_176270;
                            } else {
                                loopres_f_res_t_res_179697 = p_176266;
                            }
                            
                            bool x_179698 = !defunc_0_leq_res_179696;
                            int64_t loopres_f_res_t_res_179699;
                            
                            if (defunc_0_leq_res_179696) {
                                loopres_f_res_t_res_179699 = window_sizze_120850;
                            } else {
                                int64_t tmp_179700 = sub64(m_175195, offset_176269);
                                
                                loopres_f_res_t_res_179699 = tmp_179700;
                            }
                            loopres_f_res_176287 = p_176265;
                            loopres_f_res_176288 = loopres_f_res_t_res_179697;
                            loopres_f_res_176289 = loopres_f_res_t_res_179699;
                            loopres_f_res_176290 = x_179698;
                        } else {
                            bool cond_176308 = sle64(window_sizze_120850, ai_176270);
                            int64_t loopres_f_res_f_res_176309;
                            int64_t loopres_f_res_f_res_176310;
                            int64_t loopres_f_res_f_res_176311;
                            bool loopres_f_res_f_res_176312;
                            
                            if (cond_176308) {
                                int64_t min_res_179702 = smin64(m_175195, max_res_176272);
                                bool x_179703 = sle64((int64_t) 0, m_175195);
                                bool y_179704 = slt64(m_175195, window_sizze_120850);
                                bool bounds_check_179705 = x_179703 && y_179704;
                                bool index_certs_179706;
                                
                                if (!bounds_check_179705) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175195, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179709 = sle64((int64_t) 0, min_res_179702);
                                bool y_179710 = slt64(min_res_179702, window_sizze_120850);
                                bool bounds_check_179711 = x_179709 && y_179710;
                                bool index_certs_179712;
                                
                                if (!bounds_check_179711) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179702, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_179708 = ((int16_t *) a_list_mem_180696.mem)[i_p_m_t_s_175212];
                                int64_t slice_179713 = p_175207 + min_res_179702;
                                int16_t leq_rhs_179714 = ((int16_t *) b_list_mem_180697.mem)[slice_179713];
                                bool defunc_0_leq_res_179715 = sle16(leq_lhs_179708, leq_rhs_179714);
                                int64_t loopres_f_res_f_res_t_res_179716;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179716 = max_res_176272;
                                } else {
                                    loopres_f_res_f_res_t_res_179716 = p_176267;
                                }
                                
                                bool x_179717 = !defunc_0_leq_res_179715;
                                int64_t loopres_f_res_f_res_t_res_179718;
                                
                                if (defunc_0_leq_res_179715) {
                                    loopres_f_res_f_res_t_res_179718 = window_sizze_120850;
                                } else {
                                    loopres_f_res_f_res_t_res_179718 = m_175195;
                                }
                                loopres_f_res_f_res_176309 = p_176265;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_t_res_179718;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_t_res_179716;
                                loopres_f_res_f_res_176312 = x_179717;
                            } else {
                                bool cond_176329 = sle64(p_176266, p_176265);
                                int64_t loopres_f_res_f_res_f_res_176330;
                                int64_t loopres_f_res_f_res_f_res_176331;
                                int64_t loopres_f_res_f_res_f_res_176332;
                                bool loopres_f_res_f_res_f_res_176333;
                                
                                if (cond_176329) {
                                    bool cond_179757 = slt64(ai_176270, window_sizze_120850);
                                    int64_t ai_179758;
                                    
                                    if (cond_179757) {
                                        ai_179758 = ai_176270;
                                    } else {
                                        ai_179758 = m_175195;
                                    }
                                    
                                    bool x_179771 = sle64((int64_t) 0, ai_179758);
                                    bool y_179772 = slt64(ai_179758, window_sizze_120850);
                                    bool bounds_check_179773 = x_179771 && y_179772;
                                    bool index_certs_179774;
                                    
                                    if (!bounds_check_179773) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179758, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179760;
                                    
                                    if (cond_176273) {
                                        int64_t tmp_179761 = sub64(max_res_176272, (int64_t) 1);
                                        bool x_179762 = sle64((int64_t) 0, tmp_179761);
                                        bool y_179763 = slt64(tmp_179761, window_sizze_120850);
                                        bool bounds_check_179764 = x_179762 && y_179763;
                                        bool index_certs_179765;
                                        
                                        if (!bounds_check_179764) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179761, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179766 = p_175207 + tmp_179761;
                                        int16_t b_prev_t_res_179767 = ((int16_t *) b_list_mem_180697.mem)[slice_179766];
                                        
                                        b_prev_179760 = b_prev_t_res_179767;
                                    } else {
                                        bool index_certs_179769;
                                        
                                        if (!y_176223) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179760 = leq_rhs_176228;
                                    }
                                    
                                    int64_t slice_179775 = p_175206 + ai_179758;
                                    int16_t gt_lhs_179776 = ((int16_t *) a_list_mem_180696.mem)[slice_179775];
                                    bool defunc_0_gt_res_179777 = slt16(b_prev_179760, gt_lhs_179776);
                                    int64_t defunc_0_partFunc_sequential_search_res_179778;
                                    int64_t defunc_0_partFunc_sequential_search_res_179779;
                                    
                                    if (defunc_0_gt_res_179777) {
                                        int64_t zl_rhs_179780 = sub64(window_sizze_120850, max_res_176272);
                                        bool loop_cond_179781 = slt64((int64_t) 0, zl_rhs_179780);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179782;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179784;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179785;
                                        bool loop_while_179786;
                                        int64_t p_179787;
                                        int64_t p_179788;
                                        int64_t p_179789;
                                        
                                        loop_while_179786 = loop_cond_179781;
                                        p_179787 = ai_179758;
                                        p_179788 = max_res_176272;
                                        p_179789 = (int64_t) 0;
                                        while (loop_while_179786) {
                                            int64_t i_a_179790 = sub64(ai_179758, p_179789);
                                            int64_t i_b_179791 = add64(max_res_176272, p_179789);
                                            int64_t leq_lhs_179792 = sub64(i_a_179790, (int64_t) 1);
                                            bool x_179793 = sle64((int64_t) 0, leq_lhs_179792);
                                            bool y_179794 = slt64(leq_lhs_179792, window_sizze_120850);
                                            bool bounds_check_179795 = x_179793 && y_179794;
                                            bool index_certs_179796;
                                            
                                            if (!bounds_check_179795) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179792, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179799 = sle64((int64_t) 0, i_b_179791);
                                            bool y_179800 = slt64(i_b_179791, window_sizze_120850);
                                            bool bounds_check_179801 = x_179799 && y_179800;
                                            bool index_certs_179802;
                                            
                                            if (!bounds_check_179801) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179791, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179797 = p_175206 + leq_lhs_179792;
                                            int16_t leq_lhs_179798 = ((int16_t *) a_list_mem_180696.mem)[slice_179797];
                                            int64_t slice_179803 = p_175207 + i_b_179791;
                                            int16_t leq_rhs_179804 = ((int16_t *) b_list_mem_180697.mem)[slice_179803];
                                            bool defunc_0_leq_res_179805 = sle16(leq_lhs_179798, leq_rhs_179804);
                                            int64_t loopres_179806;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179806 = i_a_179790;
                                            } else {
                                                loopres_179806 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179807;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179807 = i_b_179791;
                                            } else {
                                                loopres_179807 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179808;
                                            
                                            if (defunc_0_leq_res_179805) {
                                                loopres_179808 = zl_rhs_179780;
                                            } else {
                                                int64_t tmp_179809 = add64((int64_t) 1, p_179789);
                                                
                                                loopres_179808 = tmp_179809;
                                            }
                                            
                                            bool loop_cond_179810 = slt64(loopres_179808, zl_rhs_179780);
                                            bool loop_while_tmp_182222 = loop_cond_179810;
                                            int64_t p_tmp_182223 = loopres_179806;
                                            int64_t p_tmp_182224 = loopres_179807;
                                            int64_t p_tmp_182225 = loopres_179808;
                                            
                                            loop_while_179786 = loop_while_tmp_182222;
                                            p_179787 = p_tmp_182223;
                                            p_179788 = p_tmp_182224;
                                            p_179789 = p_tmp_182225;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179782 = loop_while_179786;
                                        defunc_0_partFunc_sequential_search_res_t_res_179783 = p_179787;
                                        defunc_0_partFunc_sequential_search_res_t_res_179784 = p_179788;
                                        defunc_0_partFunc_sequential_search_res_t_res_179785 = p_179789;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_t_res_179783;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_t_res_179784;
                                    } else {
                                        int64_t zl_rhs_179811 = sub64(max_res_176272, (int64_t) 1);
                                        bool loop_cond_179812 = slt64((int64_t) 0, zl_rhs_179811);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179813;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179815;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179816;
                                        bool loop_while_179817;
                                        int64_t p_179818;
                                        int64_t p_179819;
                                        int64_t p_179820;
                                        
                                        loop_while_179817 = loop_cond_179812;
                                        p_179818 = ai_179758;
                                        p_179819 = max_res_176272;
                                        p_179820 = (int64_t) 0;
                                        while (loop_while_179817) {
                                            int64_t zp_lhs_179821 = add64(ai_179758, p_179820);
                                            int64_t hi_a_179822 = add64((int64_t) 1, zp_lhs_179821);
                                            bool cond_179823 = slt64(hi_a_179822, window_sizze_120850);
                                            int64_t i_a_179824;
                                            
                                            if (cond_179823) {
                                                i_a_179824 = hi_a_179822;
                                            } else {
                                                i_a_179824 = m_175195;
                                            }
                                            
                                            int64_t zm_lhs_179826 = sub64(max_res_176272, p_179820);
                                            int64_t i_b_179827 = sub64(zm_lhs_179826, (int64_t) 1);
                                            bool x_179828 = sle64((int64_t) 0, i_a_179824);
                                            bool y_179829 = slt64(i_a_179824, window_sizze_120850);
                                            bool bounds_check_179830 = x_179828 && y_179829;
                                            bool index_certs_179831;
                                            
                                            if (!bounds_check_179830) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179824, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179834 = sle64((int64_t) 0, i_b_179827);
                                            bool y_179835 = slt64(i_b_179827, window_sizze_120850);
                                            bool bounds_check_179836 = x_179834 && y_179835;
                                            bool index_certs_179837;
                                            
                                            if (!bounds_check_179836) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179827, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179832 = p_175206 + i_a_179824;
                                            int16_t gt_lhs_179833 = ((int16_t *) a_list_mem_180696.mem)[slice_179832];
                                            int64_t slice_179838 = p_175207 + i_b_179827;
                                            int16_t gt_rhs_179839 = ((int16_t *) b_list_mem_180697.mem)[slice_179838];
                                            bool defunc_0_gt_res_179840 = slt16(gt_rhs_179839, gt_lhs_179833);
                                            int64_t loopres_179841;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179841 = i_a_179824;
                                            } else {
                                                loopres_179841 = ai_179758;
                                            }
                                            
                                            int64_t loopres_179842;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179842 = zm_lhs_179826;
                                            } else {
                                                loopres_179842 = max_res_176272;
                                            }
                                            
                                            int64_t loopres_179843;
                                            
                                            if (defunc_0_gt_res_179840) {
                                                loopres_179843 = zl_rhs_179811;
                                            } else {
                                                int64_t tmp_179844 = add64((int64_t) 1, p_179820);
                                                
                                                loopres_179843 = tmp_179844;
                                            }
                                            
                                            bool loop_cond_179845 = slt64(loopres_179843, zl_rhs_179811);
                                            bool loop_while_tmp_182226 = loop_cond_179845;
                                            int64_t p_tmp_182227 = loopres_179841;
                                            int64_t p_tmp_182228 = loopres_179842;
                                            int64_t p_tmp_182229 = loopres_179843;
                                            
                                            loop_while_179817 = loop_while_tmp_182226;
                                            p_179818 = p_tmp_182227;
                                            p_179819 = p_tmp_182228;
                                            p_179820 = p_tmp_182229;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179813 = loop_while_179817;
                                        defunc_0_partFunc_sequential_search_res_f_res_179814 = p_179818;
                                        defunc_0_partFunc_sequential_search_res_f_res_179815 = p_179819;
                                        defunc_0_partFunc_sequential_search_res_f_res_179816 = p_179820;
                                        defunc_0_partFunc_sequential_search_res_179778 = defunc_0_partFunc_sequential_search_res_f_res_179814;
                                        defunc_0_partFunc_sequential_search_res_179779 = defunc_0_partFunc_sequential_search_res_f_res_179815;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = p_176265;
                                    loopres_f_res_f_res_f_res_176331 = defunc_0_partFunc_sequential_search_res_179778;
                                    loopres_f_res_f_res_f_res_176332 = defunc_0_partFunc_sequential_search_res_179779;
                                    loopres_f_res_f_res_f_res_176333 = 0;
                                } else {
                                    bool x_176417 = sle64((int64_t) 0, ai_176270);
                                    bool y_176418 = slt64(ai_176270, window_sizze_120850);
                                    bool bounds_check_176419 = x_176417 && y_176418;
                                    bool index_certs_176420;
                                    
                                    if (!bounds_check_176419) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176270, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178086 = p_175206 + ai_176270;
                                    int16_t gt_lhs_176421 = ((int16_t *) a_list_mem_180696.mem)[slice_178086];
                                    bool defunc_0_gt_res_176422 = slt16(b_prev_176274, gt_lhs_176421);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176423;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176424;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176425;
                                    bool loopres_f_res_f_res_f_res_f_res_176426;
                                    
                                    if (defunc_0_gt_res_176422) {
                                        int64_t leq_lhs_179846 = sub64(ai_176270, (int64_t) 1);
                                        bool x_179847 = sle64((int64_t) 0, leq_lhs_179846);
                                        bool y_179848 = slt64(leq_lhs_179846, window_sizze_120850);
                                        bool bounds_check_179849 = x_179847 && y_179848;
                                        bool index_certs_179850;
                                        
                                        if (!bounds_check_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179846, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179853 = sle64((int64_t) 0, max_res_176272);
                                        bool y_179854 = slt64(max_res_176272, window_sizze_120850);
                                        bool bounds_check_179855 = x_179853 && y_179854;
                                        bool index_certs_179856;
                                        
                                        if (!bounds_check_179855) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176272, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179851 = p_175206 + leq_lhs_179846;
                                        int16_t leq_lhs_179852 = ((int16_t *) a_list_mem_180696.mem)[slice_179851];
                                        int64_t slice_179857 = p_175207 + max_res_176272;
                                        int16_t leq_rhs_179858 = ((int16_t *) b_list_mem_180697.mem)[slice_179857];
                                        bool defunc_0_leq_res_179859 = sle16(leq_lhs_179852, leq_rhs_179858);
                                        bool x_179860 = !defunc_0_leq_res_179859;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = ai_176270;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179861 = leq_lhs_179846;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        
                                        if (defunc_0_leq_res_179859) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = max_res_176272;
                                        } else {
                                            int64_t tmp_179863 = add64((int64_t) 1, max_res_176272);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179862 = tmp_179863;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176423 = p_176265;
                                        loopres_f_res_f_res_f_res_f_res_176424 = loopres_f_res_f_res_f_res_f_res_t_res_179861;
                                        loopres_f_res_f_res_f_res_f_res_176425 = loopres_f_res_f_res_f_res_f_res_t_res_179862;
                                        loopres_f_res_f_res_f_res_f_res_176426 = x_179860;
                                    } else {
                                        int64_t tmp_176443 = add64((int64_t) 1, ai_176270);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176423 = tmp_176443;
                                        loopres_f_res_f_res_f_res_f_res_176424 = p_176266;
                                        loopres_f_res_f_res_f_res_f_res_176425 = p_176267;
                                        loopres_f_res_f_res_f_res_f_res_176426 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176330 = loopres_f_res_f_res_f_res_f_res_176423;
                                    loopres_f_res_f_res_f_res_176331 = loopres_f_res_f_res_f_res_f_res_176424;
                                    loopres_f_res_f_res_f_res_176332 = loopres_f_res_f_res_f_res_f_res_176425;
                                    loopres_f_res_f_res_f_res_176333 = loopres_f_res_f_res_f_res_f_res_176426;
                                }
                                loopres_f_res_f_res_176309 = loopres_f_res_f_res_f_res_176330;
                                loopres_f_res_f_res_176310 = loopres_f_res_f_res_f_res_176331;
                                loopres_f_res_f_res_176311 = loopres_f_res_f_res_f_res_176332;
                                loopres_f_res_f_res_176312 = loopres_f_res_f_res_f_res_176333;
                            }
                            loopres_f_res_176287 = loopres_f_res_f_res_176309;
                            loopres_f_res_176288 = loopres_f_res_f_res_176310;
                            loopres_f_res_176289 = loopres_f_res_f_res_176311;
                            loopres_f_res_176290 = loopres_f_res_f_res_176312;
                        }
                        loopres_176282 = loopres_f_res_176287;
                        loopres_176283 = loopres_f_res_176288;
                        loopres_176284 = loopres_f_res_176289;
                        loopres_176285 = loopres_f_res_176290;
                    }
                    
                    bool loop_while_tmp_182218 = loopres_176285;
                    int64_t p_tmp_182219 = loopres_176282;
                    int64_t p_tmp_182220 = loopres_176283;
                    int64_t p_tmp_182221 = loopres_176284;
                    
                    loop_while_176264 = loop_while_tmp_182218;
                    p_176265 = p_tmp_182219;
                    p_176266 = p_tmp_182220;
                    p_176267 = p_tmp_182221;
                }
                defunc_0_f_res_176260 = loop_while_176264;
                defunc_0_f_res_176261 = p_176265;
                defunc_0_f_res_176262 = p_176266;
                defunc_0_f_res_176263 = p_176267;
                ((int64_t *) mem_180713)[i_180446] = defunc_0_f_res_176262;
                ((int64_t *) mem_180715)[i_180446] = defunc_0_f_res_176263;
            }
            if (memblock_alloc(ctx, &mem_180728, window_sizze_120850, "mem_180728")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182230 = 0; nest_i_182230 < window_sizze_120850; nest_i_182230++) {
                ((int8_t *) mem_180728.mem)[nest_i_182230] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180730, bytes_180729, "mem_180730")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182231 = 0; nest_i_182231 < window_sizze_120850; nest_i_182231++) {
                ((int64_t *) mem_180730.mem)[nest_i_182231] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180732, bytes_180731, "mem_180732")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182232 = 0; nest_i_182232 < window_sizze_120850; nest_i_182232++) {
                ((int16_t *) mem_180732.mem)[nest_i_182232] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176470;
            int64_t defunc_0_mergeFunc_seq_res_176471;
            bool loop_while_176475;
            int64_t p_176476;
            
            loop_while_176475 = loop_cond_176469;
            p_176476 = (int64_t) 0;
            while (loop_while_176475) {
                bool x_176480 = sle64((int64_t) 0, p_176476);
                bool y_176481 = slt64(p_176476, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176482 = x_176480 && y_176481;
                bool index_certs_176483;
                
                if (!bounds_check_176482) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176476, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178069 = sle64((int64_t) 1, p_176476);
                int64_t index_concat_i_178070 = sub64(p_176476, (int64_t) 1);
                int64_t index_concat_178071;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179864 = ((int64_t *) mem_180713)[index_concat_i_178070];
                    
                    index_concat_178071 = x_179864;
                } else {
                    index_concat_178071 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178073;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178073 = index_concat_178071;
                } else {
                    index_concat_branch_178073 = (int64_t) 0;
                }
                
                int64_t index_concat_178065;
                
                if (index_concat_cmp_178069) {
                    int64_t x_179865 = ((int64_t *) mem_180715)[index_concat_i_178070];
                    
                    index_concat_178065 = x_179865;
                } else {
                    index_concat_178065 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178067;
                
                if (index_concat_cmp_178069) {
                    index_concat_branch_178067 = index_concat_178065;
                } else {
                    index_concat_branch_178067 = (int64_t) 0;
                }
                
                int64_t ubs_176486 = add64((int64_t) 1, p_176476);
                bool x_176487 = sle64((int64_t) 0, ubs_176486);
                bool y_176488 = slt64(ubs_176486, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220);
                bool bounds_check_176489 = x_176487 && y_176488;
                bool index_certs_176490;
                
                if (!bounds_check_176489) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176220, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178057 = sle64((int64_t) 1, ubs_176486);
                int64_t index_concat_178059;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179866 = ((int64_t *) mem_180713)[p_176476];
                    
                    index_concat_178059 = x_179866;
                } else {
                    index_concat_178059 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178061;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178061 = index_concat_178059;
                } else {
                    index_concat_branch_178061 = (int64_t) 0;
                }
                
                int64_t index_concat_178053;
                
                if (index_concat_cmp_178057) {
                    int64_t x_179867 = ((int64_t *) mem_180715)[p_176476];
                    
                    index_concat_178053 = x_179867;
                } else {
                    index_concat_178053 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178055;
                
                if (index_concat_cmp_178057) {
                    index_concat_branch_178055 = index_concat_178053;
                } else {
                    index_concat_branch_178055 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 = sub64(index_concat_branch_178055, index_concat_branch_178067);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 = sub64(index_concat_branch_178061, index_concat_branch_178073);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t ind_bottom_176496 = add64(index_concat_branch_178067, index_concat_branch_178073);
                int64_t ind_top_176497 = add64(index_concat_branch_178055, index_concat_branch_178061);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 = sub64(ind_top_176497, ind_bottom_176496);
                bool empty_slice_176499 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 == (int64_t) 0;
                int64_t m_176500 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 1);
                int64_t i_p_m_t_s_176501 = add64(m_176500, index_concat_branch_178073);
                bool zzero_leq_i_p_m_t_s_176502 = sle64((int64_t) 0, i_p_m_t_s_176501);
                bool i_p_m_t_s_leq_w_176503 = slt64(i_p_m_t_s_176501, window_sizze_120850);
                bool zzero_lte_i_176504 = sle64((int64_t) 0, index_concat_branch_178073);
                bool i_lte_j_176505 = sle64(index_concat_branch_178073, index_concat_branch_178061);
                bool y_176506 = i_p_m_t_s_leq_w_176503 && zzero_lte_i_176504;
                bool y_176507 = zzero_leq_i_p_m_t_s_176502 && y_176506;
                bool forwards_ok_176508 = i_lte_j_176505 && y_176507;
                bool ok_or_empty_176509 = empty_slice_176499 || forwards_ok_176508;
                bool index_certs_176510;
                
                if (!ok_or_empty_176509) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178073, ":", (long long) index_concat_branch_178061, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176511 = slt64(index_concat_branch_178061, index_concat_branch_178073);
                bool valid_176512 = !bounds_invalid_upwards_176511;
                bool range_valid_c_176513;
                
                if (!valid_176512) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178073, "..<", (long long) index_concat_branch_178061, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176519 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493 == (int64_t) 0;
                int64_t m_176520 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493, (int64_t) 1);
                int64_t i_p_m_t_s_176521 = add64(m_176520, index_concat_branch_178067);
                bool zzero_leq_i_p_m_t_s_176522 = sle64((int64_t) 0, i_p_m_t_s_176521);
                bool i_p_m_t_s_leq_w_176523 = slt64(i_p_m_t_s_176521, window_sizze_120850);
                bool zzero_lte_i_176524 = sle64((int64_t) 0, index_concat_branch_178067);
                bool i_lte_j_176525 = sle64(index_concat_branch_178067, index_concat_branch_178055);
                bool y_176526 = i_p_m_t_s_leq_w_176523 && zzero_lte_i_176524;
                bool y_176527 = zzero_leq_i_p_m_t_s_176522 && y_176526;
                bool forwards_ok_176528 = i_lte_j_176525 && y_176527;
                bool ok_or_empty_176529 = empty_slice_176519 || forwards_ok_176528;
                bool index_certs_176530;
                
                if (!ok_or_empty_176529) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178067, ":", (long long) index_concat_branch_178055, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176531 = slt64(index_concat_branch_178055, index_concat_branch_178067);
                bool valid_176532 = !bounds_invalid_upwards_176531;
                bool range_valid_c_176533;
                
                if (!valid_176532) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178067, "..<", (long long) index_concat_branch_178055, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180749 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                int64_t bytes_180751 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool cond_176542 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zs_lhs_176543 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, (int64_t) 1);
                int64_t zp_rhs_176544 = sdiv_safe64(zs_lhs_176543, (int64_t) 20);
                int64_t min_num_blocks_176545 = add64((int64_t) 1, zp_rhs_176544);
                bool loop_cond_176546 = slt64((int64_t) 1, min_num_blocks_176545);
                bool smallest_pow_2_geq_than_res_176547;
                int64_t smallest_pow_2_geq_than_res_176548;
                bool loop_while_176549;
                int64_t x_176550;
                
                loop_while_176549 = loop_cond_176546;
                x_176550 = (int64_t) 1;
                while (loop_while_176549) {
                    int64_t loopres_176551 = mul64((int64_t) 2, x_176550);
                    bool loop_cond_176552 = slt64(loopres_176551, min_num_blocks_176545);
                    bool loop_while_tmp_182238 = loop_cond_176552;
                    int64_t x_tmp_182239 = loopres_176551;
                    
                    loop_while_176549 = loop_while_tmp_182238;
                    x_176550 = x_tmp_182239;
                }
                smallest_pow_2_geq_than_res_176547 = loop_while_176549;
                smallest_pow_2_geq_than_res_176548 = x_176550;
                
                bool zzero_176553 = smallest_pow_2_geq_than_res_176548 == (int64_t) 0;
                bool nonzzero_176554 = !zzero_176553;
                bool protect_assert_disj_176555 = cond_176542 || nonzzero_176554;
                bool nonzzero_cert_176556;
                
                if (!protect_assert_disj_176555) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176557 = sdiv_safe64(zs_lhs_176543, smallest_pow_2_geq_than_res_176548);
                int64_t block_sizze_176558 = add64((int64_t) 1, zp_rhs_176557);
                bool y_176565 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                bool protect_assert_disj_181902 = cond_176542 || y_176565;
                bool index_certs_176566;
                
                if (!protect_assert_disj_181902) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176592 = slt64(smallest_pow_2_geq_than_res_176548, (int64_t) 0);
                bool valid_176593 = !bounds_invalid_upwards_176592;
                bool protect_assert_disj_181912 = cond_176542 || valid_176593;
                bool range_valid_c_176594;
                
                if (!protect_assert_disj_181912) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176548, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176596 = slt64(block_sizze_176558, (int64_t) 0);
                bool valid_176597 = !bounds_invalid_upwards_176596;
                bool protect_assert_disj_181914 = cond_176542 || valid_176597;
                bool range_valid_c_176598;
                
                if (!protect_assert_disj_181914) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176558, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176600 = sle64(block_sizze_176558, (int64_t) 1);
                int64_t tmp_176601 = sub64(block_sizze_176558, (int64_t) 2);
                bool bounds_invalid_upwards_176602 = slt64(tmp_176601, (int64_t) 0);
                bool valid_176604 = !bounds_invalid_upwards_176602;
                bool protect_assert_disj_176605 = cond_176600 || valid_176604;
                bool protect_assert_disj_181916 = cond_176542 || protect_assert_disj_176605;
                bool range_valid_c_176606;
                
                if (!protect_assert_disj_181916) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176601, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177167 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495;
                bool empty_or_match_cert_177168;
                
                if (!dim_match_177167) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "](i8, i64, i16)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177169 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498 == (int64_t) 0;
                int64_t m_177170 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177171 = sle64((int64_t) 0, m_177170);
                bool i_p_m_t_s_leq_w_177172 = slt64(m_177170, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498);
                bool y_177173 = zzero_leq_i_p_m_t_s_177171 && i_p_m_t_s_leq_w_177172;
                bool ok_or_empty_177174 = empty_slice_177169 || y_177173;
                bool index_certs_177175;
                
                if (!ok_or_empty_177174) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177176 = add64(ind_bottom_176496, m_177170);
                bool zzero_leq_i_p_m_t_s_177177 = sle64((int64_t) 0, i_p_m_t_s_177176);
                bool i_p_m_t_s_leq_w_177178 = slt64(i_p_m_t_s_177176, window_sizze_120850);
                bool zzero_lte_i_177179 = sle64((int64_t) 0, ind_bottom_176496);
                bool i_lte_j_177180 = sle64(ind_bottom_176496, ind_top_176497);
                bool y_177181 = i_p_m_t_s_leq_w_177178 && zzero_lte_i_177179;
                bool y_177182 = zzero_leq_i_p_m_t_s_177177 && y_177181;
                bool forwards_ok_177183 = i_lte_j_177180 && y_177182;
                bool ok_or_empty_177184 = empty_slice_177169 || forwards_ok_177183;
                bool index_certs_177185;
                
                if (!ok_or_empty_177184) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176496, ":", (long long) ind_top_176497, "] out of bounds for array of shape [", (long long) window_sizze_120850, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178049 = p_175206 + index_concat_branch_178073;
                
                if (memblock_alloc(ctx, &mem_180748, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "mem_180748")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182240 = 0; nest_i_182240 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; nest_i_182240++) {
                    ((int8_t *) mem_180748.mem)[nest_i_182240] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180750, bytes_180749, "mem_180750")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182241 = 0; i_182241 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494; i_182241++) {
                    int64_t x_182242 = index_concat_branch_178073 + i_182241 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[i_182241] = x_182242;
                }
                
                int64_t slice_178048 = p_175207 + index_concat_branch_178067;
                
                for (int64_t nest_i_182243 = 0; nest_i_182243 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; nest_i_182243++) {
                    ((int8_t *) mem_180748.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + nest_i_182243] = (int8_t) 1;
                }
                for (int64_t i_182244 = 0; i_182244 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493; i_182244++) {
                    int64_t x_182245 = index_concat_branch_178067 + i_182244 * (int64_t) 1;
                    
                    ((int64_t *) mem_180750.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494 + i_182244] = x_182245;
                }
                
                int64_t tmp_offs_182246 = (int64_t) 0;
                
                if (!(tmp_offs_182246 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182246 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180748.mem, tmp_offs_182246, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180748.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182246 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t tmp_offs_182247 = (int64_t) 0;
                
                if (!(tmp_offs_182247 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                if (!(tmp_offs_182247 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180750.mem, tmp_offs_182247, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180750.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                }
                tmp_offs_182247 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                if (memblock_alloc(ctx, &mem_180752, bytes_180751, "mem_180752")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182248 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180696.mem, slice_178049, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180752.mem, tmp_offs_182248, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180697.mem, slice_178048, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493});
                tmp_offs_182248 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176493;
                
                int64_t flat_dim_176559 = smallest_pow_2_geq_than_res_176548 * block_sizze_176558;
                bool x_181897 = !cond_176542;
                int64_t greatest_divisor_leq_than_arg1_176563 = mul64((int64_t) 2, block_sizze_176558);
                int64_t merge_block_sizze_176564;
                
                if (x_181897) {
                    int64_t x_181899;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181899, (int64_t) 8, greatest_divisor_leq_than_arg1_176563) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176564 = x_181899;
                } else {
                    merge_block_sizze_176564 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178043 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, (int64_t) 0);
                int8_t index_concat_branch_178047 = btoi_bool_i8(index_concat_cmp_178043);
                int64_t index_concat_i_179868 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                int64_t index_primexp_179869 = add64(index_concat_branch_178067, index_concat_i_179868);
                int64_t index_concat_branch_178041;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178041 = index_primexp_179869;
                } else {
                    index_concat_branch_178041 = index_concat_branch_178073;
                }
                
                bool x_181893 = !index_concat_cmp_178043;
                bool protect_cond_conj_181903 = x_181893 && x_181897;
                int16_t index_concat_178034;
                
                if (protect_cond_conj_181903) {
                    int16_t x_181895 = ((int16_t *) a_list_mem_180696.mem)[slice_178049];
                    
                    index_concat_178034 = x_181895;
                } else {
                    index_concat_178034 = (int16_t) 0;
                }
                
                int64_t slice_179871 = slice_178048 + index_concat_i_179868;
                bool protect_cond_conj_181904 = index_concat_cmp_178043 && x_181897;
                int16_t index_concat_179872;
                
                if (protect_cond_conj_181904) {
                    int16_t x_181891 = ((int16_t *) b_list_mem_180697.mem)[slice_179871];
                    
                    index_concat_179872 = x_181891;
                } else {
                    index_concat_179872 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178035;
                
                if (index_concat_cmp_178043) {
                    index_concat_branch_178035 = index_concat_179872;
                } else {
                    index_concat_branch_178035 = index_concat_178034;
                }
                
                int8_t defunc_0_reduce_res_180103;
                int64_t defunc_0_reduce_res_180104;
                int16_t defunc_0_reduce_res_180105;
                
                if (x_181897) {
                    int8_t x_181905;
                    int64_t x_181906;
                    int16_t x_181907;
                    int8_t redout_180449;
                    int64_t redout_180450;
                    int16_t redout_180451;
                    
                    redout_180449 = index_concat_branch_178047;
                    redout_180450 = index_concat_branch_178041;
                    redout_180451 = index_concat_branch_178035;
                    for (int64_t i_180452 = 0; i_180452 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495; i_180452++) {
                        bool index_concat_cmp_180656 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, i_180452);
                        int8_t index_concat_branch_180660 = btoi_bool_i8(index_concat_cmp_180656);
                        int64_t index_concat_branch_180654;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180651 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t index_primexp_180678 = add64(index_concat_branch_178067, index_concat_i_180651);
                            
                            index_concat_branch_180654 = index_primexp_180678;
                        } else {
                            int64_t index_primexp_180680 = add64(index_concat_branch_178073, i_180452);
                            
                            index_concat_branch_180654 = index_primexp_180680;
                        }
                        
                        int16_t index_concat_branch_180648;
                        
                        if (index_concat_cmp_180656) {
                            int64_t index_concat_i_180645 = sub64(i_180452, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                            int64_t slice_180675 = slice_178048 + index_concat_i_180645;
                            int16_t index_concat_180646 = ((int16_t *) b_list_mem_180697.mem)[slice_180675];
                            
                            index_concat_branch_180648 = index_concat_180646;
                        } else {
                            int64_t slice_180676 = slice_178049 + i_180452;
                            int16_t index_concat_180647 = ((int16_t *) a_list_mem_180696.mem)[slice_180676];
                            
                            index_concat_branch_180648 = index_concat_180647;
                        }
                        
                        bool eq_x_y_180691 = redout_180449 == (int8_t) 1;
                        bool eq_x_zz_180692 = redout_180449 == (int8_t) 0;
                        bool p_and_eq_x_y_180693 = index_concat_cmp_180656 && eq_x_y_180691;
                        bool not_p_180694 = !index_concat_cmp_180656;
                        bool p_and_eq_x_y_180695 = eq_x_zz_180692 && not_p_180694;
                        bool cond_176582 = p_and_eq_x_y_180693 || p_and_eq_x_y_180695;
                        bool defunc_0_leq_res_t_res_176583 = sle64(redout_180450, index_concat_branch_180654);
                        bool defunc_0_leq_res_176584 = sle16(redout_180451, index_concat_branch_180648);
                        bool x_176585 = cond_176582 && defunc_0_leq_res_t_res_176583;
                        bool x_176586 = !cond_176582;
                        bool y_176587 = defunc_0_leq_res_176584 && x_176586;
                        bool defunc_0_leq_res_176588 = x_176585 || y_176587;
                        int8_t defunc_0_op_res_176589;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176589 = index_concat_branch_180660;
                        } else {
                            defunc_0_op_res_176589 = redout_180449;
                        }
                        
                        int64_t defunc_0_op_res_176590;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176590 = index_concat_branch_180654;
                        } else {
                            defunc_0_op_res_176590 = redout_180450;
                        }
                        
                        int16_t defunc_0_op_res_176591;
                        
                        if (defunc_0_leq_res_176588) {
                            defunc_0_op_res_176591 = index_concat_branch_180648;
                        } else {
                            defunc_0_op_res_176591 = redout_180451;
                        }
                        
                        int8_t redout_tmp_182249 = defunc_0_op_res_176589;
                        int64_t redout_tmp_182250 = defunc_0_op_res_176590;
                        int16_t redout_tmp_182251 = defunc_0_op_res_176591;
                        
                        redout_180449 = redout_tmp_182249;
                        redout_180450 = redout_tmp_182250;
                        redout_180451 = redout_tmp_182251;
                    }
                    x_181905 = redout_180449;
                    x_181906 = redout_180450;
                    x_181907 = redout_180451;
                    defunc_0_reduce_res_180103 = x_181905;
                    defunc_0_reduce_res_180104 = x_181906;
                    defunc_0_reduce_res_180105 = x_181907;
                } else {
                    defunc_0_reduce_res_180103 = (int8_t) 0;
                    defunc_0_reduce_res_180104 = (int64_t) 0;
                    defunc_0_reduce_res_180105 = (int16_t) 0;
                }
                
                int64_t distance_176603 = add64((int64_t) 1, tmp_176601);
                int64_t binop_x_180755 = (int64_t) 8 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180756 = block_sizze_176558 * binop_x_180755;
                int64_t binop_x_180758 = (int64_t) 2 * smallest_pow_2_geq_than_res_176548;
                int64_t bytes_180759 = block_sizze_176558 * binop_x_180758;
                int64_t bytes_180774 = (int64_t) 8 * block_sizze_176558;
                bool loop_cond_176712 = slt64(block_sizze_176558, flat_dim_176559);
                bool zzero_176713 = merge_block_sizze_176564 == (int64_t) 0;
                bool nonzzero_176714 = !zzero_176713;
                
                if (cond_176542) {
                    if (memblock_set(ctx, &ext_mem_181047, &mem_180748, "mem_180748") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &mem_180750, "mem_180750") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &mem_180752, "mem_180752") != 0)
                        return 1;
                } else {
                    if (mem_180754_cached_sizze_182656 < flat_dim_176559) {
                        err = lexical_realloc(ctx, &mem_180754, &mem_180754_cached_sizze_182656, flat_dim_176559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180757_cached_sizze_182657 < bytes_180756) {
                        err = lexical_realloc(ctx, &mem_180757, &mem_180757_cached_sizze_182657, bytes_180756);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180760_cached_sizze_182658 < bytes_180759) {
                        err = lexical_realloc(ctx, &mem_180760, &mem_180760_cached_sizze_182658, bytes_180759);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180773_cached_sizze_182659 < block_sizze_176558) {
                        err = lexical_realloc(ctx, &mem_180773, &mem_180773_cached_sizze_182659, block_sizze_176558);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180775_cached_sizze_182660 < bytes_180774) {
                        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182660, bytes_180774);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180777_cached_sizze_182661 < greatest_divisor_leq_than_arg1_176563) {
                        err = lexical_realloc(ctx, &mem_180777, &mem_180777_cached_sizze_182661, greatest_divisor_leq_than_arg1_176563);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180469 = 0; i_180469 < smallest_pow_2_geq_than_res_176548; i_180469++) {
                        int64_t zp_lhs_176611 = mul64(block_sizze_176558, i_180469);
                        
                        for (int64_t i_180459 = 0; i_180459 < block_sizze_176558; i_180459++) {
                            int64_t k_176616 = add64(zp_lhs_176611, i_180459);
                            bool cond_176617 = slt64(k_176616, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495);
                            int8_t lifted_lambda_res_176618;
                            int64_t lifted_lambda_res_176619;
                            int16_t lifted_lambda_res_176620;
                            
                            if (cond_176617) {
                                bool x_179878 = sle64((int64_t) 0, k_176616);
                                bool bounds_check_179879 = cond_176617 && x_179878;
                                bool index_certs_179880;
                                
                                if (!bounds_check_179879) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176616, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179881 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494, k_176616);
                                int8_t index_concat_branch_179882 = btoi_bool_i8(index_concat_cmp_179881);
                                int64_t index_concat_branch_179883;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179884 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t index_primexp_179885 = add64(index_concat_branch_178067, index_concat_i_179884);
                                    
                                    index_concat_branch_179883 = index_primexp_179885;
                                } else {
                                    int64_t index_primexp_179886 = add64(k_176616, index_concat_branch_178073);
                                    
                                    index_concat_branch_179883 = index_primexp_179886;
                                }
                                
                                int16_t index_concat_branch_179887;
                                
                                if (index_concat_cmp_179881) {
                                    int64_t index_concat_i_179888 = sub64(k_176616, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176494);
                                    int64_t slice_179889 = slice_178048 + index_concat_i_179888;
                                    int16_t index_concat_179890 = ((int16_t *) b_list_mem_180697.mem)[slice_179889];
                                    
                                    index_concat_branch_179887 = index_concat_179890;
                                } else {
                                    int64_t slice_179891 = k_176616 + slice_178049;
                                    int16_t index_concat_179892 = ((int16_t *) a_list_mem_180696.mem)[slice_179891];
                                    
                                    index_concat_branch_179887 = index_concat_179892;
                                }
                                lifted_lambda_res_176618 = index_concat_branch_179882;
                                lifted_lambda_res_176619 = index_concat_branch_179883;
                                lifted_lambda_res_176620 = index_concat_branch_179887;
                            } else {
                                lifted_lambda_res_176618 = defunc_0_reduce_res_180103;
                                lifted_lambda_res_176619 = defunc_0_reduce_res_180104;
                                lifted_lambda_res_176620 = defunc_0_reduce_res_180105;
                            }
                            ((int8_t *) mem_180773)[i_180459] = lifted_lambda_res_176618;
                            ((int64_t *) mem_180775)[i_180459] = lifted_lambda_res_176619;
                            ((int16_t *) mem_180777)[i_180459] = lifted_lambda_res_176620;
                        }
                        if (!cond_176600) {
                            for (int64_t i_176633 = 0; i_176633 < distance_176603; i_176633++) {
                                int64_t gt_arg1_176637 = add64((int64_t) 1, i_176633);
                                bool x_176638 = sle64((int64_t) 0, gt_arg1_176637);
                                bool y_176639 = slt64(gt_arg1_176637, block_sizze_176558);
                                bool bounds_check_176640 = x_176638 && y_176639;
                                bool index_certs_176641;
                                
                                if (!bounds_check_176640) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176637, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176645 = slt64(i_176633, block_sizze_176558);
                                bool index_certs_176646;
                                
                                if (!y_176645) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176633, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176642 = ((int8_t *) mem_180773)[gt_arg1_176637];
                                int64_t gt_arg1_176643 = ((int64_t *) mem_180775)[gt_arg1_176637];
                                int16_t gt_arg1_176644 = ((int16_t *) mem_180777)[gt_arg1_176637];
                                int8_t gt_arg0_176647 = ((int8_t *) mem_180773)[i_176633];
                                int64_t gt_arg0_176648 = ((int64_t *) mem_180775)[i_176633];
                                int16_t gt_arg0_176649 = ((int16_t *) mem_180777)[i_176633];
                                bool cond_176650 = gt_arg0_176647 == gt_arg1_176642;
                                bool defunc_0_leq_res_t_res_176651 = sle64(gt_arg0_176648, gt_arg1_176643);
                                bool defunc_0_leq_res_176652 = sle16(gt_arg0_176649, gt_arg1_176644);
                                bool x_176653 = cond_176650 && defunc_0_leq_res_t_res_176651;
                                bool x_176654 = !cond_176650;
                                bool y_176655 = defunc_0_leq_res_176652 && x_176654;
                                bool defunc_0_leq_res_176656 = x_176653 || y_176655;
                                bool defunc_0_lifted_gt_res_176657 = !defunc_0_leq_res_176656;
                                bool s_176658;
                                int64_t s_176662;
                                bool loop_while_176663;
                                int64_t j_176667;
                                
                                loop_while_176663 = defunc_0_lifted_gt_res_176657;
                                j_176667 = i_176633;
                                while (loop_while_176663) {
                                    bool x_176668 = sle64((int64_t) 0, j_176667);
                                    bool y_176669 = slt64(j_176667, block_sizze_176558);
                                    bool bounds_check_176670 = x_176668 && y_176669;
                                    bool index_certs_176671;
                                    
                                    if (!bounds_check_176670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176667, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176675 = add64((int64_t) 1, j_176667);
                                    bool x_176676 = sle64((int64_t) 0, copy_arg0_176675);
                                    bool y_176677 = slt64(copy_arg0_176675, block_sizze_176558);
                                    bool bounds_check_176678 = x_176676 && y_176677;
                                    bool index_certs_176679;
                                    
                                    if (!bounds_check_176678) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176675, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176672 = ((int8_t *) mem_180773)[j_176667];
                                    int64_t copy_arg0_176673 = ((int64_t *) mem_180775)[j_176667];
                                    int16_t copy_arg0_176674 = ((int16_t *) mem_180777)[j_176667];
                                    int8_t copy_arg0_176680 = ((int8_t *) mem_180773)[copy_arg0_176675];
                                    int64_t copy_arg0_176681 = ((int64_t *) mem_180775)[copy_arg0_176675];
                                    int16_t copy_arg0_176682 = ((int16_t *) mem_180777)[copy_arg0_176675];
                                    
                                    ((int8_t *) mem_180773)[j_176667] = copy_arg0_176680;
                                    ((int64_t *) mem_180775)[j_176667] = copy_arg0_176681;
                                    ((int16_t *) mem_180777)[j_176667] = copy_arg0_176682;
                                    ((int8_t *) mem_180773)[copy_arg0_176675] = copy_arg0_176672;
                                    ((int64_t *) mem_180775)[copy_arg0_176675] = copy_arg0_176673;
                                    ((int16_t *) mem_180777)[copy_arg0_176675] = copy_arg0_176674;
                                    
                                    int64_t tmp_176689 = sub64(j_176667, (int64_t) 1);
                                    bool cond_176690 = sle64((int64_t) 0, tmp_176689);
                                    bool loop_cond_176691;
                                    
                                    if (cond_176690) {
                                        bool y_179896 = slt64(tmp_176689, block_sizze_176558);
                                        bool bounds_check_179897 = cond_176690 && y_179896;
                                        bool index_certs_179898;
                                        
                                        if (!bounds_check_179897) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176689, "] out of bounds for array of shape [", (long long) block_sizze_176558, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179893 = ((int8_t *) mem_180773)[j_176667];
                                        int64_t gt_arg1_179894 = ((int64_t *) mem_180775)[j_176667];
                                        int16_t gt_arg1_179895 = ((int16_t *) mem_180777)[j_176667];
                                        int8_t gt_arg0_179899 = ((int8_t *) mem_180773)[tmp_176689];
                                        int64_t gt_arg0_179900 = ((int64_t *) mem_180775)[tmp_176689];
                                        int16_t gt_arg0_179901 = ((int16_t *) mem_180777)[tmp_176689];
                                        bool cond_179902 = gt_arg0_179899 == gt_arg1_179893;
                                        bool defunc_0_leq_res_t_res_179903 = sle64(gt_arg0_179900, gt_arg1_179894);
                                        bool defunc_0_leq_res_179904 = sle16(gt_arg0_179901, gt_arg1_179895);
                                        bool x_179905 = cond_179902 && defunc_0_leq_res_t_res_179903;
                                        bool x_179906 = !cond_179902;
                                        bool y_179907 = defunc_0_leq_res_179904 && x_179906;
                                        bool defunc_0_leq_res_179908 = x_179905 || y_179907;
                                        bool defunc_0_lifted_gt_res_179909 = !defunc_0_leq_res_179908;
                                        
                                        loop_cond_176691 = defunc_0_lifted_gt_res_179909;
                                    } else {
                                        loop_cond_176691 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182261 = loop_cond_176691;
                                    int64_t j_tmp_182265 = tmp_176689;
                                    
                                    loop_while_176663 = loop_while_tmp_182261;
                                    j_176667 = j_tmp_182265;
                                }
                                s_176658 = loop_while_176663;
                                s_176662 = j_176667;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180754, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180773, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180757, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180775, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180760, i_180469 * block_sizze_176558, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180777, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176558});
                    }
                    if (memblock_alloc(ctx, &mem_180854, flat_dim_176559, "mem_180854")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180854.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint8_t *) mem_180754, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180858, bytes_180756, "mem_180858")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180858.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint64_t *) mem_180757, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    if (memblock_alloc(ctx, &mem_180862, bytes_180759, "mem_180862")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180862.mem, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (uint16_t *) mem_180760, (int64_t) 0, (int64_t []) {block_sizze_176558, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176548, block_sizze_176558});
                    
                    int64_t data_176715;
                    bool data_176716;
                    int64_t data_176720;
                    int64_t loop_dz2084Uz2082U_176721;
                    bool loop_while_176722;
                    int64_t stride_176726;
                    
                    if (memblock_set(ctx, &mem_param_180866, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180869, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180872, &mem_180862, "mem_180862") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176721 = flat_dim_176559;
                    loop_while_176722 = loop_cond_176712;
                    stride_176726 = block_sizze_176558;
                    while (loop_while_176722) {
                        int64_t next_stride_176727 = mul64((int64_t) 2, stride_176726);
                        bool zzero_176728 = next_stride_176727 == (int64_t) 0;
                        bool nonzzero_176729 = !zzero_176728;
                        bool nonzzero_cert_176730;
                        
                        if (!nonzzero_176729) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176731 = sdiv64(flat_dim_176559, next_stride_176727);
                        bool bounds_invalid_upwards_176732 = slt64(num_merges_176731, (int64_t) 0);
                        bool valid_176733 = !bounds_invalid_upwards_176732;
                        bool range_valid_c_176734;
                        
                        if (!valid_176733) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176731, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176736 = sub64(next_stride_176727, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176737 = sle64((int64_t) 0, m_176736);
                        bool cond_176739 = slt64(next_stride_176727, (int64_t) 10);
                        bool protect_assert_disj_176740 = nonzzero_176714 || cond_176739;
                        bool nonzzero_cert_176741;
                        
                        if (!protect_assert_disj_176740) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176742 = smod_safe64(next_stride_176727, merge_block_sizze_176564);
                        bool num_blocks_176743 = zeze_lhs_176742 == (int64_t) 0;
                        bool protect_assert_disj_176744 = cond_176739 || num_blocks_176743;
                        bool assert_c_176745;
                        
                        if (!protect_assert_disj_176744) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176747 = sdiv_safe64(next_stride_176727, merge_block_sizze_176564);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748 = add64((int64_t) 1, num_blocks_176747);
                        int64_t j_m_i_176749 = sub64(next_stride_176727, stride_176726);
                        int64_t flat_dim_176750 = merge_block_sizze_176564 * num_blocks_176747;
                        bool bounds_invalid_upwards_176751 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, (int64_t) 0);
                        bool empty_slice_176752 = j_m_i_176749 == (int64_t) 0;
                        int64_t m_176753 = sub64(j_m_i_176749, (int64_t) 1);
                        bool zzero_lte_i_176754 = sle64((int64_t) 0, stride_176726);
                        bool i_lte_j_176755 = sle64(stride_176726, next_stride_176727);
                        bool empty_slice_176756 = stride_176726 == (int64_t) 0;
                        int64_t m_176757 = sub64(stride_176726, (int64_t) 1);
                        bool bounds_invalid_upwards_176758 = slt64(num_blocks_176747, (int64_t) 0);
                        bool cond_176759 = slt64((int64_t) 0, stride_176726);
                        bool valid_176760 = !bounds_invalid_upwards_176751;
                        int64_t i_p_m_t_s_176761 = add64(stride_176726, m_176753);
                        bool zzero_leq_i_p_m_t_s_176762 = sle64((int64_t) 0, m_176757);
                        bool i_p_m_t_s_leq_w_176763 = slt64(m_176757, next_stride_176727);
                        bool valid_176764 = !bounds_invalid_upwards_176758;
                        bool i_p_m_t_s_leq_w_176765 = slt64(m_176736, flat_dim_176750);
                        bool y_176766 = slt64((int64_t) 0, j_m_i_176749);
                        bool protect_assert_disj_176767 = cond_176739 || valid_176760;
                        bool range_valid_c_176768;
                        
                        if (!protect_assert_disj_176767) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176769 = sle64((int64_t) 0, i_p_m_t_s_176761);
                        bool i_p_m_t_s_leq_w_176770 = slt64(i_p_m_t_s_176761, next_stride_176727);
                        bool y_176771 = zzero_leq_i_p_m_t_s_176762 && i_p_m_t_s_leq_w_176763;
                        bool protect_assert_disj_176772 = cond_176739 || valid_176764;
                        bool range_valid_c_176773;
                        
                        if (!protect_assert_disj_176772) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176747, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176774 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176765;
                        bool y_176775 = zzero_lte_i_176754 && i_p_m_t_s_leq_w_176770;
                        bool forwards_ok_176776 = zzero_lte_i_176754 && y_176771;
                        bool ok_or_empty_176777 = zzero_176728 || y_176774;
                        bool protect_assert_disj_176778 = cond_176759 || y_176766;
                        bool y_176779 = zzero_leq_i_p_m_t_s_176769 && y_176775;
                        bool ok_or_empty_176780 = empty_slice_176756 || forwards_ok_176776;
                        bool protect_assert_disj_176781 = cond_176739 || ok_or_empty_176777;
                        bool index_certs_176782;
                        
                        if (!protect_assert_disj_176781) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) flat_dim_176750, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176783 = !cond_176739;
                        bool protect_assert_disj_176784 = protect_assert_disj_176778 || loop_not_taken_176783;
                        bool index_certs_176785;
                        
                        if (!protect_assert_disj_176784) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176786 = i_lte_j_176755 && y_176779;
                        bool protect_assert_disj_176787 = cond_176739 || ok_or_empty_176780;
                        bool index_certs_176788;
                        
                        if (!protect_assert_disj_176787) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176789 = ok_or_empty_176780 || loop_not_taken_176783;
                        bool index_certs_176790;
                        
                        if (!protect_assert_disj_176789) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176726, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176791 = empty_slice_176752 || forwards_ok_176786;
                        bool protect_assert_disj_176792 = cond_176739 || ok_or_empty_176791;
                        bool index_certs_176793;
                        
                        if (!protect_assert_disj_176792) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176794 = loop_not_taken_176783 || ok_or_empty_176791;
                        bool index_certs_176795;
                        
                        if (!protect_assert_disj_176794) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176726, ":] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180873 = next_stride_176727 * num_merges_176731;
                        int64_t binop_x_180875 = (int64_t) 8 * num_merges_176731;
                        int64_t bytes_180876 = next_stride_176727 * binop_x_180875;
                        int64_t binop_x_180878 = (int64_t) 2 * num_merges_176731;
                        int64_t bytes_180879 = next_stride_176727 * binop_x_180878;
                        bool i_lte_j_176738 = sle64((int64_t) 0, next_stride_176727);
                        
                        if (mem_180874_cached_sizze_182662 < bytes_180873) {
                            err = lexical_realloc(ctx, &mem_180874, &mem_180874_cached_sizze_182662, bytes_180873);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180877_cached_sizze_182663 < bytes_180876) {
                            err = lexical_realloc(ctx, &mem_180877, &mem_180877_cached_sizze_182663, bytes_180876);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180880_cached_sizze_182664 < bytes_180879) {
                            err = lexical_realloc(ctx, &mem_180880, &mem_180880_cached_sizze_182664, bytes_180879);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180893 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748;
                        int64_t binop_x_180911 = (int64_t) 8 * num_blocks_176747;
                        int64_t bytes_180912 = merge_block_sizze_176564 * binop_x_180911;
                        int64_t binop_x_180914 = (int64_t) 2 * num_blocks_176747;
                        int64_t bytes_180915 = merge_block_sizze_176564 * binop_x_180914;
                        int64_t bytes_180976 = (int64_t) 16 * stride_176726;
                        int64_t bytes_180978 = (int64_t) 4 * stride_176726;
                        
                        for (int64_t i_180496 = 0; i_180496 < num_merges_176731; i_180496++) {
                            int64_t start_176800 = mul64(next_stride_176727, i_180496);
                            int64_t j_m_i_176801 = sub64(loop_dz2084Uz2082U_176721, start_176800);
                            bool empty_slice_176802 = j_m_i_176801 == (int64_t) 0;
                            int64_t m_176803 = sub64(j_m_i_176801, (int64_t) 1);
                            int64_t i_p_m_t_s_176804 = add64(start_176800, m_176803);
                            bool zzero_leq_i_p_m_t_s_176805 = sle64((int64_t) 0, i_p_m_t_s_176804);
                            bool i_p_m_t_s_leq_w_176806 = slt64(i_p_m_t_s_176804, loop_dz2084Uz2082U_176721);
                            bool zzero_lte_i_176807 = sle64((int64_t) 0, start_176800);
                            bool i_lte_j_176808 = sle64(start_176800, loop_dz2084Uz2082U_176721);
                            bool y_176809 = i_p_m_t_s_leq_w_176806 && zzero_lte_i_176807;
                            bool y_176810 = zzero_leq_i_p_m_t_s_176805 && y_176809;
                            bool forwards_ok_176811 = i_lte_j_176808 && y_176810;
                            bool ok_or_empty_176812 = empty_slice_176802 || forwards_ok_176811;
                            bool index_certs_176813;
                            
                            if (!ok_or_empty_176812) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176800, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176721, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176814 = slt64(m_176736, j_m_i_176801);
                            bool y_176815 = zzero_leq_i_p_m_t_s_176737 && i_p_m_t_s_leq_w_176814;
                            bool forwards_ok_176816 = i_lte_j_176738 && y_176815;
                            bool ok_or_empty_176817 = zzero_176728 || forwards_ok_176816;
                            bool index_certs_176818;
                            
                            if (!ok_or_empty_176817) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176727, "] out of bounds for array of shape [", (long long) j_m_i_176801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176739) {
                                int8_t dummy_179948;
                                int64_t dummy_179949;
                                int16_t dummy_179950;
                                
                                if (cond_176759) {
                                    int8_t head_res_179951 = ((int8_t *) mem_param_180866.mem)[start_176800];
                                    int64_t head_res_179952 = ((int64_t *) mem_param_180869.mem)[start_176800];
                                    int16_t head_res_179953 = ((int16_t *) mem_param_180872.mem)[start_176800];
                                    
                                    dummy_179948 = head_res_179951;
                                    dummy_179949 = head_res_179952;
                                    dummy_179950 = head_res_179953;
                                } else {
                                    int64_t slice_179954 = stride_176726 + start_176800;
                                    int8_t head_res_179955 = ((int8_t *) mem_param_180866.mem)[slice_179954];
                                    int64_t head_res_179956 = ((int64_t *) mem_param_180869.mem)[slice_179954];
                                    int16_t head_res_179957 = ((int16_t *) mem_param_180872.mem)[slice_179954];
                                    
                                    dummy_179948 = head_res_179955;
                                    dummy_179949 = head_res_179956;
                                    dummy_179950 = head_res_179957;
                                }
                                if (memblock_alloc(ctx, &mem_180975, next_stride_176727, "mem_180975")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182278 = 0; nest_i_182278 < next_stride_176727; nest_i_182278++) {
                                    ((int8_t *) mem_180975.mem)[nest_i_182278] = dummy_179948;
                                }
                                if (memblock_alloc(ctx, &mem_180977, bytes_180976, "mem_180977")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182279 = 0; nest_i_182279 < next_stride_176727; nest_i_182279++) {
                                    ((int64_t *) mem_180977.mem)[nest_i_182279] = dummy_179949;
                                }
                                if (memblock_alloc(ctx, &mem_180979, bytes_180978, "mem_180979")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182280 = 0; nest_i_182280 < next_stride_176727; nest_i_182280++) {
                                    ((int16_t *) mem_180979.mem)[nest_i_182280] = dummy_179950;
                                }
                                
                                int64_t data_179961;
                                int64_t i_179966 = (int64_t) 0;
                                
                                for (int64_t k_179965 = 0; k_179965 < next_stride_176727; k_179965++) {
                                    int64_t j_179970 = sub64(k_179965, i_179966);
                                    bool cond_179971 = j_179970 == j_m_i_176749;
                                    bool cond_179972;
                                    
                                    if (cond_179971) {
                                        cond_179972 = 1;
                                    } else {
                                        bool cond_179973 = slt64(i_179966, stride_176726);
                                        bool cond_f_res_179974;
                                        
                                        if (cond_179973) {
                                            bool x_179975 = sle64((int64_t) 0, j_179970);
                                            bool y_179976 = slt64(j_179970, j_m_i_176749);
                                            bool bounds_check_179977 = x_179975 && y_179976;
                                            bool index_certs_179978;
                                            
                                            if (!bounds_check_179977) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179984 = sle64((int64_t) 0, i_179966);
                                            bool bounds_check_179985 = cond_179973 && x_179984;
                                            bool index_certs_179986;
                                            
                                            if (!bounds_check_179985) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179979 = stride_176726 + j_179970;
                                            int64_t slice_179980 = start_176800 + slice_179979;
                                            int8_t leq_arg1_179981 = ((int8_t *) mem_param_180866.mem)[slice_179980];
                                            int64_t leq_arg1_179982 = ((int64_t *) mem_param_180869.mem)[slice_179980];
                                            int16_t leq_arg1_179983 = ((int16_t *) mem_param_180872.mem)[slice_179980];
                                            int64_t slice_179987 = start_176800 + i_179966;
                                            int8_t leq_arg0_179988 = ((int8_t *) mem_param_180866.mem)[slice_179987];
                                            int64_t leq_arg0_179989 = ((int64_t *) mem_param_180869.mem)[slice_179987];
                                            int16_t leq_arg0_179990 = ((int16_t *) mem_param_180872.mem)[slice_179987];
                                            bool cond_179991 = leq_arg0_179988 == leq_arg1_179981;
                                            bool defunc_0_leq_res_t_res_179992 = sle64(leq_arg0_179989, leq_arg1_179982);
                                            bool defunc_0_leq_res_179993 = sle16(leq_arg0_179990, leq_arg1_179983);
                                            bool x_179994 = cond_179991 && defunc_0_leq_res_t_res_179992;
                                            bool x_179995 = !cond_179991;
                                            bool y_179996 = defunc_0_leq_res_179993 && x_179995;
                                            bool defunc_0_leq_res_179997 = x_179994 || y_179996;
                                            
                                            cond_f_res_179974 = defunc_0_leq_res_179997;
                                        } else {
                                            cond_f_res_179974 = 0;
                                        }
                                        cond_179972 = cond_f_res_179974;
                                    }
                                    
                                    int64_t loopres_179998;
                                    int8_t loopres_179999;
                                    int64_t loopres_180000;
                                    int16_t loopres_180001;
                                    
                                    if (cond_179972) {
                                        bool x_180003 = sle64((int64_t) 0, i_179966);
                                        bool y_180004 = slt64(i_179966, stride_176726);
                                        bool bounds_check_180005 = x_180003 && y_180004;
                                        bool index_certs_180006;
                                        
                                        if (!bounds_check_180005) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179966, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180002 = add64((int64_t) 1, i_179966);
                                        int64_t slice_180007 = start_176800 + i_179966;
                                        int8_t tmp_180008 = ((int8_t *) mem_param_180866.mem)[slice_180007];
                                        int64_t tmp_180009 = ((int64_t *) mem_param_180869.mem)[slice_180007];
                                        int16_t tmp_180010 = ((int16_t *) mem_param_180872.mem)[slice_180007];
                                        
                                        loopres_179998 = tmp_180002;
                                        loopres_179999 = tmp_180008;
                                        loopres_180000 = tmp_180009;
                                        loopres_180001 = tmp_180010;
                                    } else {
                                        bool x_180011 = sle64((int64_t) 0, j_179970);
                                        bool y_180012 = slt64(j_179970, j_m_i_176749);
                                        bool bounds_check_180013 = x_180011 && y_180012;
                                        bool index_certs_180014;
                                        
                                        if (!bounds_check_180013) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179970, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180015 = stride_176726 + j_179970;
                                        int64_t slice_180016 = start_176800 + slice_180015;
                                        int8_t tmp_180017 = ((int8_t *) mem_param_180866.mem)[slice_180016];
                                        int64_t tmp_180018 = ((int64_t *) mem_param_180869.mem)[slice_180016];
                                        int16_t tmp_180019 = ((int16_t *) mem_param_180872.mem)[slice_180016];
                                        
                                        loopres_179998 = i_179966;
                                        loopres_179999 = tmp_180017;
                                        loopres_180000 = tmp_180018;
                                        loopres_180001 = tmp_180019;
                                    }
                                    ((int8_t *) mem_180975.mem)[k_179965] = loopres_179999;
                                    ((int64_t *) mem_180977.mem)[k_179965] = loopres_180000;
                                    ((int16_t *) mem_180979.mem)[k_179965] = loopres_180001;
                                    
                                    int64_t i_tmp_182281 = loopres_179998;
                                    
                                    i_179966 = i_tmp_182281;
                                }
                                data_179961 = i_179966;
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180975, "mem_180975") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180977, "mem_180977") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180979, "mem_180979") != 0)
                                    return 1;
                            } else {
                                if (mem_180894_cached_sizze_182665 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180894, &mem_180894_cached_sizze_182665, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180896_cached_sizze_182666 < bytes_180893) {
                                    err = lexical_realloc(ctx, &mem_180896, &mem_180896_cached_sizze_182666, bytes_180893);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180477 = 0; i_180477 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748; i_180477++) {
                                    int64_t split_count_arg3_176901 = mul64(merge_block_sizze_176564, i_180477);
                                    int64_t defunc_0_split_count_res_176902;
                                    int64_t defunc_0_split_count_res_176903;
                                    int64_t defunc_0_split_count_res_176904;
                                    int64_t defunc_0_split_count_res_176905;
                                    int64_t defunc_0_split_count_res_176906;
                                    
                                    if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_176902, &defunc_0_split_count_res_176903, &defunc_0_split_count_res_176904, &defunc_0_split_count_res_176905, &defunc_0_split_count_res_176906, (int64_t) 0, stride_176726, (int64_t) 0, j_m_i_176749, split_count_arg3_176901) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176907 = slt64((int64_t) 0, defunc_0_split_count_res_176906);
                                    bool defunc_0_split_count_res_176908;
                                    int64_t defunc_0_split_count_res_176909;
                                    int64_t defunc_0_split_count_res_176910;
                                    int64_t defunc_0_split_count_res_176911;
                                    int64_t defunc_0_split_count_res_176912;
                                    int64_t defunc_0_split_count_res_176913;
                                    bool loop_while_176914;
                                    int64_t ss_176915;
                                    int64_t ss_176916;
                                    int64_t tt_176917;
                                    int64_t tt_176918;
                                    int64_t count_176919;
                                    
                                    loop_while_176914 = loop_cond_176907;
                                    ss_176915 = defunc_0_split_count_res_176902;
                                    ss_176916 = defunc_0_split_count_res_176903;
                                    tt_176917 = defunc_0_split_count_res_176904;
                                    tt_176918 = defunc_0_split_count_res_176905;
                                    count_176919 = defunc_0_split_count_res_176906;
                                    while (loop_while_176914) {
                                        int64_t zlze_lhs_176920 = sub64(ss_176916, ss_176915);
                                        bool cond_176921 = sle64(zlze_lhs_176920, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176922;
                                        int64_t defunc_0_lifted_step_res_176923;
                                        int64_t defunc_0_lifted_step_res_176924;
                                        int64_t defunc_0_lifted_step_res_176925;
                                        
                                        if (cond_176921) {
                                            int64_t tmp_180023 = add64(tt_176917, count_176919);
                                            
                                            defunc_0_lifted_step_res_176922 = ss_176915;
                                            defunc_0_lifted_step_res_176923 = tmp_180023;
                                            defunc_0_lifted_step_res_176924 = tt_176918;
                                            defunc_0_lifted_step_res_176925 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176927 = sub64(tt_176918, tt_176917);
                                            bool cond_176928 = sle64(zlze_lhs_176927, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176929;
                                            int64_t defunc_0_lifted_step_res_f_res_176930;
                                            int64_t defunc_0_lifted_step_res_f_res_176931;
                                            int64_t defunc_0_lifted_step_res_f_res_176932;
                                            
                                            if (cond_176928) {
                                                int64_t tmp_180024 = add64(ss_176915, count_176919);
                                                
                                                defunc_0_lifted_step_res_f_res_176929 = tmp_180024;
                                                defunc_0_lifted_step_res_f_res_176930 = tt_176917;
                                                defunc_0_lifted_step_res_f_res_176931 = tt_176918;
                                                defunc_0_lifted_step_res_f_res_176932 = (int64_t) 0;
                                            } else {
                                                bool cond_176934 = count_176919 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176935;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176936;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176937;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176938;
                                                
                                                if (cond_176934) {
                                                    bool x_180026 = sle64((int64_t) 0, ss_176915);
                                                    bool y_180027 = slt64(ss_176915, stride_176726);
                                                    bool bounds_check_180028 = x_180026 && y_180027;
                                                    bool index_certs_180029;
                                                    
                                                    if (!bounds_check_180028) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176915, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180034 = sle64((int64_t) 0, tt_176917);
                                                    bool y_180035 = slt64(tt_176917, j_m_i_176749);
                                                    bool bounds_check_180036 = x_180034 && y_180035;
                                                    bool index_certs_180037;
                                                    
                                                    if (!bounds_check_180036) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176917, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180030 = start_176800 + ss_176915;
                                                    int8_t leq_arg1_180031 = ((int8_t *) mem_param_180866.mem)[slice_180030];
                                                    int64_t leq_arg1_180032 = ((int64_t *) mem_param_180869.mem)[slice_180030];
                                                    int16_t leq_arg1_180033 = ((int16_t *) mem_param_180872.mem)[slice_180030];
                                                    int64_t slice_180038 = stride_176726 + tt_176917;
                                                    int64_t slice_180039 = start_176800 + slice_180038;
                                                    int8_t leq_arg0_180040 = ((int8_t *) mem_param_180866.mem)[slice_180039];
                                                    int64_t leq_arg0_180041 = ((int64_t *) mem_param_180869.mem)[slice_180039];
                                                    int16_t leq_arg0_180042 = ((int16_t *) mem_param_180872.mem)[slice_180039];
                                                    bool cond_180043 = leq_arg0_180040 == leq_arg1_180031;
                                                    bool defunc_0_leq_res_t_res_180044 = sle64(leq_arg0_180041, leq_arg1_180032);
                                                    bool defunc_0_leq_res_180045 = sle16(leq_arg0_180042, leq_arg1_180033);
                                                    bool x_180046 = cond_180043 && defunc_0_leq_res_t_res_180044;
                                                    bool x_180047 = !cond_180043;
                                                    bool y_180048 = defunc_0_leq_res_180045 && x_180047;
                                                    bool defunc_0_leq_res_180049 = x_180046 || y_180048;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    
                                                    if (defunc_0_leq_res_180049) {
                                                        int64_t tmp_180052 = add64((int64_t) 1, tt_176917);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = ss_176915;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tmp_180052;
                                                    } else {
                                                        int64_t tmp_180053 = add64((int64_t) 1, ss_176915);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180050 = tmp_180053;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180051 = tt_176917;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = defunc_0_lifted_step_res_f_res_f_res_t_res_180050;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_t_res_180051;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = tt_176918;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176967 = sdiv64(count_176919, (int64_t) 2);
                                                    int64_t n_176968 = sub64(count_176919, m_176967);
                                                    bool cond_176969 = n_176968 == (int64_t) 0;
                                                    int64_t zgze_lhs_176970 = add64(ss_176915, m_176967);
                                                    bool cond_f_res_176971 = sle64(ss_176916, zgze_lhs_176970);
                                                    bool x_176972 = !cond_176969;
                                                    bool y_176973 = cond_f_res_176971 && x_176972;
                                                    bool cond_176974 = cond_176969 || y_176973;
                                                    bool leq_y_x_176975;
                                                    
                                                    if (cond_176974) {
                                                        leq_y_x_176975 = 1;
                                                    } else {
                                                        bool x_176976 = sle64((int64_t) 0, zgze_lhs_176970);
                                                        bool y_176977 = slt64(zgze_lhs_176970, stride_176726);
                                                        bool bounds_check_176978 = x_176976 && y_176977;
                                                        bool index_certs_176979;
                                                        
                                                        if (!bounds_check_176978) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176970, "] out of bounds for array of shape [", (long long) stride_176726, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176984 = add64(tt_176917, n_176968);
                                                        int64_t leq_arg0_176985 = sub64(zm_lhs_176984, (int64_t) 1);
                                                        bool x_176986 = sle64((int64_t) 0, leq_arg0_176985);
                                                        bool y_176987 = slt64(leq_arg0_176985, j_m_i_176749);
                                                        bool bounds_check_176988 = x_176986 && y_176987;
                                                        bool index_certs_176989;
                                                        
                                                        if (!bounds_check_176988) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176985, "] out of bounds for array of shape [", (long long) j_m_i_176749, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176980 = start_176800 + zgze_lhs_176970;
                                                        int8_t leq_arg1_176981 = ((int8_t *) mem_param_180866.mem)[slice_176980];
                                                        int64_t leq_arg1_176982 = ((int64_t *) mem_param_180869.mem)[slice_176980];
                                                        int16_t leq_arg1_176983 = ((int16_t *) mem_param_180872.mem)[slice_176980];
                                                        int64_t slice_176990 = stride_176726 + leq_arg0_176985;
                                                        int64_t slice_176991 = start_176800 + slice_176990;
                                                        int8_t leq_arg0_176992 = ((int8_t *) mem_param_180866.mem)[slice_176991];
                                                        int64_t leq_arg0_176993 = ((int64_t *) mem_param_180869.mem)[slice_176991];
                                                        int16_t leq_arg0_176994 = ((int16_t *) mem_param_180872.mem)[slice_176991];
                                                        bool cond_176995 = leq_arg0_176992 == leq_arg1_176981;
                                                        bool defunc_0_leq_res_t_res_176996 = sle64(leq_arg0_176993, leq_arg1_176982);
                                                        bool defunc_0_leq_res_176997 = sle16(leq_arg0_176994, leq_arg1_176983);
                                                        bool x_176998 = cond_176995 && defunc_0_leq_res_t_res_176996;
                                                        bool x_176999 = !cond_176995;
                                                        bool y_177000 = defunc_0_leq_res_176997 && x_176999;
                                                        bool defunc_0_leq_res_177001 = x_176998 || y_177000;
                                                        
                                                        leq_y_x_176975 = defunc_0_leq_res_177001;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                    
                                                    if (leq_y_x_176975) {
                                                        int64_t tmp_180054 = add64(tt_176917, n_176968);
                                                        int64_t tmp_180055 = sub64(count_176919, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tmp_180054;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tt_176918;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = tmp_180055;
                                                    } else {
                                                        int64_t tmp_177007 = add64(tt_176917, n_176968);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177002 = tt_176917;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177003 = tmp_177007;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177004 = count_176919;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176935 = ss_176915;
                                                    defunc_0_lifted_step_res_f_res_f_res_176936 = defunc_0_lifted_step_res_f_res_f_res_f_res_177002;
                                                    defunc_0_lifted_step_res_f_res_f_res_176937 = defunc_0_lifted_step_res_f_res_f_res_f_res_177003;
                                                    defunc_0_lifted_step_res_f_res_f_res_176938 = defunc_0_lifted_step_res_f_res_f_res_f_res_177004;
                                                }
                                                defunc_0_lifted_step_res_f_res_176929 = defunc_0_lifted_step_res_f_res_f_res_176935;
                                                defunc_0_lifted_step_res_f_res_176930 = defunc_0_lifted_step_res_f_res_f_res_176936;
                                                defunc_0_lifted_step_res_f_res_176931 = defunc_0_lifted_step_res_f_res_f_res_176937;
                                                defunc_0_lifted_step_res_f_res_176932 = defunc_0_lifted_step_res_f_res_f_res_176938;
                                            }
                                            defunc_0_lifted_step_res_176922 = defunc_0_lifted_step_res_f_res_176929;
                                            defunc_0_lifted_step_res_176923 = defunc_0_lifted_step_res_f_res_176930;
                                            defunc_0_lifted_step_res_176924 = defunc_0_lifted_step_res_f_res_176931;
                                            defunc_0_lifted_step_res_176925 = defunc_0_lifted_step_res_f_res_176932;
                                        }
                                        
                                        int64_t loopres_177008;
                                        int64_t loopres_177009;
                                        int64_t loopres_177010;
                                        int64_t loopres_177011;
                                        int64_t loopres_177012;
                                        
                                        if (futrts_lifted_normalizze_9066(ctx, &loopres_177008, &loopres_177009, &loopres_177010, &loopres_177011, &loopres_177012, defunc_0_lifted_step_res_176922, ss_176916, defunc_0_lifted_step_res_176923, defunc_0_lifted_step_res_176924, defunc_0_lifted_step_res_176925) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177013 = slt64((int64_t) 0, loopres_177012);
                                        bool loop_while_tmp_182287 = loop_cond_177013;
                                        int64_t ss_tmp_182288 = loopres_177008;
                                        int64_t ss_tmp_182289 = loopres_177009;
                                        int64_t tt_tmp_182290 = loopres_177010;
                                        int64_t tt_tmp_182291 = loopres_177011;
                                        int64_t count_tmp_182292 = loopres_177012;
                                        
                                        loop_while_176914 = loop_while_tmp_182287;
                                        ss_176915 = ss_tmp_182288;
                                        ss_176916 = ss_tmp_182289;
                                        tt_176917 = tt_tmp_182290;
                                        tt_176918 = tt_tmp_182291;
                                        count_176919 = count_tmp_182292;
                                    }
                                    defunc_0_split_count_res_176908 = loop_while_176914;
                                    defunc_0_split_count_res_176909 = ss_176915;
                                    defunc_0_split_count_res_176910 = ss_176916;
                                    defunc_0_split_count_res_176911 = tt_176917;
                                    defunc_0_split_count_res_176912 = tt_176918;
                                    defunc_0_split_count_res_176913 = count_176919;
                                    ((int64_t *) mem_180894)[i_180477] = defunc_0_split_count_res_176909;
                                    ((int64_t *) mem_180896)[i_180477] = defunc_0_split_count_res_176911;
                                }
                                if (mem_180910_cached_sizze_182667 < flat_dim_176750) {
                                    err = lexical_realloc(ctx, &mem_180910, &mem_180910_cached_sizze_182667, flat_dim_176750);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180913_cached_sizze_182668 < bytes_180912) {
                                    err = lexical_realloc(ctx, &mem_180913, &mem_180913_cached_sizze_182668, bytes_180912);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180916_cached_sizze_182669 < bytes_180915) {
                                    err = lexical_realloc(ctx, &mem_180916, &mem_180916_cached_sizze_182669, bytes_180915);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180486 = 0; i_180486 < num_blocks_176747; i_180486++) {
                                    bool y_177020 = slt64(i_180486, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool index_certs_177022;
                                    
                                    if (!y_177020) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180486, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177023 = ((int64_t *) mem_180894)[i_180486];
                                    int64_t defunc_0_f_res_177024 = ((int64_t *) mem_180896)[i_180486];
                                    int64_t tmp_177025 = add64((int64_t) 1, i_180486);
                                    bool x_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool y_177027 = slt64(tmp_177025, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748);
                                    bool bounds_check_177028 = x_177026 && y_177027;
                                    bool index_certs_177029;
                                    
                                    if (!bounds_check_177028) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176748, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177030 = ((int64_t *) mem_180894)[tmp_177025];
                                    int64_t defunc_0_f_res_177031 = ((int64_t *) mem_180896)[tmp_177025];
                                    int64_t merge_sequential_arg2_177032 = add64(stride_176726, defunc_0_f_res_177024);
                                    int64_t merge_sequential_arg2_177033 = add64(stride_176726, defunc_0_f_res_177031);
                                    int64_t j_m_i_177034 = sub64(merge_sequential_arg2_177033, merge_sequential_arg2_177032);
                                    bool empty_slice_177035 = j_m_i_177034 == (int64_t) 0;
                                    int64_t m_177036 = sub64(j_m_i_177034, (int64_t) 1);
                                    int64_t i_p_m_t_s_177037 = add64(merge_sequential_arg2_177032, m_177036);
                                    bool zzero_leq_i_p_m_t_s_177038 = sle64((int64_t) 0, i_p_m_t_s_177037);
                                    bool i_p_m_t_s_leq_w_177039 = slt64(i_p_m_t_s_177037, next_stride_176727);
                                    bool zzero_lte_i_177040 = sle64((int64_t) 0, merge_sequential_arg2_177032);
                                    bool i_lte_j_177041 = sle64(merge_sequential_arg2_177032, merge_sequential_arg2_177033);
                                    bool y_177042 = i_p_m_t_s_leq_w_177039 && zzero_lte_i_177040;
                                    bool y_177043 = zzero_leq_i_p_m_t_s_177038 && y_177042;
                                    bool forwards_ok_177044 = i_lte_j_177041 && y_177043;
                                    bool ok_or_empty_177045 = empty_slice_177035 || forwards_ok_177044;
                                    bool index_certs_177046;
                                    
                                    if (!ok_or_empty_177045) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177032, ":", (long long) merge_sequential_arg2_177033, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177047 = sub64(defunc_0_f_res_177030, defunc_0_f_res_177023);
                                    bool empty_slice_177048 = j_m_i_177047 == (int64_t) 0;
                                    int64_t m_177049 = sub64(j_m_i_177047, (int64_t) 1);
                                    int64_t i_p_m_t_s_177050 = add64(defunc_0_f_res_177023, m_177049);
                                    bool zzero_leq_i_p_m_t_s_177051 = sle64((int64_t) 0, i_p_m_t_s_177050);
                                    bool i_p_m_t_s_leq_w_177052 = slt64(i_p_m_t_s_177050, next_stride_176727);
                                    bool zzero_lte_i_177053 = sle64((int64_t) 0, defunc_0_f_res_177023);
                                    bool i_lte_j_177054 = sle64(defunc_0_f_res_177023, defunc_0_f_res_177030);
                                    bool y_177055 = i_p_m_t_s_leq_w_177052 && zzero_lte_i_177053;
                                    bool y_177056 = zzero_leq_i_p_m_t_s_177051 && y_177055;
                                    bool forwards_ok_177057 = i_lte_j_177054 && y_177056;
                                    bool ok_or_empty_177058 = empty_slice_177048 || forwards_ok_177057;
                                    bool index_certs_177059;
                                    
                                    if (!ok_or_empty_177058) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177023, ":", (long long) defunc_0_f_res_177030, "] out of bounds for array of shape [", (long long) next_stride_176727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177060 = slt64((int64_t) 0, j_m_i_177047);
                                    int8_t dummy_177061;
                                    int64_t dummy_177062;
                                    int16_t dummy_177063;
                                    
                                    if (cond_177060) {
                                        bool index_certs_180056;
                                        
                                        if (!cond_177060) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180057 = start_176800 + defunc_0_f_res_177023;
                                        int8_t head_res_180058 = ((int8_t *) mem_param_180866.mem)[slice_180057];
                                        int64_t head_res_180059 = ((int64_t *) mem_param_180869.mem)[slice_180057];
                                        int16_t head_res_180060 = ((int16_t *) mem_param_180872.mem)[slice_180057];
                                        
                                        dummy_177061 = head_res_180058;
                                        dummy_177062 = head_res_180059;
                                        dummy_177063 = head_res_180060;
                                    } else {
                                        bool y_177069 = slt64((int64_t) 0, j_m_i_177034);
                                        bool index_certs_177070;
                                        
                                        if (!y_177069) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177071 = start_176800 + merge_sequential_arg2_177032;
                                        int8_t head_res_177072 = ((int8_t *) mem_param_180866.mem)[slice_177071];
                                        int64_t head_res_177073 = ((int64_t *) mem_param_180869.mem)[slice_177071];
                                        int16_t head_res_177074 = ((int16_t *) mem_param_180872.mem)[slice_177071];
                                        
                                        dummy_177061 = head_res_177072;
                                        dummy_177062 = head_res_177073;
                                        dummy_177063 = head_res_177074;
                                    }
                                    for (int64_t nest_i_182296 = 0; nest_i_182296 < merge_block_sizze_176564; nest_i_182296++) {
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + nest_i_182296] = dummy_177061;
                                    }
                                    for (int64_t nest_i_182297 = 0; nest_i_182297 < merge_block_sizze_176564; nest_i_182297++) {
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + nest_i_182297] = dummy_177062;
                                    }
                                    for (int64_t nest_i_182298 = 0; nest_i_182298 < merge_block_sizze_176564; nest_i_182298++) {
                                        ((int16_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + nest_i_182298] = dummy_177063;
                                    }
                                    
                                    int64_t data_177078;
                                    int64_t i_177083 = (int64_t) 0;
                                    
                                    for (int64_t k_177082 = 0; k_177082 < merge_block_sizze_176564; k_177082++) {
                                        int64_t j_177087 = sub64(k_177082, i_177083);
                                        bool cond_177088 = j_177087 == j_m_i_177034;
                                        bool cond_177089;
                                        
                                        if (cond_177088) {
                                            cond_177089 = 1;
                                        } else {
                                            bool cond_177090 = slt64(i_177083, j_m_i_177047);
                                            bool cond_f_res_177091;
                                            
                                            if (cond_177090) {
                                                bool x_180061 = sle64((int64_t) 0, j_177087);
                                                bool y_180062 = slt64(j_177087, j_m_i_177034);
                                                bool bounds_check_180063 = x_180061 && y_180062;
                                                bool index_certs_180064;
                                                
                                                if (!bounds_check_180063) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180070 = sle64((int64_t) 0, i_177083);
                                                bool bounds_check_180071 = cond_177090 && x_180070;
                                                bool index_certs_180072;
                                                
                                                if (!bounds_check_180071) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180065 = merge_sequential_arg2_177032 + j_177087;
                                                int64_t slice_180066 = start_176800 + slice_180065;
                                                int8_t leq_arg1_180067 = ((int8_t *) mem_param_180866.mem)[slice_180066];
                                                int64_t leq_arg1_180068 = ((int64_t *) mem_param_180869.mem)[slice_180066];
                                                int16_t leq_arg1_180069 = ((int16_t *) mem_param_180872.mem)[slice_180066];
                                                int64_t slice_180073 = defunc_0_f_res_177023 + i_177083;
                                                int64_t slice_180074 = start_176800 + slice_180073;
                                                int8_t leq_arg0_180075 = ((int8_t *) mem_param_180866.mem)[slice_180074];
                                                int64_t leq_arg0_180076 = ((int64_t *) mem_param_180869.mem)[slice_180074];
                                                int16_t leq_arg0_180077 = ((int16_t *) mem_param_180872.mem)[slice_180074];
                                                bool cond_180078 = leq_arg0_180075 == leq_arg1_180067;
                                                bool defunc_0_leq_res_t_res_180079 = sle64(leq_arg0_180076, leq_arg1_180068);
                                                bool defunc_0_leq_res_180080 = sle16(leq_arg0_180077, leq_arg1_180069);
                                                bool x_180081 = cond_180078 && defunc_0_leq_res_t_res_180079;
                                                bool x_180082 = !cond_180078;
                                                bool y_180083 = defunc_0_leq_res_180080 && x_180082;
                                                bool defunc_0_leq_res_180084 = x_180081 || y_180083;
                                                
                                                cond_f_res_177091 = defunc_0_leq_res_180084;
                                            } else {
                                                cond_f_res_177091 = 0;
                                            }
                                            cond_177089 = cond_f_res_177091;
                                        }
                                        
                                        int64_t loopres_177116;
                                        int8_t loopres_177117;
                                        int64_t loopres_177118;
                                        int16_t loopres_177119;
                                        
                                        if (cond_177089) {
                                            bool x_180086 = sle64((int64_t) 0, i_177083);
                                            bool y_180087 = slt64(i_177083, j_m_i_177047);
                                            bool bounds_check_180088 = x_180086 && y_180087;
                                            bool index_certs_180089;
                                            
                                            if (!bounds_check_180088) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177083, "] out of bounds for array of shape [", (long long) j_m_i_177047, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180085 = add64((int64_t) 1, i_177083);
                                            int64_t slice_180090 = defunc_0_f_res_177023 + i_177083;
                                            int64_t slice_180091 = start_176800 + slice_180090;
                                            int8_t tmp_180092 = ((int8_t *) mem_param_180866.mem)[slice_180091];
                                            int64_t tmp_180093 = ((int64_t *) mem_param_180869.mem)[slice_180091];
                                            int16_t tmp_180094 = ((int16_t *) mem_param_180872.mem)[slice_180091];
                                            
                                            loopres_177116 = tmp_180085;
                                            loopres_177117 = tmp_180092;
                                            loopres_177118 = tmp_180093;
                                            loopres_177119 = tmp_180094;
                                        } else {
                                            bool x_177130 = sle64((int64_t) 0, j_177087);
                                            bool y_177131 = slt64(j_177087, j_m_i_177034);
                                            bool bounds_check_177132 = x_177130 && y_177131;
                                            bool index_certs_177133;
                                            
                                            if (!bounds_check_177132) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177087, "] out of bounds for array of shape [", (long long) j_m_i_177034, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177134 = merge_sequential_arg2_177032 + j_177087;
                                            int64_t slice_177135 = start_176800 + slice_177134;
                                            int8_t tmp_177136 = ((int8_t *) mem_param_180866.mem)[slice_177135];
                                            int64_t tmp_177137 = ((int64_t *) mem_param_180869.mem)[slice_177135];
                                            int16_t tmp_177138 = ((int16_t *) mem_param_180872.mem)[slice_177135];
                                            
                                            loopres_177116 = i_177083;
                                            loopres_177117 = tmp_177136;
                                            loopres_177118 = tmp_177137;
                                            loopres_177119 = tmp_177138;
                                        }
                                        ((int8_t *) mem_180910)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177117;
                                        ((int64_t *) mem_180913)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177118;
                                        ((int16_t *) mem_180916)[i_180486 * merge_block_sizze_176564 + k_177082] = loopres_177119;
                                        
                                        int64_t i_tmp_182299 = loopres_177116;
                                        
                                        i_177083 = i_tmp_182299;
                                    }
                                    data_177078 = i_177083;
                                }
                                if (memblock_alloc(ctx, &mem_180965, flat_dim_176750, "mem_180965")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180965.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint8_t *) mem_180910, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180969, bytes_180912, "mem_180969")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180969.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint64_t *) mem_180913, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_alloc(ctx, &mem_180973, bytes_180915, "mem_180973")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_180973.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (uint16_t *) mem_180916, (int64_t) 0, (int64_t []) {merge_block_sizze_176564, (int64_t) 1}, (int64_t []) {num_blocks_176747, merge_block_sizze_176564});
                                if (memblock_set(ctx, &ext_mem_181006, &mem_180965, "mem_180965") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181003, &mem_180969, "mem_180969") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181000, &mem_180973, "mem_180973") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180874, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181006.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180877, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181003.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180880, i_180496 * next_stride_176727, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181000.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176727});
                            if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181020, bytes_180873, "mem_181020")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181020.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint8_t *) mem_180874, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181024, bytes_180876, "mem_181024")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181024.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint64_t *) mem_180877, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        if (memblock_alloc(ctx, &mem_181028, bytes_180879, "mem_181028")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181028.mem, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (uint16_t *) mem_180880, (int64_t) 0, (int64_t []) {next_stride_176727, (int64_t) 1}, (int64_t []) {num_merges_176731, next_stride_176727});
                        
                        bool loop_cond_177152 = slt64(next_stride_176727, flat_dim_176559);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182266, &mem_181020, "mem_181020") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182267, &mem_181024, "mem_181024") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182268, &mem_181028, "mem_181028") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182269 = bytes_180873;
                        bool loop_while_tmp_182270 = loop_cond_177152;
                        int64_t stride_tmp_182274 = next_stride_176727;
                        
                        if (memblock_set(ctx, &mem_param_180866, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180869, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180872, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176721 = loop_dz2084Uz2082U_tmp_182269;
                        loop_while_176722 = loop_while_tmp_182270;
                        stride_176726 = stride_tmp_182274;
                    }
                    if (memblock_set(ctx, &ext_mem_181038, &mem_param_180866, "mem_param_180866") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181037, &mem_param_180869, "mem_param_180869") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181036, &mem_param_180872, "mem_param_180872") != 0)
                        return 1;
                    data_176715 = loop_dz2084Uz2082U_176721;
                    data_176716 = loop_while_176722;
                    data_176720 = stride_176726;
                    if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
                        return 1;
                    
                    bool empty_slice_177153 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177154 = sle64((int64_t) 0, zs_lhs_176543);
                    bool i_p_m_t_s_leq_w_177155 = slt64(zs_lhs_176543, data_176715);
                    bool y_177156 = zzero_leq_i_p_m_t_s_177154 && i_p_m_t_s_leq_w_177155;
                    bool ok_or_empty_177157 = empty_slice_177153 || y_177156;
                    bool index_certs_177158;
                    
                    if (!ok_or_empty_177157) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176495, "] out of bounds for array of shape [", (long long) data_176715, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181047, &ext_mem_181038, "ext_mem_181038") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181044, &ext_mem_181037, "ext_mem_181037") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181041, &ext_mem_181036, "ext_mem_181036") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180728.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180730.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180732.mem, ind_bottom_176496, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181041.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176498});
                if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
                    return 1;
                
                bool loop_cond_177194 = slt64(ubs_176486, threads_120851);
                bool loop_while_tmp_182233 = loop_cond_177194;
                int64_t p_tmp_182234 = ubs_176486;
                
                loop_while_176475 = loop_while_tmp_182233;
                p_176476 = p_tmp_182234;
            }
            defunc_0_mergeFunc_seq_res_176470 = loop_while_176475;
            defunc_0_mergeFunc_seq_res_176471 = p_176476;
            
            int64_t index_concat_branch_178011;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180109 = ((int64_t *) mem_180713)[index_concat_i_178008];
                
                index_concat_branch_178011 = index_concat_180109;
            } else {
                index_concat_branch_178011 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178005;
            
            if (index_concat_cmp_178007) {
                int64_t index_concat_180110 = ((int64_t *) mem_180715)[index_concat_i_178008];
                
                index_concat_branch_178005 = index_concat_180110;
            } else {
                index_concat_branch_178005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181466, &mem_180728, "mem_180728") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181463, &mem_180730, "mem_180730") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181460, &mem_180732, "mem_180732") != 0)
                return 1;
            loopres_175234 = index_concat_branch_178011;
            loopres_175235 = index_concat_branch_178005;
        }
        for (int64_t i_180502 = 0; i_180502 < window_sizze_120850; i_180502++) {
            int8_t eta_p_177202 = ((int8_t *) ext_mem_181466.mem)[i_180502];
            int64_t eta_p_177203 = ((int64_t *) ext_mem_181463.mem)[i_180502];
            bool cond_177204 = eta_p_177202 == (int8_t) 0;
            int64_t tmp_177205;
            
            if (cond_177204) {
                int64_t tmp_t_res_180113 = add64(p_175206, eta_p_177203);
                
                tmp_177205 = tmp_t_res_180113;
            } else {
                int64_t tmp_f_res_177207 = add64(p_175207, eta_p_177203);
                
                tmp_177205 = tmp_f_res_177207;
            }
            ((int64_t *) mem_180700.mem)[ind_bottom_175210 + i_180502] = tmp_177205;
        }
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        
        int64_t next_lbs_177208 = add64(p_175206, loopres_175234);
        int64_t next_lbs_177209 = add64(p_175207, loopres_175235);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181466.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120850});
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180702.mem, ind_bottom_175210, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120850});
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        
        bool cond_177223 = slt64(next_lbs_177208, zl_rhs_175189);
        bool loop_cond_t_res_177224 = slt64(next_lbs_177209, zl_rhs_175191);
        bool x_177225 = cond_177223 && loop_cond_t_res_177224;
        bool loop_while_tmp_182117 = x_177225;
        int64_t p_tmp_182121 = next_lbs_177208;
        int64_t p_tmp_182122 = next_lbs_177209;
        
        loop_while_175202 = loop_while_tmp_182117;
        p_175206 = p_tmp_182121;
        p_175207 = p_tmp_182122;
    }
    defunc_0_merge_pipeline_res_175196 = loop_while_175202;
    defunc_0_merge_pipeline_res_175200 = p_175206;
    defunc_0_merge_pipeline_res_175201 = p_175207;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 = sub64(nb_120849, defunc_0_merge_pipeline_res_175201);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 = sub64(na_120848, defunc_0_merge_pipeline_res_175200);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    bool empty_slice_177229 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 == (int64_t) 0;
    int64_t m_177230 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 1);
    int64_t i_p_m_t_s_177231 = add64(defunc_0_merge_pipeline_res_175200, m_177230);
    bool zzero_leq_i_p_m_t_s_177232 = sle64((int64_t) 0, i_p_m_t_s_177231);
    bool i_p_m_t_s_leq_w_177233 = slt64(i_p_m_t_s_177231, na_120848);
    bool zzero_lte_i_177234 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175200);
    bool i_lte_j_177235 = sle64(defunc_0_merge_pipeline_res_175200, na_120848);
    bool y_177236 = i_p_m_t_s_leq_w_177233 && zzero_lte_i_177234;
    bool y_177237 = zzero_leq_i_p_m_t_s_177232 && y_177236;
    bool forwards_ok_177238 = i_lte_j_177235 && y_177237;
    bool ok_or_empty_177239 = empty_slice_177229 || forwards_ok_177238;
    bool index_certs_177240;
    
    if (!ok_or_empty_177239) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175200, ":", (long long) na_120848, "] out of bounds for array of shape [", (long long) na_120848, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177244 = slt64(na_120848, defunc_0_merge_pipeline_res_175200);
    bool valid_177245 = !bounds_invalid_upwards_177244;
    bool range_valid_c_177246;
    
    if (!valid_177245) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175200, "..<", (long long) na_120848, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177250 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226 == (int64_t) 0;
    int64_t m_177251 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226, (int64_t) 1);
    int64_t i_p_m_t_s_177252 = add64(defunc_0_merge_pipeline_res_175201, m_177251);
    bool zzero_leq_i_p_m_t_s_177253 = sle64((int64_t) 0, i_p_m_t_s_177252);
    bool i_p_m_t_s_leq_w_177254 = slt64(i_p_m_t_s_177252, nb_120849);
    bool zzero_lte_i_177255 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175201);
    bool i_lte_j_177256 = sle64(defunc_0_merge_pipeline_res_175201, nb_120849);
    bool y_177257 = i_p_m_t_s_leq_w_177254 && zzero_lte_i_177255;
    bool y_177258 = zzero_leq_i_p_m_t_s_177253 && y_177257;
    bool forwards_ok_177259 = i_lte_j_177256 && y_177258;
    bool ok_or_empty_177260 = empty_slice_177250 || forwards_ok_177259;
    bool index_certs_177261;
    
    if (!ok_or_empty_177260) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175201, ":", (long long) nb_120849, "] out of bounds for array of shape [", (long long) nb_120849, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177265 = slt64(nb_120849, defunc_0_merge_pipeline_res_175201);
    bool valid_177266 = !bounds_invalid_upwards_177265;
    bool range_valid_c_177267;
    
    if (!valid_177266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175201, "..<", (long long) nb_120849, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181491 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    int64_t bytes_181493 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool cond_177274 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zs_lhs_177275 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, (int64_t) 1);
    int64_t zp_rhs_177276 = sdiv_safe64(zs_lhs_177275, (int64_t) 20);
    int64_t min_num_blocks_177277 = add64((int64_t) 1, zp_rhs_177276);
    bool loop_cond_177278 = slt64((int64_t) 1, min_num_blocks_177277);
    bool smallest_pow_2_geq_than_res_177279;
    int64_t smallest_pow_2_geq_than_res_177280;
    bool loop_while_177281;
    int64_t x_177282;
    
    loop_while_177281 = loop_cond_177278;
    x_177282 = (int64_t) 1;
    while (loop_while_177281) {
        int64_t loopres_177283 = mul64((int64_t) 2, x_177282);
        bool loop_cond_177284 = slt64(loopres_177283, min_num_blocks_177277);
        bool loop_while_tmp_182304 = loop_cond_177284;
        int64_t x_tmp_182305 = loopres_177283;
        
        loop_while_177281 = loop_while_tmp_182304;
        x_177282 = x_tmp_182305;
    }
    smallest_pow_2_geq_than_res_177279 = loop_while_177281;
    smallest_pow_2_geq_than_res_177280 = x_177282;
    
    bool zzero_177285 = smallest_pow_2_geq_than_res_177280 == (int64_t) 0;
    bool nonzzero_177286 = !zzero_177285;
    bool protect_assert_disj_177287 = cond_177274 || nonzzero_177286;
    bool nonzzero_cert_177288;
    
    if (!protect_assert_disj_177287) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177289 = sdiv_safe64(zs_lhs_177275, smallest_pow_2_geq_than_res_177280);
    int64_t block_sizze_177290 = add64((int64_t) 1, zp_rhs_177289);
    bool y_177297 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool protect_assert_disj_181819 = cond_177274 || y_177297;
    bool index_certs_177298;
    
    if (!protect_assert_disj_181819) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177324 = slt64(smallest_pow_2_geq_than_res_177280, (int64_t) 0);
    bool valid_177325 = !bounds_invalid_upwards_177324;
    bool protect_assert_disj_181829 = cond_177274 || valid_177325;
    bool range_valid_c_177326;
    
    if (!protect_assert_disj_181829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177280, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177328 = slt64(block_sizze_177290, (int64_t) 0);
    bool valid_177329 = !bounds_invalid_upwards_177328;
    bool protect_assert_disj_181831 = cond_177274 || valid_177329;
    bool range_valid_c_177330;
    
    if (!protect_assert_disj_181831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177290, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177332 = sle64(block_sizze_177290, (int64_t) 1);
    int64_t tmp_177333 = sub64(block_sizze_177290, (int64_t) 2);
    bool bounds_invalid_upwards_177334 = slt64(tmp_177333, (int64_t) 0);
    bool valid_177336 = !bounds_invalid_upwards_177334;
    bool protect_assert_disj_177337 = cond_177332 || valid_177336;
    bool protect_assert_disj_181833 = cond_177274 || protect_assert_disj_177337;
    bool range_valid_c_177338;
    
    if (!protect_assert_disj_181833) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177333, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177899 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177901 = sle64((int64_t) 0, zs_lhs_177275);
    bool i_p_m_t_s_leq_w_177902 = slt64(zs_lhs_177275, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
    bool y_177903 = zzero_leq_i_p_m_t_s_177901 && i_p_m_t_s_leq_w_177902;
    bool ok_or_empty_177904 = empty_slice_177899 || y_177903;
    bool index_certs_177905;
    
    if (!ok_or_empty_177904) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177906 = add64(defunc_0_merge_pipeline_res_175200, defunc_0_merge_pipeline_res_175201);
    int64_t j_m_i_177907 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, final_buffer_177906);
    bool empty_slice_177908 = j_m_i_177907 == (int64_t) 0;
    int64_t m_177909 = sub64(j_m_i_177907, (int64_t) 1);
    int64_t i_p_m_t_s_177910 = add64(final_buffer_177906, m_177909);
    bool zzero_leq_i_p_m_t_s_177911 = sle64((int64_t) 0, i_p_m_t_s_177910);
    bool i_p_m_t_s_leq_w_177912 = slt64(i_p_m_t_s_177910, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool zzero_lte_i_177913 = sle64((int64_t) 0, final_buffer_177906);
    bool i_lte_j_177914 = sle64(final_buffer_177906, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185);
    bool y_177915 = i_p_m_t_s_leq_w_177912 && zzero_lte_i_177913;
    bool y_177916 = zzero_leq_i_p_m_t_s_177911 && y_177915;
    bool forwards_ok_177917 = i_lte_j_177914 && y_177916;
    bool ok_or_empty_177918 = empty_slice_177908 || forwards_ok_177917;
    bool index_certs_177919;
    
    if (!ok_or_empty_177918) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177906, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177920 = j_m_i_177907 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228;
    bool empty_or_match_cert_177921;
    
    if (!dim_match_177920) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177907, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181490, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "mem_181490")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182306 = 0; nest_i_182306 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; nest_i_182306++) {
        ((int8_t *) mem_181490.mem)[nest_i_182306] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181492, bytes_181491, "mem_181492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182307 = 0; i_182307 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227; i_182307++) {
        int64_t x_182308 = defunc_0_merge_pipeline_res_175200 + i_182307 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[i_182307] = x_182308;
    }
    for (int64_t nest_i_182309 = 0; nest_i_182309 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; nest_i_182309++) {
        ((int8_t *) mem_181490.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + nest_i_182309] = (int8_t) 1;
    }
    for (int64_t i_182310 = 0; i_182310 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226; i_182310++) {
        int64_t x_182311 = defunc_0_merge_pipeline_res_175201 + i_182310 * (int64_t) 1;
        
        ((int64_t *) mem_181492.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227 + i_182310] = x_182311;
    }
    
    int64_t tmp_offs_182312 = (int64_t) 0;
    
    if (!(tmp_offs_182312 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182312 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181490.mem, tmp_offs_182312, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181490.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182312 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t tmp_offs_182313 = (int64_t) 0;
    
    if (!(tmp_offs_182313 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    if (!(tmp_offs_182313 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181492.mem, tmp_offs_182313, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181492.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    }
    tmp_offs_182313 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    if (memblock_alloc(ctx, &mem_181494, bytes_181493, "mem_181494")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182314 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180696.mem, defunc_0_merge_pipeline_res_175200, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181494.mem, tmp_offs_182314, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180697.mem, defunc_0_merge_pipeline_res_175201, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226});
    tmp_offs_182314 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177226;
    
    int64_t flat_dim_177291 = smallest_pow_2_geq_than_res_177280 * block_sizze_177290;
    bool x_181814 = !cond_177274;
    int64_t greatest_divisor_leq_than_arg1_177295 = mul64((int64_t) 2, block_sizze_177290);
    int64_t merge_block_sizze_177296;
    
    if (x_181814) {
        int64_t x_181816;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181816, (int64_t) 8, greatest_divisor_leq_than_arg1_177295) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177296 = x_181816;
    } else {
        merge_block_sizze_177296 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177971 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, (int64_t) 0);
    int8_t index_concat_branch_177975 = btoi_bool_i8(index_concat_cmp_177971);
    int64_t index_concat_i_180115 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
    int64_t index_primexp_180116 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180115);
    int64_t index_concat_branch_177969;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177969 = index_primexp_180116;
    } else {
        index_concat_branch_177969 = defunc_0_merge_pipeline_res_175200;
    }
    
    bool x_181810 = !index_concat_cmp_177971;
    bool protect_cond_conj_181820 = x_181810 && x_181814;
    int16_t index_concat_177962;
    
    if (protect_cond_conj_181820) {
        int16_t x_181812 = ((int16_t *) a_list_mem_180696.mem)[defunc_0_merge_pipeline_res_175200];
        
        index_concat_177962 = x_181812;
    } else {
        index_concat_177962 = (int16_t) 0;
    }
    
    bool protect_cond_conj_181821 = index_concat_cmp_177971 && x_181814;
    int16_t index_concat_180119;
    
    if (protect_cond_conj_181821) {
        int16_t x_181808 = ((int16_t *) b_list_mem_180697.mem)[index_primexp_180116];
        
        index_concat_180119 = x_181808;
    } else {
        index_concat_180119 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_177963;
    
    if (index_concat_cmp_177971) {
        index_concat_branch_177963 = index_concat_180119;
    } else {
        index_concat_branch_177963 = index_concat_177962;
    }
    
    int8_t defunc_0_reduce_res_180350;
    int64_t defunc_0_reduce_res_180351;
    int16_t defunc_0_reduce_res_180352;
    
    if (x_181814) {
        int8_t x_181822;
        int64_t x_181823;
        int16_t x_181824;
        int8_t redout_180504;
        int64_t redout_180505;
        int16_t redout_180506;
        
        redout_180504 = index_concat_branch_177975;
        redout_180505 = index_concat_branch_177969;
        redout_180506 = index_concat_branch_177963;
        for (int64_t i_180507 = 0; i_180507 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228; i_180507++) {
            bool index_concat_cmp_180578 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, i_180507);
            int8_t index_concat_branch_180582 = btoi_bool_i8(index_concat_cmp_180578);
            int64_t index_concat_branch_180576;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180573 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t index_primexp_180666 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180573);
                
                index_concat_branch_180576 = index_primexp_180666;
            } else {
                int64_t index_primexp_180668 = add64(defunc_0_merge_pipeline_res_175200, i_180507);
                
                index_concat_branch_180576 = index_primexp_180668;
            }
            
            int16_t index_concat_branch_180570;
            
            if (index_concat_cmp_180578) {
                int64_t index_concat_i_180567 = sub64(i_180507, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                int64_t slice_180663 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180567;
                int16_t index_concat_180568 = ((int16_t *) b_list_mem_180697.mem)[slice_180663];
                
                index_concat_branch_180570 = index_concat_180568;
            } else {
                int64_t slice_180664 = defunc_0_merge_pipeline_res_175200 + i_180507;
                int16_t index_concat_180569 = ((int16_t *) a_list_mem_180696.mem)[slice_180664];
                
                index_concat_branch_180570 = index_concat_180569;
            }
            
            bool eq_x_y_180681 = redout_180504 == (int8_t) 1;
            bool eq_x_zz_180682 = redout_180504 == (int8_t) 0;
            bool p_and_eq_x_y_180683 = index_concat_cmp_180578 && eq_x_y_180681;
            bool not_p_180684 = !index_concat_cmp_180578;
            bool p_and_eq_x_y_180685 = eq_x_zz_180682 && not_p_180684;
            bool cond_177314 = p_and_eq_x_y_180683 || p_and_eq_x_y_180685;
            bool defunc_0_leq_res_t_res_177315 = sle64(redout_180505, index_concat_branch_180576);
            bool defunc_0_leq_res_177316 = sle16(redout_180506, index_concat_branch_180570);
            bool x_177317 = cond_177314 && defunc_0_leq_res_t_res_177315;
            bool x_177318 = !cond_177314;
            bool y_177319 = defunc_0_leq_res_177316 && x_177318;
            bool defunc_0_leq_res_177320 = x_177317 || y_177319;
            int8_t defunc_0_op_res_177321;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177321 = index_concat_branch_180582;
            } else {
                defunc_0_op_res_177321 = redout_180504;
            }
            
            int64_t defunc_0_op_res_177322;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177322 = index_concat_branch_180576;
            } else {
                defunc_0_op_res_177322 = redout_180505;
            }
            
            int16_t defunc_0_op_res_177323;
            
            if (defunc_0_leq_res_177320) {
                defunc_0_op_res_177323 = index_concat_branch_180570;
            } else {
                defunc_0_op_res_177323 = redout_180506;
            }
            
            int8_t redout_tmp_182315 = defunc_0_op_res_177321;
            int64_t redout_tmp_182316 = defunc_0_op_res_177322;
            int16_t redout_tmp_182317 = defunc_0_op_res_177323;
            
            redout_180504 = redout_tmp_182315;
            redout_180505 = redout_tmp_182316;
            redout_180506 = redout_tmp_182317;
        }
        x_181822 = redout_180504;
        x_181823 = redout_180505;
        x_181824 = redout_180506;
        defunc_0_reduce_res_180350 = x_181822;
        defunc_0_reduce_res_180351 = x_181823;
        defunc_0_reduce_res_180352 = x_181824;
    } else {
        defunc_0_reduce_res_180350 = (int8_t) 0;
        defunc_0_reduce_res_180351 = (int64_t) 0;
        defunc_0_reduce_res_180352 = (int16_t) 0;
    }
    
    int64_t distance_177335 = add64((int64_t) 1, tmp_177333);
    int64_t binop_x_181497 = (int64_t) 8 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181498 = block_sizze_177290 * binop_x_181497;
    int64_t binop_x_181500 = (int64_t) 2 * smallest_pow_2_geq_than_res_177280;
    int64_t bytes_181501 = block_sizze_177290 * binop_x_181500;
    int64_t bytes_181516 = (int64_t) 8 * block_sizze_177290;
    bool loop_cond_177444 = slt64(block_sizze_177290, flat_dim_177291);
    bool zzero_177445 = merge_block_sizze_177296 == (int64_t) 0;
    bool nonzzero_177446 = !zzero_177445;
    
    if (cond_177274) {
        if (memblock_set(ctx, &ext_mem_181789, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &mem_181494, "mem_181494") != 0)
            return 1;
    } else {
        if (mem_181496_cached_sizze_182690 < flat_dim_177291) {
            err = lexical_realloc(ctx, &mem_181496, &mem_181496_cached_sizze_182690, flat_dim_177291);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181499_cached_sizze_182691 < bytes_181498) {
            err = lexical_realloc(ctx, &mem_181499, &mem_181499_cached_sizze_182691, bytes_181498);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181502_cached_sizze_182692 < bytes_181501) {
            err = lexical_realloc(ctx, &mem_181502, &mem_181502_cached_sizze_182692, bytes_181501);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181515_cached_sizze_182693 < block_sizze_177290) {
            err = lexical_realloc(ctx, &mem_181515, &mem_181515_cached_sizze_182693, block_sizze_177290);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181517_cached_sizze_182694 < bytes_181516) {
            err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182694, bytes_181516);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181519_cached_sizze_182695 < greatest_divisor_leq_than_arg1_177295) {
            err = lexical_realloc(ctx, &mem_181519, &mem_181519_cached_sizze_182695, greatest_divisor_leq_than_arg1_177295);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180524 = 0; i_180524 < smallest_pow_2_geq_than_res_177280; i_180524++) {
            int64_t zp_lhs_177343 = mul64(block_sizze_177290, i_180524);
            
            for (int64_t i_180514 = 0; i_180514 < block_sizze_177290; i_180514++) {
                int64_t k_177348 = add64(zp_lhs_177343, i_180514);
                bool cond_177349 = slt64(k_177348, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228);
                int8_t lifted_lambda_res_177350;
                int64_t lifted_lambda_res_177351;
                int16_t lifted_lambda_res_177352;
                
                if (cond_177349) {
                    bool x_180125 = sle64((int64_t) 0, k_177348);
                    bool bounds_check_180126 = cond_177349 && x_180125;
                    bool index_certs_180127;
                    
                    if (!bounds_check_180126) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177348, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180128 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227, k_177348);
                    int8_t index_concat_branch_180129 = btoi_bool_i8(index_concat_cmp_180128);
                    int64_t index_concat_branch_180130;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180131 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t index_primexp_180132 = add64(defunc_0_merge_pipeline_res_175201, index_concat_i_180131);
                        
                        index_concat_branch_180130 = index_primexp_180132;
                    } else {
                        int64_t index_primexp_180133 = add64(defunc_0_merge_pipeline_res_175200, k_177348);
                        
                        index_concat_branch_180130 = index_primexp_180133;
                    }
                    
                    int16_t index_concat_branch_180134;
                    
                    if (index_concat_cmp_180128) {
                        int64_t index_concat_i_180135 = sub64(k_177348, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177227);
                        int64_t slice_180136 = defunc_0_merge_pipeline_res_175201 + index_concat_i_180135;
                        int16_t index_concat_180137 = ((int16_t *) b_list_mem_180697.mem)[slice_180136];
                        
                        index_concat_branch_180134 = index_concat_180137;
                    } else {
                        int64_t slice_180138 = defunc_0_merge_pipeline_res_175200 + k_177348;
                        int16_t index_concat_180139 = ((int16_t *) a_list_mem_180696.mem)[slice_180138];
                        
                        index_concat_branch_180134 = index_concat_180139;
                    }
                    lifted_lambda_res_177350 = index_concat_branch_180129;
                    lifted_lambda_res_177351 = index_concat_branch_180130;
                    lifted_lambda_res_177352 = index_concat_branch_180134;
                } else {
                    lifted_lambda_res_177350 = defunc_0_reduce_res_180350;
                    lifted_lambda_res_177351 = defunc_0_reduce_res_180351;
                    lifted_lambda_res_177352 = defunc_0_reduce_res_180352;
                }
                ((int8_t *) mem_181515)[i_180514] = lifted_lambda_res_177350;
                ((int64_t *) mem_181517)[i_180514] = lifted_lambda_res_177351;
                ((int16_t *) mem_181519)[i_180514] = lifted_lambda_res_177352;
            }
            if (!cond_177332) {
                for (int64_t i_177365 = 0; i_177365 < distance_177335; i_177365++) {
                    int64_t gt_arg1_177369 = add64((int64_t) 1, i_177365);
                    bool x_177370 = sle64((int64_t) 0, gt_arg1_177369);
                    bool y_177371 = slt64(gt_arg1_177369, block_sizze_177290);
                    bool bounds_check_177372 = x_177370 && y_177371;
                    bool index_certs_177373;
                    
                    if (!bounds_check_177372) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177369, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177377 = slt64(i_177365, block_sizze_177290);
                    bool index_certs_177378;
                    
                    if (!y_177377) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177365, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177374 = ((int8_t *) mem_181515)[gt_arg1_177369];
                    int64_t gt_arg1_177375 = ((int64_t *) mem_181517)[gt_arg1_177369];
                    int16_t gt_arg1_177376 = ((int16_t *) mem_181519)[gt_arg1_177369];
                    int8_t gt_arg0_177379 = ((int8_t *) mem_181515)[i_177365];
                    int64_t gt_arg0_177380 = ((int64_t *) mem_181517)[i_177365];
                    int16_t gt_arg0_177381 = ((int16_t *) mem_181519)[i_177365];
                    bool cond_177382 = gt_arg0_177379 == gt_arg1_177374;
                    bool defunc_0_leq_res_t_res_177383 = sle64(gt_arg0_177380, gt_arg1_177375);
                    bool defunc_0_leq_res_177384 = sle16(gt_arg0_177381, gt_arg1_177376);
                    bool x_177385 = cond_177382 && defunc_0_leq_res_t_res_177383;
                    bool x_177386 = !cond_177382;
                    bool y_177387 = defunc_0_leq_res_177384 && x_177386;
                    bool defunc_0_leq_res_177388 = x_177385 || y_177387;
                    bool defunc_0_lifted_gt_res_177389 = !defunc_0_leq_res_177388;
                    bool s_177390;
                    int64_t s_177394;
                    bool loop_while_177395;
                    int64_t j_177399;
                    
                    loop_while_177395 = defunc_0_lifted_gt_res_177389;
                    j_177399 = i_177365;
                    while (loop_while_177395) {
                        bool x_177400 = sle64((int64_t) 0, j_177399);
                        bool y_177401 = slt64(j_177399, block_sizze_177290);
                        bool bounds_check_177402 = x_177400 && y_177401;
                        bool index_certs_177403;
                        
                        if (!bounds_check_177402) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177399, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177407 = add64((int64_t) 1, j_177399);
                        bool x_177408 = sle64((int64_t) 0, copy_arg0_177407);
                        bool y_177409 = slt64(copy_arg0_177407, block_sizze_177290);
                        bool bounds_check_177410 = x_177408 && y_177409;
                        bool index_certs_177411;
                        
                        if (!bounds_check_177410) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177407, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177404 = ((int8_t *) mem_181515)[j_177399];
                        int64_t copy_arg0_177405 = ((int64_t *) mem_181517)[j_177399];
                        int16_t copy_arg0_177406 = ((int16_t *) mem_181519)[j_177399];
                        int8_t copy_arg0_177412 = ((int8_t *) mem_181515)[copy_arg0_177407];
                        int64_t copy_arg0_177413 = ((int64_t *) mem_181517)[copy_arg0_177407];
                        int16_t copy_arg0_177414 = ((int16_t *) mem_181519)[copy_arg0_177407];
                        
                        ((int8_t *) mem_181515)[j_177399] = copy_arg0_177412;
                        ((int64_t *) mem_181517)[j_177399] = copy_arg0_177413;
                        ((int16_t *) mem_181519)[j_177399] = copy_arg0_177414;
                        ((int8_t *) mem_181515)[copy_arg0_177407] = copy_arg0_177404;
                        ((int64_t *) mem_181517)[copy_arg0_177407] = copy_arg0_177405;
                        ((int16_t *) mem_181519)[copy_arg0_177407] = copy_arg0_177406;
                        
                        int64_t tmp_177421 = sub64(j_177399, (int64_t) 1);
                        bool cond_177422 = sle64((int64_t) 0, tmp_177421);
                        bool loop_cond_177423;
                        
                        if (cond_177422) {
                            bool y_180143 = slt64(tmp_177421, block_sizze_177290);
                            bool bounds_check_180144 = cond_177422 && y_180143;
                            bool index_certs_180145;
                            
                            if (!bounds_check_180144) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177421, "] out of bounds for array of shape [", (long long) block_sizze_177290, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180140 = ((int8_t *) mem_181515)[j_177399];
                            int64_t gt_arg1_180141 = ((int64_t *) mem_181517)[j_177399];
                            int16_t gt_arg1_180142 = ((int16_t *) mem_181519)[j_177399];
                            int8_t gt_arg0_180146 = ((int8_t *) mem_181515)[tmp_177421];
                            int64_t gt_arg0_180147 = ((int64_t *) mem_181517)[tmp_177421];
                            int16_t gt_arg0_180148 = ((int16_t *) mem_181519)[tmp_177421];
                            bool cond_180149 = gt_arg0_180146 == gt_arg1_180140;
                            bool defunc_0_leq_res_t_res_180150 = sle64(gt_arg0_180147, gt_arg1_180141);
                            bool defunc_0_leq_res_180151 = sle16(gt_arg0_180148, gt_arg1_180142);
                            bool x_180152 = cond_180149 && defunc_0_leq_res_t_res_180150;
                            bool x_180153 = !cond_180149;
                            bool y_180154 = defunc_0_leq_res_180151 && x_180153;
                            bool defunc_0_leq_res_180155 = x_180152 || y_180154;
                            bool defunc_0_lifted_gt_res_180156 = !defunc_0_leq_res_180155;
                            
                            loop_cond_177423 = defunc_0_lifted_gt_res_180156;
                        } else {
                            loop_cond_177423 = 0;
                        }
                        
                        bool loop_while_tmp_182327 = loop_cond_177423;
                        int64_t j_tmp_182331 = tmp_177421;
                        
                        loop_while_177395 = loop_while_tmp_182327;
                        j_177399 = j_tmp_182331;
                    }
                    s_177390 = loop_while_177395;
                    s_177394 = j_177399;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181496, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181515, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181499, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181517, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181502, i_180524 * block_sizze_177290, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181519, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177290});
        }
        if (memblock_alloc(ctx, &mem_181596, flat_dim_177291, "mem_181596")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181596.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint8_t *) mem_181496, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181600, bytes_181498, "mem_181600")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181600.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint64_t *) mem_181499, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        if (memblock_alloc(ctx, &mem_181604, bytes_181501, "mem_181604")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181604.mem, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (uint16_t *) mem_181502, (int64_t) 0, (int64_t []) {block_sizze_177290, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177280, block_sizze_177290});
        
        int64_t data_177447;
        bool data_177448;
        int64_t data_177452;
        int64_t loop_dz2084Uz2082U_177453;
        bool loop_while_177454;
        int64_t stride_177458;
        
        if (memblock_set(ctx, &mem_param_181608, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181611, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181614, &mem_181604, "mem_181604") != 0)
            return 1;
        loop_dz2084Uz2082U_177453 = flat_dim_177291;
        loop_while_177454 = loop_cond_177444;
        stride_177458 = block_sizze_177290;
        while (loop_while_177454) {
            int64_t next_stride_177459 = mul64((int64_t) 2, stride_177458);
            bool zzero_177460 = next_stride_177459 == (int64_t) 0;
            bool nonzzero_177461 = !zzero_177460;
            bool nonzzero_cert_177462;
            
            if (!nonzzero_177461) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177463 = sdiv64(flat_dim_177291, next_stride_177459);
            bool bounds_invalid_upwards_177464 = slt64(num_merges_177463, (int64_t) 0);
            bool valid_177465 = !bounds_invalid_upwards_177464;
            bool range_valid_c_177466;
            
            if (!valid_177465) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177463, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177468 = sub64(next_stride_177459, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177469 = sle64((int64_t) 0, m_177468);
            bool cond_177471 = slt64(next_stride_177459, (int64_t) 10);
            bool protect_assert_disj_177472 = nonzzero_177446 || cond_177471;
            bool nonzzero_cert_177473;
            
            if (!protect_assert_disj_177472) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177474 = smod_safe64(next_stride_177459, merge_block_sizze_177296);
            bool num_blocks_177475 = zeze_lhs_177474 == (int64_t) 0;
            bool protect_assert_disj_177476 = cond_177471 || num_blocks_177475;
            bool assert_c_177477;
            
            if (!protect_assert_disj_177476) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177479 = sdiv_safe64(next_stride_177459, merge_block_sizze_177296);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480 = add64((int64_t) 1, num_blocks_177479);
            int64_t j_m_i_177481 = sub64(next_stride_177459, stride_177458);
            int64_t flat_dim_177482 = merge_block_sizze_177296 * num_blocks_177479;
            bool bounds_invalid_upwards_177483 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, (int64_t) 0);
            bool empty_slice_177484 = j_m_i_177481 == (int64_t) 0;
            int64_t m_177485 = sub64(j_m_i_177481, (int64_t) 1);
            bool zzero_lte_i_177486 = sle64((int64_t) 0, stride_177458);
            bool i_lte_j_177487 = sle64(stride_177458, next_stride_177459);
            bool empty_slice_177488 = stride_177458 == (int64_t) 0;
            int64_t m_177489 = sub64(stride_177458, (int64_t) 1);
            bool bounds_invalid_upwards_177490 = slt64(num_blocks_177479, (int64_t) 0);
            bool cond_177491 = slt64((int64_t) 0, stride_177458);
            bool valid_177492 = !bounds_invalid_upwards_177483;
            int64_t i_p_m_t_s_177493 = add64(stride_177458, m_177485);
            bool zzero_leq_i_p_m_t_s_177494 = sle64((int64_t) 0, m_177489);
            bool i_p_m_t_s_leq_w_177495 = slt64(m_177489, next_stride_177459);
            bool valid_177496 = !bounds_invalid_upwards_177490;
            bool i_p_m_t_s_leq_w_177497 = slt64(m_177468, flat_dim_177482);
            bool y_177498 = slt64((int64_t) 0, j_m_i_177481);
            bool protect_assert_disj_177499 = cond_177471 || valid_177492;
            bool range_valid_c_177500;
            
            if (!protect_assert_disj_177499) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177501 = sle64((int64_t) 0, i_p_m_t_s_177493);
            bool i_p_m_t_s_leq_w_177502 = slt64(i_p_m_t_s_177493, next_stride_177459);
            bool y_177503 = zzero_leq_i_p_m_t_s_177494 && i_p_m_t_s_leq_w_177495;
            bool protect_assert_disj_177504 = cond_177471 || valid_177496;
            bool range_valid_c_177505;
            
            if (!protect_assert_disj_177504) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177479, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177506 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177497;
            bool y_177507 = zzero_lte_i_177486 && i_p_m_t_s_leq_w_177502;
            bool forwards_ok_177508 = zzero_lte_i_177486 && y_177503;
            bool ok_or_empty_177509 = zzero_177460 || y_177506;
            bool protect_assert_disj_177510 = cond_177491 || y_177498;
            bool y_177511 = zzero_leq_i_p_m_t_s_177501 && y_177507;
            bool ok_or_empty_177512 = empty_slice_177488 || forwards_ok_177508;
            bool protect_assert_disj_177513 = cond_177471 || ok_or_empty_177509;
            bool index_certs_177514;
            
            if (!protect_assert_disj_177513) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) flat_dim_177482, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177515 = !cond_177471;
            bool protect_assert_disj_177516 = protect_assert_disj_177510 || loop_not_taken_177515;
            bool index_certs_177517;
            
            if (!protect_assert_disj_177516) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177518 = i_lte_j_177487 && y_177511;
            bool protect_assert_disj_177519 = cond_177471 || ok_or_empty_177512;
            bool index_certs_177520;
            
            if (!protect_assert_disj_177519) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177521 = ok_or_empty_177512 || loop_not_taken_177515;
            bool index_certs_177522;
            
            if (!protect_assert_disj_177521) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177458, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177523 = empty_slice_177484 || forwards_ok_177518;
            bool protect_assert_disj_177524 = cond_177471 || ok_or_empty_177523;
            bool index_certs_177525;
            
            if (!protect_assert_disj_177524) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177526 = loop_not_taken_177515 || ok_or_empty_177523;
            bool index_certs_177527;
            
            if (!protect_assert_disj_177526) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177458, ":] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181615 = next_stride_177459 * num_merges_177463;
            int64_t binop_x_181617 = (int64_t) 8 * num_merges_177463;
            int64_t bytes_181618 = next_stride_177459 * binop_x_181617;
            int64_t binop_x_181620 = (int64_t) 2 * num_merges_177463;
            int64_t bytes_181621 = next_stride_177459 * binop_x_181620;
            bool i_lte_j_177470 = sle64((int64_t) 0, next_stride_177459);
            
            if (mem_181616_cached_sizze_182696 < bytes_181615) {
                err = lexical_realloc(ctx, &mem_181616, &mem_181616_cached_sizze_182696, bytes_181615);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181619_cached_sizze_182697 < bytes_181618) {
                err = lexical_realloc(ctx, &mem_181619, &mem_181619_cached_sizze_182697, bytes_181618);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181622_cached_sizze_182698 < bytes_181621) {
                err = lexical_realloc(ctx, &mem_181622, &mem_181622_cached_sizze_182698, bytes_181621);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181635 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480;
            int64_t binop_x_181653 = (int64_t) 8 * num_blocks_177479;
            int64_t bytes_181654 = merge_block_sizze_177296 * binop_x_181653;
            int64_t binop_x_181656 = (int64_t) 2 * num_blocks_177479;
            int64_t bytes_181657 = merge_block_sizze_177296 * binop_x_181656;
            int64_t bytes_181718 = (int64_t) 16 * stride_177458;
            int64_t bytes_181720 = (int64_t) 4 * stride_177458;
            
            for (int64_t i_180551 = 0; i_180551 < num_merges_177463; i_180551++) {
                int64_t start_177532 = mul64(next_stride_177459, i_180551);
                int64_t j_m_i_177533 = sub64(loop_dz2084Uz2082U_177453, start_177532);
                bool empty_slice_177534 = j_m_i_177533 == (int64_t) 0;
                int64_t m_177535 = sub64(j_m_i_177533, (int64_t) 1);
                int64_t i_p_m_t_s_177536 = add64(start_177532, m_177535);
                bool zzero_leq_i_p_m_t_s_177537 = sle64((int64_t) 0, i_p_m_t_s_177536);
                bool i_p_m_t_s_leq_w_177538 = slt64(i_p_m_t_s_177536, loop_dz2084Uz2082U_177453);
                bool zzero_lte_i_177539 = sle64((int64_t) 0, start_177532);
                bool i_lte_j_177540 = sle64(start_177532, loop_dz2084Uz2082U_177453);
                bool y_177541 = i_p_m_t_s_leq_w_177538 && zzero_lte_i_177539;
                bool y_177542 = zzero_leq_i_p_m_t_s_177537 && y_177541;
                bool forwards_ok_177543 = i_lte_j_177540 && y_177542;
                bool ok_or_empty_177544 = empty_slice_177534 || forwards_ok_177543;
                bool index_certs_177545;
                
                if (!ok_or_empty_177544) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177532, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177453, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177546 = slt64(m_177468, j_m_i_177533);
                bool y_177547 = zzero_leq_i_p_m_t_s_177469 && i_p_m_t_s_leq_w_177546;
                bool forwards_ok_177548 = i_lte_j_177470 && y_177547;
                bool ok_or_empty_177549 = zzero_177460 || forwards_ok_177548;
                bool index_certs_177550;
                
                if (!ok_or_empty_177549) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177459, "] out of bounds for array of shape [", (long long) j_m_i_177533, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177471) {
                    int8_t dummy_180195;
                    int64_t dummy_180196;
                    int16_t dummy_180197;
                    
                    if (cond_177491) {
                        int8_t head_res_180198 = ((int8_t *) mem_param_181608.mem)[start_177532];
                        int64_t head_res_180199 = ((int64_t *) mem_param_181611.mem)[start_177532];
                        int16_t head_res_180200 = ((int16_t *) mem_param_181614.mem)[start_177532];
                        
                        dummy_180195 = head_res_180198;
                        dummy_180196 = head_res_180199;
                        dummy_180197 = head_res_180200;
                    } else {
                        int64_t slice_180201 = stride_177458 + start_177532;
                        int8_t head_res_180202 = ((int8_t *) mem_param_181608.mem)[slice_180201];
                        int64_t head_res_180203 = ((int64_t *) mem_param_181611.mem)[slice_180201];
                        int16_t head_res_180204 = ((int16_t *) mem_param_181614.mem)[slice_180201];
                        
                        dummy_180195 = head_res_180202;
                        dummy_180196 = head_res_180203;
                        dummy_180197 = head_res_180204;
                    }
                    if (memblock_alloc(ctx, &mem_181717, next_stride_177459, "mem_181717")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182344 = 0; nest_i_182344 < next_stride_177459; nest_i_182344++) {
                        ((int8_t *) mem_181717.mem)[nest_i_182344] = dummy_180195;
                    }
                    if (memblock_alloc(ctx, &mem_181719, bytes_181718, "mem_181719")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182345 = 0; nest_i_182345 < next_stride_177459; nest_i_182345++) {
                        ((int64_t *) mem_181719.mem)[nest_i_182345] = dummy_180196;
                    }
                    if (memblock_alloc(ctx, &mem_181721, bytes_181720, "mem_181721")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182346 = 0; nest_i_182346 < next_stride_177459; nest_i_182346++) {
                        ((int16_t *) mem_181721.mem)[nest_i_182346] = dummy_180197;
                    }
                    
                    int64_t data_180208;
                    int64_t i_180213 = (int64_t) 0;
                    
                    for (int64_t k_180212 = 0; k_180212 < next_stride_177459; k_180212++) {
                        int64_t j_180217 = sub64(k_180212, i_180213);
                        bool cond_180218 = j_180217 == j_m_i_177481;
                        bool cond_180219;
                        
                        if (cond_180218) {
                            cond_180219 = 1;
                        } else {
                            bool cond_180220 = slt64(i_180213, stride_177458);
                            bool cond_f_res_180221;
                            
                            if (cond_180220) {
                                bool x_180222 = sle64((int64_t) 0, j_180217);
                                bool y_180223 = slt64(j_180217, j_m_i_177481);
                                bool bounds_check_180224 = x_180222 && y_180223;
                                bool index_certs_180225;
                                
                                if (!bounds_check_180224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180231 = sle64((int64_t) 0, i_180213);
                                bool bounds_check_180232 = cond_180220 && x_180231;
                                bool index_certs_180233;
                                
                                if (!bounds_check_180232) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180226 = stride_177458 + j_180217;
                                int64_t slice_180227 = start_177532 + slice_180226;
                                int8_t leq_arg1_180228 = ((int8_t *) mem_param_181608.mem)[slice_180227];
                                int64_t leq_arg1_180229 = ((int64_t *) mem_param_181611.mem)[slice_180227];
                                int16_t leq_arg1_180230 = ((int16_t *) mem_param_181614.mem)[slice_180227];
                                int64_t slice_180234 = start_177532 + i_180213;
                                int8_t leq_arg0_180235 = ((int8_t *) mem_param_181608.mem)[slice_180234];
                                int64_t leq_arg0_180236 = ((int64_t *) mem_param_181611.mem)[slice_180234];
                                int16_t leq_arg0_180237 = ((int16_t *) mem_param_181614.mem)[slice_180234];
                                bool cond_180238 = leq_arg0_180235 == leq_arg1_180228;
                                bool defunc_0_leq_res_t_res_180239 = sle64(leq_arg0_180236, leq_arg1_180229);
                                bool defunc_0_leq_res_180240 = sle16(leq_arg0_180237, leq_arg1_180230);
                                bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                bool x_180242 = !cond_180238;
                                bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                
                                cond_f_res_180221 = defunc_0_leq_res_180244;
                            } else {
                                cond_f_res_180221 = 0;
                            }
                            cond_180219 = cond_f_res_180221;
                        }
                        
                        int64_t loopres_180245;
                        int8_t loopres_180246;
                        int64_t loopres_180247;
                        int16_t loopres_180248;
                        
                        if (cond_180219) {
                            bool x_180250 = sle64((int64_t) 0, i_180213);
                            bool y_180251 = slt64(i_180213, stride_177458);
                            bool bounds_check_180252 = x_180250 && y_180251;
                            bool index_certs_180253;
                            
                            if (!bounds_check_180252) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180213, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180249 = add64((int64_t) 1, i_180213);
                            int64_t slice_180254 = start_177532 + i_180213;
                            int8_t tmp_180255 = ((int8_t *) mem_param_181608.mem)[slice_180254];
                            int64_t tmp_180256 = ((int64_t *) mem_param_181611.mem)[slice_180254];
                            int16_t tmp_180257 = ((int16_t *) mem_param_181614.mem)[slice_180254];
                            
                            loopres_180245 = tmp_180249;
                            loopres_180246 = tmp_180255;
                            loopres_180247 = tmp_180256;
                            loopres_180248 = tmp_180257;
                        } else {
                            bool x_180258 = sle64((int64_t) 0, j_180217);
                            bool y_180259 = slt64(j_180217, j_m_i_177481);
                            bool bounds_check_180260 = x_180258 && y_180259;
                            bool index_certs_180261;
                            
                            if (!bounds_check_180260) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180217, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180262 = stride_177458 + j_180217;
                            int64_t slice_180263 = start_177532 + slice_180262;
                            int8_t tmp_180264 = ((int8_t *) mem_param_181608.mem)[slice_180263];
                            int64_t tmp_180265 = ((int64_t *) mem_param_181611.mem)[slice_180263];
                            int16_t tmp_180266 = ((int16_t *) mem_param_181614.mem)[slice_180263];
                            
                            loopres_180245 = i_180213;
                            loopres_180246 = tmp_180264;
                            loopres_180247 = tmp_180265;
                            loopres_180248 = tmp_180266;
                        }
                        ((int8_t *) mem_181717.mem)[k_180212] = loopres_180246;
                        ((int64_t *) mem_181719.mem)[k_180212] = loopres_180247;
                        ((int16_t *) mem_181721.mem)[k_180212] = loopres_180248;
                        
                        int64_t i_tmp_182347 = loopres_180245;
                        
                        i_180213 = i_tmp_182347;
                    }
                    data_180208 = i_180213;
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181717, "mem_181717") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181719, "mem_181719") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181721, "mem_181721") != 0)
                        return 1;
                } else {
                    if (mem_181636_cached_sizze_182699 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181636, &mem_181636_cached_sizze_182699, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181638_cached_sizze_182700 < bytes_181635) {
                        err = lexical_realloc(ctx, &mem_181638, &mem_181638_cached_sizze_182700, bytes_181635);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180532 = 0; i_180532 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480; i_180532++) {
                        int64_t split_count_arg3_177633 = mul64(merge_block_sizze_177296, i_180532);
                        int64_t defunc_0_split_count_res_177634;
                        int64_t defunc_0_split_count_res_177635;
                        int64_t defunc_0_split_count_res_177636;
                        int64_t defunc_0_split_count_res_177637;
                        int64_t defunc_0_split_count_res_177638;
                        
                        if (futrts_lifted_normalizze_9066(ctx, &defunc_0_split_count_res_177634, &defunc_0_split_count_res_177635, &defunc_0_split_count_res_177636, &defunc_0_split_count_res_177637, &defunc_0_split_count_res_177638, (int64_t) 0, stride_177458, (int64_t) 0, j_m_i_177481, split_count_arg3_177633) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177639 = slt64((int64_t) 0, defunc_0_split_count_res_177638);
                        bool defunc_0_split_count_res_177640;
                        int64_t defunc_0_split_count_res_177641;
                        int64_t defunc_0_split_count_res_177642;
                        int64_t defunc_0_split_count_res_177643;
                        int64_t defunc_0_split_count_res_177644;
                        int64_t defunc_0_split_count_res_177645;
                        bool loop_while_177646;
                        int64_t ss_177647;
                        int64_t ss_177648;
                        int64_t tt_177649;
                        int64_t tt_177650;
                        int64_t count_177651;
                        
                        loop_while_177646 = loop_cond_177639;
                        ss_177647 = defunc_0_split_count_res_177634;
                        ss_177648 = defunc_0_split_count_res_177635;
                        tt_177649 = defunc_0_split_count_res_177636;
                        tt_177650 = defunc_0_split_count_res_177637;
                        count_177651 = defunc_0_split_count_res_177638;
                        while (loop_while_177646) {
                            int64_t zlze_lhs_177652 = sub64(ss_177648, ss_177647);
                            bool cond_177653 = sle64(zlze_lhs_177652, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177654;
                            int64_t defunc_0_lifted_step_res_177655;
                            int64_t defunc_0_lifted_step_res_177656;
                            int64_t defunc_0_lifted_step_res_177657;
                            
                            if (cond_177653) {
                                int64_t tmp_180270 = add64(tt_177649, count_177651);
                                
                                defunc_0_lifted_step_res_177654 = ss_177647;
                                defunc_0_lifted_step_res_177655 = tmp_180270;
                                defunc_0_lifted_step_res_177656 = tt_177650;
                                defunc_0_lifted_step_res_177657 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177659 = sub64(tt_177650, tt_177649);
                                bool cond_177660 = sle64(zlze_lhs_177659, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177661;
                                int64_t defunc_0_lifted_step_res_f_res_177662;
                                int64_t defunc_0_lifted_step_res_f_res_177663;
                                int64_t defunc_0_lifted_step_res_f_res_177664;
                                
                                if (cond_177660) {
                                    int64_t tmp_180271 = add64(ss_177647, count_177651);
                                    
                                    defunc_0_lifted_step_res_f_res_177661 = tmp_180271;
                                    defunc_0_lifted_step_res_f_res_177662 = tt_177649;
                                    defunc_0_lifted_step_res_f_res_177663 = tt_177650;
                                    defunc_0_lifted_step_res_f_res_177664 = (int64_t) 0;
                                } else {
                                    bool cond_177666 = count_177651 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177667;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177668;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177669;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177670;
                                    
                                    if (cond_177666) {
                                        bool x_180273 = sle64((int64_t) 0, ss_177647);
                                        bool y_180274 = slt64(ss_177647, stride_177458);
                                        bool bounds_check_180275 = x_180273 && y_180274;
                                        bool index_certs_180276;
                                        
                                        if (!bounds_check_180275) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177647, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180281 = sle64((int64_t) 0, tt_177649);
                                        bool y_180282 = slt64(tt_177649, j_m_i_177481);
                                        bool bounds_check_180283 = x_180281 && y_180282;
                                        bool index_certs_180284;
                                        
                                        if (!bounds_check_180283) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177649, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180277 = start_177532 + ss_177647;
                                        int8_t leq_arg1_180278 = ((int8_t *) mem_param_181608.mem)[slice_180277];
                                        int64_t leq_arg1_180279 = ((int64_t *) mem_param_181611.mem)[slice_180277];
                                        int16_t leq_arg1_180280 = ((int16_t *) mem_param_181614.mem)[slice_180277];
                                        int64_t slice_180285 = stride_177458 + tt_177649;
                                        int64_t slice_180286 = start_177532 + slice_180285;
                                        int8_t leq_arg0_180287 = ((int8_t *) mem_param_181608.mem)[slice_180286];
                                        int64_t leq_arg0_180288 = ((int64_t *) mem_param_181611.mem)[slice_180286];
                                        int16_t leq_arg0_180289 = ((int16_t *) mem_param_181614.mem)[slice_180286];
                                        bool cond_180290 = leq_arg0_180287 == leq_arg1_180278;
                                        bool defunc_0_leq_res_t_res_180291 = sle64(leq_arg0_180288, leq_arg1_180279);
                                        bool defunc_0_leq_res_180292 = sle16(leq_arg0_180289, leq_arg1_180280);
                                        bool x_180293 = cond_180290 && defunc_0_leq_res_t_res_180291;
                                        bool x_180294 = !cond_180290;
                                        bool y_180295 = defunc_0_leq_res_180292 && x_180294;
                                        bool defunc_0_leq_res_180296 = x_180293 || y_180295;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            int64_t tmp_180299 = add64((int64_t) 1, tt_177649);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = ss_177647;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tmp_180299;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, ss_177647);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180297 = tmp_180300;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180298 = tt_177649;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = defunc_0_lifted_step_res_f_res_f_res_t_res_180297;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_t_res_180298;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = tt_177650;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = (int64_t) 0;
                                    } else {
                                        int64_t m_177699 = sdiv64(count_177651, (int64_t) 2);
                                        int64_t n_177700 = sub64(count_177651, m_177699);
                                        bool cond_177701 = n_177700 == (int64_t) 0;
                                        int64_t zgze_lhs_177702 = add64(ss_177647, m_177699);
                                        bool cond_f_res_177703 = sle64(ss_177648, zgze_lhs_177702);
                                        bool x_177704 = !cond_177701;
                                        bool y_177705 = cond_f_res_177703 && x_177704;
                                        bool cond_177706 = cond_177701 || y_177705;
                                        bool leq_y_x_177707;
                                        
                                        if (cond_177706) {
                                            leq_y_x_177707 = 1;
                                        } else {
                                            bool x_177708 = sle64((int64_t) 0, zgze_lhs_177702);
                                            bool y_177709 = slt64(zgze_lhs_177702, stride_177458);
                                            bool bounds_check_177710 = x_177708 && y_177709;
                                            bool index_certs_177711;
                                            
                                            if (!bounds_check_177710) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177702, "] out of bounds for array of shape [", (long long) stride_177458, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177716 = add64(tt_177649, n_177700);
                                            int64_t leq_arg0_177717 = sub64(zm_lhs_177716, (int64_t) 1);
                                            bool x_177718 = sle64((int64_t) 0, leq_arg0_177717);
                                            bool y_177719 = slt64(leq_arg0_177717, j_m_i_177481);
                                            bool bounds_check_177720 = x_177718 && y_177719;
                                            bool index_certs_177721;
                                            
                                            if (!bounds_check_177720) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177717, "] out of bounds for array of shape [", (long long) j_m_i_177481, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177712 = start_177532 + zgze_lhs_177702;
                                            int8_t leq_arg1_177713 = ((int8_t *) mem_param_181608.mem)[slice_177712];
                                            int64_t leq_arg1_177714 = ((int64_t *) mem_param_181611.mem)[slice_177712];
                                            int16_t leq_arg1_177715 = ((int16_t *) mem_param_181614.mem)[slice_177712];
                                            int64_t slice_177722 = stride_177458 + leq_arg0_177717;
                                            int64_t slice_177723 = start_177532 + slice_177722;
                                            int8_t leq_arg0_177724 = ((int8_t *) mem_param_181608.mem)[slice_177723];
                                            int64_t leq_arg0_177725 = ((int64_t *) mem_param_181611.mem)[slice_177723];
                                            int16_t leq_arg0_177726 = ((int16_t *) mem_param_181614.mem)[slice_177723];
                                            bool cond_177727 = leq_arg0_177724 == leq_arg1_177713;
                                            bool defunc_0_leq_res_t_res_177728 = sle64(leq_arg0_177725, leq_arg1_177714);
                                            bool defunc_0_leq_res_177729 = sle16(leq_arg0_177726, leq_arg1_177715);
                                            bool x_177730 = cond_177727 && defunc_0_leq_res_t_res_177728;
                                            bool x_177731 = !cond_177727;
                                            bool y_177732 = defunc_0_leq_res_177729 && x_177731;
                                            bool defunc_0_leq_res_177733 = x_177730 || y_177732;
                                            
                                            leq_y_x_177707 = defunc_0_leq_res_177733;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                        
                                        if (leq_y_x_177707) {
                                            int64_t tmp_180301 = add64(tt_177649, n_177700);
                                            int64_t tmp_180302 = sub64(count_177651, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tmp_180301;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tt_177650;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = tmp_180302;
                                        } else {
                                            int64_t tmp_177739 = add64(tt_177649, n_177700);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177734 = tt_177649;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177735 = tmp_177739;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177736 = count_177651;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177667 = ss_177647;
                                        defunc_0_lifted_step_res_f_res_f_res_177668 = defunc_0_lifted_step_res_f_res_f_res_f_res_177734;
                                        defunc_0_lifted_step_res_f_res_f_res_177669 = defunc_0_lifted_step_res_f_res_f_res_f_res_177735;
                                        defunc_0_lifted_step_res_f_res_f_res_177670 = defunc_0_lifted_step_res_f_res_f_res_f_res_177736;
                                    }
                                    defunc_0_lifted_step_res_f_res_177661 = defunc_0_lifted_step_res_f_res_f_res_177667;
                                    defunc_0_lifted_step_res_f_res_177662 = defunc_0_lifted_step_res_f_res_f_res_177668;
                                    defunc_0_lifted_step_res_f_res_177663 = defunc_0_lifted_step_res_f_res_f_res_177669;
                                    defunc_0_lifted_step_res_f_res_177664 = defunc_0_lifted_step_res_f_res_f_res_177670;
                                }
                                defunc_0_lifted_step_res_177654 = defunc_0_lifted_step_res_f_res_177661;
                                defunc_0_lifted_step_res_177655 = defunc_0_lifted_step_res_f_res_177662;
                                defunc_0_lifted_step_res_177656 = defunc_0_lifted_step_res_f_res_177663;
                                defunc_0_lifted_step_res_177657 = defunc_0_lifted_step_res_f_res_177664;
                            }
                            
                            int64_t loopres_177740;
                            int64_t loopres_177741;
                            int64_t loopres_177742;
                            int64_t loopres_177743;
                            int64_t loopres_177744;
                            
                            if (futrts_lifted_normalizze_9066(ctx, &loopres_177740, &loopres_177741, &loopres_177742, &loopres_177743, &loopres_177744, defunc_0_lifted_step_res_177654, ss_177648, defunc_0_lifted_step_res_177655, defunc_0_lifted_step_res_177656, defunc_0_lifted_step_res_177657) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177745 = slt64((int64_t) 0, loopres_177744);
                            bool loop_while_tmp_182353 = loop_cond_177745;
                            int64_t ss_tmp_182354 = loopres_177740;
                            int64_t ss_tmp_182355 = loopres_177741;
                            int64_t tt_tmp_182356 = loopres_177742;
                            int64_t tt_tmp_182357 = loopres_177743;
                            int64_t count_tmp_182358 = loopres_177744;
                            
                            loop_while_177646 = loop_while_tmp_182353;
                            ss_177647 = ss_tmp_182354;
                            ss_177648 = ss_tmp_182355;
                            tt_177649 = tt_tmp_182356;
                            tt_177650 = tt_tmp_182357;
                            count_177651 = count_tmp_182358;
                        }
                        defunc_0_split_count_res_177640 = loop_while_177646;
                        defunc_0_split_count_res_177641 = ss_177647;
                        defunc_0_split_count_res_177642 = ss_177648;
                        defunc_0_split_count_res_177643 = tt_177649;
                        defunc_0_split_count_res_177644 = tt_177650;
                        defunc_0_split_count_res_177645 = count_177651;
                        ((int64_t *) mem_181636)[i_180532] = defunc_0_split_count_res_177641;
                        ((int64_t *) mem_181638)[i_180532] = defunc_0_split_count_res_177643;
                    }
                    if (mem_181652_cached_sizze_182701 < flat_dim_177482) {
                        err = lexical_realloc(ctx, &mem_181652, &mem_181652_cached_sizze_182701, flat_dim_177482);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181655_cached_sizze_182702 < bytes_181654) {
                        err = lexical_realloc(ctx, &mem_181655, &mem_181655_cached_sizze_182702, bytes_181654);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181658_cached_sizze_182703 < bytes_181657) {
                        err = lexical_realloc(ctx, &mem_181658, &mem_181658_cached_sizze_182703, bytes_181657);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180541 = 0; i_180541 < num_blocks_177479; i_180541++) {
                        bool y_177752 = slt64(i_180541, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool index_certs_177754;
                        
                        if (!y_177752) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180541, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177755 = ((int64_t *) mem_181636)[i_180541];
                        int64_t defunc_0_f_res_177756 = ((int64_t *) mem_181638)[i_180541];
                        int64_t tmp_177757 = add64((int64_t) 1, i_180541);
                        bool x_177758 = sle64((int64_t) 0, tmp_177757);
                        bool y_177759 = slt64(tmp_177757, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480);
                        bool bounds_check_177760 = x_177758 && y_177759;
                        bool index_certs_177761;
                        
                        if (!bounds_check_177760) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177480, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177762 = ((int64_t *) mem_181636)[tmp_177757];
                        int64_t defunc_0_f_res_177763 = ((int64_t *) mem_181638)[tmp_177757];
                        int64_t merge_sequential_arg2_177764 = add64(stride_177458, defunc_0_f_res_177756);
                        int64_t merge_sequential_arg2_177765 = add64(stride_177458, defunc_0_f_res_177763);
                        int64_t j_m_i_177766 = sub64(merge_sequential_arg2_177765, merge_sequential_arg2_177764);
                        bool empty_slice_177767 = j_m_i_177766 == (int64_t) 0;
                        int64_t m_177768 = sub64(j_m_i_177766, (int64_t) 1);
                        int64_t i_p_m_t_s_177769 = add64(merge_sequential_arg2_177764, m_177768);
                        bool zzero_leq_i_p_m_t_s_177770 = sle64((int64_t) 0, i_p_m_t_s_177769);
                        bool i_p_m_t_s_leq_w_177771 = slt64(i_p_m_t_s_177769, next_stride_177459);
                        bool zzero_lte_i_177772 = sle64((int64_t) 0, merge_sequential_arg2_177764);
                        bool i_lte_j_177773 = sle64(merge_sequential_arg2_177764, merge_sequential_arg2_177765);
                        bool y_177774 = i_p_m_t_s_leq_w_177771 && zzero_lte_i_177772;
                        bool y_177775 = zzero_leq_i_p_m_t_s_177770 && y_177774;
                        bool forwards_ok_177776 = i_lte_j_177773 && y_177775;
                        bool ok_or_empty_177777 = empty_slice_177767 || forwards_ok_177776;
                        bool index_certs_177778;
                        
                        if (!ok_or_empty_177777) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177764, ":", (long long) merge_sequential_arg2_177765, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177779 = sub64(defunc_0_f_res_177762, defunc_0_f_res_177755);
                        bool empty_slice_177780 = j_m_i_177779 == (int64_t) 0;
                        int64_t m_177781 = sub64(j_m_i_177779, (int64_t) 1);
                        int64_t i_p_m_t_s_177782 = add64(defunc_0_f_res_177755, m_177781);
                        bool zzero_leq_i_p_m_t_s_177783 = sle64((int64_t) 0, i_p_m_t_s_177782);
                        bool i_p_m_t_s_leq_w_177784 = slt64(i_p_m_t_s_177782, next_stride_177459);
                        bool zzero_lte_i_177785 = sle64((int64_t) 0, defunc_0_f_res_177755);
                        bool i_lte_j_177786 = sle64(defunc_0_f_res_177755, defunc_0_f_res_177762);
                        bool y_177787 = i_p_m_t_s_leq_w_177784 && zzero_lte_i_177785;
                        bool y_177788 = zzero_leq_i_p_m_t_s_177783 && y_177787;
                        bool forwards_ok_177789 = i_lte_j_177786 && y_177788;
                        bool ok_or_empty_177790 = empty_slice_177780 || forwards_ok_177789;
                        bool index_certs_177791;
                        
                        if (!ok_or_empty_177790) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177755, ":", (long long) defunc_0_f_res_177762, "] out of bounds for array of shape [", (long long) next_stride_177459, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177792 = slt64((int64_t) 0, j_m_i_177779);
                        int8_t dummy_177793;
                        int64_t dummy_177794;
                        int16_t dummy_177795;
                        
                        if (cond_177792) {
                            bool index_certs_180303;
                            
                            if (!cond_177792) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180304 = start_177532 + defunc_0_f_res_177755;
                            int8_t head_res_180305 = ((int8_t *) mem_param_181608.mem)[slice_180304];
                            int64_t head_res_180306 = ((int64_t *) mem_param_181611.mem)[slice_180304];
                            int16_t head_res_180307 = ((int16_t *) mem_param_181614.mem)[slice_180304];
                            
                            dummy_177793 = head_res_180305;
                            dummy_177794 = head_res_180306;
                            dummy_177795 = head_res_180307;
                        } else {
                            bool y_177801 = slt64((int64_t) 0, j_m_i_177766);
                            bool index_certs_177802;
                            
                            if (!y_177801) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177803 = start_177532 + merge_sequential_arg2_177764;
                            int8_t head_res_177804 = ((int8_t *) mem_param_181608.mem)[slice_177803];
                            int64_t head_res_177805 = ((int64_t *) mem_param_181611.mem)[slice_177803];
                            int16_t head_res_177806 = ((int16_t *) mem_param_181614.mem)[slice_177803];
                            
                            dummy_177793 = head_res_177804;
                            dummy_177794 = head_res_177805;
                            dummy_177795 = head_res_177806;
                        }
                        for (int64_t nest_i_182362 = 0; nest_i_182362 < merge_block_sizze_177296; nest_i_182362++) {
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + nest_i_182362] = dummy_177793;
                        }
                        for (int64_t nest_i_182363 = 0; nest_i_182363 < merge_block_sizze_177296; nest_i_182363++) {
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + nest_i_182363] = dummy_177794;
                        }
                        for (int64_t nest_i_182364 = 0; nest_i_182364 < merge_block_sizze_177296; nest_i_182364++) {
                            ((int16_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + nest_i_182364] = dummy_177795;
                        }
                        
                        int64_t data_177810;
                        int64_t i_177815 = (int64_t) 0;
                        
                        for (int64_t k_177814 = 0; k_177814 < merge_block_sizze_177296; k_177814++) {
                            int64_t j_177819 = sub64(k_177814, i_177815);
                            bool cond_177820 = j_177819 == j_m_i_177766;
                            bool cond_177821;
                            
                            if (cond_177820) {
                                cond_177821 = 1;
                            } else {
                                bool cond_177822 = slt64(i_177815, j_m_i_177779);
                                bool cond_f_res_177823;
                                
                                if (cond_177822) {
                                    bool x_180308 = sle64((int64_t) 0, j_177819);
                                    bool y_180309 = slt64(j_177819, j_m_i_177766);
                                    bool bounds_check_180310 = x_180308 && y_180309;
                                    bool index_certs_180311;
                                    
                                    if (!bounds_check_180310) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180317 = sle64((int64_t) 0, i_177815);
                                    bool bounds_check_180318 = cond_177822 && x_180317;
                                    bool index_certs_180319;
                                    
                                    if (!bounds_check_180318) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180312 = merge_sequential_arg2_177764 + j_177819;
                                    int64_t slice_180313 = start_177532 + slice_180312;
                                    int8_t leq_arg1_180314 = ((int8_t *) mem_param_181608.mem)[slice_180313];
                                    int64_t leq_arg1_180315 = ((int64_t *) mem_param_181611.mem)[slice_180313];
                                    int16_t leq_arg1_180316 = ((int16_t *) mem_param_181614.mem)[slice_180313];
                                    int64_t slice_180320 = defunc_0_f_res_177755 + i_177815;
                                    int64_t slice_180321 = start_177532 + slice_180320;
                                    int8_t leq_arg0_180322 = ((int8_t *) mem_param_181608.mem)[slice_180321];
                                    int64_t leq_arg0_180323 = ((int64_t *) mem_param_181611.mem)[slice_180321];
                                    int16_t leq_arg0_180324 = ((int16_t *) mem_param_181614.mem)[slice_180321];
                                    bool cond_180325 = leq_arg0_180322 == leq_arg1_180314;
                                    bool defunc_0_leq_res_t_res_180326 = sle64(leq_arg0_180323, leq_arg1_180315);
                                    bool defunc_0_leq_res_180327 = sle16(leq_arg0_180324, leq_arg1_180316);
                                    bool x_180328 = cond_180325 && defunc_0_leq_res_t_res_180326;
                                    bool x_180329 = !cond_180325;
                                    bool y_180330 = defunc_0_leq_res_180327 && x_180329;
                                    bool defunc_0_leq_res_180331 = x_180328 || y_180330;
                                    
                                    cond_f_res_177823 = defunc_0_leq_res_180331;
                                } else {
                                    cond_f_res_177823 = 0;
                                }
                                cond_177821 = cond_f_res_177823;
                            }
                            
                            int64_t loopres_177848;
                            int8_t loopres_177849;
                            int64_t loopres_177850;
                            int16_t loopres_177851;
                            
                            if (cond_177821) {
                                bool x_180333 = sle64((int64_t) 0, i_177815);
                                bool y_180334 = slt64(i_177815, j_m_i_177779);
                                bool bounds_check_180335 = x_180333 && y_180334;
                                bool index_certs_180336;
                                
                                if (!bounds_check_180335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177815, "] out of bounds for array of shape [", (long long) j_m_i_177779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180332 = add64((int64_t) 1, i_177815);
                                int64_t slice_180337 = defunc_0_f_res_177755 + i_177815;
                                int64_t slice_180338 = start_177532 + slice_180337;
                                int8_t tmp_180339 = ((int8_t *) mem_param_181608.mem)[slice_180338];
                                int64_t tmp_180340 = ((int64_t *) mem_param_181611.mem)[slice_180338];
                                int16_t tmp_180341 = ((int16_t *) mem_param_181614.mem)[slice_180338];
                                
                                loopres_177848 = tmp_180332;
                                loopres_177849 = tmp_180339;
                                loopres_177850 = tmp_180340;
                                loopres_177851 = tmp_180341;
                            } else {
                                bool x_177862 = sle64((int64_t) 0, j_177819);
                                bool y_177863 = slt64(j_177819, j_m_i_177766);
                                bool bounds_check_177864 = x_177862 && y_177863;
                                bool index_certs_177865;
                                
                                if (!bounds_check_177864) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177819, "] out of bounds for array of shape [", (long long) j_m_i_177766, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177866 = merge_sequential_arg2_177764 + j_177819;
                                int64_t slice_177867 = start_177532 + slice_177866;
                                int8_t tmp_177868 = ((int8_t *) mem_param_181608.mem)[slice_177867];
                                int64_t tmp_177869 = ((int64_t *) mem_param_181611.mem)[slice_177867];
                                int16_t tmp_177870 = ((int16_t *) mem_param_181614.mem)[slice_177867];
                                
                                loopres_177848 = i_177815;
                                loopres_177849 = tmp_177868;
                                loopres_177850 = tmp_177869;
                                loopres_177851 = tmp_177870;
                            }
                            ((int8_t *) mem_181652)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177849;
                            ((int64_t *) mem_181655)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177850;
                            ((int16_t *) mem_181658)[i_180541 * merge_block_sizze_177296 + k_177814] = loopres_177851;
                            
                            int64_t i_tmp_182365 = loopres_177848;
                            
                            i_177815 = i_tmp_182365;
                        }
                        data_177810 = i_177815;
                    }
                    if (memblock_alloc(ctx, &mem_181707, flat_dim_177482, "mem_181707")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181707.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint8_t *) mem_181652, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181711, bytes_181654, "mem_181711")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181711.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint64_t *) mem_181655, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_alloc(ctx, &mem_181715, bytes_181657, "mem_181715")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181715.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (uint16_t *) mem_181658, (int64_t) 0, (int64_t []) {merge_block_sizze_177296, (int64_t) 1}, (int64_t []) {num_blocks_177479, merge_block_sizze_177296});
                    if (memblock_set(ctx, &ext_mem_181748, &mem_181707, "mem_181707") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181745, &mem_181711, "mem_181711") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181742, &mem_181715, "mem_181715") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181616, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181748.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181619, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181745.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181622, i_180551 * next_stride_177459, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181742.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177459});
                if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181762, bytes_181615, "mem_181762")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181762.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint8_t *) mem_181616, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181766, bytes_181618, "mem_181766")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181766.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint64_t *) mem_181619, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            if (memblock_alloc(ctx, &mem_181770, bytes_181621, "mem_181770")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181770.mem, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (uint16_t *) mem_181622, (int64_t) 0, (int64_t []) {next_stride_177459, (int64_t) 1}, (int64_t []) {num_merges_177463, next_stride_177459});
            
            bool loop_cond_177884 = slt64(next_stride_177459, flat_dim_177291);
            
            if (memblock_set(ctx, &mem_param_tmp_182332, &mem_181762, "mem_181762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182333, &mem_181766, "mem_181766") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182334, &mem_181770, "mem_181770") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182335 = bytes_181615;
            bool loop_while_tmp_182336 = loop_cond_177884;
            int64_t stride_tmp_182340 = next_stride_177459;
            
            if (memblock_set(ctx, &mem_param_181608, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181611, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181614, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
                return 1;
            loop_dz2084Uz2082U_177453 = loop_dz2084Uz2082U_tmp_182335;
            loop_while_177454 = loop_while_tmp_182336;
            stride_177458 = stride_tmp_182340;
        }
        if (memblock_set(ctx, &ext_mem_181780, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181779, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181778, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        data_177447 = loop_dz2084Uz2082U_177453;
        data_177448 = loop_while_177454;
        data_177452 = stride_177458;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177887 = slt64(zs_lhs_177275, data_177447);
        bool y_177888 = i_p_m_t_s_leq_w_177887 && zzero_leq_i_p_m_t_s_177901;
        bool ok_or_empty_177889 = y_177888 || empty_slice_177899;
        bool index_certs_177890;
        
        if (!ok_or_empty_177889) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177228, "] out of bounds for array of shape [", (long long) data_177447, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181789, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181786, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181783, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180698.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180700.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181786.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180702.mem, final_buffer_177906, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181783.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177907});
    if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180700, "mem_180700") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182112, &mem_180702, "mem_180702") != 0)
        return 1;
    prim_out_182113 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175185;
    if (memblock_set(ctx, &*mem_out_p_182650, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182651, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182652, &mem_out_182112, "mem_out_182112") != 0)
        return 1;
    *out_prim_out_182653 = prim_out_182113;
    
  cleanup:
    {
        free(mem_180713);
        free(mem_180715);
        free(mem_180754);
        free(mem_180757);
        free(mem_180760);
        free(mem_180773);
        free(mem_180775);
        free(mem_180777);
        free(mem_180874);
        free(mem_180877);
        free(mem_180880);
        free(mem_180894);
        free(mem_180896);
        free(mem_180910);
        free(mem_180913);
        free(mem_180916);
        free(mem_181058);
        free(mem_181060);
        free(mem_181075);
        free(mem_181077);
        free(mem_181080);
        free(mem_181083);
        free(mem_181117);
        free(mem_181120);
        free(mem_181123);
        free(mem_181136);
        free(mem_181138);
        free(mem_181140);
        free(mem_181237);
        free(mem_181240);
        free(mem_181243);
        free(mem_181257);
        free(mem_181259);
        free(mem_181273);
        free(mem_181276);
        free(mem_181279);
        free(mem_181496);
        free(mem_181499);
        free(mem_181502);
        free(mem_181515);
        free(mem_181517);
        free(mem_181519);
        free(mem_181616);
        free(mem_181619);
        free(mem_181622);
        free(mem_181636);
        free(mem_181638);
        free(mem_181652);
        free(mem_181655);
        free(mem_181658);
        if (memblock_unref(ctx, &mem_param_tmp_182334, "mem_param_tmp_182334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182333, "mem_param_tmp_182333") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182332, "mem_param_tmp_182332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181770, "mem_181770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181766, "mem_181766") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181762, "mem_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181715, "mem_181715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181711, "mem_181711") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181707, "mem_181707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181721, "mem_181721") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181717, "mem_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181742, "ext_mem_181742") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181745, "ext_mem_181745") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181748, "ext_mem_181748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181614, "mem_param_181614") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181611, "mem_param_181611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181608, "mem_param_181608") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181778, "ext_mem_181778") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181779, "ext_mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181780, "ext_mem_181780") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181604, "mem_181604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181600, "mem_181600") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181596, "mem_181596") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181783, "ext_mem_181783") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181786, "ext_mem_181786") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181789, "ext_mem_181789") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181494, "mem_181494") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181492, "mem_181492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181490, "mem_181490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182268, "mem_param_tmp_182268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182267, "mem_param_tmp_182267") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182266, "mem_param_tmp_182266") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181028, "mem_181028") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181024, "mem_181024") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180973, "mem_180973") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180969, "mem_180969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180965, "mem_180965") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180979, "mem_180979") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180977, "mem_180977") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181000, "ext_mem_181000") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181003, "ext_mem_181003") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181006, "ext_mem_181006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180872, "mem_param_180872") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180869, "mem_param_180869") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180866, "mem_param_180866") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181036, "ext_mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181037, "ext_mem_181037") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181038, "ext_mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180862, "mem_180862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180858, "mem_180858") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180854, "mem_180854") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181041, "ext_mem_181041") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180752, "mem_180752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180750, "mem_180750") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180748, "mem_180748") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180732, "mem_180732") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180730, "mem_180730") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180728, "mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181439, "mem_181439") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181438, "mem_181438") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181436, "mem_181436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182174, "mem_param_tmp_182174") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182173, "mem_param_tmp_182173") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182172, "mem_param_tmp_182172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181391, "mem_181391") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181387, "mem_181387") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181383, "mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181336, "mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181332, "mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181328, "mem_181328") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181342, "mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181340, "mem_181340") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181338, "mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181366, "ext_mem_181366") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181369, "ext_mem_181369") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181235, "mem_param_181235") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181232, "mem_param_181232") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181229, "mem_param_181229") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181399, "ext_mem_181399") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181400, "ext_mem_181400") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181401, "ext_mem_181401") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181225, "mem_181225") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181221, "mem_181221") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181217, "mem_181217") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181404, "ext_mem_181404") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181407, "ext_mem_181407") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181410, "ext_mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181115, "mem_181115") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181113, "mem_181113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181111, "mem_181111") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181460, "ext_mem_181460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181463, "ext_mem_181463") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181466, "ext_mem_181466") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180702, "mem_180702") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180700, "mem_180700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182112, "mem_out_182112") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_182704, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_109462, int64_t incr_109463, int64_t block_sizze_109464)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180731;
    
    mem_180731.references = NULL;
    
    struct memblock mem_param_tmp_182114;
    
    mem_param_tmp_182114.references = NULL;
    
    struct memblock mem_param_tmp_182113;
    
    mem_param_tmp_182113.references = NULL;
    
    struct memblock mem_180717;
    
    mem_180717.references = NULL;
    
    struct memblock mem_180715;
    
    mem_180715.references = NULL;
    
    struct memblock mem_param_180713;
    
    mem_param_180713.references = NULL;
    
    struct memblock mem_param_180710;
    
    mem_param_180710.references = NULL;
    
    struct memblock ext_mem_180728;
    
    ext_mem_180728.references = NULL;
    
    struct memblock ext_mem_180729;
    
    ext_mem_180729.references = NULL;
    
    struct memblock mem_180707;
    
    mem_180707.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_109462;
    bool zzero_164199 = block_sizze_109464 == (int64_t) 0;
    bool nonzzero_164200 = !zzero_164199;
    bool nonzzero_cert_164201;
    
    if (!nonzzero_164200) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180358 = 0; i_180358 < n_109462; i_180358++) {
        int64_t eta_p_164195 = ((int64_t *) is_mem_180696.mem)[i_180358];
        int64_t lifted_lambda_res_164196 = sub64(eta_p_164195, incr_109463);
        
        ((int64_t *) mem_180699.mem)[i_180358] = lifted_lambda_res_164196;
    }
    
    int64_t zm_lhs_164197 = add64(n_109462, block_sizze_109464);
    int64_t zs_lhs_164198 = sub64(zm_lhs_164197, (int64_t) 1);
    int64_t m_164202 = sdiv64(zs_lhs_164198, block_sizze_109464);
    
    if (memblock_alloc(ctx, &mem_180707, bytes_180698, "mem_180707")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182112 = 0; nest_i_182112 < n_109462; nest_i_182112++) {
        ((double *) mem_180707.mem)[nest_i_182112] = 0.0;
    }
    
    bool loop_cond_164204 = slt64((int64_t) 0, m_164202);
    bool partitioned_gather_res_164205;
    int64_t partitioned_gather_res_164208;
    bool loop_while_164209;
    int64_t p_164212;
    
    if (memblock_set(ctx, &mem_param_180710, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180713, &mem_180707, "mem_180707") != 0)
        return 1;
    loop_while_164209 = loop_cond_164204;
    p_164212 = (int64_t) 0;
    while (loop_while_164209) {
        int64_t lower_bound_164213 = mul64(block_sizze_109464, p_164212);
        int64_t min_arg1_164214 = add64(block_sizze_109464, lower_bound_164213);
        int64_t min_res_164215 = smin64(n_109462, min_arg1_164214);
        
        if (memblock_alloc(ctx, &mem_180715, bytes_180698, "mem_180715")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180715.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_180710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109462});
        if (memblock_alloc(ctx, &mem_180717, bytes_180698, "mem_180717")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180362 = 0; i_180362 < n_109462; i_180362++) {
            int64_t eta_p_164218 = ((int64_t *) mem_param_180710.mem)[i_180362];
            double eta_p_164219 = ((double *) mem_param_180713.mem)[i_180362];
            bool cond_164220 = sle64(lower_bound_164213, eta_p_164218);
            bool cond_t_res_164221 = slt64(eta_p_164218, min_res_164215);
            bool x_164222 = cond_164220 && cond_t_res_164221;
            double lifted_lambda_res_164223;
            
            if (x_164222) {
                bool x_178208 = sle64((int64_t) 0, eta_p_164218);
                bool y_178209 = slt64(eta_p_164218, n_109462);
                bool bounds_check_178210 = x_178208 && y_178209;
                bool index_certs_178211;
                
                if (!bounds_check_178210) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_164218, "] out of bounds for array of shape [", (long long) n_109462, "].", "-> #0  ftbasics.fut:49:92-97\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:49:30-111\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:63:1-65:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double tmp_178212 = ((double *) ys_mem_180697.mem)[eta_p_164218];
                
                lifted_lambda_res_164223 = tmp_178212;
            } else {
                lifted_lambda_res_164223 = eta_p_164219;
            }
            ((double *) mem_180717.mem)[i_180362] = lifted_lambda_res_164223;
        }
        
        int64_t tmp_164229 = add64((int64_t) 1, p_164212);
        bool loop_cond_164230 = slt64(tmp_164229, m_164202);
        
        if (memblock_set(ctx, &mem_param_tmp_182113, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182114, &mem_180717, "mem_180717") != 0)
            return 1;
        
        bool loop_while_tmp_182115 = loop_cond_164230;
        int64_t p_tmp_182118 = tmp_164229;
        
        if (memblock_set(ctx, &mem_param_180710, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180713, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        loop_while_164209 = loop_while_tmp_182115;
        p_164212 = p_tmp_182118;
    }
    if (memblock_set(ctx, &ext_mem_180729, &mem_param_180710, "mem_param_180710") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180728, &mem_param_180713, "mem_param_180713") != 0)
        return 1;
    partitioned_gather_res_164205 = loop_while_164209;
    partitioned_gather_res_164208 = p_164212;
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180731, bytes_180698, "mem_180731")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180731.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109462});
    if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180731, "mem_180731") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182704, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180731, "mem_180731") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180717, "mem_180717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180713, "mem_param_180713") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180710, "mem_param_180710") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180729, "ext_mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_182705, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_109162, int64_t incr_109163, int64_t block_sizze_109164)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180731;
    
    mem_180731.references = NULL;
    
    struct memblock mem_param_tmp_182114;
    
    mem_param_tmp_182114.references = NULL;
    
    struct memblock mem_param_tmp_182113;
    
    mem_param_tmp_182113.references = NULL;
    
    struct memblock mem_180717;
    
    mem_180717.references = NULL;
    
    struct memblock mem_180715;
    
    mem_180715.references = NULL;
    
    struct memblock mem_param_180713;
    
    mem_param_180713.references = NULL;
    
    struct memblock mem_param_180710;
    
    mem_param_180710.references = NULL;
    
    struct memblock ext_mem_180728;
    
    ext_mem_180728.references = NULL;
    
    struct memblock ext_mem_180729;
    
    ext_mem_180729.references = NULL;
    
    struct memblock mem_180707;
    
    mem_180707.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_109162;
    bool zzero_164199 = block_sizze_109164 == (int64_t) 0;
    bool nonzzero_164200 = !zzero_164199;
    bool nonzzero_cert_164201;
    
    if (!nonzzero_164200) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180706 = (int64_t) 4 * n_109162;
    
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180358 = 0; i_180358 < n_109162; i_180358++) {
        int64_t eta_p_164195 = ((int64_t *) is_mem_180696.mem)[i_180358];
        int64_t lifted_lambda_res_164196 = sub64(eta_p_164195, incr_109163);
        
        ((int64_t *) mem_180699.mem)[i_180358] = lifted_lambda_res_164196;
    }
    
    int64_t zm_lhs_164197 = add64(n_109162, block_sizze_109164);
    int64_t zs_lhs_164198 = sub64(zm_lhs_164197, (int64_t) 1);
    int64_t m_164202 = sdiv64(zs_lhs_164198, block_sizze_109164);
    
    if (memblock_alloc(ctx, &mem_180707, bytes_180706, "mem_180707")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182112 = 0; nest_i_182112 < n_109162; nest_i_182112++) {
        ((float *) mem_180707.mem)[nest_i_182112] = 0.0F;
    }
    
    bool loop_cond_164204 = slt64((int64_t) 0, m_164202);
    bool partitioned_gather_res_164205;
    int64_t partitioned_gather_res_164208;
    bool loop_while_164209;
    int64_t p_164212;
    
    if (memblock_set(ctx, &mem_param_180710, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180713, &mem_180707, "mem_180707") != 0)
        return 1;
    loop_while_164209 = loop_cond_164204;
    p_164212 = (int64_t) 0;
    while (loop_while_164209) {
        int64_t lower_bound_164213 = mul64(block_sizze_109164, p_164212);
        int64_t min_arg1_164214 = add64(block_sizze_109164, lower_bound_164213);
        int64_t min_res_164215 = smin64(n_109162, min_arg1_164214);
        
        if (memblock_alloc(ctx, &mem_180715, bytes_180698, "mem_180715")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180715.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_180710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109162});
        if (memblock_alloc(ctx, &mem_180717, bytes_180706, "mem_180717")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180362 = 0; i_180362 < n_109162; i_180362++) {
            int64_t eta_p_164218 = ((int64_t *) mem_param_180710.mem)[i_180362];
            float eta_p_164219 = ((float *) mem_param_180713.mem)[i_180362];
            bool cond_164220 = sle64(lower_bound_164213, eta_p_164218);
            bool cond_t_res_164221 = slt64(eta_p_164218, min_res_164215);
            bool x_164222 = cond_164220 && cond_t_res_164221;
            float lifted_lambda_res_164223;
            
            if (x_164222) {
                bool x_178208 = sle64((int64_t) 0, eta_p_164218);
                bool y_178209 = slt64(eta_p_164218, n_109162);
                bool bounds_check_178210 = x_178208 && y_178209;
                bool index_certs_178211;
                
                if (!bounds_check_178210) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_164218, "] out of bounds for array of shape [", (long long) n_109162, "].", "-> #0  ftbasics.fut:49:92-97\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:49:30-111\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:59:1-61:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float tmp_178212 = ((float *) ys_mem_180697.mem)[eta_p_164218];
                
                lifted_lambda_res_164223 = tmp_178212;
            } else {
                lifted_lambda_res_164223 = eta_p_164219;
            }
            ((float *) mem_180717.mem)[i_180362] = lifted_lambda_res_164223;
        }
        
        int64_t tmp_164229 = add64((int64_t) 1, p_164212);
        bool loop_cond_164230 = slt64(tmp_164229, m_164202);
        
        if (memblock_set(ctx, &mem_param_tmp_182113, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182114, &mem_180717, "mem_180717") != 0)
            return 1;
        
        bool loop_while_tmp_182115 = loop_cond_164230;
        int64_t p_tmp_182118 = tmp_164229;
        
        if (memblock_set(ctx, &mem_param_180710, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180713, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        loop_while_164209 = loop_while_tmp_182115;
        p_164212 = p_tmp_182118;
    }
    if (memblock_set(ctx, &ext_mem_180729, &mem_param_180710, "mem_param_180710") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180728, &mem_param_180713, "mem_param_180713") != 0)
        return 1;
    partitioned_gather_res_164205 = loop_while_164209;
    partitioned_gather_res_164208 = p_164212;
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180731, bytes_180706, "mem_180731")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180731.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109162});
    if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180731, "mem_180731") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182705, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180731, "mem_180731") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180717, "mem_180717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180713, "mem_param_180713") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180710, "mem_param_180710") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180729, "ext_mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_182706, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108566, int64_t incr_108567, int64_t block_sizze_108568)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180731;
    
    mem_180731.references = NULL;
    
    struct memblock mem_param_tmp_182114;
    
    mem_param_tmp_182114.references = NULL;
    
    struct memblock mem_param_tmp_182113;
    
    mem_param_tmp_182113.references = NULL;
    
    struct memblock mem_180717;
    
    mem_180717.references = NULL;
    
    struct memblock mem_180715;
    
    mem_180715.references = NULL;
    
    struct memblock mem_param_180713;
    
    mem_param_180713.references = NULL;
    
    struct memblock mem_param_180710;
    
    mem_param_180710.references = NULL;
    
    struct memblock ext_mem_180728;
    
    ext_mem_180728.references = NULL;
    
    struct memblock ext_mem_180729;
    
    ext_mem_180729.references = NULL;
    
    struct memblock mem_180707;
    
    mem_180707.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_108566;
    bool zzero_164199 = block_sizze_108568 == (int64_t) 0;
    bool nonzzero_164200 = !zzero_164199;
    bool nonzzero_cert_164201;
    
    if (!nonzzero_164200) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180706 = (int64_t) 4 * n_108566;
    
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180358 = 0; i_180358 < n_108566; i_180358++) {
        int64_t eta_p_164195 = ((int64_t *) is_mem_180696.mem)[i_180358];
        int64_t lifted_lambda_res_164196 = sub64(eta_p_164195, incr_108567);
        
        ((int64_t *) mem_180699.mem)[i_180358] = lifted_lambda_res_164196;
    }
    
    int64_t zm_lhs_164197 = add64(n_108566, block_sizze_108568);
    int64_t zs_lhs_164198 = sub64(zm_lhs_164197, (int64_t) 1);
    int64_t m_164202 = sdiv64(zs_lhs_164198, block_sizze_108568);
    
    if (memblock_alloc(ctx, &mem_180707, bytes_180706, "mem_180707")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182112 = 0; nest_i_182112 < n_108566; nest_i_182112++) {
        ((int32_t *) mem_180707.mem)[nest_i_182112] = 0;
    }
    
    bool loop_cond_164204 = slt64((int64_t) 0, m_164202);
    bool partitioned_gather_res_164205;
    int64_t partitioned_gather_res_164208;
    bool loop_while_164209;
    int64_t p_164212;
    
    if (memblock_set(ctx, &mem_param_180710, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180713, &mem_180707, "mem_180707") != 0)
        return 1;
    loop_while_164209 = loop_cond_164204;
    p_164212 = (int64_t) 0;
    while (loop_while_164209) {
        int64_t lower_bound_164213 = mul64(block_sizze_108568, p_164212);
        int64_t min_arg1_164214 = add64(block_sizze_108568, lower_bound_164213);
        int64_t min_res_164215 = smin64(n_108566, min_arg1_164214);
        
        if (memblock_alloc(ctx, &mem_180715, bytes_180698, "mem_180715")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180715.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_180710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108566});
        if (memblock_alloc(ctx, &mem_180717, bytes_180706, "mem_180717")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180362 = 0; i_180362 < n_108566; i_180362++) {
            int64_t eta_p_164218 = ((int64_t *) mem_param_180710.mem)[i_180362];
            int32_t eta_p_164219 = ((int32_t *) mem_param_180713.mem)[i_180362];
            bool cond_164220 = sle64(lower_bound_164213, eta_p_164218);
            bool cond_t_res_164221 = slt64(eta_p_164218, min_res_164215);
            bool x_164222 = cond_164220 && cond_t_res_164221;
            int32_t lifted_lambda_res_164223;
            
            if (x_164222) {
                bool x_178208 = sle64((int64_t) 0, eta_p_164218);
                bool y_178209 = slt64(eta_p_164218, n_108566);
                bool bounds_check_178210 = x_178208 && y_178209;
                bool index_certs_178211;
                
                if (!bounds_check_178210) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_164218, "] out of bounds for array of shape [", (long long) n_108566, "].", "-> #0  ftbasics.fut:49:92-97\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:49:30-111\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:51:1-53:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t tmp_178212 = ((int32_t *) ys_mem_180697.mem)[eta_p_164218];
                
                lifted_lambda_res_164223 = tmp_178212;
            } else {
                lifted_lambda_res_164223 = eta_p_164219;
            }
            ((int32_t *) mem_180717.mem)[i_180362] = lifted_lambda_res_164223;
        }
        
        int64_t tmp_164229 = add64((int64_t) 1, p_164212);
        bool loop_cond_164230 = slt64(tmp_164229, m_164202);
        
        if (memblock_set(ctx, &mem_param_tmp_182113, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182114, &mem_180717, "mem_180717") != 0)
            return 1;
        
        bool loop_while_tmp_182115 = loop_cond_164230;
        int64_t p_tmp_182118 = tmp_164229;
        
        if (memblock_set(ctx, &mem_param_180710, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180713, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        loop_while_164209 = loop_while_tmp_182115;
        p_164212 = p_tmp_182118;
    }
    if (memblock_set(ctx, &ext_mem_180729, &mem_param_180710, "mem_param_180710") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180728, &mem_param_180713, "mem_param_180713") != 0)
        return 1;
    partitioned_gather_res_164205 = loop_while_164209;
    partitioned_gather_res_164208 = p_164212;
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180731, bytes_180706, "mem_180731")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180731.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108566});
    if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180731, "mem_180731") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182706, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180731, "mem_180731") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180717, "mem_180717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180713, "mem_param_180713") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180710, "mem_param_180710") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180729, "ext_mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_182707, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108862, int64_t incr_108863, int64_t block_sizze_108864)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180731;
    
    mem_180731.references = NULL;
    
    struct memblock mem_param_tmp_182114;
    
    mem_param_tmp_182114.references = NULL;
    
    struct memblock mem_param_tmp_182113;
    
    mem_param_tmp_182113.references = NULL;
    
    struct memblock mem_180717;
    
    mem_180717.references = NULL;
    
    struct memblock mem_180715;
    
    mem_180715.references = NULL;
    
    struct memblock mem_param_180713;
    
    mem_param_180713.references = NULL;
    
    struct memblock mem_param_180710;
    
    mem_param_180710.references = NULL;
    
    struct memblock ext_mem_180728;
    
    ext_mem_180728.references = NULL;
    
    struct memblock ext_mem_180729;
    
    ext_mem_180729.references = NULL;
    
    struct memblock mem_180707;
    
    mem_180707.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_108862;
    bool zzero_164199 = block_sizze_108864 == (int64_t) 0;
    bool nonzzero_164200 = !zzero_164199;
    bool nonzzero_cert_164201;
    
    if (!nonzzero_164200) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180358 = 0; i_180358 < n_108862; i_180358++) {
        int64_t eta_p_164195 = ((int64_t *) is_mem_180696.mem)[i_180358];
        int64_t lifted_lambda_res_164196 = sub64(eta_p_164195, incr_108863);
        
        ((int64_t *) mem_180699.mem)[i_180358] = lifted_lambda_res_164196;
    }
    
    int64_t zm_lhs_164197 = add64(n_108862, block_sizze_108864);
    int64_t zs_lhs_164198 = sub64(zm_lhs_164197, (int64_t) 1);
    int64_t m_164202 = sdiv64(zs_lhs_164198, block_sizze_108864);
    
    if (memblock_alloc(ctx, &mem_180707, bytes_180698, "mem_180707")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182112 = 0; nest_i_182112 < n_108862; nest_i_182112++) {
        ((int64_t *) mem_180707.mem)[nest_i_182112] = (int64_t) 0;
    }
    
    bool loop_cond_164204 = slt64((int64_t) 0, m_164202);
    bool partitioned_gather_res_164205;
    int64_t partitioned_gather_res_164208;
    bool loop_while_164209;
    int64_t p_164212;
    
    if (memblock_set(ctx, &mem_param_180710, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180713, &mem_180707, "mem_180707") != 0)
        return 1;
    loop_while_164209 = loop_cond_164204;
    p_164212 = (int64_t) 0;
    while (loop_while_164209) {
        int64_t lower_bound_164213 = mul64(block_sizze_108864, p_164212);
        int64_t min_arg1_164214 = add64(block_sizze_108864, lower_bound_164213);
        int64_t min_res_164215 = smin64(n_108862, min_arg1_164214);
        
        if (memblock_alloc(ctx, &mem_180715, bytes_180698, "mem_180715")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180715.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_180710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108862});
        if (memblock_alloc(ctx, &mem_180717, bytes_180698, "mem_180717")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180362 = 0; i_180362 < n_108862; i_180362++) {
            int64_t eta_p_164218 = ((int64_t *) mem_param_180710.mem)[i_180362];
            int64_t eta_p_164219 = ((int64_t *) mem_param_180713.mem)[i_180362];
            bool cond_164220 = sle64(lower_bound_164213, eta_p_164218);
            bool cond_t_res_164221 = slt64(eta_p_164218, min_res_164215);
            bool x_164222 = cond_164220 && cond_t_res_164221;
            int64_t lifted_lambda_res_164223;
            
            if (x_164222) {
                bool x_178208 = sle64((int64_t) 0, eta_p_164218);
                bool y_178209 = slt64(eta_p_164218, n_108862);
                bool bounds_check_178210 = x_178208 && y_178209;
                bool index_certs_178211;
                
                if (!bounds_check_178210) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_164218, "] out of bounds for array of shape [", (long long) n_108862, "].", "-> #0  ftbasics.fut:49:92-97\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:49:30-111\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:55:1-57:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t tmp_178212 = ((int64_t *) ys_mem_180697.mem)[eta_p_164218];
                
                lifted_lambda_res_164223 = tmp_178212;
            } else {
                lifted_lambda_res_164223 = eta_p_164219;
            }
            ((int64_t *) mem_180717.mem)[i_180362] = lifted_lambda_res_164223;
        }
        
        int64_t tmp_164229 = add64((int64_t) 1, p_164212);
        bool loop_cond_164230 = slt64(tmp_164229, m_164202);
        
        if (memblock_set(ctx, &mem_param_tmp_182113, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182114, &mem_180717, "mem_180717") != 0)
            return 1;
        
        bool loop_while_tmp_182115 = loop_cond_164230;
        int64_t p_tmp_182118 = tmp_164229;
        
        if (memblock_set(ctx, &mem_param_180710, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180713, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        loop_while_164209 = loop_while_tmp_182115;
        p_164212 = p_tmp_182118;
    }
    if (memblock_set(ctx, &ext_mem_180729, &mem_param_180710, "mem_param_180710") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180728, &mem_param_180713, "mem_param_180713") != 0)
        return 1;
    partitioned_gather_res_164205 = loop_while_164209;
    partitioned_gather_res_164208 = p_164212;
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180731, bytes_180698, "mem_180731")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180731.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108862});
    if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180731, "mem_180731") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182707, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180731, "mem_180731") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180717, "mem_180717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180713, "mem_param_180713") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180710, "mem_param_180710") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180729, "ext_mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_182708, struct memblock is_mem_180696, struct memblock ys_mem_180697, int64_t n_108266, int64_t incr_108267, int64_t block_sizze_108268)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180731;
    
    mem_180731.references = NULL;
    
    struct memblock mem_param_tmp_182114;
    
    mem_param_tmp_182114.references = NULL;
    
    struct memblock mem_param_tmp_182113;
    
    mem_param_tmp_182113.references = NULL;
    
    struct memblock mem_180717;
    
    mem_180717.references = NULL;
    
    struct memblock mem_180715;
    
    mem_180715.references = NULL;
    
    struct memblock mem_param_180713;
    
    mem_param_180713.references = NULL;
    
    struct memblock mem_param_180710;
    
    mem_param_180710.references = NULL;
    
    struct memblock ext_mem_180728;
    
    ext_mem_180728.references = NULL;
    
    struct memblock ext_mem_180729;
    
    ext_mem_180729.references = NULL;
    
    struct memblock mem_180707;
    
    mem_180707.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t bytes_180698 = (int64_t) 8 * n_108266;
    bool zzero_164199 = block_sizze_108268 == (int64_t) 0;
    bool nonzzero_164200 = !zzero_164199;
    bool nonzzero_cert_164201;
    
    if (!nonzzero_164200) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180706 = (int64_t) 2 * n_108266;
    
    if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180358 = 0; i_180358 < n_108266; i_180358++) {
        int64_t eta_p_164195 = ((int64_t *) is_mem_180696.mem)[i_180358];
        int64_t lifted_lambda_res_164196 = sub64(eta_p_164195, incr_108267);
        
        ((int64_t *) mem_180699.mem)[i_180358] = lifted_lambda_res_164196;
    }
    
    int64_t zm_lhs_164197 = add64(n_108266, block_sizze_108268);
    int64_t zs_lhs_164198 = sub64(zm_lhs_164197, (int64_t) 1);
    int64_t m_164202 = sdiv64(zs_lhs_164198, block_sizze_108268);
    
    if (memblock_alloc(ctx, &mem_180707, bytes_180706, "mem_180707")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182112 = 0; nest_i_182112 < n_108266; nest_i_182112++) {
        ((int16_t *) mem_180707.mem)[nest_i_182112] = (int16_t) 0;
    }
    
    bool loop_cond_164204 = slt64((int64_t) 0, m_164202);
    bool partitioned_gather_res_164205;
    int64_t partitioned_gather_res_164208;
    bool loop_while_164209;
    int64_t p_164212;
    
    if (memblock_set(ctx, &mem_param_180710, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_180713, &mem_180707, "mem_180707") != 0)
        return 1;
    loop_while_164209 = loop_cond_164204;
    p_164212 = (int64_t) 0;
    while (loop_while_164209) {
        int64_t lower_bound_164213 = mul64(block_sizze_108268, p_164212);
        int64_t min_arg1_164214 = add64(block_sizze_108268, lower_bound_164213);
        int64_t min_res_164215 = smin64(n_108266, min_arg1_164214);
        
        if (memblock_alloc(ctx, &mem_180715, bytes_180698, "mem_180715")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180715.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_180710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108266});
        if (memblock_alloc(ctx, &mem_180717, bytes_180706, "mem_180717")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180362 = 0; i_180362 < n_108266; i_180362++) {
            int64_t eta_p_164218 = ((int64_t *) mem_param_180710.mem)[i_180362];
            int16_t eta_p_164219 = ((int16_t *) mem_param_180713.mem)[i_180362];
            bool cond_164220 = sle64(lower_bound_164213, eta_p_164218);
            bool cond_t_res_164221 = slt64(eta_p_164218, min_res_164215);
            bool x_164222 = cond_164220 && cond_t_res_164221;
            int16_t lifted_lambda_res_164223;
            
            if (x_164222) {
                bool x_178208 = sle64((int64_t) 0, eta_p_164218);
                bool y_178209 = slt64(eta_p_164218, n_108266);
                bool bounds_check_178210 = x_178208 && y_178209;
                bool index_certs_178211;
                
                if (!bounds_check_178210) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_164218, "] out of bounds for array of shape [", (long long) n_108266, "].", "-> #0  ftbasics.fut:49:92-97\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:49:30-111\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:47:1-49:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t tmp_178212 = ((int16_t *) ys_mem_180697.mem)[eta_p_164218];
                
                lifted_lambda_res_164223 = tmp_178212;
            } else {
                lifted_lambda_res_164223 = eta_p_164219;
            }
            ((int16_t *) mem_180717.mem)[i_180362] = lifted_lambda_res_164223;
        }
        
        int64_t tmp_164229 = add64((int64_t) 1, p_164212);
        bool loop_cond_164230 = slt64(tmp_164229, m_164202);
        
        if (memblock_set(ctx, &mem_param_tmp_182113, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182114, &mem_180717, "mem_180717") != 0)
            return 1;
        
        bool loop_while_tmp_182115 = loop_cond_164230;
        int64_t p_tmp_182118 = tmp_164229;
        
        if (memblock_set(ctx, &mem_param_180710, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180713, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        loop_while_164209 = loop_while_tmp_182115;
        p_164212 = p_tmp_182118;
    }
    if (memblock_set(ctx, &ext_mem_180729, &mem_param_180710, "mem_param_180710") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_180728, &mem_param_180713, "mem_param_180713") != 0)
        return 1;
    partitioned_gather_res_164205 = loop_while_164209;
    partitioned_gather_res_164208 = p_164212;
    if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180731, bytes_180706, "mem_180731")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180731.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180728.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108266});
    if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180731, "mem_180731") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182708, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180731, "mem_180731") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182114, "mem_param_tmp_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182113, "mem_param_tmp_182113") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180717, "mem_180717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180715, "mem_180715") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180713, "mem_param_180713") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180710, "mem_param_180710") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180728, "ext_mem_180728") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180729, "ext_mem_180729") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180707, "mem_180707") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182709, struct memblock *mem_out_p_182710, struct memblock xs_mem_180696, int64_t n_96133, int64_t incr_96134, int16_t block_sizze_96135)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180699_cached_sizze_182711 = 0;
    unsigned char *mem_180699 = NULL;
    int64_t mem_180701_cached_sizze_182712 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180709_cached_sizze_182713 = 0;
    unsigned char *mem_180709 = NULL;
    int64_t mem_180711_cached_sizze_182714 = 0;
    unsigned char *mem_180711 = NULL;
    int64_t mem_180713_cached_sizze_182715 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182716 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182717 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180749_cached_sizze_182718 = 0;
    unsigned char *mem_180749 = NULL;
    int64_t mem_180751_cached_sizze_182719 = 0;
    unsigned char *mem_180751 = NULL;
    int64_t mem_180764_cached_sizze_182720 = 0;
    unsigned char *mem_180764 = NULL;
    int64_t mem_180765_cached_sizze_182721 = 0;
    unsigned char *mem_180765 = NULL;
    int64_t mem_180772_cached_sizze_182722 = 0;
    unsigned char *mem_180772 = NULL;
    int64_t mem_180775_cached_sizze_182723 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180778_cached_sizze_182724 = 0;
    unsigned char *mem_180778 = NULL;
    int64_t mem_180781_cached_sizze_182725 = 0;
    unsigned char *mem_180781 = NULL;
    int64_t mem_180784_cached_sizze_182726 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180806_cached_sizze_182727 = 0;
    unsigned char *mem_180806 = NULL;
    int64_t mem_180808_cached_sizze_182728 = 0;
    unsigned char *mem_180808 = NULL;
    int64_t mem_180810_cached_sizze_182729 = 0;
    unsigned char *mem_180810 = NULL;
    int64_t mem_180812_cached_sizze_182730 = 0;
    unsigned char *mem_180812 = NULL;
    int64_t mem_180814_cached_sizze_182731 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180857_cached_sizze_182732 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180858_cached_sizze_182733 = 0;
    unsigned char *mem_180858 = NULL;
    int64_t mem_180883_cached_sizze_182734 = 0;
    unsigned char *mem_180883 = NULL;
    int64_t mem_180891_cached_sizze_182735 = 0;
    unsigned char *mem_180891 = NULL;
    struct memblock mem_180919;
    
    mem_180919.references = NULL;
    
    struct memblock mem_180917;
    
    mem_180917.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    bool cond_171430 = n_96133 == (int64_t) 0;
    int32_t iters_171431;
    
    if (cond_171430) {
        iters_171431 = 0;
    } else {
        iters_171431 = 32;
    }
    
    int64_t i16_res_171432 = sext_i16_i64(block_sizze_96135);
    bool zzero_171433 = i16_res_171432 == (int64_t) 0;
    bool nonzzero_171434 = !zzero_171433;
    bool nonzzero_cert_171435;
    
    if (!nonzzero_171434) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171436 = sdiv64(n_96133, i16_res_171432);
    int64_t rest_171437 = smod64(n_96133, i16_res_171432);
    int64_t arg_171438 = mul64(i16_res_171432, n_blocks_171436);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439 = add64(rest_171437, arg_171438);
    bool dim_match_171440 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439 == n_96133;
    bool empty_or_match_cert_171441;
    
    if (!dim_match_171440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_96133, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:215:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180698 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439;
    bool loop_nonempty_171445 = slt32(0, iters_171431);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 = add64((int64_t) 1, n_blocks_171436);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
    bool empty_slice_171448 = arg_171438 == (int64_t) 0;
    int64_t m_171449 = sub64(arg_171438, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171450 = sle64((int64_t) 0, m_171449);
    bool i_p_m_t_s_leq_w_171451 = slt64(m_171449, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool i_lte_j_171452 = sle64((int64_t) 0, arg_171438);
    bool y_171453 = zzero_leq_i_p_m_t_s_171450 && i_p_m_t_s_leq_w_171451;
    bool forwards_ok_171454 = i_lte_j_171452 && y_171453;
    bool ok_or_empty_171455 = empty_slice_171448 || forwards_ok_171454;
    bool loop_not_taken_171456 = !loop_nonempty_171445;
    bool protect_assert_disj_171457 = ok_or_empty_171455 || loop_not_taken_171456;
    bool index_certs_171458;
    
    if (!protect_assert_disj_171457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171438, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171459 = rest_171437 == (int64_t) 0;
    int64_t m_171460 = sub64(rest_171437, (int64_t) 1);
    int64_t i_p_m_t_s_171461 = add64(arg_171438, m_171460);
    bool zzero_leq_i_p_m_t_s_171462 = sle64((int64_t) 0, i_p_m_t_s_171461);
    bool i_p_m_t_s_leq_w_171463 = slt64(i_p_m_t_s_171461, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool i_lte_j_171464 = sle64(arg_171438, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool y_171465 = zzero_leq_i_p_m_t_s_171462 && i_p_m_t_s_leq_w_171463;
    bool forwards_ok_171466 = i_lte_j_171464 && y_171465;
    bool ok_or_empty_171467 = empty_slice_171459 || forwards_ok_171466;
    bool protect_assert_disj_171468 = loop_not_taken_171456 || ok_or_empty_171467;
    bool index_certs_171469;
    
    if (!protect_assert_disj_171468) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171438, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171470 = sle64((int64_t) 0, n_blocks_171436);
    bool binop_y_171471 = sle64((int64_t) 0, i16_res_171432);
    bool binop_y_171472 = binop_x_171470 && binop_y_171471;
    bool protect_assert_disj_171473 = loop_not_taken_171456 || binop_y_171472;
    bool dim_ok_cert_171474;
    
    if (!protect_assert_disj_171473) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171438, "] to array of shape [", (long long) n_blocks_171436, "][", (long long) i16_res_171432, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171475 = sub64(i16_res_171432, (int64_t) 1);
    bool x_171476 = sle64((int64_t) 0, tmp_171475);
    bool y_171477 = slt64(tmp_171475, i16_res_171432);
    bool bounds_check_171478 = x_171476 && y_171477;
    bool protect_assert_disj_171479 = zzero_171433 || bounds_check_171478;
    bool protect_assert_disj_171480 = loop_not_taken_171456 || protect_assert_disj_171479;
    bool index_certs_171481;
    
    if (!protect_assert_disj_171480) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171475, "] out of bounds for array of shape [", (long long) i16_res_171432, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171483 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447);
    bool protect_assert_disj_171484 = loop_not_taken_171456 || y_171483;
    bool index_certs_171485;
    
    if (!protect_assert_disj_171484) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171487 = nonzzero_171434 || loop_not_taken_171456;
    bool nonzzero_cert_171488;
    
    if (!protect_assert_disj_171487) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171489 = sle64((int64_t) 0, m_171460);
    bool y_171490 = slt64(m_171460, rest_171437);
    bool bounds_check_171491 = x_171489 && y_171490;
    bool protect_assert_disj_171492 = empty_slice_171459 || bounds_check_171491;
    bool protect_assert_disj_171493 = loop_not_taken_171456 || protect_assert_disj_171492;
    bool index_certs_171494;
    
    if (!protect_assert_disj_171493) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171460, "] out of bounds for array of shape [", (long long) rest_171437, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180708 = (int64_t) 2 * rest_171437;
    int64_t bytes_180748 = (int64_t) 8 * rest_171437;
    int64_t binop_x_180773 = (int64_t) 8 * n_blocks_171436;
    int64_t bytes_180774 = i16_res_171432 * binop_x_180773;
    int64_t bytes_180780 = (int64_t) 32 * n_blocks_171436;
    int64_t bytes_180805 = (int64_t) 2 * i16_res_171432;
    int64_t bytes_180882 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446;
    bool dim_match_171767 = n_96133 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439;
    bool empty_or_match_cert_171768;
    
    if (!dim_match_171767) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "] cannot match shape of type `[", (long long) n_96133, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180916 = (int64_t) 8 * n_96133;
    
    if (futrts_indicesWithIncrement_9602(ctx, &ext_mem_180697, xs_mem_180696, n_96133, incr_96134) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180699_cached_sizze_182711 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180699, &mem_180699_cached_sizze_182711, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_180696.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439});
    if (mem_180701_cached_sizze_182712 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182712, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182112 = 0; i_182112 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439; i_182112++) {
        int64_t x_182113 = (int64_t) 0 + i_182112 * (int64_t) 1;
        
        ((int64_t *) mem_180701)[i_182112] = x_182113;
    }
    if (mem_180709_cached_sizze_182713 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180709, &mem_180709_cached_sizze_182713, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180711_cached_sizze_182714 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180711, &mem_180711_cached_sizze_182714, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180713_cached_sizze_182715 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182715, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180715_cached_sizze_182716 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182716, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180717_cached_sizze_182717 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182717, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180749_cached_sizze_182718 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180749, &mem_180749_cached_sizze_182718, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180751_cached_sizze_182719 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180751, &mem_180751_cached_sizze_182719, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180764_cached_sizze_182720 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180764, &mem_180764_cached_sizze_182720, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180765_cached_sizze_182721 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180765, &mem_180765_cached_sizze_182721, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180772_cached_sizze_182722 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180772, &mem_180772_cached_sizze_182722, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180775_cached_sizze_182723 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182723, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180778_cached_sizze_182724 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180778, &mem_180778_cached_sizze_182724, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180781_cached_sizze_182725 < bytes_180780) {
        err = lexical_realloc(ctx, &mem_180781, &mem_180781_cached_sizze_182725, bytes_180780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180784_cached_sizze_182726 < binop_x_180773) {
        err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182726, binop_x_180773);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180806_cached_sizze_182727 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180806, &mem_180806_cached_sizze_182727, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180808_cached_sizze_182728 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180808, &mem_180808_cached_sizze_182728, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180810_cached_sizze_182729 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180810, &mem_180810_cached_sizze_182729, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180812_cached_sizze_182730 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180812, &mem_180812_cached_sizze_182730, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180814_cached_sizze_182731 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182731, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180857_cached_sizze_182732 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182732, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180858_cached_sizze_182733 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180858, &mem_180858_cached_sizze_182733, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180883_cached_sizze_182734 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180883, &mem_180883_cached_sizze_182734, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180891_cached_sizze_182735 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180891, &mem_180891_cached_sizze_182735, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171497 = 0; i_171497 < iters_171431; i_171497++) {
        int32_t blocked_radix_sort_step_arg1_171500 = mul32(2, i_171497);
        int32_t get_bit_arg0_171505 = add32(1, blocked_radix_sort_step_arg1_171500);
        int64_t unsign_arg0_171506 = zext_i32_i64(get_bit_arg0_171505);
        bool cond_f_res_171507 = get_bit_arg0_171505 == 63;
        int64_t unsign_arg0_171508 = zext_i32_i64(blocked_radix_sort_step_arg1_171500);
        bool cond_f_res_171509 = blocked_radix_sort_step_arg1_171500 == 63;
        int16_t discard_180376;
        int16_t discard_180377;
        int16_t discard_180378;
        int16_t discard_180379;
        int16_t scanacc_180361;
        int16_t scanacc_180362;
        int16_t scanacc_180363;
        int16_t scanacc_180364;
        
        scanacc_180361 = (int16_t) 0;
        scanacc_180362 = (int16_t) 0;
        scanacc_180363 = (int16_t) 0;
        scanacc_180364 = (int16_t) 0;
        for (int64_t i_180370 = 0; i_180370 < rest_171437; i_180370++) {
            int64_t slice_180583 = arg_171438 + i_180370;
            double eta_p_178292 = ((double *) mem_180699)[slice_180583];
            int64_t i64_arg0_178293 = futrts_to_bits64(eta_p_178292);
            int64_t unsign_arg0_178294 = ashr64(i64_arg0_178293, unsign_arg0_171506);
            int64_t unsign_arg0_178295 = (int64_t) 1 & unsign_arg0_178294;
            int32_t to_i32_res_178296 = zext_i64_i32(unsign_arg0_178295);
            int64_t unsign_arg0_178297 = ashr64(i64_arg0_178293, (int64_t) 63);
            int64_t unsign_arg0_178298 = (int64_t) 1 & unsign_arg0_178297;
            int32_t to_i32_res_178299 = zext_i64_i32(unsign_arg0_178298);
            bool cond_178300 = to_i32_res_178299 == 1;
            bool x_178301 = !cond_178300;
            bool y_178302 = cond_f_res_171507 && x_178301;
            bool cond_178303 = cond_178300 || y_178302;
            int32_t defunc_0_get_bit_res_178304;
            
            if (cond_178303) {
                int32_t defunc_0_get_bit_res_t_res_178434 = 1 ^ to_i32_res_178296;
                
                defunc_0_get_bit_res_178304 = defunc_0_get_bit_res_t_res_178434;
            } else {
                defunc_0_get_bit_res_178304 = to_i32_res_178296;
            }
            
            int32_t zp_lhs_178306 = mul32(2, defunc_0_get_bit_res_178304);
            int64_t unsign_arg0_178307 = ashr64(i64_arg0_178293, unsign_arg0_171508);
            int64_t unsign_arg0_178308 = (int64_t) 1 & unsign_arg0_178307;
            int32_t to_i32_res_178309 = zext_i64_i32(unsign_arg0_178308);
            bool y_178310 = cond_f_res_171509 && x_178301;
            bool cond_178311 = cond_178300 || y_178310;
            int32_t defunc_0_get_bit_res_178312;
            
            if (cond_178311) {
                int32_t defunc_0_get_bit_res_t_res_178435 = 1 ^ to_i32_res_178309;
                
                defunc_0_get_bit_res_178312 = defunc_0_get_bit_res_t_res_178435;
            } else {
                defunc_0_get_bit_res_178312 = to_i32_res_178309;
            }
            
            int32_t i32_arg0_178314 = add32(zp_lhs_178306, defunc_0_get_bit_res_178312);
            int16_t i32_res_178315 = sext_i32_i16(i32_arg0_178314);
            int16_t defunc_0_f_res_178317;
            int16_t defunc_0_f_res_178318;
            int16_t defunc_0_f_res_178319;
            int16_t defunc_0_f_res_178320;
            
            if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178317, &defunc_0_f_res_178318, &defunc_0_f_res_178319, &defunc_0_f_res_178320, i32_res_178315) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171560 = add16(defunc_0_f_res_178317, scanacc_180361);
            int16_t defunc_0_op_res_171561 = add16(defunc_0_f_res_178318, scanacc_180362);
            int16_t defunc_0_op_res_171562 = add16(defunc_0_f_res_178319, scanacc_180363);
            int16_t defunc_0_op_res_171563 = add16(defunc_0_f_res_178320, scanacc_180364);
            
            ((int16_t *) mem_180709)[i_180370] = defunc_0_op_res_171560;
            ((int16_t *) mem_180711)[i_180370] = defunc_0_op_res_171561;
            ((int16_t *) mem_180713)[i_180370] = defunc_0_op_res_171562;
            ((int16_t *) mem_180715)[i_180370] = defunc_0_op_res_171563;
            ((int16_t *) mem_180717)[i_180370] = i32_res_178315;
            
            int16_t scanacc_tmp_182116 = defunc_0_op_res_171560;
            int16_t scanacc_tmp_182117 = defunc_0_op_res_171561;
            int16_t scanacc_tmp_182118 = defunc_0_op_res_171562;
            int16_t scanacc_tmp_182119 = defunc_0_op_res_171563;
            
            scanacc_180361 = scanacc_tmp_182116;
            scanacc_180362 = scanacc_tmp_182117;
            scanacc_180363 = scanacc_tmp_182118;
            scanacc_180364 = scanacc_tmp_182119;
        }
        discard_180376 = scanacc_180361;
        discard_180377 = scanacc_180362;
        discard_180378 = scanacc_180363;
        discard_180379 = scanacc_180364;
        
        int16_t defunc_0_radix_sort_step_i16_res_171564;
        int16_t defunc_0_radix_sort_step_i16_res_171565;
        int16_t defunc_0_radix_sort_step_i16_res_171566;
        int16_t defunc_0_radix_sort_step_i16_res_171567;
        
        if (empty_slice_171459) {
            defunc_0_radix_sort_step_i16_res_171564 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171565 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171566 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171567 = (int16_t) 0;
        } else {
            int16_t last_res_171568 = ((int16_t *) mem_180709)[m_171460];
            int16_t last_res_171569 = ((int16_t *) mem_180711)[m_171460];
            int16_t last_res_171570 = ((int16_t *) mem_180713)[m_171460];
            int16_t last_res_171571 = ((int16_t *) mem_180715)[m_171460];
            
            defunc_0_radix_sort_step_i16_res_171564 = last_res_171568;
            defunc_0_radix_sort_step_i16_res_171565 = last_res_171569;
            defunc_0_radix_sort_step_i16_res_171566 = last_res_171570;
            defunc_0_radix_sort_step_i16_res_171567 = last_res_171571;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + (int64_t) 1 * arg_171438, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171437});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180751, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180699, (int64_t) 0 + (int64_t) 1 * arg_171438, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171437});
        for (int64_t write_iter_180380 = 0; write_iter_180380 < rest_171437; write_iter_180380++) {
            int16_t write_iv_180383 = ((int16_t *) mem_180717)[write_iter_180380];
            int16_t write_iv_180384 = ((int16_t *) mem_180709)[write_iter_180380];
            int16_t write_iv_180385 = ((int16_t *) mem_180711)[write_iter_180380];
            int16_t write_iv_180386 = ((int16_t *) mem_180713)[write_iter_180380];
            int16_t write_iv_180387 = ((int16_t *) mem_180715)[write_iter_180380];
            int64_t slice_180582 = arg_171438 + write_iter_180380;
            double write_iv_180388 = ((double *) mem_180699)[slice_180582];
            int64_t write_iv_180389 = ((int64_t *) mem_180701)[slice_180582];
            int64_t defunc_0_f_res_178276;
            
            if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178276, defunc_0_radix_sort_step_i16_res_171564, defunc_0_radix_sort_step_i16_res_171565, defunc_0_radix_sort_step_i16_res_171566, write_iv_180383, write_iv_180384, write_iv_180385, write_iv_180386, write_iv_180387) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178276) && slt64(defunc_0_f_res_178276, rest_171437)) {
                ((double *) mem_180751)[defunc_0_f_res_178276] = write_iv_180388;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178276) && slt64(defunc_0_f_res_178276, rest_171437)) {
                ((int64_t *) mem_180749)[defunc_0_f_res_178276] = write_iv_180389;
            }
        }
        ((int16_t *) mem_180764)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171564;
        ((int16_t *) mem_180764)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171565;
        ((int16_t *) mem_180764)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171566;
        ((int16_t *) mem_180764)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171567;
        for (int64_t i_180394 = 0; i_180394 < (int64_t) 4; i_180394++) {
            int16_t eta_p_171588 = ((int16_t *) mem_180764)[i_180394];
            int64_t i16_res_171589 = sext_i16_i64(eta_p_171588);
            
            ((int64_t *) mem_180765)[i_180394] = i16_res_171589;
        }
        
        int16_t tmp_171590 = add16(defunc_0_radix_sort_step_i16_res_171564, defunc_0_radix_sort_step_i16_res_171565);
        int16_t tmp_171591 = add16(defunc_0_radix_sort_step_i16_res_171566, tmp_171590);
        
        ((int16_t *) mem_180772)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180772)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171564;
        ((int16_t *) mem_180772)[(int64_t) 2] = tmp_171590;
        ((int16_t *) mem_180772)[(int64_t) 3] = tmp_171591;
        for (int64_t i_180444 = 0; i_180444 < n_blocks_171436; i_180444++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180775, i_180444 * i16_res_171432, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180699, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_171432), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171432});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180778, i_180444 * i16_res_171432, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_171432), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171432});
            
            int64_t binop_x_180596 = i16_res_171432 * i_180444;
            int16_t discard_180416;
            int16_t discard_180417;
            int16_t discard_180418;
            int16_t discard_180419;
            int16_t scanacc_180401;
            int16_t scanacc_180402;
            int16_t scanacc_180403;
            int16_t scanacc_180404;
            
            scanacc_180401 = (int16_t) 0;
            scanacc_180402 = (int16_t) 0;
            scanacc_180403 = (int16_t) 0;
            scanacc_180404 = (int16_t) 0;
            for (int64_t i_180410 = 0; i_180410 < i16_res_171432; i_180410++) {
                int64_t new_index_180597 = i_180410 + binop_x_180596;
                double eta_p_178351 = ((double *) mem_180699)[new_index_180597];
                int64_t i64_arg0_178352 = futrts_to_bits64(eta_p_178351);
                int64_t unsign_arg0_178353 = ashr64(i64_arg0_178352, unsign_arg0_171506);
                int64_t unsign_arg0_178354 = (int64_t) 1 & unsign_arg0_178353;
                int32_t to_i32_res_178355 = zext_i64_i32(unsign_arg0_178354);
                int64_t unsign_arg0_178356 = ashr64(i64_arg0_178352, (int64_t) 63);
                int64_t unsign_arg0_178357 = (int64_t) 1 & unsign_arg0_178356;
                int32_t to_i32_res_178358 = zext_i64_i32(unsign_arg0_178357);
                bool cond_178359 = to_i32_res_178358 == 1;
                bool x_178360 = !cond_178359;
                bool y_178361 = cond_f_res_171507 && x_178360;
                bool cond_178362 = cond_178359 || y_178361;
                int32_t defunc_0_get_bit_res_178363;
                
                if (cond_178362) {
                    int32_t defunc_0_get_bit_res_t_res_178436 = 1 ^ to_i32_res_178355;
                    
                    defunc_0_get_bit_res_178363 = defunc_0_get_bit_res_t_res_178436;
                } else {
                    defunc_0_get_bit_res_178363 = to_i32_res_178355;
                }
                
                int32_t zp_lhs_178365 = mul32(2, defunc_0_get_bit_res_178363);
                int64_t unsign_arg0_178366 = ashr64(i64_arg0_178352, unsign_arg0_171508);
                int64_t unsign_arg0_178367 = (int64_t) 1 & unsign_arg0_178366;
                int32_t to_i32_res_178368 = zext_i64_i32(unsign_arg0_178367);
                bool y_178369 = cond_f_res_171509 && x_178360;
                bool cond_178370 = cond_178359 || y_178369;
                int32_t defunc_0_get_bit_res_178371;
                
                if (cond_178370) {
                    int32_t defunc_0_get_bit_res_t_res_178437 = 1 ^ to_i32_res_178368;
                    
                    defunc_0_get_bit_res_178371 = defunc_0_get_bit_res_t_res_178437;
                } else {
                    defunc_0_get_bit_res_178371 = to_i32_res_178368;
                }
                
                int32_t i32_arg0_178373 = add32(zp_lhs_178365, defunc_0_get_bit_res_178371);
                int16_t i32_res_178374 = sext_i32_i16(i32_arg0_178373);
                int16_t defunc_0_f_res_178376;
                int16_t defunc_0_f_res_178377;
                int16_t defunc_0_f_res_178378;
                int16_t defunc_0_f_res_178379;
                
                if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178376, &defunc_0_f_res_178377, &defunc_0_f_res_178378, &defunc_0_f_res_178379, i32_res_178374) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171655 = add16(defunc_0_f_res_178376, scanacc_180401);
                int16_t defunc_0_op_res_171656 = add16(defunc_0_f_res_178377, scanacc_180402);
                int16_t defunc_0_op_res_171657 = add16(defunc_0_f_res_178378, scanacc_180403);
                int16_t defunc_0_op_res_171658 = add16(defunc_0_f_res_178379, scanacc_180404);
                
                ((int16_t *) mem_180806)[i_180410] = defunc_0_op_res_171655;
                ((int16_t *) mem_180808)[i_180410] = defunc_0_op_res_171656;
                ((int16_t *) mem_180810)[i_180410] = defunc_0_op_res_171657;
                ((int16_t *) mem_180812)[i_180410] = defunc_0_op_res_171658;
                ((int16_t *) mem_180814)[i_180410] = i32_res_178374;
                
                int16_t scanacc_tmp_182132 = defunc_0_op_res_171655;
                int16_t scanacc_tmp_182133 = defunc_0_op_res_171656;
                int16_t scanacc_tmp_182134 = defunc_0_op_res_171657;
                int16_t scanacc_tmp_182135 = defunc_0_op_res_171658;
                
                scanacc_180401 = scanacc_tmp_182132;
                scanacc_180402 = scanacc_tmp_182133;
                scanacc_180403 = scanacc_tmp_182134;
                scanacc_180404 = scanacc_tmp_182135;
            }
            discard_180416 = scanacc_180401;
            discard_180417 = scanacc_180402;
            discard_180418 = scanacc_180403;
            discard_180419 = scanacc_180404;
            
            int16_t defunc_0_f_res_171659;
            int16_t defunc_0_f_res_171660;
            int16_t defunc_0_f_res_171661;
            int16_t defunc_0_f_res_171662;
            
            if (zzero_171433) {
                defunc_0_f_res_171659 = (int16_t) 0;
                defunc_0_f_res_171660 = (int16_t) 0;
                defunc_0_f_res_171661 = (int16_t) 0;
                defunc_0_f_res_171662 = (int16_t) 0;
            } else {
                int16_t last_res_171663 = ((int16_t *) mem_180806)[tmp_171475];
                int16_t last_res_171664 = ((int16_t *) mem_180808)[tmp_171475];
                int16_t last_res_171665 = ((int16_t *) mem_180810)[tmp_171475];
                int16_t last_res_171666 = ((int16_t *) mem_180812)[tmp_171475];
                
                defunc_0_f_res_171659 = last_res_171663;
                defunc_0_f_res_171660 = last_res_171664;
                defunc_0_f_res_171661 = last_res_171665;
                defunc_0_f_res_171662 = last_res_171666;
            }
            for (int64_t write_iter_180420 = 0; write_iter_180420 < i16_res_171432; write_iter_180420++) {
                int16_t write_iv_180423 = ((int16_t *) mem_180814)[write_iter_180420];
                int16_t write_iv_180424 = ((int16_t *) mem_180806)[write_iter_180420];
                int16_t write_iv_180425 = ((int16_t *) mem_180808)[write_iter_180420];
                int16_t write_iv_180426 = ((int16_t *) mem_180810)[write_iter_180420];
                int16_t write_iv_180427 = ((int16_t *) mem_180812)[write_iter_180420];
                int64_t new_index_180593 = write_iter_180420 + binop_x_180596;
                double write_iv_180428 = ((double *) mem_180699)[new_index_180593];
                int64_t write_iv_180429 = ((int64_t *) mem_180701)[new_index_180593];
                int64_t defunc_0_f_res_178335;
                
                if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178335, defunc_0_f_res_171659, defunc_0_f_res_171660, defunc_0_f_res_171661, write_iv_180423, write_iv_180424, write_iv_180425, write_iv_180426, write_iv_180427) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178335) && slt64(defunc_0_f_res_178335, i16_res_171432)) {
                    ((double *) mem_180775)[i_180444 * i16_res_171432 + defunc_0_f_res_178335] = write_iv_180428;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178335) && slt64(defunc_0_f_res_178335, i16_res_171432)) {
                    ((int64_t *) mem_180778)[i_180444 * i16_res_171432 + defunc_0_f_res_178335] = write_iv_180429;
                }
            }
            ((int16_t *) mem_180857)[(int64_t) 0] = defunc_0_f_res_171659;
            ((int16_t *) mem_180857)[(int64_t) 1] = defunc_0_f_res_171660;
            ((int16_t *) mem_180857)[(int64_t) 2] = defunc_0_f_res_171661;
            ((int16_t *) mem_180857)[(int64_t) 3] = defunc_0_f_res_171662;
            for (int64_t i_180434 = 0; i_180434 < (int64_t) 4; i_180434++) {
                int16_t eta_p_171681 = ((int16_t *) mem_180857)[i_180434];
                int64_t i16_res_171682 = sext_i16_i64(eta_p_171681);
                
                ((int64_t *) mem_180858)[i_180434] = i16_res_171682;
            }
            
            int16_t tmp_171683 = add16(defunc_0_f_res_171659, defunc_0_f_res_171660);
            int16_t tmp_171684 = add16(defunc_0_f_res_171661, tmp_171683);
            
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171659;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 2] = tmp_171683;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 3] = tmp_171684;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180781, i_180444 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180858, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180456;
        int64_t scanacc_180452 = (int64_t) 0;
        
        for (int64_t i_180454 = 0; i_180454 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447; i_180454++) {
            int64_t new_index_180571 = squot64(i_180454, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
            int64_t binop_y_180573 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 * new_index_180571;
            int64_t new_index_180574 = i_180454 - binop_y_180573;
            bool index_concat_cmp_180576 = sle64(n_blocks_171436, new_index_180574);
            int64_t index_concat_branch_180580;
            
            if (index_concat_cmp_180576) {
                int64_t index_concat_180578 = ((int64_t *) mem_180765)[new_index_180571];
                
                index_concat_branch_180580 = index_concat_180578;
            } else {
                int64_t index_concat_180579 = ((int64_t *) mem_180781)[new_index_180574 * (int64_t) 4 + new_index_180571];
                
                index_concat_branch_180580 = index_concat_180579;
            }
            
            int64_t defunc_0_op_res_171698 = add64(scanacc_180452, index_concat_branch_180580);
            
            ((int64_t *) mem_180883)[i_180454] = defunc_0_op_res_171698;
            
            int64_t scanacc_tmp_182144 = defunc_0_op_res_171698;
            
            scanacc_180452 = scanacc_tmp_182144;
        }
        discard_180456 = scanacc_180452;
        for (int64_t i_180459 = 0; i_180459 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447; i_180459++) {
            int64_t zv_lhs_171701 = add64((int64_t) -1, i_180459);
            int64_t tmp_171702 = smod64(zv_lhs_171701, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447);
            int64_t lifted_lambda_res_171703 = ((int64_t *) mem_180883)[tmp_171702];
            
            ((int64_t *) mem_180891)[i_180459] = lifted_lambda_res_171703;
        }
        ((int64_t *) mem_180891)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180461 = 0; write_iter_180461 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439; write_iter_180461++) {
            bool index_concat_cmp_180562 = sle64(arg_171438, write_iter_180461);
            double index_concat_branch_178217;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_178446 = sub64(write_iter_180461, arg_171438);
                double index_concat_178447 = ((double *) mem_180751)[index_concat_i_178446];
                
                index_concat_branch_178217 = index_concat_178447;
            } else {
                int64_t new_index_178220 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_178221 = i16_res_171432 * new_index_178220;
                int64_t new_index_178222 = write_iter_180461 - binop_y_178221;
                double index_concat_178223 = ((double *) mem_180775)[new_index_178220 * i16_res_171432 + new_index_178222];
                
                index_concat_branch_178217 = index_concat_178223;
            }
            
            int64_t i64_arg0_178224 = futrts_to_bits64(index_concat_branch_178217);
            int64_t unsign_arg0_178225 = ashr64(i64_arg0_178224, (int64_t) 63);
            int64_t unsign_arg0_178226 = (int64_t) 1 & unsign_arg0_178225;
            int32_t to_i32_res_178227 = zext_i64_i32(unsign_arg0_178226);
            bool cond_178228 = to_i32_res_178227 == 1;
            bool x_178229 = !cond_178228;
            int32_t zlzb_rhs_178230;
            int32_t acc_178232 = 0;
            
            for (int32_t i_178231 = 0; i_178231 < 2; i_178231++) {
                int32_t get_bit_arg0_178233 = add32(blocked_radix_sort_step_arg1_171500, i_178231);
                int64_t unsign_arg0_178234 = zext_i32_i64(get_bit_arg0_178233);
                int64_t unsign_arg0_178235 = ashr64(i64_arg0_178224, unsign_arg0_178234);
                int64_t unsign_arg0_178236 = (int64_t) 1 & unsign_arg0_178235;
                int32_t to_i32_res_178237 = zext_i64_i32(unsign_arg0_178236);
                bool cond_f_res_178238 = get_bit_arg0_178233 == 63;
                bool y_178239 = x_178229 && cond_f_res_178238;
                bool cond_178240 = cond_178228 || y_178239;
                int32_t defunc_0_get_bit_res_178241;
                
                if (cond_178240) {
                    int32_t defunc_0_get_bit_res_t_res_178448 = 1 ^ to_i32_res_178237;
                    
                    defunc_0_get_bit_res_178241 = defunc_0_get_bit_res_t_res_178448;
                } else {
                    defunc_0_get_bit_res_178241 = to_i32_res_178237;
                }
                
                int32_t zp_rhs_178243 = shl32(defunc_0_get_bit_res_178241, i_178231);
                int32_t loopres_178244 = add32(acc_178232, zp_rhs_178243);
                int32_t acc_tmp_182149 = loopres_178244;
                
                acc_178232 = acc_tmp_182149;
            }
            zlzb_rhs_178230 = acc_178232;
            
            int64_t i32_res_178245 = sext_i32_i64(zlzb_rhs_178230);
            int64_t block_idx_178246 = sdiv64(write_iter_180461, i16_res_171432);
            bool x_178247 = sle64((int64_t) 0, block_idx_178246);
            bool y_178248 = slt64(block_idx_178246, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
            bool bounds_check_178249 = x_178247 && y_178248;
            bool index_certs_178250;
            
            if (!bounds_check_178249) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178246, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178251 = sle64((int64_t) 0, i32_res_178245);
            bool y_178252 = slt64(i32_res_178245, (int64_t) 4);
            bool bounds_check_178253 = x_178251 && y_178252;
            bool index_certs_178254;
            
            if (!bounds_check_178253) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178245, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_180566;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180563 = sub64(write_iter_180461, arg_171438);
                double index_concat_180564 = ((double *) mem_180751)[index_concat_i_180563];
                
                index_concat_branch_180566 = index_concat_180564;
            } else {
                int64_t new_index_180588 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_180590 = i16_res_171432 * new_index_180588;
                int64_t new_index_180591 = write_iter_180461 - binop_y_180590;
                double index_concat_180565 = ((double *) mem_180775)[new_index_180588 * i16_res_171432 + new_index_180591];
                
                index_concat_branch_180566 = index_concat_180565;
            }
            
            int64_t index_concat_branch_180560;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180557 = sub64(write_iter_180461, arg_171438);
                int64_t index_concat_180558 = ((int64_t *) mem_180749)[index_concat_i_180557];
                
                index_concat_branch_180560 = index_concat_180558;
            } else {
                int64_t new_index_180584 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_180586 = i16_res_171432 * new_index_180584;
                int64_t new_index_180587 = write_iter_180461 - binop_y_180586;
                int64_t index_concat_180559 = ((int64_t *) mem_180778)[new_index_180584 * i16_res_171432 + new_index_180587];
                
                index_concat_branch_180560 = index_concat_180559;
            }
            
            int64_t binop_x_178255 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 * i32_res_178245;
            int64_t new_index_178256 = block_idx_178246 + binop_x_178255;
            int64_t new_offset_178257 = ((int64_t *) mem_180891)[new_index_178256];
            bool index_concat_cmp_178258 = sle64(n_blocks_171436, block_idx_178246);
            int16_t index_concat_branch_178259;
            
            if (index_concat_cmp_178258) {
                int16_t index_concat_178449 = ((int16_t *) mem_180772)[i32_res_178245];
                
                index_concat_branch_178259 = index_concat_178449;
            } else {
                int16_t index_concat_178261 = ((int16_t *) mem_180784)[block_idx_178246 * (int64_t) 4 + i32_res_178245];
                
                index_concat_branch_178259 = index_concat_178261;
            }
            
            int64_t i16_res_178262 = sext_i16_i64(index_concat_branch_178259);
            int64_t zp_lhs_178263 = mul64(i16_res_171432, block_idx_178246);
            int64_t old_offset_178264 = add64(i16_res_178262, zp_lhs_178263);
            int64_t zp_lhs_178265 = sub64(write_iter_180461, old_offset_178264);
            int64_t idx_178266 = add64(new_offset_178257, zp_lhs_178265);
            
            if (sle64((int64_t) 0, idx_178266) && slt64(idx_178266, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439)) {
                ((double *) mem_180699)[idx_178266] = index_concat_branch_180566;
            }
            if (sle64((int64_t) 0, idx_178266) && slt64(idx_178266, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439)) {
                ((int64_t *) mem_180701)[idx_178266] = index_concat_branch_180560;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180917, bytes_180916, "mem_180917")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180919, bytes_180916, "mem_180919")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180473 = 0; i_180473 < n_96133; i_180473++) {
        int64_t eta_p_171772 = ((int64_t *) mem_180701)[i_180473];
        bool x_171773 = sle64((int64_t) 0, eta_p_171772);
        bool y_171774 = slt64(eta_p_171772, n_96133);
        bool bounds_check_171775 = x_171773 && y_171774;
        bool index_certs_171776;
        
        if (!bounds_check_171775) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171772, "] out of bounds for array of shape [", (long long) n_96133, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171777 = ((int64_t *) ext_mem_180697.mem)[eta_p_171772];
        double lifted_lambda_res_171778 = ((double *) xs_mem_180696.mem)[eta_p_171772];
        
        ((int64_t *) mem_180917.mem)[i_180473] = lifted_lambda_res_171777;
        ((double *) mem_180919.mem)[i_180473] = lifted_lambda_res_171778;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180917, "mem_180917") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180919, "mem_180919") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182709, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182710, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180699);
        free(mem_180701);
        free(mem_180709);
        free(mem_180711);
        free(mem_180713);
        free(mem_180715);
        free(mem_180717);
        free(mem_180749);
        free(mem_180751);
        free(mem_180764);
        free(mem_180765);
        free(mem_180772);
        free(mem_180775);
        free(mem_180778);
        free(mem_180781);
        free(mem_180784);
        free(mem_180806);
        free(mem_180808);
        free(mem_180810);
        free(mem_180812);
        free(mem_180814);
        free(mem_180857);
        free(mem_180858);
        free(mem_180883);
        free(mem_180891);
        if (memblock_unref(ctx, &mem_180919, "mem_180919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180917, "mem_180917") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182736, struct memblock *mem_out_p_182737, struct memblock xs_mem_180696, int64_t n_93378, int64_t incr_93379, int16_t block_sizze_93380)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180699_cached_sizze_182738 = 0;
    unsigned char *mem_180699 = NULL;
    int64_t mem_180701_cached_sizze_182739 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180709_cached_sizze_182740 = 0;
    unsigned char *mem_180709 = NULL;
    int64_t mem_180711_cached_sizze_182741 = 0;
    unsigned char *mem_180711 = NULL;
    int64_t mem_180713_cached_sizze_182742 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182743 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182744 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180749_cached_sizze_182745 = 0;
    unsigned char *mem_180749 = NULL;
    int64_t mem_180751_cached_sizze_182746 = 0;
    unsigned char *mem_180751 = NULL;
    int64_t mem_180764_cached_sizze_182747 = 0;
    unsigned char *mem_180764 = NULL;
    int64_t mem_180765_cached_sizze_182748 = 0;
    unsigned char *mem_180765 = NULL;
    int64_t mem_180772_cached_sizze_182749 = 0;
    unsigned char *mem_180772 = NULL;
    int64_t mem_180775_cached_sizze_182750 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180778_cached_sizze_182751 = 0;
    unsigned char *mem_180778 = NULL;
    int64_t mem_180781_cached_sizze_182752 = 0;
    unsigned char *mem_180781 = NULL;
    int64_t mem_180784_cached_sizze_182753 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180806_cached_sizze_182754 = 0;
    unsigned char *mem_180806 = NULL;
    int64_t mem_180808_cached_sizze_182755 = 0;
    unsigned char *mem_180808 = NULL;
    int64_t mem_180810_cached_sizze_182756 = 0;
    unsigned char *mem_180810 = NULL;
    int64_t mem_180812_cached_sizze_182757 = 0;
    unsigned char *mem_180812 = NULL;
    int64_t mem_180814_cached_sizze_182758 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180857_cached_sizze_182759 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180858_cached_sizze_182760 = 0;
    unsigned char *mem_180858 = NULL;
    int64_t mem_180883_cached_sizze_182761 = 0;
    unsigned char *mem_180883 = NULL;
    int64_t mem_180891_cached_sizze_182762 = 0;
    unsigned char *mem_180891 = NULL;
    struct memblock mem_180919;
    
    mem_180919.references = NULL;
    
    struct memblock mem_180917;
    
    mem_180917.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    bool cond_171430 = n_93378 == (int64_t) 0;
    int32_t iters_171431;
    
    if (cond_171430) {
        iters_171431 = 0;
    } else {
        iters_171431 = 16;
    }
    
    int64_t i16_res_171432 = sext_i16_i64(block_sizze_93380);
    bool zzero_171433 = i16_res_171432 == (int64_t) 0;
    bool nonzzero_171434 = !zzero_171433;
    bool nonzzero_cert_171435;
    
    if (!nonzzero_171434) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171436 = sdiv64(n_93378, i16_res_171432);
    int64_t rest_171437 = smod64(n_93378, i16_res_171432);
    int64_t arg_171438 = mul64(i16_res_171432, n_blocks_171436);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439 = add64(rest_171437, arg_171438);
    bool dim_match_171440 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439 == n_93378;
    bool empty_or_match_cert_171441;
    
    if (!dim_match_171440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_93378, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:215:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180698 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439;
    int64_t bytes_180700 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439;
    bool loop_nonempty_171445 = slt32(0, iters_171431);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 = add64((int64_t) 1, n_blocks_171436);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
    bool empty_slice_171448 = arg_171438 == (int64_t) 0;
    int64_t m_171449 = sub64(arg_171438, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171450 = sle64((int64_t) 0, m_171449);
    bool i_p_m_t_s_leq_w_171451 = slt64(m_171449, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool i_lte_j_171452 = sle64((int64_t) 0, arg_171438);
    bool y_171453 = zzero_leq_i_p_m_t_s_171450 && i_p_m_t_s_leq_w_171451;
    bool forwards_ok_171454 = i_lte_j_171452 && y_171453;
    bool ok_or_empty_171455 = empty_slice_171448 || forwards_ok_171454;
    bool loop_not_taken_171456 = !loop_nonempty_171445;
    bool protect_assert_disj_171457 = ok_or_empty_171455 || loop_not_taken_171456;
    bool index_certs_171458;
    
    if (!protect_assert_disj_171457) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171438, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171459 = rest_171437 == (int64_t) 0;
    int64_t m_171460 = sub64(rest_171437, (int64_t) 1);
    int64_t i_p_m_t_s_171461 = add64(arg_171438, m_171460);
    bool zzero_leq_i_p_m_t_s_171462 = sle64((int64_t) 0, i_p_m_t_s_171461);
    bool i_p_m_t_s_leq_w_171463 = slt64(i_p_m_t_s_171461, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool i_lte_j_171464 = sle64(arg_171438, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439);
    bool y_171465 = zzero_leq_i_p_m_t_s_171462 && i_p_m_t_s_leq_w_171463;
    bool forwards_ok_171466 = i_lte_j_171464 && y_171465;
    bool ok_or_empty_171467 = empty_slice_171459 || forwards_ok_171466;
    bool protect_assert_disj_171468 = loop_not_taken_171456 || ok_or_empty_171467;
    bool index_certs_171469;
    
    if (!protect_assert_disj_171468) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171438, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171470 = sle64((int64_t) 0, n_blocks_171436);
    bool binop_y_171471 = sle64((int64_t) 0, i16_res_171432);
    bool binop_y_171472 = binop_x_171470 && binop_y_171471;
    bool protect_assert_disj_171473 = loop_not_taken_171456 || binop_y_171472;
    bool dim_ok_cert_171474;
    
    if (!protect_assert_disj_171473) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171438, "] to array of shape [", (long long) n_blocks_171436, "][", (long long) i16_res_171432, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171475 = sub64(i16_res_171432, (int64_t) 1);
    bool x_171476 = sle64((int64_t) 0, tmp_171475);
    bool y_171477 = slt64(tmp_171475, i16_res_171432);
    bool bounds_check_171478 = x_171476 && y_171477;
    bool protect_assert_disj_171479 = zzero_171433 || bounds_check_171478;
    bool protect_assert_disj_171480 = loop_not_taken_171456 || protect_assert_disj_171479;
    bool index_certs_171481;
    
    if (!protect_assert_disj_171480) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171475, "] out of bounds for array of shape [", (long long) i16_res_171432, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171483 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447);
    bool protect_assert_disj_171484 = loop_not_taken_171456 || y_171483;
    bool index_certs_171485;
    
    if (!protect_assert_disj_171484) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171487 = nonzzero_171434 || loop_not_taken_171456;
    bool nonzzero_cert_171488;
    
    if (!protect_assert_disj_171487) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171489 = sle64((int64_t) 0, m_171460);
    bool y_171490 = slt64(m_171460, rest_171437);
    bool bounds_check_171491 = x_171489 && y_171490;
    bool protect_assert_disj_171492 = empty_slice_171459 || bounds_check_171491;
    bool protect_assert_disj_171493 = loop_not_taken_171456 || protect_assert_disj_171492;
    bool index_certs_171494;
    
    if (!protect_assert_disj_171493) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171460, "] out of bounds for array of shape [", (long long) rest_171437, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180708 = (int64_t) 2 * rest_171437;
    int64_t bytes_180748 = (int64_t) 8 * rest_171437;
    int64_t bytes_180750 = (int64_t) 4 * rest_171437;
    int64_t binop_x_180773 = (int64_t) 4 * n_blocks_171436;
    int64_t bytes_180774 = i16_res_171432 * binop_x_180773;
    int64_t binop_x_180776 = (int64_t) 8 * n_blocks_171436;
    int64_t bytes_180777 = i16_res_171432 * binop_x_180776;
    int64_t bytes_180780 = (int64_t) 32 * n_blocks_171436;
    int64_t bytes_180805 = (int64_t) 2 * i16_res_171432;
    int64_t bytes_180882 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446;
    bool dim_match_171756 = n_93378 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439;
    bool empty_or_match_cert_171757;
    
    if (!dim_match_171756) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439, "] cannot match shape of type `[", (long long) n_93378, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180916 = (int64_t) 8 * n_93378;
    int64_t bytes_180918 = (int64_t) 4 * n_93378;
    
    if (futrts_indicesWithIncrement_9493(ctx, &ext_mem_180697, xs_mem_180696, n_93378, incr_93379) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180699_cached_sizze_182738 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180699, &mem_180699_cached_sizze_182738, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_180696.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439});
    if (mem_180701_cached_sizze_182739 < bytes_180700) {
        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182739, bytes_180700);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182112 = 0; i_182112 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439; i_182112++) {
        int64_t x_182113 = (int64_t) 0 + i_182112 * (int64_t) 1;
        
        ((int64_t *) mem_180701)[i_182112] = x_182113;
    }
    if (mem_180709_cached_sizze_182740 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180709, &mem_180709_cached_sizze_182740, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180711_cached_sizze_182741 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180711, &mem_180711_cached_sizze_182741, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180713_cached_sizze_182742 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182742, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180715_cached_sizze_182743 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182743, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180717_cached_sizze_182744 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182744, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180749_cached_sizze_182745 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180749, &mem_180749_cached_sizze_182745, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180751_cached_sizze_182746 < bytes_180750) {
        err = lexical_realloc(ctx, &mem_180751, &mem_180751_cached_sizze_182746, bytes_180750);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180764_cached_sizze_182747 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180764, &mem_180764_cached_sizze_182747, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180765_cached_sizze_182748 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180765, &mem_180765_cached_sizze_182748, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180772_cached_sizze_182749 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180772, &mem_180772_cached_sizze_182749, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180775_cached_sizze_182750 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182750, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180778_cached_sizze_182751 < bytes_180777) {
        err = lexical_realloc(ctx, &mem_180778, &mem_180778_cached_sizze_182751, bytes_180777);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180781_cached_sizze_182752 < bytes_180780) {
        err = lexical_realloc(ctx, &mem_180781, &mem_180781_cached_sizze_182752, bytes_180780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180784_cached_sizze_182753 < binop_x_180776) {
        err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182753, binop_x_180776);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180806_cached_sizze_182754 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180806, &mem_180806_cached_sizze_182754, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180808_cached_sizze_182755 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180808, &mem_180808_cached_sizze_182755, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180810_cached_sizze_182756 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180810, &mem_180810_cached_sizze_182756, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180812_cached_sizze_182757 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180812, &mem_180812_cached_sizze_182757, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180814_cached_sizze_182758 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182758, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180857_cached_sizze_182759 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182759, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180858_cached_sizze_182760 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180858, &mem_180858_cached_sizze_182760, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180883_cached_sizze_182761 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180883, &mem_180883_cached_sizze_182761, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180891_cached_sizze_182762 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180891, &mem_180891_cached_sizze_182762, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171497 = 0; i_171497 < iters_171431; i_171497++) {
        int32_t blocked_radix_sort_step_arg1_171500 = mul32(2, i_171497);
        int32_t get_bit_arg0_171505 = add32(1, blocked_radix_sort_step_arg1_171500);
        bool cond_f_res_171506 = get_bit_arg0_171505 == 31;
        bool cond_f_res_171507 = blocked_radix_sort_step_arg1_171500 == 31;
        int16_t discard_180376;
        int16_t discard_180377;
        int16_t discard_180378;
        int16_t discard_180379;
        int16_t scanacc_180361;
        int16_t scanacc_180362;
        int16_t scanacc_180363;
        int16_t scanacc_180364;
        
        scanacc_180361 = (int16_t) 0;
        scanacc_180362 = (int16_t) 0;
        scanacc_180363 = (int16_t) 0;
        scanacc_180364 = (int16_t) 0;
        for (int64_t i_180370 = 0; i_180370 < rest_171437; i_180370++) {
            int64_t slice_180583 = arg_171438 + i_180370;
            float eta_p_178289 = ((float *) mem_180699)[slice_180583];
            int32_t i32_arg0_178290 = futrts_to_bits32(eta_p_178289);
            int32_t unsign_arg0_178291 = ashr32(i32_arg0_178290, get_bit_arg0_171505);
            int32_t unsign_arg0_178292 = 1 & unsign_arg0_178291;
            int32_t unsign_arg0_178293 = ashr32(i32_arg0_178290, 31);
            int32_t unsign_arg0_178294 = 1 & unsign_arg0_178293;
            bool cond_178295 = unsign_arg0_178294 == 1;
            bool x_178296 = !cond_178295;
            bool y_178297 = cond_f_res_171506 && x_178296;
            bool cond_178298 = cond_178295 || y_178297;
            int32_t defunc_0_get_bit_res_178299;
            
            if (cond_178298) {
                int32_t defunc_0_get_bit_res_t_res_178425 = 1 ^ unsign_arg0_178292;
                
                defunc_0_get_bit_res_178299 = defunc_0_get_bit_res_t_res_178425;
            } else {
                defunc_0_get_bit_res_178299 = unsign_arg0_178292;
            }
            
            int32_t zp_lhs_178301 = mul32(2, defunc_0_get_bit_res_178299);
            int32_t unsign_arg0_178302 = ashr32(i32_arg0_178290, blocked_radix_sort_step_arg1_171500);
            int32_t unsign_arg0_178303 = 1 & unsign_arg0_178302;
            bool y_178304 = cond_f_res_171507 && x_178296;
            bool cond_178305 = cond_178295 || y_178304;
            int32_t defunc_0_get_bit_res_178306;
            
            if (cond_178305) {
                int32_t defunc_0_get_bit_res_t_res_178426 = 1 ^ unsign_arg0_178303;
                
                defunc_0_get_bit_res_178306 = defunc_0_get_bit_res_t_res_178426;
            } else {
                defunc_0_get_bit_res_178306 = unsign_arg0_178303;
            }
            
            int32_t i32_arg0_178308 = add32(zp_lhs_178301, defunc_0_get_bit_res_178306);
            int16_t i32_res_178309 = sext_i32_i16(i32_arg0_178308);
            int16_t defunc_0_f_res_178311;
            int16_t defunc_0_f_res_178312;
            int16_t defunc_0_f_res_178313;
            int16_t defunc_0_f_res_178314;
            
            if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178311, &defunc_0_f_res_178312, &defunc_0_f_res_178313, &defunc_0_f_res_178314, i32_res_178309) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171555 = add16(defunc_0_f_res_178311, scanacc_180361);
            int16_t defunc_0_op_res_171556 = add16(defunc_0_f_res_178312, scanacc_180362);
            int16_t defunc_0_op_res_171557 = add16(defunc_0_f_res_178313, scanacc_180363);
            int16_t defunc_0_op_res_171558 = add16(defunc_0_f_res_178314, scanacc_180364);
            
            ((int16_t *) mem_180709)[i_180370] = defunc_0_op_res_171555;
            ((int16_t *) mem_180711)[i_180370] = defunc_0_op_res_171556;
            ((int16_t *) mem_180713)[i_180370] = defunc_0_op_res_171557;
            ((int16_t *) mem_180715)[i_180370] = defunc_0_op_res_171558;
            ((int16_t *) mem_180717)[i_180370] = i32_res_178309;
            
            int16_t scanacc_tmp_182116 = defunc_0_op_res_171555;
            int16_t scanacc_tmp_182117 = defunc_0_op_res_171556;
            int16_t scanacc_tmp_182118 = defunc_0_op_res_171557;
            int16_t scanacc_tmp_182119 = defunc_0_op_res_171558;
            
            scanacc_180361 = scanacc_tmp_182116;
            scanacc_180362 = scanacc_tmp_182117;
            scanacc_180363 = scanacc_tmp_182118;
            scanacc_180364 = scanacc_tmp_182119;
        }
        discard_180376 = scanacc_180361;
        discard_180377 = scanacc_180362;
        discard_180378 = scanacc_180363;
        discard_180379 = scanacc_180364;
        
        int16_t defunc_0_radix_sort_step_i16_res_171559;
        int16_t defunc_0_radix_sort_step_i16_res_171560;
        int16_t defunc_0_radix_sort_step_i16_res_171561;
        int16_t defunc_0_radix_sort_step_i16_res_171562;
        
        if (empty_slice_171459) {
            defunc_0_radix_sort_step_i16_res_171559 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171560 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171561 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171562 = (int16_t) 0;
        } else {
            int16_t last_res_171563 = ((int16_t *) mem_180709)[m_171460];
            int16_t last_res_171564 = ((int16_t *) mem_180711)[m_171460];
            int16_t last_res_171565 = ((int16_t *) mem_180713)[m_171460];
            int16_t last_res_171566 = ((int16_t *) mem_180715)[m_171460];
            
            defunc_0_radix_sort_step_i16_res_171559 = last_res_171563;
            defunc_0_radix_sort_step_i16_res_171560 = last_res_171564;
            defunc_0_radix_sort_step_i16_res_171561 = last_res_171565;
            defunc_0_radix_sort_step_i16_res_171562 = last_res_171566;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + (int64_t) 1 * arg_171438, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171437});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180751, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180699, (int64_t) 0 + (int64_t) 1 * arg_171438, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171437});
        for (int64_t write_iter_180380 = 0; write_iter_180380 < rest_171437; write_iter_180380++) {
            int16_t write_iv_180383 = ((int16_t *) mem_180717)[write_iter_180380];
            int16_t write_iv_180384 = ((int16_t *) mem_180709)[write_iter_180380];
            int16_t write_iv_180385 = ((int16_t *) mem_180711)[write_iter_180380];
            int16_t write_iv_180386 = ((int16_t *) mem_180713)[write_iter_180380];
            int16_t write_iv_180387 = ((int16_t *) mem_180715)[write_iter_180380];
            int64_t slice_180582 = arg_171438 + write_iter_180380;
            float write_iv_180388 = ((float *) mem_180699)[slice_180582];
            int64_t write_iv_180389 = ((int64_t *) mem_180701)[slice_180582];
            int64_t defunc_0_f_res_178273;
            
            if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178273, defunc_0_radix_sort_step_i16_res_171559, defunc_0_radix_sort_step_i16_res_171560, defunc_0_radix_sort_step_i16_res_171561, write_iv_180383, write_iv_180384, write_iv_180385, write_iv_180386, write_iv_180387) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178273) && slt64(defunc_0_f_res_178273, rest_171437)) {
                ((float *) mem_180751)[defunc_0_f_res_178273] = write_iv_180388;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178273) && slt64(defunc_0_f_res_178273, rest_171437)) {
                ((int64_t *) mem_180749)[defunc_0_f_res_178273] = write_iv_180389;
            }
        }
        ((int16_t *) mem_180764)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171559;
        ((int16_t *) mem_180764)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171560;
        ((int16_t *) mem_180764)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171561;
        ((int16_t *) mem_180764)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171562;
        for (int64_t i_180394 = 0; i_180394 < (int64_t) 4; i_180394++) {
            int16_t eta_p_171583 = ((int16_t *) mem_180764)[i_180394];
            int64_t i16_res_171584 = sext_i16_i64(eta_p_171583);
            
            ((int64_t *) mem_180765)[i_180394] = i16_res_171584;
        }
        
        int16_t tmp_171585 = add16(defunc_0_radix_sort_step_i16_res_171559, defunc_0_radix_sort_step_i16_res_171560);
        int16_t tmp_171586 = add16(defunc_0_radix_sort_step_i16_res_171561, tmp_171585);
        
        ((int16_t *) mem_180772)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180772)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171559;
        ((int16_t *) mem_180772)[(int64_t) 2] = tmp_171585;
        ((int16_t *) mem_180772)[(int64_t) 3] = tmp_171586;
        for (int64_t i_180444 = 0; i_180444 < n_blocks_171436; i_180444++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180775, i_180444 * i16_res_171432, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180699, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_171432), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171432});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180778, i_180444 * i16_res_171432, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_171432), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171432});
            
            int64_t binop_x_180596 = i16_res_171432 * i_180444;
            int16_t discard_180416;
            int16_t discard_180417;
            int16_t discard_180418;
            int16_t discard_180419;
            int16_t scanacc_180401;
            int16_t scanacc_180402;
            int16_t scanacc_180403;
            int16_t scanacc_180404;
            
            scanacc_180401 = (int16_t) 0;
            scanacc_180402 = (int16_t) 0;
            scanacc_180403 = (int16_t) 0;
            scanacc_180404 = (int16_t) 0;
            for (int64_t i_180410 = 0; i_180410 < i16_res_171432; i_180410++) {
                int64_t new_index_180597 = i_180410 + binop_x_180596;
                float eta_p_178345 = ((float *) mem_180699)[new_index_180597];
                int32_t i32_arg0_178346 = futrts_to_bits32(eta_p_178345);
                int32_t unsign_arg0_178347 = ashr32(i32_arg0_178346, get_bit_arg0_171505);
                int32_t unsign_arg0_178348 = 1 & unsign_arg0_178347;
                int32_t unsign_arg0_178349 = ashr32(i32_arg0_178346, 31);
                int32_t unsign_arg0_178350 = 1 & unsign_arg0_178349;
                bool cond_178351 = unsign_arg0_178350 == 1;
                bool x_178352 = !cond_178351;
                bool y_178353 = cond_f_res_171506 && x_178352;
                bool cond_178354 = cond_178351 || y_178353;
                int32_t defunc_0_get_bit_res_178355;
                
                if (cond_178354) {
                    int32_t defunc_0_get_bit_res_t_res_178427 = 1 ^ unsign_arg0_178348;
                    
                    defunc_0_get_bit_res_178355 = defunc_0_get_bit_res_t_res_178427;
                } else {
                    defunc_0_get_bit_res_178355 = unsign_arg0_178348;
                }
                
                int32_t zp_lhs_178357 = mul32(2, defunc_0_get_bit_res_178355);
                int32_t unsign_arg0_178358 = ashr32(i32_arg0_178346, blocked_radix_sort_step_arg1_171500);
                int32_t unsign_arg0_178359 = 1 & unsign_arg0_178358;
                bool y_178360 = cond_f_res_171507 && x_178352;
                bool cond_178361 = cond_178351 || y_178360;
                int32_t defunc_0_get_bit_res_178362;
                
                if (cond_178361) {
                    int32_t defunc_0_get_bit_res_t_res_178428 = 1 ^ unsign_arg0_178359;
                    
                    defunc_0_get_bit_res_178362 = defunc_0_get_bit_res_t_res_178428;
                } else {
                    defunc_0_get_bit_res_178362 = unsign_arg0_178359;
                }
                
                int32_t i32_arg0_178364 = add32(zp_lhs_178357, defunc_0_get_bit_res_178362);
                int16_t i32_res_178365 = sext_i32_i16(i32_arg0_178364);
                int16_t defunc_0_f_res_178367;
                int16_t defunc_0_f_res_178368;
                int16_t defunc_0_f_res_178369;
                int16_t defunc_0_f_res_178370;
                
                if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178367, &defunc_0_f_res_178368, &defunc_0_f_res_178369, &defunc_0_f_res_178370, i32_res_178365) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171647 = add16(defunc_0_f_res_178367, scanacc_180401);
                int16_t defunc_0_op_res_171648 = add16(defunc_0_f_res_178368, scanacc_180402);
                int16_t defunc_0_op_res_171649 = add16(defunc_0_f_res_178369, scanacc_180403);
                int16_t defunc_0_op_res_171650 = add16(defunc_0_f_res_178370, scanacc_180404);
                
                ((int16_t *) mem_180806)[i_180410] = defunc_0_op_res_171647;
                ((int16_t *) mem_180808)[i_180410] = defunc_0_op_res_171648;
                ((int16_t *) mem_180810)[i_180410] = defunc_0_op_res_171649;
                ((int16_t *) mem_180812)[i_180410] = defunc_0_op_res_171650;
                ((int16_t *) mem_180814)[i_180410] = i32_res_178365;
                
                int16_t scanacc_tmp_182132 = defunc_0_op_res_171647;
                int16_t scanacc_tmp_182133 = defunc_0_op_res_171648;
                int16_t scanacc_tmp_182134 = defunc_0_op_res_171649;
                int16_t scanacc_tmp_182135 = defunc_0_op_res_171650;
                
                scanacc_180401 = scanacc_tmp_182132;
                scanacc_180402 = scanacc_tmp_182133;
                scanacc_180403 = scanacc_tmp_182134;
                scanacc_180404 = scanacc_tmp_182135;
            }
            discard_180416 = scanacc_180401;
            discard_180417 = scanacc_180402;
            discard_180418 = scanacc_180403;
            discard_180419 = scanacc_180404;
            
            int16_t defunc_0_f_res_171651;
            int16_t defunc_0_f_res_171652;
            int16_t defunc_0_f_res_171653;
            int16_t defunc_0_f_res_171654;
            
            if (zzero_171433) {
                defunc_0_f_res_171651 = (int16_t) 0;
                defunc_0_f_res_171652 = (int16_t) 0;
                defunc_0_f_res_171653 = (int16_t) 0;
                defunc_0_f_res_171654 = (int16_t) 0;
            } else {
                int16_t last_res_171655 = ((int16_t *) mem_180806)[tmp_171475];
                int16_t last_res_171656 = ((int16_t *) mem_180808)[tmp_171475];
                int16_t last_res_171657 = ((int16_t *) mem_180810)[tmp_171475];
                int16_t last_res_171658 = ((int16_t *) mem_180812)[tmp_171475];
                
                defunc_0_f_res_171651 = last_res_171655;
                defunc_0_f_res_171652 = last_res_171656;
                defunc_0_f_res_171653 = last_res_171657;
                defunc_0_f_res_171654 = last_res_171658;
            }
            for (int64_t write_iter_180420 = 0; write_iter_180420 < i16_res_171432; write_iter_180420++) {
                int16_t write_iv_180423 = ((int16_t *) mem_180814)[write_iter_180420];
                int16_t write_iv_180424 = ((int16_t *) mem_180806)[write_iter_180420];
                int16_t write_iv_180425 = ((int16_t *) mem_180808)[write_iter_180420];
                int16_t write_iv_180426 = ((int16_t *) mem_180810)[write_iter_180420];
                int16_t write_iv_180427 = ((int16_t *) mem_180812)[write_iter_180420];
                int64_t new_index_180593 = write_iter_180420 + binop_x_180596;
                float write_iv_180428 = ((float *) mem_180699)[new_index_180593];
                int64_t write_iv_180429 = ((int64_t *) mem_180701)[new_index_180593];
                int64_t defunc_0_f_res_178329;
                
                if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178329, defunc_0_f_res_171651, defunc_0_f_res_171652, defunc_0_f_res_171653, write_iv_180423, write_iv_180424, write_iv_180425, write_iv_180426, write_iv_180427) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178329) && slt64(defunc_0_f_res_178329, i16_res_171432)) {
                    ((float *) mem_180775)[i_180444 * i16_res_171432 + defunc_0_f_res_178329] = write_iv_180428;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178329) && slt64(defunc_0_f_res_178329, i16_res_171432)) {
                    ((int64_t *) mem_180778)[i_180444 * i16_res_171432 + defunc_0_f_res_178329] = write_iv_180429;
                }
            }
            ((int16_t *) mem_180857)[(int64_t) 0] = defunc_0_f_res_171651;
            ((int16_t *) mem_180857)[(int64_t) 1] = defunc_0_f_res_171652;
            ((int16_t *) mem_180857)[(int64_t) 2] = defunc_0_f_res_171653;
            ((int16_t *) mem_180857)[(int64_t) 3] = defunc_0_f_res_171654;
            for (int64_t i_180434 = 0; i_180434 < (int64_t) 4; i_180434++) {
                int16_t eta_p_171673 = ((int16_t *) mem_180857)[i_180434];
                int64_t i16_res_171674 = sext_i16_i64(eta_p_171673);
                
                ((int64_t *) mem_180858)[i_180434] = i16_res_171674;
            }
            
            int16_t tmp_171675 = add16(defunc_0_f_res_171651, defunc_0_f_res_171652);
            int16_t tmp_171676 = add16(defunc_0_f_res_171653, tmp_171675);
            
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171651;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 2] = tmp_171675;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 3] = tmp_171676;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180781, i_180444 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180858, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180456;
        int64_t scanacc_180452 = (int64_t) 0;
        
        for (int64_t i_180454 = 0; i_180454 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447; i_180454++) {
            int64_t new_index_180571 = squot64(i_180454, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
            int64_t binop_y_180573 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 * new_index_180571;
            int64_t new_index_180574 = i_180454 - binop_y_180573;
            bool index_concat_cmp_180576 = sle64(n_blocks_171436, new_index_180574);
            int64_t index_concat_branch_180580;
            
            if (index_concat_cmp_180576) {
                int64_t index_concat_180578 = ((int64_t *) mem_180765)[new_index_180571];
                
                index_concat_branch_180580 = index_concat_180578;
            } else {
                int64_t index_concat_180579 = ((int64_t *) mem_180781)[new_index_180574 * (int64_t) 4 + new_index_180571];
                
                index_concat_branch_180580 = index_concat_180579;
            }
            
            int64_t defunc_0_op_res_171690 = add64(scanacc_180452, index_concat_branch_180580);
            
            ((int64_t *) mem_180883)[i_180454] = defunc_0_op_res_171690;
            
            int64_t scanacc_tmp_182144 = defunc_0_op_res_171690;
            
            scanacc_180452 = scanacc_tmp_182144;
        }
        discard_180456 = scanacc_180452;
        for (int64_t i_180459 = 0; i_180459 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447; i_180459++) {
            int64_t zv_lhs_171693 = add64((int64_t) -1, i_180459);
            int64_t tmp_171694 = smod64(zv_lhs_171693, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171447);
            int64_t lifted_lambda_res_171695 = ((int64_t *) mem_180883)[tmp_171694];
            
            ((int64_t *) mem_180891)[i_180459] = lifted_lambda_res_171695;
        }
        ((int64_t *) mem_180891)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180461 = 0; write_iter_180461 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439; write_iter_180461++) {
            bool index_concat_cmp_180562 = sle64(arg_171438, write_iter_180461);
            float index_concat_branch_178217;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_178437 = sub64(write_iter_180461, arg_171438);
                float index_concat_178438 = ((float *) mem_180751)[index_concat_i_178437];
                
                index_concat_branch_178217 = index_concat_178438;
            } else {
                int64_t new_index_178220 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_178221 = i16_res_171432 * new_index_178220;
                int64_t new_index_178222 = write_iter_180461 - binop_y_178221;
                float index_concat_178223 = ((float *) mem_180775)[new_index_178220 * i16_res_171432 + new_index_178222];
                
                index_concat_branch_178217 = index_concat_178223;
            }
            
            int32_t i32_arg0_178224 = futrts_to_bits32(index_concat_branch_178217);
            int32_t unsign_arg0_178225 = ashr32(i32_arg0_178224, 31);
            int32_t unsign_arg0_178226 = 1 & unsign_arg0_178225;
            bool cond_178227 = unsign_arg0_178226 == 1;
            bool x_178228 = !cond_178227;
            int32_t zlzb_rhs_178229;
            int32_t acc_178231 = 0;
            
            for (int32_t i_178230 = 0; i_178230 < 2; i_178230++) {
                int32_t get_bit_arg0_178232 = add32(blocked_radix_sort_step_arg1_171500, i_178230);
                int32_t unsign_arg0_178233 = ashr32(i32_arg0_178224, get_bit_arg0_178232);
                int32_t unsign_arg0_178234 = 1 & unsign_arg0_178233;
                bool cond_f_res_178235 = get_bit_arg0_178232 == 31;
                bool y_178236 = x_178228 && cond_f_res_178235;
                bool cond_178237 = cond_178227 || y_178236;
                int32_t defunc_0_get_bit_res_178238;
                
                if (cond_178237) {
                    int32_t defunc_0_get_bit_res_t_res_178439 = 1 ^ unsign_arg0_178234;
                    
                    defunc_0_get_bit_res_178238 = defunc_0_get_bit_res_t_res_178439;
                } else {
                    defunc_0_get_bit_res_178238 = unsign_arg0_178234;
                }
                
                int32_t zp_rhs_178240 = shl32(defunc_0_get_bit_res_178238, i_178230);
                int32_t loopres_178241 = add32(acc_178231, zp_rhs_178240);
                int32_t acc_tmp_182149 = loopres_178241;
                
                acc_178231 = acc_tmp_182149;
            }
            zlzb_rhs_178229 = acc_178231;
            
            int64_t i32_res_178242 = sext_i32_i64(zlzb_rhs_178229);
            int64_t block_idx_178243 = sdiv64(write_iter_180461, i16_res_171432);
            bool x_178244 = sle64((int64_t) 0, block_idx_178243);
            bool y_178245 = slt64(block_idx_178243, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446);
            bool bounds_check_178246 = x_178244 && y_178245;
            bool index_certs_178247;
            
            if (!bounds_check_178246) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178248 = sle64((int64_t) 0, i32_res_178242);
            bool y_178249 = slt64(i32_res_178242, (int64_t) 4);
            bool bounds_check_178250 = x_178248 && y_178249;
            bool index_certs_178251;
            
            if (!bounds_check_178250) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178242, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_180566;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180563 = sub64(write_iter_180461, arg_171438);
                float index_concat_180564 = ((float *) mem_180751)[index_concat_i_180563];
                
                index_concat_branch_180566 = index_concat_180564;
            } else {
                int64_t new_index_180588 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_180590 = i16_res_171432 * new_index_180588;
                int64_t new_index_180591 = write_iter_180461 - binop_y_180590;
                float index_concat_180565 = ((float *) mem_180775)[new_index_180588 * i16_res_171432 + new_index_180591];
                
                index_concat_branch_180566 = index_concat_180565;
            }
            
            int64_t index_concat_branch_180560;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180557 = sub64(write_iter_180461, arg_171438);
                int64_t index_concat_180558 = ((int64_t *) mem_180749)[index_concat_i_180557];
                
                index_concat_branch_180560 = index_concat_180558;
            } else {
                int64_t new_index_180584 = squot64(write_iter_180461, i16_res_171432);
                int64_t binop_y_180586 = i16_res_171432 * new_index_180584;
                int64_t new_index_180587 = write_iter_180461 - binop_y_180586;
                int64_t index_concat_180559 = ((int64_t *) mem_180778)[new_index_180584 * i16_res_171432 + new_index_180587];
                
                index_concat_branch_180560 = index_concat_180559;
            }
            
            int64_t binop_x_178252 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171446 * i32_res_178242;
            int64_t new_index_178253 = block_idx_178243 + binop_x_178252;
            int64_t new_offset_178254 = ((int64_t *) mem_180891)[new_index_178253];
            bool index_concat_cmp_178255 = sle64(n_blocks_171436, block_idx_178243);
            int16_t index_concat_branch_178256;
            
            if (index_concat_cmp_178255) {
                int16_t index_concat_178440 = ((int16_t *) mem_180772)[i32_res_178242];
                
                index_concat_branch_178256 = index_concat_178440;
            } else {
                int16_t index_concat_178258 = ((int16_t *) mem_180784)[block_idx_178243 * (int64_t) 4 + i32_res_178242];
                
                index_concat_branch_178256 = index_concat_178258;
            }
            
            int64_t i16_res_178259 = sext_i16_i64(index_concat_branch_178256);
            int64_t zp_lhs_178260 = mul64(i16_res_171432, block_idx_178243);
            int64_t old_offset_178261 = add64(i16_res_178259, zp_lhs_178260);
            int64_t zp_lhs_178262 = sub64(write_iter_180461, old_offset_178261);
            int64_t idx_178263 = add64(new_offset_178254, zp_lhs_178262);
            
            if (sle64((int64_t) 0, idx_178263) && slt64(idx_178263, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439)) {
                ((float *) mem_180699)[idx_178263] = index_concat_branch_180566;
            }
            if (sle64((int64_t) 0, idx_178263) && slt64(idx_178263, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171439)) {
                ((int64_t *) mem_180701)[idx_178263] = index_concat_branch_180560;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180917, bytes_180916, "mem_180917")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180919, bytes_180918, "mem_180919")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180473 = 0; i_180473 < n_93378; i_180473++) {
        int64_t eta_p_171761 = ((int64_t *) mem_180701)[i_180473];
        bool x_171762 = sle64((int64_t) 0, eta_p_171761);
        bool y_171763 = slt64(eta_p_171761, n_93378);
        bool bounds_check_171764 = x_171762 && y_171763;
        bool index_certs_171765;
        
        if (!bounds_check_171764) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171761, "] out of bounds for array of shape [", (long long) n_93378, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171766 = ((int64_t *) ext_mem_180697.mem)[eta_p_171761];
        float lifted_lambda_res_171767 = ((float *) xs_mem_180696.mem)[eta_p_171761];
        
        ((int64_t *) mem_180917.mem)[i_180473] = lifted_lambda_res_171766;
        ((float *) mem_180919.mem)[i_180473] = lifted_lambda_res_171767;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180917, "mem_180917") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180919, "mem_180919") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182736, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182737, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180699);
        free(mem_180701);
        free(mem_180709);
        free(mem_180711);
        free(mem_180713);
        free(mem_180715);
        free(mem_180717);
        free(mem_180749);
        free(mem_180751);
        free(mem_180764);
        free(mem_180765);
        free(mem_180772);
        free(mem_180775);
        free(mem_180778);
        free(mem_180781);
        free(mem_180784);
        free(mem_180806);
        free(mem_180808);
        free(mem_180810);
        free(mem_180812);
        free(mem_180814);
        free(mem_180857);
        free(mem_180858);
        free(mem_180883);
        free(mem_180891);
        if (memblock_unref(ctx, &mem_180919, "mem_180919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180917, "mem_180917") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182763, struct memblock *mem_out_p_182764, struct memblock xs_mem_180696, int64_t n_88027, int64_t incr_88028, int16_t block_sizze_88029)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180699_cached_sizze_182765 = 0;
    unsigned char *mem_180699 = NULL;
    int64_t mem_180701_cached_sizze_182766 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180709_cached_sizze_182767 = 0;
    unsigned char *mem_180709 = NULL;
    int64_t mem_180711_cached_sizze_182768 = 0;
    unsigned char *mem_180711 = NULL;
    int64_t mem_180713_cached_sizze_182769 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182770 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182771 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180749_cached_sizze_182772 = 0;
    unsigned char *mem_180749 = NULL;
    int64_t mem_180751_cached_sizze_182773 = 0;
    unsigned char *mem_180751 = NULL;
    int64_t mem_180764_cached_sizze_182774 = 0;
    unsigned char *mem_180764 = NULL;
    int64_t mem_180765_cached_sizze_182775 = 0;
    unsigned char *mem_180765 = NULL;
    int64_t mem_180772_cached_sizze_182776 = 0;
    unsigned char *mem_180772 = NULL;
    int64_t mem_180775_cached_sizze_182777 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180778_cached_sizze_182778 = 0;
    unsigned char *mem_180778 = NULL;
    int64_t mem_180781_cached_sizze_182779 = 0;
    unsigned char *mem_180781 = NULL;
    int64_t mem_180784_cached_sizze_182780 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180806_cached_sizze_182781 = 0;
    unsigned char *mem_180806 = NULL;
    int64_t mem_180808_cached_sizze_182782 = 0;
    unsigned char *mem_180808 = NULL;
    int64_t mem_180810_cached_sizze_182783 = 0;
    unsigned char *mem_180810 = NULL;
    int64_t mem_180812_cached_sizze_182784 = 0;
    unsigned char *mem_180812 = NULL;
    int64_t mem_180814_cached_sizze_182785 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180857_cached_sizze_182786 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180858_cached_sizze_182787 = 0;
    unsigned char *mem_180858 = NULL;
    int64_t mem_180883_cached_sizze_182788 = 0;
    unsigned char *mem_180883 = NULL;
    int64_t mem_180891_cached_sizze_182789 = 0;
    unsigned char *mem_180891 = NULL;
    struct memblock mem_180919;
    
    mem_180919.references = NULL;
    
    struct memblock mem_180917;
    
    mem_180917.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    bool cond_168200 = n_88027 == (int64_t) 0;
    int32_t iters_168201;
    
    if (cond_168200) {
        iters_168201 = 0;
    } else {
        iters_168201 = 16;
    }
    
    int64_t i16_res_168202 = sext_i16_i64(block_sizze_88029);
    bool zzero_168203 = i16_res_168202 == (int64_t) 0;
    bool nonzzero_168204 = !zzero_168203;
    bool nonzzero_cert_168205;
    
    if (!nonzzero_168204) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168206 = sdiv64(n_88027, i16_res_168202);
    int64_t rest_168207 = smod64(n_88027, i16_res_168202);
    int64_t arg_168208 = mul64(i16_res_168202, n_blocks_168206);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 = add64(rest_168207, arg_168208);
    bool dim_match_168210 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 == n_88027;
    bool empty_or_match_cert_168211;
    
    if (!dim_match_168210) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_88027, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180698 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    int64_t bytes_180700 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool loop_nonempty_168215 = slt32(0, iters_168201);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 = add64((int64_t) 1, n_blocks_168206);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
    bool empty_slice_168218 = arg_168208 == (int64_t) 0;
    int64_t m_168219 = sub64(arg_168208, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168220 = sle64((int64_t) 0, m_168219);
    bool i_p_m_t_s_leq_w_168221 = slt64(m_168219, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168222 = sle64((int64_t) 0, arg_168208);
    bool y_168223 = zzero_leq_i_p_m_t_s_168220 && i_p_m_t_s_leq_w_168221;
    bool forwards_ok_168224 = i_lte_j_168222 && y_168223;
    bool ok_or_empty_168225 = empty_slice_168218 || forwards_ok_168224;
    bool loop_not_taken_168226 = !loop_nonempty_168215;
    bool protect_assert_disj_168227 = ok_or_empty_168225 || loop_not_taken_168226;
    bool index_certs_168228;
    
    if (!protect_assert_disj_168227) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168208, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168229 = rest_168207 == (int64_t) 0;
    int64_t m_168230 = sub64(rest_168207, (int64_t) 1);
    int64_t i_p_m_t_s_168231 = add64(arg_168208, m_168230);
    bool zzero_leq_i_p_m_t_s_168232 = sle64((int64_t) 0, i_p_m_t_s_168231);
    bool i_p_m_t_s_leq_w_168233 = slt64(i_p_m_t_s_168231, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168234 = sle64(arg_168208, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool y_168235 = zzero_leq_i_p_m_t_s_168232 && i_p_m_t_s_leq_w_168233;
    bool forwards_ok_168236 = i_lte_j_168234 && y_168235;
    bool ok_or_empty_168237 = empty_slice_168229 || forwards_ok_168236;
    bool protect_assert_disj_168238 = loop_not_taken_168226 || ok_or_empty_168237;
    bool index_certs_168239;
    
    if (!protect_assert_disj_168238) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168208, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168240 = sle64((int64_t) 0, n_blocks_168206);
    bool binop_y_168241 = sle64((int64_t) 0, i16_res_168202);
    bool binop_y_168242 = binop_x_168240 && binop_y_168241;
    bool protect_assert_disj_168243 = loop_not_taken_168226 || binop_y_168242;
    bool dim_ok_cert_168244;
    
    if (!protect_assert_disj_168243) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168208, "] to array of shape [", (long long) n_blocks_168206, "][", (long long) i16_res_168202, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168245 = sub64(i16_res_168202, (int64_t) 1);
    bool x_168246 = sle64((int64_t) 0, tmp_168245);
    bool y_168247 = slt64(tmp_168245, i16_res_168202);
    bool bounds_check_168248 = x_168246 && y_168247;
    bool protect_assert_disj_168249 = zzero_168203 || bounds_check_168248;
    bool protect_assert_disj_168250 = loop_not_taken_168226 || protect_assert_disj_168249;
    bool index_certs_168251;
    
    if (!protect_assert_disj_168250) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168245, "] out of bounds for array of shape [", (long long) i16_res_168202, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168253 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
    bool protect_assert_disj_168254 = loop_not_taken_168226 || y_168253;
    bool index_certs_168255;
    
    if (!protect_assert_disj_168254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168257 = nonzzero_168204 || loop_not_taken_168226;
    bool nonzzero_cert_168258;
    
    if (!protect_assert_disj_168257) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168259 = sle64((int64_t) 0, m_168230);
    bool y_168260 = slt64(m_168230, rest_168207);
    bool bounds_check_168261 = x_168259 && y_168260;
    bool protect_assert_disj_168262 = empty_slice_168229 || bounds_check_168261;
    bool protect_assert_disj_168263 = loop_not_taken_168226 || protect_assert_disj_168262;
    bool index_certs_168264;
    
    if (!protect_assert_disj_168263) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168230, "] out of bounds for array of shape [", (long long) rest_168207, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180708 = (int64_t) 2 * rest_168207;
    int64_t bytes_180748 = (int64_t) 8 * rest_168207;
    int64_t bytes_180750 = (int64_t) 4 * rest_168207;
    int64_t binop_x_180773 = (int64_t) 4 * n_blocks_168206;
    int64_t bytes_180774 = i16_res_168202 * binop_x_180773;
    int64_t binop_x_180776 = (int64_t) 8 * n_blocks_168206;
    int64_t bytes_180777 = i16_res_168202 * binop_x_180776;
    int64_t bytes_180780 = (int64_t) 32 * n_blocks_168206;
    int64_t bytes_180805 = (int64_t) 2 * i16_res_168202;
    int64_t bytes_180882 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216;
    bool dim_match_168496 = n_88027 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool empty_or_match_cert_168497;
    
    if (!dim_match_168496) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] cannot match shape of type `[", (long long) n_88027, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180916 = (int64_t) 8 * n_88027;
    int64_t bytes_180918 = (int64_t) 4 * n_88027;
    
    if (futrts_indicesWithIncrement_9283(ctx, &ext_mem_180697, xs_mem_180696, n_88027, incr_88028) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180699_cached_sizze_182765 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180699, &mem_180699_cached_sizze_182765, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_180696.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209});
    if (mem_180701_cached_sizze_182766 < bytes_180700) {
        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182766, bytes_180700);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182112 = 0; i_182112 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; i_182112++) {
        int64_t x_182113 = (int64_t) 0 + i_182112 * (int64_t) 1;
        
        ((int64_t *) mem_180701)[i_182112] = x_182113;
    }
    if (mem_180709_cached_sizze_182767 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180709, &mem_180709_cached_sizze_182767, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180711_cached_sizze_182768 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180711, &mem_180711_cached_sizze_182768, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180713_cached_sizze_182769 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182769, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180715_cached_sizze_182770 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182770, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180717_cached_sizze_182771 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182771, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180749_cached_sizze_182772 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180749, &mem_180749_cached_sizze_182772, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180751_cached_sizze_182773 < bytes_180750) {
        err = lexical_realloc(ctx, &mem_180751, &mem_180751_cached_sizze_182773, bytes_180750);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180764_cached_sizze_182774 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180764, &mem_180764_cached_sizze_182774, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180765_cached_sizze_182775 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180765, &mem_180765_cached_sizze_182775, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180772_cached_sizze_182776 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180772, &mem_180772_cached_sizze_182776, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180775_cached_sizze_182777 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182777, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180778_cached_sizze_182778 < bytes_180777) {
        err = lexical_realloc(ctx, &mem_180778, &mem_180778_cached_sizze_182778, bytes_180777);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180781_cached_sizze_182779 < bytes_180780) {
        err = lexical_realloc(ctx, &mem_180781, &mem_180781_cached_sizze_182779, bytes_180780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180784_cached_sizze_182780 < binop_x_180776) {
        err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182780, binop_x_180776);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180806_cached_sizze_182781 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180806, &mem_180806_cached_sizze_182781, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180808_cached_sizze_182782 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180808, &mem_180808_cached_sizze_182782, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180810_cached_sizze_182783 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180810, &mem_180810_cached_sizze_182783, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180812_cached_sizze_182784 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180812, &mem_180812_cached_sizze_182784, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180814_cached_sizze_182785 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182785, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180857_cached_sizze_182786 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182786, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180858_cached_sizze_182787 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180858, &mem_180858_cached_sizze_182787, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180883_cached_sizze_182788 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180883, &mem_180883_cached_sizze_182788, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180891_cached_sizze_182789 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180891, &mem_180891_cached_sizze_182789, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168267 = 0; i_168267 < iters_168201; i_168267++) {
        int32_t blocked_radix_sort_step_arg1_168270 = mul32(2, i_168267);
        int32_t get_bit_arg0_168275 = add32(1, blocked_radix_sort_step_arg1_168270);
        bool cond_168276 = get_bit_arg0_168275 == 31;
        bool cond_168277 = blocked_radix_sort_step_arg1_168270 == 31;
        int16_t discard_180376;
        int16_t discard_180377;
        int16_t discard_180378;
        int16_t discard_180379;
        int16_t scanacc_180361;
        int16_t scanacc_180362;
        int16_t scanacc_180363;
        int16_t scanacc_180364;
        
        scanacc_180361 = (int16_t) 0;
        scanacc_180362 = (int16_t) 0;
        scanacc_180363 = (int16_t) 0;
        scanacc_180364 = (int16_t) 0;
        for (int64_t i_180370 = 0; i_180370 < rest_168207; i_180370++) {
            int64_t slice_180583 = arg_168208 + i_180370;
            int32_t eta_p_178282 = ((int32_t *) mem_180699)[slice_180583];
            int32_t zgzg_res_178283 = ashr32(eta_p_178282, get_bit_arg0_168275);
            int32_t za_res_178284 = 1 & zgzg_res_178283;
            int32_t defunc_0_get_bit_res_178285;
            
            if (cond_168276) {
                int32_t defunc_0_get_bit_res_t_res_178400 = 1 ^ za_res_178284;
                
                defunc_0_get_bit_res_178285 = defunc_0_get_bit_res_t_res_178400;
            } else {
                defunc_0_get_bit_res_178285 = za_res_178284;
            }
            
            int32_t zp_lhs_178287 = mul32(2, defunc_0_get_bit_res_178285);
            int32_t zgzg_res_178288 = ashr32(eta_p_178282, blocked_radix_sort_step_arg1_168270);
            int32_t za_res_178289 = 1 & zgzg_res_178288;
            int32_t defunc_0_get_bit_res_178290;
            
            if (cond_168277) {
                int32_t defunc_0_get_bit_res_t_res_178401 = 1 ^ za_res_178289;
                
                defunc_0_get_bit_res_178290 = defunc_0_get_bit_res_t_res_178401;
            } else {
                defunc_0_get_bit_res_178290 = za_res_178289;
            }
            
            int32_t i32_arg0_178292 = add32(zp_lhs_178287, defunc_0_get_bit_res_178290);
            int16_t i32_res_178293 = sext_i32_i16(i32_arg0_178292);
            int16_t defunc_0_f_res_178295;
            int16_t defunc_0_f_res_178296;
            int16_t defunc_0_f_res_178297;
            int16_t defunc_0_f_res_178298;
            
            if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178295, &defunc_0_f_res_178296, &defunc_0_f_res_178297, &defunc_0_f_res_178298, i32_res_178293) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168314 = add16(defunc_0_f_res_178295, scanacc_180361);
            int16_t defunc_0_op_res_168315 = add16(defunc_0_f_res_178296, scanacc_180362);
            int16_t defunc_0_op_res_168316 = add16(defunc_0_f_res_178297, scanacc_180363);
            int16_t defunc_0_op_res_168317 = add16(defunc_0_f_res_178298, scanacc_180364);
            
            ((int16_t *) mem_180709)[i_180370] = defunc_0_op_res_168314;
            ((int16_t *) mem_180711)[i_180370] = defunc_0_op_res_168315;
            ((int16_t *) mem_180713)[i_180370] = defunc_0_op_res_168316;
            ((int16_t *) mem_180715)[i_180370] = defunc_0_op_res_168317;
            ((int16_t *) mem_180717)[i_180370] = i32_res_178293;
            
            int16_t scanacc_tmp_182116 = defunc_0_op_res_168314;
            int16_t scanacc_tmp_182117 = defunc_0_op_res_168315;
            int16_t scanacc_tmp_182118 = defunc_0_op_res_168316;
            int16_t scanacc_tmp_182119 = defunc_0_op_res_168317;
            
            scanacc_180361 = scanacc_tmp_182116;
            scanacc_180362 = scanacc_tmp_182117;
            scanacc_180363 = scanacc_tmp_182118;
            scanacc_180364 = scanacc_tmp_182119;
        }
        discard_180376 = scanacc_180361;
        discard_180377 = scanacc_180362;
        discard_180378 = scanacc_180363;
        discard_180379 = scanacc_180364;
        
        int16_t defunc_0_radix_sort_step_i16_res_168318;
        int16_t defunc_0_radix_sort_step_i16_res_168319;
        int16_t defunc_0_radix_sort_step_i16_res_168320;
        int16_t defunc_0_radix_sort_step_i16_res_168321;
        
        if (empty_slice_168229) {
            defunc_0_radix_sort_step_i16_res_168318 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168319 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168320 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168321 = (int16_t) 0;
        } else {
            int16_t last_res_168322 = ((int16_t *) mem_180709)[m_168230];
            int16_t last_res_168323 = ((int16_t *) mem_180711)[m_168230];
            int16_t last_res_168324 = ((int16_t *) mem_180713)[m_168230];
            int16_t last_res_168325 = ((int16_t *) mem_180715)[m_168230];
            
            defunc_0_radix_sort_step_i16_res_168318 = last_res_168322;
            defunc_0_radix_sort_step_i16_res_168319 = last_res_168323;
            defunc_0_radix_sort_step_i16_res_168320 = last_res_168324;
            defunc_0_radix_sort_step_i16_res_168321 = last_res_168325;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180751, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180699, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        for (int64_t write_iter_180380 = 0; write_iter_180380 < rest_168207; write_iter_180380++) {
            int16_t write_iv_180383 = ((int16_t *) mem_180717)[write_iter_180380];
            int16_t write_iv_180384 = ((int16_t *) mem_180709)[write_iter_180380];
            int16_t write_iv_180385 = ((int16_t *) mem_180711)[write_iter_180380];
            int16_t write_iv_180386 = ((int16_t *) mem_180713)[write_iter_180380];
            int16_t write_iv_180387 = ((int16_t *) mem_180715)[write_iter_180380];
            int64_t slice_180582 = arg_168208 + write_iter_180380;
            int32_t write_iv_180388 = ((int32_t *) mem_180699)[slice_180582];
            int64_t write_iv_180389 = ((int64_t *) mem_180701)[slice_180582];
            int64_t defunc_0_f_res_178266;
            
            if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178266, defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319, defunc_0_radix_sort_step_i16_res_168320, write_iv_180383, write_iv_180384, write_iv_180385, write_iv_180386, write_iv_180387) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178266) && slt64(defunc_0_f_res_178266, rest_168207)) {
                ((int32_t *) mem_180751)[defunc_0_f_res_178266] = write_iv_180388;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178266) && slt64(defunc_0_f_res_178266, rest_168207)) {
                ((int64_t *) mem_180749)[defunc_0_f_res_178266] = write_iv_180389;
            }
        }
        ((int16_t *) mem_180764)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180764)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168319;
        ((int16_t *) mem_180764)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168320;
        ((int16_t *) mem_180764)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168321;
        for (int64_t i_180394 = 0; i_180394 < (int64_t) 4; i_180394++) {
            int16_t eta_p_168342 = ((int16_t *) mem_180764)[i_180394];
            int64_t i16_res_168343 = sext_i16_i64(eta_p_168342);
            
            ((int64_t *) mem_180765)[i_180394] = i16_res_168343;
        }
        
        int16_t tmp_168344 = add16(defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319);
        int16_t tmp_168345 = add16(defunc_0_radix_sort_step_i16_res_168320, tmp_168344);
        
        ((int16_t *) mem_180772)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180772)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180772)[(int64_t) 2] = tmp_168344;
        ((int16_t *) mem_180772)[(int64_t) 3] = tmp_168345;
        for (int64_t i_180444 = 0; i_180444 < n_blocks_168206; i_180444++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180775, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180699, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180778, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            
            int64_t binop_x_180596 = i16_res_168202 * i_180444;
            int16_t discard_180416;
            int16_t discard_180417;
            int16_t discard_180418;
            int16_t discard_180419;
            int16_t scanacc_180401;
            int16_t scanacc_180402;
            int16_t scanacc_180403;
            int16_t scanacc_180404;
            
            scanacc_180401 = (int16_t) 0;
            scanacc_180402 = (int16_t) 0;
            scanacc_180403 = (int16_t) 0;
            scanacc_180404 = (int16_t) 0;
            for (int64_t i_180410 = 0; i_180410 < i16_res_168202; i_180410++) {
                int64_t new_index_180597 = i_180410 + binop_x_180596;
                int32_t eta_p_178329 = ((int32_t *) mem_180699)[new_index_180597];
                int32_t zgzg_res_178330 = ashr32(eta_p_178329, get_bit_arg0_168275);
                int32_t za_res_178331 = 1 & zgzg_res_178330;
                int32_t defunc_0_get_bit_res_178332;
                
                if (cond_168276) {
                    int32_t defunc_0_get_bit_res_t_res_178402 = 1 ^ za_res_178331;
                    
                    defunc_0_get_bit_res_178332 = defunc_0_get_bit_res_t_res_178402;
                } else {
                    defunc_0_get_bit_res_178332 = za_res_178331;
                }
                
                int32_t zp_lhs_178334 = mul32(2, defunc_0_get_bit_res_178332);
                int32_t zgzg_res_178335 = ashr32(eta_p_178329, blocked_radix_sort_step_arg1_168270);
                int32_t za_res_178336 = 1 & zgzg_res_178335;
                int32_t defunc_0_get_bit_res_178337;
                
                if (cond_168277) {
                    int32_t defunc_0_get_bit_res_t_res_178403 = 1 ^ za_res_178336;
                    
                    defunc_0_get_bit_res_178337 = defunc_0_get_bit_res_t_res_178403;
                } else {
                    defunc_0_get_bit_res_178337 = za_res_178336;
                }
                
                int32_t i32_arg0_178339 = add32(zp_lhs_178334, defunc_0_get_bit_res_178337);
                int16_t i32_res_178340 = sext_i32_i16(i32_arg0_178339);
                int16_t defunc_0_f_res_178342;
                int16_t defunc_0_f_res_178343;
                int16_t defunc_0_f_res_178344;
                int16_t defunc_0_f_res_178345;
                
                if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178342, &defunc_0_f_res_178343, &defunc_0_f_res_178344, &defunc_0_f_res_178345, i32_res_178340) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168395 = add16(defunc_0_f_res_178342, scanacc_180401);
                int16_t defunc_0_op_res_168396 = add16(defunc_0_f_res_178343, scanacc_180402);
                int16_t defunc_0_op_res_168397 = add16(defunc_0_f_res_178344, scanacc_180403);
                int16_t defunc_0_op_res_168398 = add16(defunc_0_f_res_178345, scanacc_180404);
                
                ((int16_t *) mem_180806)[i_180410] = defunc_0_op_res_168395;
                ((int16_t *) mem_180808)[i_180410] = defunc_0_op_res_168396;
                ((int16_t *) mem_180810)[i_180410] = defunc_0_op_res_168397;
                ((int16_t *) mem_180812)[i_180410] = defunc_0_op_res_168398;
                ((int16_t *) mem_180814)[i_180410] = i32_res_178340;
                
                int16_t scanacc_tmp_182132 = defunc_0_op_res_168395;
                int16_t scanacc_tmp_182133 = defunc_0_op_res_168396;
                int16_t scanacc_tmp_182134 = defunc_0_op_res_168397;
                int16_t scanacc_tmp_182135 = defunc_0_op_res_168398;
                
                scanacc_180401 = scanacc_tmp_182132;
                scanacc_180402 = scanacc_tmp_182133;
                scanacc_180403 = scanacc_tmp_182134;
                scanacc_180404 = scanacc_tmp_182135;
            }
            discard_180416 = scanacc_180401;
            discard_180417 = scanacc_180402;
            discard_180418 = scanacc_180403;
            discard_180419 = scanacc_180404;
            
            int16_t defunc_0_f_res_168399;
            int16_t defunc_0_f_res_168400;
            int16_t defunc_0_f_res_168401;
            int16_t defunc_0_f_res_168402;
            
            if (zzero_168203) {
                defunc_0_f_res_168399 = (int16_t) 0;
                defunc_0_f_res_168400 = (int16_t) 0;
                defunc_0_f_res_168401 = (int16_t) 0;
                defunc_0_f_res_168402 = (int16_t) 0;
            } else {
                int16_t last_res_168403 = ((int16_t *) mem_180806)[tmp_168245];
                int16_t last_res_168404 = ((int16_t *) mem_180808)[tmp_168245];
                int16_t last_res_168405 = ((int16_t *) mem_180810)[tmp_168245];
                int16_t last_res_168406 = ((int16_t *) mem_180812)[tmp_168245];
                
                defunc_0_f_res_168399 = last_res_168403;
                defunc_0_f_res_168400 = last_res_168404;
                defunc_0_f_res_168401 = last_res_168405;
                defunc_0_f_res_168402 = last_res_168406;
            }
            for (int64_t write_iter_180420 = 0; write_iter_180420 < i16_res_168202; write_iter_180420++) {
                int16_t write_iv_180423 = ((int16_t *) mem_180814)[write_iter_180420];
                int16_t write_iv_180424 = ((int16_t *) mem_180806)[write_iter_180420];
                int16_t write_iv_180425 = ((int16_t *) mem_180808)[write_iter_180420];
                int16_t write_iv_180426 = ((int16_t *) mem_180810)[write_iter_180420];
                int16_t write_iv_180427 = ((int16_t *) mem_180812)[write_iter_180420];
                int64_t new_index_180593 = write_iter_180420 + binop_x_180596;
                int32_t write_iv_180428 = ((int32_t *) mem_180699)[new_index_180593];
                int64_t write_iv_180429 = ((int64_t *) mem_180701)[new_index_180593];
                int64_t defunc_0_f_res_178313;
                
                if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178313, defunc_0_f_res_168399, defunc_0_f_res_168400, defunc_0_f_res_168401, write_iv_180423, write_iv_180424, write_iv_180425, write_iv_180426, write_iv_180427) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178313) && slt64(defunc_0_f_res_178313, i16_res_168202)) {
                    ((int32_t *) mem_180775)[i_180444 * i16_res_168202 + defunc_0_f_res_178313] = write_iv_180428;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178313) && slt64(defunc_0_f_res_178313, i16_res_168202)) {
                    ((int64_t *) mem_180778)[i_180444 * i16_res_168202 + defunc_0_f_res_178313] = write_iv_180429;
                }
            }
            ((int16_t *) mem_180857)[(int64_t) 0] = defunc_0_f_res_168399;
            ((int16_t *) mem_180857)[(int64_t) 1] = defunc_0_f_res_168400;
            ((int16_t *) mem_180857)[(int64_t) 2] = defunc_0_f_res_168401;
            ((int16_t *) mem_180857)[(int64_t) 3] = defunc_0_f_res_168402;
            for (int64_t i_180434 = 0; i_180434 < (int64_t) 4; i_180434++) {
                int16_t eta_p_168421 = ((int16_t *) mem_180857)[i_180434];
                int64_t i16_res_168422 = sext_i16_i64(eta_p_168421);
                
                ((int64_t *) mem_180858)[i_180434] = i16_res_168422;
            }
            
            int16_t tmp_168423 = add16(defunc_0_f_res_168399, defunc_0_f_res_168400);
            int16_t tmp_168424 = add16(defunc_0_f_res_168401, tmp_168423);
            
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168399;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 2] = tmp_168423;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 3] = tmp_168424;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180781, i_180444 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180858, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180456;
        int64_t scanacc_180452 = (int64_t) 0;
        
        for (int64_t i_180454 = 0; i_180454 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180454++) {
            int64_t new_index_180571 = squot64(i_180454, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            int64_t binop_y_180573 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * new_index_180571;
            int64_t new_index_180574 = i_180454 - binop_y_180573;
            bool index_concat_cmp_180576 = sle64(n_blocks_168206, new_index_180574);
            int64_t index_concat_branch_180580;
            
            if (index_concat_cmp_180576) {
                int64_t index_concat_180578 = ((int64_t *) mem_180765)[new_index_180571];
                
                index_concat_branch_180580 = index_concat_180578;
            } else {
                int64_t index_concat_180579 = ((int64_t *) mem_180781)[new_index_180574 * (int64_t) 4 + new_index_180571];
                
                index_concat_branch_180580 = index_concat_180579;
            }
            
            int64_t defunc_0_op_res_168436 = add64(scanacc_180452, index_concat_branch_180580);
            
            ((int64_t *) mem_180883)[i_180454] = defunc_0_op_res_168436;
            
            int64_t scanacc_tmp_182144 = defunc_0_op_res_168436;
            
            scanacc_180452 = scanacc_tmp_182144;
        }
        discard_180456 = scanacc_180452;
        for (int64_t i_180459 = 0; i_180459 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180459++) {
            int64_t zv_lhs_168439 = add64((int64_t) -1, i_180459);
            int64_t tmp_168440 = smod64(zv_lhs_168439, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
            int64_t lifted_lambda_res_168441 = ((int64_t *) mem_180883)[tmp_168440];
            
            ((int64_t *) mem_180891)[i_180459] = lifted_lambda_res_168441;
        }
        ((int64_t *) mem_180891)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180461 = 0; write_iter_180461 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; write_iter_180461++) {
            bool index_concat_cmp_180562 = sle64(arg_168208, write_iter_180461);
            int32_t index_concat_branch_178217;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_178412 = sub64(write_iter_180461, arg_168208);
                int32_t index_concat_178413 = ((int32_t *) mem_180751)[index_concat_i_178412];
                
                index_concat_branch_178217 = index_concat_178413;
            } else {
                int64_t new_index_178220 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_178221 = i16_res_168202 * new_index_178220;
                int64_t new_index_178222 = write_iter_180461 - binop_y_178221;
                int32_t index_concat_178223 = ((int32_t *) mem_180775)[new_index_178220 * i16_res_168202 + new_index_178222];
                
                index_concat_branch_178217 = index_concat_178223;
            }
            
            int32_t zlzb_rhs_178224;
            int32_t acc_178226 = 0;
            
            for (int32_t i_178225 = 0; i_178225 < 2; i_178225++) {
                int32_t get_bit_arg0_178227 = add32(blocked_radix_sort_step_arg1_168270, i_178225);
                int32_t zgzg_res_178228 = ashr32(index_concat_branch_178217, get_bit_arg0_178227);
                int32_t za_res_178229 = 1 & zgzg_res_178228;
                bool cond_178230 = get_bit_arg0_178227 == 31;
                int32_t defunc_0_get_bit_res_178231;
                
                if (cond_178230) {
                    int32_t defunc_0_get_bit_res_t_res_178414 = 1 ^ za_res_178229;
                    
                    defunc_0_get_bit_res_178231 = defunc_0_get_bit_res_t_res_178414;
                } else {
                    defunc_0_get_bit_res_178231 = za_res_178229;
                }
                
                int32_t zp_rhs_178233 = shl32(defunc_0_get_bit_res_178231, i_178225);
                int32_t loopres_178234 = add32(acc_178226, zp_rhs_178233);
                int32_t acc_tmp_182149 = loopres_178234;
                
                acc_178226 = acc_tmp_182149;
            }
            zlzb_rhs_178224 = acc_178226;
            
            int64_t i32_res_178235 = sext_i32_i64(zlzb_rhs_178224);
            int64_t block_idx_178236 = sdiv64(write_iter_180461, i16_res_168202);
            bool x_178237 = sle64((int64_t) 0, block_idx_178236);
            bool y_178238 = slt64(block_idx_178236, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            bool bounds_check_178239 = x_178237 && y_178238;
            bool index_certs_178240;
            
            if (!bounds_check_178239) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178236, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178241 = sle64((int64_t) 0, i32_res_178235);
            bool y_178242 = slt64(i32_res_178235, (int64_t) 4);
            bool bounds_check_178243 = x_178241 && y_178242;
            bool index_certs_178244;
            
            if (!bounds_check_178243) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178235, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_180566;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180563 = sub64(write_iter_180461, arg_168208);
                int32_t index_concat_180564 = ((int32_t *) mem_180751)[index_concat_i_180563];
                
                index_concat_branch_180566 = index_concat_180564;
            } else {
                int64_t new_index_180588 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180590 = i16_res_168202 * new_index_180588;
                int64_t new_index_180591 = write_iter_180461 - binop_y_180590;
                int32_t index_concat_180565 = ((int32_t *) mem_180775)[new_index_180588 * i16_res_168202 + new_index_180591];
                
                index_concat_branch_180566 = index_concat_180565;
            }
            
            int64_t index_concat_branch_180560;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180557 = sub64(write_iter_180461, arg_168208);
                int64_t index_concat_180558 = ((int64_t *) mem_180749)[index_concat_i_180557];
                
                index_concat_branch_180560 = index_concat_180558;
            } else {
                int64_t new_index_180584 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180586 = i16_res_168202 * new_index_180584;
                int64_t new_index_180587 = write_iter_180461 - binop_y_180586;
                int64_t index_concat_180559 = ((int64_t *) mem_180778)[new_index_180584 * i16_res_168202 + new_index_180587];
                
                index_concat_branch_180560 = index_concat_180559;
            }
            
            int64_t binop_x_178245 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * i32_res_178235;
            int64_t new_index_178246 = block_idx_178236 + binop_x_178245;
            int64_t new_offset_178247 = ((int64_t *) mem_180891)[new_index_178246];
            bool index_concat_cmp_178248 = sle64(n_blocks_168206, block_idx_178236);
            int16_t index_concat_branch_178249;
            
            if (index_concat_cmp_178248) {
                int16_t index_concat_178415 = ((int16_t *) mem_180772)[i32_res_178235];
                
                index_concat_branch_178249 = index_concat_178415;
            } else {
                int16_t index_concat_178251 = ((int16_t *) mem_180784)[block_idx_178236 * (int64_t) 4 + i32_res_178235];
                
                index_concat_branch_178249 = index_concat_178251;
            }
            
            int64_t i16_res_178252 = sext_i16_i64(index_concat_branch_178249);
            int64_t zp_lhs_178253 = mul64(i16_res_168202, block_idx_178236);
            int64_t old_offset_178254 = add64(i16_res_178252, zp_lhs_178253);
            int64_t zp_lhs_178255 = sub64(write_iter_180461, old_offset_178254);
            int64_t idx_178256 = add64(new_offset_178247, zp_lhs_178255);
            
            if (sle64((int64_t) 0, idx_178256) && slt64(idx_178256, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int32_t *) mem_180699)[idx_178256] = index_concat_branch_180566;
            }
            if (sle64((int64_t) 0, idx_178256) && slt64(idx_178256, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int64_t *) mem_180701)[idx_178256] = index_concat_branch_180560;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180917, bytes_180916, "mem_180917")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180919, bytes_180918, "mem_180919")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180473 = 0; i_180473 < n_88027; i_180473++) {
        int64_t eta_p_168501 = ((int64_t *) mem_180701)[i_180473];
        bool x_168502 = sle64((int64_t) 0, eta_p_168501);
        bool y_168503 = slt64(eta_p_168501, n_88027);
        bool bounds_check_168504 = x_168502 && y_168503;
        bool index_certs_168505;
        
        if (!bounds_check_168504) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168501, "] out of bounds for array of shape [", (long long) n_88027, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168506 = ((int64_t *) ext_mem_180697.mem)[eta_p_168501];
        int32_t lifted_lambda_res_168507 = ((int32_t *) xs_mem_180696.mem)[eta_p_168501];
        
        ((int64_t *) mem_180917.mem)[i_180473] = lifted_lambda_res_168506;
        ((int32_t *) mem_180919.mem)[i_180473] = lifted_lambda_res_168507;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180917, "mem_180917") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180919, "mem_180919") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182763, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182764, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180699);
        free(mem_180701);
        free(mem_180709);
        free(mem_180711);
        free(mem_180713);
        free(mem_180715);
        free(mem_180717);
        free(mem_180749);
        free(mem_180751);
        free(mem_180764);
        free(mem_180765);
        free(mem_180772);
        free(mem_180775);
        free(mem_180778);
        free(mem_180781);
        free(mem_180784);
        free(mem_180806);
        free(mem_180808);
        free(mem_180810);
        free(mem_180812);
        free(mem_180814);
        free(mem_180857);
        free(mem_180858);
        free(mem_180883);
        free(mem_180891);
        if (memblock_unref(ctx, &mem_180919, "mem_180919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180917, "mem_180917") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182790, struct memblock *mem_out_p_182791, struct memblock xs_mem_180696, int64_t n_90627, int64_t incr_90628, int16_t block_sizze_90629)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180699_cached_sizze_182792 = 0;
    unsigned char *mem_180699 = NULL;
    int64_t mem_180701_cached_sizze_182793 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180709_cached_sizze_182794 = 0;
    unsigned char *mem_180709 = NULL;
    int64_t mem_180711_cached_sizze_182795 = 0;
    unsigned char *mem_180711 = NULL;
    int64_t mem_180713_cached_sizze_182796 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182797 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182798 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180749_cached_sizze_182799 = 0;
    unsigned char *mem_180749 = NULL;
    int64_t mem_180751_cached_sizze_182800 = 0;
    unsigned char *mem_180751 = NULL;
    int64_t mem_180764_cached_sizze_182801 = 0;
    unsigned char *mem_180764 = NULL;
    int64_t mem_180765_cached_sizze_182802 = 0;
    unsigned char *mem_180765 = NULL;
    int64_t mem_180772_cached_sizze_182803 = 0;
    unsigned char *mem_180772 = NULL;
    int64_t mem_180775_cached_sizze_182804 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180778_cached_sizze_182805 = 0;
    unsigned char *mem_180778 = NULL;
    int64_t mem_180781_cached_sizze_182806 = 0;
    unsigned char *mem_180781 = NULL;
    int64_t mem_180784_cached_sizze_182807 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180806_cached_sizze_182808 = 0;
    unsigned char *mem_180806 = NULL;
    int64_t mem_180808_cached_sizze_182809 = 0;
    unsigned char *mem_180808 = NULL;
    int64_t mem_180810_cached_sizze_182810 = 0;
    unsigned char *mem_180810 = NULL;
    int64_t mem_180812_cached_sizze_182811 = 0;
    unsigned char *mem_180812 = NULL;
    int64_t mem_180814_cached_sizze_182812 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180857_cached_sizze_182813 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180858_cached_sizze_182814 = 0;
    unsigned char *mem_180858 = NULL;
    int64_t mem_180883_cached_sizze_182815 = 0;
    unsigned char *mem_180883 = NULL;
    int64_t mem_180891_cached_sizze_182816 = 0;
    unsigned char *mem_180891 = NULL;
    struct memblock mem_180919;
    
    mem_180919.references = NULL;
    
    struct memblock mem_180917;
    
    mem_180917.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    bool cond_168200 = n_90627 == (int64_t) 0;
    int32_t iters_168201;
    
    if (cond_168200) {
        iters_168201 = 0;
    } else {
        iters_168201 = 32;
    }
    
    int64_t i16_res_168202 = sext_i16_i64(block_sizze_90629);
    bool zzero_168203 = i16_res_168202 == (int64_t) 0;
    bool nonzzero_168204 = !zzero_168203;
    bool nonzzero_cert_168205;
    
    if (!nonzzero_168204) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168206 = sdiv64(n_90627, i16_res_168202);
    int64_t rest_168207 = smod64(n_90627, i16_res_168202);
    int64_t arg_168208 = mul64(i16_res_168202, n_blocks_168206);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 = add64(rest_168207, arg_168208);
    bool dim_match_168210 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 == n_90627;
    bool empty_or_match_cert_168211;
    
    if (!dim_match_168210) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90627, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180698 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool loop_nonempty_168215 = slt32(0, iters_168201);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 = add64((int64_t) 1, n_blocks_168206);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
    bool empty_slice_168218 = arg_168208 == (int64_t) 0;
    int64_t m_168219 = sub64(arg_168208, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168220 = sle64((int64_t) 0, m_168219);
    bool i_p_m_t_s_leq_w_168221 = slt64(m_168219, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168222 = sle64((int64_t) 0, arg_168208);
    bool y_168223 = zzero_leq_i_p_m_t_s_168220 && i_p_m_t_s_leq_w_168221;
    bool forwards_ok_168224 = i_lte_j_168222 && y_168223;
    bool ok_or_empty_168225 = empty_slice_168218 || forwards_ok_168224;
    bool loop_not_taken_168226 = !loop_nonempty_168215;
    bool protect_assert_disj_168227 = ok_or_empty_168225 || loop_not_taken_168226;
    bool index_certs_168228;
    
    if (!protect_assert_disj_168227) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168208, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168229 = rest_168207 == (int64_t) 0;
    int64_t m_168230 = sub64(rest_168207, (int64_t) 1);
    int64_t i_p_m_t_s_168231 = add64(arg_168208, m_168230);
    bool zzero_leq_i_p_m_t_s_168232 = sle64((int64_t) 0, i_p_m_t_s_168231);
    bool i_p_m_t_s_leq_w_168233 = slt64(i_p_m_t_s_168231, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168234 = sle64(arg_168208, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool y_168235 = zzero_leq_i_p_m_t_s_168232 && i_p_m_t_s_leq_w_168233;
    bool forwards_ok_168236 = i_lte_j_168234 && y_168235;
    bool ok_or_empty_168237 = empty_slice_168229 || forwards_ok_168236;
    bool protect_assert_disj_168238 = loop_not_taken_168226 || ok_or_empty_168237;
    bool index_certs_168239;
    
    if (!protect_assert_disj_168238) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168208, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168240 = sle64((int64_t) 0, n_blocks_168206);
    bool binop_y_168241 = sle64((int64_t) 0, i16_res_168202);
    bool binop_y_168242 = binop_x_168240 && binop_y_168241;
    bool protect_assert_disj_168243 = loop_not_taken_168226 || binop_y_168242;
    bool dim_ok_cert_168244;
    
    if (!protect_assert_disj_168243) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168208, "] to array of shape [", (long long) n_blocks_168206, "][", (long long) i16_res_168202, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168245 = sub64(i16_res_168202, (int64_t) 1);
    bool x_168246 = sle64((int64_t) 0, tmp_168245);
    bool y_168247 = slt64(tmp_168245, i16_res_168202);
    bool bounds_check_168248 = x_168246 && y_168247;
    bool protect_assert_disj_168249 = zzero_168203 || bounds_check_168248;
    bool protect_assert_disj_168250 = loop_not_taken_168226 || protect_assert_disj_168249;
    bool index_certs_168251;
    
    if (!protect_assert_disj_168250) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168245, "] out of bounds for array of shape [", (long long) i16_res_168202, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168253 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
    bool protect_assert_disj_168254 = loop_not_taken_168226 || y_168253;
    bool index_certs_168255;
    
    if (!protect_assert_disj_168254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168257 = nonzzero_168204 || loop_not_taken_168226;
    bool nonzzero_cert_168258;
    
    if (!protect_assert_disj_168257) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168259 = sle64((int64_t) 0, m_168230);
    bool y_168260 = slt64(m_168230, rest_168207);
    bool bounds_check_168261 = x_168259 && y_168260;
    bool protect_assert_disj_168262 = empty_slice_168229 || bounds_check_168261;
    bool protect_assert_disj_168263 = loop_not_taken_168226 || protect_assert_disj_168262;
    bool index_certs_168264;
    
    if (!protect_assert_disj_168263) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168230, "] out of bounds for array of shape [", (long long) rest_168207, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180708 = (int64_t) 2 * rest_168207;
    int64_t bytes_180748 = (int64_t) 8 * rest_168207;
    int64_t binop_x_180773 = (int64_t) 8 * n_blocks_168206;
    int64_t bytes_180774 = i16_res_168202 * binop_x_180773;
    int64_t bytes_180780 = (int64_t) 32 * n_blocks_168206;
    int64_t bytes_180805 = (int64_t) 2 * i16_res_168202;
    int64_t bytes_180882 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216;
    bool dim_match_168496 = n_90627 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool empty_or_match_cert_168497;
    
    if (!dim_match_168496) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] cannot match shape of type `[", (long long) n_90627, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180916 = (int64_t) 8 * n_90627;
    
    if (futrts_indicesWithIncrement_9393(ctx, &ext_mem_180697, xs_mem_180696, n_90627, incr_90628) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180699_cached_sizze_182792 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180699, &mem_180699_cached_sizze_182792, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_180696.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209});
    if (mem_180701_cached_sizze_182793 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182793, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182112 = 0; i_182112 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; i_182112++) {
        int64_t x_182113 = (int64_t) 0 + i_182112 * (int64_t) 1;
        
        ((int64_t *) mem_180701)[i_182112] = x_182113;
    }
    if (mem_180709_cached_sizze_182794 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180709, &mem_180709_cached_sizze_182794, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180711_cached_sizze_182795 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180711, &mem_180711_cached_sizze_182795, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180713_cached_sizze_182796 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182796, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180715_cached_sizze_182797 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182797, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180717_cached_sizze_182798 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182798, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180749_cached_sizze_182799 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180749, &mem_180749_cached_sizze_182799, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180751_cached_sizze_182800 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180751, &mem_180751_cached_sizze_182800, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180764_cached_sizze_182801 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180764, &mem_180764_cached_sizze_182801, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180765_cached_sizze_182802 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180765, &mem_180765_cached_sizze_182802, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180772_cached_sizze_182803 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180772, &mem_180772_cached_sizze_182803, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180775_cached_sizze_182804 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182804, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180778_cached_sizze_182805 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180778, &mem_180778_cached_sizze_182805, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180781_cached_sizze_182806 < bytes_180780) {
        err = lexical_realloc(ctx, &mem_180781, &mem_180781_cached_sizze_182806, bytes_180780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180784_cached_sizze_182807 < binop_x_180773) {
        err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182807, binop_x_180773);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180806_cached_sizze_182808 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180806, &mem_180806_cached_sizze_182808, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180808_cached_sizze_182809 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180808, &mem_180808_cached_sizze_182809, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180810_cached_sizze_182810 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180810, &mem_180810_cached_sizze_182810, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180812_cached_sizze_182811 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180812, &mem_180812_cached_sizze_182811, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180814_cached_sizze_182812 < bytes_180805) {
        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182812, bytes_180805);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180857_cached_sizze_182813 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182813, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180858_cached_sizze_182814 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180858, &mem_180858_cached_sizze_182814, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180883_cached_sizze_182815 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180883, &mem_180883_cached_sizze_182815, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180891_cached_sizze_182816 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180891, &mem_180891_cached_sizze_182816, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168267 = 0; i_168267 < iters_168201; i_168267++) {
        int32_t blocked_radix_sort_step_arg1_168270 = mul32(2, i_168267);
        int32_t get_bit_arg0_168275 = add32(1, blocked_radix_sort_step_arg1_168270);
        bool cond_168276 = get_bit_arg0_168275 == 63;
        bool cond_168277 = blocked_radix_sort_step_arg1_168270 == 63;
        int16_t discard_180376;
        int16_t discard_180377;
        int16_t discard_180378;
        int16_t discard_180379;
        int16_t scanacc_180361;
        int16_t scanacc_180362;
        int16_t scanacc_180363;
        int16_t scanacc_180364;
        
        scanacc_180361 = (int16_t) 0;
        scanacc_180362 = (int16_t) 0;
        scanacc_180363 = (int16_t) 0;
        scanacc_180364 = (int16_t) 0;
        for (int64_t i_180370 = 0; i_180370 < rest_168207; i_180370++) {
            int64_t slice_180583 = arg_168208 + i_180370;
            int64_t eta_p_178281 = ((int64_t *) mem_180699)[slice_180583];
            int32_t defunc_0_get_bit_res_178282;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178282, get_bit_arg0_168275, eta_p_178281) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178283;
            
            if (cond_168276) {
                int32_t defunc_0_get_bit_res_t_res_178395 = 1 ^ defunc_0_get_bit_res_178282;
                
                defunc_0_get_bit_res_178283 = defunc_0_get_bit_res_t_res_178395;
            } else {
                defunc_0_get_bit_res_178283 = defunc_0_get_bit_res_178282;
            }
            
            int32_t zp_lhs_178285 = mul32(2, defunc_0_get_bit_res_178283);
            int32_t defunc_0_get_bit_res_178286;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178286, blocked_radix_sort_step_arg1_168270, eta_p_178281) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178287;
            
            if (cond_168277) {
                int32_t defunc_0_get_bit_res_t_res_178396 = 1 ^ defunc_0_get_bit_res_178286;
                
                defunc_0_get_bit_res_178287 = defunc_0_get_bit_res_t_res_178396;
            } else {
                defunc_0_get_bit_res_178287 = defunc_0_get_bit_res_178286;
            }
            
            int32_t i32_arg0_178289 = add32(zp_lhs_178285, defunc_0_get_bit_res_178287);
            int16_t i32_res_178290 = sext_i32_i16(i32_arg0_178289);
            int16_t defunc_0_f_res_178292;
            int16_t defunc_0_f_res_178293;
            int16_t defunc_0_f_res_178294;
            int16_t defunc_0_f_res_178295;
            
            if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178292, &defunc_0_f_res_178293, &defunc_0_f_res_178294, &defunc_0_f_res_178295, i32_res_178290) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168314 = add16(defunc_0_f_res_178292, scanacc_180361);
            int16_t defunc_0_op_res_168315 = add16(defunc_0_f_res_178293, scanacc_180362);
            int16_t defunc_0_op_res_168316 = add16(defunc_0_f_res_178294, scanacc_180363);
            int16_t defunc_0_op_res_168317 = add16(defunc_0_f_res_178295, scanacc_180364);
            
            ((int16_t *) mem_180709)[i_180370] = defunc_0_op_res_168314;
            ((int16_t *) mem_180711)[i_180370] = defunc_0_op_res_168315;
            ((int16_t *) mem_180713)[i_180370] = defunc_0_op_res_168316;
            ((int16_t *) mem_180715)[i_180370] = defunc_0_op_res_168317;
            ((int16_t *) mem_180717)[i_180370] = i32_res_178290;
            
            int16_t scanacc_tmp_182116 = defunc_0_op_res_168314;
            int16_t scanacc_tmp_182117 = defunc_0_op_res_168315;
            int16_t scanacc_tmp_182118 = defunc_0_op_res_168316;
            int16_t scanacc_tmp_182119 = defunc_0_op_res_168317;
            
            scanacc_180361 = scanacc_tmp_182116;
            scanacc_180362 = scanacc_tmp_182117;
            scanacc_180363 = scanacc_tmp_182118;
            scanacc_180364 = scanacc_tmp_182119;
        }
        discard_180376 = scanacc_180361;
        discard_180377 = scanacc_180362;
        discard_180378 = scanacc_180363;
        discard_180379 = scanacc_180364;
        
        int16_t defunc_0_radix_sort_step_i16_res_168318;
        int16_t defunc_0_radix_sort_step_i16_res_168319;
        int16_t defunc_0_radix_sort_step_i16_res_168320;
        int16_t defunc_0_radix_sort_step_i16_res_168321;
        
        if (empty_slice_168229) {
            defunc_0_radix_sort_step_i16_res_168318 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168319 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168320 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168321 = (int16_t) 0;
        } else {
            int16_t last_res_168322 = ((int16_t *) mem_180709)[m_168230];
            int16_t last_res_168323 = ((int16_t *) mem_180711)[m_168230];
            int16_t last_res_168324 = ((int16_t *) mem_180713)[m_168230];
            int16_t last_res_168325 = ((int16_t *) mem_180715)[m_168230];
            
            defunc_0_radix_sort_step_i16_res_168318 = last_res_168322;
            defunc_0_radix_sort_step_i16_res_168319 = last_res_168323;
            defunc_0_radix_sort_step_i16_res_168320 = last_res_168324;
            defunc_0_radix_sort_step_i16_res_168321 = last_res_168325;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180751, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180699, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        for (int64_t write_iter_180380 = 0; write_iter_180380 < rest_168207; write_iter_180380++) {
            int16_t write_iv_180383 = ((int16_t *) mem_180717)[write_iter_180380];
            int16_t write_iv_180384 = ((int16_t *) mem_180709)[write_iter_180380];
            int16_t write_iv_180385 = ((int16_t *) mem_180711)[write_iter_180380];
            int16_t write_iv_180386 = ((int16_t *) mem_180713)[write_iter_180380];
            int16_t write_iv_180387 = ((int16_t *) mem_180715)[write_iter_180380];
            int64_t slice_180582 = arg_168208 + write_iter_180380;
            int64_t write_iv_180388 = ((int64_t *) mem_180699)[slice_180582];
            int64_t write_iv_180389 = ((int64_t *) mem_180701)[slice_180582];
            int64_t defunc_0_f_res_178265;
            
            if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178265, defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319, defunc_0_radix_sort_step_i16_res_168320, write_iv_180383, write_iv_180384, write_iv_180385, write_iv_180386, write_iv_180387) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178265) && slt64(defunc_0_f_res_178265, rest_168207)) {
                ((int64_t *) mem_180751)[defunc_0_f_res_178265] = write_iv_180388;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178265) && slt64(defunc_0_f_res_178265, rest_168207)) {
                ((int64_t *) mem_180749)[defunc_0_f_res_178265] = write_iv_180389;
            }
        }
        ((int16_t *) mem_180764)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180764)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168319;
        ((int16_t *) mem_180764)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168320;
        ((int16_t *) mem_180764)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168321;
        for (int64_t i_180394 = 0; i_180394 < (int64_t) 4; i_180394++) {
            int16_t eta_p_168342 = ((int16_t *) mem_180764)[i_180394];
            int64_t i16_res_168343 = sext_i16_i64(eta_p_168342);
            
            ((int64_t *) mem_180765)[i_180394] = i16_res_168343;
        }
        
        int16_t tmp_168344 = add16(defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319);
        int16_t tmp_168345 = add16(defunc_0_radix_sort_step_i16_res_168320, tmp_168344);
        
        ((int16_t *) mem_180772)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180772)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180772)[(int64_t) 2] = tmp_168344;
        ((int16_t *) mem_180772)[(int64_t) 3] = tmp_168345;
        for (int64_t i_180444 = 0; i_180444 < n_blocks_168206; i_180444++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180775, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180699, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180778, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            
            int64_t binop_x_180596 = i16_res_168202 * i_180444;
            int16_t discard_180416;
            int16_t discard_180417;
            int16_t discard_180418;
            int16_t discard_180419;
            int16_t scanacc_180401;
            int16_t scanacc_180402;
            int16_t scanacc_180403;
            int16_t scanacc_180404;
            
            scanacc_180401 = (int16_t) 0;
            scanacc_180402 = (int16_t) 0;
            scanacc_180403 = (int16_t) 0;
            scanacc_180404 = (int16_t) 0;
            for (int64_t i_180410 = 0; i_180410 < i16_res_168202; i_180410++) {
                int64_t new_index_180597 = i_180410 + binop_x_180596;
                int64_t eta_p_178326 = ((int64_t *) mem_180699)[new_index_180597];
                int32_t defunc_0_get_bit_res_178327;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178327, get_bit_arg0_168275, eta_p_178326) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178328;
                
                if (cond_168276) {
                    int32_t defunc_0_get_bit_res_t_res_178397 = 1 ^ defunc_0_get_bit_res_178327;
                    
                    defunc_0_get_bit_res_178328 = defunc_0_get_bit_res_t_res_178397;
                } else {
                    defunc_0_get_bit_res_178328 = defunc_0_get_bit_res_178327;
                }
                
                int32_t zp_lhs_178330 = mul32(2, defunc_0_get_bit_res_178328);
                int32_t defunc_0_get_bit_res_178331;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178331, blocked_radix_sort_step_arg1_168270, eta_p_178326) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178332;
                
                if (cond_168277) {
                    int32_t defunc_0_get_bit_res_t_res_178398 = 1 ^ defunc_0_get_bit_res_178331;
                    
                    defunc_0_get_bit_res_178332 = defunc_0_get_bit_res_t_res_178398;
                } else {
                    defunc_0_get_bit_res_178332 = defunc_0_get_bit_res_178331;
                }
                
                int32_t i32_arg0_178334 = add32(zp_lhs_178330, defunc_0_get_bit_res_178332);
                int16_t i32_res_178335 = sext_i32_i16(i32_arg0_178334);
                int16_t defunc_0_f_res_178337;
                int16_t defunc_0_f_res_178338;
                int16_t defunc_0_f_res_178339;
                int16_t defunc_0_f_res_178340;
                
                if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178337, &defunc_0_f_res_178338, &defunc_0_f_res_178339, &defunc_0_f_res_178340, i32_res_178335) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168395 = add16(defunc_0_f_res_178337, scanacc_180401);
                int16_t defunc_0_op_res_168396 = add16(defunc_0_f_res_178338, scanacc_180402);
                int16_t defunc_0_op_res_168397 = add16(defunc_0_f_res_178339, scanacc_180403);
                int16_t defunc_0_op_res_168398 = add16(defunc_0_f_res_178340, scanacc_180404);
                
                ((int16_t *) mem_180806)[i_180410] = defunc_0_op_res_168395;
                ((int16_t *) mem_180808)[i_180410] = defunc_0_op_res_168396;
                ((int16_t *) mem_180810)[i_180410] = defunc_0_op_res_168397;
                ((int16_t *) mem_180812)[i_180410] = defunc_0_op_res_168398;
                ((int16_t *) mem_180814)[i_180410] = i32_res_178335;
                
                int16_t scanacc_tmp_182132 = defunc_0_op_res_168395;
                int16_t scanacc_tmp_182133 = defunc_0_op_res_168396;
                int16_t scanacc_tmp_182134 = defunc_0_op_res_168397;
                int16_t scanacc_tmp_182135 = defunc_0_op_res_168398;
                
                scanacc_180401 = scanacc_tmp_182132;
                scanacc_180402 = scanacc_tmp_182133;
                scanacc_180403 = scanacc_tmp_182134;
                scanacc_180404 = scanacc_tmp_182135;
            }
            discard_180416 = scanacc_180401;
            discard_180417 = scanacc_180402;
            discard_180418 = scanacc_180403;
            discard_180419 = scanacc_180404;
            
            int16_t defunc_0_f_res_168399;
            int16_t defunc_0_f_res_168400;
            int16_t defunc_0_f_res_168401;
            int16_t defunc_0_f_res_168402;
            
            if (zzero_168203) {
                defunc_0_f_res_168399 = (int16_t) 0;
                defunc_0_f_res_168400 = (int16_t) 0;
                defunc_0_f_res_168401 = (int16_t) 0;
                defunc_0_f_res_168402 = (int16_t) 0;
            } else {
                int16_t last_res_168403 = ((int16_t *) mem_180806)[tmp_168245];
                int16_t last_res_168404 = ((int16_t *) mem_180808)[tmp_168245];
                int16_t last_res_168405 = ((int16_t *) mem_180810)[tmp_168245];
                int16_t last_res_168406 = ((int16_t *) mem_180812)[tmp_168245];
                
                defunc_0_f_res_168399 = last_res_168403;
                defunc_0_f_res_168400 = last_res_168404;
                defunc_0_f_res_168401 = last_res_168405;
                defunc_0_f_res_168402 = last_res_168406;
            }
            for (int64_t write_iter_180420 = 0; write_iter_180420 < i16_res_168202; write_iter_180420++) {
                int16_t write_iv_180423 = ((int16_t *) mem_180814)[write_iter_180420];
                int16_t write_iv_180424 = ((int16_t *) mem_180806)[write_iter_180420];
                int16_t write_iv_180425 = ((int16_t *) mem_180808)[write_iter_180420];
                int16_t write_iv_180426 = ((int16_t *) mem_180810)[write_iter_180420];
                int16_t write_iv_180427 = ((int16_t *) mem_180812)[write_iter_180420];
                int64_t new_index_180593 = write_iter_180420 + binop_x_180596;
                int64_t write_iv_180428 = ((int64_t *) mem_180699)[new_index_180593];
                int64_t write_iv_180429 = ((int64_t *) mem_180701)[new_index_180593];
                int64_t defunc_0_f_res_178310;
                
                if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178310, defunc_0_f_res_168399, defunc_0_f_res_168400, defunc_0_f_res_168401, write_iv_180423, write_iv_180424, write_iv_180425, write_iv_180426, write_iv_180427) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178310) && slt64(defunc_0_f_res_178310, i16_res_168202)) {
                    ((int64_t *) mem_180775)[i_180444 * i16_res_168202 + defunc_0_f_res_178310] = write_iv_180428;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178310) && slt64(defunc_0_f_res_178310, i16_res_168202)) {
                    ((int64_t *) mem_180778)[i_180444 * i16_res_168202 + defunc_0_f_res_178310] = write_iv_180429;
                }
            }
            ((int16_t *) mem_180857)[(int64_t) 0] = defunc_0_f_res_168399;
            ((int16_t *) mem_180857)[(int64_t) 1] = defunc_0_f_res_168400;
            ((int16_t *) mem_180857)[(int64_t) 2] = defunc_0_f_res_168401;
            ((int16_t *) mem_180857)[(int64_t) 3] = defunc_0_f_res_168402;
            for (int64_t i_180434 = 0; i_180434 < (int64_t) 4; i_180434++) {
                int16_t eta_p_168421 = ((int16_t *) mem_180857)[i_180434];
                int64_t i16_res_168422 = sext_i16_i64(eta_p_168421);
                
                ((int64_t *) mem_180858)[i_180434] = i16_res_168422;
            }
            
            int16_t tmp_168423 = add16(defunc_0_f_res_168399, defunc_0_f_res_168400);
            int16_t tmp_168424 = add16(defunc_0_f_res_168401, tmp_168423);
            
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168399;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 2] = tmp_168423;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 3] = tmp_168424;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180781, i_180444 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180858, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180456;
        int64_t scanacc_180452 = (int64_t) 0;
        
        for (int64_t i_180454 = 0; i_180454 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180454++) {
            int64_t new_index_180571 = squot64(i_180454, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            int64_t binop_y_180573 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * new_index_180571;
            int64_t new_index_180574 = i_180454 - binop_y_180573;
            bool index_concat_cmp_180576 = sle64(n_blocks_168206, new_index_180574);
            int64_t index_concat_branch_180580;
            
            if (index_concat_cmp_180576) {
                int64_t index_concat_180578 = ((int64_t *) mem_180765)[new_index_180571];
                
                index_concat_branch_180580 = index_concat_180578;
            } else {
                int64_t index_concat_180579 = ((int64_t *) mem_180781)[new_index_180574 * (int64_t) 4 + new_index_180571];
                
                index_concat_branch_180580 = index_concat_180579;
            }
            
            int64_t defunc_0_op_res_168436 = add64(scanacc_180452, index_concat_branch_180580);
            
            ((int64_t *) mem_180883)[i_180454] = defunc_0_op_res_168436;
            
            int64_t scanacc_tmp_182144 = defunc_0_op_res_168436;
            
            scanacc_180452 = scanacc_tmp_182144;
        }
        discard_180456 = scanacc_180452;
        for (int64_t i_180459 = 0; i_180459 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180459++) {
            int64_t zv_lhs_168439 = add64((int64_t) -1, i_180459);
            int64_t tmp_168440 = smod64(zv_lhs_168439, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
            int64_t lifted_lambda_res_168441 = ((int64_t *) mem_180883)[tmp_168440];
            
            ((int64_t *) mem_180891)[i_180459] = lifted_lambda_res_168441;
        }
        ((int64_t *) mem_180891)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180461 = 0; write_iter_180461 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; write_iter_180461++) {
            bool index_concat_cmp_180562 = sle64(arg_168208, write_iter_180461);
            int64_t index_concat_branch_178217;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_178407 = sub64(write_iter_180461, arg_168208);
                int64_t index_concat_178408 = ((int64_t *) mem_180751)[index_concat_i_178407];
                
                index_concat_branch_178217 = index_concat_178408;
            } else {
                int64_t new_index_178220 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_178221 = i16_res_168202 * new_index_178220;
                int64_t new_index_178222 = write_iter_180461 - binop_y_178221;
                int64_t index_concat_178223 = ((int64_t *) mem_180775)[new_index_178220 * i16_res_168202 + new_index_178222];
                
                index_concat_branch_178217 = index_concat_178223;
            }
            
            int32_t zlzb_rhs_178224;
            int32_t acc_178226 = 0;
            
            for (int32_t i_178225 = 0; i_178225 < 2; i_178225++) {
                int32_t get_bit_arg0_178227 = add32(blocked_radix_sort_step_arg1_168270, i_178225);
                int32_t defunc_0_get_bit_res_178228;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178228, get_bit_arg0_178227, index_concat_branch_178217) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178229 = get_bit_arg0_178227 == 63;
                int32_t defunc_0_get_bit_res_178230;
                
                if (cond_178229) {
                    int32_t defunc_0_get_bit_res_t_res_178409 = 1 ^ defunc_0_get_bit_res_178228;
                    
                    defunc_0_get_bit_res_178230 = defunc_0_get_bit_res_t_res_178409;
                } else {
                    defunc_0_get_bit_res_178230 = defunc_0_get_bit_res_178228;
                }
                
                int32_t zp_rhs_178232 = shl32(defunc_0_get_bit_res_178230, i_178225);
                int32_t loopres_178233 = add32(acc_178226, zp_rhs_178232);
                int32_t acc_tmp_182149 = loopres_178233;
                
                acc_178226 = acc_tmp_182149;
            }
            zlzb_rhs_178224 = acc_178226;
            
            int64_t i32_res_178234 = sext_i32_i64(zlzb_rhs_178224);
            int64_t block_idx_178235 = sdiv64(write_iter_180461, i16_res_168202);
            bool x_178236 = sle64((int64_t) 0, block_idx_178235);
            bool y_178237 = slt64(block_idx_178235, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            bool bounds_check_178238 = x_178236 && y_178237;
            bool index_certs_178239;
            
            if (!bounds_check_178238) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178235, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178240 = sle64((int64_t) 0, i32_res_178234);
            bool y_178241 = slt64(i32_res_178234, (int64_t) 4);
            bool bounds_check_178242 = x_178240 && y_178241;
            bool index_certs_178243;
            
            if (!bounds_check_178242) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178234, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_180566;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180563 = sub64(write_iter_180461, arg_168208);
                int64_t index_concat_180564 = ((int64_t *) mem_180751)[index_concat_i_180563];
                
                index_concat_branch_180566 = index_concat_180564;
            } else {
                int64_t new_index_180588 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180590 = i16_res_168202 * new_index_180588;
                int64_t new_index_180591 = write_iter_180461 - binop_y_180590;
                int64_t index_concat_180565 = ((int64_t *) mem_180775)[new_index_180588 * i16_res_168202 + new_index_180591];
                
                index_concat_branch_180566 = index_concat_180565;
            }
            
            int64_t index_concat_branch_180560;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180557 = sub64(write_iter_180461, arg_168208);
                int64_t index_concat_180558 = ((int64_t *) mem_180749)[index_concat_i_180557];
                
                index_concat_branch_180560 = index_concat_180558;
            } else {
                int64_t new_index_180584 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180586 = i16_res_168202 * new_index_180584;
                int64_t new_index_180587 = write_iter_180461 - binop_y_180586;
                int64_t index_concat_180559 = ((int64_t *) mem_180778)[new_index_180584 * i16_res_168202 + new_index_180587];
                
                index_concat_branch_180560 = index_concat_180559;
            }
            
            int64_t binop_x_178244 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * i32_res_178234;
            int64_t new_index_178245 = block_idx_178235 + binop_x_178244;
            int64_t new_offset_178246 = ((int64_t *) mem_180891)[new_index_178245];
            bool index_concat_cmp_178247 = sle64(n_blocks_168206, block_idx_178235);
            int16_t index_concat_branch_178248;
            
            if (index_concat_cmp_178247) {
                int16_t index_concat_178410 = ((int16_t *) mem_180772)[i32_res_178234];
                
                index_concat_branch_178248 = index_concat_178410;
            } else {
                int16_t index_concat_178250 = ((int16_t *) mem_180784)[block_idx_178235 * (int64_t) 4 + i32_res_178234];
                
                index_concat_branch_178248 = index_concat_178250;
            }
            
            int64_t i16_res_178251 = sext_i16_i64(index_concat_branch_178248);
            int64_t zp_lhs_178252 = mul64(i16_res_168202, block_idx_178235);
            int64_t old_offset_178253 = add64(i16_res_178251, zp_lhs_178252);
            int64_t zp_lhs_178254 = sub64(write_iter_180461, old_offset_178253);
            int64_t idx_178255 = add64(new_offset_178246, zp_lhs_178254);
            
            if (sle64((int64_t) 0, idx_178255) && slt64(idx_178255, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int64_t *) mem_180699)[idx_178255] = index_concat_branch_180566;
            }
            if (sle64((int64_t) 0, idx_178255) && slt64(idx_178255, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int64_t *) mem_180701)[idx_178255] = index_concat_branch_180560;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180917, bytes_180916, "mem_180917")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180919, bytes_180916, "mem_180919")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180473 = 0; i_180473 < n_90627; i_180473++) {
        int64_t eta_p_168501 = ((int64_t *) mem_180701)[i_180473];
        bool x_168502 = sle64((int64_t) 0, eta_p_168501);
        bool y_168503 = slt64(eta_p_168501, n_90627);
        bool bounds_check_168504 = x_168502 && y_168503;
        bool index_certs_168505;
        
        if (!bounds_check_168504) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168501, "] out of bounds for array of shape [", (long long) n_90627, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168506 = ((int64_t *) ext_mem_180697.mem)[eta_p_168501];
        int64_t lifted_lambda_res_168507 = ((int64_t *) xs_mem_180696.mem)[eta_p_168501];
        
        ((int64_t *) mem_180917.mem)[i_180473] = lifted_lambda_res_168506;
        ((int64_t *) mem_180919.mem)[i_180473] = lifted_lambda_res_168507;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180917, "mem_180917") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180919, "mem_180919") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182790, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182791, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180699);
        free(mem_180701);
        free(mem_180709);
        free(mem_180711);
        free(mem_180713);
        free(mem_180715);
        free(mem_180717);
        free(mem_180749);
        free(mem_180751);
        free(mem_180764);
        free(mem_180765);
        free(mem_180772);
        free(mem_180775);
        free(mem_180778);
        free(mem_180781);
        free(mem_180784);
        free(mem_180806);
        free(mem_180808);
        free(mem_180810);
        free(mem_180812);
        free(mem_180814);
        free(mem_180857);
        free(mem_180858);
        free(mem_180883);
        free(mem_180891);
        if (memblock_unref(ctx, &mem_180919, "mem_180919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180917, "mem_180917") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182817, struct memblock *mem_out_p_182818, struct memblock xs_mem_180696, int64_t n_85410, int64_t incr_85411, int16_t block_sizze_85412)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180699_cached_sizze_182819 = 0;
    unsigned char *mem_180699 = NULL;
    int64_t mem_180701_cached_sizze_182820 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180709_cached_sizze_182821 = 0;
    unsigned char *mem_180709 = NULL;
    int64_t mem_180711_cached_sizze_182822 = 0;
    unsigned char *mem_180711 = NULL;
    int64_t mem_180713_cached_sizze_182823 = 0;
    unsigned char *mem_180713 = NULL;
    int64_t mem_180715_cached_sizze_182824 = 0;
    unsigned char *mem_180715 = NULL;
    int64_t mem_180717_cached_sizze_182825 = 0;
    unsigned char *mem_180717 = NULL;
    int64_t mem_180749_cached_sizze_182826 = 0;
    unsigned char *mem_180749 = NULL;
    int64_t mem_180751_cached_sizze_182827 = 0;
    unsigned char *mem_180751 = NULL;
    int64_t mem_180764_cached_sizze_182828 = 0;
    unsigned char *mem_180764 = NULL;
    int64_t mem_180765_cached_sizze_182829 = 0;
    unsigned char *mem_180765 = NULL;
    int64_t mem_180772_cached_sizze_182830 = 0;
    unsigned char *mem_180772 = NULL;
    int64_t mem_180775_cached_sizze_182831 = 0;
    unsigned char *mem_180775 = NULL;
    int64_t mem_180778_cached_sizze_182832 = 0;
    unsigned char *mem_180778 = NULL;
    int64_t mem_180781_cached_sizze_182833 = 0;
    unsigned char *mem_180781 = NULL;
    int64_t mem_180784_cached_sizze_182834 = 0;
    unsigned char *mem_180784 = NULL;
    int64_t mem_180806_cached_sizze_182835 = 0;
    unsigned char *mem_180806 = NULL;
    int64_t mem_180808_cached_sizze_182836 = 0;
    unsigned char *mem_180808 = NULL;
    int64_t mem_180810_cached_sizze_182837 = 0;
    unsigned char *mem_180810 = NULL;
    int64_t mem_180812_cached_sizze_182838 = 0;
    unsigned char *mem_180812 = NULL;
    int64_t mem_180814_cached_sizze_182839 = 0;
    unsigned char *mem_180814 = NULL;
    int64_t mem_180857_cached_sizze_182840 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180858_cached_sizze_182841 = 0;
    unsigned char *mem_180858 = NULL;
    int64_t mem_180883_cached_sizze_182842 = 0;
    unsigned char *mem_180883 = NULL;
    int64_t mem_180891_cached_sizze_182843 = 0;
    unsigned char *mem_180891 = NULL;
    struct memblock mem_180919;
    
    mem_180919.references = NULL;
    
    struct memblock mem_180917;
    
    mem_180917.references = NULL;
    
    struct memblock ext_mem_180697;
    
    ext_mem_180697.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    bool cond_168200 = n_85410 == (int64_t) 0;
    int32_t iters_168201;
    
    if (cond_168200) {
        iters_168201 = 0;
    } else {
        iters_168201 = 8;
    }
    
    int64_t i16_res_168202 = sext_i16_i64(block_sizze_85412);
    bool zzero_168203 = i16_res_168202 == (int64_t) 0;
    bool nonzzero_168204 = !zzero_168203;
    bool nonzzero_cert_168205;
    
    if (!nonzzero_168204) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168206 = sdiv64(n_85410, i16_res_168202);
    int64_t rest_168207 = smod64(n_85410, i16_res_168202);
    int64_t arg_168208 = mul64(i16_res_168202, n_blocks_168206);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 = add64(rest_168207, arg_168208);
    bool dim_match_168210 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209 == n_85410;
    bool empty_or_match_cert_168211;
    
    if (!dim_match_168210) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85410, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180698 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    int64_t bytes_180700 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool loop_nonempty_168215 = slt32(0, iters_168201);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 = add64((int64_t) 1, n_blocks_168206);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
    bool empty_slice_168218 = arg_168208 == (int64_t) 0;
    int64_t m_168219 = sub64(arg_168208, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168220 = sle64((int64_t) 0, m_168219);
    bool i_p_m_t_s_leq_w_168221 = slt64(m_168219, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168222 = sle64((int64_t) 0, arg_168208);
    bool y_168223 = zzero_leq_i_p_m_t_s_168220 && i_p_m_t_s_leq_w_168221;
    bool forwards_ok_168224 = i_lte_j_168222 && y_168223;
    bool ok_or_empty_168225 = empty_slice_168218 || forwards_ok_168224;
    bool loop_not_taken_168226 = !loop_nonempty_168215;
    bool protect_assert_disj_168227 = ok_or_empty_168225 || loop_not_taken_168226;
    bool index_certs_168228;
    
    if (!protect_assert_disj_168227) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168208, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168229 = rest_168207 == (int64_t) 0;
    int64_t m_168230 = sub64(rest_168207, (int64_t) 1);
    int64_t i_p_m_t_s_168231 = add64(arg_168208, m_168230);
    bool zzero_leq_i_p_m_t_s_168232 = sle64((int64_t) 0, i_p_m_t_s_168231);
    bool i_p_m_t_s_leq_w_168233 = slt64(i_p_m_t_s_168231, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool i_lte_j_168234 = sle64(arg_168208, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209);
    bool y_168235 = zzero_leq_i_p_m_t_s_168232 && i_p_m_t_s_leq_w_168233;
    bool forwards_ok_168236 = i_lte_j_168234 && y_168235;
    bool ok_or_empty_168237 = empty_slice_168229 || forwards_ok_168236;
    bool protect_assert_disj_168238 = loop_not_taken_168226 || ok_or_empty_168237;
    bool index_certs_168239;
    
    if (!protect_assert_disj_168238) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168208, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168240 = sle64((int64_t) 0, n_blocks_168206);
    bool binop_y_168241 = sle64((int64_t) 0, i16_res_168202);
    bool binop_y_168242 = binop_x_168240 && binop_y_168241;
    bool protect_assert_disj_168243 = loop_not_taken_168226 || binop_y_168242;
    bool dim_ok_cert_168244;
    
    if (!protect_assert_disj_168243) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168208, "] to array of shape [", (long long) n_blocks_168206, "][", (long long) i16_res_168202, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168245 = sub64(i16_res_168202, (int64_t) 1);
    bool x_168246 = sle64((int64_t) 0, tmp_168245);
    bool y_168247 = slt64(tmp_168245, i16_res_168202);
    bool bounds_check_168248 = x_168246 && y_168247;
    bool protect_assert_disj_168249 = zzero_168203 || bounds_check_168248;
    bool protect_assert_disj_168250 = loop_not_taken_168226 || protect_assert_disj_168249;
    bool index_certs_168251;
    
    if (!protect_assert_disj_168250) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168245, "] out of bounds for array of shape [", (long long) i16_res_168202, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168253 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
    bool protect_assert_disj_168254 = loop_not_taken_168226 || y_168253;
    bool index_certs_168255;
    
    if (!protect_assert_disj_168254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168257 = nonzzero_168204 || loop_not_taken_168226;
    bool nonzzero_cert_168258;
    
    if (!protect_assert_disj_168257) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168259 = sle64((int64_t) 0, m_168230);
    bool y_168260 = slt64(m_168230, rest_168207);
    bool bounds_check_168261 = x_168259 && y_168260;
    bool protect_assert_disj_168262 = empty_slice_168229 || bounds_check_168261;
    bool protect_assert_disj_168263 = loop_not_taken_168226 || protect_assert_disj_168262;
    bool index_certs_168264;
    
    if (!protect_assert_disj_168263) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168230, "] out of bounds for array of shape [", (long long) rest_168207, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180708 = (int64_t) 2 * rest_168207;
    int64_t bytes_180748 = (int64_t) 8 * rest_168207;
    int64_t binop_x_180773 = (int64_t) 2 * n_blocks_168206;
    int64_t bytes_180774 = i16_res_168202 * binop_x_180773;
    int64_t binop_x_180776 = (int64_t) 8 * n_blocks_168206;
    int64_t bytes_180777 = i16_res_168202 * binop_x_180776;
    int64_t bytes_180780 = (int64_t) 32 * n_blocks_168206;
    int64_t bytes_180801 = (int64_t) 2 * i16_res_168202;
    int64_t bytes_180882 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216;
    bool dim_match_168496 = n_85410 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209;
    bool empty_or_match_cert_168497;
    
    if (!dim_match_168496) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209, "] cannot match shape of type `[", (long long) n_85410, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180916 = (int64_t) 8 * n_85410;
    int64_t bytes_180918 = (int64_t) 2 * n_85410;
    
    if (futrts_indicesWithIncrement_9128(ctx, &ext_mem_180697, xs_mem_180696, n_85410, incr_85411) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180699_cached_sizze_182819 < bytes_180698) {
        err = lexical_realloc(ctx, &mem_180699, &mem_180699_cached_sizze_182819, bytes_180698);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180699, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_180696.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209});
    if (mem_180701_cached_sizze_182820 < bytes_180700) {
        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182820, bytes_180700);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182112 = 0; i_182112 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; i_182112++) {
        int64_t x_182113 = (int64_t) 0 + i_182112 * (int64_t) 1;
        
        ((int64_t *) mem_180701)[i_182112] = x_182113;
    }
    if (mem_180709_cached_sizze_182821 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180709, &mem_180709_cached_sizze_182821, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180711_cached_sizze_182822 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180711, &mem_180711_cached_sizze_182822, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180713_cached_sizze_182823 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180713, &mem_180713_cached_sizze_182823, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180715_cached_sizze_182824 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180715, &mem_180715_cached_sizze_182824, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180717_cached_sizze_182825 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180717, &mem_180717_cached_sizze_182825, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180749_cached_sizze_182826 < bytes_180748) {
        err = lexical_realloc(ctx, &mem_180749, &mem_180749_cached_sizze_182826, bytes_180748);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180751_cached_sizze_182827 < bytes_180708) {
        err = lexical_realloc(ctx, &mem_180751, &mem_180751_cached_sizze_182827, bytes_180708);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180764_cached_sizze_182828 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180764, &mem_180764_cached_sizze_182828, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180765_cached_sizze_182829 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180765, &mem_180765_cached_sizze_182829, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180772_cached_sizze_182830 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180772, &mem_180772_cached_sizze_182830, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180775_cached_sizze_182831 < bytes_180774) {
        err = lexical_realloc(ctx, &mem_180775, &mem_180775_cached_sizze_182831, bytes_180774);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180778_cached_sizze_182832 < bytes_180777) {
        err = lexical_realloc(ctx, &mem_180778, &mem_180778_cached_sizze_182832, bytes_180777);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180781_cached_sizze_182833 < bytes_180780) {
        err = lexical_realloc(ctx, &mem_180781, &mem_180781_cached_sizze_182833, bytes_180780);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180784_cached_sizze_182834 < binop_x_180776) {
        err = lexical_realloc(ctx, &mem_180784, &mem_180784_cached_sizze_182834, binop_x_180776);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180806_cached_sizze_182835 < bytes_180801) {
        err = lexical_realloc(ctx, &mem_180806, &mem_180806_cached_sizze_182835, bytes_180801);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180808_cached_sizze_182836 < bytes_180801) {
        err = lexical_realloc(ctx, &mem_180808, &mem_180808_cached_sizze_182836, bytes_180801);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180810_cached_sizze_182837 < bytes_180801) {
        err = lexical_realloc(ctx, &mem_180810, &mem_180810_cached_sizze_182837, bytes_180801);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180812_cached_sizze_182838 < bytes_180801) {
        err = lexical_realloc(ctx, &mem_180812, &mem_180812_cached_sizze_182838, bytes_180801);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180814_cached_sizze_182839 < bytes_180801) {
        err = lexical_realloc(ctx, &mem_180814, &mem_180814_cached_sizze_182839, bytes_180801);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180857_cached_sizze_182840 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182840, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180858_cached_sizze_182841 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180858, &mem_180858_cached_sizze_182841, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180883_cached_sizze_182842 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180883, &mem_180883_cached_sizze_182842, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180891_cached_sizze_182843 < bytes_180882) {
        err = lexical_realloc(ctx, &mem_180891, &mem_180891_cached_sizze_182843, bytes_180882);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168267 = 0; i_168267 < iters_168201; i_168267++) {
        int32_t blocked_radix_sort_step_arg1_168270 = mul32(2, i_168267);
        int32_t get_bit_arg0_168275 = add32(1, blocked_radix_sort_step_arg1_168270);
        bool cond_168276 = get_bit_arg0_168275 == 15;
        bool cond_168277 = blocked_radix_sort_step_arg1_168270 == 15;
        int16_t discard_180376;
        int16_t discard_180377;
        int16_t discard_180378;
        int16_t discard_180379;
        int16_t scanacc_180361;
        int16_t scanacc_180362;
        int16_t scanacc_180363;
        int16_t scanacc_180364;
        
        scanacc_180361 = (int16_t) 0;
        scanacc_180362 = (int16_t) 0;
        scanacc_180363 = (int16_t) 0;
        scanacc_180364 = (int16_t) 0;
        for (int64_t i_180370 = 0; i_180370 < rest_168207; i_180370++) {
            int64_t slice_180583 = arg_168208 + i_180370;
            int16_t eta_p_178281 = ((int16_t *) mem_180699)[slice_180583];
            int32_t defunc_0_get_bit_res_178282;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178282, get_bit_arg0_168275, eta_p_178281) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178283;
            
            if (cond_168276) {
                int32_t defunc_0_get_bit_res_t_res_178395 = 1 ^ defunc_0_get_bit_res_178282;
                
                defunc_0_get_bit_res_178283 = defunc_0_get_bit_res_t_res_178395;
            } else {
                defunc_0_get_bit_res_178283 = defunc_0_get_bit_res_178282;
            }
            
            int32_t zp_lhs_178285 = mul32(2, defunc_0_get_bit_res_178283);
            int32_t defunc_0_get_bit_res_178286;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178286, blocked_radix_sort_step_arg1_168270, eta_p_178281) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178287;
            
            if (cond_168277) {
                int32_t defunc_0_get_bit_res_t_res_178396 = 1 ^ defunc_0_get_bit_res_178286;
                
                defunc_0_get_bit_res_178287 = defunc_0_get_bit_res_t_res_178396;
            } else {
                defunc_0_get_bit_res_178287 = defunc_0_get_bit_res_178286;
            }
            
            int32_t i32_arg0_178289 = add32(zp_lhs_178285, defunc_0_get_bit_res_178287);
            int16_t i32_res_178290 = sext_i32_i16(i32_arg0_178289);
            int16_t defunc_0_f_res_178292;
            int16_t defunc_0_f_res_178293;
            int16_t defunc_0_f_res_178294;
            int16_t defunc_0_f_res_178295;
            
            if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178292, &defunc_0_f_res_178293, &defunc_0_f_res_178294, &defunc_0_f_res_178295, i32_res_178290) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168314 = add16(defunc_0_f_res_178292, scanacc_180361);
            int16_t defunc_0_op_res_168315 = add16(defunc_0_f_res_178293, scanacc_180362);
            int16_t defunc_0_op_res_168316 = add16(defunc_0_f_res_178294, scanacc_180363);
            int16_t defunc_0_op_res_168317 = add16(defunc_0_f_res_178295, scanacc_180364);
            
            ((int16_t *) mem_180709)[i_180370] = defunc_0_op_res_168314;
            ((int16_t *) mem_180711)[i_180370] = defunc_0_op_res_168315;
            ((int16_t *) mem_180713)[i_180370] = defunc_0_op_res_168316;
            ((int16_t *) mem_180715)[i_180370] = defunc_0_op_res_168317;
            ((int16_t *) mem_180717)[i_180370] = i32_res_178290;
            
            int16_t scanacc_tmp_182116 = defunc_0_op_res_168314;
            int16_t scanacc_tmp_182117 = defunc_0_op_res_168315;
            int16_t scanacc_tmp_182118 = defunc_0_op_res_168316;
            int16_t scanacc_tmp_182119 = defunc_0_op_res_168317;
            
            scanacc_180361 = scanacc_tmp_182116;
            scanacc_180362 = scanacc_tmp_182117;
            scanacc_180363 = scanacc_tmp_182118;
            scanacc_180364 = scanacc_tmp_182119;
        }
        discard_180376 = scanacc_180361;
        discard_180377 = scanacc_180362;
        discard_180378 = scanacc_180363;
        discard_180379 = scanacc_180364;
        
        int16_t defunc_0_radix_sort_step_i16_res_168318;
        int16_t defunc_0_radix_sort_step_i16_res_168319;
        int16_t defunc_0_radix_sort_step_i16_res_168320;
        int16_t defunc_0_radix_sort_step_i16_res_168321;
        
        if (empty_slice_168229) {
            defunc_0_radix_sort_step_i16_res_168318 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168319 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168320 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168321 = (int16_t) 0;
        } else {
            int16_t last_res_168322 = ((int16_t *) mem_180709)[m_168230];
            int16_t last_res_168323 = ((int16_t *) mem_180711)[m_168230];
            int16_t last_res_168324 = ((int16_t *) mem_180713)[m_168230];
            int16_t last_res_168325 = ((int16_t *) mem_180715)[m_168230];
            
            defunc_0_radix_sort_step_i16_res_168318 = last_res_168322;
            defunc_0_radix_sort_step_i16_res_168319 = last_res_168323;
            defunc_0_radix_sort_step_i16_res_168320 = last_res_168324;
            defunc_0_radix_sort_step_i16_res_168321 = last_res_168325;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180749, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180751, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180699, (int64_t) 0 + (int64_t) 1 * arg_168208, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168207});
        for (int64_t write_iter_180380 = 0; write_iter_180380 < rest_168207; write_iter_180380++) {
            int16_t write_iv_180383 = ((int16_t *) mem_180717)[write_iter_180380];
            int16_t write_iv_180384 = ((int16_t *) mem_180709)[write_iter_180380];
            int16_t write_iv_180385 = ((int16_t *) mem_180711)[write_iter_180380];
            int16_t write_iv_180386 = ((int16_t *) mem_180713)[write_iter_180380];
            int16_t write_iv_180387 = ((int16_t *) mem_180715)[write_iter_180380];
            int64_t slice_180582 = arg_168208 + write_iter_180380;
            int16_t write_iv_180388 = ((int16_t *) mem_180699)[slice_180582];
            int64_t write_iv_180389 = ((int64_t *) mem_180701)[slice_180582];
            int64_t defunc_0_f_res_178265;
            
            if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178265, defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319, defunc_0_radix_sort_step_i16_res_168320, write_iv_180383, write_iv_180384, write_iv_180385, write_iv_180386, write_iv_180387) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178265) && slt64(defunc_0_f_res_178265, rest_168207)) {
                ((int16_t *) mem_180751)[defunc_0_f_res_178265] = write_iv_180388;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178265) && slt64(defunc_0_f_res_178265, rest_168207)) {
                ((int64_t *) mem_180749)[defunc_0_f_res_178265] = write_iv_180389;
            }
        }
        ((int16_t *) mem_180764)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180764)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168319;
        ((int16_t *) mem_180764)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168320;
        ((int16_t *) mem_180764)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168321;
        for (int64_t i_180394 = 0; i_180394 < (int64_t) 4; i_180394++) {
            int16_t eta_p_168342 = ((int16_t *) mem_180764)[i_180394];
            int64_t i16_res_168343 = sext_i16_i64(eta_p_168342);
            
            ((int64_t *) mem_180765)[i_180394] = i16_res_168343;
        }
        
        int16_t tmp_168344 = add16(defunc_0_radix_sort_step_i16_res_168318, defunc_0_radix_sort_step_i16_res_168319);
        int16_t tmp_168345 = add16(defunc_0_radix_sort_step_i16_res_168320, tmp_168344);
        
        ((int16_t *) mem_180772)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180772)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168318;
        ((int16_t *) mem_180772)[(int64_t) 2] = tmp_168344;
        ((int16_t *) mem_180772)[(int64_t) 3] = tmp_168345;
        for (int64_t i_180444 = 0; i_180444 < n_blocks_168206; i_180444++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180775, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180699, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180778, i_180444 * i16_res_168202, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180701, (int64_t) 0 + i_180444 * ((int64_t) 1 * i16_res_168202), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168202});
            
            int64_t binop_x_180596 = i16_res_168202 * i_180444;
            int16_t discard_180416;
            int16_t discard_180417;
            int16_t discard_180418;
            int16_t discard_180419;
            int16_t scanacc_180401;
            int16_t scanacc_180402;
            int16_t scanacc_180403;
            int16_t scanacc_180404;
            
            scanacc_180401 = (int16_t) 0;
            scanacc_180402 = (int16_t) 0;
            scanacc_180403 = (int16_t) 0;
            scanacc_180404 = (int16_t) 0;
            for (int64_t i_180410 = 0; i_180410 < i16_res_168202; i_180410++) {
                int64_t new_index_180597 = i_180410 + binop_x_180596;
                int16_t eta_p_178326 = ((int16_t *) mem_180699)[new_index_180597];
                int32_t defunc_0_get_bit_res_178327;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178327, get_bit_arg0_168275, eta_p_178326) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178328;
                
                if (cond_168276) {
                    int32_t defunc_0_get_bit_res_t_res_178397 = 1 ^ defunc_0_get_bit_res_178327;
                    
                    defunc_0_get_bit_res_178328 = defunc_0_get_bit_res_t_res_178397;
                } else {
                    defunc_0_get_bit_res_178328 = defunc_0_get_bit_res_178327;
                }
                
                int32_t zp_lhs_178330 = mul32(2, defunc_0_get_bit_res_178328);
                int32_t defunc_0_get_bit_res_178331;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178331, blocked_radix_sort_step_arg1_168270, eta_p_178326) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178332;
                
                if (cond_168277) {
                    int32_t defunc_0_get_bit_res_t_res_178398 = 1 ^ defunc_0_get_bit_res_178331;
                    
                    defunc_0_get_bit_res_178332 = defunc_0_get_bit_res_t_res_178398;
                } else {
                    defunc_0_get_bit_res_178332 = defunc_0_get_bit_res_178331;
                }
                
                int32_t i32_arg0_178334 = add32(zp_lhs_178330, defunc_0_get_bit_res_178332);
                int16_t i32_res_178335 = sext_i32_i16(i32_arg0_178334);
                int16_t defunc_0_f_res_178337;
                int16_t defunc_0_f_res_178338;
                int16_t defunc_0_f_res_178339;
                int16_t defunc_0_f_res_178340;
                
                if (futrts_lifted_lambda_9089(ctx, &defunc_0_f_res_178337, &defunc_0_f_res_178338, &defunc_0_f_res_178339, &defunc_0_f_res_178340, i32_res_178335) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168395 = add16(defunc_0_f_res_178337, scanacc_180401);
                int16_t defunc_0_op_res_168396 = add16(defunc_0_f_res_178338, scanacc_180402);
                int16_t defunc_0_op_res_168397 = add16(defunc_0_f_res_178339, scanacc_180403);
                int16_t defunc_0_op_res_168398 = add16(defunc_0_f_res_178340, scanacc_180404);
                
                ((int16_t *) mem_180806)[i_180410] = defunc_0_op_res_168395;
                ((int16_t *) mem_180808)[i_180410] = defunc_0_op_res_168396;
                ((int16_t *) mem_180810)[i_180410] = defunc_0_op_res_168397;
                ((int16_t *) mem_180812)[i_180410] = defunc_0_op_res_168398;
                ((int16_t *) mem_180814)[i_180410] = i32_res_178335;
                
                int16_t scanacc_tmp_182132 = defunc_0_op_res_168395;
                int16_t scanacc_tmp_182133 = defunc_0_op_res_168396;
                int16_t scanacc_tmp_182134 = defunc_0_op_res_168397;
                int16_t scanacc_tmp_182135 = defunc_0_op_res_168398;
                
                scanacc_180401 = scanacc_tmp_182132;
                scanacc_180402 = scanacc_tmp_182133;
                scanacc_180403 = scanacc_tmp_182134;
                scanacc_180404 = scanacc_tmp_182135;
            }
            discard_180416 = scanacc_180401;
            discard_180417 = scanacc_180402;
            discard_180418 = scanacc_180403;
            discard_180419 = scanacc_180404;
            
            int16_t defunc_0_f_res_168399;
            int16_t defunc_0_f_res_168400;
            int16_t defunc_0_f_res_168401;
            int16_t defunc_0_f_res_168402;
            
            if (zzero_168203) {
                defunc_0_f_res_168399 = (int16_t) 0;
                defunc_0_f_res_168400 = (int16_t) 0;
                defunc_0_f_res_168401 = (int16_t) 0;
                defunc_0_f_res_168402 = (int16_t) 0;
            } else {
                int16_t last_res_168403 = ((int16_t *) mem_180806)[tmp_168245];
                int16_t last_res_168404 = ((int16_t *) mem_180808)[tmp_168245];
                int16_t last_res_168405 = ((int16_t *) mem_180810)[tmp_168245];
                int16_t last_res_168406 = ((int16_t *) mem_180812)[tmp_168245];
                
                defunc_0_f_res_168399 = last_res_168403;
                defunc_0_f_res_168400 = last_res_168404;
                defunc_0_f_res_168401 = last_res_168405;
                defunc_0_f_res_168402 = last_res_168406;
            }
            for (int64_t write_iter_180420 = 0; write_iter_180420 < i16_res_168202; write_iter_180420++) {
                int16_t write_iv_180423 = ((int16_t *) mem_180814)[write_iter_180420];
                int16_t write_iv_180424 = ((int16_t *) mem_180806)[write_iter_180420];
                int16_t write_iv_180425 = ((int16_t *) mem_180808)[write_iter_180420];
                int16_t write_iv_180426 = ((int16_t *) mem_180810)[write_iter_180420];
                int16_t write_iv_180427 = ((int16_t *) mem_180812)[write_iter_180420];
                int64_t new_index_180593 = write_iter_180420 + binop_x_180596;
                int16_t write_iv_180428 = ((int16_t *) mem_180699)[new_index_180593];
                int64_t write_iv_180429 = ((int64_t *) mem_180701)[new_index_180593];
                int64_t defunc_0_f_res_178310;
                
                if (futrts_lifted_f_9090(ctx, &defunc_0_f_res_178310, defunc_0_f_res_168399, defunc_0_f_res_168400, defunc_0_f_res_168401, write_iv_180423, write_iv_180424, write_iv_180425, write_iv_180426, write_iv_180427) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178310) && slt64(defunc_0_f_res_178310, i16_res_168202)) {
                    ((int16_t *) mem_180775)[i_180444 * i16_res_168202 + defunc_0_f_res_178310] = write_iv_180428;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178310) && slt64(defunc_0_f_res_178310, i16_res_168202)) {
                    ((int64_t *) mem_180778)[i_180444 * i16_res_168202 + defunc_0_f_res_178310] = write_iv_180429;
                }
            }
            ((int16_t *) mem_180857)[(int64_t) 0] = defunc_0_f_res_168399;
            ((int16_t *) mem_180857)[(int64_t) 1] = defunc_0_f_res_168400;
            ((int16_t *) mem_180857)[(int64_t) 2] = defunc_0_f_res_168401;
            ((int16_t *) mem_180857)[(int64_t) 3] = defunc_0_f_res_168402;
            for (int64_t i_180434 = 0; i_180434 < (int64_t) 4; i_180434++) {
                int16_t eta_p_168421 = ((int16_t *) mem_180857)[i_180434];
                int64_t i16_res_168422 = sext_i16_i64(eta_p_168421);
                
                ((int64_t *) mem_180858)[i_180434] = i16_res_168422;
            }
            
            int16_t tmp_168423 = add16(defunc_0_f_res_168399, defunc_0_f_res_168400);
            int16_t tmp_168424 = add16(defunc_0_f_res_168401, tmp_168423);
            
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168399;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 2] = tmp_168423;
            ((int16_t *) mem_180784)[i_180444 * (int64_t) 4 + (int64_t) 3] = tmp_168424;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180781, i_180444 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180858, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180456;
        int64_t scanacc_180452 = (int64_t) 0;
        
        for (int64_t i_180454 = 0; i_180454 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180454++) {
            int64_t new_index_180571 = squot64(i_180454, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            int64_t binop_y_180573 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * new_index_180571;
            int64_t new_index_180574 = i_180454 - binop_y_180573;
            bool index_concat_cmp_180576 = sle64(n_blocks_168206, new_index_180574);
            int64_t index_concat_branch_180580;
            
            if (index_concat_cmp_180576) {
                int64_t index_concat_180578 = ((int64_t *) mem_180765)[new_index_180571];
                
                index_concat_branch_180580 = index_concat_180578;
            } else {
                int64_t index_concat_180579 = ((int64_t *) mem_180781)[new_index_180574 * (int64_t) 4 + new_index_180571];
                
                index_concat_branch_180580 = index_concat_180579;
            }
            
            int64_t defunc_0_op_res_168436 = add64(scanacc_180452, index_concat_branch_180580);
            
            ((int64_t *) mem_180883)[i_180454] = defunc_0_op_res_168436;
            
            int64_t scanacc_tmp_182144 = defunc_0_op_res_168436;
            
            scanacc_180452 = scanacc_tmp_182144;
        }
        discard_180456 = scanacc_180452;
        for (int64_t i_180459 = 0; i_180459 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217; i_180459++) {
            int64_t zv_lhs_168439 = add64((int64_t) -1, i_180459);
            int64_t tmp_168440 = smod64(zv_lhs_168439, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168217);
            int64_t lifted_lambda_res_168441 = ((int64_t *) mem_180883)[tmp_168440];
            
            ((int64_t *) mem_180891)[i_180459] = lifted_lambda_res_168441;
        }
        ((int64_t *) mem_180891)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180461 = 0; write_iter_180461 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209; write_iter_180461++) {
            bool index_concat_cmp_180562 = sle64(arg_168208, write_iter_180461);
            int16_t index_concat_branch_178217;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_178407 = sub64(write_iter_180461, arg_168208);
                int16_t index_concat_178408 = ((int16_t *) mem_180751)[index_concat_i_178407];
                
                index_concat_branch_178217 = index_concat_178408;
            } else {
                int64_t new_index_178220 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_178221 = i16_res_168202 * new_index_178220;
                int64_t new_index_178222 = write_iter_180461 - binop_y_178221;
                int16_t index_concat_178223 = ((int16_t *) mem_180775)[new_index_178220 * i16_res_168202 + new_index_178222];
                
                index_concat_branch_178217 = index_concat_178223;
            }
            
            int32_t zlzb_rhs_178224;
            int32_t acc_178226 = 0;
            
            for (int32_t i_178225 = 0; i_178225 < 2; i_178225++) {
                int32_t get_bit_arg0_178227 = add32(blocked_radix_sort_step_arg1_168270, i_178225);
                int32_t defunc_0_get_bit_res_178228;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178228, get_bit_arg0_178227, index_concat_branch_178217) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178229 = get_bit_arg0_178227 == 15;
                int32_t defunc_0_get_bit_res_178230;
                
                if (cond_178229) {
                    int32_t defunc_0_get_bit_res_t_res_178409 = 1 ^ defunc_0_get_bit_res_178228;
                    
                    defunc_0_get_bit_res_178230 = defunc_0_get_bit_res_t_res_178409;
                } else {
                    defunc_0_get_bit_res_178230 = defunc_0_get_bit_res_178228;
                }
                
                int32_t zp_rhs_178232 = shl32(defunc_0_get_bit_res_178230, i_178225);
                int32_t loopres_178233 = add32(acc_178226, zp_rhs_178232);
                int32_t acc_tmp_182149 = loopres_178233;
                
                acc_178226 = acc_tmp_182149;
            }
            zlzb_rhs_178224 = acc_178226;
            
            int64_t i32_res_178234 = sext_i32_i64(zlzb_rhs_178224);
            int64_t block_idx_178235 = sdiv64(write_iter_180461, i16_res_168202);
            bool x_178236 = sle64((int64_t) 0, block_idx_178235);
            bool y_178237 = slt64(block_idx_178235, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216);
            bool bounds_check_178238 = x_178236 && y_178237;
            bool index_certs_178239;
            
            if (!bounds_check_178238) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178235, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178240 = sle64((int64_t) 0, i32_res_178234);
            bool y_178241 = slt64(i32_res_178234, (int64_t) 4);
            bool bounds_check_178242 = x_178240 && y_178241;
            bool index_certs_178243;
            
            if (!bounds_check_178242) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178234, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_180566;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180563 = sub64(write_iter_180461, arg_168208);
                int16_t index_concat_180564 = ((int16_t *) mem_180751)[index_concat_i_180563];
                
                index_concat_branch_180566 = index_concat_180564;
            } else {
                int64_t new_index_180588 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180590 = i16_res_168202 * new_index_180588;
                int64_t new_index_180591 = write_iter_180461 - binop_y_180590;
                int16_t index_concat_180565 = ((int16_t *) mem_180775)[new_index_180588 * i16_res_168202 + new_index_180591];
                
                index_concat_branch_180566 = index_concat_180565;
            }
            
            int64_t index_concat_branch_180560;
            
            if (index_concat_cmp_180562) {
                int64_t index_concat_i_180557 = sub64(write_iter_180461, arg_168208);
                int64_t index_concat_180558 = ((int64_t *) mem_180749)[index_concat_i_180557];
                
                index_concat_branch_180560 = index_concat_180558;
            } else {
                int64_t new_index_180584 = squot64(write_iter_180461, i16_res_168202);
                int64_t binop_y_180586 = i16_res_168202 * new_index_180584;
                int64_t new_index_180587 = write_iter_180461 - binop_y_180586;
                int64_t index_concat_180559 = ((int64_t *) mem_180778)[new_index_180584 * i16_res_168202 + new_index_180587];
                
                index_concat_branch_180560 = index_concat_180559;
            }
            
            int64_t binop_x_178244 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168216 * i32_res_178234;
            int64_t new_index_178245 = block_idx_178235 + binop_x_178244;
            int64_t new_offset_178246 = ((int64_t *) mem_180891)[new_index_178245];
            bool index_concat_cmp_178247 = sle64(n_blocks_168206, block_idx_178235);
            int16_t index_concat_branch_178248;
            
            if (index_concat_cmp_178247) {
                int16_t index_concat_178410 = ((int16_t *) mem_180772)[i32_res_178234];
                
                index_concat_branch_178248 = index_concat_178410;
            } else {
                int16_t index_concat_178250 = ((int16_t *) mem_180784)[block_idx_178235 * (int64_t) 4 + i32_res_178234];
                
                index_concat_branch_178248 = index_concat_178250;
            }
            
            int64_t i16_res_178251 = sext_i16_i64(index_concat_branch_178248);
            int64_t zp_lhs_178252 = mul64(i16_res_168202, block_idx_178235);
            int64_t old_offset_178253 = add64(i16_res_178251, zp_lhs_178252);
            int64_t zp_lhs_178254 = sub64(write_iter_180461, old_offset_178253);
            int64_t idx_178255 = add64(new_offset_178246, zp_lhs_178254);
            
            if (sle64((int64_t) 0, idx_178255) && slt64(idx_178255, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int16_t *) mem_180699)[idx_178255] = index_concat_branch_180566;
            }
            if (sle64((int64_t) 0, idx_178255) && slt64(idx_178255, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168209)) {
                ((int64_t *) mem_180701)[idx_178255] = index_concat_branch_180560;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180917, bytes_180916, "mem_180917")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180919, bytes_180918, "mem_180919")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180473 = 0; i_180473 < n_85410; i_180473++) {
        int64_t eta_p_168501 = ((int64_t *) mem_180701)[i_180473];
        bool x_168502 = sle64((int64_t) 0, eta_p_168501);
        bool y_168503 = slt64(eta_p_168501, n_85410);
        bool bounds_check_168504 = x_168502 && y_168503;
        bool index_certs_168505;
        
        if (!bounds_check_168504) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168501, "] out of bounds for array of shape [", (long long) n_85410, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168506 = ((int64_t *) ext_mem_180697.mem)[eta_p_168501];
        int16_t lifted_lambda_res_168507 = ((int16_t *) xs_mem_180696.mem)[eta_p_168501];
        
        ((int64_t *) mem_180917.mem)[i_180473] = lifted_lambda_res_168506;
        ((int16_t *) mem_180919.mem)[i_180473] = lifted_lambda_res_168507;
    }
    if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182110, &mem_180917, "mem_180917") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182111, &mem_180919, "mem_180919") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182817, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182818, &mem_out_182111, "mem_out_182111") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180699);
        free(mem_180701);
        free(mem_180709);
        free(mem_180711);
        free(mem_180713);
        free(mem_180715);
        free(mem_180717);
        free(mem_180749);
        free(mem_180751);
        free(mem_180764);
        free(mem_180765);
        free(mem_180772);
        free(mem_180775);
        free(mem_180778);
        free(mem_180781);
        free(mem_180784);
        free(mem_180806);
        free(mem_180808);
        free(mem_180810);
        free(mem_180812);
        free(mem_180814);
        free(mem_180857);
        free(mem_180858);
        free(mem_180883);
        free(mem_180891);
        if (memblock_unref(ctx, &mem_180919, "mem_180919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180917, "mem_180917") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180697, "ext_mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182111, "mem_out_182111") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182844, int32_t bit_83258, int16_t x_83259)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182110;
    int16_t i32_res_162975 = sext_i32_i16(bit_83258);
    int16_t zgzg_res_162978 = ashr16(x_83259, i32_res_162975);
    int16_t za_res_162983 = (int16_t) 1 & zgzg_res_162978;
    int32_t to_i32_res_162985 = sext_i16_i32(za_res_162983);
    
    prim_out_182110 = to_i32_res_162985;
    *out_prim_out_182844 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182845, int32_t bit_88475, int64_t x_88476)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182110;
    int64_t i32_res_162975 = sext_i32_i64(bit_88475);
    int64_t zgzg_res_162978 = ashr64(x_88476, i32_res_162975);
    int64_t za_res_162983 = (int64_t) 1 & zgzg_res_162978;
    int32_t to_i32_res_162985 = sext_i64_i32(za_res_162983);
    
    prim_out_182110 = to_i32_res_162985;
    *out_prim_out_182845 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182846, int64_t upper_bound_96157, int64_t n_96158)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    bool upper_bound_96159 = sle64((int64_t) 1, upper_bound_96157);
    bool assert_c_96161;
    
    if (!upper_bound_96159) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_96170 = slt64(upper_bound_96157, n_96158);
    bool d_96179;
    int64_t d_96180;
    bool loop_while_96181;
    int64_t d_96182;
    
    loop_while_96181 = cond_96170;
    d_96182 = (int64_t) 1;
    while (loop_while_96181) {
        int64_t loopres_96183 = add64((int64_t) 1, d_96182);
        bool zzero_96185 = loopres_96183 == (int64_t) 0;
        bool nonzzero_96186 = !zzero_96185;
        bool nonzzero_cert_96187;
        
        if (!nonzzero_96186) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_96188 = sdiv64(n_96158, loopres_96183);
        bool cond_96190 = slt64(upper_bound_96157, zg_lhs_96188);
        bool loop_cond_96191;
        
        if (cond_96190) {
            loop_cond_96191 = 1;
        } else {
            int64_t znze_lhs_96195 = smod64(n_96158, loopres_96183);
            bool loop_cond_f_res_96197 = znze_lhs_96195 == (int64_t) 0;
            bool loop_cond_f_res_96198 = !loop_cond_f_res_96197;
            
            loop_cond_96191 = loop_cond_f_res_96198;
        }
        
        bool loop_while_tmp_182111 = loop_cond_96191;
        int64_t d_tmp_182112 = loopres_96183;
        
        loop_while_96181 = loop_while_tmp_182111;
        d_96182 = d_tmp_182112;
    }
    d_96179 = loop_while_96181;
    d_96180 = d_96182;
    
    bool zzero_96200 = d_96180 == (int64_t) 0;
    bool nonzzero_96201 = !zzero_96200;
    bool nonzzero_cert_96202;
    
    if (!nonzzero_96201) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_96203 = sdiv64(n_96158, d_96180);
    
    prim_out_182110 = greatest_divisor_leq_than_res_96203;
    *out_prim_out_182846 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9128(struct futhark_context *ctx, struct memblock *mem_out_p_182847, struct memblock xs_mem_180696, int64_t n_82555, int64_t incr_82556)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t rng_82561 = add64(n_82555, incr_82556);
    bool bounds_invalid_upwards_82565 = slt64(rng_82561, incr_82556);
    bool valid_82570 = !bounds_invalid_upwards_82565;
    bool range_valid_c_82571;
    
    if (!valid_82570) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82556, "..<", (long long) rng_82561, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180697 = (int64_t) 8 * n_82555;
    
    if (memblock_alloc(ctx, &mem_180698, bytes_180697, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182111 = 0; i_182111 < n_82555; i_182111++) {
        int64_t x_182112 = incr_82556 + i_182111 * (int64_t) 1;
        
        ((int64_t *) mem_180698.mem)[i_182111] = x_182112;
    }
    if (memblock_set(ctx, &mem_out_182110, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182847, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9283(struct futhark_context *ctx, struct memblock *mem_out_p_182848, struct memblock xs_mem_180696, int64_t n_85435, int64_t incr_85436)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t rng_85441 = add64(n_85435, incr_85436);
    bool bounds_invalid_upwards_85445 = slt64(rng_85441, incr_85436);
    bool valid_85450 = !bounds_invalid_upwards_85445;
    bool range_valid_c_85451;
    
    if (!valid_85450) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85436, "..<", (long long) rng_85441, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180697 = (int64_t) 8 * n_85435;
    
    if (memblock_alloc(ctx, &mem_180698, bytes_180697, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182111 = 0; i_182111 < n_85435; i_182111++) {
        int64_t x_182112 = incr_85436 + i_182111 * (int64_t) 1;
        
        ((int64_t *) mem_180698.mem)[i_182111] = x_182112;
    }
    if (memblock_set(ctx, &mem_out_182110, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182848, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9393(struct futhark_context *ctx, struct memblock *mem_out_p_182849, struct memblock xs_mem_180696, int64_t n_88052, int64_t incr_88053)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t rng_88058 = add64(n_88052, incr_88053);
    bool bounds_invalid_upwards_88062 = slt64(rng_88058, incr_88053);
    bool valid_88067 = !bounds_invalid_upwards_88062;
    bool range_valid_c_88068;
    
    if (!valid_88067) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_88053, "..<", (long long) rng_88058, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180697 = (int64_t) 8 * n_88052;
    
    if (memblock_alloc(ctx, &mem_180698, bytes_180697, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182111 = 0; i_182111 < n_88052; i_182111++) {
        int64_t x_182112 = incr_88053 + i_182111 * (int64_t) 1;
        
        ((int64_t *) mem_180698.mem)[i_182111] = x_182112;
    }
    if (memblock_set(ctx, &mem_out_182110, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182849, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9493(struct futhark_context *ctx, struct memblock *mem_out_p_182850, struct memblock xs_mem_180696, int64_t n_90652, int64_t incr_90653)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t rng_90658 = add64(n_90652, incr_90653);
    bool bounds_invalid_upwards_90662 = slt64(rng_90658, incr_90653);
    bool valid_90667 = !bounds_invalid_upwards_90662;
    bool range_valid_c_90668;
    
    if (!valid_90667) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90653, "..<", (long long) rng_90658, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180697 = (int64_t) 8 * n_90652;
    
    if (memblock_alloc(ctx, &mem_180698, bytes_180697, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182111 = 0; i_182111 < n_90652; i_182111++) {
        int64_t x_182112 = incr_90653 + i_182111 * (int64_t) 1;
        
        ((int64_t *) mem_180698.mem)[i_182111] = x_182112;
    }
    if (memblock_set(ctx, &mem_out_182110, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182850, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9602(struct futhark_context *ctx, struct memblock *mem_out_p_182851, struct memblock xs_mem_180696, int64_t n_93403, int64_t incr_93404)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180698;
    
    mem_180698.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    int64_t rng_93409 = add64(n_93403, incr_93404);
    bool bounds_invalid_upwards_93413 = slt64(rng_93409, incr_93404);
    bool valid_93418 = !bounds_invalid_upwards_93413;
    bool range_valid_c_93419;
    
    if (!valid_93418) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93404, "..<", (long long) rng_93409, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180697 = (int64_t) 8 * n_93403;
    
    if (memblock_alloc(ctx, &mem_180698, bytes_180697, "mem_180698")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182111 = 0; i_182111 < n_93403; i_182111++) {
        int64_t x_182112 = incr_93404 + i_182111 * (int64_t) 1;
        
        ((int64_t *) mem_180698.mem)[i_182111] = x_182112;
    }
    if (memblock_set(ctx, &mem_out_182110, &mem_180698, "mem_180698") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182851, &mem_out_182110, "mem_out_182110") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180698, "mem_180698") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182110, "mem_out_182110") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9090(struct futhark_context *ctx, int64_t *out_prim_out_182852, int16_t na_82782, int16_t nb_82783, int16_t nc_82784, int16_t bin_82785, int16_t a_82786, int16_t b_82787, int16_t c_82788, int16_t d_82789)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    bool bool_arg0_82790 = bin_82785 == (int16_t) 0;
    int16_t bool_res_162975 = btoi_bool_i16(bool_arg0_82790);
    int16_t zp_rhs_82794 = mul16(a_82786, bool_res_162975);
    int16_t zp_lhs_82797 = add16((int16_t) -1, zp_rhs_82794);
    bool bool_arg0_82799 = slt16((int16_t) 0, bin_82785);
    int16_t bool_res_162977 = btoi_bool_i16(bool_arg0_82799);
    int16_t zp_rhs_82803 = mul16(na_82782, bool_res_162977);
    int16_t zp_lhs_82805 = add16(zp_lhs_82797, zp_rhs_82803);
    bool bool_arg0_82807 = bin_82785 == (int16_t) 1;
    int16_t bool_res_162979 = btoi_bool_i16(bool_arg0_82807);
    int16_t zp_rhs_82811 = mul16(b_82787, bool_res_162979);
    int16_t zp_lhs_82813 = add16(zp_lhs_82805, zp_rhs_82811);
    bool bool_arg0_82815 = slt16((int16_t) 1, bin_82785);
    int16_t bool_res_162981 = btoi_bool_i16(bool_arg0_82815);
    int16_t zp_rhs_82819 = mul16(nb_82783, bool_res_162981);
    int16_t zp_lhs_82821 = add16(zp_lhs_82813, zp_rhs_82819);
    bool bool_arg0_82823 = bin_82785 == (int16_t) 2;
    int16_t bool_res_162983 = btoi_bool_i16(bool_arg0_82823);
    int16_t zp_rhs_82827 = mul16(c_82788, bool_res_162983);
    int16_t zp_lhs_82829 = add16(zp_lhs_82821, zp_rhs_82827);
    bool bool_arg0_82831 = slt16((int16_t) 2, bin_82785);
    int16_t bool_res_162985 = btoi_bool_i16(bool_arg0_82831);
    int16_t zp_rhs_82835 = mul16(nc_82784, bool_res_162985);
    int16_t zp_lhs_82837 = add16(zp_lhs_82829, zp_rhs_82835);
    bool bool_arg0_82839 = bin_82785 == (int16_t) 3;
    int16_t bool_res_162987 = btoi_bool_i16(bool_arg0_82839);
    int16_t zp_rhs_82843 = mul16(d_82789, bool_res_162987);
    int16_t i16_arg0_82845 = add16(zp_lhs_82837, zp_rhs_82843);
    int64_t i16_res_162989 = sext_i16_i64(i16_arg0_82845);
    
    prim_out_182110 = i16_res_162989;
    *out_prim_out_182852 = prim_out_182110;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9089(struct futhark_context *ctx, int16_t *out_prim_out_182853, int16_t *out_prim_out_182854, int16_t *out_prim_out_182855, int16_t *out_prim_out_182856, int16_t x_82725)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_182110;
    int16_t prim_out_182111;
    int16_t prim_out_182112;
    int16_t prim_out_182113;
    bool bool_arg0_82726 = x_82725 == (int16_t) 0;
    int16_t bool_res_162975 = btoi_bool_i16(bool_arg0_82726);
    bool bool_arg0_82730 = x_82725 == (int16_t) 1;
    int16_t bool_res_162977 = btoi_bool_i16(bool_arg0_82730);
    bool bool_arg0_82734 = x_82725 == (int16_t) 2;
    int16_t bool_res_162979 = btoi_bool_i16(bool_arg0_82734);
    bool bool_arg0_82738 = x_82725 == (int16_t) 3;
    int16_t bool_res_162981 = btoi_bool_i16(bool_arg0_82738);
    
    prim_out_182110 = bool_res_162975;
    prim_out_182111 = bool_res_162977;
    prim_out_182112 = bool_res_162979;
    prim_out_182113 = bool_res_162981;
    *out_prim_out_182853 = prim_out_182110;
    *out_prim_out_182854 = prim_out_182111;
    *out_prim_out_182855 = prim_out_182112;
    *out_prim_out_182856 = prim_out_182113;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9066(struct futhark_context *ctx, int64_t *out_prim_out_182857, int64_t *out_prim_out_182858, int64_t *out_prim_out_182859, int64_t *out_prim_out_182860, int64_t *out_prim_out_182861, int64_t slo_96376, int64_t shi_96377, int64_t tlo_96378, int64_t thi_96379, int64_t count_96380)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182110;
    int64_t prim_out_182111;
    int64_t prim_out_182112;
    int64_t prim_out_182113;
    int64_t prim_out_182114;
    int64_t min_arg1_96383 = add64(slo_96376, count_96380);
    int64_t min_res_162976 = smin64(shi_96377, min_arg1_96383);
    int64_t min_arg1_96387 = add64(tlo_96378, count_96380);
    int64_t min_res_162979 = smin64(thi_96379, min_arg1_96387);
    int64_t zp_lhs_96391 = sub64(min_res_162976, slo_96376);
    int64_t zp_rhs_96393 = sub64(min_res_162979, tlo_96378);
    int64_t zm_lhs_96395 = add64(zp_lhs_96391, zp_rhs_96393);
    int64_t slack_96397 = sub64(zm_lhs_96395, count_96380);
    int64_t min_res_162982 = smin64(zp_lhs_96391, slack_96397);
    int64_t min_res_162985 = smin64(zp_rhs_96393, min_res_162982);
    int64_t max_arg1_96407 = sub64(min_res_162976, min_res_162985);
    int64_t max_res_162988 = smax64(slo_96376, max_arg1_96407);
    int64_t max_arg1_96411 = sub64(min_res_162979, min_res_162985);
    int64_t max_res_162991 = smax64(tlo_96378, max_arg1_96411);
    int64_t zm_rhs_96415 = sub64(max_res_162988, slo_96376);
    int64_t zm_lhs_96417 = sub64(count_96380, zm_rhs_96415);
    int64_t zm_rhs_96419 = sub64(max_res_162991, tlo_96378);
    int64_t count_96421 = sub64(zm_lhs_96417, zm_rhs_96419);
    
    prim_out_182110 = max_res_162988;
    prim_out_182111 = min_res_162976;
    prim_out_182112 = max_res_162991;
    prim_out_182113 = min_res_162979;
    prim_out_182114 = count_96421;
    *out_prim_out_182857 = prim_out_182110;
    *out_prim_out_182858 = prim_out_182111;
    *out_prim_out_182859 = prim_out_182112;
    *out_prim_out_182860 = prim_out_182113;
    *out_prim_out_182861 = prim_out_182114;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_110301 = (int64_t) 0;
    int64_t prim_out_182110 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180696;
    
    ks_mem_180696.references = NULL;
    ks_mem_180696 = in0->mem;
    n_110301 = in0->shape[0];
    if (!(n_110301 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_182110, ks_mem_180696, n_110301);
        if (ret == 0) {
            *out0 = prim_out_182110;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_110132 = (int64_t) 0;
    int64_t prim_out_182110 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180696;
    
    ks_mem_180696.references = NULL;
    ks_mem_180696 = in0->mem;
    n_110132 = in0->shape[0];
    if (!(n_110132 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_182110, ks_mem_180696, n_110132);
        if (ret == 0) {
            *out0 = prim_out_182110;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_109797 = (int64_t) 0;
    int64_t prim_out_182110 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180696;
    
    ks_mem_180696.references = NULL;
    ks_mem_180696 = in0->mem;
    n_109797 = in0->shape[0];
    if (!(n_109797 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_182110, ks_mem_180696, n_109797);
        if (ret == 0) {
            *out0 = prim_out_182110;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_109963 = (int64_t) 0;
    int64_t prim_out_182110 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180696;
    
    ks_mem_180696.references = NULL;
    ks_mem_180696 = in0->mem;
    n_109963 = in0->shape[0];
    if (!(n_109963 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_182110, ks_mem_180696, n_109963);
        if (ret == 0) {
            *out0 = prim_out_182110;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_109631 = (int64_t) 0;
    int64_t prim_out_182110 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180696;
    
    ks_mem_180696.references = NULL;
    ks_mem_180696 = in0->mem;
    n_109631 = in0->shape[0];
    if (!(n_109631 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_182110, ks_mem_180696, n_109631);
        if (ret == 0) {
            *out0 = prim_out_182110;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_107964 = (int64_t) 0;
    int64_t incr_107965 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_107965 = in0;
    xs_mem_180696 = in1->mem;
    n_107964 = in1->shape[0];
    if (!(n_107964 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_107964, incr_107965);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_107964;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_107964;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105620 = (int64_t) 0;
    int64_t incr_105621 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_105621 = in0;
    xs_mem_180696 = in1->mem;
    n_105620 = in1->shape[0];
    if (!(n_105620 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_105620, incr_105621);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_105620;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_105620;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_100933 = (int64_t) 0;
    int64_t incr_100934 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_100934 = in0;
    xs_mem_180696 = in1->mem;
    n_100933 = in1->shape[0];
    if (!(n_100933 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_100933, incr_100934);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_100933;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_100933;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_103276 = (int64_t) 0;
    int64_t incr_103277 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_103277 = in0;
    xs_mem_180696 = in1->mem;
    n_103276 = in1->shape[0];
    if (!(n_103276 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_103276, incr_103277);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_103276;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_103276;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98589 = (int64_t) 0;
    int64_t incr_98590 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_98590 = in0;
    xs_mem_180696 = in1->mem;
    n_98589 = in1->shape[0];
    if (!(n_98589 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_98589, incr_98590);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_98589;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_98589;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_162940 = (int64_t) 0;
    int64_t nb_162941 = (int64_t) 0;
    int64_t window_sizze_162942 = (int64_t) 0;
    int64_t threads_162943 = (int64_t) 0;
    bool inParallel_162946 = 0;
    int64_t prim_out_182113 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock b_list_mem_180697;
    
    b_list_mem_180697.references = NULL;
    
    struct memblock a_list_mem_180696;
    
    a_list_mem_180696.references = NULL;
    window_sizze_162942 = in0;
    threads_162943 = in1;
    a_list_mem_180696 = in2->mem;
    na_162940 = in2->shape[0];
    b_list_mem_180697 = in3->mem;
    nb_162941 = in3->shape[0];
    inParallel_162946 = in4;
    if (!(na_162940 == in2->shape[0] && nb_162941 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_182110, &mem_out_182111, &mem_out_182112, &prim_out_182113, a_list_mem_180696, b_list_mem_180697, na_162940, nb_162941, window_sizze_162942, threads_162943, inParallel_162946);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = prim_out_182113;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = prim_out_182113;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182112;
            (*out0)->v2->shape[0] = prim_out_182113;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_152417 = (int64_t) 0;
    int64_t nb_152418 = (int64_t) 0;
    int64_t window_sizze_152419 = (int64_t) 0;
    int64_t threads_152420 = (int64_t) 0;
    bool inParallel_152423 = 0;
    int64_t prim_out_182113 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock b_list_mem_180697;
    
    b_list_mem_180697.references = NULL;
    
    struct memblock a_list_mem_180696;
    
    a_list_mem_180696.references = NULL;
    window_sizze_152419 = in0;
    threads_152420 = in1;
    a_list_mem_180696 = in2->mem;
    na_152417 = in2->shape[0];
    b_list_mem_180697 = in3->mem;
    nb_152418 = in3->shape[0];
    inParallel_152423 = in4;
    if (!(na_152417 == in2->shape[0] && nb_152418 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_182110, &mem_out_182111, &mem_out_182112, &prim_out_182113, a_list_mem_180696, b_list_mem_180697, na_152417, nb_152418, window_sizze_152419, threads_152420, inParallel_152423);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = prim_out_182113;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = prim_out_182113;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182112;
            (*out0)->v2->shape[0] = prim_out_182113;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_131371 = (int64_t) 0;
    int64_t nb_131372 = (int64_t) 0;
    int64_t window_sizze_131373 = (int64_t) 0;
    int64_t threads_131374 = (int64_t) 0;
    bool inParallel_131377 = 0;
    int64_t prim_out_182113 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock b_list_mem_180697;
    
    b_list_mem_180697.references = NULL;
    
    struct memblock a_list_mem_180696;
    
    a_list_mem_180696.references = NULL;
    window_sizze_131373 = in0;
    threads_131374 = in1;
    a_list_mem_180696 = in2->mem;
    na_131371 = in2->shape[0];
    b_list_mem_180697 = in3->mem;
    nb_131372 = in3->shape[0];
    inParallel_131377 = in4;
    if (!(na_131371 == in2->shape[0] && nb_131372 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_182110, &mem_out_182111, &mem_out_182112, &prim_out_182113, a_list_mem_180696, b_list_mem_180697, na_131371, nb_131372, window_sizze_131373, threads_131374, inParallel_131377);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = prim_out_182113;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = prim_out_182113;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182112;
            (*out0)->v2->shape[0] = prim_out_182113;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_141894 = (int64_t) 0;
    int64_t nb_141895 = (int64_t) 0;
    int64_t window_sizze_141896 = (int64_t) 0;
    int64_t threads_141897 = (int64_t) 0;
    bool inParallel_141900 = 0;
    int64_t prim_out_182113 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock b_list_mem_180697;
    
    b_list_mem_180697.references = NULL;
    
    struct memblock a_list_mem_180696;
    
    a_list_mem_180696.references = NULL;
    window_sizze_141896 = in0;
    threads_141897 = in1;
    a_list_mem_180696 = in2->mem;
    na_141894 = in2->shape[0];
    b_list_mem_180697 = in3->mem;
    nb_141895 = in3->shape[0];
    inParallel_141900 = in4;
    if (!(na_141894 == in2->shape[0] && nb_141895 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_182110, &mem_out_182111, &mem_out_182112, &prim_out_182113, a_list_mem_180696, b_list_mem_180697, na_141894, nb_141895, window_sizze_141896, threads_141897, inParallel_141900);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = prim_out_182113;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = prim_out_182113;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182112;
            (*out0)->v2->shape[0] = prim_out_182113;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_120848 = (int64_t) 0;
    int64_t nb_120849 = (int64_t) 0;
    int64_t window_sizze_120850 = (int64_t) 0;
    int64_t threads_120851 = (int64_t) 0;
    bool inParallel_120854 = 0;
    int64_t prim_out_182113 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182112;
    
    mem_out_182112.references = NULL;
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock b_list_mem_180697;
    
    b_list_mem_180697.references = NULL;
    
    struct memblock a_list_mem_180696;
    
    a_list_mem_180696.references = NULL;
    window_sizze_120850 = in0;
    threads_120851 = in1;
    a_list_mem_180696 = in2->mem;
    na_120848 = in2->shape[0];
    b_list_mem_180697 = in3->mem;
    nb_120849 = in3->shape[0];
    inParallel_120854 = in4;
    if (!(na_120848 == in2->shape[0] && nb_120849 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_182110, &mem_out_182111, &mem_out_182112, &prim_out_182113, a_list_mem_180696, b_list_mem_180697, na_120848, nb_120849, window_sizze_120850, threads_120851, inParallel_120854);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = prim_out_182113;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = prim_out_182113;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182112;
            (*out0)->v2->shape[0] = prim_out_182113;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_109462 = (int64_t) 0;
    int64_t incr_109463 = (int64_t) 0;
    int64_t block_sizze_109464 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock ys_mem_180697;
    
    ys_mem_180697.references = NULL;
    
    struct memblock is_mem_180696;
    
    is_mem_180696.references = NULL;
    incr_109463 = in0;
    block_sizze_109464 = in1;
    is_mem_180696 = in2->mem;
    n_109462 = in2->shape[0];
    ys_mem_180697 = in3->mem;
    n_109462 = in3->shape[0];
    if (!(n_109462 == in2->shape[0] && n_109462 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_182110, is_mem_180696, ys_mem_180697, n_109462, incr_109463, block_sizze_109464);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_182110;
            (*out0)->shape[0] = n_109462;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_109162 = (int64_t) 0;
    int64_t incr_109163 = (int64_t) 0;
    int64_t block_sizze_109164 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock ys_mem_180697;
    
    ys_mem_180697.references = NULL;
    
    struct memblock is_mem_180696;
    
    is_mem_180696.references = NULL;
    incr_109163 = in0;
    block_sizze_109164 = in1;
    is_mem_180696 = in2->mem;
    n_109162 = in2->shape[0];
    ys_mem_180697 = in3->mem;
    n_109162 = in3->shape[0];
    if (!(n_109162 == in2->shape[0] && n_109162 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_182110, is_mem_180696, ys_mem_180697, n_109162, incr_109163, block_sizze_109164);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_182110;
            (*out0)->shape[0] = n_109162;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108566 = (int64_t) 0;
    int64_t incr_108567 = (int64_t) 0;
    int64_t block_sizze_108568 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock ys_mem_180697;
    
    ys_mem_180697.references = NULL;
    
    struct memblock is_mem_180696;
    
    is_mem_180696.references = NULL;
    incr_108567 = in0;
    block_sizze_108568 = in1;
    is_mem_180696 = in2->mem;
    n_108566 = in2->shape[0];
    ys_mem_180697 = in3->mem;
    n_108566 = in3->shape[0];
    if (!(n_108566 == in2->shape[0] && n_108566 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_182110, is_mem_180696, ys_mem_180697, n_108566, incr_108567, block_sizze_108568);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_182110;
            (*out0)->shape[0] = n_108566;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_108862 = (int64_t) 0;
    int64_t incr_108863 = (int64_t) 0;
    int64_t block_sizze_108864 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock ys_mem_180697;
    
    ys_mem_180697.references = NULL;
    
    struct memblock is_mem_180696;
    
    is_mem_180696.references = NULL;
    incr_108863 = in0;
    block_sizze_108864 = in1;
    is_mem_180696 = in2->mem;
    n_108862 = in2->shape[0];
    ys_mem_180697 = in3->mem;
    n_108862 = in3->shape[0];
    if (!(n_108862 == in2->shape[0] && n_108862 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_182110, is_mem_180696, ys_mem_180697, n_108862, incr_108863, block_sizze_108864);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_182110;
            (*out0)->shape[0] = n_108862;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_108266 = (int64_t) 0;
    int64_t incr_108267 = (int64_t) 0;
    int64_t block_sizze_108268 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock ys_mem_180697;
    
    ys_mem_180697.references = NULL;
    
    struct memblock is_mem_180696;
    
    is_mem_180696.references = NULL;
    incr_108267 = in0;
    block_sizze_108268 = in1;
    is_mem_180696 = in2->mem;
    n_108266 = in2->shape[0];
    ys_mem_180697 = in3->mem;
    n_108266 = in3->shape[0];
    if (!(n_108266 == in2->shape[0] && n_108266 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_182110, is_mem_180696, ys_mem_180697, n_108266, incr_108267, block_sizze_108268);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_182110;
            (*out0)->shape[0] = n_108266;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_96133 = (int64_t) 0;
    int64_t incr_96134 = (int64_t) 0;
    int16_t block_sizze_96135 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_96134 = in0;
    block_sizze_96135 = in1;
    xs_mem_180696 = in2->mem;
    n_96133 = in2->shape[0];
    if (!(n_96133 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_96133, incr_96134, block_sizze_96135);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_96133;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_96133;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_93378 = (int64_t) 0;
    int64_t incr_93379 = (int64_t) 0;
    int16_t block_sizze_93380 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_93379 = in0;
    block_sizze_93380 = in1;
    xs_mem_180696 = in2->mem;
    n_93378 = in2->shape[0];
    if (!(n_93378 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_93378, incr_93379, block_sizze_93380);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_93378;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_93378;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_88027 = (int64_t) 0;
    int64_t incr_88028 = (int64_t) 0;
    int16_t block_sizze_88029 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_88028 = in0;
    block_sizze_88029 = in1;
    xs_mem_180696 = in2->mem;
    n_88027 = in2->shape[0];
    if (!(n_88027 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_88027, incr_88028, block_sizze_88029);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_88027;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_88027;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90627 = (int64_t) 0;
    int64_t incr_90628 = (int64_t) 0;
    int16_t block_sizze_90629 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_90628 = in0;
    block_sizze_90629 = in1;
    xs_mem_180696 = in2->mem;
    n_90627 = in2->shape[0];
    if (!(n_90627 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_90627, incr_90628, block_sizze_90629);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_90627;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_90627;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85410 = (int64_t) 0;
    int64_t incr_85411 = (int64_t) 0;
    int16_t block_sizze_85412 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182111;
    
    mem_out_182111.references = NULL;
    
    struct memblock mem_out_182110;
    
    mem_out_182110.references = NULL;
    
    struct memblock xs_mem_180696;
    
    xs_mem_180696.references = NULL;
    incr_85411 = in0;
    block_sizze_85412 = in1;
    xs_mem_180696 = in2->mem;
    n_85410 = in2->shape[0];
    if (!(n_85410 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_182110, &mem_out_182111, xs_mem_180696, n_85410, incr_85411, block_sizze_85412);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182110;
            (*out0)->v0->shape[0] = n_85410;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182111;
            (*out0)->v1->shape[0] = n_85410;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
